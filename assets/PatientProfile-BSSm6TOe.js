import{d as P,a as ct,r as z,e as v,f as c,k as o,l as n,J as s,Q as u,K as y,u as ue,X as J,ba as dt,N as Z,F as B,R as L,f3 as ut,H as a,O as k,aj as se,$ as R,a0 as Je,a1 as Ze,P as Y,ah as $,b2 as he,G as X,E as Q,ai as _e,I as q,a4 as K,i as oe,m as w,v as ae,a5 as x,a6 as ie,bi as fe,al as ge,ak as ve,aQ as be,ct as ye,aR as De,aP as Se,aS as Ce,a7 as we,ck as Ve,M as ke,L as mt,b9 as pt,a3 as ht,bf as _t,aU as Ye,bl as ft,db as gt,dc as vt,dd as bt,de as yt,cW as Dt,dL as St,bG as Ct,p as wt}from"./vendor-Cz4Jol8q.js";import{k as b,_ as O,t as j,j as le,B as Ie,a1 as Vt,S as M,H as A,u as ee,l as H,m as V,J as $e,o as kt,aQ as W,K as Xe,Q as F,cm as It,b7 as $t,N as U,bV as At,v as Nt,cn as Ke,P as et,V as Mt,T as Bt,bG as Pt,aZ as Tt,a9 as Ot,aL as Et,aJ as Ft,aV as Gt}from"./index-CabMHQ-Y.js";import{D as Lt}from"./DemographicBar-Dj25iMVP.js";import{S as Ut}from"./SaveProgressModal-D61F9o62.js";import{S as Rt}from"./Stepper-D0fGz-ON.js";import{T as Ht}from"./NextAppointment-ChawTGsD.js";import{l as G}from"./lodash-Dt8AsbQm.js";import{a as xe,D as Wt}from"./drug_prescription_service-CmbQ-mqD.js";import zt from"./WeightHeightChart-B2TJaqT5.js";import{w as jt,O as Qt}from"./weightAndHeight-HOwVn5O-.js";import{c as Ae}from"./customDatePicker-YyaZhT60.js";import{i as ne,s as tt,j as qt,A as Kt,n as xt}from"./vaccines_service-BRNkqvT4.js";import{I as Jt}from"./barcode-qrcode-reader-BXFbJS97.js";import{S as nt}from"./stock_service-Dxo_Buc6.js";import{_ as Zt,u as me}from"./SetRelationship.vue_vue_type_script_lang-B-FoMGma.js";import{B as st}from"./BasicForm-BmuKi20D.js";import{v as Yt}from"./group_validation-DdODL3tf.js";import{u as Xt}from"./AdministerOtherVaccinesStore-BwJ79shK.js";import{_ as en}from"./usePatientProfile-DftxnnWP.js";import{O as tn}from"./Outcome-Buf2P5Pg.js";import"./apexcharts-Qw5Ia0w3.js";import"./OPDOutcome-Cl9CUIKz.js";import"./patient_complaints_service-sdnQfMI-.js";import"./DashBox-Dh0Sx6OS.js";import"./formatServerData-CnsQFp8-.js";import"./VitalsMixin.vue_vue_type_script_lang-B2F1LGS2.js";import"./TreatmentPlan-1FVp7ZBb.js";import"./previousDiagnosis-zg4sm3hz.js";import"./FeatusModal-BgrIXM5I.js";import"./BasicCard-DPmzCZMf.js";import"./PastObstreticHistoryStore-OGgcssRK.js";import"./UpcomingFeature-Dp9238P0.js";import"./LabOrdersList-DkqYnnen.js";import"./DateInputField-Dch5mdJF.js";import"./ncd_appointment_service-oTlDfgRI.js";import"./chartjs-bH9YTKO1.js";import"./sms_service-Csh-XLL7.js";import"./EIRreportsStore-vAKRB_GI.js";import"./Export-D6XsGBsK.js";import"./Registration-6srFqH3W.js";import"./useLocation-B0gZOQq1.js";const nn={class:"flex flex-col items-center justify-center mt-6"},sn={class:"phone mt-6"},on={class:"content"},an={class:"overlay"},rn={style:{"margin-top":"20px"}},ln=P({__name:"QRCodeReader",emits:["scanresult"],setup(e,{emit:t}){ct(async()=>{f()});const i=z(void 0),r=z(!1);function d(_){i.value=_,i.value!=null&&(b().setTempScannedBatchNumber(i.value),g(i.value))}function D(_){r.value=_}const l=z(null);function f(){var _;(_=l.value)==null||_.onCanPlay()}function p(){L.dismiss()}const h=t;function g(_){h("scanresult",_),p()}return(_,m)=>(c(),v(B,null,[o("div",nn,[o("div",sn,[n(ue(J),null,{default:s(()=>[u(y(i.value),1)]),_:1}),o("div",on,[o("div",an,[n(ue(Jt),{ref_key:"refCamera",ref:l,capture:"shoot","show-on-stream":"",onOnloading:D,onResult:d},null,512),m[0]||(m[0]=dt('<div class="focus-frame" data-v-e0d52d85></div><div class="dark-overlay top" data-v-e0d52d85></div><div class="dark-overlay bottom" data-v-e0d52d85></div><div class="dark-overlay left" data-v-e0d52d85></div><div class="dark-overlay right" data-v-e0d52d85></div>',5))])])])]),o("div",rn,[n(ue(Z),{onClick:p,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"99%"}},{default:s(()=>m[1]||(m[1]=[u(" Cancel ")])),_:1,__:[1]})])],64))}}),it=O(ln,[["__scopeId","data-v-e0d52d85"]]),cn=P({name:"MyComponent",components:{IonAlert:ut},data(){return{isOpen:!1,alertButtons:[{text:"Close",role:"cancel",cssClass:"alert-danger-button"}],messageContent:"No available batches/lot numbers"}},methods:{setOpen(e){this.isOpen=e},handleDismiss(){this.setOpen(!1),this.$emit("alertClosed"),this.dismiss()},dismiss(){L.dismiss()}},mounted(){this.setOpen(!0)}});function dn(e,t,i,r,d,D){const l=a("ion-alert");return c(),k(l,{"is-open":e.isOpen,header:"Please update stock","sub-header":"",message:e.messageContent,buttons:e.alertButtons,"css-class":"my-custom-alert",onDidDismiss:e.handleDismiss},null,8,["is-open","message","buttons","onDidDismiss"])}const re=O(cn,[["render",dn],["__scopeId","data-v-cf655518"]]),un=P({components:{IonRadioGroup:Ze,IonRadio:Je,IonItem:R,IonList:se},props:{action:{type:Function,required:!0},retro:{type:Boolean,required:!0}},async mounted(){this.loadCurrentSelectedDrug()},watch:{retro:{handler(){this.checkToShow()},deep:!0}},data(){return{lotNumbers:[],selectedOption:{}}},methods:{compareWith(e,t){return e.id===t.id},handleChange(e){this.selectedOption=e.detail.value},checkIfSelected(){return G.has(this.selectedOption,"lotNumber")||this.checkDrugNameInt()==!0?!0:(j("Select a batch number!"),!1)},performAction(){this.checkIfSelected()==!0&&this.$emit("actionTriggered",this.selectedOption)},async loadCurrentSelectedDrug(){try{const t=b().getCurrentSelectedDrug();await this.formBatchList(t.drug.drug_id)}catch(e){}},async formBatchList(e){try{const i=b().getLotNumberData();i.length==0&&this.$emit("emptyList",""),i.forEach(r=>{const d={id:r.id,lotNumber:r.batch_number};this.lotNumbers.push(d)}),this.checkToShow()}catch(t){}},addUnkownLotNumberOption(){const t=b().getCurrentSelectedDrug();this.lotNumbers.push({id:t.drug.drug_id,lotNumber:"Unknown"})},checkToShow(){this.$props.retro==!0&&this.addUnkownLotNumberOption(),this.checkDrugNameInt()},checkDrugNameInt(){const t=b().getCurrentSelectedDrug();return ne(t.drug)==!0?(this.lotNumbers=[],this.lotNumbers.push({id:t.drug.drug_id,lotNumber:"Unknown"}),!0):!1}}});function mn(e,t,i,r,d,D){const l=a("ion-radio"),f=a("ion-item"),p=a("ion-radio-group"),h=a("ion-list"),g=a("ion-card"),_=a("ion-row");return c(),k(_,null,{default:s(()=>[n(g,{class:"shadowless-card",style:{width:"100%",padding:"0"}},{default:s(()=>[n(h,null,{default:s(()=>[n(p,{compareWith:e.compareWith,onIonChange:t[0]||(t[0]=m=>e.handleChange(m)),value:"start"},{default:s(()=>[(c(!0),v(B,null,Y(e.lotNumbers,m=>(c(),k(f,{key:m.id},{default:s(()=>[n(l,{value:m},{default:s(()=>[u(y(m.lotNumber),1)]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["compareWith"])]),_:1})]),_:1})]),_:1})}const ot=O(un,[["render",mn],["__scopeId","data-v-039b66ba"]]),pn=P({components:{IonContent:K,IonHeader:q,IonItem:R,IonList:se,IonMenu:_e,IonTitle:Q,IonToolbar:X,IonInput:he,BasicInputField:Ie,PreviousVitals:le,customDatePicker:Ae,lotNumberList:ot,alert:re},data(){return{iconsContent:H,showPD:!1,showDateBtns:!0,vaccineDate:"",batchNumber:"",drugName:"",currentDrug:"",is_batch_number_valid:!1,batch_number_error_message:"Enter a valid batch number",full_name:"",sessionDate:A.toStandardHisDisplayFormat(M.getSessionDate()),InnerActionBtnPropeties:{name:"Scan",show:!0,fn:()=>{V(it,{class:"otherVitalsModal qr_code_modal"},!1)},icon:"",show_icon:!1},selected_date_:"",is_a_vaccine:!0}},computed:{...$(b,["tempScannedBatchNumber"]),...$(ee,["patient"])},setup(){const e=z(null);return{childComponentRef:e,triggerChildAction:()=>{e.value&&e.value.performAction()}}},async mounted(){this.loadCurrentSelectedDrug(),this.displayUserNames();const e=b();this.showPD=e.isVaccinePassed(),this.showDateBtns=!this.showPD},props:{customSchedule:{type:[],default:[]}},watch:{batchNumber:{handler(){this.validateBatchNumber()},deep:!0},tempScannedBatchNumber:{handler(){this.tempScannedBatchNumber!=null&&(this.batchNumber=this.tempScannedBatchNumber.text,this.validateBatchNumber())}}},methods:{loadCurrentSelectedDrug(){const e=b();this.currentDrug=e.getCurrentSelectedDrug(),this.drugName=this.currentDrug.drug.drug_name,this.batchNumber=this.currentDrug.drug.vaccine_batch_number?this.currentDrug.drug.vaccine_batch_number:"",ne(this.currentDrug.drug)==!0&&(this.is_a_vaccine=!1,this.batchNumber="unknown")},showCPD(){this.showPD=!0,this.showDateBtns=!1},dismiss(){L.dismiss()},updateDate(e){this.vaccineDate=A.toStandardHisFormat(e)},saveBatchWithTodayDate(){let e=M.getSessionDate();this.saveDta(e)},saveBatch(){let e;G.isEmpty(this.vaccineDate)==!0?e=M.getSessionDate():e=this.vaccineDate,this.saveDta(e)},updateBatchNumber(e){var i;const t=e.target.value;this.batchNumber=t||((i=this.tempScannedBatchNumber)==null?void 0:i.text)||""},async ActionTriggered(e){const t={batch_number:e.lotNumber,date_administered:this.selected_date_,drug_id:this.currentDrug.drug.drug_id,drug_:this.currentDrug},i=b();i.setAdministeredVaccine(t),await tt(this.patient),i.setTempScannedBatchNumber(null),this.dismiss()},saveDta(e){this.selected_date_=e,this.triggerChildAction()},isAlphaNumeric(e){return/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/.test(e)},validateBatchNumber(){this.isAlphaNumeric(this.batchNumber)==!0&&(this.is_batch_number_valid=!1),this.isAlphaNumeric(this.batchNumber)==!1&&(this.is_batch_number_valid=!0)},updateBatchNumberByPassValue(e){this.batchNumber=e},displayUserNames(){const t=Vt().getUser(),i=t.person.names[0].given_name,r=t.person.names[0].family_name;this.full_name=i+" "+r},childAction(){},ShowAlert(){}}}),hn={class:"modal_wrapper"},_n={class:"lbl-ct"},fn={class:"client_admi"},gn={class:"client_admin_sub_x"},vn={class:"btnContent"},bn={key:0,class:"saveBtn"},yn={key:1,class:"saveBtn"};function Dn(e,t,i,r,d,D){const l=a("ion-col"),f=a("ion-label"),p=a("ion-row"),h=a("lotNumberList"),g=a("customDatePicker"),_=a("ion-icon"),m=a("ion-button");return c(),v("div",hn,[n(p,{style:{"margin-top":"10px"}},{default:s(()=>[n(l,{style:{"margin-left":"-3px"}},{default:s(()=>t[0]||(t[0]=[o("div",{class:"om"},"Administer Vaccine",-1)])),_:1,__:[0]}),n(l,{size:"6",style:{"text-align":"right"}},{default:s(()=>[n(f,{class:"lbl-tl",style:{"font-size":"13"}},{default:s(()=>[t[1]||(t[1]=u(" Todays Date: ")),o("span",_n,y(e.sessionDate),1)]),_:1,__:[1]})]),_:1})]),_:1}),n(p,null,{default:s(()=>[n(f,{style:{"font-weight":"600px","font-size":"20px",margin:"10px","margin-left":"0px"}},{default:s(()=>[u(y(e.drugName),1)]),_:1})]),_:1}),oe(n(p,null,{default:s(()=>[n(f,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:s(()=>t[2]||(t[2]=[u("Select Batch number"),o("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[2]})]),_:1},512),[[ae,e.is_a_vaccine]]),oe(o("div",null,[n(h,{action:e.childAction,retro:e.showPD,ref:"childComponentRef",onActionTriggered:e.ActionTriggered,onEmptyList:e.ShowAlert},null,8,["action","retro","onActionTriggered","onEmptyList"])],512),[[ae,e.is_a_vaccine]]),o("div",fn,[t[3]||(t[3]=o("span",{class:"client_admi_sub"},"Vaccination done by: ",-1)),o("span",gn,y(e.full_name),1)]),e.showPD?(c(),k(g,{key:0,onDateChange:e.updateDate},null,8,["onDateChange"])):w("",!0),o("div",vn,[e.showDateBtns?(c(),v("div",bn,[o("div",null,[n(m,{onClick:e.saveBatchWithTodayDate,class:"btnText",fill:"solid"},{default:s(()=>[t[4]||(t[4]=u(" Done today ")),n(_,{slot:"end",size:"small",icon:e.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1,__:[4]},8,["onClick"])]),t[6]||(t[6]=o("div",{style:{"margin-bottom":"20px"}},null,-1)),o("div",null,[n(m,{class:"btnText",fill:"solid",onClick:e.showCPD},{default:s(()=>[t[5]||(t[5]=u(" Done earlier ")),n(_,{slot:"end",size:"small",icon:e.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1,__:[5]},8,["onClick"])])])):w("",!0),e.showDateBtns?w("",!0):(c(),v("div",yn,[n(p,{"justify-content-between":""},{default:s(()=>[n(l,{size:"auto"},{default:s(()=>[n(m,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:s(()=>t[7]||(t[7]=[u(" Cancel ")])),_:1,__:[7]},8,["onClick"])]),_:1}),n(l,{size:"auto",class:"ion-text-end",style:{"margin-left":"auto"}},{default:s(()=>[n(m,{onClick:e.saveBatch,class:"btnText",fill:"solid",style:{width:"130px"}},{default:s(()=>t[8]||(t[8]=[u(" Save ")])),_:1,__:[8]},8,["onClick"])]),_:1})]),_:1})]))])])}const pe=O(pn,[["render",Dn],["__scopeId","data-v-58aa351e"]]),Sn=P({components:{IonRow:x,IonItem:R,IonList:se,IonRadio:Je,IonRadioGroup:Ze},data(){return{reasons:[{id:1,name:"Mistake/ Wrong Entry",type:"Mistake/ Wrong Entry"},{id:2,name:"Duplicate",type:"Duplicate"},{id:3,name:"System Error",type:"System Error"}],selectedOption:{}}},computed:{...$(ee,["patient"])},async mounted(){},props:{},methods:{compareWith(e,t){return e.id===t.id},handleChange(e){this.selectedOption=e.detail.value},dismiss(){try{L.dismiss()}catch(e){}},checkIfSelected(){return G.has(this.selectedOption,"name")==!0?!0:(j("Select a reason!"),!1)},async voidVaccine1(){if(this.checkIfSelected()==!0)try{const e=b(),t=e.getVaccineToBeVoided();await qt(this.patient,t,this.selectedOption.name),$e("Vaccine was successfully voided!"),e.setVaccineReload(!e.getVaccineReload()),L.dismiss({voided:!0})}catch(e){}}}}),Cn={class:"saveBtn"};function wn(e,t,i,r,d,D){const l=a("ion-row"),f=a("ion-radio"),p=a("ion-item"),h=a("ion-radio-group"),g=a("ion-list"),_=a("ion-button"),m=a("ion-col");return c(),v(B,null,[n(l,{class:"centered-content"},{default:s(()=>t[1]||(t[1]=[o("div",{class:"text-container"},[o("div",null,"Do you want to void this vaccine?"),o("div",null,"Please specify reason for voiding this administered vaccine?")],-1)])),_:1,__:[1]}),n(l,null,{default:s(()=>[n(g,{style:{width:"100%"}},{default:s(()=>[n(h,{compareWith:e.compareWith,onIonChange:t[0]||(t[0]=C=>e.handleChange(C)),value:"start"},{default:s(()=>[(c(!0),v(B,null,Y(e.reasons,C=>(c(),k(p,null,{default:s(()=>[n(f,{value:C},{default:s(()=>[u(y(C.name),1)]),_:2},1032,["value"])]),_:2},1024))),256))]),_:1},8,["compareWith"])]),_:1})]),_:1}),o("div",Cn,[n(l,{class:"ion-justify-content-between"},{default:s(()=>[n(m,{size:"auto"},{default:s(()=>[n(_,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:s(()=>t[2]||(t[2]=[u(" Cancel ")])),_:1,__:[2]},8,["onClick"])]),_:1}),n(m,{size:"auto"},{default:s(()=>[n(_,{onClick:e.voidVaccine1,class:"btnText",fill:"solid",style:{width:"130px"}},{default:s(()=>t[3]||(t[3]=[u(" Void ")])),_:1,__:[3]},8,["onClick"])]),_:1})]),_:1})])],64)}const Vn=O(Sn,[["render",wn],["__scopeId","data-v-ea212a62"]]),kn=P({name:"Home",components:{IonContent:K,IonHeader:q,IonMenuButton:Ve,IonPage:we,IonTitle:Q,IonToolbar:X,IonButton:Z,IonCard:Ce,IonCardContent:Se,IonCardHeader:De,IonCardSubtitle:ye,IonCardTitle:be,IonAccordion:ve,IonAccordionGroup:ge,IonItem:R,IonLabel:J,IonModal:fe,IonCol:ie,IonRow:x,alert:re},data(){return{iconsContent:H,fowardData:{}}},computed:{},created(){},mounted(){},props:{vaccines:{type:{},default:{}},milestone_status:{type:String,default:0}},watch:{},setup(){let e=!1;return{isModalOpening:e,cleanupModal:()=>{e=!1;const i=document.querySelector(".pr_o");i&&i.remove()}}},methods:{covertToDate(e){return A.toStandardHisDisplayFormat(e)},getColorForVaccine(e){if(e.status=="administered")return"success";if(e.status!="administered")return this.milestone_status=="upcoming"?"medium":this.milestone_status=="current"?"success":"danger"},getInjectSignForVaccine(e){if(e.status=="administered")return this.iconsContent.greenInjection;if(e.status!="administered")return this.milestone_status=="upcoming"?"":this.iconsContent.fadedGreenIjection},getCheckBoxForVaccine(e){if(e.status=="administered")return this.iconsContent.improvedGreenTick;if(e.status!="administered")return this.milestone_status=="upcoming"?"":this.iconsContent.whiteCheckbox},async openAdministerVaccineModal(e){const t=document.querySelector(".pr_o");if(this.isModalOpening||t){console.log("Modal already open or opening, current state:",{isModalOpening:this.isModalOpening,modalExists:!!t});return}try{this.isModalOpening=!0;const i=b();i.setCurrentSelectedDrug(e);const r=new nt;let d;M.getPouchDbStatus()||M.getLanConnectionStatus()?d=await kt("stock",{selector:{drug_id:e.drug_id}}):d=await r.getDrugBatches(e.drug_id),i.setLotNumberData(d),this.checkIfAdminstredAndAskToVoid()||(d.length===0?ne(e)?V(pe,{class:"otherVitalsModal pr_o"}):V(re,{class:"otherVitalsModal pr_o"}):V(pe,{class:"otherVitalsModal pr_o"}))}catch(i){throw console.error("Error opening modal:",i),i}finally{this.isModalOpening=!1,console.log("Modal open process completed")}},disableVaccine(e){if(e.status!=null&&e.status=="administered")return!1;if(e.can_administer!=null&&e.can_administer==!1)return!0;if(e.can_administer!=null&&e.can_administer==!0)return!1},checkVaccineName(e){return e.replace(/Pentavalent/g,"Penta")},checkIfAdminstredAndAskToVoid(){const e=b(),t=e.getCurrentSelectedDrug();return t.drug.status=="administered"?(e.setVaccineToBeVoided(t),V(Vn,{class:"otherVitalsModal"},!1),!0):!1}}}),In={class:"vaccinesList"},$n={class:"button-content"},An={style:{"margin-top":"20px"}};function Nn(e,t,i,r,d,D){const l=a("ion-icon"),f=a("ion-button"),p=a("ion-col"),h=a("ion-row");return c(),v("div",In,[n(h,null,{default:s(()=>[n(p,null,{default:s(()=>[(c(!0),v(B,null,Y(e.vaccines,g=>(c(),k(f,{disabled:e.disableVaccine(g),class:"administerVac",key:g,onClick:_=>e.openAdministerVaccineModal(g),fill:"solid",color:e.getColorForVaccine(g),style:{background:"#ddeedd","border-radius":"8px",color:"#636363"}},{default:s(()=>[n(l,{slot:"start",icon:e.getInjectSignForVaccine(g)},null,8,["icon"]),o("div",$n,[o("div",An,y(e.checkVaccineName(g.drug_name)),1),o("div",null,y(e.covertToDate(g.date_administered)),1)]),n(l,{slot:"end",icon:e.getCheckBoxForVaccine(g)},null,8,["icon"])]),_:2},1032,["disabled","onClick","color"]))),128))]),_:1})]),_:1})])}const ce=O(kn,[["render",Nn],["__scopeId","data-v-a72ee172"]]),Mn=P({name:"Home",components:{IonIcon:mt,IonButton:Z,customVaccine:ce,IonHeader:q,IonTitle:Q,IonFooter:ke,IonCol:ie,IonRow:x,IonContent:K},data(){return{iconsContent:H,vaccineHistory:[]}},setup(){return{closeCircleOutline:ht,checkmarkOutline:pt}},computed:{...$(b,["vaccineReload","vaccineSchedule"])},methods:{vaccinesGivenCount(e){const t=[];return e.antigens.forEach(i=>{i.status=="administered"&&t.push(i)}),t.length},dismiss(){L.dismiss()}}}),Bn={style:{color:"#016302"}},Pn={style:{color:"#316CBA","margin-left":"10%"}};function Tn(e,t,i,r,d,D){const l=a("ion-title"),f=a("ion-header"),p=a("ion-icon"),h=a("row"),g=a("customVaccine"),_=a("ion-content"),m=a("ion-button"),C=a("ion-col"),I=a("ion-row"),N=a("ion-footer");return c(),v(B,null,[n(f,null,{default:s(()=>[n(l,{style:{"margin-bottom":"20px"},class:"modalTitle OtherVitalsTitle"},{default:s(()=>t[1]||(t[1]=[u("Vaccination History")])),_:1,__:[1]})]),_:1}),n(_,{fullscreen:!0,class:"ion-padding"},{default:s(()=>[(c(!0),v(B,null,Y(e.vaccineSchedule.vaccine_schedule,(S,E)=>(c(),v("div",{class:"mod-ls",key:E},[n(h,null,{default:s(()=>[n(p,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),o("span",null,[t[2]||(t[2]=u(" at ")),o("span",Bn,y(S.age),1)]),o("span",Pn,y(e.vaccinesGivenCount(S))+"/"+y(S.antigens.length)+" vaccine(s) given",1)]),_:2},1024),n(h,null,{default:s(()=>[n(g,{vaccines:S.antigens,milestone_status:S.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),n(N,{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(I,null,{default:s(()=>[n(C,null,{default:s(()=>[n(m,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:t[0]||(t[0]=S=>e.dismiss())},{default:s(()=>t[3]||(t[3]=[u(" Cancel ")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1})],64)}const On=O(Mn,[["render",Tn],["__scopeId","data-v-59edb4e4"]]),En=P({mixins:[Zt],components:{IonContent:K,IonHeader:q,IonItem:R,IonList:se,IonMenu:_e,IonTitle:Q,IonToolbar:X,IonInput:he,BasicInputField:Ie,BasicForm:st,PreviousVitals:le,customDatePicker:Ae,DynamicButton:Xe,IonFooter:ke},data(){return{iconsContent:H,BMI:{},BPStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1},showPD:!1,initialSeriousData:[],initialFirstDecisionData:[],initialOutcomeData:[]}},props:{protectedStatus:String,lastVaccinesGiven:Array},watch:{personInformation:{async handler(){await this.setRelationShip()},deep:!0}},computed:{...$(ee,["patient"]),...$(me,["changeGuardianInfo","vaccineAdverseEffects","protectedAtBirth","serious","outcome","firstDecision"]),guardianFirstname(){return F(this.changeGuardianInfo,"guardianFirstname","value")},guardianLastname(){return F(this.changeGuardianInfo,"guardianLastname","value")},guardianMiddleName(){return F(this.changeGuardianInfo,"guardianMiddleName","value")},guardianPhoneNumber(){return F(this.changeGuardianInfo,"guardianPhoneNumber","value")},relationship(){return F(this.changeGuardianInfo,"relationship","value")}},async mounted(){await this.setupData()},setup(){return{checkmark:Ye,pulseOutline:_t}},methods:{async setupData(){var i,r,d,D,l,f,p,h,g,_;const e=me();this.initialSeriousData=e.getInitialSerious(),this.initialFirstDecisionData=e.getInitialFirstDecision(),this.initialOutcomeData=e.getInitialOutcome();const t=await At.getRelationships(this.patient.patientID);(t==null?void 0:t.length)>0&&(U(this.changeGuardianInfo,"guardianNationalID","value",this.setAttribute("Regiment ID",(i=t[0])==null?void 0:i.relation)),U(this.changeGuardianInfo,"guardianFirstname","value",(d=(r=t[0])==null?void 0:r.relation.names[0])==null?void 0:d.given_name),U(this.changeGuardianInfo,"guardianLastname","value",(l=(D=t[0])==null?void 0:D.relation.names[0])==null?void 0:l.family_name),U(this.changeGuardianInfo,"guardianMiddleName","value",(p=(f=t[0])==null?void 0:f.relation.names[0])==null?void 0:p.middle_name),U(this.changeGuardianInfo,"guardianPhoneNumber","value",this.setAttribute("Cell Phone Number",(h=t[0])==null?void 0:h.relation)),U(this.changeGuardianInfo,"relationship","value",{id:(g=t[0])==null?void 0:g.type.relationship_type_id,name:(_=t[0])==null?void 0:_.type.b_is_to_a}),await this.setRelationShip()),this.resetData()},async setRelationShip(){this.gender?(await this.getRelationships(),U(this.changeGuardianInfo,"relationship","displayNone",!1),U(this.changeGuardianInfo,"relationship","multiSelectData",this.relationships)):U(this.changeGuardianInfo,"relationship","displayNone",!0)},setAttribute(e,t){if(!t||Object.keys(t).length===0)return;let i=t.person_attributes.find(r=>r.type.name==e);if(i!=null)return i.value},resetData(){const e=me();e.setProtectedAtBirth(e.getInitialProtectedAtBirth()),e.setVaccineAdverseEffects(e.getInitialVaccineAdverseEffects())},async createGuardian(){const e=await this.guardianData();if(Yt(this.changeGuardianInfo)){const t=new It;await t.registerGuardian(e);const i=t.getPersonID(),r=F(this.changeGuardianInfo,"relationship","value").id;return r&&await $t.createRelation(this.patient.patientID,i,r),$e("Guarding information save successfully",3e3),!0}else return j("Guarding Information not save",3e3),!1},async saveData(){const e=await this.createGuardian(),t=await this.saveVaccineAdverseEffects();e&&t&&L.dismiss()},async saveVaccineAdverseEffects(){if(this.patient.patientID){const e=F(this.outcome,"Date of death","value")||A.sessionDate(),t=await this.formatCheckBoxData(this.serious,A.sessionDate(),this.lastVaccinesGiven),i=await this.formatRadioButtonData(this.outcome,e,this.lastVaccinesGiven),r=await this.formatCheckBoxData(this.vaccineAdverseEffects,A.sessionDate(),this.lastVaccinesGiven),d=F(this.firstDecision,"Investigation needed","value");let D=[];return d&&(D=[{concept_id:11887,value_text:d,obs_datetime:A.sessionDate()}]),[...t,...i,...r,...D].filter(l=>l!==void 0),M.getUserID(),r.length>0?!0:(j("Vaccine adverse effects not saved",1500),!1)}},async formatCheckBoxData(e,t=W.getSessionDate(),i){return Array.isArray(e)?(await Promise.all(e.map(async d=>{var l,f;if(!((f=(l=d==null?void 0:d.checkboxBtnContent)==null?void 0:l.data)!=null&&f.length))return[];const D=d.checkboxBtnContent.data.map(async p=>{if(!(p!=null&&p.checked)||p!=null&&p.buildConceptIgnore)return null;try{const h=await W.getConceptID(p.value,!0),g=await W.getConceptID(d.checkboxBtnContent.header.name,!0);if(t=F(e,p.name+" date","value")||t,!h||!g)return null;const m={concept_id:g,value_coded:h,obs_datetime:t};if(i.length>0){const C=i.map(I=>({concept_id:h,value_coded:I.drug_id,obs_datetime:t}));return{...m,child:C}}return m}catch(h){return console.error("Error processing checkbox data:",h),null}});return(await Promise.all(D)).filter(Boolean)}))).flat().filter(Boolean):[]},async formatRadioButtonData(e,t=W.getSessionDate(),i){const r=e.map(async d=>{if(d&&d.radioBtnContent&&d.radioBtnContent.header&&d.radioBtnContent.header.selectedValue){const D=await W.getConceptID(d.radioBtnContent.header.selectedValue,!0),l=await W.getConceptID(d.radioBtnContent.header.name,!0),f=t||W.getSessionDate(),p=i.map(h=>({concept_id:D,value_coded:h.drug_id,obs_datetime:f}));return i?{concept_id:l,value_coded:D,obs_datetime:f,child:p}:{concept_id:l,value_coded:D,obs_datetime:f}}else return null});return(await Promise.all(r)).filter(d=>d!==null)},async guardianData(){return{person_id:this.patient.patientID,given_name:this.guardianFirstname,family_name:this.guardianLastname,middle_name:this.guardianMiddleName,gender:"",birthdate:"",cell_phone_number:this.guardianPhoneNumber,birthdate_estimated:!1,home_district:"",home_traditional_authority:"",home_village:"",current_district:"",current_traditional_authority:"",current_village:"",landmark:"",occupation:"",facility_name:"",patient_type:"",national_id:F(this.changeGuardianInfo,"guardianNationalID","value")}},async handleInputData(e){},dismiss(){L.dismiss()}}}),Fn={class:""},Gn={class:"ion-padding",slot:"content",style:{"padding-bottom":"200px"}},Ln={class:""},Un={class:"ion-padding",slot:"content"},Rn={slot:"content"},Hn={slot:"content"},Wn={slot:"content"},zn={slot:"content"},jn={class:"ion-padding",slot:"content",style:{"padding-bottom":"120px"}};function Qn(e,t,i,r,d,D){const l=a("ion-title"),f=a("ion-icon"),p=a("ion-header"),h=a("ion-label"),g=a("ion-item"),_=a("basic-form"),m=a("ion-accordion"),C=a("ion-accordion-group"),I=a("ion-content"),N=a("DynamicButton"),S=a("ion-col"),E=a("ion-row"),te=a("ion-footer");return c(),v(B,null,[n(p,{style:{display:"flex","justify-content":"space-between"}},{default:s(()=>[n(l,{class:"modalTitle"},{default:s(()=>t[2]||(t[2]=[u("Follow up visits")])),_:1,__:[2]}),n(f,{onClick:t[0]||(t[0]=de=>e.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:e.iconsContent.cancel},null,8,["icon"])]),_:1}),n(I,{fullscreen:!0,class:"ion-padding",style:{"--background":"#fff"}},{default:s(()=>[o("div",Fn,[n(C,{ref:"accordionGroup",class:""},{default:s(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(g,{slot:"header",color:"light"},{default:s(()=>[n(h,{class:"previousLabel"},{default:s(()=>t[3]||(t[3]=[u("Change Guardian")])),_:1,__:[3]})]),_:1}),o("div",Gn,[o("div",Ln,[n(_,{contentData:e.changeGuardianInfo,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])])]),_:1}),n(m,{value:"second","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(g,{slot:"header",color:"light"},{default:s(()=>[n(h,{class:"previousLabel"},{default:s(()=>t[4]||(t[4]=[u("Vaccine adverse effects")])),_:1,__:[4]})]),_:1}),o("div",Un,[o("div",null,[o("div",Rn,[n(_,{contentData:e.vaccineAdverseEffects,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])]),o("div",null,[o("div",Hn,[n(_,{contentData:e.serious,initialData:e.initialSeriousData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])]),o("div",null,[o("div",Wn,[n(_,{contentData:e.outcome,initialData:e.initialOutcomeData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])]),o("div",null,[o("div",zn,[n(_,{contentData:e.firstDecision,initialData:e.initialFirstDecisionData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])])])]),_:1}),e.protectedStatus!="Yes"?(c(),k(m,{key:0,value:"third","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(g,{slot:"header",color:"light"},{default:s(()=>[n(h,{class:"previousLabel"},{default:s(()=>t[5]||(t[5]=[u("Child protected at birth")])),_:1,__:[5]})]),_:1}),o("div",jn,[n(_,{contentData:e.protectedAtBirth,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])]),_:1})):w("",!0)]),_:1},512)])]),_:1}),n(te,{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(E,null,{default:s(()=>[n(S,null,{default:s(()=>[n(N,{onClick:t[1]||(t[1]=de=>e.saveData()),name:"Save",fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})],64)}const qn=O(En,[["render",Qn],["__scopeId","data-v-4497bb3f"]]),Kn=P({components:{IonContent:K,IonHeader:q,IonItem:R,IonList:se,IonMenu:_e,IonTitle:Q,IonToolbar:X,IonInput:he,BasicInputField:Ie,BasicForm:st,PreviousVitals:le,customDatePicker:Ae,IonCol:ie,IonRow:x,VueMultiselect:ft,IonLabel:J,lotNumberList:ot},data(){const e=z(0),t=z([]);return{iconsContent:H,showPD:!1,batchNumber:"",vaccineName:"",currentDrugOb:{},comp_key:e,otherVaccinesList:t,is_batch_number_valid:!1,vaccineDate:"",is_vaccine_name_valid:!1,drugErrMsg:"",batch_number_error_message:"Enter a valid batch number",vaccine_name_error_message:"Enter a valid valid vaccine name",sessionDate:A.toStandardHisDisplayFormat(M.getSessionDate()),InnerActionBtnPropeties:{name:"Scan",show:!0,fn:()=>{V(it,{class:"otherVitalsModal qr_code_modal"},!1)},icon:"",show_icon:!1},showDateBtns:!0,selected_date_:"",show_select_batch:!1,skip_validation:!1,antigens:t}},computed:{...$(Xt,["administerOtherVaccine"]),...$(b,["tempScannedBatchNumber","vaccineSchedule"]),...$(ee,["patient"])},async mounted(){this.vaccineSchedule.vaccine_schedule.forEach(e=>{this.antigens.push(...e.antigens)})},watch:{batchNumber:{handler(){this.validateBatchNumber()},deep:!0},tempScannedBatchNumber:{handler(){this.tempScannedBatchNumber!=null&&(this.batchNumber=this.tempScannedBatchNumber.text,this.validateBatchNumber())}},vaccineName:{handler(){this.validateVaccineName()}}},setup(){const e=z(null);return{childComponentRef:e,triggerChildAction:()=>{e.value&&e.value.performAction()}}},methods:{showCPD(){this.showPD=!0,this.showDateBtns=!1},updateBatchNumber(e){var i;const t=e.target.value;this.batchNumber=t||((i=this.tempScannedBatchNumber)==null?void 0:i.text)||""},saveBatchWithTodayDate(){let e=M.getSessionDate();this.saveDta(e)},dismiss(){L.dismiss()},saveBatch(){let e;G.isEmpty(this.vaccineDate)==!0?e=M.getSessionDate():e=this.vaccineDate,this.saveDta(e)},validateVaccineName(){if(G.isEmpty(this.vaccineName)==!0)return this.is_vaccine_name_valid=!0,!1;if(G.isEmpty(this.vaccineName)==!1)return this.is_vaccine_name_valid=!1,!0},updateVaccineName(e){this.currentDrugOb=e,console.log(this.currentDrugOb),b().setCurrentSelectedDrug(e),this.pullLotNumbersForVaccine(this.currentDrugOb)},async pullLotNumbersForVaccine(e){this.show_select_batch=!1;const t=b(),r=await new nt().getDrugBatches(e.drug_id);t.setLotNumberData(r),r.length==0&&(ne(e)==!1&&V(re,{class:"otherVitalsModal"}),ne(e)==!0&&(this.show_select_batch=!1,this.skip_validation=!0)),r.length>0&&(this.comp_key=this.comp_key+1,this.show_select_batch=!0)},isAlphaNumeric(e){return/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/.test(e)},validateBatchNumber(){this.isAlphaNumeric(this.batchNumber)==!0&&(this.is_batch_number_valid=!1),this.isAlphaNumeric(this.batchNumber)==!1&&(this.is_batch_number_valid=!0)},updateBatchNumberByPassValue(e){this.batchNumber=e},ActionTriggered(e){const t={batch_number:e.lotNumber,date_administered:this.selected_date_,drug_id:this.currentDrugOb.drug_id,drug_:this.currentDrugOb},i=b();i.setAdministeredVaccine(t),tt(this.patient),i.setTempScannedBatchNumber(null),this.dismiss()},saveDta(e){this.validateVaccineName()==!0&&(this.selected_date_=e,this.triggerChildAction(),this.show_select_batch==!1&&this.skip_validation==!1&&Nt("Please Update Stock for Selected Vaccine"))},childAction(){}}}),xn={class:"modal_wrapper"},Jn={class:"lbl-ct"},Zn={style:{"margin-top":"30px"}},Yn={class:"btnContent"},Xn={key:0,class:"saveBtn"},es={key:1,class:"saveBtn"};function ts(e,t,i,r,d,D){const l=a("ion-col"),f=a("ion-label"),p=a("ion-row"),h=a("VueMultiselect"),g=a("lotNumberList"),_=a("customDatePicker"),m=a("ion-icon"),C=a("ion-button");return c(),v("div",xn,[n(p,{style:{"margin-top":"10px"}},{default:s(()=>[n(l,{style:{"margin-left":"-3px"}},{default:s(()=>t[3]||(t[3]=[o("div",{class:"om"},"Add Other Vaccine",-1)])),_:1,__:[3]}),n(l,{size:"6",style:{"text-align":"right"}},{default:s(()=>[n(f,{class:"lbl-tl",style:{"font-size":"13"}},{default:s(()=>[t[4]||(t[4]=u(" Todays Date: ")),o("span",Jn,y(e.sessionDate),1)]),_:1,__:[4]})]),_:1})]),_:1}),o("div",Zn,[n(p,null,{default:s(()=>[n(f,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:s(()=>t[5]||(t[5]=[u("Vaccine name"),o("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[5]})]),_:1}),n(h,{modelValue:e.vaccineName,"onUpdate:modelValue":[t[0]||(t[0]=I=>e.vaccineName=I),t[1]||(t[1]=I=>e.updateVaccineName(I))],multiple:!1,taggable:!1,"hide-selected":!1,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"select vaccine",placeholder:"select vaccine",selectLabel:"",label:"drug_name",searchable:!0,onSearchChange:t[2]||(t[2]=I=>e.$emit("search-change",I)),"track-by":"drug_id",options:e.otherVaccinesList},null,8,["modelValue","options"]),o("div",null,[e.is_vaccine_name_valid?(c(),k(f,{key:0,style:{padding:"3%"},class:"error-label"},{default:s(()=>[u(y(e.vaccine_name_error_message),1)]),_:1})):w("",!0)])]),oe(n(p,null,{default:s(()=>[n(f,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:s(()=>t[6]||(t[6]=[u("Batch numbers"),o("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[6]})]),_:1},512),[[ae,e.show_select_batch]]),oe(o("div",null,[(c(),k(g,{action:e.childAction,retro:e.showPD,ref:"childComponentRef",onActionTriggered:e.ActionTriggered,key:e.comp_key},null,8,["action","retro","onActionTriggered"]))],512),[[ae,e.show_select_batch]]),e.showPD?(c(),k(_,{key:0})):w("",!0),o("div",Yn,[e.showDateBtns?(c(),v("div",Xn,[o("div",null,[n(C,{onClick:e.saveBatchWithTodayDate,class:"btnText",fill:"solid"},{default:s(()=>[t[7]||(t[7]=u(" Done today ")),n(m,{slot:"end",size:"small",icon:e.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1,__:[7]},8,["onClick"])]),t[9]||(t[9]=o("div",{style:{"margin-bottom":"20px"}},null,-1)),o("div",null,[n(C,{class:"btnText",fill:"solid",onClick:e.showCPD},{default:s(()=>[t[8]||(t[8]=u(" Done earlier ")),n(m,{slot:"end",size:"small",icon:e.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1,__:[8]},8,["onClick"])])])):w("",!0),e.showDateBtns?w("",!0):(c(),v("div",es,[n(p,{class:"ion-justify-content-between"},{default:s(()=>[n(l,{size:"auto"},{default:s(()=>[n(C,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:s(()=>t[10]||(t[10]=[u(" Cancel ")])),_:1,__:[10]},8,["onClick"])]),_:1}),n(l,{size:"auto"},{default:s(()=>[n(C,{onClick:e.saveBatch,class:"btnText",fill:"solid",style:{width:"130px"}},{default:s(()=>t[11]||(t[11]=[u(" Save ")])),_:1,__:[11]},8,["onClick"])]),_:1})]),_:1})]))])])}const at=O(Kn,[["render",ts],["__scopeId","data-v-eb04f444"]]),ns=P({name:"xxxComponent",components:{Carousel:yt,Slide:bt,Pagination:vt,Navigation:gt,customVaccine:ce,IonButton:Z,IonCol:ie,IonRow:x,IonLabel:J},data(){return{vaccine_schArray:[],vaccineSchudulesCount:0,milestones:[],iconsContent:H,showCurrentMilestoneAlert:!1,landingSlide:0,msg:"Upcoming Vaccines",current_milestone:"",componentKey:0}},computed:{...$(b,["vaccineReload"]),...$(ee,["patient"])},async mounted(){await this.loadVaccineSchedule()},watch:{vaccineReload:{async handler(){await this.loadVaccineSchedule()},deep:!0},patient:{async handler(){await this.loadVaccineSchedule()},deep:!0},vaccine_schArray:{handler(){this.reloadVaccines()}}},methods:{openAdministerOtherVaccineModal(){V(at,{class:"otherVitalsModal"})},async loadVaccineSchedule(){var r,d,D,l,f,p,h,g,_;await this.setAppointmentDate();const e=this.patient.vaccineSchedule,t=b();t.setVaccineSchedule(e),t.setLastVaccinesGiven([]),this.vaccineSchudulesCount=(d=(r=t.getVaccineSchedule())==null?void 0:r.vaccine_schedule)==null?void 0:d.length,t.resetMissedVaccineSchedules(),this.vaccine_schArray=[],this.vaccine_schArray.push((D=t.getVaccineSchedule())==null?void 0:D.vaccine_schedule),(f=(l=t.getVaccineSchedule())==null?void 0:l.vaccine_schedule)==null||f.forEach(m=>{this.findMissingVaccines(m),this.findPreviouslyAdministeredVaccineSchedule(m),this.handleSchedule(m);const C={visit:m.visit,age:m.age};this.milestones=this.appendUniqueObject(this.milestones,C)});let i=!1;(h=(p=t.getVaccineSchedule())==null?void 0:p.vaccine_schedule)==null||h.forEach(m=>{if(!i&&this.findSingleUpcomingMilestone(m)==!0){i=!0;return}}),(_=(g=t.getVaccineSchedule())==null?void 0:g.vaccine_schedule)==null||_.forEach(m=>{this.findCurrentMilestone(m)})},setSB(e){const t=b();t.setCurrentMilestoneToAdminister({currentMilestone:e.age}),this.landingSlide=e.visit-1,this.current_milestone=e.age,t.setCurrentMilestone(e.age)},handleSchedule(e){e.milestone_status=="upcoming"?(b().setCurrentSchedFound(!1),this.msg="Upcoming Vaccines",this.showCurrentMilestoneAlert=!0,this.setSB(e)):(this.setSB(e),b().setCurrentSchedFound(!1))},findSingleUpcomingMilestone(e){return e.milestone_status=="upcoming"?(this.setSB(e),!0):!1},findCurrentMilestone(e){e.milestone_status=="current"&&(this.msg="Vaccines due today",b().setCurrentSchedFound(!0),this.showCurrentMilestoneAlert=!0,this.setSB(e))},slideEvent(e){const t=b(),i=t.getCurrentMilestoneToAdminister();this.milestones.forEach(d=>{d.visit-1==e.currentSlideIndex&&(t.setCurrentMilestone(d.age),this.current_milestone=d.age)});const r=t.getCurrentMilestone();if(r==i.currentMilestone){t.getCurrentSchedFound()==!1&&(this.msg="Upcoming Vaccines"),t.getCurrentSchedFound()==!0&&(this.msg="Vaccines due today"),this.showCurrentMilestoneAlert=!0;return}r.age!=i.currentMilestone&&(this.showCurrentMilestoneAlert=!1)},appendUniqueObject(e,t){return e.some(r=>r.visit===t.visit&&r.age===t.age)||e.push(t),e},isListEmpty(e){if(e.length>0)return!0;if(e.length==0)return!1},findMissingVaccines(e){const t={age:e.age,antigens:[]};e.milestone_status=="passed"&&e.antigens.forEach(r=>{r.status=="pending"&&t.antigens.push(r)});const i=b();t.antigens.length>0&&i.setMissedVaccineSchedules(t)},findPreviouslyAdministeredVaccineSchedule(e){const t=[];e.antigens.forEach(i=>{i.status=="administered"&&t.push(i)}),t.length>0&&b().setLastVaccinesGiven(t)},reloadVaccines(){this.componentKey+=1},openNextVaccineAppoinment(){V(xt,{class:"otherVitalsModal"},!1)},async setAppointmentDate(){const e=b(),i=await new Kt().getNextAppointment();i!=null&&i.next_appointment_date&&e.setNextAppointMentDate(i.next_appointment_date)}}}),ss={key:0,class:"alert_banner"},is={key:1,class:"alert_banner",style:{background:"inherit"}},os={class:"container"},as={class:"center-content"},rs={class:"centerBtns"},ls={class:"otherVaccine center-content"},cs={class:"centerBtns"};function ds(e,t,i,r,d,D){const l=a("apan"),f=a("customVaccine"),p=a("ion-button"),h=a("ion-row"),g=a("slide"),_=a("navigation"),m=a("pagination"),C=a("carousel");return c(),v(B,null,[e.showCurrentMilestoneAlert?(c(),v("div",ss,[n(l,null,{default:s(()=>[u(y(e.msg),1)]),_:1})])):w("",!0),e.showCurrentMilestoneAlert?w("",!0):(c(),v("div",is)),e.vaccineSchudulesCount>0?(c(),k(C,{key:2,"items-to-show":1,modelValue:e.landingSlide,onSlideEnd:e.slideEvent},{addons:s(()=>[n(_),n(m)]),default:s(()=>[(c(!0),v(B,null,Y(e.vaccineSchudulesCount,(I,N)=>(c(),k(g,{key:I},{default:s(()=>[n(h,{class:""},{default:s(()=>[o("div",os,[(c(),k(f,{vaccines:e.vaccine_schArray[0][N].antigens,milestone_status:e.vaccine_schArray[0][N].milestone_status,key:e.componentKey},null,8,["vaccines","milestone_status"]))]),n(h,{class:"bottom-row"},{default:s(()=>[o("div",as,[o("div",rs,[n(p,{onClick:t[0]||(t[0]=S=>e.openNextVaccineAppoinment()),class:"btnText",fill:"solid"},{default:s(()=>t[1]||(t[1]=[u("Set Next Appointment Date")])),_:1,__:[1]})])])]),_:1})]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue","onSlideEnd"])):w("",!0),n(h,{class:"bottom-row"},{default:s(()=>[o("div",ls,[o("div",cs,[n(p,{onClick:e.openAdministerOtherVaccineModal,class:"btnText",fill:"solid"},{default:s(()=>t[2]||(t[2]=[u(" Add Other Vaccines ")])),_:1,__:[2]},8,["onClick"])])])]),_:1})],64)}const us=O(ns,[["render",ds],["__scopeId","data-v-2fd0d538"]]),ms=P({name:"Home",components:{IonHeader:q,IonMenuButton:Ve,IonPage:we,IonTitle:Q,IonToolbar:X,IonButton:Z,IonCard:Ce,IonCardContent:Se,IonCardHeader:De,IonCardSubtitle:ye,IonCardTitle:be,IonAccordion:ve,IonAccordionGroup:ge,IonItem:R,IonLabel:J,IonModal:fe,IonRow:x,customVaccine:ce,IonCol:ie,IonFooter:ke,IonContent:K},data(){return{iconsContent:H}},computed:{...$(b,["currentMilestone","missedVaccineSchedules"])},methods:{vaccinesGivenCount(e){const t=[];return e.antigens.forEach(i=>{i.status=="administered"&&t.push(i)}),t.length},dismiss(){L.dismiss()}}}),ps={style:{color:"#016302"}},hs={style:{color:"#316CBA","margin-left":"10%"}};function _s(e,t,i,r,d,D){const l=a("ion-title"),f=a("ion-header"),p=a("ion-icon"),h=a("row"),g=a("customVaccine"),_=a("ion-content"),m=a("ion-button"),C=a("ion-col"),I=a("ion-row"),N=a("ion-footer");return c(),v(B,null,[n(f,null,{default:s(()=>[n(l,{style:{"margin-bottom":"20px"},class:"modalTitle"},{default:s(()=>t[1]||(t[1]=[u("Missed Vaccines")])),_:1,__:[1]})]),_:1}),n(_,{fullscreen:!0,class:"ion-padding"},{default:s(()=>[(c(!0),v(B,null,Y(e.missedVaccineSchedules,(S,E)=>(c(),v("div",{key:E},[n(h,{style:{width:"90%"}},{default:s(()=>[n(p,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),o("span",null,[t[2]||(t[2]=u(" at ")),o("span",ps,y(S.age),1)]),o("span",hs,y(e.vaccinesGivenCount(S))+"/"+y(S.antigens.length)+" vaccine(s) given",1)]),_:2},1024),n(h,{style:{"text-align":"center"},class:"mod-ls"},{default:s(()=>[n(g,{vaccines:S.antigens,milestone_status:S.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),n(N,{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(I,null,{default:s(()=>[n(C,null,{default:s(()=>[n(m,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:t[0]||(t[0]=S=>e.dismiss())},{default:s(()=>t[3]||(t[3]=[u(" Cancel ")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1})],64)}const fs=O(ms,[["render",_s],["__scopeId","data-v-3ba5e9df"]]),gs=P({name:"Menu",data(){return{isMobile:!1,visits:[],event:null,popoverOpen:!1,program:null}},mounted(){},computed:{...$(ee,["patient"])},methods:{openPopover(e){this.event=e,this.popoverOpen=!0},openPIM(){V(en,{class:"otherVitalsModal largeModal"})},openOutCome(){V(tn,{class:"otherVitalsModal largeModal"})},async printVisitSummary(){if(this.visits=await et.getPatientVisits(this.patient.patientID,!1),this.visits.length)return new Ke(this.patient.patientID).printVisitSummaryLbl(this.visits[0]);j("No visits available")},printID(){new Ke(this.patient.patientID).printNidLbl()},formatCurrentAddress(e){var i,r,d;return[(i=e==null?void 0:e.personInformation)==null?void 0:i.current_district,(r=e==null?void 0:e.personInformation)==null?void 0:r.current_traditional_authority,(d=e==null?void 0:e.personInformation)==null?void 0:d.current_village].filter(Boolean).join(",")}}}),vs=P({mixins:[gs],name:"Home",components:{IonContent:K,IonHeader:q,IonMenuButton:Ve,IonPage:we,IonTitle:Q,IonToolbar:X,Toolbar:Bt,ToolbarSearch:Mt,DemographicBar:Lt,IonButton:Z,IonCard:Ce,IonCardContent:Se,IonCardHeader:De,IonCardSubtitle:ye,IonCardTitle:be,IonAccordion:ve,IonAccordionGroup:ge,IonItem:R,IonLabel:J,IonModal:fe,Stepper:Rt,DynamicButton:Xe,WeightHeightChart:zt,PreviousVitals:le,customSlider:us,IonRow:x,customVaccine:ce},data(){return{wizardData:[],StepperData:[],isOpen:!1,iconsContent:H,current_milestone:"",checkUnderSixWeeks:!1,unprotected_at_birth:"",protectedStatus:"",todays_date:A.toStandardHisDisplayFormat(M.getSessionDate()),lastVaccine:[],visits:[],selectedStatus:7}},computed:{...$(Gt,["vitals"]),...$(Ft,["selectedMedicalDrugsList","nonPharmalogicalTherapyAndOtherNotes","selectedMedicalAllergiesList"]),...$(Et,["outcomes"]),...$(b,["currentMilestone","missedVaccineSchedules","overDueVaccinesCount","lastVaccinesGiven","lastVaccineGievenDate","nextAppointMentDate"])},async mounted(){this.loadCurrentMilestone(),this.checkAge(),await this.checkProtectedStatus(),await this.openFollowModal(),await this.programEnrollment()},watch:{currentMilestone:{handler(){this.loadCurrentMilestone()}},$route:{async handler(e){e.name=="patientProfile"&&this.patient.patientID&&(await this.checkProtectedStatus(),await this.programEnrollment())}},patient:{async handler(){this.patient&&(await this.checkProtectedStatus(),await this.programEnrollment(),this.checkAge(),this.setMilestoneReload())}}},setup(){return{chevronBackOutline:Ct,checkmark:Ye,ellipsisVerticalSharp:St,person:Dt}},methods:{handleChange(e){this.selectedStatus=e},async programEnrollment(){if(this.patient.patientID){this.program=new Ot(this.patient.patientID);const e=await this.program.getProgramCurrentStates();if(e)this.selectedStatus=e.state;else{try{await this.program.enrollProgram(),await this.program.setStateId(7)}catch(t){await this.program.setStateId(7)}await this.program.updateState(),this.selectedStatus=7}}},async updateState(e){this.selectedStatus=e,await this.program.setStateId(e),await this.program.updateState()},getAge(e){return A.calculateDisplayAge(A.toStandardHisFormat(e))},async checkProtectedStatus(){this.protectedStatus=this.getData(this.patient.birthRegistration,11759)[0]},getData(e,t){try{return e?e.filter(i=>i.concept_id==t).map(i=>i.value_text):""}catch(i){return console.error("Error in getData:",i),""}},checkAge(){var e,t,i,r;G.isEmpty((t=(e=this.patient)==null?void 0:e.personInformation)==null?void 0:t.birthdate)||(this.checkUnderSixWeeks=A.dateDiffInDays(A.sessionDate(),(r=(i=this.patient)==null?void 0:i.personInformation)==null?void 0:r.birthdate)<42)},openVitalsModal(){V(Qt,{class:"otherVitalsModal"})},openWH(){V(jt,{class:"otherVitalsModal"})},openVH(){V(On,{class:"otherVitalsModal vaccineHistoryModal"})},async openFollowModal(){var e;if((e=this.patient)!=null&&e.patientID){this.lastVaccine=await Tt.getLastDrugsReceived(this.patient.patientID);const t={protectedStatus:this.protectedStatus,lastVaccinesGiven:this.lastVaccinesGiven};this.lastVaccinesGiven.length>0&&V(qn,{class:"fullScreenModal"},!0,t)}},openAdministerVaccineModal(){V(pe,{class:"otherVitalsModal"})},openAdministerOtherVaccineModal(){V(at,{class:"otherVitalsModal"})},isChild(){return!!new et().isUnderFive()},getFormatedData(e){return e.map(t=>t==null?void 0:t.data)},async saveVitals(){if(this.vitals.validationStatus){const e=M.getUserID();new Pt(this.patient.patientID,e).onFinish(this.vitals)}},async saveTreatmentPlan(){const e=M.getUserID(),t=this.patient.patientID,i=new Ht;if(!G.isEmpty(this.selectedMedicalAllergiesList)){const r=this.mapToAllergies();i.onSubmitAllergies(t,e,r)}if(!G.isEmpty(this.nonPharmalogicalTherapyAndOtherNotes)){const r=[{concept_id:2688,obs_datetime:M.getSessionDate(),value_text:this.nonPharmalogicalTherapyAndOtherNotes}];i.onSubmitNotes(t,e,r)}if(!G.isEmpty(this.selectedMedicalDrugsList)){const r=this.mapToOrders(),d=new xe(t,e);if(!await d.createEncounter())return j("Unable to create treatment encounter");if(!await d.createDrugOrder(r))return j("Unable to create drug orders!");$e("Drug order has been created")}},openModal(){V(Ut)},mapToOrders(){return this.selectedMedicalDrugsList.map(e=>{const t=xe.getSessionDate(),i=Wt.find(r=>r.label===e.frequency)||{};return{drug_inventory_id:e.drug_id,equivalent_daily_dose:e.dose=="Unknown"?0:e.dose*(i==null?void 0:i.value)||0,start_date:t,auto_expire_date:this.calculateExpireDate(t,e.duration),units:e.units,instructions:"".concat(e.drugName,": ").concat(e.dose," ").concat(e.units," ").concat((i==null?void 0:i.code)||""," for ").concat(e.duration," days"),dose:e.dose,frequency:(i==null?void 0:i.code)||""}})},formatBirthdate(){var e,t;return A.toStandardHisDisplayFormat((t=(e=this.patient)==null?void 0:e.personInformation)==null?void 0:t.birthdate)},calculateExpireDate(e,t){const i=new Date(e);return i.setDate(i.getDate()+parseInt(t)),A.toStandardHisFormat(i)},mapToAllergies(){return this.selectedMedicalAllergiesList.map(e=>({concept_id:985,obs_datetime:M.getSessionDate(),value_coded:e.concept_id}))},loadCurrentMilestone(){const e=b();this.current_milestone=e.getCurrentMilestone()},showMissedVaccines(){this.missedVaccineSchedules.length>0&&V(fs,{class:"otherVitalsModal vaccineHistoryModal"})},setMilestoneReload(){const e=b();e.setVaccineReload(!e.getVaccineReload())},getLastVaccinesGivenDisplayDate(){return A.toStandardHisDisplayFormat(this.lastVaccineGievenDate)}}}),bs={fullscreen:!0,style:{"--background":"#fff"}},ys={class:"demographics"},Ds={style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},Ss={style:{display:"flex","justify-content":"space-between","align-content":"center","padding-bottom":"5px","padding-top":"5px","padding-left":"5px"}},Cs={style:{"margin-right":"5px"}},ws={class:"demographicsFirstRow"},Vs={class:"name"},ks={class:"demographicsOtherRow",style:{"margin-top":"10px"}},Is={class:"demographicsText"},$s={key:0,class:"demographicsOtherRow"},As={class:"demographicsText mediumFontColor"},Ns={key:1,class:"demographicsOtherRow"},Ms={class:"demographicsText mediumFontColor"},Bs={class:"demographicsOtherRow"},Ps={class:"demographicsText smallFont"},Ts={class:"mediumFontColor"},Os={class:"demographicsOtherRow"},Es={key:0,class:"demographicsText smallFont"},Fs={key:1,class:"demographicsText smallFont"},Gs={key:2,class:"demographicsText smallFont"},Ls={class:"demographicsOtherRow",style:{"margin-bottom":"10px"}},Us={class:"demographicsText smallFont"},Rs={key:0,style:{background:"#fedf89",color:"#b54708"},class:"protectedStatus"},Hs={key:1,style:{background:"#ddeedd"},class:"protectedStatus"},Ws={key:2,class:"protectedStatus",style:{background:"#fecdca",color:"#b42318"}},zs={class:"graphSection"},js={class:"graphBtn",style:{"margin-bottom":"5px"}},Qs={class:"weightHeightGraphBtns"},qs={key:0},Ks={key:1},xs={key:0,class:"graphBtn"},Js={class:"dueAlert"},Zs={class:"missed_vaccine_alert"},Ys={style:{"margin-right":"5px"}},Xs={class:"vaccinesTitle"},ei={style:{width:"100%",display:"flex","justify-content":"space-between","align-content":"center"}},ti={class:"vaccinesTitleDate"},ni={class:"milestone"},si={style:{display:"flex","justify-content":"space-between","align-content":"center"}},ii={style:{color:"#636363","margin-left":"5px","margin-top":"-4px"}},oi={style:{color:"#636363","font-weight":"bold","font-size":"14px"}},ai={class:"lastVaccine"},ri={class:"lastVaccineTitle"},li={key:0,class:"lastVaccineText"},ci={class:"seeFullList"},di={style:{color:"#316cba","margin-left":"1%"}},ui={class:"ion-padding",slot:"content"};function mi(e,t,i,r,d,D){var Ne,Me,Be,Pe,Te,Oe,Ee,Fe,Ge,Le,Ue,Re,He,We,ze,je,Qe,qe;const l=a("ion-icon"),f=a("WeightHeightChart"),p=a("PreviousVitals"),h=a("ion-button"),g=a("ion-col"),_=a("ion-row"),m=a("customSlider"),C=a("row"),I=a("customVaccine"),N=a("ion-label"),S=a("ion-item"),E=a("ion-accordion"),te=a("ion-toggle"),de=a("ion-list"),rt=a("ion-accordion-group"),lt=a("ion-popover");return c(),v(B,null,[o("div",bs,[o("div",ys,[o("div",Ds,[o("div",Ss,[o("div",Cs,[o("div",{class:wt(((Me=(Ne=e.patient)==null?void 0:Ne.personInformation)==null?void 0:Me.gender)=="M"?"initialsBox maleColor":"initialsBox femaleColor")},[n(l,{style:{color:"#fff","font-size":"100px"},icon:e.person},null,8,["icon"])],2)]),o("div",null,[o("div",ws,[o("div",Vs,y((Pe=(Be=e.patient)==null?void 0:Be.personInformation)==null?void 0:Pe.given_name)+" "+y((Oe=(Te=e.patient)==null?void 0:Te.personInformation)==null?void 0:Oe.middle_name)+" "+y((Fe=(Ee=e.patient)==null?void 0:Ee.personInformation)==null?void 0:Fe.family_name),1)]),o("div",ks,[o("div",Is,[u(y(((Le=(Ge=e.patient)==null?void 0:Ge.personInformation)==null?void 0:Le.gender)=="M"?"Male":"Female")+" ",1),t[12]||(t[12]=o("span",{class:"dot"},".",-1)),u(" "+y(e.getAge((Re=(Ue=e.patient)==null?void 0:Ue.personInformation)==null?void 0:Re.birthdate))+" ("+y(e.formatBirthdate())+") ",1)])]),(We=(He=e.patient)==null?void 0:He.personInformation)!=null&&We.current_district?(c(),v("div",$s,[t[13]||(t[13]=o("div",{class:"demographicsText"},"Current Address:",-1)),o("div",As,y(e.formatCurrentAddress(e.patient)),1)])):w("",!0),(je=(ze=e.patient)==null?void 0:ze.personInformation)!=null&&je.country?(c(),v("div",Ns,[t[14]||(t[14]=o("div",{class:"demographicsText"},"Country:",-1)),o("div",Ms,y((qe=(Qe=e.patient)==null?void 0:Qe.personInformation)==null?void 0:qe.country),1)])):w("",!0),o("div",Bs,[o("div",Ps,[t[15]||(t[15]=u(" MRN: ")),o("span",Ts,y(e.patient.ID),1)])]),o("div",Os,[e.selectedStatus==7?(c(),v("div",Es,t[16]||(t[16]=[u(" Outcome: "),o("span",{class:"outcomeStatus"}," Active",-1)]))):w("",!0),e.selectedStatus==6?(c(),v("div",Fs,t[17]||(t[17]=[u(" Outcome: "),o("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Inactive",-1)]))):w("",!0),e.selectedStatus==3?(c(),v("div",Gs,t[18]||(t[18]=[u(" Outcome: "),o("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Died",-1)]))):w("",!0)]),o("div",Ls,[o("div",Us,[t[19]||(t[19]=u(" Status: ")),e.protectedStatus=="No"?(c(),v("span",Rs,"Unprotected at birth")):e.protectedStatus=="Yes"?(c(),v("span",Hs,"Protected at birth")):(c(),v("span",Ws,"Unknown protection at birth"))])])])])]),o("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:t[0]||(t[0]=T=>e.openPopover(T))},[n(l,{icon:e.ellipsisVerticalSharp},null,8,["icon"])])]),o("div",zs,[o("div",null,[e.isChild()?(c(),k(f,{key:0,checkUnderSixWeeks:e.checkUnderSixWeeks,showHeightWeight:!0},null,8,["checkUnderSixWeeks"])):w("",!0),e.isChild()?w("",!0):(c(),k(p,{key:1}))]),o("div",js,[o("div",Qs,[o("div",null,[n(h,{class:"btnText",fill:"solid",onClick:t[1]||(t[1]=T=>e.openWH())},{default:s(()=>[e.checkUnderSixWeeks?(c(),v("span",Ks," Enter Weight")):(c(),v("span",qs," Enter Weight/Height")),n(l,{slot:"end",size:"small",icon:e.iconsContent.whiteHeightWeight},null,8,["icon"])]),_:1})]),o("div",null,[n(h,{class:"btnText",fill:"solid",onClick:t[2]||(t[2]=T=>e.openVitalsModal())},{default:s(()=>[t[20]||(t[20]=u(" Enter Other Vitals ")),n(l,{slot:"end",size:"small",icon:e.iconsContent.whiteVitals},null,8,["icon"])]),_:1,__:[20]})])])])]),o("div",null,[e.overDueVaccinesCount>0?(c(),v("div",xs,[o("div",Js,[n(_,null,{default:s(()=>[e.overDueVaccinesCount>0?(c(),k(g,{key:0,style:{display:"flex","justify-content":"center",cursor:"pointer"},onClick:e.showMissedVaccines},{default:s(()=>[o("div",Zs,[n(l,{slot:"start",icon:e.iconsContent.alertDangerRed},null,8,["icon"]),o("span",Ys,y(e.overDueVaccinesCount)+" vaccine(s) overdue",1)])]),_:1},8,["onClick"])):w("",!0)]),_:1})])])):w("",!0),o("div",Xs,[o("div",ei,[t[22]||(t[22]=o("div",{class:"vaccinesTitleText"},"Administer Vaccines",-1)),o("div",ti,[t[21]||(t[21]=o("span",{style:{"font-size":"13px"}},"Next Appt. Date: ",-1)),o("b",null,y(e.nextAppointMentDate),1)])])]),o("div",ni,[o("div",si,[n(l,{size:"small",icon:e.iconsContent.greenCalender},null,8,["icon"]),o("div",ii,[t[23]||(t[23]=u(" at ")),o("span",oi,y(e.current_milestone),1)])]),t[24]||(t[24]=o("div",{class:"vaccinesTitleDate"},"(Swipe left or right for other milestones)",-1))]),n(m),o("div",ai,[o("div",ri,[e.lastVaccinesGiven.length>0?(c(),v("div",li,"Last vaccines given")):w("",!0),o("div",ci,[n(h,{onClick:t[3]||(t[3]=T=>e.openVH()),style:{color:"#016302"},class:"btnText btnTextWeight",size:"small",fill:"clear"},{default:s(()=>t[25]||(t[25]=[o("span",null,"See full History",-1)])),_:1,__:[25]})])]),e.lastVaccinesGiven.length>0?(c(),k(C,{key:0},{default:s(()=>[n(l,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),o("span",di,y(e.getLastVaccinesGivenDisplayDate()),1)]),_:1})):w("",!0),e.lastVaccinesGiven.length>0?(c(),k(C,{key:1},{default:s(()=>[n(I,{vaccines:e.lastVaccinesGiven,milestone_status:""},null,8,["vaccines"])]),_:1})):w("",!0)])])]),n(lt,{style:{"--offset-x":"-10px"},"is-open":e.popoverOpen,"show-backdrop":!1,event:e.event,onDidDismiss:t[11]||(t[11]=T=>e.popoverOpen=!1)},{default:s(()=>[o("div",null,[n(rt,{multiple:!0},{default:s(()=>[n(E,{value:"first","toggle-icon":"",onClick:t[4]||(t[4]=T=>e.openPIM())},{default:s(()=>[n(S,{slot:"header",color:"light"},{default:s(()=>[n(N,null,{default:s(()=>t[26]||(t[26]=[u("Update demographics")])),_:1,__:[26]})]),_:1})]),_:1}),n(E,{value:"first","toggle-icon":"",onClick:t[5]||(t[5]=T=>e.openFollowModal())},{default:s(()=>[n(S,{slot:"header",color:"light"},{default:s(()=>[n(N,null,{default:s(()=>t[27]||(t[27]=[u("Follow up visits")])),_:1,__:[27]})]),_:1})]),_:1}),n(E,{value:"second","toggle-icon":"",onClick:t[6]||(t[6]=T=>e.printVisitSummary())},{default:s(()=>[n(S,{slot:"header",color:"light"},{default:s(()=>[n(N,null,{default:s(()=>t[28]||(t[28]=[u("Print visit summary")])),_:1,__:[28]})]),_:1})]),_:1}),n(E,{value:"third","toggle-icon":"",onClick:t[7]||(t[7]=T=>e.printID())},{default:s(()=>[n(S,{slot:"header",color:"light"},{default:s(()=>[n(N,null,{default:s(()=>t[29]||(t[29]=[u("Print client identifier")])),_:1,__:[29]})]),_:1})]),_:1}),n(E,{value:"fourth"},{default:s(()=>[n(S,{slot:"header",color:"light"},{default:s(()=>[n(N,null,{default:s(()=>t[30]||(t[30]=[u("Update outcome")])),_:1,__:[30]})]),_:1}),o("div",ui,[n(de,null,{default:s(()=>[n(S,null,{default:s(()=>[n(te,{checked:e.selectedStatus==7,value:"active",onIonChange:t[8]||(t[8]=T=>e.updateState(7))},{default:s(()=>t[31]||(t[31]=[u(" Active ")])),_:1,__:[31]},8,["checked"])]),_:1}),n(S,null,{default:s(()=>[n(te,{checked:e.selectedStatus==6,value:"inactive",onIonChange:t[9]||(t[9]=T=>e.updateState(6))},{default:s(()=>t[32]||(t[32]=[u(" Inactive ")])),_:1,__:[32]},8,["checked"])]),_:1}),n(S,null,{default:s(()=>[n(te,{checked:e.selectedStatus==3,value:"died",onIonChange:t[10]||(t[10]=T=>e.updateState(3))},{default:s(()=>t[33]||(t[33]=[u(" Died ")])),_:1,__:[33]},8,["checked"])]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1},8,["is-open","event"])],64)}const eo=O(vs,[["render",mi],["__scopeId","data-v-deaa596f"]]);export{eo as default};
