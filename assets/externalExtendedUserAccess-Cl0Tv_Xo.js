import{d as h,e as l,f as a,k as y,cC as N,an as R,r as s,c as f,a as g,w as m,O as n,J as _,l as v,u as i,ao as w,a3 as D,m as x,a6 as C}from"./vendor-BeyhA3v1.js";import{N as E}from"./NavigationMenu-BJv-Iq4J.js";import{E as I}from"./EIRreportsStore-BO21Il1P.js";import{T as U}from"./TableSkeletonLoader-BSsug964.js";import{_ as b}from"./index-BvO-zzaj.js";import"./lodash-Dt8AsbQm.js";import"./apexcharts-7NjVVO2K.js";const B={class:"report-dashboard"},L={key:0,class:"no-url-message"},$=["src","title"],T=h({__name:"reportDashboard",props:{url:{default:""},title:{default:"Report Dashboard"}},setup(k){return(e,t)=>(a(),l("div",B,[e.url?(a(),l("iframe",{key:1,src:e.url,title:e.title||"Report Dashboard",class:"report-iframe",frameborder:"0",allowfullscreen:""},null,8,$)):(a(),l("div",L,t[0]||(t[0]=[y("p",null,"No report URL provided",-1)])))]))}}),V=b(T,[["__scopeId","data-v-098b07ed"]]),A={key:2,class:"no-facility-message"},M="https://mahistest.health.gov.mw/reports/home",O=h({__name:"externalExtendedUserAccess",setup(k){const e=N();R(),s(!1);const t=s(!0);s(""),s([]);const r=f(()=>e.params.facility_code||e.query.facility_code||""),u=f(()=>r.value?"".concat(M,"?Location=").concat(r.value):"");g(async()=>{d(),c()});async function c(){if(!r.value){console.warn("No facility_code provided in route"),t.value=!1;return}setTimeout(()=>{t.value=!1},500)}function d(){I().setNavigationPayload("Reports Dashboard",!0,!1,"/","/home","view mahis reports")}return m(()=>e.name,async o=>{o==="ReportDashboard"&&d()},{deep:!0}),m(()=>r.value,o=>{o&&(t.value=!0,c())}),(o,p)=>(a(),n(i(C),null,{default:_(()=>[v(E,{"title-icon":i(w)},null,8,["title-icon"]),v(i(D),{fullscreen:!0},{default:_(()=>[t.value?(a(),n(U,{key:0})):x("",!0),u.value?(a(),n(V,{key:1,url:u.value},null,8,["url"])):(a(),l("div",A,p[0]||(p[0]=[y("p",null,"No facility code provided",-1)])))]),_:1})]),_:1}))}}),G=b(O,[["__scopeId","data-v-d9a964dc"]]);export{G as default};
