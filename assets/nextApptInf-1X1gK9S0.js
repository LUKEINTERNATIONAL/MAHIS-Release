import{d as C,I as y,W as h,aj as v,ai as A,bp as w,aW as I,aZ as R,X as z,c$ as b,bX as D,bB as P,aP as M,E as a,y as V,f as O,z as t,l as e,k as i,A as l,B as p}from"./vendor-BV0gyDVt.js";import{j as c,P as k,u as B,_ as x}from"./index-1YBLjhMF.js";import{a as N,u as S,v as $,n as j}from"./vaccines_service-osfTGjP8.js";import{v as T}from"./voidReason-Cg8xoD-f.js";import{S as E}from"./sms_service-DTBYRz3p.js";const G=C({name:"PersonCard",components:{IonCard:R,IonCardContent:I,IonGrid:w,IonRow:A,IonCol:v,IonButton:h,IonIcon:y},data(){return{}},props:{person:{type:Object,required:!0}},setup(){return{calendarOutline:M,trashOutline:P,personCircleOutline:D,eyeOutline:b}},methods:{handleReschedule(){this.openNextVaccineAppoinment(this.person.person_id,this.person.encounter_id)},handleRemove(){this.voidAppoinment()},openNextVaccineAppoinment(o,n){c(j,{class:"otherVitalsModal"},!1,{patient_Id:o,encounter_Id:n})},async openClientProfile(o){const n=await k.findByNpid(o);await B().setPatientRecord(n[0]),this.$router.push("patientProfile")},async voidAppoinment(){await this.openVoidModal()},async openVoidModal(){const o=await z.create({component:T,cssClass:"otherVitalsModal",componentProps:{}});o.onDidDismiss().then(async n=>{if(n&&n.data)try{await $(this.person.encounter_id,n.data.name),(await E.getConfigurations()).show_sms_popup?await this.smsmodal(this.person):this.setAppointmentMentsReload()}catch(d){this.setAppointmentMentsReload()}}),await o.present()},async setAppointmentMentsReload(){const o=S();o.setAppointmentsReload(!o.getAppointmentsReload())},async smsmodal(o){(await c(N,{componentProps:{patient:o.person_id,date:o.appointmentDate},class:"smsConfirmation"})).onDidDismiss().then(async d=>{this.setAppointmentMentsReload()})}}}),W={class:"button-container"};function X(o,n,d,q,Z,F){const m=a("ion-icon"),u=a("ion-button"),s=a("ion-col"),r=a("ion-row"),_=a("ion-grid"),f=a("ion-card-content"),g=a("ion-card");return O(),V(g,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(f,{style:{padding:"2px"}},{default:t(()=>[e(u,{style:{position:"absolute",top:"10px",right:"10px","--padding-start":"8px","--padding-end":"8px","--padding-top":"4px","--padding-bottom":"4px","--box-shadow":"none"},onClick:n[0]||(n[0]=H=>o.openClientProfile(o.person.npid)),color:"primary",fill:"clear",size:"small"},{default:t(()=>[e(m,{icon:o.eyeOutline,style:{"font-size":"24px"}},null,8,["icon"])]),_:1}),e(_,null,{default:t(()=>[e(r,null,{default:t(()=>[e(s,{size:"6"},{default:t(()=>[n[1]||(n[1]=i("strong",null,"Name:",-1)),l(" "+p(o.person.name),1)]),_:1,__:[1]}),e(s,{size:"5"},{default:t(()=>[n[2]||(n[2]=i("strong",null,"Gender:",-1)),l(" "+p(o.person.gender),1)]),_:1,__:[2]})]),_:1}),e(r,null,{default:t(()=>[e(s,{size:"6"},{default:t(()=>[n[3]||(n[3]=i("strong",null,"Age/DOB:",-1)),l(" "+p(o.person.ageDob),1)]),_:1,__:[3]}),e(s,{size:"6"},{default:t(()=>[n[4]||(n[4]=i("strong",null,"Village:",-1)),l(" "+p(o.person.village),1)]),_:1,__:[4]})]),_:1}),e(r,null,{default:t(()=>[e(s,{size:"12"},{default:t(()=>[n[5]||(n[5]=i("strong",null,"Appointment Date:",-1)),l(" "+p(o.person.appointmentDate),1)]),_:1,__:[5]})]),_:1}),e(r,{class:"divider"},{default:t(()=>[e(s,{size:"12"},{default:t(()=>n[6]||(n[6]=[i("div",{class:"line"},null,-1)])),_:1,__:[6]})]),_:1}),e(r,{class:"actions"},{default:t(()=>[e(s,{size:"12"},{default:t(()=>[i("div",W,[e(u,{onClick:o.handleReschedule,color:"primary",fill:"outline",size:"small"},{default:t(()=>[e(m,{icon:o.calendarOutline,slot:"start"},null,8,["icon"]),n[7]||(n[7]=l(" Reschedule "))]),_:1,__:[7]},8,["onClick"]),e(u,{onClick:o.handleRemove,color:"danger",fill:"outline",size:"small"},{default:t(()=>[e(m,{icon:o.trashOutline,slot:"start"},null,8,["icon"]),n[8]||(n[8]=l(" Cancel "))]),_:1,__:[8]},8,["onClick"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Y=x(G,[["render",X],["__scopeId","data-v-6257a72e"]]);export{Y as n};
