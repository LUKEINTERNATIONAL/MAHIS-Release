System.register(["./vendor-legacy-LYGlphH7.js","./BirthRegistration.vue_vue_type_script_setup_true_lang-legacy-B5n6NV58.js","./StandardForm.vue_vue_type_script_setup_true_lang-legacy-Yd0RKnvI.js","./index-legacy-BUiyYzvd.js","./lodash-legacy-pOOc9Efu.js","./vaccines_service-legacy-CAdPehI6.js","./app_encounter_service-legacy-Cb9seZzT.js","./sms_service-legacy-Bqudvq7b.js","./appointment_service-legacy-B2wXnU3z.js","./EIRreportsStore-legacy-CJy_pkuN.js","./Export-legacy-DYPzdL1a.js","./relations_service-legacy-BE6xdiRd.js"],function(e,a){"use strict";var t,n,r,o,l,i,u,s,c,d,v,p,m,f,g,b,y,x,_,h,w,k,P,F,R,C,T,V,j,E,I,B,L,D,S,N,z,M,q,H,G,W;return{setters:[e=>{t=e.c,n=e.d,r=e.a,o=e.y,l=e.f,i=e.u,u=e.r,s=e.bW,c=e.au,d=e.z,v=e.e,p=e.m,m=e.l,f=e.k,g=e.bP,b=e.S,y=e.a9,x=e.i,_=e.v,h=e.V,w=e.W,k=e.A,P=e.F,F=e.L,R=e.p,C=e.af},e=>{T=e.u,V=e.e,j=e.R,E=e.c,I=e.f,B=e.d,L=e.a,D=e._,S=e.b},e=>{N=e._},e=>{z=e.i,M=e.ak,q=e.S,H=e.t,G=e.A,W=e._},null,null,null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".spinner-overlay[data-v-bbbeaa03]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000}.spinner-overlay ion-spinner[data-v-bbbeaa03]{width:50px;height:50px;color:#fff}.spinner-overlay .loading-text[data-v-bbbeaa03]{color:#fff;margin-top:10px;font-size:1.1em}.header-title[data-v-bbbeaa03]{text-align:center;font-weight:700;font-size:18px;width:100%;padding:14px;background-color:#f8f8f8;color:#333;box-shadow:0 2px 4px rgba(0,0,0,.1)}.masonry-grid[data-v-bbbeaa03]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;padding:16px}@media (max-width: 575px){.masonry-grid[data-v-bbbeaa03]{grid-template-columns:1fr}}@media (min-width: 576px) and (max-width: 767px){.masonry-grid[data-v-bbbeaa03]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 768px) and (max-width: 991px){.masonry-grid[data-v-bbbeaa03]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 992px){.masonry-grid[data-v-bbbeaa03]{grid-template-columns:repeat(4,1fr)}}@media (min-width: 1500px){.masonry-grid[data-v-bbbeaa03]{margin-left:100px;margin-right:100px}}.custom-card[data-v-bbbeaa03]{background:#fff;border-radius:5px;padding:5px 15px 15px;transition:transform .2s ease-in-out}.card-margin-top[data-v-bbbeaa03]{margin-top:16px}.footer-content[data-v-bbbeaa03]{display:flex;justify-content:space-between;width:100%;padding:10px;align-items:center;background-color:#f8f8f8;box-shadow:0 -2px 4px rgba(0,0,0,.1)}.footer-buttons-left[data-v-bbbeaa03],.footer-buttons-right[data-v-bbbeaa03]{display:flex;gap:10px}.pagination-dots[data-v-bbbeaa03]{display:flex;gap:8px;justify-content:center;align-items:center}.dot[data-v-bbbeaa03]{width:10px;height:10px;background-color:#ccc;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.dot.active[data-v-bbbeaa03]{background-color:#28a745;transform:scale(1.2)}.dot[data-v-bbbeaa03]:hover{background-color:#218838}\n/*$vite$:1*/",document.head.appendChild(a);const $=n({__name:"Country",setup(e,{expose:a}){const{country:n}=(()=>{const{countriesList:e}=T();return{country:t(()=>[{componentType:"Heading",name:"Country",position:"center"},{componentType:"multiSelectInputField",header:"Country",name:"country",trackBy:"district_id",openDirection:"auto",icon:z.search,validation:e=>M.required(e),options:e.value}])}})(),{formRef:u,exposeFormMethods:s}=V();return r(()=>{var e;null===(e=u.value)||void 0===e||e.setFormValue("country",{district_id:292,name:"Malawi",region_id:4})}),a(s()),(e,a)=>(l(),o(N,{formData:i(n),ref_key:"formRef",ref:u},null,8,["formData"]))}}),A=n({__name:"PatientType",setup(e,{expose:a}){const{patientType:n}=(()=>{const{facilityList:e,getFacilities:a}=T();return a(),{patientType:t(()=>[{componentType:"Heading",name:"Patient Type",position:"center"},{componentType:"radioButtonField",header:"Patient Type",name:"patient_type",type:"inline",validation:M.required,options:[{label:"New patient",value:"New patient"},{label:"Emergency supply",value:"Emergency supply"},{label:"External consultation",value:"External consultation"}]},{componentType:"multiSelectInputField",header:"Facility",name:"facility",trackBy:"facility_id",openDirection:"auto",icon:z.search,validation:e=>M.required(e),options:e.value.facilities,condition:e=>"Emergency supply"==(null==e?void 0:e.patient_type)||"External consultation"==(null==e?void 0:e.patient_type)}])}})(),{formRef:r,exposeFormMethods:u}=V();return a(u()),(e,a)=>(l(),o(N,{formData:i(n),ref_key:"formRef",ref:r},null,8,["formData"]))}});function Y(){const e=u(1),a=u(4),n=t(()=>0===a.value?4:Math.ceil(4/a.value)),o=t(()=>n.value>1),l=t(()=>o.value&&e.value>1),i=t(()=>o.value&&e.value<n.value),c=()=>{a.value=(()=>{const e=window.innerWidth;return e>=992?4:e>=768?3:e>=576?2:1})(),e.value>n.value&&(e.value=n.value),0===e.value&&n.value>0&&(e.value=1)};return r(()=>{window.addEventListener("resize",c),c()}),s(()=>{window.removeEventListener("resize",c)}),{currentPage:e,columnsPerRow:a,totalPages:n,showPaginationButtons:o,showPreviousButton:l,showNextButton:i,nextPage:()=>{e.value<n.value&&e.value++},prevPage:()=>{e.value>1&&e.value--},goToPage:a=>{a>=1&&a<=n.value&&(e.value=a)},handleResize:c,isCardVisible:t=>{if(1===n.value)return!0;const r=(e.value-1)*a.value,o=r+a.value-1;return t>=r&&t<=o}}}const J={key:0,class:"spinner-overlay"},K={class:"masonry-grid"},O={class:"card-container"},Q={class:"custom-card"},U={class:"card-container"},X={key:0,class:"custom-card"},Z={key:1,class:"custom-card"},ee={class:"custom-card card-margin-top"},ae={key:0,class:"card-container"},te={class:"custom-card"},ne={class:"custom-card card-margin-top"},re={class:"card-container"},oe={class:"custom-card"},le={key:0,class:"custom-card card-margin-top"},ie={class:"footer-content"},ue={class:"footer-buttons-left"},se={key:0,class:"pagination-dots"},ce=["onClick","aria-label"],de={class:"footer-buttons-right"};e("default",W(n({__name:"Registration",setup(e){const a=u(!1),n=c(),r=u(null),s=u(null),T=u(null),V=u(null),N=u(null),z=u(null),M=u(null),W=u(null),ve=t(()=>{var e;return(null===(e=r.value)||void 0===e?void 0:e.currentFormValues)||{}}),pe=t(()=>{var e;return(null===(e=s.value)||void 0===e?void 0:e.currentFormValues)||{}}),me=t(()=>{var e;return(null===(e=T.value)||void 0===e?void 0:e.currentFormValues)||{}}),fe=t(()=>{var e;return(null===(e=V.value)||void 0===e?void 0:e.currentFormValues)||{}}),ge=t(()=>{var e;return(null===(e=N.value)||void 0===e?void 0:e.currentFormValues)||{}}),be=t(()=>{var e;return(null===(e=z.value)||void 0===e?void 0:e.currentFormValues)||{}}),ye=t(()=>{var e;return(null===(e=M.value)||void 0===e?void 0:e.currentFormValues)||{}}),xe=t(()=>{var e;return(null===(e=W.value)||void 0===e?void 0:e.currentFormValues)||{}}),_e=t(()=>({personalInformation:ve.value,birthRegistration:pe.value,socialHistory:me.value,country:fe.value,currentLocation:ge.value,homeLocation:be.value,guardianInformation:ye.value,patientType:xe.value})),he=t(()=>(new j).checkIfChild(ve.value)),{nextPage:we,prevPage:ke,goToPage:Pe,isCardVisible:Fe,showPreviousButton:Re,showPaginationButtons:Ce,totalPages:Te,currentPage:Ve,showNextButton:je}=Y(),Ee=async()=>{(()=>{const e=[r,s,T,V,N,z,M,W];return e.forEach(e=>{var a;return null===(a=e.value)||void 0===a?void 0:a.validateForm()}),e.every(e=>{var a;return null==(null===(a=e.value)||void 0===a?void 0:a.validateForm())})})()?await(new j).saveRegistrationData(_e.value)&&(32==q.getProgramID()?Ie("/NCDEnrollment"):Ie("/patientProfile")):H("Please fill in all required fields")},Ie=e=>{n.push({path:e})};return(e,t)=>(l(),o(i(C),{class:R({loading:a.value})},{default:d(()=>[a.value?(l(),v("div",J,[m(i(g),{name:"bubbles"}),t[3]||(t[3]=f("div",{class:"loading-text"},"Please wait...",-1))])):p("",!0),m(i(b),null,{default:d(()=>t[4]||(t[4]=[f("div",{class:"header-title"},"New Patient Registration",-1)])),_:1,__:[4]}),m(i(y),null,{default:d(()=>{var e;return[f("div",K,[x(f("div",O,[f("div",Q,[m(E,{ref_key:"personalInformationRef",ref:r},null,512)])],512),[[_,i(Fe)(0)]]),x(f("div",U,[he.value.underNineMonths?(l(),v("div",X,[he.value.underNineMonths?(l(),o(I,{key:0,ref_key:"birthRegistrationRef",ref:s},null,512)):p("",!0)])):p("",!0),he.value.moreThanThirteenYears?(l(),v("div",Z,[m(B,{ref_key:"socialHistoryRef",ref:T},null,512)])):p("",!0),f("div",ee,[m($,{ref_key:"countryRef",ref:V},null,512)])],512),[[_,i(Fe)(1)]]),"Malawi"===(null===(e=fe.value)||void 0===e||null===(e=e.country)||void 0===e?void 0:e.name)?x((l(),v("div",ae,[f("div",te,[m(L,{ref_key:"currentLocationRef",ref:N},null,512)]),f("div",ne,[m(D,{currentLocationFormValues:ge.value,ref_key:"homeLocationRef",ref:z},null,8,["currentLocationFormValues"])])],512)),[[_,i(Fe)(2)]]):p("",!0),x(f("div",re,[f("div",oe,[m(S,{personalInformationFormValues:ve.value,ref_key:"guardianInformationRef",ref:M},null,8,["personalInformationFormValues"])]),1==i(q).getProgramID()?(l(),v("div",le,[m(A,{ref_key:"patientTypeRef",ref:W},null,512)])):p("",!0)],512),[[_,i(Fe)(3)]])])]}),_:1}),m(i(h),null,{default:d(()=>[f("div",ie,[f("div",ue,[m(i(w),{color:"danger","aria-label":"Cancel registration",onClick:t[0]||(t[0]=e=>(async()=>{await G("Do you want to cancel registration?","",{confirmBtnLabel:"Yes",icon:"",showBackdrop:!0})&&Ie("/home")})())},{default:d(()=>t[5]||(t[5]=[k("Cancel")])),_:1,__:[5]}),x(m(i(w),{onClick:t[1]||(t[1]=e=>i(ke)()),"aria-label":"Go to previous page"},{default:d(()=>t[6]||(t[6]=[k("Previous")])),_:1,__:[6]},512),[[_,i(Re)]])]),i(Ce)?(l(),v("div",se,[(l(!0),v(P,null,F(i(Te),e=>(l(),v("span",{key:e,class:R({dot:!0,active:e===i(Ve)}),onClick:a=>i(Pe)(e),"aria-label":`Go to page ${e}`,role:"button"},null,10,ce))),128))])):p("",!0),f("div",de,[x(m(i(w),{name:"Save",onClick:Ee,"aria-label":"Save patient data"},{default:d(()=>t[7]||(t[7]=[k("Save")])),_:1,__:[7]},512),[[_,i(Ve)===i(Te)]]),x(m(i(w),{onClick:t[2]||(t[2]=e=>i(we)()),"aria-label":"Go to next page"},{default:d(()=>t[8]||(t[8]=[k("Next")])),_:1,__:[8]},512),[[_,i(je)]])])])]),_:1})]),_:1},8,["class"]))}}),[["__scopeId","data-v-bbbeaa03"]]))}}});
