import{d as T,a as A,r as V,E as v,e as y,f as w,k as t,l as s,z as o,A as c,X as x,u as g,W as D}from"./vendor-Bx_IVmwz.js";import{x as k,A as b,i as F,B as C,y as r,L as B,n as p,k as O,t as E,_ as S}from"./index-C_B4etN5.js";import{v as N}from"./group_validation-r1qGoral.js";const $={class:"pim-cls-1 modal_wrapper"},h={class:"center text_12"},q={class:"btnContent"},H={class:"saveBtn"},L=T({__name:"AddTA",setup(m){A(async()=>{await u()});const u=async()=>{k(e.value,"TA_district","multiSelectData",await b("districts"))},n=()=>{x.dismiss()},_=async()=>{if(await N(e.value)){const d=r(e.value,"TA","value"),a=r(e.value,"Village","value").split(","),l=r(e.value,"TA_district","value").district_id,i=await B.createAddress({address_type:"Village",addresses:a,parent_location:l,ta_name:d});i&&(p().postData("ADD_OBJECT_STORE",{storeName:"TAs",data:i.ta_data}),Promise.all(i.village_data.map(f=>p().postData("ADD_OBJECT_STORE",{storeName:"villages",data:f}))),O("Location added successfully")),n()}else E("Please fill all the required field")},e=V([{selectedData:[],isFinishBtn:!1,data:{rowData:[{colData:[{inputHeader:"District*",icon:F.search,value:"",name:"TA_district",setName:"TALocation",eventType:"input",alertsErrorMassage:"",isSingleSelect:!0,popOver:!0,trackBy:"district_id",multiSelectData:[],id:"",idName:"district_id",validationFunctionName:"required"}]}]}},{data:{rowData:[{colData:[{inputHeader:"TA*",value:"",name:"TA",eventType:"input",alertsErrorMassage:"",validationFunctionName:"required"}]}]}},{data:{rowData:[{colData:[{inputHeader:"Village*",value:"",name:"Village",eventType:"input",alertsErrorMassage:"",validate:!1,validationFunctionName:"required"}]}]}}]);return(d,a)=>{const l=v("ion-row"),i=v("ion-button");return w(),y("div",$,[a[3]||(a[3]=t("div",{class:"OtherVitalsHeading"},[t("div",{class:"OtherVitalsTitle",style:{color:"#1f2221d4","font-size":"16px"}},"Add TA")],-1)),t("div",null,[t("div",h,[s(l,null,{default:o(()=>[s(C,{contentData:e.value},null,8,["contentData"])]),_:1})])]),t("div",q,[t("div",H,[s(i,{class:"btnText",color:"danger",fill:"solid",onClick:a[0]||(a[0]=f=>n()),style:{"margin-right":"8px"}},{default:o(()=>a[1]||(a[1]=[c(" Cancel ")])),_:1,__:[1]}),s(i,{class:"btnText",fill:"solid",onClick:_},{default:o(()=>a[2]||(a[2]=[c(" Save ")])),_:1,__:[2]})])])])}}}),X=S(L,[["__scopeId","data-v-a02493d1"]]),M={class:"pim-cls-1 modal_wrapper"},I={class:"center text_12"},P={class:"btnContent"},R={class:"saveBtn"},z=T({__name:"AddVillage",props:{taData:Object},setup(m){A(async()=>{});const u=m,n=()=>{x.dismiss()},_=async()=>{if(await N(e.value)){const d=r(e.value,"Village","value").split(","),a=await B.createAddress({address_type:"Village",addresses:d,parent_location:u.taData.traditional_authority_id});a&&(Promise.all(a.village_data.map(l=>p().postData("ADD_OBJECT_STORE",{storeName:"villages",data:l}))),O("Location added successfully")),n()}else E("Please fill all the required field")},e=V([{data:{rowData:[{colData:[{inputHeader:"Village*",value:"",name:"Village",eventType:"input",alertsErrorMassage:"",validate:!1,required:!0}]}]}}]);return(d,a)=>{const l=v("ion-row");return w(),y("div",M,[a[3]||(a[3]=t("div",{class:"OtherVitalsHeading"},[t("div",{class:"OtherVitalsTitle",style:{color:"#1f2221d4","font-size":"16px"}},"Add Village")],-1)),t("div",null,[t("div",I,[s(l,null,{default:o(()=>[s(C,{contentData:e.value},null,8,["contentData"])]),_:1})])]),t("div",P,[t("div",R,[s(g(D),{class:"btnText",color:"danger",fill:"solid",onClick:a[0]||(a[0]=i=>n()),style:{"margin-right":"8px"}},{default:o(()=>a[1]||(a[1]=[c(" Cancel ")])),_:1,__:[1]}),s(g(D),{class:"btnText",fill:"solid",onClick:_},{default:o(()=>a[2]||(a[2]=[c(" Save ")])),_:1,__:[2]})])])])}}}),G=S(z,[["__scopeId","data-v-c26c2237"]]);export{G as A,X as a};
