System.register(["./app_encounter_service-legacy-LJRPnsbp.js","./index-legacy-CAqY44sk.js","./vendor-legacy-PwJwfeg2.js","./lodash-legacy-C-x9g9Na.js"],(function(t,e){"use strict";var N,O,T,E,A,a;return{setters:[t=>{N=t.A},t=>{O=t.J,T=t.Q,E=t.a5},t=>{A=t.O},t=>{a=t.l}],execute:function(){t("C",class extends N{constructor(t,e,N=(t=>null===(t=O().getfacilityLocation())||void 0===t?void 0:t.code)()){super(t,53,e,N)}getFamilyPlanningMethods(){return["ORAL CONTRACEPTIVE PILLS","DEPO-PROVERA","INTRAUTERINE CONTRACEPTION","CONTRACEPTIVE IMPLANT","MALE CONDOMS","FEMALE CONDOMS","TUBAL LIGATION","NONE"]}async getTptTreatmentStatus(){return N.getJson(`/patients/${this.patientID}/tpt_status`,{date:this.date})}async patientHitMenopause(){const t=await T.getFirstObs(this.patientID,"Why does the woman not use birth control");return!(!t||"string"!=typeof(null==t?void 0:t.value_text))&&!!t.value_text.match(/menopause/i)&&N.obsInValidPeriod(t)}async hasTreatmentHistoryObs(){const t=await T.getFirstObs(this.patientID,"Previous TB treatment history");return t&&N.obsInValidPeriod(t)}getDrugSideEffects(){return N.getJson(`programs/${N.getProgramID()}/patients/${this.patientID}/medication_side_effects`,{date:this.date})}getClient(){return N.getFirstValueCoded(this.patientID,"Patient present")}async clientLastScreened(){const t=await N.getJson("last_cxca_screening_details",{id:this.patientID,date:this.date});return!a.isEmpty(t)}async clientDueForCxCa(){const t=await N.getJson("last_cxca_screening_details",{id:this.patientID,date:this.date});if(!a.isEmpty(t)){const e=t.date_screened;return A(this.date).diff(e,"years")>=1}return!0}async clientHasHadAHysterectomy(){return"Hysterectomy"===await N.getFirstValueCoded(this.patientID,"Reason for NOT offering CxCa")||"Hysterectomy"===await N.getFirstValueText(this.patientID,"Treatment")}async getTLObs(){const t=t=>t&&"Tubal ligation"===t.value_coded&&N.obsInValidPeriod(t),e=await N.getFirstObs(this.patientID,"Family planning");return t(e)?t(e):t(await N.getFirstObs(this.patientID,"Method of family planning"))}async getPreviousDrugs(){const t=await N.getJson(`patients/${this.patientID}/drugs_received`);if(!t)return;const e={};return t.forEach((t=>{e[t.drug_inventory_id]=t})),e}async getCurrentMedications(){try{return await E.getLastDrugsReceived(this.patientID)||[]}catch(t){return console.error("Error fetching current medications:",t),[]}}familyPlanningMethods(t,e){const N={"ORAL CONTRACEPTIVE PILLS":{"DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"DEPO-PROVERA":{"ORAL CONTRACEPTIVE PILLS":"N","INTRAUTERINE CONTRACEPTION":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"INTRAUTERINE CONTRACEPTION":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"CONTRACEPTIVE IMPLANT":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"MALE CONDOMS":{"ORAL CONTRACEPTIVE PILLS":"Y","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"Y","CONTRACEPTIVE IMPLANT":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"Y","TUBAL LIGATION":"N",VASECTOMY:"Y"},"FEMALE CONDOMS":{"ORAL CONTRACEPTIVE PILLS":"Y","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"Y","CONTRACEPTIVE IMPLANT":"Y","MALE CONDOMS":"Y","RYTHM METHOD":"Y","TUBAL LIGATION":"N",VASECTOMY:"Y"},"RYTHM METHOD":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","CONTRACEPTIVE IMPLANT":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"TUBAL LIGATION":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"N","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"N","RYTHM METHOD":"N",VASECTOMY:"N"},VASECTOMY:{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N"},NONE:{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"N","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"N","RYTHM METHOD":"N","TUBAL LIGATION":"N"}}[t];return e.map((t=>"N"===N[t.label]?{label:t.label,value:t.value,isChecked:!1,disabled:!0}:{label:t.label,value:t.value,isChecked:t.isChecked,disabled:!1}))}})}}}));
