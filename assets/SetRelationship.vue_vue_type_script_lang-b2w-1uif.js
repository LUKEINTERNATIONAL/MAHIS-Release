import{D as f,d as D,ab as l}from"./vendor-CwRShy1a.js";import{k as a,H as v,S as r,n as S,b8 as g,d as y,u as _}from"./index-Dxep0tg5.js";import{l as i}from"./lodash-Dt8AsbQm.js";const c=[{data:{rowData:[{colData:[{inputHeader:"Guardian National ID",iconRight:"",icon:a.nationalID,value:"",valueType:"text",name:"guardianNationalID",eventType:"input",alertsErrorMassage:"",placeholder:"__-__-__-__",validationFunctionName:"isMWNationalID"}]}]}},{selectedData:{},isFinishBtn:!1,data:{rowData:[{colData:[{inputHeader:"First name",icon:a.fullName,value:"",name:"guardianFirstname",eventType:"input",alertsErrorMassage:"",valueType:"text",validationFunctionName:"isNameEmpty"}]}]}},{data:{rowData:[{colData:[{inputHeader:"Last name",icon:a.fullName,value:"",name:"guardianLastname",eventType:"input",alertsErrorMassage:"",valueType:"text",validationFunctionName:"isNameEmpty"}]}]}},{data:{rowData:[{colData:[{inputHeader:"Middle name",icon:a.fullName,value:"",name:"guardianMiddleName",eventType:"input",alertsErrorMassage:"",valueType:"text",validationFunctionName:"isNameEmpty"}]}]}},{data:{rowData:[{colData:[{inputHeader:"Phone number",icon:a.phone,value:"",name:"guardianPhoneNumber",eventType:"input",alertsErrorMassage:"",valueType:"text",validationFunctionName:"isMWPhoneNumber"}]}]}},{data:{rowData:[{colData:[{inputHeader:"Relationship to patient",icon:a.search,value:"",name:"relationship",eventType:"input",alertsErrorMassage:"",selectedID:"",validationFunctionName:"isNameWithSlush",isSingleSelect:!0,trackBy:"trackByID",multiSelectData:[]}]}]}}],d=[{classDash:"solid_bottom_border",checkboxBtnContent:{header:{name:"Vaccine adverse effects",title:"Adverse event (s)",class:"bold"},data:[{name:"Severe local reaction",value:"Severe local reaction",colSize:12,checked:!1},{name:"Sepsis",value:"Sepsis",colSize:12,checked:!1},{name:"High fever > 38*c",value:"High fever > 38*c",colSize:12,checked:!1},{name:"Encephalopathy",value:"Encephalopathy",colSize:12,checked:!1},{name:"Toxic Shock syndrome",value:"Toxic Shock syndrome",colSize:12,checked:!1},{name:"Convulsions",value:"Convulsions",colSize:12,checked:!1},{name:"Abscess",value:"Abscess",colSize:12,checked:!1},{name:"Thrombocytopenia",value:"Thrombocytopenia",colSize:12,checked:!1},{name:"Other",value:"Other",colSize:12,checked:!1},{name:"Anaphylaxis",value:"Anaphylaxis",colSize:12,checked:!1}]}}],u=[{selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{selectedValue:"",title:"Serious",class:"bold",displayNext:"yes",name:"SeriousCheck"},data:[{name:"Yes",value:"yes",colSize:"4",labelPlacement:"start"},{name:"No",value:"no",colSize:"4",labelPlacement:"start"}]}},{childName:"SeriousCheck",classDash:"solid_bottom_border",checkboxBtnContent:{header:{name:"Seriousness of adverse effects",displayNone:!0},data:[{name:"Death",value:"Death",colSize:"",checked:!1},{name:"Life threatening condition",value:"Life threatening condition",colSize:"",checked:!1},{name:"Disability",value:"Disability",colSize:"",checked:!1},{name:"Congenital disorders",value:"Congenital disorders",colSize:"",checked:!1},{name:"Other",value:"Other",colSize:"",checked:!1},{name:"Hospitalization",value:"Hospitalization",colSize:"",checked:!1}]}}],h=[{classDash:"solid_bottom_border",radioBtnContent:{header:{name:"Adverse effects outcome",title:"Outcome",class:"bold",displayNext:"Patient died"},data:[{name:"Unknown",value:"Unknown",colSize:"",checked:!1},{name:"Recovering",value:"Recovering",colSize:"",checked:!1},{name:"Not Recovered",value:"Not Recovered",colSize:"",checked:!1},{name:"Recovered with sequelae",value:"Recovered with sequelae",colSize:"",checked:!1},{name:"Died",value:"Patient died",colSize:"",checked:!1},{name:"Recovered",value:"Cured - TB",colSize:"",checked:!1}]}},{sideColSize:1,childName:"Adverse effects outcome",data:{rowData:[{colData:[{inputHeader:"Date of death",icon:a.calenderPrimary,placeholder:"Pick the date",buildConceptIgnore:!0,value:"",name:"Date of death",eventType:"input",isDatePopover:!0,displayNone:!0,minDate:"",maxDate:v.sessionDate()}]}]}}],p=[{selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{selectedValue:"",title:"Investigation needed",class:"bold",displayNext:"yes",name:"investigation_needed"},data:[{name:"Yes",value:"yes",colSize:"4",labelPlacement:"start"},{name:"No",value:"no",colSize:"4",labelPlacement:"start"}]}},{sideColSize:1,childName:"investigation_needed",data:{rowData:[{colData:[{inputHeader:"Date investigation planned",icon:a.calenderPrimary,placeholder:"Pick the date",buildConceptIgnore:!0,value:"",name:"Investigation needed",eventType:"input",isDatePopover:!0,displayNone:!0,minDate:v.sessionDate(),maxDate:""}]}]}}],m=[{data:{rowData:[{colData:[{inputHeader:"Protected at birth (PAB)*",icon:a.search,valueType:"text",isSingleSelect:!0,popOver:!0,value:"",name:"Protected at birth",validationFunctionName:"required",multiSelectData:[{concept_id:1065,name:"Yes"},{concept_id:1066,name:"No"},{concept_id:1067,name:"Don't know"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id"}]}]}}],z=f("followUpStoreStore",{state:()=>({changeGuardianInfo:[...c],vaccineAdverseEffects:[...d],protectedAtBirth:[...m],serious:[...u],outcome:[...h],firstDecision:[...p]}),actions:{setChangeGuardianInfo(e){this.changeGuardianInfo=e},getInitialChangeGuardianInfo(){return[...i.cloneDeep(c)]},getInitialSerious(){return[...i.cloneDeep(u)]},getInitialOutcome(){return[...i.cloneDeep(h)]},getInitialFirstDecision(){return[...i.cloneDeep(p)]},setVaccineAdverseEffects(e){this.vaccineAdverseEffects=e},getInitialVaccineAdverseEffects(){return[...i.cloneDeep(d)]},setProtectedAtBirth(e){this.protectedAtBirth=e},getInitialProtectedAtBirth(){return[...i.cloneDeep(m)]}}}),P=D({data:()=>({relationships:[],relationshipsData:[],patientGender:"male",filteredRelationships:[]}),computed:{...l(_,["patient"]),...l(y,["apiStatus"]),gender(){var e,t;return(t=(e=this.patient)==null?void 0:e.personInformation)==null?void 0:t.gender}},watch:{$route:{async handler(e){await this.getRelationships()},immediate:!0,deep:!0}},methods:{async getRelationships(){this.gender&&((r.getLanConnectionStatus()||r.getPouchDbStatus())&&(this.relationshipsData=await S("relationship")),this.apiStatus&&this.relationshipsData.length===0&&(this.relationshipsData=await g.getRelations()),this.filterRelationships(),this.relationships=this.filteredRelationships.map(e=>[{name:e.b_is_to_a,id:e.relationship_type_id,trackByID:e.relationship_type_id+e.b_is_to_a}]).reduce((e,t)=>e.concat(t),[]))},filterRelationships(){var s;const e=["Brother","Father","Son","Grandfather","Grandson","Boyfriend","Stepfather","Stepson"],t=["Sister","Mother","Daughter","Grandmother","Granddaughter","Girlfriend","Stepmother","Stepdaughter"],o=["Spouse/Partner","Aunt/Uncle","Niece/Nephew","Doctor","Other","Patient","TB Contact Person","TB Patient","treatment suporter"];((s=this.relationshipsData)==null?void 0:s.length)>0&&(this.filteredRelationships=this.relationshipsData.filter(n=>this.gender==="M"?e.includes(n.a_is_to_b)||o.includes(n.a_is_to_b):this.gender==="F"?t.includes(n.a_is_to_b)||o.includes(n.a_is_to_b):!1))}}});export{P as _,z as u};
