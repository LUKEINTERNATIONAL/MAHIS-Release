System.register(["./index-legacy-OY9Pz0c2.js","./vendor-legacy-DYPX_RFx.js"],function(t,e){"use strict";var a,s,i,r,l,u,n;return{setters:[t=>{a=t.d,s=t.S,i=t.L,r=t.q},t=>{l=t.r,u=t.c,n=t.w}],execute:function(){t("u",function(){const t=l([]),e=l([]),c=l([]),o=l([]),g=l(null),d=l([]),y=l([]),v=l(null),S=l(null),w=l(!1),I=a(),h=u(()=>I.apiStatus);n(v,async t=>{if(t)try{e.value=await D(t)}catch(a){e.value=[]}else e.value=[]}),n(S,async t=>{if(t)try{c.value=await A(t)}catch(e){c.value=[]}else c.value=[]});const A=async t=>{try{return!s.getAPIStatus()||s.getModsStatus()||s.getUseIndexDBStatus()?await r("villages",{whereClause:{traditional_authority_id:t}}):await i.getVillages(t)}catch(e){return console.error("Error getting villages:",e),[]}},D=async t=>{try{return!s.getAPIStatus()||s.getModsStatus()||s.getUseIndexDBStatus()?await r("TAs",{whereClause:{district_id:t}}):await i.getTraditionalAuthorities(t)}catch(e){return console.error("Error getting TAs:",e),[]}};return{districtList:t,countriesList:o,locations:y,isLoading:w,selectedDistrictId:v,TAs:e,villages:c,selectedTraditionalAuthorityId:S,facilityList:d,countryID:g,apiStatus:h,getVillages:A,getTAs:D,getDistricts:async()=>{w.value=!0;try{if(!s.getAPIStatus()||s.getModsStatus()||s.getUseIndexDBStatus())t.value=await r("districts");else for(let e of[1,2,3]){const a=await i.getDistricts(e);t.value.push(...a)}return t.value}catch(e){console.error("Error loading location data:",e)}finally{w.value=!1}},getCountries:async()=>{w.value=!0;try{return!s.getAPIStatus()||s.getModsStatus()||s.getUseIndexDBStatus()?o.value=await r("countries"):o.value=await i.getDistricts(4),o.value}catch(t){console.error("Error loading location data:",t)}finally{w.value=!1}},getFacilities:async()=>{d.value=await i.getAllFacilities()},getCountryID:async t=>{let e;e=!s.getAPIStatus()||s.getModsStatus()||s.getUseIndexDBStatus()?await r("countries",{whereClause:{name:t}}):await i.getDistricts(4,t),g.value=e[0].district_id}}})}}});
