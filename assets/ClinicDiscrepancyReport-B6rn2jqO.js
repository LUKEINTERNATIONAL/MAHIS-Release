import{bS as p,bR as t,ay as n,ax as l}from"./index-CxGHJaHZ.js";import{P as d}from"./program_report_service-CZde-_77.js";import{d as u,r as i,N as f,f as m}from"./vendor-BgyWXnfw.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-DP0Qgshc.js";const v=u({__name:"ClinicDiscrepancyReport",setup(_){const r=i("-"),o=i([]),s=[{label:"Drug Count Date",path:"verification_date",formatter:t},{label:"Drug Name",path:"short_name"},{label:"Expected Count",path:"expected_quantity",formatter:t},{label:"Verified Count",path:"current_quantity",formatter:t},{label:"Difference",path:"difference",formatter:t},{label:"Reason",path:"variance_reason"}];async function c(a){await n.show();try{const e=new d;e.setStartDate(a.dateRange.startDate),e.setEndDate(a.dateRange.endDate),r.value=e.getDateIntervalPeriod(),o.value=await e.generate("discrepancy_report")}catch(e){l("Unable to load report data"),console.error(e)}await n.hide()}return(a,e)=>(m(),f(p,{title:"Clinic Discrepancy Report","report-type":"Clinic",columns:s,rows:o.value,period:r.value,"use-date-range-filter":"","use-secure-export":"",onGenerate:c},null,8,["rows","period"]))}});export{v as default};
