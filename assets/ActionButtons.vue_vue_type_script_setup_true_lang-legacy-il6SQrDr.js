System.register(["./index-legacy-D5NHGThA.js","./vendor-legacy-BTbHWMAP.js","./Arrays-legacy-BSC7onNe.js"],function(e,a){"use strict";var n,r,i,t,o,s,c,l,d,p,u,g,m,_,R,A,v,h,O,P,I,b,C,M,f,G,y,k,D,x,E,T,N,w,F,S,V,B,L,H,U,Y,z,j,J,K,W;return{setters:[e=>{n=e.J,r=e.p,i=e.af,t=e.S,o=e.t,s=e.ag,c=e.ah,l=e._,d=e.q,p=e.v,u=e.g},e=>{g=e.d,m=e.r,_=e.c,R=e.a,A=e.y,v=e.f,h=e.z,O=e.l,P=e.u,I=e.S,b=e.T,C=e.A,M=e.B,f=e.I,G=e.aB,y=e.X,k=e.ao,D=e.e,x=e.F,E=e.L,T=e.ac,N=e.ab,w=e.ay,F=e.D,S=e.V,V=e.W,B=e.au,L=e.w,H=e.E,U=e.bl,Y=e.k,z=e.ak,j=e.cy,J=e.cx,K=e.cj},e=>{W=e.m}],execute:function(){var a=document.createElement("style");a.textContent=".his-card[data-v-a3e18228]{border:1px solid #cccbcb;background:var(--his-card-primary-color);padding:var(--his-card-primary-padding);margin:var(--his-card-primary-padding);border-radius:var(--his-card-primary-border-radius);-webkit-box-shadow:var(--his-card-primary-shadow-webkit);-moz-box-shadow:var(--his-card-primary-shadow-moz);box-shadow:var(--his-card-primary-shadow)}.clickable[data-v-a3e18228]:hover{transform:translateY(4px);background-color:#ebebeb}.clickable[data-v-a3e18228]:active{background-color:var(--ion-success)}.no-data-container[data-v-a3e18228]{display:flex;justify-content:center;flex-direction:column;align-items:center;height:100%}.search-wrapper[data-v-b69152ed]{display:flex;align-items:center;border:1px solid #b3b3b3;border-radius:10px;padding:8px 12px;background-color:#fff;width:100%;max-width:600px;margin:0 auto;transition:border-color .2s,box-shadow .2s}.search-wrapper[data-v-b69152ed]:focus-within{border-color:#1e4d1e}.search-icon[data-v-b69152ed]{font-size:24px;color:#1e4d1e;margin-right:10px}.search-input[data-v-b69152ed]{flex:1;font-size:18px;caret-color:#000;--padding-start: 0;--padding-end: 0;--background: transparent;--color: #000;--placeholder-color: #999;--highlight-color: transparent;--highlight-height: 0px;border:none;background:transparent;text-align:left}.program-buttons-grid[data-v-d36db6ec]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));justify-content:center;column-gap:20px;row-gap:40px;padding:10px;margin:40px auto 0;max-width:1000px;width:100%}.program-tile[data-v-d36db6ec]{cursor:pointer}.program-icon-container[data-v-d36db6ec]{border-radius:5px;padding:5px;display:flex;align-items:center;justify-content:center;height:85px;width:85px;margin:0 auto}.program-icon[data-v-d36db6ec]{font-size:30px;color:#000;width:45px}.program-name[data-v-d36db6ec]{margin-top:8px;font-size:14px;font-weight:500;color:#000}#container[data-v-fecb6da6]{text-align:center;padding:50px;background:transparent}#container strong[data-v-fecb6da6]{font-size:20px;line-height:26px}#container p[data-v-fecb6da6]{font-size:1em;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-fecb6da6]{text-decoration:none}\n/*$vite$:1*/",document.head.appendChild(a);const X=[{id:"hiv clinic registration",name:"Hiv clinic registration",workflowID:"HIV first visits",icon:"registration.png"},{id:"hiv reception",name:"HIV reception",workflowID:"HIV reception visits",icon:"reception.png"},{id:"vitals",name:"Vitals",workflowID:"Vitals",icon:"vitals.png",taskCompletionChecklist:["Weight"]},{id:"hiv staging",name:"HIV staging",workflowID:"HIV staging visits",icon:"hiv-staging.png"},{id:"hiv clinic consultation",name:"HIV clinic consultation",workflowID:"HIV clinic consultations",taskCompletionChecklist:["Medication orders"],icon:"consultation.png"},{id:"art adherence",name:"ART adherence",workflowID:"ART adherence",icon:"adherence.png"},{id:"treatment",name:"Treatment",workflowID:"Prescriptions",icon:"prescription.png"},{id:"fast track assesment",name:"Fast Track assesment",icon:"fast-track.png"},{id:"dispensing",name:"Drug Dispensations",encounterTypeName:"DISPENSING",workflowID:"Drug Dispensations",icon:"dispensing.png"},{id:"appointment",name:"Manage Appointments",encounterTypeName:"APPOINTMENT",workflowID:"Manage Appointments",icon:"appointment.png"},{id:"patient type",name:"Patient Type",encounterTypeName:"Registration",icon:"patient-type.png"},{id:"bp_management",name:"bp_management",icon:"dispensing.png",encounterTypeName:"Hypertension management",availableOnActivitySelection:!1},{id:"bp_alert",name:"bp_alert",icon:"dispensing.png",availableOnActivitySelection:!1}],Z=["onClick"],$={key:1,class:"no-data-container"},q=l(g({__name:"ActivitySelectionModal",setup(e){const a=n(),l=m("activities"),d=m([]),p=_(()=>d.value.filter(e=>e.isChecked));async function u(){try{return await t.postJson("user_properties",{property:l.value,property_value:p.value.map(e=>e.value).join(",")}),y.dismiss(p.value)}catch(a){var e;console.error(a),o(null!==(e=a.message)&&void 0!==e?e:"Failed to save selected activities")}}return R(()=>{var e,n;console.log("USER ID",a.getUserId()),console.log("USER PROGRAM",null===(e=r().activeProgram)||void 0===e?void 0:e.name),async function(e){switch(e.toLowerCase()){case"ncd program":d.value=W(c),l.value="NCD_activities";break;case"opd program":d.value=W(s),l.value="OPD_activities";break;case"hiv program":d.value=W(X,"name","workflowID"),l.value="activities";break;default:d.value=[]}}(null===(n=r().activeProgram)||void 0===n?void 0:n.name),async function(){const e=await t.getJson("user_properties",{user_id:a.getUserId(),property:l.value});e&&(d.value=d.value.map(a=>(e.property_value.search(a.value)>=0&&(a.isChecked=!0),a)))}()}),(e,a)=>(v(),A(P(B),null,{default:h(()=>[O(P(I),{style:{display:"flex","justify-content":"space-between"},color:"success"},{default:h(()=>[O(P(b),{class:"modalTitle"},{default:h(()=>[C("Select Program Activites (selected: "+M(p.value.length)+")",1)]),_:1}),O(P(f),{onClick:P(y).dismiss,style:{"padding-top":"10px","padding-right":"10px"},icon:P(G)},null,8,["onClick","icon"])]),_:1}),O(P(k),{fullscreen:!0},{default:h(()=>[d.value.length?(v(),A(i,{key:0,items:d.value,numberOfColumns:2},{default:h(({entries:e})=>[(v(!0),D(x,null,E(e,(e,a)=>(v(),D("div",{class:"his-card clickable",key:a,onClick:a=>e.isChecked=!e.isChecked},[O(P(T),null,{default:h(()=>[O(P(N),{size:"1"},{default:h(()=>[O(P(w),{modelValue:e.isChecked,"onUpdate:modelValue":a=>e.isChecked=a,onClick:a=>e.isChecked=!e.isChecked},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:2},1024),O(P(N),{class:"ion-text-center his-md-text"},{default:h(()=>[C(M(e.label),1)]),_:2},1024)]),_:2},1024)],8,Z))),128))]),_:1},8,["items"])):(v(),D("div",$,[O(P(F),null,{default:h(()=>a[0]||(a[0]=[C("No activities available for this program")])),_:1,__:[0]})]))]),_:1}),O(P(S),{class:"ion-padding"},{default:h(()=>[O(P(V),{onClick:u},{default:h(()=>a[1]||(a[1]=[C(" Save ")])),_:1,__:[1]})]),_:1})]),_:1}))}}),[["__scopeId","data-v-a3e18228"]]),Q={class:"search-wrapper"},ee=l({__name:"SearchField",props:{modelValue:String,placeholder:String},emits:["update:modelValue"],setup(e,{emit:a}){const n=e=>{t.value=e.target.value},r=e,i=a,t=m(r.modelValue||"");return L(t,e=>{i("update:modelValue",e)}),L(()=>r.modelValue,e=>{t.value=e}),(a,r)=>{const i=H("ion-icon"),o=H("ion-input");return v(),D("div",Q,[O(i,{icon:P(U),class:"search-icon","aria-hidden":"true"},null,8,["icon"]),O(o,{value:t.value,onIonInput:n,class:"search-input",type:"text",placeholder:e.placeholder},null,8,["value","placeholder"])])}}},[["__scopeId","data-v-b69152ed"]]),ae={class:"program-buttons-grid"},ne=["onClick"],re=["src"],ie={class:"program-name"},te=l(g({__name:"ProgramGrid",props:{programs:{},onSelect:{type:Function}},setup:e=>(e,a)=>(v(),D("div",ae,[(v(!0),D(x,null,E(e.programs,(a,n)=>(v(),D("div",{key:n,class:"program-tile",onClick:()=>e.onSelect(a)},[Y("div",{class:"program-icon-container",style:z({backgroundColor:a.color})},[Y("img",{src:a.icon,alt:"",class:"program-icon"},null,8,re)],4),Y("div",ie,M(a.name.replace(/program/i,"").trim()),1)],8,ne))),128))]))}),[["__scopeId","data-v-d36db6ec"]]),oe={[d.HIV_PROGRAM]:"/assets/icon/program_icons/ribbon.png",[d.TB_PROGRAM]:"/assets/icon/program_icons/tb.png",[d.EARLY_INFANT_DIAGNOSIS_PROGRAM]:"/assets/icon/program_icons/baby-0203_alt.png",[d.MDR_TB_PROGRAM]:"/assets/icon/program_icons/tb.png",[d.KAPOSIS_SARCOMA_PROGRAM]:"/assets/icon/program_icons/lymph-nodes.png",[d.CHRONIC_CARE_PROGRAM]:"/assets/icon/program_icons/intensive-care_unit.png",[d.MATERNITY_PROGRAM]:"/assets/icon/program_icons/pregnant.png",[d.ANC_PROGRAM]:"/assets/icon/program_icons/ancv.png",[d.DIABETES_PROGRAM]:"/assets/icon/program_icons/diabetes.png",[d.OPD_PROGRAM]:"/assets/icon/program_icons/outpatient.png",[d.IPD_PROGRAM]:"/assets/icon/program_icons/observation.png",[d.UNDER_5_PROGRAM]:"/assets/icon/program_icons/boy-0105y.png",[d.CIVIL_REGISTRATION_PROGRAM]:"/assets/icon/program_icons/register-book.png",[d.HTC_PROGRAM]:"/assets/icon/program_icons/blood-pressure.png",[d.ANC_CONNECT_PROGRAM]:"/assets/icon/program_icons/ancv.png",[d.HYPERTENSION_PROGRAM]:"/assets/icon/program_icons/blood-pressure.png",[d.IPT_PROGRAM]:"/assets/icon/program_icons/observation.png",[d.LABORATORY_PROGRAM]:"/assets/icon/program_icons/biochemistry-laboratory.png",[d.CXCA_PROGRAM]:"/assets/icon/program_icons/cervical-cancer.png",[d.RADIOLOGY_PROGRAM]:"/assets/icon/program_icons/radiology.png",[d.PATIENT_REGISTRATION_PROGRAM]:"/assets/icon/program_icons/human-resoruce.png",[d.AETC_PROGRAM]:"/assets/icon/program_icons/accident-and_emergency.png",[d.SPINE_PROGRAM]:"/assets/icon/program_icons/intensive-care_unit.png",[d.NCD_PROGRAM]:"/assets/icon/program_icons/autoimmune-disease.png",[d.IMMUNIZATION_PROGRAM]:"/assets/icon/program_icons/syringe-vaccine.png",[d.LABOUR_AND_DELIVERY_PROGRAM]:"/assets/icon/program_icons/fetus.png"},se=e=>{switch(e){case d.HIV_PROGRAM:return"#F4A6A6";case d.TB_PROGRAM:return"#E6B89C";case d.EARLY_INFANT_DIAGNOSIS_PROGRAM:return"#FFF2A6";case d.MDR_TB_PROGRAM:return"#D2A679";case d.KAPOSIS_SARCOMA_PROGRAM:return"#D8B4E2";case d.CHRONIC_CARE_PROGRAM:return"#C7EFCF";case d.MATERNITY_PROGRAM:return"#FFCCE5";case d.ANC_PROGRAM:return"#FFD6DD";case d.DIABETES_PROGRAM:return"#D6F5D6";case d.OPD_PROGRAM:return"#B3E5FC";case d.IPD_PROGRAM:return"#FFF9C4";case d.UNDER_5_PROGRAM:return"#FFB3B3";case d.CIVIL_REGISTRATION_PROGRAM:return"#E0E0E0";case d.HTC_PROGRAM:return"#B2DFDB";case d.ANC_CONNECT_PROGRAM:return"#FFD6DD";case d.HYPERTENSION_PROGRAM:return"#B2DFDB";case d.IPT_PROGRAM:return"#FFF9C4";case d.LABORATORY_PROGRAM:return"#E6B89C";case d.CXCA_PROGRAM:return"#FFF2A6";case d.RADIOLOGY_PROGRAM:return"#CCCCCC";case d.PATIENT_REGISTRATION_PROGRAM:return"#FFF9C4";case d.AETC_PROGRAM:return"#FFB199";case d.SPINE_PROGRAM:return"#C7EFCF";case d.NCD_PROGRAM:return"#D6F5D6";case d.IMMUNIZATION_PROGRAM:return"#FFF2A6";case d.LABOUR_AND_DELIVERY_PROGRAM:return"#E6D6F3";default:return"#F5F5DC"}},ce=[d.VHW_PROGRAM,d.TRIAGE_PROGRAM,d.VMMC_PROGRAM,d.PNC_PROGRAM,d.KAPOSIS_SARCOMA_PROGRAM,d.CIVIL_REGISTRATION_PROGRAM,d.DIABETES_PROGRAM,d.LABOUR_AND_DELIVERY_PROGRAM],le={id:"container"},de={class:"centered-content"},pe=e("M",l(g({__name:"ModulePicker",setup(e){const a=r(),n=m(""),i=_(()=>a.authorizedPrograms.filter(e=>!ce.includes(e.program_id)).map(e=>({...e,icon:oe[e.program_id]||null,color:se(e.program_id)}))),t=_(()=>i.value.filter(e=>e.name.toLowerCase().includes(n.value.toLowerCase())));function o(e){a.setActiveProgram(e),p.hide()}return R(()=>{1===i.value.length&&o(i.value[0])}),(e,a)=>(v(),D("div",le,[a[1]||(a[1]=Y("h1",null,[Y("strong",null,"Services")],-1)),Y("div",de,[O(ee,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),placeholder:"Search..."},null,8,["modelValue"]),O(te,{programs:t.value,onSelect:o},null,8,["programs"])])]))}}),[["__scopeId","data-v-fecb6da6"]]));e("_",g({__name:"ActionButtons",setup(e){function a(){return u(q,{class:"activity-modal"})}async function n(){return p.show(pe,{},"module-picker-modal")}return(e,r)=>(v(),A(P(j),{slot:"fixed",horizontal:"end",vertical:"bottom",class:"ion-margin-bottom",edge:""},{default:h(()=>[O(P(J),{onClick:a},{default:h(()=>[O(P(f),{src:"/public/svg/exam_multiple_choice.svg"})]),_:1}),O(P(J),{color:"primary",class:"ion-margin-vertical"},{default:h(()=>[O(P(f),{icon:P(K),onClick:n},null,8,["icon"])]),_:1})]),_:1}))}}))}}});
