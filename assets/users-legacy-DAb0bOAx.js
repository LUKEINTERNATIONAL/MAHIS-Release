System.register(["./vendor-legacy-DAxRaqT3.js","./index-legacy-BFNDj9l5.js","./bottomNavBar-legacy-CneePBaO.js","./lodash-legacy-pOOc9Efu.js","./NavigationMenu-legacy-V07CZrHF.js","./EIRreportsStore-legacy-BK10EEV-.js","./TableSkeletonLoader-legacy--g7KTiTr.js","./apexcharts-legacy-I95xSM7b.js"],function(e,a){"use strict";var l,t,n,o,r,s,i,u,d,c,p,m,f,_,v,g,h,b,y,w,x,V,I,U,C,k,P,S,L,F,H,E,N,A,T,z,D,M,O,q,j,R,B,$,G,K,Q,J,X,Z,W,Y,ee,ae,le,te,ne,oe,re,se,ie,ue,de,ce,pe,me,fe,_e,ve,ge,he,be,ye,we,xe,Ve,Ie,Ue,Ce;return{setters:[e=>{l=e.d,t=e.L,n=e._,o=e.bO,r=e.M,s=e.X,i=e.$,u=e.aj,d=e.aP,c=e.aQ,p=e.ck,m=e.aR,f=e.aS,_=e.a6,v=e.a5,g=e.bl,h=e.a7,b=e.a4,y=e.r,w=e.bt,x=e.a,V=e.w,I=e.c,U=e.bZ,C=e.dI,k=e.c2,P=e.H,S=e.e,L=e.f,F=e.l,H=e.J,E=e.O,N=e.k,A=e.K,T=e.F,z=e.P,D=e.Q,M=e.u,O=e.aD,q=e.m,j=e.aI,R=e.bk,B=e.dK,$=e.bi,G=e.I,K=e.G,Q=e.E,J=e.c4,X=e.a_,Z=e.N,W=e.a3,Y=e.bm,ee=e.R,ae=e.bj,le=e.bF},e=>{te=e.an,ne=e.U,oe=e._,re=e.a1,se=e.a8,ie=e.ao,ue=e.L,de=e.B,ce=e.ap,pe=e.aq,me=e.ar,fe=e.a2,_e=e.as,ve=e.at,ge=e.s,he=e.au,be=e.K,ye=e.T,we=e.r},e=>{xe=e.B},e=>{Ve=e.l},e=>{Ie=e.N},e=>{Ue=e.E},e=>{Ce=e.T},null],execute:function(){var a=document.createElement("style");a.textContent=".container[data-v-d67285b4]{display:flex;flex-direction:column;height:86vh}.dynamic-grid[data-v-d67285b4]{flex:1;overflow-y:auto;padding:8px}@media (max-width: 576px){.dynamic-grid[data-v-d67285b4]{padding:12px}}.user-cards-row[data-v-d67285b4]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;align-items:flex-start;max-width:100%;margin:0 auto}.user-cards-row ion-col[data-v-d67285b4]{display:flex;justify-content:center}.user-card[data-v-d67285b4]{width:100%;height:100%;margin:0;max-width:350px}.user-lbl[data-v-d67285b4]{font-size:16px;font-weight:500}ion-card-content[data-v-d67285b4]{padding:0 10px 10px}ion-card-title[data-v-d67285b4],ion-card-subtitle[data-v-d67285b4],ion-label h3[data-v-d67285b4],ion-label p[data-v-d67285b4]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.edit-icon[data-v-d67285b4]{float:right;color:#057f32;font-size:32px;cursor:pointer;transition:color .2s ease}.edit-icon[data-v-d67285b4]:hover{color:#02c148;font-size:35px}.sticky-footer[data-v-d67285b4]{position:sticky;bottom:0;background:transparent;box-shadow:0 -2px 5px rgba(0,0,0,0);z-index:10}.ion-text-center[data-v-d67285b4]{margin:20px 0}.ion-text-center ion-spinner[data-v-d67285b4]{margin-bottom:10px}.user-cards-row[data-v-d67285b4]{transition:opacity .2s ease}.user-cards-row.loading[data-v-d67285b4]{opacity:.7}.error-label[data-v-731a8d5a]{background:#fecdca;color:#b42318;text-transform:none;padding:3%;border-radius:10px;margin-top:7px;display:flex;text-align:center}ion-footer[data-v-515831df]{--ion-toolbar-background: #f4f4f4f4}ion-modal[data-v-515831df]{--width: 90%;--height: 94%;--border-radius: 12px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4);--backdrop-opacity: var(--ion-backdrop-opacity, .32);--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}.search-container[data-v-3c2cb1d1]{display:flex;justify-content:center;align-items:center;width:100%;padding:16px}.search-row[data-v-3c2cb1d1]{display:flex;justify-content:space-between;align-items:center;width:100%;max-width:800px}.input-col[data-v-3c2cb1d1]{flex:1}.button-col[data-v-3c2cb1d1]{flex:0 0 auto}.btn-cls-2[data-v-3c2cb1d1]{font-size:14px;font-weight:500;width:fit-content}@media (max-width: 576px){.search-row[data-v-3c2cb1d1]{flex-direction:column;gap:8px}.input-col[data-v-3c2cb1d1],.button-col[data-v-3c2cb1d1]{width:100%;margin-right:0}.btn-cls-2[data-v-3c2cb1d1]{width:100%}}.back_profile[data-v-76cb90fa]{display:flex;justify-content:space-between;width:140px;align-items:center;font-weight:400;font-size:14px;cursor:pointer;margin:1%}.text-container[data-v-76cb90fa]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.content-container[data-v-76cb90fa]{overflow:auto}.hide-overflow[data-v-76cb90fa]{overflow:hidden}\n/*$vite$:1*/",document.head.appendChild(a);const ke=l({name:"UserCardList",components:{IonContent:b,IonPage:h,IonGrid:g,IonRow:v,IonCol:_,IonCard:f,IonCardHeader:m,IonCardSubtitle:p,IonCardTitle:c,IonCardContent:d,IonList:u,IonItem:i,IonLabel:s,bottomNavBar:xe,IonFooter:r,IonSpinner:o,IonText:n,IonIcon:t,editUserModal:te},props:{users:{type:Array,required:!0},filterValue:{type:String,required:!0},search:{type:String,required:!0}},setup(e,{emit:a}){const l=y(!1),t=w({page:1,itemsPerPage:10}),n=y(!0),o=y(""),r=y(""),s=y([]),i=y(0);x(()=>{u()}),V(()=>e.search,(e,a)=>{e!==a&&(t.page=1,u())}),V(()=>e.filterValue,()=>{});const u=async()=>{try{n.value=!0,o.value="";const a=await ne.getAllUsers(t.page,t.itemsPerPage,e.search);i.value=a.count||0,s.value=a.results.map(e=>({userId:e.user_id,username:e.username,roles:c(e.roles),programs:f(e.programs),gender:e.person.gender,status:e.deactivated_on,firstName:p(e.person.names),lastName:m(e.person.names)}))}catch(a){o.value="Failed to fetch users. Please try again later.",console.error("Error fetching users:",a),s.value=[],i.value=0}finally{n.value=!1}},d=I(()=>{if(!e.filterValue)return s.value;const a=e.filterValue.toLowerCase();return s.value.filter(e=>e.username.toLowerCase().includes(a)||e.firstName.toLowerCase().includes(a)||e.lastName.toLowerCase().includes(a)||e.userId.toLowerCase().includes(a)||e.roles.some(e=>e.toLowerCase().includes(a))||e.programs.some(e=>e.toLowerCase().includes(a)))}),c=e=>e&&Array.isArray(e)?e.map(e=>e.role||""):[],p=e=>e&&Array.isArray(e)&&0!==e.length&&e[e.length-1].given_name||"",m=e=>e&&Array.isArray(e)&&0!==e.length&&e[e.length-1].family_name||"",f=e=>e&&Array.isArray(e)?e.map(e=>e.name||""):[];return{filteredUsers:d,pagination:t,handlePaginationUpdate:({page:e,itemsPerPage:a})=>{t.page=e,t.itemsPerPage=a,u()},isLoading:n,error:o,personCircleOutline:k,createOutline:C,appsOutline:U,openUserProfile:e=>{l.value=!0,r.value=e},user_id:r,isPopoverOpen:l,modalClosed:()=>{l.value=!1,a("reload",l.value),u()},softModalClosed:()=>{l.value=!1},_items_:s,totalCount:i}}}),Pe={class:"container"},Se={class:"user-lbl"},Le={class:"user-lbl"},Fe={class:"user-lbl"},He={class:"user-lbl"},Ee=oe(ke,[["render",function(e,a,l,t,n,o){const r=P("ion-text"),s=P("ion-col"),i=P("ion-row"),u=P("ion-spinner"),d=P("ion-icon"),c=P("ion-card-subtitle"),p=P("ion-card-title"),m=P("ion-card-header"),f=P("ion-label"),_=P("ion-item"),v=P("ion-list"),g=P("ion-card-content"),h=P("ion-card"),b=P("ion-grid"),y=P("editUserModal"),w=P("bottomNavBar"),x=P("ion-footer");return L(),S("div",Pe,[F(b,{class:"dynamic-grid"},{default:H(()=>[e.error?(L(),E(i,{key:0},{default:H(()=>[F(s,{size:"12",class:"ion-text-center"},{default:H(()=>[F(r,{color:"danger"},{default:H(()=>[N("p",null,A(e.error),1)]),_:1})]),_:1})]),_:1})):e.isLoading?(L(),E(i,{key:1},{default:H(()=>[F(s,{size:"12",class:"ion-text-center"},{default:H(()=>[F(u,{name:"circular"}),a[0]||(a[0]=N("p",null,"Loading users...",-1))]),_:1})]),_:1})):0===e._items_.length?(L(),E(i,{key:2},{default:H(()=>[F(s,{size:"12",class:"ion-text-center"},{default:H(()=>[...a[1]||(a[1]=[N("p",null,"No users found.",-1)])]),_:1})]),_:1})):(L(),E(i,{key:3,class:"user-cards-row"},{default:H(()=>[(L(!0),S(T,null,z(e._items_,l=>(L(),E(s,{"size-xs":"12","size-sm":"6","size-md":"4","size-lg":"3",key:l.userId},{default:H(()=>[F(h,{class:"user-card"},{default:H(()=>[F(m,null,{default:H(()=>[F(c,null,{default:H(()=>[F(d,{icon:e.personCircleOutline,size:"small",style:{"margin-bottom":"-3px"}},null,8,["icon"]),D(" "+A(l.roles.join(", ")),1)]),_:2},1024),F(p,null,{default:H(()=>[D(A(l.firstName)+" "+A(l.lastName)+" ",1),F(d,{onClick:a=>e.openUserProfile(l.userId),icon:e.createOutline,class:"edit-icon"},null,8,["onClick","icon"])]),_:2},1024)]),_:2},1024),F(g,null,{default:H(()=>[F(v,null,{default:H(()=>[F(_,null,{default:H(()=>[F(f,null,{default:H(()=>[a[2]||(a[2]=N("h3",null,"User ID",-1)),N("p",Se,A(l.userId),1)]),_:2},1024)]),_:2},1024),F(_,null,{default:H(()=>[F(f,null,{default:H(()=>[a[3]||(a[3]=N("h3",null,"Username",-1)),N("p",Le,A(l.username),1)]),_:2},1024)]),_:2},1024),F(_,null,{default:H(()=>[F(f,null,{default:H(()=>[a[4]||(a[4]=N("h3",null,"Gender",-1)),N("p",Fe,A(l.gender),1)]),_:2},1024)]),_:2},1024),F(_,null,{default:H(()=>[F(f,null,{default:H(()=>[N("h3",null,[F(d,{icon:e.appsOutline,size:"small",style:{"margin-bottom":"-3px"}},null,8,["icon"]),a[5]||(a[5]=D(" Programs ",-1))]),N("p",He,A(l.programs.join(", ")),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1}),F(y,{is_open:e.isPopoverOpen,user_id:e.user_id,onClosePopover:e.softModalClosed,onSave:e.modalClosed},null,8,["is_open","user_id","onClosePopover","onSave"]),F(x,{class:"sticky-footer"},{default:H(()=>[F(i,null,{default:H(()=>[F(s,null,{default:H(()=>[F(w,{totalItems:e.totalCount,currentPage:e.pagination.page,itemsPerPage:e.pagination.itemsPerPage,"onUpdate:pagination":e.handlePaginationUpdate},null,8,["totalItems","currentPage","itemsPerPage","onUpdate:pagination"])]),_:1})]),_:1})]),_:1})])}],["__scopeId","data-v-d67285b4"]]),Ne=l({watch:{},name:"xxxComponent"}),Ae=l({...Ne,props:{action:{}},emits:["saveEvent"],setup(e,{emit:a}){const l=y(),t=y(),n=y(),o=y(),r=y([]),i=y([]),u=[],d=[],c=[],p=[],m=[],f=["Password must be at least 8 characters long and include at least one uppercase letter, one number, and one special character (@#$%^&+=*!-), without spaces","Password does not match"],g=y(),h=y([]),b=y("Select location"),w=y(!1),U=y(!1),C=y("Select village(s)"),P=y(!1),z=y("Select district(s)"),$=y(!1),G=y("Select TA(s)"),K=y([]),Q=y([]),J=y([]),X=y([]),Z=y(),W=y(),Y=y(),ee=y(!0),ae=y(!0),le=re(),te=I(()=>le.facilityLocation),oe=y(!0),be=e;function ye(e){const a=h.value.find(a=>a.code===e.code),l=a?K.value.filter(e=>e.name===a.district):[];Y.value=l,g.value=e}function we(e){p.length=0,e.forEach(e=>{p.push(e.traditional_authority_id)}),e.forEach(e=>{var a;a=e.district_id,ee.value=!0,Z.value=[],async function(e){J.value=[];var a=await ue.getVillages(e,"");const l=a.map((e,a)=>({...e,assigned_id:a}));J.value=J.value.concat(l),J.value.length>0&&(ee.value=!1)}(a)})}function xe(e){m.length=0;const a=[];Q.value.forEach(l=>{e.name.toLowerCase()===l.name.toLowerCase()&&a.push(l)}),a.forEach(e=>{m.push(e.district_id)}),a.forEach(e=>{De(e.district_id)}),async function(e){h.value=[];try{const a=await ue.getDistrictFacilities(e.name.toLowerCase());h.value.push(...a.facilities)}catch(a){console.error(`Error fetching facilities for district ${e.name}:`,a)}g.value=null}(e)}function Ie(e){return le.getUserRoles().some(a=>a.toLowerCase()===e.toLowerCase())}async function Ue(e){0==e.is_valid&&(Ee[0].show_error.value=!0,o.value=e.phone,Ee[0].dataValue.value=e.phone,Ee[0].is_phone_valid.value=!1),1==e.is_valid&&(Ee[0].show_error.value=!1,o.value=e.phone,Ee[0].dataValue.value=e.phone,Ee[0].is_phone_valid.value=!0)}x(async()=>{await async function(){r.value=await ne.getAllRoles();const e=[];r.value.forEach(a=>{e.push({name:a.role,other:a})}),r.value=e,await async function(){try{const e=await ne.getCurrentUser();if(e){const a=e.roles.map(e=>e.role);le.setUserRoles(a),1==Ie("Superuser,Superuser,")&&(oe.value=!1),0==Ie("Superuser,Superuser,")&&(r.value=function(e){const a=e.findIndex(e=>"string"==typeof e.name&&e.name.toLowerCase()==="Superuser,Superuser,".toLowerCase());return-1!==a&&e.splice(a,1),e}(r.value))}}catch(e){}}()}(),await async function(){i.value=await se.getAllPrograms();const e=[];i.value.forEach(a=>{e.push({name:a.name,other:a,selected:!1})}),i.value=e}(),Q.value=await async function(){const e=[];for(let a of[1,2,3]){const l=await ue.getDistricts(a);e.push(...l)}return e.forEach(e=>{m.push(e.district_id)}),e.forEach(e=>{De(e.district_id)}),e}(),K.value=await async function(){return(await ue.getFacilityDistricts()).districts}(),K.value.length>0&&await async function(){try{h.value.push(te.value),ye(te.value)}catch(e){console.error(e)}}()}),V(()=>be.action,async e=>{await async function(){const e=Pe(),a=Se(),l=ie(He),t=Le(),n=Fe(),o=1==Ve.isEmpty(g.value)?(w.value=!0,!1):0==Ve.isEmpty(g.value)?(w.value=!1,!0):void 0,s=function(){if(0==Te(r.value))return!0;if(1==Te(r.value)){if(0==m.length)return P.value=!0,!1;if(m.length>0)return P.value=!1,!0}}(),i=function(){if(0==Te(r.value))return!0;if(1==Te(r.value)){if(0==p.length)return $.value=!0,!1;if(p.length>0)return $.value=!1,!0}}(),f=function(){if(0==Te(r.value))return!0;if(1==Te(r.value)){if(0==c.length)return U.value=!0,!1;if(c.length>0)return U.value=!1,!0}}(),_=0==Ee[0].is_phone_valid.value?(Ee[0].show_error.value=!0,!1):1==Ee[0].is_phone_valid.value?(Ee[0].show_error.value=!1,!0):void 0;if(1==l&&1==n&&1==t&&1==e&&1==a&&1==o&&1==s&&1==i&&1==f&&1==_){const e=_e(He),a={family_name:e.last_name,given_name:e.firstname,username:e.username,must_append_roles:!1,password:Ne[0].dataValue.value,programs:d,villages:c,roles:u,gender:ve(ze[0].dataValue.value),location_id:g.value.code,phone:Ee[0].dataValue.value};try{const{user:e}=await ne.createUser(a);e&&(await async function(e){const a=_e(He),l={cell_phone_number:a.phone_number,gender:ve(ze[0].dataValue.value)},t=new he(l);return await t.update(e)}(e.person.person_id),ke(e.user_id))}catch(v){ke(""),ge(v,2e3)}}}()}),V(()=>ee.value,async e=>{0==ee.value&&Te(r.value)});const Ce=a;function ke(e){Ce("saveEvent",e)}function Pe(){const e=[];return u.length=0,r.value.forEach(a=>{1==a.selected&&e.push(a)}),e.forEach(e=>{u.push(e.other.role)}),u.length>0?(Ae[0].show_error.value=!1,!0):0==u.length?(Ae[0].show_error.value=!0,!1):void 0}function Se(){const e=[];return d.length=0,i.value.forEach(a=>{1==a.selected&&e.push(a)}),e.forEach(e=>{d.push(e.other.program_id)}),d.length>0?(Ae[1].show_error.value=!1,!0):0==d.length?(Ae[1].show_error.value=!0,!1):void 0}function Le(){let e=!1;return null==ze[0].dataValue.value&&(ze[0].show_error.value=!0),null!=ze[0].dataValue.value&&(ze[0].show_error.value=!1,e=!0),e}function Fe(){const[e,a]=Ne.map(e=>e.dataValue.value),l=f[0],t=f[1];return Ne.forEach(e=>{e.error_message=l,e.show_error.value=!1}),!Ne.map((e,a)=>{const l=!e.dataValue.value;return e.show_error.value=l,l}).some(e=>e)&&!(Ne.map((e,a)=>{const l=fe(e.dataValue.value);return e.show_error.value=!l,l}).some(e=>!e)||e!==a&&(Ne.forEach(e=>{e.error_message=t,e.show_error.value=!0}),1))}const He=[{placeHolder:"username",property_name:"username",dataHandler:async function(e){const a=e.target.value;He[0].dataValue.value=a,await async function(e){try{if(e.length>0){const a=await ne.doesUsernameExist(e);1==a.exists?(He[0].show_error.value=!0,He[0].error_message="Username already exists"):0==a.exists&&(He[0].show_error.value=!1,He[0].error_message="Input required, Only letters allowed")}}catch(a){console.error(a)}}(a)},dataValue:y(),show_error:y(!1),error_message:"Input required, Only letters allowed"},{placeHolder:"firstname",property_name:"firstname",dataHandler:function(e){const a=e.target.value;He[1].dataValue.value=a,ie([He[1]])},dataValue:y(),show_error:y(!1),type:"text",error_message:"Input required, Only letters allowed"},{placeHolder:"last name",property_name:"last_name",dataHandler:function(e){const a=e.target.value;He[2].dataValue.value=a,ie([He[2]])},dataValue:y(),type:"text",show_error:y(!1),error_message:"Input required, Only letters allowed"}],Ee=[{placeHolder:"phone number",property_name:"phone_number",dataValue:y(),show_error:y(!1),error_message:"Input required, input is invalid",is_phone_valid:y(!1)}],Ne=[{placeHolder:"new password",dataHandler:function(e){const a=e.target.value;Ne[0].dataValue.value=a,Fe()},dataValue:y(),show_error:y(!1),error_message:f[0]},{placeHolder:"repeat password",dataHandler:function(e){const a=e.target.value;Ne[1].dataValue.value=a,Fe()},dataValue:y(),show_error:y(!1),error_message:f[0]}],Ae=[{multi_Selection:!0,show_list_label:!0,unqueId:"qwerty_8_3698",name_of_list:"Roles",placeHolder:"Search for a field",items:[],listUpdatedFN:function(e){r.value=e,Te(r.value),Pe()},listFilteredFN:()=>{},searchTextFN:()=>{},use_internal_filter:!0,show_error:y(!1),error_message:"please select a Role",disabled:y(!1)},{multi_Selection:!0,show_list_label:!0,unqueId:"qwerty_8_562",name_of_list:"Programs",placeHolder:"Search for programs",items:[],listUpdatedFN:function(e){i.value=e,i.value.forEach(e=>{e.selected}),Se()},listFilteredFN:()=>{},searchTextFN:()=>{},use_internal_filter:!0,show_error:y(!1),error_message:"please select a Program",disabled:y(!1)}];function Te(e){const a=["HSA","Health Surveillance"];U.value=!1;let l=!1;return e.forEach(e=>{1==(null==e?void 0:e.selected)&&a.includes(null==e?void 0:e.name)&&(ae.value=!1,l=!0)}),0==l&&(U.value=!1,ae.value=!0),l}const ze=[{labels:["Male","Female"],selectedOption:y(null),dataHandler:function(e){try{ze[0].dataValue.value=e.label}catch(a){ze[0].dataValue.value=void 0}Le()},dataValue:y(),show_error:y(!1),error_message:"Please make a selection"}];async function De(e,a){X.value=[];const l=(await ue.getTraditionalAuthorities(e,"")).map((e,a)=>({...e,assigned_id:a}));X.value=X.value.concat(l)}return(e,a)=>(L(),S(T,null,[F(M(v),null,{default:H(()=>[F(M(_),{size:"12","size-md":"6"},{default:H(()=>[F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px","margin-bottom":"10px",color:"grey"}},{default:H(()=>[...a[12]||(a[12]=[D("First name",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(de,{placeholder:He[1].placeHolder,icon:M(O),inputValue:t.value,"onUpdate:inputValue":He[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),N("div",null,[He[1].show_error.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(He[1].error_message),1)]),_:1})):q("",!0)])]),_:1})]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px","margin-bottom":"10px",color:"grey"}},{default:H(()=>[...a[13]||(a[13]=[D("Last name",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(de,{placeholder:He[2].placeHolder,icon:M(j),inputValue:n.value,"onUpdate:inputValue":He[2].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),N("div",null,[He[2].show_error.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(He[2].error_message),1)]),_:1})):q("",!0)])]),_:1})]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px","margin-bottom":"10px",color:"grey"}},{default:H(()=>[...a[14]||(a[14]=[D("Username",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(de,{placeholder:He[0].placeHolder,icon:M(k),inputValue:l.value,"onUpdate:inputValue":He[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),N("div",null,[He[0].show_error.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(He[0].error_message),1)]),_:1})):q("",!0)])]),_:1})]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px","margin-bottom":"10px",color:"grey"}},{default:H(()=>[...a[15]||(a[15]=[D("Gender",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(ce,{labels:ze[0].labels,"selected-opt":ze[0].selectedOption.value,onSelectionEvent:ze[0].dataHandler},null,8,["labels","selected-opt","onSelectionEvent"]),N("div",null,[ze[0].show_error.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(ze[0].error_message),1)]),_:1})):q("",!0)])]),_:1})]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(pe,{onValidateInput:Ue}),N("div",null,[Ee[0].show_error.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(Ee[0].error_message),1)]),_:1})):q("",!0)])]),_:1})]),_:1})]),_:1}),F(M(_),{size:"12","size-md":"6"},{default:H(()=>[F(M(v),null,{default:H(()=>[(L(),E(M(_),{key:0},{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px","margin-bottom":"10px",color:"grey"}},{default:H(()=>[...a[16]||(a[16]=[D("District(s)",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(M(R),{modelValue:Y.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>Y.value=e),a[1]||(a[1]=e=>xe(e))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Find and select District(s)",placeholder:"Find and select District(s)",selectLabel:"",label:"name",searchable:!0,onSearchChange:a[2]||(a[2]=()=>{}),"track-by":"name",options:K.value,disabled:oe.value},null,8,["modelValue","options","disabled"]),N("div",null,[P.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(z.value),1)]),_:1})):q("",!0)])]),_:1}))]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px","margin-bottom":"10px",color:"grey"}},{default:H(()=>[...a[17]||(a[17]=[D("Facility name",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(M(R),{modelValue:g.value,"onUpdate:modelValue":[a[3]||(a[3]=e=>g.value=e),a[4]||(a[4]=e=>ye(e))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Find and select facility name",placeholder:"Find and select facility name",selectLabel:"",label:"name",searchable:!0,disabled:oe.value,onSearchChange:a[5]||(a[5]=e=>async function(e){Ve.isEmpty(e),Ve.isEmpty(e)}(e)),"track-by":"code",options:h.value},null,8,["modelValue","disabled","options"]),N("div",null,[w.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(b.value),1)]),_:1})):q("",!0)])]),_:1})]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px","margin-bottom":"10px",color:"grey"}},{default:H(()=>[...a[18]||(a[18]=[D("TA(s)",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(M(R),{modelValue:W.value,"onUpdate:modelValue":[a[6]||(a[6]=e=>W.value=e),a[7]||(a[7]=e=>we(e))],multiple:!0,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Find and select Traditional Authority (TA)",placeholder:"Find and select Traditional Authority (TA)",selectLabel:"",label:"name",searchable:!0,onSearchChange:a[8]||(a[8]=()=>{}),"track-by":"assigned_id",options:X.value,disabled:ae.value},null,8,["modelValue","options","disabled"]),N("div",null,[$.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(G.value),1)]),_:1})):q("",!0)])]),_:1})]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px","margin-bottom":"10px",color:"grey"}},{default:H(()=>[...a[19]||(a[19]=[D("Village(s)",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(M(R),{modelValue:Z.value,"onUpdate:modelValue":[a[9]||(a[9]=e=>Z.value=e),a[10]||(a[10]=e=>{return a=e,c.length=0,void a.forEach(e=>{c.push(e.village_id)});var a})],multiple:!0,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Find and select village(s)",placeholder:"Find and select village(s)",selectLabel:"",label:"name",searchable:!0,onSearchChange:a[11]||(a[11]=()=>{}),"track-by":"assigned_id",options:J.value,disabled:ae.value},null,8,["modelValue","options","disabled"]),N("div",null,[U.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(C.value),1)]),_:1})):q("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),{size:"12","size-md":"6"},{default:H(()=>[F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:H(()=>[...a[20]||(a[20]=[D("Role(s)",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(me,{multiSelection:Ae[0].multi_Selection,show_label:Ae[0].show_list_label,uniqueId:Ae[0].unqueId,name_of_list:Ae[0].name_of_list,choose_place_holder:Ae[0].placeHolder,"items_-list":r.value,use_internal_filter:Ae[0].use_internal_filter,disabled:Ae[0].disabled.value,onItemListUpDated:Ae[0].listUpdatedFN,onItemListFiltered:Ae[0].listFilteredFN,onItemSearchText:Ae[0].searchTextFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered","onItemSearchText"]),N("div",null,[Ae[0].show_error.value?(L(),E(M(s),{key:0,class:"error-label",style:{"margin-top":"-10px"}},{default:H(()=>[D(A(Ae[0].error_message),1)]),_:1})):q("",!0)])]),_:1})]),_:1})]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:H(()=>[...a[21]||(a[21]=[D("Program(s)",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(me,{multiSelection:Ae[1].multi_Selection,show_label:Ae[1].show_list_label,uniqueId:Ae[1].unqueId,name_of_list:Ae[1].name_of_list,choose_place_holder:Ae[1].placeHolder,"items_-list":i.value,use_internal_filter:Ae[1].use_internal_filter,disabled:Ae[1].disabled.value,onItemListUpDated:Ae[1].listUpdatedFN,onItemListFiltered:Ae[1].listFilteredFN,onItemSearchText:Ae[1].searchTextFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered","onItemSearchText"]),N("div",null,[Ae[1].show_error.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(Ae[1].error_message),1)]),_:1})):q("",!0)])]),_:1}),F(M(_))]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px","margin-bottom":"10px",color:"grey"}},{default:H(()=>[...a[22]||(a[22]=[D("Password",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(de,{placeholder:Ne[0].placeHolder,icon:M(B),inputValue:Ne[0].dataValue.value,"onUpdate:inputValue":Ne[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),N("div",null,[Ne[0].show_error.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(Ne[0].error_message),1)]),_:1})):q("",!0)])]),_:1})]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(M(s),{style:{margin:"10px","margin-left":"0px","margin-top":"0px","margin-bottom":"10px",color:"grey"}},{default:H(()=>[...a[23]||(a[23]=[D("Repeat password",-1),N("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),F(de,{placeholder:Ne[1].placeHolder,icon:M(B),inputValue:Ne[1].dataValue.value,"onUpdate:inputValue":Ne[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),N("div",null,[Ne[1].show_error.value?(L(),E(M(s),{key:0,class:"error-label"},{default:H(()=>[D(A(Ne[1].error_message),1)]),_:1})):q("",!0)])]),_:1})]),_:1})]),_:1}),F(M(_),{size:"12","size-md":"6"})]),_:1})],64))}}),Te=oe(Ae,[["__scopeId","data-v-731a8d5a"]]),ze={style:{display:"flex","align-items":"center"}},De={style:{"font-weight":"400","font-size":"19px"}},Me={style:{display:"flex","align-items":"center"}},Oe={class:""},qe={class:"center text_12"},je={style:{"font-weight":"400","font-size":"20px"}},Re={style:{display:"flex","align-items":"center"}},Be=l({watch:{},name:"xxxComponent"}),$e=l({...Be,props:{is_open:{},user_id:{}},emits:["closePopover","updated","reload"],setup(e,{emit:a}){const l=y(""),t=y(!1),n=y(),o=a;function s(){l.value=function(e,a){const l=e=>{const a="number"===e?48:"uppercase"===e?65:97;return String.fromCharCode(Math.floor(Math.random()*("number"===e?10:26))+a)};return Array.from({length:e},()=>Array.from({length:a},()=>l(["number","uppercase","lowercase"][Math.floor(3*Math.random())])).join(""))}(100,3)}function i(){o("reload","")}function u(e){n.value=e,e&&be("User created successfully with id: "+n),o("updated",e),ee.dismiss()}return(a,o)=>{const d=P("ion-icon"),c=P("ion-row");return L(),S(T,null,[F(M($),{"is-open":e.is_open,"show-backdrop":!0,onDidDismiss:o[1]||(o[1]=e=>a.$emit("closePopover",!1)),"keyboard-close":!1},{default:H(()=>[F(M(G),null,{default:H(()=>[F(M(K),null,{default:H(()=>[F(M(Q),null,{default:H(()=>[N("div",ze,[F(d,{icon:M(J),class:"sub-menu-icon"},null,8,["icon"]),o[3]||(o[3]=N("b",{style:{"margin-left":"6px"}},"Add User",-1))])]),_:1}),F(M(X),{slot:"end"},{default:H(()=>[F(M(Q),null,{default:H(()=>[F(M(Z),{onClick:o[0]||(o[0]=e=>a.$emit("closePopover",!1)),fill:"solid"},{default:H(()=>[N("span",De,[N("div",Me,[F(d,{icon:M(W),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),o[4]||(o[4]=N("span",{style:{"margin-left":"6px"}},"Close",-1))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),F(M(b),{class:"ion-padding"},{default:H(()=>[N("div",Oe,[N("div",qe,[F(c,null,{default:H(()=>[F(M(_),null,{default:H(()=>[F(Te,{user_id:n.value,action:l.value,onSaveEvent:u},null,8,["user_id","action"])]),_:1})]),_:1})])])]),_:1}),F(M(r),{translucent:!0},{default:H(()=>[F(M(K),null,{default:H(()=>[F(M(X),{slot:"end"},{default:H(()=>[F(M(Q),null,{default:H(()=>[F(M(Z),{onClick:s,fill:"solid",color:"success"},{default:H(()=>[N("span",je,[N("div",Re,[F(d,{icon:M(Y),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),o[5]||(o[5]=N("span",{style:{"margin-left":"6px"}},"Save",-1))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["is-open"]),F(te,{is_open:t.value,user_id:n.value,onClosePopover:o[2]||(o[2]=e=>t.value=!1),onUpdated:i},null,8,["is_open","user_id"])],64)}}}),Ge=oe($e,[["__scopeId","data-v-515831df"]]),Ke=l({name:"Users",components:{IonContent:b,IonPage:h,IonRow:v,IonCol:_,IonIcon:t,Toolbar:ye,usersTemplate:oe(l({__name:"usersTemplate",props:{items:{},search_fields:{}},emits:["reload","closeModal"],setup(e,{emit:a}){const l=y(""),t=y(!1),n=y(""),o={name:"add user",show:!0,fn:function(){t.value=!0,n.value=""},icon:J,show_icon:!0},r=[{placeHolder:"Search for username",dataHandler:function(e){l.value=e.target.value},dataValue:y(),show_error:y(!1),error_message:"Please provide a reason"}];function s(e){u("reload",e)}function i(e){u("closeModal",e)}const u=a;return(a,u)=>(L(),S(T,null,[F(M(v),{class:"search-container"},{default:H(()=>[F(M(v),{class:"search-row"},{default:H(()=>[F(M(_),{class:"input-col"},{default:H(()=>[F(de,{placeholder:r[0].placeHolder,icon:M(ae),inputValue:r[0].dataValue.value,"onUpdate:inputValue":r[0].dataHandler,minHeight:50,"-inner-action-btn-propeties":o,"onUpdate:InnerActionBtnPropetiesAction":o.fn},null,8,["placeholder","icon","inputValue","onUpdate:inputValue","onUpdate:InnerActionBtnPropetiesAction"])]),_:1})]),_:1})]),_:1}),F(M(v),null,{default:H(()=>[F(M(_),{size:"12"},{default:H(()=>[F(Ee,{users:e.items,filterValue:l.value,onReload:i,search:l.value},null,8,["users","filterValue","search"])]),_:1})]),_:1}),F(Ge,{is_open:t.value,user_id:n.value,onClosePopover:u[0]||(u[0]=e=>t.value=!1),onUpdated:s},null,8,["is_open","user_id"])],64))}}),[["__scopeId","data-v-3c2cb1d1"]]),NavigationMenu:Ie,TableSkeletonLoader:Ce},setup(){const e=y(!1),a=y(!0),l=y([{value:"username",name:"username",selected:!0}]),t=y(""),n=y([]);async function o(){a.value=!1}function r(){Ue().setNavigationPayload("Manage Users",!0,!1,"/","home","")}return x(async()=>{r(),await o()}),{isPopoverOpen:e,user_id:t,_items_:n,search_fields_:l,nav:function(e){we.push(e)},chevronBackOutline:le,initNavData:r,getUsers:o,isLoading:a,closeModal:function(e){0==e&&setTimeout(()=>{o()},500)},peopleOutline:j}},watch:{$route:{async handler(e){"users"==e.name&&this.initNavData(),await this.getUsers()},deep:!0}}});e("default",oe(Ke,[["render",function(e,a,l,t,n,o){const r=P("NavigationMenu"),s=P("TableSkeletonLoader"),i=P("usersTemplate"),u=P("ion-content"),d=P("ion-page");return L(),E(d,null,{default:H(()=>[F(r,{"title-icon":e.peopleOutline},null,8,["title-icon"]),F(u,{fullscreen:!0},{default:H(()=>[e.isLoading?(L(),E(s,{key:0})):(L(),E(i,{key:1,items:e._items_,search_fields:e.search_fields_,onReload:e.getUsers,onCloseModal:e.closeModal},null,8,["items","search_fields","onReload","onCloseModal"]))]),_:1})]),_:1})}],["__scopeId","data-v-76cb90fa"]]))}}});
