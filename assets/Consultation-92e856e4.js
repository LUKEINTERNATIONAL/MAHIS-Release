import{r as v,N as ae,c as We,a as ge,d as se,e as h,f as b,F as ne,J as ie,l as a,x as e,bp as _e,j as l,B as U,cy as Re,y as ce,z as o,aI as Pe,aJ as qe,A as f,aK as Fe,M as $e,L as G,G as M,D as _,I as z,dR as Ge,m as L,be as je,aL as A,aM as I,V as D,en as ve,bj as j,eo as J,bb as Je,cJ as Xe,co as Ke,b$ as fe,p as Ye,br as X,bq as V,aw as Qe,d2 as Ze,d1 as pe,aH as et}from"./vendor-65256339.js";import{a as tt,t as K,k as O,l as at,O as le,b as oe,_ as de,u as lt,m as ot,n as st}from"./index-d92f7182.js";import{C as nt}from"./chartjs-bbe0813a.js";import"./lodash-7be49fbd.js";import"./apexcharts-583f3fdc.js";import"./barcode-qrcode-reader-d9469be9.js";const it=()=>{const g=v(2),i=v(null);let s=null;const p=v(!1),r=v([]);return window.addEventListener("resize",()=>{s&&i.value&&s.resize()}),{chartPeriod:g,weightChartCanvas:i,isLoadingWeightData:p,weightData:r,loadWeightHistory:async()=>{p.value=!0;try{const w=await new tt().getWeightHistory();w&&w.length>0?(r.value=w.map(x=>({date:ae(x.date).format("MM-DD"),weight:parseFloat(x.weight)})),r.value.sort((x,m)=>ae(x.date,"MM-DD").valueOf()-ae(m.date,"MM-DD").valueOf())):(K("No weight history found for this patient"),r.value=[],s&&(s.destroy(),s=null))}catch(C){console.error("Error loading weight history:",C),O("Failed to load weight history"),r.value=[],s&&(s.destroy(),s=null)}finally{p.value=!1}},initializeWeightChart:()=>{var d;if(!i.value||r.value.length===0)return;s&&(s.destroy(),s=null);const C=((d=i.value.parentElement)==null?void 0:d.clientWidth)||800;i.value.width=C,i.value.height=300;const w=i.value.getContext("2d");if(!w)return;const x=r.value.map(n=>n.date),m=r.value.map(n=>n.weight),S=r.value.findIndex(n=>n.height!==void 0),T=w.createLinearGradient(0,0,0,400);T.addColorStop(0,"rgba(75, 192, 75, 0.6)"),T.addColorStop(1,"rgba(75, 192, 75, 0.1)"),s=new nt(w,{type:"line",data:{labels:x,datasets:[{label:"Weight",data:m,borderColor:"rgb(75, 192, 75)",backgroundColor:T,tension:.3,fill:!0,pointBackgroundColor:"rgb(75, 192, 75)",pointRadius:5}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:10,right:10,bottom:10,left:10}},scales:{y:{min:30,max:220,ticks:{stepSize:10},grid:{color:"rgba(200, 200, 200, 0.3)"}},x:{grid:{color:"rgba(200, 200, 200, 0.3)"}}},plugins:{tooltip:{callbacks:{afterLabel:n=>{if(n.dataIndex===S&&r.value[S].height)return"Height: ".concat(r.value[S].height,"cm")}}}}}})},cleanupChart:()=>{s&&(s.destroy(),s=null)}}},dt=()=>{const g=v([]),i=v([]),s=v(null),p=v(null),r=v([]),c=v(null),B=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),y=async()=>{try{const d=await at("testTypes");if(Array.isArray(d)&&d.length>0)g.value=d.map(n=>({id:n.concept_id.toString(),name:n.name,assigned_id:n.concept_id.toString()}));else if(d&&"records"in d&&d.records.length>0)g.value=d.records.map(n=>({id:n.concept_id.toString(),name:n.name,assigned_id:n.concept_id.toString()}));else{const n=await le.getTestTypes();n&&n.length>0&&(g.value=n.map(k=>({id:k.concept_id.toString(),name:k.name,assigned_id:k.concept_id.toString()})))}}catch(d){console.error("Error loading test types:",d),O("Failed to load test types")}},C=async d=>{if(!d){i.value=[];return}try{const n=await le.getSpecimens(d);n&&n.length>0?(i.value=n.map(k=>({id:k.concept_id.toString(),name:k.name,assigned_id:k.concept_id.toString()})),n.length===1&&(p.value=i.value[0])):(i.value=[],K("No specimens found for the selected test"))}catch(n){console.error("Error loading specimens:",n),O("Failed to load specimens")}};return{testOptions:g,specimenOptions:i,selectedTest:s,selectedSpecimen:p,labInvestigations:r,editingInvestigationId:c,loadTestTypes:y,loadSpecimens:C,handleTestChange:d=>{d&&d.name?C(d.name):(i.value=[],p.value=null)},refreshTestTypes:async()=>{try{const d=await le.getTestTypesViaDirectAPICall();d&&d.length>0?(g.value=d.map(n=>({id:n.concept_id.toString(),name:n.name,assigned_id:n.concept_id.toString()})),oe("Test types refreshed from API")):K("No test types found")}catch(d){console.error("Error refreshing test types:",d),O("Failed to refresh test types")}},saveLabInvestigation:async()=>{if(s.value&&p.value){if(c.value){const d=r.value.findIndex(n=>n.id===c.value);d!==-1&&(r.value[d]={...r.value[d],test:s.value,specimen:p.value,isEditing:!1},c.value=null)}else{const d={id:B(),test:s.value,specimen:p.value,dateAdded:new Date().toISOString(),isEditing:!1};r.value.push(d)}s.value=null,p.value=null}else K("Please select both test and specimen")},editLabInvestigation:d=>{const n=r.value.find(k=>k.id===d);n&&(s.value=n.test,p.value=n.specimen,c.value=n.id)},cancelLabInvestigation:d=>{const n=r.value.findIndex(k=>k.id===d);n!==-1&&r.value.splice(n,1),c.value===d&&(s.value=null,p.value=null,c.value=null)}}},me=[{category:"contraindication",concept_id:821,name:"Peripheral neuropathy"},{category:"contraindication",concept_id:215,name:"Jaundice"},{category:"contraindication",concept_id:2148,name:"Lipodystrophy"},{category:"contraindication",concept_id:9242,name:"Kidney Failure"},{category:"contraindication",concept_id:219,name:"Psychosis"},{category:"contraindication",concept_id:9440,name:"Gynaecomastia"},{category:"contraindication",concept_id:3,name:"Anemia"},{category:"contraindication",concept_id:512,name:"Skin rash"},{category:"contraindication",concept_id:867,name:"Insomnia"},{category:"side_effect",concept_id:6029,name:"Night sweats"},{category:"side_effect",concept_id:5945,name:"Fever"},{category:"side_effect",concept_id:5980,name:"Vomiting"},{category:"side_effect",concept_id:877,name:"Dizziness"},{category:"side_effect",concept_id:620,name:"Headache"},{category:"side_effect",concept_id:5978,name:"Nausea"},{category:"side_effect",concept_id:1458,name:"Lactic acidosis"},{category:"side_effect",concept_id:107,name:"Cough"},{category:"side_effect",concept_id:1773,name:"Heavy alcohol use"},{category:"side_effect",concept_id:8260,name:"Weight loss / Failure to thrive / malnutrition"}],rt=(g="all")=>{const i=v([]),s=v({}),p=v(!1),r=v(null),c=We(()=>g==="all"?me:me.filter(m=>m.category===g)),B=()=>{const m=c.value.map(S=>({id:"se_".concat(S.concept_id),label:S.name,value:!1}));i.value=m,m.forEach(S=>{s.value[S.id]=S.value})},y=()=>{i.value.forEach(m=>{s.value[m.id]=!1})},C=()=>Object.values(s.value).some(m=>m===!0),w=()=>i.value.filter(m=>s.value[m.id]).map(m=>m.label),x=m=>{const S={...s.value};g=m,B(),i.value.forEach(T=>{S[T.id]!==void 0&&(s.value[T.id]=S[T.id])})};return ge(()=>{B()}),{sideEffectOptions:i,sideEffects:s,resetSideEffects:y,hasSelectedSideEffects:C,getSelectedSideEffects:w,filterByCategory:x,isLoading:p,error:r}},ut=()=>{const g=v([{id:"weightLoss",label:"Weight loss / failure to thrive / malnutrition",value:!1},{id:"fever",label:"Fever",value:!1},{id:"nightSweats",label:"Night sweats",value:!1},{id:"cough",label:"Cough",value:!1}]),i=v({});return g.value.forEach(c=>{i.value[c.id]=c.value}),{tbSymptomOptions:g,tbSymptoms:i,resetTBSymptoms:()=>{g.value.forEach(c=>{i.value[c.id]=!1})},hasSelectedTBSymptoms:()=>Object.values(i.value).some(c=>c===!0),getSelectedTBSymptoms:()=>g.value.filter(c=>i.value[c.id]).map(c=>c.label)}},ct={class:"side-effects-grid"},vt={class:"checkbox-label"},ft=se({__name:"SideEffectsCheckboxes",props:{modelValue:{},sideEffectOptions:{}},emits:["update:modelValue"],setup(g,{emit:i}){const s=g,p=i,r=()=>{p("update:modelValue",s.modelValue)};return(c,B)=>(h(),b("div",ct,[(h(!0),b(ne,null,ie(c.sideEffectOptions,y=>(h(),b("div",{key:y.id,class:"checkbox-option"},[a(e(_e),{modelValue:c.modelValue[y.id],"onUpdate:modelValue":[C=>c.modelValue[y.id]=C,r],value:y.label},null,8,["modelValue","onUpdate:modelValue","value"]),l("span",vt,U(y.label),1)]))),128))]))}});const pt=de(ft,[["__scopeId","data-v-fc2ffd1f"]]),mt={class:"tb-symptoms-grid"},gt={class:"checkbox-label"},_t=se({__name:"TBSymptomsCheckboxes",props:{modelValue:{},tbSymptomOptions:{}},emits:["update:modelValue"],setup(g,{emit:i}){const s=g,p=i,r=()=>{p("update:modelValue",s.modelValue)};return(c,B)=>(h(),b("div",mt,[(h(!0),b(ne,null,ie(c.tbSymptomOptions,y=>(h(),b("div",{key:y.id,class:"checkbox-option"},[a(e(_e),{modelValue:c.modelValue[y.id],"onUpdate:modelValue":[C=>c.modelValue[y.id]=C,r],value:y.label},null,8,["modelValue","onUpdate:modelValue","value"]),l("span",gt,U(y.label),1)]))),128))]))}});const ht=de(_t,[["__scopeId","data-v-d67e9ce3"]]),yt={class:"accordion-title-container"},bt={key:0,class:"completed-badge"},Ct={class:"ion-padding",slot:"content"},St={key:0,class:"lab-investigations-list"},wt={class:"table-responsive"},kt={class:"lab-table"},Vt={class:"action-buttons"},Tt={class:"save-button-container"},It={class:"accordion-title-container"},xt={key:0,class:"completed-badge"},Et={slot:"content",class:"ion-padding"},Lt={class:"chart-container"},Bt={class:"chart-header"},Dt={key:0,class:"loading-container"},Ot={key:1,class:"empty-data-container"},Mt={key:2,class:"save-button-container"},zt={class:"accordion-title-container"},Ut={key:0,class:"completed-badge"},Ht={class:"ion-padding",slot:"content"},At={class:"side-effects-container"},Nt={class:"radio-group"},Wt={key:0,class:"side-effects-options"},Rt={key:0,class:"loading-container"},Pt={key:1,class:"error-container"},qt={class:"category-tabs"},Ft={class:"side-effects-section"},$t={class:"medication-options"},Gt={class:"medication-option"},jt={class:"medication-option"},Jt={class:"save-button-container"},Xt={class:"accordion-title-container"},Kt={key:0,class:"completed-badge"},Yt={class:"ion-padding",slot:"content"},Qt={class:"tb-therapy-container"},Zt={class:"tb-treatment-section"},ea={class:"radio-group horizontal-radio-group"},ta={class:"radio-option"},aa={class:"radio-option"},la={class:"tb-symptoms-section"},oa={class:"screening-section"},sa={class:"radio-group horizontal-radio-group"},na={class:"radio-option"},ia={class:"radio-option"},da={class:"radio-option"},ra={class:"radio-group horizontal-radio-group"},ua={class:"radio-option"},ca={class:"radio-option"},va={class:"radio-option"},fa={class:"tb-status-section"},pa={style:{"z-index":"99999"}},ma={class:"tb-history-section"},ga={class:"select-container tb-history-select",style:{"z-index":"99999"}},_a={class:"save-button-container"},ha=se({__name:"Consultation",setup(g){const i=v(null),s=v(["lab-investigation"]),p=v("no"),r=v(""),c=v("side_effect"),B=v(!1),y=v(!1),C=v(!1),w=v(!1),{sideEffectOptions:x,sideEffects:m,isLoading:S,error:T,filterByCategory:d,hasSelectedSideEffects:n}=rt("side_effect"),k=E=>{const t=E.detail.value;c.value=t,d(t)},he=()=>{if(p.value==="yes"&&!n()){O("Please select at least one side effect or contraindication");return}if(console.log("Saving side effects data..."),console.log("Selected side effects:",p.value==="yes"?m.value:"None"),console.log("Cause:",r.value),B.value=!0,i.value){const E=s.value.indexOf("contraindications");E>-1&&s.value.splice(E,1),s.value.push("tb-therapy"),i.value.value=s.value}},ye=async()=>{var E;if(q.value.length===0){O("Please add at least one lab investigation");return}try{console.log("Creating encounter and saving lab investigations...");const t=lt(),u=ot(),F=25,Ae=new st,ue=(E=u.getfacilityLocation())==null?void 0:E.code;if(!ue){O("Location ID not found");return}const Ne={location_id:ue,orders:q.value.map($=>({concept_id:$.test.id,name:$.test.name,specimen:$.specimen.name,reason:"Routine",specimenConcept:$.specimen.id}))};await Ae.postActivities(F,Ne),C.value=!0,i.value&&(s.value=[],s.value.push("weight-chart")),oe("Lab investigations saved successfully")}catch(t){console.error("Error saving lab investigations:",t),O("Failed to save lab investigations")}},be=()=>{w.value=!0,i.value&&(s.value=[],s.value.push("contraindications"),i.value.value=s.value)},Ce=()=>{if(!P.value||!R.value||!N.value){O("Please complete all required fields");return}if(console.log("Saving TB therapy data..."),console.log("TB Treatment:",N.value),console.log("TB Status:",R.value),console.log("TPT History:",P.value),console.log("TB Symptoms:",W.value),console.log("CXR Result:",Y.value),console.log("mWRD Result:",Q.value),y.value=!0,i.value){const E=s.value.indexOf("tb-therapy");E>-1&&s.value.splice(E,1),i.value.value=s.value}oe("Consultation data saved successfully!")},N=v("no"),{tbSymptomOptions:Se,tbSymptoms:W}=ut(),Y=v("normal"),Q=v("negative"),R=v(""),P=v(""),we=v([{name:"Active TB",assigned_id:"active"},{name:"Latent TB",assigned_id:"latent"},{name:"No TB",assigned_id:"none"},{name:"Unknown",assigned_id:"unknown"}]),ke=v([{name:"Completed",assigned_id:"completed"},{name:"Ongoing",assigned_id:"ongoing"},{name:"Not Done",assigned_id:"not_done"},{name:"Unknown",assigned_id:"unknown"}]),{testOptions:Ve,specimenOptions:Te,selectedTest:Z,selectedSpecimen:ee,labInvestigations:q,editingInvestigationId:Ie,loadTestTypes:xe,handleTestChange:Ee,refreshTestTypes:Le,saveLabInvestigation:Be,editLabInvestigation:De,cancelLabInvestigation:Oe}=dt(),{chartPeriod:Me,weightChartCanvas:ze,isLoadingWeightData:H,weightData:te,loadWeightHistory:re,initializeWeightChart:Ue,cleanupChart:He}=it();return ge(async()=>{await xe(),await re(),setTimeout(()=>{te.value.length>0&&Ue()},500)}),Re(()=>{He()}),(E,t)=>(h(),ce(e(et),null,{default:o(()=>[a(e(Pe),null,{default:o(()=>[a(e(qe),{class:"ion-text-center"},{default:o(()=>t[14]||(t[14]=[f("HIV Clinic Consultation")])),_:1,__:[14]})]),_:1}),a(e(Fe),null,{default:o(()=>[a(e($e),{ref_key:"accordionGroup",ref:i,value:s.value,multiple:!0},{default:o(()=>[a(e(G),{value:"lab-investigation",disabled:C.value},{default:o(()=>[a(e(M),{slot:"header"},{default:o(()=>[l("div",yt,[t[17]||(t[17]=l("div",{class:"section-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 48 48"},[l("g",{fill:"none",stroke:"currentColor","stroke-width":"4"},[l("path",{"stroke-linecap":"round",d:"m29.003 18.373l1.105-1.105l.53-.53a5.5 5.5 0 0 0 0-7.778v0a5.5 5.5 0 0 0-7.778 0L9.172 22.648a.143.143 0 0 0 0 .202l6.97 6.97a1 1 0 0 0 1.414 0l3.713-3.713l1.105-1.105"}),l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m28.163 6.485l1.768-1.767a3.5 3.5 0 0 1 4.95 4.95l-1.768 1.767zM10.485 24.163l-4.242 4.243l4.95 4.95l4.242-4.243z"}),l("circle",{cx:"26.041",cy:"22.042",r:"4.5",transform:"rotate(45 26.041 22.042)"}),l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m6 20l12.728 12.728M10 44h32M31 22c4 0 8 4 8 10c0 6.4-5.167 9.833-8 12"})])])],-1)),a(e(_),null,{default:o(()=>[t[16]||(t[16]=f(" Lab investigation ")),C.value?(h(),b("span",bt,[a(e(z),{size:"small",icon:e(Ge),style:{"margin-right":"3px"}},null,8,["icon"]),t[15]||(t[15]=f(" Completed "))])):L("",!0)]),_:1,__:[16]})])]),_:1}),l("div",Ct,[a(e(je),{class:"single-row-grid"},{default:o(()=>[a(e(A),{class:"align-items-center"},{default:o(()=>[a(e(I),{size:"auto"},{default:o(()=>[a(e(D),{fill:"clear",shape:"round",size:"small",onClick:e(Le)},{default:o(()=>[a(e(z),{icon:e(ve),slot:"icon-only"},null,8,["icon"])]),_:1},8,["onClick"])]),_:1}),a(e(I),{size:"5"},{default:o(()=>[a(e(_),{class:"labl-cls"},{default:o(()=>t[18]||(t[18]=[f(" Test ")])),_:1,__:[18]}),a(e(j),{modelValue:e(Z),"onUpdate:modelValue":[t[0]||(t[0]=u=>J(Z)?Z.value=u:null),e(Ee)],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"Select test",selectLabel:"",label:"name",searchable:!0,"track-by":"assigned_id",options:e(Ve),disabled:!1},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(e(I),{size:"4"},{default:o(()=>[a(e(_),{class:"labl-cls"},{default:o(()=>t[19]||(t[19]=[f(" Specimen ")])),_:1,__:[19]}),a(e(j),{modelValue:e(ee),"onUpdate:modelValue":t[1]||(t[1]=u=>J(ee)?ee.value=u:null),multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"Select specimen",selectLabel:"",label:"name",searchable:!0,"track-by":"assigned_id",options:e(Te),disabled:!1},null,8,["modelValue","options"])]),_:1}),a(e(I),{size:"auto"},{default:o(()=>[a(e(D),{class:"ion-margin-top",onClick:e(Be)},{default:o(()=>[a(e(z),{icon:e(Je),slot:"start"},null,8,["icon"]),f(" "+U(e(Ie)?"Update":"Add"),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e(q).length>0?(h(),b("div",St,[l("div",wt,[l("table",kt,[t[20]||(t[20]=l("thead",null,[l("tr",null,[l("th",null,"TEST"),l("th",null,"SPECIMEN"),l("th",null,"ACTIONS")])],-1)),l("tbody",null,[(h(!0),b(ne,null,ie(e(q),u=>(h(),b("tr",{key:u.id},[l("td",null,U(u.test.name),1),l("td",null,U(u.specimen.name),1),l("td",Vt,[a(e(D),{fill:"clear",size:"small",color:"nuetral",onClick:F=>e(De)(u.id)},{default:o(()=>[a(e(z),{icon:e(Xe),slot:"icon-only"},null,8,["icon"])]),_:2},1032,["onClick"]),a(e(D),{fill:"clear",size:"small",color:"danger",onClick:F=>e(Oe)(u.id)},{default:o(()=>[a(e(z),{icon:e(Ke),slot:"icon-only"},null,8,["icon"])]),_:2},1032,["onClick"])])]))),128))])])])])):L("",!0),l("div",Tt,[a(e(D),{expand:"block",onClick:ye},{default:o(()=>t[21]||(t[21]=[f(" Save and Continue ")])),_:1,__:[21]})])])]),_:1},8,["disabled"]),a(e(G),{value:"weight-chart"},{default:o(()=>[a(e(M),{slot:"header"},{default:o(()=>[l("div",It,[t[23]||(t[23]=l("div",{class:"section-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24"},[l("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",color:"currentColor"},[l("path",{d:"M19 15v3.889C19 21.114 18.264 22 15.889 22H8.11C5.886 22 5 21.264 5 18.889V15a7 7 0 1 1 14 0"}),l("path",{d:"M16 15a4 4 0 0 0-8 0m4 2l1-2m3.312-10H7.688c-.884 0-1.326 0-1.715-.152a2 2 0 0 1-.368-.187c-.35-.22-.595-.568-1.085-1.263c-.382-.541-.573-.812-.507-1.033a.5.5 0 0 1 .107-.19C4.28 2 4.624 2 5.313 2h13.376c.689 0 1.033 0 1.192.175q.075.084.107.19c.066.221-.125.492-.507 1.033c-.49.695-.735 1.042-1.085 1.263a2 2 0 0 1-.368.187C17.637 5 17.196 5 16.312 5M14 8V5m-4 3V5"})])])],-1)),a(e(_),null,{default:o(()=>[t[22]||(t[22]=f(" Patient weight chart ")),w.value?(h(),b("span",xt,"Completed")):L("",!0)]),_:1,__:[22]})])]),_:1}),l("div",Et,[l("div",Lt,[l("div",Bt,[a(e(_),null,{default:o(()=>[f("Weight trail ("+U(e(Me))+" year period)",1)]),_:1}),a(e(D),{fill:"clear",size:"small",onClick:e(re),disabled:e(H)},{default:o(()=>[a(e(z),{icon:e(ve),slot:"icon-only"},null,8,["icon"])]),_:1},8,["onClick","disabled"])]),e(H)?(h(),b("div",Dt,[a(e(fe),{name:"bubbles"}),t[24]||(t[24]=l("p",null,"Loading weight data...",-1))])):L("",!0),!e(H)&&e(te).length===0?(h(),b("div",Ot,t[25]||(t[25]=[l("p",null,"No weight data available for this patient",-1)]))):L("",!0),l("div",{class:Ye(["chart-canvas-container",{hidden:e(H)||e(te).length===0}])},[l("canvas",{ref_key:"weightChartCanvas",ref:ze,id:"weight-chart-canvas"},null,512)],2),e(H)?L("",!0):(h(),b("div",Mt,[a(e(D),{expand:"block",onClick:be},{default:o(()=>t[26]||(t[26]=[f(" Continue ")])),_:1,__:[26]})]))])])]),_:1}),a(e(G),{value:"contraindications"},{default:o(()=>[a(e(M),{slot:"header"},{default:o(()=>[l("div",zt,[t[28]||(t[28]=l("div",{class:"section-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 16 16"},[l("path",{fill:"currentColor",d:"M3.001 3.999a1.001 1.001 0 0 1 1.836-.555a.5.5 0 1 0 .832-.555A2 2 0 0 0 2 3.999A2 2 0 0 0 4.078 6h3.259a5.5 5.5 0 0 1 3.151-1h-6.41l-.038.001L4.003 5A1 1 0 0 1 3 3.999m.495 3.003h2.76a5.5 5.5 0 0 0-.657 1H3.496a.5.5 0 1 1 0-1M2.501 9h2.706a5.5 5.5 0 0 0-.185 1h-2.52a.5.5 0 0 1 0-1m.995 2h1.526q.048.516.185 1H3.496a.5.5 0 0 1 0-1M7.5 3a.5.5 0 0 0 0 1h6a.5.5 0 1 0 0-1zm7.5 7.5a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0m-4-2a.5.5 0 1 0-1 0V10H8.5a.5.5 0 0 0 0 1H10v1.5a.5.5 0 0 0 1 0V11h1.5a.5.5 0 1 0 0-1H11z"})])],-1)),a(e(_),null,{default:o(()=>[t[27]||(t[27]=f(" Contraindications/side effects ")),B.value?(h(),b("span",Ut,"Completed")):L("",!0)]),_:1,__:[27]})])]),_:1}),l("div",Ht,[l("div",At,[a(e(A),null,{default:o(()=>[a(e(I),null,{default:o(()=>[a(e(_),null,{default:o(()=>t[29]||(t[29]=[f("Has side effects / contraindications")])),_:1,__:[29]})]),_:1}),a(e(I),null,{default:o(()=>[l("div",Nt,[a(e(X),{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=u=>p.value=u)},{default:o(()=>[a(e(V),{slot:"end",value:"yes"},{default:o(()=>t[30]||(t[30]=[f("Yes")])),_:1,__:[30]}),a(e(V),{slot:"end",style:{"margin-left":"20px"},value:"no"},{default:o(()=>t[31]||(t[31]=[f("No")])),_:1,__:[31]})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),p.value==="yes"?(h(),b("div",Wt,[e(S)?(h(),b("div",Rt,[a(e(fe),{name:"bubbles"}),t[32]||(t[32]=l("p",null,"Loading side effects data...",-1))])):e(T)?(h(),b("div",Pt,[a(e(z),{icon:e(Qe),color:"danger"},null,8,["icon"]),l("p",null,U(e(T)),1)])):L("",!0),l("div",qt,[a(e(Ze),{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=u=>c.value=u),onIonChange:k},{default:o(()=>[a(e(pe),{value:"contraindication"},{default:o(()=>[a(e(_),null,{default:o(()=>t[33]||(t[33]=[f("Side Effects/Contraindications")])),_:1,__:[33]})]),_:1}),a(e(pe),{value:"side_effect"},{default:o(()=>[a(e(_),null,{default:o(()=>t[34]||(t[34]=[f("Others")])),_:1,__:[34]})]),_:1})]),_:1},8,["modelValue"])]),!e(S)&&!e(T)?(h(),ce(pt,{key:2,modelValue:e(m),"onUpdate:modelValue":t[4]||(t[4]=u=>J(m)?m.value=u:null),"side-effect-options":e(x)},null,8,["modelValue","side-effect-options"])):L("",!0),l("div",Ft,[t[40]||(t[40]=l("h4",null,"Side effects suspected causes",-1)),l("div",$t,[l("div",Gt,[t[36]||(t[36]=l("h5",null,"Current medication",-1)),a(e(M),{class:"radio-item"},{default:o(()=>[a(e(V),{slot:"start",modelValue:r.value,"onUpdate:modelValue":t[5]||(t[5]=u=>r.value=u),value:"TDF300/3TC300/DTG50"},null,8,["modelValue"]),a(e(_),null,{default:o(()=>t[35]||(t[35]=[f("TDF300/3TC300/DTG50")])),_:1,__:[35]})]),_:1})]),l("div",jt,[t[39]||(t[39]=l("h5",null,"Previous medication",-1)),a(e(M),{class:"radio-item"},{default:o(()=>[a(e(V),{justify:"end",modelValue:r.value,"onUpdate:modelValue":t[6]||(t[6]=u=>r.value=u),value:"other_not_drug_related"},null,8,["modelValue"]),a(e(_),null,{default:o(()=>t[37]||(t[37]=[f("Other not drug related")])),_:1,__:[37]})]),_:1}),a(e(M),{class:"radio-item"},{default:o(()=>[a(e(V),{slot:"start",modelValue:r.value,"onUpdate:modelValue":t[7]||(t[7]=u=>r.value=u),value:"drug_side_effect"},null,8,["modelValue"]),a(e(_),null,{default:o(()=>t[38]||(t[38]=[f("Drug side effect")])),_:1,__:[38]})]),_:1})])])]),l("div",Jt,[a(e(D),{expand:"block",onClick:he},{default:o(()=>t[41]||(t[41]=[f(" Save and Continue ")])),_:1,__:[41]})])])):L("",!0)])])]),_:1}),a(e(G),{value:"tb-therapy"},{default:o(()=>[a(e(M),{slot:"header"},{default:o(()=>[l("div",Xt,[t[43]||(t[43]=l("div",{class:"section-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 48 48"},[l("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[l("path",{d:"M35 30.5a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0m-2 0a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0"}),l("path",{d:"M23 20.5V6h2v14.5c0 1.398.564 1.942 1.004 2.199q.073.042.148.078l-.004-.377c-.038-3.528-.112-10.4 5.327-10.4c4.126 0 7.599 7.974 9.335 15.542c.11.263.175.55.188.849c1.232 5.783 1.415 11.14.057 12.27c-3.193 2.653-9.58 1.06-12.773-2.124c-2.578-2.57-2.355-8.578-2.195-12.891v-.002q.016-.393.028-.767a4.3 4.3 0 0 1-1.119-.45a3.8 3.8 0 0 1-.996-.835c-.297.352-.64.626-.996.834c-.4.234-.794.37-1.12.451l.029.769c.16 4.313.383 10.32-2.195 12.891c-3.193 3.185-9.58 4.777-12.773 2.123S9.075 12 16.525 12c5.439 0 5.365 6.872 5.327 10.4v.002l-.004.375q.075-.036.148-.078c.44-.257 1.004-.801 1.004-2.199m15.327 5.36l.038.144a2.5 2.5 0 1 0 1.065 4.817c.27 1.566.449 3.05.526 4.36c.079 1.332.049 2.413-.068 3.188a3.7 3.7 0 0 1-.206.828c-.96.73-2.598 1.022-4.633.628c-2.058-.4-4.076-1.43-5.355-2.704c-.443-.442-.84-1.172-1.137-2.261c-.293-1.076-.45-2.361-.517-3.761c-.066-1.393-.04-2.833.004-4.208l.04-1.126v-.003q.019-.472.034-.927A3.001 3.001 0 0 0 34 24a3 3 0 0 0-5.847-.95q0-.344-.005-.719c-.015-1.648-.034-3.691.411-5.466c.254-1.014.616-1.732 1.05-2.178c.375-.386.912-.687 1.866-.687c.319 0 .777.134 1.395.654c.412.346.846.824 1.289 1.434A2.503 2.503 0 0 0 31 18.5a2.5 2.5 0 0 0 4.917.642c.927 1.962 1.748 4.292 2.41 6.719m.666 2.723l-.08-.366a.5.5 0 1 0 .08.366M16.525 14c.954 0 1.49.3 1.866.687c.434.446.796 1.164 1.05 2.178c.445 1.775.426 3.817.41 5.465l-.004.816c0 .76.033 1.67.069 2.616l.04 1.129c.044 1.375.07 2.815.004 4.208c-.067 1.4-.224 2.685-.517 3.76c-.297 1.09-.694 1.82-1.137 2.262c-1.279 1.275-3.297 2.304-5.355 2.704c-2.035.394-3.673.102-4.633-.628l-.016-.04a3.7 3.7 0 0 1-.19-.788c-.117-.775-.147-1.856-.068-3.188c.157-2.65.727-6.012 1.63-9.32c.905-3.321 2.109-6.46 3.474-8.722c.683-1.133 1.357-1.96 1.982-2.485c.618-.52 1.076-.654 1.395-.654M33.5 19a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1M32 24a1 1 0 1 1-2 0a1 1 0 0 1 2 0"})])])],-1)),a(e(_),null,{default:o(()=>[t[42]||(t[42]=f(" TB Preventive Therapy ")),y.value?(h(),b("span",Kt,"Completed")):L("",!0)]),_:1,__:[42]})])]),_:1}),l("div",Yt,[l("div",Qt,[l("div",Zt,[t[46]||(t[46]=l("label",{class:"form-label required"},"On TB treatment?",-1)),l("div",ea,[a(e(X),{modelValue:N.value,"onUpdate:modelValue":t[8]||(t[8]=u=>N.value=u)},{default:o(()=>[l("div",ta,[a(e(V),{value:"yes"}),a(e(_),null,{default:o(()=>t[44]||(t[44]=[f("Yes")])),_:1,__:[44]})]),l("div",aa,[a(e(V),{value:"no"}),a(e(_),null,{default:o(()=>t[45]||(t[45]=[f("No")])),_:1,__:[45]})])]),_:1},8,["modelValue"])])]),l("div",la,[t[47]||(t[47]=l("h4",null,"TB Associated Symptoms",-1)),a(ht,{modelValue:e(W),"onUpdate:modelValue":t[9]||(t[9]=u=>J(W)?W.value=u:null),"tb-symptom-options":e(Se)},null,8,["modelValue","tb-symptom-options"])]),l("div",oa,[a(e(A),null,{default:o(()=>[a(e(I),null,{default:o(()=>t[48]||(t[48]=[l("label",{class:"form-label required"},"CXR (Chest X-ray) Screening Method Result",-1)])),_:1,__:[48]}),a(e(I),null,{default:o(()=>[l("div",sa,[a(e(X),{modelValue:Y.value,"onUpdate:modelValue":t[10]||(t[10]=u=>Y.value=u)},{default:o(()=>[l("div",na,[a(e(V),{value:"normal"}),a(e(_),null,{default:o(()=>t[49]||(t[49]=[f("Normal")])),_:1,__:[49]})]),l("div",ia,[a(e(V),{value:"abnormal"}),a(e(_),null,{default:o(()=>t[50]||(t[50]=[f("Abnormal")])),_:1,__:[50]})]),l("div",da,[a(e(V),{value:"unknown"}),a(e(_),null,{default:o(()=>t[51]||(t[51]=[f("Unknown/Not Done")])),_:1,__:[51]})])]),_:1},8,["modelValue"])])]),_:1})]),_:1}),a(e(A),null,{default:o(()=>[a(e(I),null,{default:o(()=>t[52]||(t[52]=[l("label",{class:"form-label required"},"mWRD (Molecular WHO Recommended Rapid Diagnostic Test) Screening Method Result",-1)])),_:1,__:[52]}),a(e(I),null,{default:o(()=>[l("div",ra,[a(e(X),{modelValue:Q.value,"onUpdate:modelValue":t[11]||(t[11]=u=>Q.value=u)},{default:o(()=>[l("div",ua,[a(e(V),{value:"negative"}),a(e(_),null,{default:o(()=>t[53]||(t[53]=[f("Negative")])),_:1,__:[53]})]),l("div",ca,[a(e(V),{value:"positive"}),a(e(_),null,{default:o(()=>t[54]||(t[54]=[f("Positive")])),_:1,__:[54]})]),l("div",va,[a(e(V),{value:"unknown"}),a(e(_),null,{default:o(()=>t[55]||(t[55]=[f("Unknown/Not Done")])),_:1,__:[55]})])]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),l("div",fa,[l("div",null,[t[56]||(t[56]=l("label",{class:"form-label"},"TB Status",-1)),l("div",pa,[a(e(j),{modelValue:R.value,"onUpdate:modelValue":t[12]||(t[12]=u=>R.value=u),multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"Select TB status",selectLabel:"",label:"name",searchable:!0,"track-by":"assigned_id",options:we.value,disabled:!1},null,8,["modelValue","options"])])])]),l("div",ma,[a(e(A),null,{default:o(()=>[a(e(I),null,{default:o(()=>t[57]||(t[57]=[l("label",{class:"form-label required"},"TB preventive therapy (TPT) history",-1)])),_:1,__:[57]}),a(e(I),null,{default:o(()=>[l("div",ga,[a(e(j),{modelValue:P.value,"onUpdate:modelValue":t[13]||(t[13]=u=>P.value=u),multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"Select option",selectLabel:"",label:"name",searchable:!0,"track-by":"assigned_id",options:ke.value,disabled:!1},null,8,["modelValue","options"])])]),_:1})]),_:1})]),l("div",_a,[a(e(D),{expand:"block",onClick:Ce},{default:o(()=>t[58]||(t[58]=[f(" Save and Continue ")])),_:1,__:[58]})])])])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}))}});const Va=de(ha,[["__scopeId","data-v-e214edf8"]]);export{Va as default};
