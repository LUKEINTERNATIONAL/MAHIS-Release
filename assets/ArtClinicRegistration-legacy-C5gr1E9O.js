!function(){function e(e,a,t){return(a=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var l=t.call(e,a||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}System.register(["./app_encounter_service-legacy-CRpl_PwT.js","./index-legacy-D8VDxbcK.js","./LocationFieldOptions-legacy-CwGecoMc.js","./DatePicker.vue_vue_type_script_setup_true_lang-legacy-L-6bE_YY.js","./vitals_service-legacy-BdQjf6Tu.js","./vendor-legacy-COMGl7lq.js","./Staging-legacy-CO9Vuicj.js","./patient_registration_service-legacy-B_ZuT7Gy.js","./lodash-legacy-C-x9g9Na.js"],(function(a,t){"use strict";var l,i,r,n,o,_,u,s,d,v,c,h,f,p,b,m,g,y,k,w,V,D,C,T,I,N,q,A,R,O,z,F,U,H,Y,P,S,$,x,E,j,L,B,W,M,G,J;return{setters:[e=>{l=e.A},e=>{i=e.J,r=e.Q,n=e.S,o=e.P,_=e.i,u=e.cm,s=e.e,d=e.cp,v=e.aF,c=e.u,h=e.a1,f=e.k,p=e.m,b=e.t,m=e._},e=>{g=e.g},e=>{y=e._},e=>{k=e.S,w=e.V},e=>{V=e.d,D=e.r,C=e.y,T=e.f,I=e.z,N=e.l,q=e.u,A=e.ad,R=e.bq,O=e.m,z=e.ac,F=e.ab,U=e.D,H=e.A,Y=e.k,P=e.aw,S=e.G,$=e.ax,x=e.d7,E=e.B,j=e.e,L=e.F,B=e.L,W=e.ag,M=e.O},e=>{G=e.default},e=>{J=e.P},null],execute:function(){var t=document.createElement("style");t.textContent=".form-label[data-v-d1b2ab26]{font-weight:600;color:#333;margin-bottom:8px;display:block}.form-label span[data-v-d1b2ab26]{color:#eb445a}ion-item[data-v-d1b2ab26]{--padding-start: 0;--inner-padding-end: 0}ion-radio[data-v-d1b2ab26]{margin-right:8px}ion-note[data-v-d1b2ab26]{padding:12px;border-radius:8px;margin-bottom:16px;display:block;color:#eb445a!important;font-weight:700;font-style:italic}\n/*$vite$:1*/",document.head.appendChild(t);class K extends l{constructor(e,a){super(e,9,a)}}class Q extends l{constructor(a,t){super(a,9,t),e(this,"registration",void 0),e(this,"computeFollowupAgreements",(async e=>({tag:"reg",obs:await this.registration.buildValueCoded("Agrees to followup",e.value)}))),e(this,"computeHTCSerialNumber",(async e=>({tag:"reg",obs:await this.registration.buildValueText("HTC Serial number",e.value)}))),e(this,"computeEverReceivedART",(async({value:e})=>({tag:"reg",obs:await this.registration.buildValueCoded("Ever received ART",e)}))),e(this,"computeARTLastTakenDate",(async(e,a)=>({date:e,tag:"reg",isEstimate:a,obs:await this.buildDateObs("Date ART last taken",e,a)}))),e(this,"computeARTInitiationLocation",(async({label:e})=>({tag:"reg",obs:await this.registration.buildValueText("Location of ART initiation",e)}))),e(this,"computeARTNumberAtPreviousLocation",(async e=>({tag:"reg",obs:await this.registration.buildValueText("ART number at previous location",e.value)}))),e(this,"computeHasTransferLetter",(async({value:e})=>({tag:"reg",obs:await this.registration.buildValueCoded("Has transfer letter",e)}))),e(this,"computeConfirmatoryHIVTestType",(async({value:e})=>({tag:"reg",obs:await this.registration.buildValueCoded("Confirmatory hiv test type",e)}))),e(this,"computeConfirmatoryHIVTestLocation",(async e=>({tag:"reg",obs:await this.registration.buildValueText("Confirmatory HIV test location",e.label)}))),e(this,"computeConfirmatoryHIVTestDate",(async(e,a)=>({date:e,tag:"reg",isEstimate:a,obs:await this.buildDateObs("Confirmatory HIV test date",e,a)}))),e(this,"computeARTRegistrationDate",(async(e,a)=>({date:e,tag:"reg",isEstimate:a,obs:await this.buildDateObs("ART initiation date",e,a)}))),e(this,"computeARTStartDate",(async(e,a)=>({date:e,tag:"reg",isEstimate:a,obs:await this.buildDateObs("Contact date ART started",e,a)}))),e(this,"computeInitialWeight",(async e=>({tag:"reg",obs:await X(await this.registration.buildValueNumber("weight",e,null,null))}))),e(this,"computeInitialHeight",(async e=>({tag:"reg",obs:await X(await this.registration.buildValueNumber("height",e,null,null))}))),e(this,"computeTBStatus",(async e=>{const a=i();return{tag:"reg",obs:{concept_id:await l.getConceptID("TB treatment start date"),value_datetime:r.getSessionDate(),obs_datetime:r.getSessionDate(),providerID:n.getUserID(),programID:r.getProgramID(),location_id:a.facilityLocation.code,value_coded:await l.getConceptID(e)}}})),e(this,"buildDateObs",(async(e,a,t)=>/unknown/i.test(a)?this.buildValueText(e,"Unknown"):t?this.buildValueDateEstimated(e,a):await this.buildValueDate(e,a))),this.registration=new K(a,t)}async onSubmit(e){const a=await this.registration.createEncounter();if(!a)throw new Error("Failed to create encounter");this.encounterID=a.encounter_id,this.saveObservationList(e)}}function X(e){return console.log("fixValueNumericStructureInPlace",e),e.value_numeric.value&&(e.value_numeric=e.value_numeric.value),e}const Z={B:0,F:1,G:2,H:3,J:4,P:5,V:6,W:7,X:8,Z:9},ee=[[0,3,1,7,5,9,8,6,4,2],[7,0,9,2,1,5,4,8,6,3],[4,2,0,6,8,7,1,3,5,9],[1,7,5,0,9,8,3,4,2,6],[6,1,2,3,0,4,5,9,7,8],[3,6,7,4,2,0,9,5,8,1],[5,8,6,9,7,2,0,1,3,4],[8,9,4,5,3,6,2,0,1,7],[9,4,3,8,6,1,7,2,0,5],[2,5,8,1,4,3,6,7,9,0]];function ae(e,a){const t=a-`${e}`.length;return t<=0?`${e}`:`${Array.from({length:t}).map((()=>0)).join("")}${e}`}function te(e){const[a,t,l,i]=e.split("-");if(!(a&&t&&l&&i))return!1;const r=ae(parseInt(t),3),n=ae(parseInt(l),2),o=Z[i.toUpperCase()];return function(e){e.match(/^\d+$/)||(e=e.replace(/\D/g,""));let a=0;for(let t=0;t<e.length;t++){let l=e.charAt(t);a=ee[a][l]}return`${a}`}(`${a}-${r}-${n}`)===`${o}`}a("default",m(V({__name:"ArtClinicRegistration",setup(e,{expose:a}){const t=new o,l=new Q(t.getID(),-1),i=D(),r=D({phone_followup:"",phone_number:"",home_visit_followup:"",has_linkage:"",linkage_number:"",received_arvs:"",date_last_taken_arvs:"",taken_last_two_months:"",taken_last_two_weeks:"",ever_registered_at_art_clinic:"",location_of_art_initialization:"",art_number_at_previous_location:"",confirmatory_hiv_test_type:"",confirmatory_hiv_test_location:"",confirmatory_hiv_test_date:"",has_transfer_letter:"",art_start_date:"",initial_weight:"",initial_height:"",cd4_available:"",cd4_percent:""}),n=D([]),m=D({}),V=D([{dialCode:"265",iso2:"MW",name:"Malawi"}]),K=D({inputHeader:"Phone number *",icon:_.phone,value:"",name:"phoneNumber",InnerBtn:"",popOverData:{filterData:!1,data:[]}}),X={phone_followup:{label:"Phone followup",required:()=>!0,buildObs:()=>[l.buildValueCoded("Phone",r.value.phone_followup),l.buildValueCoded("Agrees to followup","Phone")],options:()=>["Yes","No"],validation:()=>ee("phone_followup")},phone_number:{required:()=>"Yes"===r.value.phone_followup&&(!t.getPhoneNumber()||/unknown|n\/a/i.test(`${t.getPhoneNumber()}`)),label:"Phone number",onSubmit:async()=>{try{const e=`+${V.value[0].dialCode}${r.value.phone_number}`,a=new J;a.setPersonID(t.getID()),await a.updatePerson({cell_phone_number:e});const l=c().getPatient();l&&l.personInformation&&(l.personInformation.cell_phone_number=e,await h(l)),f("Phone number updated successfully")}catch(e){console.error("Error updating phone number:",e),p("Failed to update phone number")}},formatValue:()=>`+${V.value[0].dialCode}${r.value.phone_number}`,onFormUpdate:(e,a)=>{"phone_followup"===e&&"No"===a&&(r.value.phone_number="",m.value.phone_number="")},validation:()=>{m.value.phone_number="";const e=X.phone_number.required();if(e&&!r.value.phone_number)return void(m.value.phone_number="Phone number is required");const a=v.isMWPhoneNumber(X.phone_number.formatValue());e&&"string"==typeof a&&a.length>0&&(m.value.phone_number="Not a valid Malawi phone number")}},home_visit_followup:{label:"Home visit followup",required:()=>!0,options:()=>["Yes","No"],buildObs:()=>[l.buildValueCoded("Home visit",r.value.home_visit_followup),l.buildValueCoded("Agrees to followup","Home visit")],validation:()=>ee("home_visit_followup")},has_linkage:{label:"Has linkage number",required:()=>!0,options:()=>["Yes","No"],validation:()=>ee("has_linkage")},linkage_number:{label:"Linkage number",required:()=>"Yes"===r.value.has_linkage,onFormUpdate:(e,a)=>{"has_linkage"===e&&"Yes"===a&&(r.value.linkage_number="",m.value.linkage_number="")},buildObs:()=>l.buildValueText("HTC Serial number",r.value.linkage_number),validation:()=>{if(m.value.linkage_number="",ee("linkage_number"))try{te(r.value.linkage_number)||(m.value.linkage_number="Invalid linkage number")}catch(e){m.value.linkage_number='Invalid linkage number. please follow format "1234-002-01-A" '}}},received_arvs:{label:"Received ARVs",required:()=>!0,options:()=>["Yes","No"],buildObs:()=>l.buildValueCoded("Ever received ART",r.value.received_arvs),validation:()=>ee("received_arvs")},date_last_taken_arvs:{label:"Date last taken ARVs",required:()=>"Yes"===r.value.received_arvs,onFormUpdate:(e,a)=>{"received_arvs"===e&&"No"===a&&(r.value.date_last_taken_arvs="",m.value.date_last_taken_arvs="")},validation:()=>{m.value.date_last_taken_arvs="",!ee("date_last_taken_arvs")||ae("date_last_taken_arvs")},buildObs:()=>l.buildValueDate("Date ART last taken",r.value.date_last_taken_arvs.standardDate)},taken_last_two_months:{label:"Taken last two months",required:()=>"Unknown"===r.value.received_arvs,onFormUpdate:(e,a)=>{"received_arvs"===e&&"No"==a&&(r.value.taken_last_two_months="",m.value.taken_last_two_months="")},options:()=>["Yes","No","Unknown"],buildObs:()=>l.buildValueCoded("Has the patient taken ART in the last two months",r.value.taken_last_two_months),validation:()=>ee("taken_last_two_months")},taken_last_two_weeks:{label:"Taken last two weeks",required:()=>"Yes"===r.value.taken_last_two_months,onFormUpdate:(e,a)=>{"taken_last_two_months"===e&&"No"===a&&(r.value.taken_last_two_weeks="",m.value.taken_last_two_weeks="")},options:()=>["Yes","No","Unknown"],validation:()=>ee("taken_last_two_weeks"),buildObs:()=>l.buildValueCoded("Has the patient taken ART in the last two weeks",r.value.taken_last_two_weeks)},ever_registered_at_art_clinic:{label:"Ever registered at ART clinic",required:()=>"Yes"===r.value.received_arvs,onFormUpdate:(e,a)=>{"received_arvs"===e&&"No"===a&&(r.value.ever_registered_at_art_clinic="",m.value.ever_registered_at_art_clinic="")},options:()=>["Yes","No"],validation:()=>ee("ever_registered_at_art_clinic"),buildObs:()=>l.buildValueCoded("Ever registered at ART clinic",r.value.ever_registered_at_art_clinic)},location_of_art_initialization:{label:"Location of ART initialization",required:()=>"Yes"===r.value.ever_registered_at_art_clinic,onFormUpdate:(e,a)=>{("received_arvs"===e&&"No"===a||"ever_registered_at_art_clinic"===e&&"No"===a)&&(r.value.location_of_art_initialization="",m.value.location_of_art_initialization="")},buildObs:()=>{var e,a;return l.buildValueText("Location of ART initialization",null!==(e=null===(a=r.value.location_of_art_initialization)||void 0===a?void 0:a.name)&&void 0!==e?e:r.value.location_of_art_initialization)},validation:()=>ee("location_of_art_initialization"),searchFacilities:e=>g(e).then((e=>n.value=e))},art_start_date:{label:"ART start date",required:()=>"Yes"===r.value.ever_registered_at_art_clinic,onFormUpdate:(e,a)=>{("received_arvs"===e&&"No"===a||"ever_registered_at_art_clinic"===e&&"No"===a)&&(r.value.art_start_date="",m.value.art_start_date="")},buildObs:()=>le("Date ART started",r.value.art_start_date.standardDate),validation:()=>{m.value.art_start_date="",!ee("art_start_date")||ae("art_start_date")}},art_number_at_previous_location:{label:"ART number at previous location",required:()=>"Yes"===r.value.ever_registered_at_art_clinic,onFormUpdate:(e,a)=>{("received_arvs"===e&&"No"===a||"ever_registered_at_art_clinic"===e&&"No"===a)&&(r.value.art_number_at_previous_location="",m.value.art_number_at_previous_location="")},validation:()=>ee("art_number_at_previous_location"),buildObs:()=>{var e,a;return l.buildValueText("ART number at previous location",null!==(e=null===(a=r.value.art_number_at_previous_location)||void 0===a?void 0:a.name)&&void 0!==e?e:r.value.art_number_at_previous_location)}},has_transfer_letter:{required:()=>"Yes"===r.value.ever_registered_at_art_clinic,onFormUpdate:(e,a)=>{("received_arvs"===e&&"No"===a||"ever_registered_at_art_clinic"===e&&"No"===a)&&(r.value.has_transfer_letter="",m.value.has_transfer_letter="")},label:"Has stage information?",options:()=>["Yes","No"],validation:()=>ee("has_transfer_letter"),buildObs:()=>l.buildValueCoded("Has transfer letter",r.value.has_transfer_letter)},initial_height:{label:"Initial height",required:()=>"Yes"===r.value.has_transfer_letter,onFormUpdate:(e,a)=>{("received_arvs"===e&&"No"===a||"has_transfer_letter"===e&&"No"===a)&&(r.value.initial_height="",m.value.initial_height="")},buildVitalsObs:e=>e.buildValueNumber("Height",r.value.initial_height),validation:()=>{m.value.initial_height="",ee("initial_height")&&(/^\d+$/i.test(`${r.value.initial_height}`)||(m.value.initial_height="Initial height must be a number"),parseInt(r.value.initial_height)<40&&(m.value.initial_height="Initial height cannot be less than 40"),parseInt(r.value.initial_height)>220&&(m.value.initial_height="Initial height cannot be greater than 220"))}},initial_weight:{label:"Initial weight",required:()=>"Yes"===r.value.has_transfer_letter,onFormUpdate:(e,a)=>{("received_arvs"===e&&"No"===a||"has_transfer_letter"===e&&"No"===a)&&(r.value.initial_weight="",m.value.initial_weight="")},buildVitalsObs:e=>e.buildValueNumber("Weight",r.value.initial_weight),validation:()=>{m.value.initial_weight="",ee("initial_weight")&&(/^\d{1,3}\.\d{1}$/i.test(`${r.value.initial_weight}`)||(m.value.initial_weight="Initial weight must be a valid decimal number.. i.e. 40.0"),parseInt(r.value.initial_weight)<.5&&(m.value.initial_weight="Initial weight cannot be less than 0.5"),parseInt(r.value.initial_weight)>250&&(m.value.initial_weight="Initial weight cannot be greater than 250"))}},vitals:{onSubmit:async()=>{if(X.initial_height.required()&&X.initial_weight.required()){const e=new w(t.getID(),-1);e.setDate(r.value.art_start_date.standardDate);const a=[X.initial_height.buildVitalsObs(e),X.initial_weight.buildVitalsObs(e)];await e.createEncounter(),await e.saveObservationList(await Promise.all(a))}}},cd4_available:{required:()=>"Yes"===r.value.has_transfer_letter,onFormUpdate:(e,a)=>{("received_arvs"===e&&"No"===a||"has_transfer_letter"===e&&"No"===a)&&(r.value.cd4_available="",m.value.cd4_available="")},label:"CD4 available",options:()=>["Yes","No"],validation:()=>ee("cd4_available")},cd4_percent:{required:()=>"Yes"===r.value.cd4_available,onFormUpdate:(e,a)=>{("received_arvs"===e&&"No"===a||"cd4_available"===e&&"No"===a)&&(r.value.cd4_percent="",m.value.cd4_percent="")},label:"CD4 percent",buildObs:()=>l.buildValueNumber("CD4 percent",parseInt(r.value.cd4_percent.substring(1)),"%"),validation:()=>{m.value.cd4_percent="",ee("cd4_percent")&&(/^\d+$/i.test(`${r.value.cd4_percent}`)||(m.value.cd4_percent="CD4 percent must be a number"),parseInt(r.value.cd4_percent)<0&&(m.value.cd4_percent="CD4 percent cannot be less than 0"),parseInt(r.value.cd4_percent)>100&&(m.value.cd4_percent="CD4 percent cannot be greater than 100"))}},confirmatory_hiv_test_type:{label:"Confirmatory hiv test type",required:()=>!0,options:()=>[{label:"Rapid antibody test",value:"HIV rapid test"},{label:"DNA PCR",value:"HIV DNA polymerase chain reaction"},{label:"Not done",value:"Not done",disabled:()=>"Yes"===r.value.has_linkage}],buildObs:()=>l.buildValueCoded("Confirmatory hiv test type",r.value.confirmatory_hiv_test_type),validation:()=>{m.value.confirmatory_hiv_test_type="",ee("confirmatory_hiv_test_type")&&"Not done"===r.value.confirmatory_hiv_test_type&&"Yes"===r.value.has_linkage&&(m.value.confirmatory_hiv_test_type="Linkage number detected, please select a confirmatory hiv test type")}},confirmatory_hiv_test_location:{label:"Confirmatory hiv test location",required:()=>r.value.confirmatory_hiv_test_type&&"Not done"!==r.value.confirmatory_hiv_test_type,onFormUpdate:(e,a)=>{"confirmatory_hiv_test_type"===e&&"Not done"===a&&(r.value.confirmatory_hiv_test_location="",m.value.confirmatory_hiv_test_location="")},validation:()=>ee("confirmatory_hiv_test_location"),searchFacilities:e=>g(e).then((e=>n.value=e)),buildObs:()=>{var e,a;return l.buildValueText("Confirmatory hiv test location",null!==(e=null===(a=r.value.confirmatory_hiv_test_location)||void 0===a?void 0:a.name)&&void 0!==e?e:r.value.confirmatory_hiv_test_location)}},confirmatory_hiv_test_date:{label:"Confirmatory hiv test date",required:()=>r.value.confirmatory_hiv_test_type&&"Not done"!==r.value.confirmatory_hiv_test_type,confirmFirmWithArtStartDateValue:()=>{var e;return m.value.confirmatory_hiv_test_date="",!X.art_start_date.required()||(null===(e=r.value.confirmatory_hiv_test_date)||void 0===e||!e.standardDate||!M(r.value.confirmatory_hiv_test_date.standardDate).isAfter(M(r.value.art_start_date.standardDate))||(m.value.confirmatory_hiv_test_date="Confirmatory hiv test date cannot be after ART start date",!1))},onFormUpdate:(e,a)=>{if("confirmatory_hiv_test_type"===e&&"Not done"===a&&(r.value.confirmatory_hiv_test_date="",m.value.confirmatory_hiv_test_date=""),"confirmatory_hiv_test_date"===e){var t;const e=null==a||null===(t=a.value)||void 0===t?void 0:t.standardDate;if(e){var i,n;const a=null!==(i=null===(n=r.value.art_start_date)||void 0===n?void 0:n.standardDate)&&void 0!==i?i:l.getDate(),t=M(a).diff(e,"days");t>=20&&d("Data inconsistency warning",`Confirmatory Date for newly initiated ART patient is ${t} days ago`,"Are you sure this is accurate?",[{name:"No, Re-enter date",slot:"start",color:"success"},{name:"Yes, its accurate",slot:"end",color:"danger"}]).then((e=>{"No, Re-enter date"===e&&(r.value.confirmatory_hiv_test_date={},m.value.confirmatory_hiv_test_date="Re-enter a valid confirmatory date")}))}}"art_start_date"!==e&&"ever_registered_at_art_clinic"!==e||X.confirmatory_hiv_test_date.confirmFirmWithArtStartDateValue()},buildObs:()=>le("Confirmatory hiv test date",r.value.confirmatory_hiv_test_date.standardDate),validation:()=>{if(m.value.confirmatory_hiv_test_date="",ee("confirmatory_hiv_test_date")){if(!ae("confirmatory_hiv_test_date"))return;if(!X.confirmatory_hiv_test_date.confirmFirmWithArtStartDateValue())return}}}};function Z(e,a){ie(e),Object.keys(X).forEach((t=>{var l;return(null===(l=X[t])||void 0===l?void 0:l.onFormUpdate)&&X[t].onFormUpdate(e,a)}))}function ee(e){m.value[e]="";const a=X[e],t=!(null==a||!a.required)&&a.required();return t&&!r.value[e]?(m.value[e]="This field is required",!1):t}function ae(e){var a;m.value[e]="";const l="string"==typeof r.value[e]?r.value[e]:null===(a=r.value[e])||void 0===a?void 0:a.standardDate,i=M(l),n=M(o.getSessionDate());return i.isAfter(n)?(m.value[e]=`${X[e].label} cannot be in the future`,!1):!i.isBefore(M(t.getBirthdate()))||(m.value[e]=`${X[e].label} cannot be before birthdate`,!1)}function le(e,a,t){let i={};return i=a.match(/unknown/i)?l.buildValueText(e,"Unknown"):l.buildValueDate(e,a),i}function ie(e){if(m.value[e]="","function"==typeof X[e].required){if(X[e].required()&&e in r.value&&!r.value[e])return void(m.value[e]="This field is required")}"function"==typeof X[e].validation&&X[e].validation()}return a({onSubmit:async function(){const e="Yes"!==r.value.has_transfer_letter||i.value.validateStagingForm(),a=(Object.keys(X).forEach((e=>ie(e))),Object.keys(m.value).every((e=>`${m.value[e]}`.length<=0)));if(!e||!a)return b("Please review form for errors"),!1;try{await l.createEncounter();const e=await Promise.all(Object.keys(X).reduce(((e,a)=>{if(a in X&&"function"==typeof X[a].required&&X[a].required()&&"function"==typeof X[a].buildObs){const t=X[a].buildObs();return Array.isArray(t)?[...e,...t]:[...e,t]}return e}),[]));return await l.onSubmit(e),await function(){const e=Object.keys(X).filter((e=>"function"==typeof X[e].onSubmit)).map((e=>X[e].onSubmit&&X[e].onSubmit()));return Promise.all(e)}(),"Yes"!==r.value.has_transfer_letter||await i.value.onSubmit()?(f("ART Clinic Registration saved successfully"),!0):(p("Unable to save Staging information!"),!1)}catch(t){return console.error(t),p("Error has occured while saving observations"),!1}}}),(e,a)=>(T(),C(q(W),{style:{margin:"0px auto",width:"80%"}},{default:I((()=>[N(q(A),null,{default:I((()=>[N(q(R),null,{default:I((()=>[N(q(z),null,{default:I((()=>[N(q(F),{size:"12","size-md":"6"},{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>a[22]||(a[22]=[H("Phone Followup "),Y("span",{style:{color:"red"}},"*",-1)]))),_:1,__:[22]}),N(q(P),{value:r.value.phone_followup,onIonChange:a[0]||(a[0]=e=>{r.value.phone_followup=e.detail.value,Z("phone_followup",e.detail.value)})},{default:I((()=>[N(q(S),{lines:"none"},{default:I((()=>[N(q($),{slot:"start",value:"Yes"}),N(q(U),null,{default:I((()=>a[23]||(a[23]=[H("Yes")]))),_:1,__:[23]})])),_:1}),N(q(S),{lines:"none"},{default:I((()=>[N(q($),{slot:"start",value:"No"}),N(q(U),null,{default:I((()=>a[24]||(a[24]=[H("No")]))),_:1,__:[24]})])),_:1})])),_:1},8,["value"]),m.value.phone_followup?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.phone_followup),1)])),_:1})):O("",!0)])),_:1}),N(q(F),{size:"12","size-md":"6"},{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>a[25]||(a[25]=[H("Home Visit Followup "),Y("span",{style:{color:"red"}},"*",-1)]))),_:1,__:[25]}),N(q(P),{value:r.value.home_visit_followup,onIonChange:a[1]||(a[1]=e=>{r.value.home_visit_followup=e.detail.value,Z("home_visit_followup",e.detail.value)})},{default:I((()=>[N(q(S),{lines:"none"},{default:I((()=>[N(q($),{slot:"start",value:"Yes"}),N(q(U),null,{default:I((()=>a[26]||(a[26]=[H("Yes")]))),_:1,__:[26]})])),_:1}),N(q(S),{lines:"none"},{default:I((()=>[N(q($),{slot:"start",value:"No"}),N(q(U),null,{default:I((()=>a[27]||(a[27]=[H("No")]))),_:1,__:[27]})])),_:1})])),_:1},8,["value"]),m.value.home_visit_followup?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.home_visit_followup),1)])),_:1})):O("",!0)])),_:1})])),_:1}),X.phone_number.required()?(T(),C(q(z),{key:0},{default:I((()=>[N(q(F),null,{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.phone_number.label)+" ",1),a[28]||(a[28]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[28]}),N(u,{inputHeader:"",sectionHeaderFontWeight:"20",bold:"",unit:"",input:"input",disabled:!1,icon:K.value.icon,placeholder:"Enter phone",iconRight:"",leftText:"",inputWidth:"100%",inputValue:r.value.phone_number,eventType:"input",p_country:V.value,"onUpdate:phone":a[2]||(a[2]=e=>{r.value.phone_number=e,Z("phone_number",e)}),onCountryChanged:()=>null,popOverData:K.value.popOverData,onHandleInnerActionBtnPropetiesFn:a[3]||(a[3]=a=>e.$emit("click:innerBtn",K.value)),InnerActionBtnPropeties:K.value.InnerBtn},null,8,["icon","inputValue","p_country","popOverData","InnerActionBtnPropeties"]),m.value.phone_number?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.phone_number),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.has_linkage.required()?(T(),C(q(z),{key:1},{default:I((()=>[N(q(F),null,{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.has_linkage.label)+" ",1),a[29]||(a[29]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[29]}),N(q(P),{value:r.value.has_linkage,onIonChange:a[4]||(a[4]=e=>{r.value.has_linkage=e.detail.value,Z("has_linkage",e.detail.value)})},{default:I((()=>[(T(!0),j(L,null,B(X.has_linkage.options(),(e=>(T(),C(q(S),{lines:"none",key:e},{default:I((()=>[N(q($),{slot:"start",value:e},null,8,["value"]),N(q(U),null,{default:I((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),m.value.has_linkage?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.has_linkage),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.linkage_number.required()?(T(),C(q(z),{key:2},{default:I((()=>[N(q(F),null,{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.linkage_number.label)+" ",1),a[30]||(a[30]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[30]}),N(s,{inputHeader:"",placeholder:"e.g 1234-002-01-A",inputValue:r.value.linkage_number,"onUpdate:inputValue":a[5]||(a[5]=e=>{r.value.linkage_number=e.target.value,Z("linkage_number",e.target.value)}),error:!!m.value.linkage_number},{end:I((()=>[N(q(U),null,{default:I((()=>a[31]||(a[31]=[H("set_site_prefix")]))),_:1,__:[31]})])),_:1},8,["inputValue","error"]),m.value.linkage_number?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.linkage_number),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.received_arvs.required()?(T(),C(q(z),{key:3},{default:I((()=>[N(q(F),null,{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.received_arvs.label)+" ",1),a[32]||(a[32]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[32]}),N(q(P),{value:r.value.received_arvs,onIonChange:a[6]||(a[6]=e=>{r.value.received_arvs=e.detail.value,Z("received_arvs",e.detail.value)})},{default:I((()=>[(T(!0),j(L,null,B(X.received_arvs.options(),(e=>(T(),C(q(S),{lines:"none",key:e},{default:I((()=>[N(q($),{slot:"start",value:e},null,8,["value"]),N(q(U),null,{default:I((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),m.value.received_arvs?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.received_arvs),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.date_last_taken_arvs.required()?(T(),C(q(z),{key:4},{default:I((()=>[N(q(F),{size:"12","size-md":"6"},{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.date_last_taken_arvs.label)+" ",1),a[33]||(a[33]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[33]}),N(y,{place_holder:"",date_prop:r.value.date_last_taken_arvs,onDateUpDated:a[7]||(a[7]=e=>{r.value.date_last_taken_arvs=e,Z("date_last_taken_arvs",e)}),error:!!m.value.date_last_taken_arvs},null,8,["date_prop","error"]),m.value.date_last_taken_arvs?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.date_last_taken_arvs),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.taken_last_two_months.required()?(T(),C(q(z),{key:5},{default:I((()=>[N(q(F),null,{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.taken_last_two_months.label)+" ",1),a[34]||(a[34]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[34]}),N(q(P),{value:r.value.taken_last_two_months,onIonChange:a[8]||(a[8]=e=>{r.value.taken_last_two_months=e.detail.value,Z("taken_last_two_months",e.detail.value)})},{default:I((()=>[(T(!0),j(L,null,B(X.taken_last_two_months.options(),(e=>(T(),C(q(S),{lines:"none",key:e},{default:I((()=>[N(q($),{slot:"start",value:e},null,8,["value"]),N(q(U),null,{default:I((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),m.value.taken_last_two_months?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.taken_last_two_months),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.taken_last_two_weeks.required()?(T(),C(q(z),{key:6},{default:I((()=>[N(q(F),null,{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.taken_last_two_weeks.label)+" ",1),a[35]||(a[35]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[35]}),N(q(P),{value:r.value.taken_last_two_weeks,onIonChange:a[9]||(a[9]=e=>{r.value.taken_last_two_weeks=e.detail.value,Z("taken_last_two_weeks",e.detail.value)})},{default:I((()=>[(T(!0),j(L,null,B(X.taken_last_two_weeks.options(),(e=>(T(),C(q(S),{lines:"none",key:e},{default:I((()=>[N(q($),{slot:"start",value:e},null,8,["value"]),N(q(U),null,{default:I((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),m.value.taken_last_two_weeks?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.taken_last_two_weeks),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.ever_registered_at_art_clinic.required()?(T(),C(q(z),{key:7},{default:I((()=>[N(q(F),null,{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.ever_registered_at_art_clinic.label)+" ",1),a[36]||(a[36]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[36]}),N(q(P),{value:r.value.ever_registered_at_art_clinic,onIonChange:a[10]||(a[10]=e=>{r.value.ever_registered_at_art_clinic=e.detail.value,Z("ever_registered_at_art_clinic",e.detail.value)})},{default:I((()=>[(T(!0),j(L,null,B(X.ever_registered_at_art_clinic.options(),(e=>(T(),C(q(S),{lines:"none",key:e},{default:I((()=>[N(q($),{slot:"start",value:e},null,8,["value"]),N(q(U),null,{default:I((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),m.value.ever_registered_at_art_clinic?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.ever_registered_at_art_clinic),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.location_of_art_initialization.required()?(T(),C(q(z),{key:8},{default:I((()=>[N(q(F),{size:"12","size-md":"6"},{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.location_of_art_initialization.label)+" ",1),a[37]||(a[37]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[37]}),N(k,{show_error:!!m.value.location_of_art_initialization,selected_district_ids:[],selected_location:r.value.location_of_art_initialization,onFacilitySelected:a[11]||(a[11]=e=>{r.value.location_of_art_initialization=e.selected_location,Z("location_of_art_initialization",e.selected_location)})},null,8,["show_error","selected_location"]),m.value.location_of_art_initialization?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.location_of_art_initialization),1)])),_:1})):O("",!0)])),_:1}),X.art_number_at_previous_location.required()?(T(),C(q(F),{key:0,size:"12","size-md":"6"},{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.art_number_at_previous_location.label)+" ",1),a[38]||(a[38]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[38]}),N(s,{inputHeader:"",placeholder:"Enter previous ART number",inputValue:r.value.art_number_at_previous_location,"onUpdate:inputValue":a[12]||(a[12]=e=>{r.value.art_number_at_previous_location=e.target.value,Z("art_number_at_previous_location",e.target.value)}),error:!!m.value.art_number_at_previous_location},null,8,["inputValue","error"]),m.value.art_number_at_previous_location?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.art_number_at_previous_location),1)])),_:1})):O("",!0)])),_:1})):O("",!0)])),_:1})):O("",!0),X.art_start_date.required()?(T(),C(q(z),{key:9},{default:I((()=>[N(q(F),{size:"12","size-md":"6"},{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.art_start_date.label)+" ",1),a[39]||(a[39]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[39]}),N(y,{place_holder:X.art_start_date.label+(X.art_start_date.required()?"*":""),date_prop:r.value.art_start_date,onDateUpDated:a[13]||(a[13]=e=>{r.value.art_start_date=e,Z("art_start_date",e)}),error:!!m.value.art_start_date},null,8,["place_holder","date_prop","error"]),m.value.art_start_date?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.art_start_date),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.has_transfer_letter.required()?(T(),C(q(z),{key:10},{default:I((()=>[N(q(F),null,{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.has_transfer_letter.label)+" ",1),a[40]||(a[40]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[40]}),N(q(P),{value:r.value.has_transfer_letter,onIonChange:a[14]||(a[14]=e=>{r.value.has_transfer_letter=e.detail.value,Z("has_transfer_letter",e.detail.value)})},{default:I((()=>[(T(!0),j(L,null,B(X.has_transfer_letter.options(),(e=>(T(),C(q(S),{lines:"none",key:e},{default:I((()=>[N(q($),{slot:"start",value:e},null,8,["value"]),N(q(U),null,{default:I((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),m.value.has_transfer_letter?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.has_transfer_letter),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),N(q(z),null,{default:I((()=>[X.initial_weight.required()?(T(),C(q(F),{key:0,size:"12","size-md":"6"},{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.initial_weight.label)+" ",1),a[41]||(a[41]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[41]}),N(s,{inputHeader:"",placeholder:"1",inputType:"number",inputValue:r.value.initial_weight,"onUpdate:inputValue":a[15]||(a[15]=e=>{r.value.initial_weight=e.target.value,Z("initial_weight",e.target.value)}),error:!!m.value.initial_weight,unit:"KG"},null,8,["inputValue","error"]),m.value.initial_weight?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.initial_weight),1)])),_:1})):O("",!0)])),_:1})):O("",!0),X.initial_height.required()?(T(),C(q(F),{key:1,size:"12","size-md":"6"},{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.initial_height.label)+" ",1),a[42]||(a[42]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[42]}),N(s,{inputHeader:"",placeholder:"1",inputType:"number",inputValue:r.value.initial_height,"onUpdate:inputValue":a[16]||(a[16]=e=>{r.value.initial_height=e.target.value,Z("initial_height",e.target.value)}),error:!!m.value.initial_height,unit:"CM"},null,8,["inputValue","error"]),m.value.initial_height?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.initial_height),1)])),_:1})):O("",!0)])),_:1})):O("",!0)])),_:1}),"Yes"===r.value.has_transfer_letter?(T(),C(q(z),{key:11},{default:I((()=>[N(q(F),null,{default:I((()=>[(T(),C(G,{key:r.value.art_start_date,date:r.value.art_start_date,ref_key:"stagingRef",ref:i},null,8,["date"]))])),_:1})])),_:1})):O("",!0),X.cd4_available.required()?(T(),C(q(z),{key:12},{default:I((()=>[N(q(F),null,{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.cd4_available.label)+" ",1),a[43]||(a[43]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[43]}),N(q(P),{value:r.value.cd4_available,onIonChange:a[17]||(a[17]=e=>{r.value.cd4_available=e.detail.value,Z("cd4_available",e.detail.value)})},{default:I((()=>[(T(!0),j(L,null,B(X.cd4_available.options(),(e=>(T(),C(q(S),{lines:"none",key:e},{default:I((()=>[N(q($),{slot:"start",value:e},null,8,["value"]),N(q(U),null,{default:I((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),m.value.cd4_available?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.cd4_available),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.cd4_percent.required()?(T(),C(q(z),{key:13},{default:I((()=>[N(q(F),null,{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.cd4_percent.label)+" ",1),a[44]||(a[44]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[44]}),N(s,{inputHeader:"",placeholder:"Enter CD4 percent",inputType:"number",inputValue:r.value.cd4_percent,"onUpdate:inputValue":a[18]||(a[18]=e=>{r.value.cd4_percent=e.target.value,Z("cd4_percent",e.target.value)}),error:!!m.value.cd4_percent,unit:"%"},null,8,["inputValue","error"]),m.value.cd4_percent?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.cd4_percent),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.confirmatory_hiv_test_type.required()?(T(),C(q(z),{key:14},{default:I((()=>[N(q(F),null,{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.confirmatory_hiv_test_type.label)+" ",1),a[45]||(a[45]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[45]}),N(q(P),{value:r.value.confirmatory_hiv_test_type,onIonChange:a[19]||(a[19]=e=>{r.value.confirmatory_hiv_test_type=e.detail.value,Z("confirmatory_hiv_test_type",e.detail.value)})},{default:I((()=>[(T(!0),j(L,null,B(X.confirmatory_hiv_test_type.options(),(e=>(T(),C(q(S),{lines:"none",key:e.value},{default:I((()=>[N(q($),{disabled:!!e.disabled&&e.disabled(),slot:"start",value:e.value},null,8,["disabled","value"]),N(q(U),null,{default:I((()=>[H(E(e.label),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),m.value.confirmatory_hiv_test_type?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.confirmatory_hiv_test_type),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.confirmatory_hiv_test_location.required()?(T(),C(q(z),{key:15},{default:I((()=>[N(q(F),{size:"12","size-md":"6"},{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.confirmatory_hiv_test_location.label)+" ",1),a[46]||(a[46]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[46]}),N(k,{show_error:!!m.value.confirmatory_hiv_test_location,selected_district_ids:[],selected_location:r.value.confirmatory_hiv_test_location,onFacilitySelected:a[20]||(a[20]=e=>{r.value.confirmatory_hiv_test_location=e.selected_location,Z("confirmatory_hiv_test_location",e.selected_location)})},null,8,["show_error","selected_location"]),m.value.confirmatory_hiv_test_location?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.confirmatory_hiv_test_location),1)])),_:1})):O("",!0)])),_:1}),X.confirmatory_hiv_test_date.required()?(T(),C(q(F),{key:0,size:"12","size-md":"6"},{default:I((()=>[N(q(U),{class:"form-label"},{default:I((()=>[H(E(X.confirmatory_hiv_test_date.label)+" ",1),a[47]||(a[47]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[47]}),N(y,{place_holder:X.confirmatory_hiv_test_date.label+(X.confirmatory_hiv_test_date.required()?"*":""),date_prop:r.value.confirmatory_hiv_test_date,onDateUpDated:a[21]||(a[21]=e=>{r.value.confirmatory_hiv_test_date=e,Z("confirmatory_hiv_test_date",e)}),error:!!m.value.confirmatory_hiv_test_date},null,8,["place_holder","date_prop","error"]),m.value.confirmatory_hiv_test_date?(T(),C(q(x),{key:0,color:"danger"},{default:I((()=>[H(E(m.value.confirmatory_hiv_test_date),1)])),_:1})):O("",!0)])),_:1})):O("",!0)])),_:1})):O("",!0)])),_:1})])),_:1})])),_:1}))}}),[["__scopeId","data-v-d1b2ab26"]]))}}}))}();
