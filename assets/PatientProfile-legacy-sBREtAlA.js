System.register(["./vendor-legacy-Doqs4mMk.js","./index-legacy-C6zVHlum.js","./lodash-legacy-pOOc9Efu.js","./confirm_pregnancy_service-legacy-M7d1R66T.js","./usePatientProfile-legacy-BtKShDR-.js","./formatServerData-legacy-VfGj6NG_.js","./DemographicBar-legacy-zc24Sq-L.js","./tasks-legacy-DJ_XLUir.js"],function(e,t){"use strict";var a,n,o,i,l,s,r,d,c,u,p,f,v,m,g,x,b,y,_,h,k,w,C,D,P,z,A,I,N,j,M,R,O,S,H,E,V,B,U,F,L,T,Y,G,W,$,q,J,K,Q,Z,X,ee,te,ae,ne,oe,ie,le,se,re,de,ce,ue,pe,fe,ve,me,ge,xe,be,ye,_e,he,ke,we,Ce,De,Pe,ze,Ae,Ie,Ne,je,Me,Re,Oe,Se;return{setters:[e=>{a=e.D,n=e.d,o=e.r,i=e.a,l=e.N,s=e.f,r=e.J,d=e.l,c=e.u,u=e.I,p=e.G,f=e.k,v=e.a0,m=e.dy,g=e.E,x=e.P,b=e.M,y=e.a7,_=e.a8,h=e.e,k=e.bh,w=e.a9,C=e.F,D=e.O,P=e.aa,z=e.p,A=e.dz,I=e.m,N=e.b1,j=e.K,M=e.bS,R=e.ae,O=e.Q,S=e.ak,H=e.co,E=e.aT,V=e.c,B=e.w,U=e.H,F=e.cv,L=e.aR,T=e.aO,Y=e.dA,G=e.cM,W=e.ai,$=e.ah,q=e.a1,J=e.Y,K=e.c_,Q=e.c$,Z=e.az,X=e.bU,ee=e.ck,te=e.aB,ae=e.cN,ne=e.cj},e=>{oe=e.P,ie=e.a6,le=e.Z,se=e.o,re=e.a7,de=e._,ce=e.a8,ue=e.u,pe=e.z,fe=e.e,ve=e.a9,me=e.T,ge=e.J,xe=e.S,be=e.H,ye=e.aa,_e=e.i,he=e.ab,ke=e.w,we=e.N,Ce=e.q,De=e.ac,Pe=e.C,ze=e.t,Ae=e.ad,Ie=e.ae},e=>{Ne=e.l},e=>{je=e.C},e=>{Me=e.u},e=>{Re=e.f},e=>{Oe=e.D},e=>{Se=e.i}],execute:function(){var He=document.createElement("style");He.textContent='.custom-header[data-v-f535f357]{--color: white;padding:8px 16px}.header-content[data-v-f535f357]{display:flex;align-items:center;justify-content:space-between;width:100%}.title-section[data-v-f535f357]{display:flex;align-items:center;gap:12px}.header-icon[data-v-f535f357]{font-size:24px;color:#fff}.custom-title[data-v-f535f357]{font-size:20px;font-weight:600;color:#fff;margin:0}.custom-content[data-v-f535f357]{--background: #fff}.progress-overview[data-v-f535f357]{background:#fff;margin:16px 16px 8px;padding:20px;border-radius:8px;border:1px solid #e2e8f0}.progress-header[data-v-f535f357]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.progress-stats h3[data-v-f535f357]{margin:0;font-size:24px;font-weight:700;color:#1e293b}.progress-stats p[data-v-f535f357]{margin:4px 0 0;font-size:14px;color:#64748b}.completion-badge[data-v-f535f357]{font-size:14px;font-weight:600;padding:8px 12px}.custom-progress[data-v-f535f357]{height:8px;border-radius:4px;--background: #e2e8f0}.tasks-container[data-v-f535f357]{padding:8px}.tasks-grid[data-v-f535f357]{padding:0}.task-col[data-v-f535f357]{padding:8px}.task-card[data-v-f535f357]{background:#fff;border-radius:16px;padding:20px;border:1px solid #e2e8f0;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 4px rgba(0,0,0,.05);height:100%;display:flex;flex-direction:column;align-items:center;text-align:center;min-height:140px}.task-card[data-v-f535f357]:hover:not(.task-disabled){transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,.15);border-color:#3b82f6}.task-completed[data-v-f535f357]{border-color:#10b981;background:linear-gradient(135deg,#f0fdf4,#dcfce7)}.task-disabled[data-v-f535f357]{opacity:.5;cursor:not-allowed}.task-icon-container[data-v-f535f357]{margin-bottom:12px;padding:16px;border-radius:50%;background:#f1f5f9;display:flex;align-items:center;justify-content:center}.task-completed .task-icon-container[data-v-f535f357]{background:#d1fae5}.task-icon[data-v-f535f357]{font-size:32px}.task-content[data-v-f535f357]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center}.task-label[data-v-f535f357]{font-size:16px;font-weight:600;color:#1e293b;margin-bottom:8px;text-align:center}.task-status[data-v-f535f357]{display:flex;align-items:center;gap:4px;font-size:12px;color:#10b981;font-weight:500}.empty-state[data-v-f535f357]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center;background:#fff;border-radius:16px;margin:8px;box-shadow:0 2px 8px rgba(0,0,0,.1)}.empty-icon[data-v-f535f357]{width:80px;height:80px;border-radius:50%;background:#f1f5f9;display:flex;align-items:center;justify-content:center;margin-bottom:24px}.empty-icon ion-icon[data-v-f535f357]{font-size:40px;color:#64748b}.empty-state h3[data-v-f535f357]{margin:0 0 12px;font-size:20px;font-weight:600;color:#1e293b}.empty-state p[data-v-f535f357]{margin:0 0 24px;font-size:16px;color:#64748b;max-width:300px;line-height:1.5}.empty-action[data-v-f535f357]{--border-radius: 8px;height:44px;font-weight:500}@media (max-width: 768px){.progress-header[data-v-f535f357]{flex-direction:column;gap:12px;text-align:center}.task-card[data-v-f535f357]{min-height:120px;padding:16px}.task-icon[data-v-f535f357]{font-size:28px}.task-label[data-v-f535f357]{font-size:14px}}.start-visit{margin-top:5px;margin-right:5px}.send-button-container{display:inline-flex;border-radius:9999px;overflow:hidden;min-width:130px}.send-text{background-color:#006401;color:#fff;border:none;font-family:system-ui,-apple-system,sans-serif;cursor:pointer;flex-grow:1;transition:background-color .2s;font-size:14px}.send-arrow{background-color:green;color:#fff;border:none;border-left:1px solid #135a14;font-size:14px;cursor:pointer;display:flex;align-items:center;transition:background-color .2s;padding:8px 14px}.send-text:hover{background-color:#004d00}.send-arrow:hover{background-color:#006b00}.send-arrow:after{content:"▾";font-size:18px}@media (max-width: 1120px){.regDisplayFlex{display:flex;justify-content:space-between}.displayNoneLeftPanel{display:none!important}}.patient-chart[data-v-3c925569]{width:100%;background-color:#fff;border-radius:5px;margin-right:5px;margin-bottom:10px}.vitalsHeading[data-v-3c925569]{font-style:normal;font-weight:300;font-size:14px;display:flex;align-items:center;color:#636363}.vitalsUnits[data-v-3c925569]{font-style:normal;font-weight:400;font-size:16px;color:#636363}.vitalsValue[data-v-3c925569]{font-style:normal;font-weight:600;font-size:30px;display:flex;align-items:center;color:#00190e}.vitalsTitle[data-v-3c925569]{font-style:normal;font-weight:600;font-size:16px;color:#00190e;padding:10px}.dateClass[data-v-3c925569]{font-style:normal;font-weight:400;font-size:12px;display:flex;align-items:center;color:#016302;padding:10px}#container[data-v-3c925569]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-3c925569]{font-size:20px;line-height:26px}#container p[data-v-3c925569]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-3c925569]{text-decoration:none}.centered-content[data-v-3c925569]{display:flex;justify-content:center;align-items:center}ion-item[slot=header][data-v-3c925569]{font-size:20px;padding-top:25px;font-weight:600}.first_letter[data-v-3c925569]{background-color:#e6e6e6;padding:20px;margin-right:20px;font-size:24px;border-radius:4px;color:#636363!important}.p_name_image[data-v-3c925569]{font-size:24px;color:#00190e;display:flex;font-weight:700;overflow:hidden}.p_name[data-v-3c925569]{max-width:210px;margin-left:20px;height:25px}.p_dash_header[data-v-3c925569]{display:flex;justify-content:space-between;padding:20px;border-bottom:solid #cccccc 1px}.p_title[data-v-3c925569]{font-weight:700;font-size:24px;color:#00190e}.col[data-v-3c925569]{border:solid 1px #ccc;padding:20px;width:600px;height:37.4vh}.row[data-v-3c925569]{border-radius:4px;border:solid 1px #ccc}.grid[data-v-3c925569]{padding:20px}.date[data-v-3c925569]{display:flex;font-weight:600;color:#00190e;align-items:center;justify-content:space-between;width:200px}ion-item[slot=header][data-v-3c925569]{padding-top:1px}.side_title[data-v-3c925569]{font-size:14px}.form_list[data-v-3c925569]{display:flex}.form_list_content[data-v-3c925569]{padding-left:10px;color:#00190e;font-size:14px;font-weight:500;padding-bottom:15px}.start_new_co[data-v-3c925569]{background-color:#ded;color:#006401;padding:15px;border-radius:4px;margin-bottom:20px;margin-left:7px;font-weight:500;cursor:pointer}.allergies[data-v-3c925569]{background:#fecdca;color:#b42318;padding:1px 8px;border-radius:4px;margin-right:5px;display:inline-block;margin-bottom:5px}.segment-button-checked[data-v-3c925569]{background:#ded!important}ion-segment-button[data-v-3c925569]{background:#fff;margin-right:1px;font-size:12px;text-transform:unset}.bottomSummary[data-v-3c925569]{margin-top:20px;max-width:600px}.bottomSummary .segment-button-checked[data-v-3c925569]{background:#fff!important;--indicator-color: none}.bottomSummary ion-segment-button[data-v-3c925569]{background:#e6e6e6;margin-right:5px;border-top-right-radius:10px;border-top-left-radius:10px;text-transform:unset;font-style:normal;font-weight:700;font-size:12px}.bottomSummaryContent[data-v-3c925569]{background:#fff}.initialsBox[data-v-3c925569]{min-width:85px;height:90px;left:31px;top:122px;border-radius:10px;align-items:center;display:flex;justify-content:center;margin-top:10px}.maleColor[data-v-3c925569]{background:#5983ba}.femaleColor[data-v-3c925569]{background:#876d9b}.demoContent[data-v-3c925569]{font-weight:700}.alert_content[data-v-3c925569]{padding:10px 10px 0;width:100%}.bottom_text[data-v-3c925569]{padding-bottom:10px;width:100%}.sub-menu-icon[data-v-3c925569]{margin-right:12px}.sub-menu-txt[data-v-3c925569]{font-weight:600;font-size:17px;color:gray}ion-item.list-content.selected[data-v-3c925569]{--background: #e8f0fe;--color: #1a73e8}.button-group[data-v-3c925569]{display:flex;justify-content:space-between;align-items:center;gap:10px;width:100%}.action-buttons[data-v-3c925569]{display:flex;gap:8px;align-items:center}.action-button[data-v-3c925569]{display:inline-flex;align-items:center;padding:6px 12px;height:32px;border-radius:9999px;font-family:system-ui,-apple-system,sans-serif;cursor:pointer;font-size:14px;border:none;background-color:#e6e6e6;color:#636363!important;transition:all .2s;white-space:nowrap}.action-button[data-v-3c925569]:hover{background-color:#d0d0d0}.action-button.danger[data-v-3c925569]{background-color:#fecdca;color:#b42318!important}.action-button.danger[data-v-3c925569]:hover{background-color:#f9a8a4}.send-button-container[data-v-3c925569]{display:inline-flex;border-radius:9999px;overflow:hidden;min-width:130px;height:32px}@media (max-width: 768px){.button-group[data-v-3c925569]{flex-wrap:wrap}.action-buttons[data-v-3c925569]{flex:1;min-width:0}.send-button-container[data-v-3c925569]{flex:none}.action-button[data-v-3c925569]{padding:6px 8px;font-size:13px}}.danger[data-v-3c925569]{--ion-color-base: #b42318 !important;--ion-color-contrast: #ffffff !important}\n/*$vite$:1*/',document.head.appendChild(He);const Ee=[{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Is the pregnancy confirmed?*",class:"bold",selectedValue:"",name:"Pregnancy confirmed"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Was the pregnancy planned?*",selectedValue:"",class:"bold",name:"Pregnancy planned"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}}],Ve=e("u",a("ANCEnrollmentStore",{state:()=>({ConfirmPregnancy:[...Ee]}),actions:{setConfirmPregnancy(e){this.ConfirmPregnancy=e},getInitial:()=>[...Ne.cloneDeep(Ee)]}})),Be={class:"header-content"},Ue={class:"title-section"},Fe={class:"tasks-container"},Le=["onClick"],Te={class:"task-icon-container"},Ye={class:"task-content"},Ge={key:0,class:"task-status"},We={key:1,class:"empty-state"},$e={class:"empty-icon"},qe=de(n({__name:"TaskView",props:{tasks:{type:Object,required:!0}},setup(e){const t=o([]),a=e;function n(){O.dismiss()}return i(async()=>{const e=new oe;t.value=[];const n=await new ie(e.getID()).getProgram();a.tasks.forEach(async e=>{const o={label:e.name,icon:e.icon,disabled:!1,taskCompleted:!1,task:e};if(("string"!=typeof e.workflowID||await Se(e.workflowID))&&("function"!=typeof e.condition||await e.condition(a.tasks))){if("string"==typeof e.globalProperty&&!(await le.isProp(`${e.globalProperty}=true`)))return;var i,l;return"boolean"==typeof e.allowTaskAfterDeath&&!1===e.allowTaskAfterDeath&&/died/i.test(`${null==n||null===(i=n.program)||void 0===i?void 0:i.outcome}`)&&new Date(oe.getSessionDate())>=new Date(null==n||null===(l=n.program)||void 0===l?void 0:l.startDate)&&(o.disabled=!0),"function"==typeof e.disabled&&(o.disabled=await e.disabled(a.tasks)),t.value.push(o),t.value.sort((e,t)=>e.label.localeCompare(t.label)),e}})}),(e,a)=>(s(),l(c(R),null,{default:r(()=>[d(c(u),{class:"ion-no-border"},{default:r(()=>[d(c(p),{class:"custom-header"},{default:r(()=>[f("div",Be,[f("div",Ue,[d(c(v),{icon:c(m),class:"header-icon"},null,8,["icon"]),d(c(g),{class:"custom-title"},{default:r(()=>a[0]||(a[0]=[x("Program Activities",-1)])),_:1,__:[0]})]),d(c(b),{onClick:n,fill:"clear",shape:"round"},{default:r(()=>[d(c(v),{icon:c(y)},null,8,["icon"])]),_:1})])]),_:1})]),_:1}),d(c(_),{class:"custom-content"},{default:r(()=>[f("div",Fe,[t.value&&t.value.length>0?(s(),l(c(k),{key:0,class:"tasks-grid"},{default:r(()=>[d(c(w),{class:"ion-justify-content-center"},{default:r(()=>[(s(!0),h(C,null,D(t.value,(e,t)=>(s(),l(c(P),{size:"12","size-sm":"6","size-md":"4","size-lg":"3",key:t,class:"task-col"},{default:r(()=>[f("div",{class:z(["task-card",{"task-completed":e.taskCompleted,"task-disabled":e.disabled}]),onClick:t=>!e.disabled&&(e=>{if(!e.disabled)if(e.task.action)n(),e.task.action();else if(e.task.component&&e.task.isFormComponent)return void se(re,{},!1,{title:e.task.name,useComponent:e.task.component,onClose:n})})(e)},[f("div",Te,[d(c(v),{color:e.taskCompleted?"success":"primary",icon:e.taskCompleted?c(A):e.icon,class:"task-icon"},null,8,["color","icon"])]),f("div",Ye,[d(c(N),{class:"task-label"},{default:r(()=>[x(j(e.label),1)]),_:2},1024),e.taskCompleted?(s(),h("div",Ge,[d(c(v),{icon:c(A),color:"success"},null,8,["icon"]),a[1]||(a[1]=f("span",null,"Completed",-1))])):I("",!0)])],10,Le)]),_:2},1024))),128))]),_:1})]),_:1})):(s(),h("div",We,[f("div",$e,[d(c(v),{icon:c(M)},null,8,["icon"])]),a[2]||(a[2]=f("h3",null,"No Activities Yet",-1)),a[3]||(a[3]=f("p",null,"Your program activities will appear here once they're available.",-1))]))])]),_:1})]),_:1}))}}),[["__scopeId","data-v-f535f357"]]),Je={key:2,class:"content_manager"},Ke={style:{display:"flex","justify-content":"space-between"}},Qe={class:"p_name_image"},Ze={style:{width:"100%"}},Xe={class:"p_name"},et={style:{display:"flex","justify-content":"space-between"}},tt={class:"start-visit"},at={class:"button-group"},nt={class:"send-button-container action-buttons"},ot={class:"send-button-container"},it={class:"send-button-container"},lt={class:"send-button-container"},st={style:{"padding-left":"10px","padding-right":"10px"}},rt={class:"vitalsUnits"},dt={style:{width:"100%",overflow:"scroll",height:"64px"}},ct={key:0,style:{"margin-top":"1px"}},ut={key:0,class:"patient-chart"},pt={class:"patient-chart"},ft={key:1,class:"patient-chart"},vt={key:1},mt={key:2},gt={key:3},xt={key:4},bt={key:5},yt={class:"rght-drpm"},_t=n({__name:"PatientProfile",setup(e,{expose:a}){const n=F(()=>ne(()=>t.import("./LabTestsHistory-legacy-BHqSNDuR.js"),void 0,t.meta.url)),u=F(()=>ne(()=>t.import("./DiagnosesHistory-legacy-DROPQogj.js"),void 0,t.meta.url)),p=F(()=>ne(()=>t.import("./AllergiesContraindication-legacy-C4kdacTT.js"),void 0,t.meta.url)),m=F(()=>ne(()=>t.import("./VisitsHistory-legacy-BEjLqL7T.js"),void 0,t.meta.url)),g=F(()=>ne(()=>t.import("./VitalsMeasurementsSummary-legacy-CA2VzvaO.js"),void 0,t.meta.url)),b=F(()=>ne(()=>t.import("./PatientProfile-legacy-BnWCw0VX.js"),void 0,t.meta.url)),k=F(()=>ne(()=>t.import("./WeightHeightChart-legacy-D2vq9D_Z.js"),void 0,t.meta.url)),A=F(()=>ne(()=>t.import("./index-legacy-C6zVHlum.js").then(e=>e.ce),void 0,t.meta.url)),M=F(()=>ne(()=>t.import("./BloodPressure-legacy-BXJQmp5K.js"),void 0,t.meta.url)),O=F(()=>ne(()=>t.import("./AncEnrollmentModal-legacy-BZfPiWn9.js"),void 0,t.meta.url)),ie=F(()=>ne(()=>t.import("./LabourEnrollmentModal-legacy-COybYkCx.js"),void 0,t.meta.url)),le=F(()=>ne(()=>t.import("./PNCEnrollmentModal-legacy-hyLJ9iSD.js"),void 0,t.meta.url)),re=S(),de=H(),Ne=ue(),Se=pe(),He=Ve(),{event:Ee,popoverOpen:Be,openPopover:Ue,openPIM:Fe,openOutCome:Le,openUpdateNCDNUmbers:Te,printVisitSummary:Ye,printID:Ge,formatCurrentAddress:We}=Me(),{screenWidth:$e}=fe(),{patient:_t}=E(Ne),{activeProgram:ht,authorizedPrograms:kt}=E(Se),{ConfirmPregnancy:wt}=E(He),Ct=o(!1),Dt=o(!0),Pt=o(!1),zt=o(!1),At=o(!1),It=o("Patient Charts"),Nt=o(null),jt=o([]),Mt=o({}),Rt=o(!1),Ot=o(!1),St=o(!1),Ht=o(!1),Et=o([]),Vt=o(0),Bt=o(),Ut=o(""),Ft=o(!1),Lt=V(()=>{var e;const t=null===(e=_t.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender;return"Male"===t||"M"===t?kt.value.filter(e=>"ANC PROGRAM"!==e.name&&"LABOUR AND DELIVERY PROGRAM"!==e.name&&"PNC PROGRAM"!==e.name):kt.value.map(e=>{if("ANC PROGRAM"===e.name||"LABOUR AND DELIVERY PROGRAM"===e.name||"PNC PROGRAM"===e.name){if(null==Et||!Et.value)return;const t=null==Et?void 0:Et.value.some(t=>t.id===e.program_id);return{...e,actionName:t?`Start ${e.name}`:`Enroll in ${e.name}`}}return e})}),Tt=V(()=>!Rt.value&&14==ht.value.program_id),Yt=V(()=>Rt.value&&14==ht.value.program_id),Gt=e=>{It.value=e},Wt=()=>[{backgroundColor:"#B9E6FE",status:"",icon:ye(["#B9E6FE","#026AA2","#9ADBFE"]),textColor:"#026AA2",value:"No further action is required.",name:"",index:"Blood sugar is normal"},{backgroundColor:"#FEDF89",status:"",icon:ye(["#FEDF89","#B54708","#FED667"]),textColor:"#B54708",value:"Please call or follow up!",name:"",index:"Patient Defaulted"},{backgroundColor:"#FECDCA",status:"",icon:ye(["#FECDCA","#B42318","#FDA19B"]),textColor:"#B42318",value:"Administer medications!",name:"",index:"Patient is hypertensive"}],$t=async()=>{if(14==ht.value.program_id)try{const e=await De.getCheckInStatus(_t.value.patientID);Rt.value=e.length>0}catch(e){console.error(e)}},qt=(e="tasks")=>async function(e,t="tasks"){var a,n;const o=null!==(a={1:ce}[e])&&void 0!==a?a:{};se(qe,{},!0,{tasks:null!==(n=null==o?void 0:o[t])&&void 0!==n?n:[]})}(ht.value.program_id,e),Jt=async e=>{if(!(await ta(),e.program_id!=Pe.ANC_PROGRAM&&e.program_id!=Pe.PNC_PROGRAM&&e.program_id!=Pe.LABOUR_AND_DELIVERY_PROGRAM||Et.value.find(t=>t.id==e.program_id))){if(e.program_id==Pe.ANC_PROGRAM)return Ot.value=!0,void(Vt.value=e.program_id);var t,a;if(e.program_id==Pe.LABOUR_AND_DELIVERY_PROGRAM)return St.value=!0,Ut.value=`Are you sure you want to enroll ${null===(t=_t.value)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.given_name.toUpperCase()} in this program?`,void(Vt.value=e.program_id);if(e.program_id==Pe.PNC_PROGRAM)return Ht.value=!0,Ut.value=`Are you sure you want to enroll ${null===(a=_t.value)||void 0===a||null===(a=a.personInformation)||void 0===a?void 0:a.given_name.toUpperCase()} in this program?`,void(Vt.value=e.program_id)}const n=await ve.userProgramData(_t.value.patientID,e);return 14===e.program_id?null!=n&&n.canProceed&&n.url?re.push(n.url):void(null!=n&&n.showWarning&&ze("The patient's visit is not activated or you don't have permissions for the current stage")):null!=n&&n.url?re.push(n.url):void 0},Kt=()=>{Ot.value=!1},Qt=()=>{Ot.value=!Ot.value},Zt=async()=>{const e=xe.getUserID(),t=new je(_t.value.patientID,e);if(!(await t.createEncounter()))return ze("Unable to create quick check encounter");const a=await t.saveObservationList(await oa());return await Ae.enrollProgram(_t.value.patientID,Vt.value,(new Date).toString()),a?(we("Enrollment is successful"),await ta(),Qt(),re.push("ANCHome")):ze("Unable to create quick check details!")},Xt=async()=>(await Ae.enrollProgram(_t.value.patientID,Vt.value,(new Date).toString()),await ta(),we("Enrollment is successful"),re.push("LabourHome")),ea=async()=>(await Ae.enrollProgram(_t.value.patientID,Vt.value,(new Date).toString()),await ta(),we("Enrollment is successful"),re.push("PNCHome")),ta=async()=>{const e=_t.activePrograms;Et.value=null==e?void 0:e.map(e=>({name:e.program.name,id:e.program_id}))},aa=()=>{Qt()},na=async()=>{const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","Respiratory rate"].map(async e=>{const t=await Ie.getFirstValueNumber(_t.value.patientID,e);return{[e]:t}});Bt.value=(new oe).getBloodGlucose(_t.value);const t=await Promise.all(e);Mt.value=Object.assign({},...t)},oa=async()=>[...await Re(wt)];return i(async()=>{var e;await ve.userProgramData(_t.value.patientID),null!==(e=_t.value)&&void 0!==e&&null!==(e=e.personInformation)&&void 0!==e&&e.birthdate&&(Dt.value=be.getAgeInYears(_t.value.personInformation.birthdate)>=14,Pt.value=be.ageInMonths(_t.value.personInformation.birthdate)<9,zt.value=be.getAgeInYears(_t.value.personInformation.birthdate)<5,At.value=be.dateDiffInDays(be.sessionDate(),_t.value.personInformation.birthdate)<42);const t=new oe;jt.value=await oe.getPatientVisits(t.getID(),!1),await ta(),Wt(),await na(),await $t()}),B(()=>{var e;return null===(e=_t.value)||void 0===e?void 0:e.patientID},async e=>{e&&(await ve.userProgramData(e),await ta())},{immediate:!0}),B(()=>_t,async()=>{await ve.userProgramData(_t.value.patientID),await na(),await $t(),await(async()=>{if(14==ht.value.program_id)try{const e=await De.getCheckInStatus(_t.value.patientID);Rt.value=!!e.length}catch(e){console.error(e)}})()},{deep:!0}),B(de,async e=>{await ve.userProgramData(_t.value.patientID)},{deep:!0}),B(()=>_t.value,()=>{(()=>{var e;if(null!==(e=_t.value)&&void 0!==e&&null!==(e=e.personInformation)&&void 0!==e&&e.birthdate){const e=be.getAgeInYears(_t.value.personInformation.birthdate);Ft.value=e<9}})()},{immediate:!0,deep:!0}),a({showUnderageWarning:Ft}),(e,t)=>{const a=U("ion-list"),o=U("ion-popover");return s(),l(c(R),null,{default:r(()=>[d(me),d(c(_),{fullscreen:!0},{default:r(()=>[33!==c(ht).program_id&&""!=c(ht).program_id&&c($e)<1120?(s(),l(Oe,{key:0,onOpenPopover:t[0]||(t[0]=e=>c(Ue)(e))})):I("",!0),d(c(O),{closeModalFunc:Kt,onYes:Zt,onNo:aa,isOpen:Ot.value,title:Ut.value,showUnderageWarning:Ft.value},null,8,["isOpen","title","showUnderageWarning"]),d(c(ie),{closeModalFunc:Kt,onYes:Xt,onNo:aa,isOpen:St.value,title:Ut.value},null,8,["isOpen","title"]),d(c(le),{closeModalFunc:Kt,onYes:ea,onNo:aa,isOpen:Ht.value,title:Ut.value},null,8,["isOpen","title"]),33==c(ht).program_id?(s(),l(c(b),{key:1,updateData:c(_t)},null,8,["updateData"])):I("",!0),33!==c(ht).program_id&&""!=c(ht).program_id?(s(),h("div",Je,[d(c(w),{class:"content_width"},{default:r(()=>[d(c(P),{size:"2.5","size-lg":"2.6","size-md":"3",class:"displayNoneLeftPanel"},{default:r(()=>[d(c(L),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:r(()=>[d(c(T),null,{default:r(()=>{var e,a,n,o;return[f("div",Ke,[t[22]||(t[22]=f("div",null,null,-1)),f("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:t[1]||(t[1]=e=>c(Ue)(e))},[d(c(v),{icon:c(Y),style:{"font-size":"2.2rem"}},null,8,["icon"])])]),f("div",Qe,[f("div",{class:z("M"==(null===(e=c(_t))||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender)?"initialsBox maleColor":"initialsBox femaleColor"),onClick:t[2]||(t[2]=e=>c(Fe)())},[d(c(v),{style:{color:"#fff","font-size":"70px"},icon:c(G)},null,8,["icon"])],2),f("div",Ze,[f("div",Xe,j(null===(a=c(_t))||void 0===a||null===(a=a.personInformation)||void 0===a?void 0:a.given_name)+" "+j(null===(n=c(_t))||void 0===n||null===(n=n.personInformation)||void 0===n?void 0:n.middle_name)+" "+j(null===(o=c(_t))||void 0===o||null===(o=o.personInformation)||void 0===o?void 0:o.family_name),1)])]),d(c(w),null,{default:r(()=>[d(c(P),{size:"4"},{default:r(()=>t[23]||(t[23]=[x("MRN:",-1)])),_:1,__:[23]}),d(c(P),{class:"demoContent"},{default:r(()=>[x(j(c(_t).ID),1)]),_:1})]),_:1}),32===c(ht).program_id?(s(),l(c(w),{key:0},{default:r(()=>[d(c(P),{size:"4"},{default:r(()=>t[24]||(t[24]=[x("NCDNumber:",-1)])),_:1,__:[24]}),d(c(P),{class:"demoContent"},{default:r(()=>[x(j(c(_t).NcdID),1)]),_:1})]),_:1})):I("",!0),d(c(w),null,{default:r(()=>[d(c(P),{size:"4"},{default:r(()=>t[25]||(t[25]=[x("Gender:",-1)])),_:1,__:[25]}),d(c(P),{class:"demoContent"},{default:r(()=>{var e,t;return[x(j((t=null===(e=c(_t))||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender,["Male","M"].includes(t)?"Male":["Female","F"].includes(t)?"Female":"")),1)]}),_:1})]),_:1}),d(c(w),null,{default:r(()=>[d(c(P),{size:"4"},{default:r(()=>t[26]||(t[26]=[x("Age:",-1)])),_:1,__:[26]}),d(c(P),{class:"demoContent"},{default:r(()=>{return[x(j(be.getBirthdateAge(null===(e=_t.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)),1)];var e}),_:1})]),_:1}),d(c(w),null,{default:r(()=>[d(c(P),{size:"4"},{default:r(()=>t[27]||(t[27]=[x("Address:",-1)])),_:1,__:[27]}),d(c(P),{class:"demoContent"},{default:r(()=>[x(j(c(We)(c(_t))),1)]),_:1})]),_:1})]}),_:1})]),_:1}),d(c(L),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:r(()=>[d(c(W),{value:["first"]},{default:r(()=>[d(c($),{value:"first",style:{"background-color":"#fff"},"toggle-icon-slot":"start"},{default:r(()=>[d(c(q),{slot:"header",color:"white"},{default:r(()=>[d(c(N),{class:"side_title"},{default:r(()=>t[28]||(t[28]=[x("Alerts & Reminders ",-1)])),_:1,__:[28]})]),_:1}),d(c(T),{slot:"content"},{default:r(()=>[(s(!0),h(C,null,D(Wt(),(e,t)=>(s(),h("span",{key:t},[e.value?(s(),l(c(w),{key:0,style:J("border-radius: 5px;  margin-top:10px; margin-bottom:10px;background-color:"+e.backgroundColor)},null,8,["style"])):I("",!0)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d(c(P),{"size-sm":"12","size-md":"12","size-lg":c($e)>1120?"9.4":"12"},{default:r(()=>[d(c(L),{style:{"background-color":"#fff","margin-inline":"0px",contain:"unset",overflow:"unset"}},{default:r(()=>[f("div",null,[f("div",et,[t[29]||(t[29]=f("div",{class:"vitalsTitle"},"Most recent Vitals & Biometrics",-1)),f("div",tt,[f("div",at,[f("div",nt,[Tt.value?(s(),l(ge,{key:0,name:"Activate visit",onClick:t[3]||(t[3]=e=>(async()=>{await _e("Are you sure you want to create the visit?")&&await he(Ne.patient)&&(Rt.value=!0,await ke().refresh(xe.getUserLocationId()),we("The patient visit is now active. Patient is on the waiting list for vitals"))})()),fill:"clear",iconSlot:"start",icon:c(y),class:"action-button"},null,8,["icon"])):I("",!0),Yt.value?(s(),l(ge,{key:1,name:"Deactivate visit",onClick:t[4]||(t[4]=e=>(async()=>{await _e("Are you sure you want to close the visit?")&&await Ce(_t.value)&&(Rt.value=!1,await ke().refresh(xe.getUserLocationId()),we("The patient visit is now closed"))})()),fill:"clear",iconSlot:"start",icon:c(y),class:"action-button danger"},null,8,["icon"])):I("",!0)]),f("div",ot,[f("button",{class:"send-text",onClick:t[5]||(t[5]=e=>qt())},"Tasks")]),f("div",it,[f("button",{class:"send-text",onClick:t[6]||(t[6]=e=>qt("other"))},"Printout/Other")]),f("div",lt,[f("button",{class:"send-text",onClick:t[7]||(t[7]=e=>Jt(c(ht)))},"Start visit"),f("button",{class:"send-arrow",onClick:t[8]||(t[8]=e=>{return t=e,Nt.value=t,void(Ct.value=!Ct.value);var t})})])])])])]),f("div",st,[d(c(w),null,{default:r(()=>[d(c(P),{class:"vitalsHeading"},{default:r(()=>t[30]||(t[30]=[x("Weight",-1)])),_:1,__:[30]}),d(c(P),{class:"vitalsHeading"},{default:r(()=>t[31]||(t[31]=[x("Height",-1)])),_:1,__:[31]}),d(c(P),{class:"vitalsHeading"},{default:r(()=>t[32]||(t[32]=[x("Temperature",-1)])),_:1,__:[32]}),d(c(P),{class:"vitalsHeading"},{default:r(()=>t[33]||(t[33]=[x("Blood glucose",-1)])),_:1,__:[33]}),d(c(P),{class:"vitalsHeading"},{default:r(()=>t[34]||(t[34]=[x("Pulse Rate",-1)])),_:1,__:[34]}),d(c(P),{class:"vitalsHeading"},{default:r(()=>t[35]||(t[35]=[x("Blood pressure",-1)])),_:1,__:[35]})]),_:1}),d(c(w),null,{default:r(()=>[d(c(P),{class:"vitalsValue"},{default:r(()=>[x(j(Mt.value.Weight)+" ",1),t[36]||(t[36]=f("span",{class:"vitalsUnits"},"kg",-1))]),_:1,__:[36]}),d(c(P),{class:"vitalsValue"},{default:r(()=>[x(j(Mt.value["Height (cm)"])+" ",1),t[37]||(t[37]=f("span",{class:"vitalsUnits"},"cm",-1))]),_:1,__:[37]}),d(c(P),{class:"vitalsValue"},{default:r(()=>[x(j(Mt.value.Temperature)+" ",1),t[38]||(t[38]=f("span",{class:"vitalsUnits"},"°C",-1))]),_:1,__:[38]}),d(c(P),{class:"vitalsValue"},{default:r(()=>{var e,t;return[x(j(null===(e=Bt.value)||void 0===e?void 0:e.value)+" ",1),f("span",rt,j(null===(t=Bt.value)||void 0===t?void 0:t.unit),1)]}),_:1}),d(c(P),{class:"vitalsValue"},{default:r(()=>[x(j(Mt.value.Pulse)+" ",1),t[39]||(t[39]=f("span",{class:"vitalsUnits"},"bpm ",-1))]),_:1,__:[39]}),d(c(P),{class:"vitalsValue"},{default:r(()=>[x(j(Mt.value.Systolic)+"/"+j(Mt.value.Diastolic),1),t[40]||(t[40]=f("span",{class:"vitalsUnits"},"mmhg",-1))]),_:1,__:[40]})]),_:1})])]),_:1}),f("div",dt,[d(c(K),{value:It.value,style:{"margin-top":"5px","min-width":"540px"}},{default:r(()=>[d(c(Q),{value:"Patient Charts",onClick:t[9]||(t[9]=e=>Gt("Patient Charts"))},{default:r(()=>[d(c(N),null,{default:r(()=>t[41]||(t[41]=[x("Patient Charts",-1)])),_:1,__:[41]})]),_:1}),d(c(Q),{value:"Visits History",onClick:t[10]||(t[10]=e=>Gt("Visits History"))},{default:r(()=>[d(c(N),null,{default:r(()=>t[42]||(t[42]=[x("Visits History",-1)])),_:1,__:[42]})]),_:1}),d(c(Q),{value:"Vitals & Measurements Summary",onClick:t[11]||(t[11]=e=>Gt("Vitals & Measurements Summary"))},{default:r(()=>[d(c(N),null,{default:r(()=>t[43]||(t[43]=[x("Vitals & Measurements Summary",-1)])),_:1,__:[43]})]),_:1}),d(c(Q),{value:"Lab Tests History",onClick:t[12]||(t[12]=e=>Gt("Lab Tests History"))},{default:r(()=>[d(c(N),null,{default:r(()=>t[44]||(t[44]=[x("Lab Tests History",-1)])),_:1,__:[44]})]),_:1}),d(c(Q),{value:"Diagnosis History",onClick:t[13]||(t[13]=e=>Gt("Diagnosis History"))},{default:r(()=>[d(c(N),null,{default:r(()=>t[45]||(t[45]=[x("Diagnosis History",-1)])),_:1,__:[45]})]),_:1}),d(c(Q),{value:"Allergies & Contraindication",onClick:t[14]||(t[14]=e=>Gt("Allergies & Contraindication"))},{default:r(()=>[d(c(N),null,{default:r(()=>t[46]||(t[46]=[x("Allergies & Contraindication",-1)])),_:1,__:[46]})]),_:1})]),_:1},8,["value"])]),"Patient Charts"==It.value?(s(),h("div",ct,[f("div",{style:J(c($e)>826?"display: flex;":"display: block;")},[zt.value?(s(),h("div",ut,[d(c(k))])):I("",!0),f("div",pt,[d(c(M))]),zt.value?I("",!0):(s(),h("div",ft,[d(c(A))]))],4)])):I("",!0),"Visits History"==It.value?(s(),h("div",vt,[d(c(m))])):I("",!0),"Vitals & Measurements Summary"==It.value?(s(),h("div",mt,[d(c(g))])):I("",!0),"Lab Tests History"==It.value?(s(),h("div",gt,[d(c(n))])):I("",!0),"Diagnosis History"==It.value?(s(),h("div",xt,[d(c(u))])):I("",!0),"Allergies & Contraindication"==It.value?(s(),h("div",bt,[d(c(p))])):I("",!0)]),_:1},8,["size-lg"])]),_:1})])):I("",!0)]),_:1}),d(o,{style:{"--offset-x":"-10px"},"is-open":c(Be),"show-backdrop":!1,"dismiss-on-select":!0,event:c(Ee),onDidDismiss:t[20]||(t[20]=e=>Be.value=!1)},{default:r(()=>[f("div",null,[d(a,{style:{"--ion-background-color":"#fff","--offset-x":"-30px"}},{default:r(()=>[d(c(q),{button:!0,detail:!1,onClick:t[15]||(t[15]=e=>c(Fe)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(v),{icon:c(Z),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),t[47]||(t[47]=f("span",{class:"sub-menu-txt"},"Update demographics",-1))]),_:1,__:[47]}),d(c(q),{button:!0,detail:!1,onClick:t[16]||(t[16]=e=>c(Le)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(v),{icon:c(X),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),t[48]||(t[48]=f("span",{class:"sub-menu-txt"},"Update outcome",-1))]),_:1,__:[48]}),32==c(xe).getProgramID()?(s(),l(c(q),{key:0,button:!0,detail:!1,onClick:t[17]||(t[17]=e=>c(Te)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(v),{icon:c(ee),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),t[49]||(t[49]=f("span",{class:"sub-menu-txt"},"Update NCD Number",-1))]),_:1,__:[49]})):I("",!0),d(c(q),{button:!0,detail:!1,onClick:t[18]||(t[18]=e=>c(Ye)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(v),{icon:c(te),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),t[50]||(t[50]=f("span",{class:"sub-menu-txt"},"Print visit summary",-1))]),_:1,__:[50]}),d(c(q),{button:!0,detail:!1,onClick:t[19]||(t[19]=e=>c(Ge)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(v),{icon:c(te),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),t[51]||(t[51]=f("span",{class:"sub-menu-txt"},"Print client identifier",-1))]),_:1,__:[51]})]),_:1})])]),_:1},8,["is-open","event"]),d(o,{"is-open":Ct.value,"show-backdrop":!1,"dismiss-on-select":!0,event:Nt.value,onDidDismiss:t[21]||(t[21]=e=>Ct.value=!1),style:{"--width":"350px"}},{default:r(()=>[d(c(_),null,{default:r(()=>[d(a,null,{default:r(()=>[(s(!0),h(C,null,D(Lt.value,(e,t)=>(s(),l(c(q),{button:!0,detail:!1,style:{cursor:"pointer"},key:t,onClick:t=>Jt(e)},{default:r(()=>[d(c(v),{slot:"start",icon:c(ae)},null,8,["icon"]),f("span",yt,j(null==e?void 0:e.actionName),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["is-open","event"])]),_:1})}}}),ht=de(_t,[["__scopeId","data-v-3c925569"]]),kt=Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"}));e("P",kt)}}});
