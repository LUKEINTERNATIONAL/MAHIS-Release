import{d as M,r as t,c as ne,e as I,f as j,l as a,z as l,x as e,aK as ce,j as i,aJ as _e,aM as B,aN as u,D as n,A as o,y as x,B as z,m as w,bk as ae,p as le,aL as fe,aR as pe,bs as X,br as O,F as ie,en as Ve,E as he,bf as ke,aI as Ne}from"./vendor-7f920f82.js";import{B as W,b as Ie,t as de,_ as J,c as te,u as me,i as ge,d as Te,e as be}from"./index-bbf32c0d.js";import Ae from"./Staging-916ca29c.js";import"./lodash-7be49fbd.js";import"./apexcharts-20f04cb5.js";import"./chartjs-78587767.js";import"./barcode-qrcode-reader-aa58422a.js";import"./LocationFieldOptions-fee7f373.js";const Ce={B:0,F:1,G:2,H:3,J:4,P:5,V:6,W:7,X:8,Z:9},Re=[[0,3,1,7,5,9,8,6,4,2],[7,0,9,2,1,5,4,8,6,3],[4,2,0,6,8,7,1,3,5,9],[1,7,5,0,9,8,3,4,2,6],[6,1,2,3,0,4,5,9,7,8],[3,6,7,4,2,0,9,5,8,1],[5,8,6,9,7,2,0,1,3,4],[8,9,4,5,3,6,2,0,1,7],[9,4,3,8,6,1,7,2,0,5],[2,5,8,1,4,3,6,7,9,0]];function ve(S,D){const _=D-"".concat(S).length;return _<=0?"".concat(S):"".concat(Array.from({length:_}).map(()=>0).join("")).concat(S)}function we(S){S.match(/^\d+$/)||(S=S.replace(/\D/g,""));let D=0;for(let _=0;_<S.length;_++){let k=S.charAt(_);D=Re[D][k]}return"".concat(D)}function De(S){const[D,_,k,y]=S.split("-");if(!(D&&_&&k&&y))return!1;const c=ve(parseInt(_),3),d=ve(parseInt(k),2),p=Ce[y.toUpperCase()],V="".concat(D,"-").concat(c,"-").concat(d);return we(V)==="".concat(p)}const He={class:"relative"},xe={class:"relative"},ze={class:"relative"},Be=M({__name:"HTSLinkageNumber",setup(S,{expose:D}){const _=t(""),k=t(""),y=t(""),c=t(!0),d=t(!0),p=t(!0),V=t(!1),m=t(""),H=t(""),R=t(""),C=t(!1),h=t(null),g=[{name:"B",char:"B",digit:0},{name:"F",char:"F",digit:1},{name:"G",char:"G",digit:2},{name:"H",char:"H",digit:3},{name:"J",char:"J",digit:4},{name:"P",char:"P",digit:5},{name:"V",char:"V",digit:6},{name:"W",char:"W",digit:7},{name:"X",char:"X",digit:8},{name:"Z",char:"Z",digit:9}],T=v=>{h.value=v,V.value=!1,G()},F=v=>{const N=v.target.value;_.value=N,A()},Y=v=>{const N=v.target.value;k.value=N,U()},$=v=>{const N=v.target.value;y.value=N,L()},A=()=>{c.value=!1;const v=_.value;v?v==""?(m.value="Please enter numbers only",c.value=!1):parseInt(v)?c.value=!0:(c.value=!1,m.value="should be a number"):(m.value="Book number is required",c.value=!1)},U=()=>{d.value=!1;const v=k.value;v?v==""?(H.value="Please enter numbers only",d.value=!1):parseInt(v)?d.value=!0:(H.value="should be a number",d.value=!1):(H.value="Page number is required",d.value=!1)},L=()=>{p.value=!1;const v=y.value;v?v==""?(R.value="Please enter numbers only",p.value=!1):parseInt(v)?p.value=!0:(R.value="should be a number",p.value=!1):(R.value="Row number is required",p.value=!1)},G=()=>{V.value=!0,h.value===null||h.value===""?V.value=!0:V.value=!1},b=ne(()=>c.value&&d.value&&p.value&&!V.value),r=ne(()=>{var N;if(V.value==!0)return"";const v=(N=h.value)==null?void 0:N.char;if(_.value&&k.value&&y.value&&v){const E=_.value,Z=k.value,Q=y.value;return"".concat(E,"-").concat(Z,"-").concat(Q,"-").concat(v)}return""}),q=ne(()=>{if(r.value){const v=r.value;return"".concat(v.slice(0,3),"-").concat(v.slice(3,5),"-").concat(v.slice(5,7),"-").concat(v.slice(7))}return""});function se(){A(),U(),L(),G()}return D({validateLinkageCode:async()=>{se();const v={isValid:!1,message:"",linkageNumber:r.value,formattedNumber:q.value};return b.value?De(r.value)?(v.isValid=!0,v.message="Valid Linkage Number",C.value=!1,Ie(v.message)):(v.message="Invalid Linkage Number",C.value=!0,de(v.message)):(v.message="Please fill all fields correctly for HTS Linkage Number",de(v.message,2e3)),v},fullLinkageNumber:r,formattedLinkageNumber:q}),(v,N)=>(I(),j("div",null,[a(e(_e),null,{default:l(()=>[a(e(ce),{class:"ion-text-left"},{default:l(()=>N[3]||(N[3]=[i("span",{style:{color:"gray","font-size":"20px","font-weight":"600","margin-left":"10px"}}," HTS Linkage Number ",-1)])),_:1,__:[3]})]),_:1}),a(e(fe),null,{default:l(()=>[a(e(B),null,{default:l(()=>[a(e(u),{size:"12","size-sm":"3"},{default:l(()=>[i("div",He,[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>N[4]||(N[4]=[o("Book No.")])),_:1,__:[4]}),a(W,{placeholder:"Enter Book No.",inputValue:_.value,"onUpdate:inputValue":F,error:!c.value},null,8,["inputValue","error"]),i("div",null,[c.value?w("",!0):(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z(m.value),1)]),_:1}))])])]),_:1}),a(e(u),{size:"12","size-sm":"3"},{default:l(()=>[i("div",xe,[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>N[5]||(N[5]=[o("Page No.")])),_:1,__:[5]}),a(W,{placeholder:"Enter Page No.",inputValue:k.value,"onUpdate:inputValue":Y,error:!d.value},null,8,["inputValue","error"]),i("div",null,[d.value?w("",!0):(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z(H.value),1)]),_:1}))])])]),_:1}),a(e(u),{size:"12","size-sm":"3"},{default:l(()=>[i("div",ze,[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>N[6]||(N[6]=[o("Row No.")])),_:1,__:[6]}),a(W,{placeholder:"Enter Row No.",inputValue:y.value,"onUpdate:inputValue":$,error:!p.value},null,8,["inputValue","error"]),i("div",null,[p.value?w("",!0):(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z(R.value),1)]),_:1}))])])]),_:1}),a(e(u),{size:"12","size-md":"3"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>N[7]||(N[7]=[o("Check Digit")])),_:1,__:[7]}),a(e(ae),{modelValue:h.value,"onUpdate:modelValue":[N[0]||(N[0]=E=>h.value=E),N[1]||(N[1]=E=>T(E))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"",selectLabel:"",label:"name",searchable:!0,onSearchChange:N[2]||(N[2]=()=>{}),"track-by":"name",options:g,disabled:!1,class:le({"error-state":V.value})},null,8,["modelValue","class"]),i("div",null,[V.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>N[8]||(N[8]=[o(z("Please select Check Digit"))])),_:1,__:[8]})):w("",!0)])]),_:1})]),_:1}),a(e(B),null,{default:l(()=>[a(e(u),null,{default:l(()=>[C.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>N[9]||(N[9]=[o(z("Invalid Linkage Number"))])),_:1,__:[9]})):w("",!0)]),_:1})]),_:1})]),_:1})]))}});const Se=J(Be,[["__scopeId","data-v-9be79bba"]]),Pe="Input required, Only letters allowed",$e="Date is required",Fe=M({__name:"ARTIdentification",setup(S,{expose:D}){const _=t(""),k=t(!1),y=t({}),c=t(!1),d=t(!1),p=C=>{const h=C.target.value;_.value=h,V()},V=()=>{const C=_.value,h=C!==""&&!isNaN(C)&&isFinite(C);k.value=!h};function m(C){const h={day:C.value.day,month:C.value.month,year:C.value.year,formattedDate:C.value.formattedDate};y.value=h,c.value=!1,H()}function H(){c.value=!1,Object.keys(y.value).length===0&&(c.value=!0),Object.keys(y.value).length>0&&(c.value=!1)}return D({validateAndGetValues:()=>(V(),H(),d.value=!k.value&&!c.value,{isValid:d.value,values:{arvNumber:_.value||"",date:Object.keys(y.value).length===0?{}:y.value}})}),(C,h)=>(I(),x(e(B),null,{default:l(()=>[a(e(u),null,{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>h[0]||(h[0]=[o(" ARV Number"),i("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[0]}),a(W,{placeholder:"e.g 192",inputValue:_.value,"onUpdate:inputValue":p,unit:"MPC-ARV",error:k.value},null,8,["inputValue","error"]),i("div",null,[k.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z(Pe))]),_:1})):w("",!0)])]),_:1}),a(e(u),null,{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>h[1]||(h[1]=[o(" Registration Date "),i("span",{class:"required"},"*",-1)])),_:1,__:[1]}),a(te,{place_holder:"enter data",onDateUpDated:m,date_prop:"",error:c.value},null,8,["error"]),i("div",null,[c.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z($e))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12"},{default:l(()=>h[2]||(h[2]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[2]})]),_:1}))}});const Ue=J(Fe,[["__scopeId","data-v-7ac24500"]]),Le={class:"left-label-item"},Oe={key:0},Ye={class:"left-label-item"},Ge={class:"radio-item"},qe={class:"radio-item"},Ee={key:0},je={class:"left-label-item"},We={class:"radio-item"},Me={class:"radio-item"},Je={key:0},Ke={style:{"margin-top":"5px"}},Xe="Input required, must select Yes or No",Ze="Input required, must select Yes or No",Qe="Input required, must select Yes or No",ea="Date is required",aa="Input required, must select Yes or No",la=M({__name:"ARTHistory",setup(S,{expose:D}){const _=me(),k=t(null),{patient:y}=pe(_),c=t(!1),d=t(!1),p=t(!1),V=t({}),m=t(!1),H=t(null),R=t({inputHeader:"Phone number *",icon:ge.phone,value:"",name:"phoneNumber",InnerBtn:"",popOverData:{filterData:!1,data:[]}}),C=f=>{},h=f=>{},g=t(!1),T=t([{dialCode:"265",iso2:"MW",name:"Malawi"}]),F=t(!1),Y=t([]),$=t({}),A=t(""),U=t(""),L=t(""),G=t(""),b=t(!1),r=f=>{console.log("Ever registered at ART clinic selection changed to:",f.target.value),re(),f.target.value},q=f=>{console.log("Ever received ARVs selection changed to:",f.target.value),Q(),f.target.value},se=f=>{const s=f.target.value;G.value=s,oe()},oe=()=>{const f=G.value,s=f!==""&&!isNaN(f)&&isFinite(f);b.value=!s},v=f=>{var s;Z();try{const P=f.target.value;if(P==="No"&&(g.value=!1),P==="Yes"){const ee=(s=y.value)==null?void 0:s.personInformation.cell_phone_number,K=(ee==null?void 0:ee.toLowerCase())||"";(!ee||K===""||K==="na"||K==="n/a"||K==="unknown"||K.trim()==="")&&(g.value=!0)}}catch(P){console.error("Error in handleFollowUpChange:",P)}},N=f=>{H.value=f.selected_location,E()};function E(){H.value?F.value=!1:F.value=!0}function Z(){const f=A.value,s=f==="Yes"||f==="No";c.value=!s}function Q(){const f=U.value,s=f==="Yes"||f==="No";d.value=!s}function re(){const f=L.value,s=f==="Yes"||f==="No";p.value=!s}function ye(f){const s={day:f.value.day,month:f.value.month,year:f.value.year,formattedDate:f.value.formattedDate,altFormat:"".concat(f.value.year,"-").concat(f.value.month,"-").concat(f.value.day)};V.value=s,m.value=!1,ue()}function ue(){m.value=!1,Object.keys(V.value).length===0&&(m.value=!0),Object.keys(V.value).length>0&&(m.value=!1)}return D({validateAndGetValues:()=>{var s,P;return Z(),Q(),re(),ue(),E(),oe(),console.log((s=k.value)==null?void 0:s.validateStagingForm()),{isValid:!c.value&&!d.value&&!p.value&&!m.value&&!F.value&&!b.value&&!(!((P=k.value)!=null&&P.validateStagingForm())&&L.value=="Yes"),values:{agreesToFollowUp:A.value,everReceivedARVs:U.value,everRegisteredAtARTClinic:L.value,date:V.value,facilityData:H.value,previousARTNumber:G.value}}}}),(f,s)=>(I(),j(ie,null,[a(e(B),{class:"white-background yn-row"},{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(B),null,{default:l(()=>[a(e(u),null,{default:l(()=>[i("div",Le,[a(e(n),{position:"fixed",class:"labl-cls"},{default:l(()=>s[6]||(s[6]=[o("Agrees to follow up? "),i("span",{class:"required"},"*",-1)])),_:1,__:[6]})])]),_:1}),a(e(u),null,{default:l(()=>[a(e(X),{modelValue:A.value,"onUpdate:modelValue":s[0]||(s[0]=P=>A.value=P),class:"radio-group",onIonChange:v},{default:l(()=>[i("span",null,[a(e(n),{class:"radio-label"},{default:l(()=>s[7]||(s[7]=[o("Yes")])),_:1,__:[7]}),a(e(O),{class:"radio-btn",slot:"start",value:"Yes"})]),i("span",null,[a(e(n),{class:"radio-label"},{default:l(()=>s[8]||(s[8]=[o("No")])),_:1,__:[8]}),a(e(O),{class:"radio-btn",slot:"start",value:"No"})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(e(B),null,{default:l(()=>[g.value?(I(),x(Te,{key:0,inputHeader:R.value.inputHeader,sectionHeaderFontWeight:"20",bold:"",unit:"",input:"input",disabled:!1,icon:R.value.icon,placeholder:"Enter phone",iconRight:"",leftText:"",inputWidth:"100%",inputValue:R.value.value,eventType:"input",p_country:T.value,"onUpdate:phone":s[1]||(s[1]=P=>C(P)),onCountryChanged:s[2]||(s[2]=P=>h(P)),popOverData:R.value.popOverData,onHandleInnerActionBtnPropetiesFn:s[3]||(s[3]=P=>f.$emit("click:innerBtn",R.value)),InnerActionBtnPropeties:R.value.InnerBtn},null,8,["inputHeader","icon","inputValue","p_country","popOverData","InnerActionBtnPropeties"])):w("",!0)]),_:1}),c.value?(I(),j("div",Oe,[a(e(n),{class:"error-label"},{default:l(()=>[o(z(Xe))]),_:1})])):w("",!0)]),_:1}),a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(B),null,{default:l(()=>[a(e(u),null,{default:l(()=>[i("div",Ye,[a(e(n),{position:"fixed",class:"labl-cls"},{default:l(()=>s[9]||(s[9]=[o("Ever received ARVs for treatment or prophylaxis? "),i("span",{class:"required"},"*",-1)])),_:1,__:[9]})])]),_:1}),a(e(u),null,{default:l(()=>[a(e(X),{modelValue:U.value,"onUpdate:modelValue":s[4]||(s[4]=P=>U.value=P),class:"radio-group",onIonChange:q},{default:l(()=>[i("span",Ge,[a(e(n),{class:"radio-label"},{default:l(()=>s[10]||(s[10]=[o("Yes")])),_:1,__:[10]}),a(e(O),{class:"radio-btn",slot:"start",value:"Yes"})]),i("span",qe,[a(e(n),{class:"radio-label"},{default:l(()=>s[11]||(s[11]=[o("No")])),_:1,__:[11]}),a(e(O),{class:"radio-btn",slot:"start",value:"No"})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),d.value?(I(),j("div",Ee,[a(e(n),{class:"error-label"},{default:l(()=>[o(z(Ze))]),_:1})])):w("",!0)]),_:1}),a(e(u),{size:"12"},{default:l(()=>s[12]||(s[12]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[12]})]),_:1}),a(e(B),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>s[13]||(s[13]=[o("Date last taken ARVs")])),_:1,__:[13]}),a(te,{place_holder:"enter date",onDateUpDated:ye,date_prop:"",error:m.value},null,8,["error"]),i("div",null,[m.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z(ea))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12"},{default:l(()=>s[14]||(s[14]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[14]})]),_:1}),a(e(B),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(u),null,{default:l(()=>[i("div",je,[a(e(n),{position:"fixed",class:"labl-cls"},{default:l(()=>s[15]||(s[15]=[o("Ever registered at an ART clinic:"),i("span",{class:"required"},"*",-1)])),_:1,__:[15]})])]),_:1}),a(e(u),null,{default:l(()=>[a(e(X),{modelValue:L.value,"onUpdate:modelValue":s[5]||(s[5]=P=>L.value=P),class:"radio-group",value:L.value,onIonChange:r},{default:l(()=>[i("span",We,[a(e(n),{class:"radio-label"},{default:l(()=>s[16]||(s[16]=[o("Yes")])),_:1,__:[16]}),a(e(O),{class:"radio-btn",slot:"start",value:"Yes"})]),i("span",Me,[a(e(n),{class:"radio-label"},{default:l(()=>s[17]||(s[17]=[o("No")])),_:1,__:[17]}),a(e(O),{class:"radio-btn",slot:"start",value:"No"})])]),_:1},8,["modelValue","value"])]),_:1}),p.value?(I(),j("div",Je,[a(e(n),{class:"error-label"},{default:l(()=>[o(z(Qe))]),_:1})])):w("",!0)]),_:1}),a(e(u),{size:"12"},{default:l(()=>s[18]||(s[18]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[18]})]),_:1}),L.value=="Yes"?(I(),x(e(B),{key:0},{default:l(()=>[a(Ae,{date:V.value.altFormat,ref_key:"stagingRef",ref:k,style:{width:"100%"},"hide-submit":!0},null,8,["date"])]),_:1})):w("",!0),a(e(B),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{class:"labl-cls"},{default:l(()=>s[19]||(s[19]=[o("Location of ART Initiation")])),_:1,__:[19]}),a(be,{show_error:F.value,onFacilitySelected:N,selected_district_ids:Y.value,selected_location:$.value},null,8,["show_error","selected_district_ids","selected_location"])]),_:1}),a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>s[20]||(s[20]=[o(" ART Number at Previous Location ")])),_:1,__:[20]}),i("div",Ke,[a(W,{placeholder:"Enter previous ART number",inputValue:G.value,"onUpdate:inputValue":se,error:b.value},null,8,["inputValue","error"])]),i("div",null,[b.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z(aa))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12"},{default:l(()=>s[21]||(s[21]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[21]})]),_:1})],64))}});const ta=J(la,[["__scopeId","data-v-163f9315"]]),sa={class:"left-label-item"},oa={key:0},na={class:"left-label-item"},ia={class:"radio-item"},ra={class:"radio-item"},ua="Breastfeeding at initiation is required",da="Pregnant at initiation is required",va="Date is required",ca="Initial weight is required",_a="Initial height is required",fa=M({__name:"InitialHealthStatus",setup(S,{expose:D}){const _=t(""),k=t(!1),y=t(""),c=t(!1),d=t({}),p=t(!1),V=t(""),m=t(!1),H=t(""),R=t(!1),C=b=>{const r=b.target.value;V.value=r,T()},h=b=>{const r=b.target.value;H.value=r,g()},g=()=>{const b=H.value,r=b!==""&&!isNaN(b)&&isFinite(b);R.value=!r},T=()=>{const b=V.value,r=b!==""&&!isNaN(b)&&isFinite(b);m.value=!r};function F(b){const r={day:b.value.day,month:b.value.month,year:b.value.year,formattedDate:b.value.formattedDate};d.value=r,p.value=!1,Y()}function Y(){p.value=!1,Object.keys(d.value).length===0&&(p.value=!0),Object.keys(d.value).length>0&&(p.value=!1)}const $=b=>{A(),b.target.value};function A(){const b=y.value,r=b==="Yes"||b==="No";c.value=!r}const U=b=>{L(),b.target.value};function L(){const b=_.value,r=b==="Yes"||b==="No";k.value=!r}return D({validateAndGetValues:()=>(g(),T(),Y(),L(),A(),{isValid:!m.value&&!R.value&&!p.value&&!k.value&&!c.value,values:{initialWeight:V.value||"",initialHeight:H.value||"",date:Object.keys(d.value).length===0?{}:d.value,breastfeedingAtInitiation:_.value||"",pregnantAtInitiation:y.value||""}})}),(b,r)=>(I(),j(ie,null,[a(e(B),null,{default:l(()=>[a(e(u),{size:"12","size-md":"4"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>r[2]||(r[2]=[o("Date started ART")])),_:1,__:[2]}),a(te,{place_holder:"enter date",onDateUpDated:F,date_prop:"",error:p.value},null,8,["error"]),i("div",null,[p.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z(va))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12","size-md":"4"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>r[3]||(r[3]=[o("Initial Weight")])),_:1,__:[3]}),a(W,{placeholder:"enter weight",inputValue:V.value,"onUpdate:inputValue":C,unit:"KG",icon:e(Ve),error:m.value},null,8,["inputValue","icon","error"]),i("div",null,[m.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z(ca))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12","size-md":"4"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>r[4]||(r[4]=[o("Initial Height")])),_:1,__:[4]}),a(W,{placeholder:"enter height",inputValue:H.value,"onUpdate:inputValue":h,unit:"CM",icon:e(ge).height,error:R.value},null,8,["inputValue","icon","error"]),i("div",null,[R.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z(_a))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12"},{default:l(()=>r[5]||(r[5]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[5]})]),_:1}),a(e(B),{class:"white-background yn-row"},{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(B),null,{default:l(()=>[a(e(u),null,{default:l(()=>[i("div",sa,[a(e(n),{position:"fixed",class:"labl-cls"},{default:l(()=>r[6]||(r[6]=[o("Pregnant at Initiation"),i("span",{class:"required"},"*",-1)])),_:1,__:[6]})])]),_:1}),a(e(u),null,{default:l(()=>[a(e(X),{modelValue:y.value,"onUpdate:modelValue":r[0]||(r[0]=q=>y.value=q),class:"radio-group",onIonChange:$},{default:l(()=>[i("span",null,[a(e(n),{class:"radio-label"},{default:l(()=>r[7]||(r[7]=[o("Yes")])),_:1,__:[7]}),a(e(O),{class:"radio-btn",slot:"start",value:"Yes"})]),i("span",null,[a(e(n),{class:"radio-label"},{default:l(()=>r[8]||(r[8]=[o("No")])),_:1,__:[8]}),a(e(O),{class:"radio-btn",slot:"start",value:"No"})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),c.value?(I(),j("div",oa,[a(e(n),{class:"error-label"},{default:l(()=>[o(z(da))]),_:1})])):w("",!0)]),_:1}),a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(B),null,{default:l(()=>[a(e(u),null,{default:l(()=>[i("div",na,[a(e(n),{position:"fixed",class:"labl-cls"},{default:l(()=>r[9]||(r[9]=[o("Breastfeeding at Initiation:")])),_:1,__:[9]})])]),_:1}),a(e(u),null,{default:l(()=>[a(e(X),{modelValue:_.value,"onUpdate:modelValue":r[1]||(r[1]=q=>_.value=q),class:"radio-group",onIonChange:U},{default:l(()=>[i("span",ia,[a(e(O),{class:"radio-btn",value:"Yes"}),a(e(n),{class:"radio-label"},{default:l(()=>r[10]||(r[10]=[o("Yes")])),_:1,__:[10]})]),i("span",ra,[a(e(O),{class:"radio-btn",value:"No"}),a(e(n),{class:"radio-label"},{default:l(()=>r[11]||(r[11]=[o("No")])),_:1,__:[11]})])]),_:1},8,["modelValue"]),k.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z(ua))]),_:1})):w("",!0)]),_:1})]),_:1})]),_:1}),a(e(u),{size:"12"},{default:l(()=>r[12]||(r[12]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[12]})]),_:1})],64))}});const pa=J(fa,[["__scopeId","data-v-fa15ac6a"]]),ma=M({__name:"TB",setup(S,{expose:D}){const _=[{name:"No TB"},{name:"TB suspected"},{name:"TB confirmed"},{name:"On TB treatment"}],k=[{name:"Never on TPT"},{name:"Currently on TPT"},{name:"Completed TPT"},{name:"Stopped TPT"}],y=t(null),c=t(null),d=t(!1);function p(h){c.value=h,d.value=!1}function V(){c.value===null||c.value===""?d.value=!0:d.value=!1}const m=t(!1);function H(h){y.value=h,m.value=!1,R()}function R(){y.value===null||y.value===""?m.value=!0:m.value=!1}return D({validateAndGetValues:()=>(R(),V(),{isValid:!m.value&&!d.value,values:{initialTBStatus:y.value,tptHistory:c.value}})}),(h,g)=>(I(),x(e(B),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>g[6]||(g[6]=[o("Initial TB Status")])),_:1,__:[6]}),a(e(ae),{modelValue:y.value,"onUpdate:modelValue":[g[0]||(g[0]=T=>y.value=T),g[1]||(g[1]=T=>H(T))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"",selectLabel:"",label:"name",searchable:!0,onSearchChange:g[2]||(g[2]=()=>{}),"track-by":"assigned_id",options:_,disabled:!1,class:le({"error-state":m.value})},null,8,["modelValue","class"]),i("div",null,[m.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>g[7]||(g[7]=[o(z("Select Initial TB Status"))])),_:1,__:[7]})):w("",!0)])]),_:1}),a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>g[8]||(g[8]=[o("TPT History")])),_:1,__:[8]}),a(e(ae),{modelValue:c.value,"onUpdate:modelValue":[g[3]||(g[3]=T=>c.value=T),g[4]||(g[4]=T=>p(T))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"",selectLabel:"",label:"name",searchable:!0,onSearchChange:g[5]||(g[5]=()=>{}),"track-by":"assigned_id",options:k,disabled:!1,class:le({"error-state":d.value})},null,8,["modelValue","class"]),i("div",null,[d.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>g[9]||(g[9]=[o(z("Select Initial TB Status"))])),_:1,__:[9]})):w("",!0)])]),_:1}),a(e(u),{size:"12"},{default:l(()=>g[10]||(g[10]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[10]})]),_:1}))}});const ga=J(ma,[["__scopeId","data-v-6c8cc5a3"]]),ba={style:{"margin-top":"-5px"}},ya="Date is required",Va=M({__name:"HIVConfirmation",setup(S,{expose:D}){const _=t(!1),k=t(null),y=t([]),c=t({}),d=t(null),p=t(!1),V=t({}),m=t(!1),H=[{name:"Rapid antibody test",value:"HIV rapid test"},{name:"DNA PCR",value:"HIV DNA polymerase chain reaction"},{name:"Not done",value:"Not done",disabled:"f.has_linkage_code === 'Yes'"}],R=$=>{k.value=$.selected_location,C()};function C(){k.value?_.value=!1:_.value=!0}function h($){d.value=$,p.value=!1,g()}function g(){d.value===null||d.value===""?p.value=!0:p.value=!1}function T($){const A={day:$.value.day,month:$.value.month,year:$.value.year,formattedDate:$.value.formattedDate};V.value=A,m.value=!1,F()}function F(){m.value=!1,Object.keys(V.value).length===0&&(m.value=!0),Object.keys(V.value).length>0&&(m.value=!1)}return D({validateAndGetValues:()=>{g(),C(),F();const $=!p.value&&!_.value;return m.value,{isValid:$,values:{confirmatoryTest:d.value,facilityData:k.value,date:V.value}}}}),($,A)=>(I(),j(ie,null,[a(e(B),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>A[3]||(A[3]=[o(" Confirmatory Test ")])),_:1,__:[3]}),a(e(ae),{modelValue:d.value,"onUpdate:modelValue":[A[0]||(A[0]=U=>d.value=U),A[1]||(A[1]=U=>h(U))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"",selectLabel:"",label:"name",searchable:!0,onSearchChange:A[2]||(A[2]=()=>{}),"track-by":"name",options:H,disabled:!1,class:le({"error-state":p.value})},null,8,["modelValue","class"]),i("div",null,[p.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>A[4]||(A[4]=[o(z("Select Confirmatory Test"))])),_:1,__:[4]})):w("",!0)])]),_:1}),a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{class:"labl-cls"},{default:l(()=>A[5]||(A[5]=[o("Location of ART Initiation")])),_:1,__:[5]}),i("div",ba,[a(be,{show_error:_.value,onFacilitySelected:R,selected_district_ids:y.value,selected_location:c.value},null,8,["show_error","selected_district_ids","selected_location"])])]),_:1})]),_:1}),a(e(B),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>A[6]||(A[6]=[o(" Confirmatory HIV Test Date ")])),_:1,__:[6]}),a(te,{place_holder:"enter date",onDateUpDated:T,date_prop:"",error:m.value},null,8,["error"]),i("div",null,[m.value?(I(),x(e(n),{key:0,class:"error-label"},{default:l(()=>[o(z(ya))]),_:1})):w("",!0)])]),_:1})]),_:1})],64))}});const ha=J(Va,[["__scopeId","data-v-2d2a666e"]]),ka=M({__name:"HIVClinicRegistration",setup(S){t({arvNumber:"",registrationDate:"",agreesToFollowUp:"No",everReceivedARVs:"Yes",dateLastTakenARVs:"",everRegisteredAtARTClinic:"No",locationOfARTInitiation:"",artNumberAtPreviousLocation:"",dateStartedART:"",initialWeight:"",initialHeight:"",pregnantAtInitiation:"No",breastfeedingAtInitiation:"No",initialTBStatus:"",tptHistory:"",htsLinkageNumber:"",confirmatoryTest:"",locationOfConfirmatoryTest:"",confirmatoryHIVTestDate:""});const D=me();pe(D);const _=t(),k=t(),y=t(),c=t(),d=t(),p=t();async function V(){m(),H(),R(),C(),h(),g()}const m=async()=>{const T=await _.value.validateLinkageCode();T.isValid&&(console.log("Valid number:",T.formattedNumber),console.log("Raw number:",T.linkageNumber),console.log("Message:",T.message))},H=()=>{try{const T=k.value.validateAndGetValues();T!=null&&T.isValid?(console.log("ARV Number:",T.values.arvNumber),console.log("Date:",T.values.date)):console.log("Validation failed")}catch(T){}},R=()=>{y.value.validateAndGetValues()},C=()=>{c.value.validateAndGetValues()},h=()=>{p.value.validateAndGetValues()},g=()=>{d.value.validateAndGetValues()};return(T,F)=>{const Y=he("ion-button");return I(),x(e(Ne),null,{default:l(()=>[a(e(_e),null,{default:l(()=>[a(e(ce),{class:"ion-text-left"},{default:l(()=>F[0]||(F[0]=[i("span",{style:{color:"gray","font-size":"20px","font-weight":"600","margin-left":"10px"}}," HIV Clinic Registration ",-1)])),_:1,__:[0]})]),_:1}),a(e(fe),null,{default:l(()=>[a(e(ke),null,{default:l(()=>[a(Ue,{ref_key:"artIdentificationRef",ref:k},null,512),a(ta,{ref_key:"artHistoryRef",ref:y},null,512),a(pa,{ref_key:"initiialHealthStatusRef",ref:c},null,512),a(ga,{ref_key:"tbRef",ref:p},null,512),a(Se,{ref_key:"linkageNumberRef",ref:_},null,512),a(ha,{ref_key:"HIVConfirmationRef",ref:d},null,512),a(e(B),{class:"ion-margin-top"},{default:l(()=>[a(e(u),null,{default:l(()=>[a(Y,{expand:"block",color:"success",onClick:V},{default:l(()=>F[1]||(F[1]=[o("Submit Registration")])),_:1,__:[1]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});const za=J(ka,[["__scopeId","data-v-7de4dd5a"]]);export{za as default};
