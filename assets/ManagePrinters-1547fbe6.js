import{d as b,bZ as w,r as c,a as D,G as N,e as f,M as y,H as a,f as C,l as s,j as _,m as B,x as n,_ as L,N as S,Z as T,b4 as h,O as v,J as V,K as x,F as z,Y as F,p as J,a_ as K}from"./vendor-9bdea3cd.js";import{P as O,T as Z,_ as $}from"./index-900dc681.js";import"./lodash-2bbedeef.js";import"./apexcharts-a2539799.js";import"./chartjs-d06f22ef.js";import"./barcode-qrcode-reader-2ca739d2.js";const j={key:0,class:"spinner-overlay"},A={class:"container"},E=b({__name:"ManagePrinters",setup(G){w();const o=c(!1),p=c(Math.random()),m=c([]),u=c({}),d=new O;async function P(){if(o.value)return;o.value=!0;const t=await d.getAllPrinters();console.log("Discovered printers",JSON.stringify(t)),m.value=k(t),o.value=!1,p.value=Math.random()}function g(t,e){return(t.name||t.address).localeCompare(e.name||e.address)}function M(t){d.setDefaultPrinter(t),u.value=t,p.value=Math.random(),P()}function r(t){return g(t,u.value)===0}function k(t){return t.sort((e,l)=>r(e)&&!r(l)?-1:!r(e)&&r(l)?1:g(e,l))}return D(async()=>{u.value=await d.getDefaultPrinter()||{},m.value.push(u.value),P()}),(t,e)=>{const l=N("ion-spinner");return f(),y(n(K),{class:J({loading:o.value})},{default:a(()=>[o.value?(f(),C("div",j,[s(l,{name:"bubbles"}),e[0]||(e[0]=_("div",{class:"loading-text"},"Please wait...",-1))])):B("",!0),s(Z),s(n(F),null,{default:a(()=>[_("div",A,[e[3]||(e[3]=_("h4",{style:{width:"100%","text-align":"center","font-weight":"700"}},"Printer Management",-1)),s(n(L),null,{default:a(()=>[(f(!0),C(z,null,S(m.value,i=>(f(),y(n(T),null,{default:a(()=>[s(n(h),null,{default:a(()=>[v(V(i.name),1)]),_:2},1024),s(n(x),{size:"small",color:r(i)?"success":"primary",onClick:I=>M(i),disabled:r(i)},{default:a(()=>e[1]||(e[1]=[v(" Set as Default ")])),_:2},1032,["color","onClick","disabled"]),s(n(x),{onClick:I=>n(d).printTestLbl(i),size:"small"},{default:a(()=>e[2]||(e[2]=[v(" Test Print ")])),_:2},1032,["onClick"])]),_:2},1024))),256))]),_:1})])]),_:1})]),_:1},8,["class"])}}});const W=$(E,[["__scopeId","data-v-136c2001"]]);export{W as default};
