System.register(["./index-legacy-BXpyZFmT.js","./vendor-legacy-Wjk6MKAM.js","./Arrays-legacy-BSC7onNe.js"],function(e,a){"use strict";var r,n,o,t,s,i,c,l,d,p,u,_,g,R,m,A,v,O,h,P,b,C,f,M,G,I,y,x,E,D,F,k,T,N,S,w,B,V,L,U,Y,z,H,j,K,X,$,J,W,Z,q;return{setters:[e=>{r=e.I,n=e.o,o=e.ak,t=e.S,s=e.t,i=e.al,c=e.am,l=e.an,d=e._,p=e.p,u=e.s,_=e.U,g=e.f},e=>{R=e.d,m=e.r,A=e.c,v=e.a,O=e.y,h=e.f,P=e.z,b=e.l,C=e.u,f=e.S,M=e.T,G=e.A,I=e.B,y=e.I,x=e.dn,E=e.X,D=e.a9,F=e.e,k=e.F,T=e.L,N=e.aa,S=e.ab,w=e.bO,B=e.D,V=e.V,L=e.W,U=e.af,Y=e.w,z=e.E,H=e.bh,j=e.k,K=e.$,X=e.b1,$=e.cC,J=e.m,W=e.cB,Z=e.co},e=>{q=e.m}],execute:function(){var a=document.createElement("style");a.textContent=".his-card[data-v-9da1f8f3]{border:1px solid #cccbcb;background:var(--his-card-primary-color);padding:var(--his-card-primary-padding);margin:var(--his-card-primary-padding);border-radius:var(--his-card-primary-border-radius);-webkit-box-shadow:var(--his-card-primary-shadow-webkit);-moz-box-shadow:var(--his-card-primary-shadow-moz);box-shadow:var(--his-card-primary-shadow)}.clickable[data-v-9da1f8f3]:hover{transform:translateY(4px);background-color:#ebebeb}.clickable[data-v-9da1f8f3]:active{background-color:var(--ion-success)}.no-data-container[data-v-9da1f8f3]{display:flex;justify-content:center;flex-direction:column;align-items:center;height:100%}.search-wrapper[data-v-b69152ed]{display:flex;align-items:center;border:1px solid #b3b3b3;border-radius:10px;padding:8px 12px;background-color:#fff;width:100%;max-width:600px;margin:0 auto;transition:border-color .2s,box-shadow .2s}.search-wrapper[data-v-b69152ed]:focus-within{border-color:#1e4d1e}.search-icon[data-v-b69152ed]{font-size:24px;color:#1e4d1e;margin-right:10px}.search-input[data-v-b69152ed]{flex:1;font-size:18px;caret-color:#000;--padding-start: 0;--padding-end: 0;--background: transparent;--color: #000;--placeholder-color: #999;--highlight-color: transparent;--highlight-height: 0px;border:none;background:transparent;text-align:left}.program-buttons-grid[data-v-d36db6ec]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));justify-content:center;column-gap:20px;row-gap:40px;padding:10px;margin:40px auto 0;max-width:1000px;width:100%}.program-tile[data-v-d36db6ec]{cursor:pointer}.program-icon-container[data-v-d36db6ec]{border-radius:5px;padding:5px;display:flex;align-items:center;justify-content:center;height:85px;width:85px;margin:0 auto}.program-icon[data-v-d36db6ec]{font-size:30px;color:#000;width:45px}.program-name[data-v-d36db6ec]{margin-top:8px;font-size:14px;font-weight:500;color:#000}#container[data-v-fecb6da6]{text-align:center;padding:50px;background:transparent}#container strong[data-v-fecb6da6]{font-size:20px;line-height:26px}#container p[data-v-fecb6da6]{font-size:1em;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-fecb6da6]{text-decoration:none}\n/*$vite$:1*/",document.head.appendChild(a);const Q=["onClick"],ee={key:1,class:"no-data-container"},ae=d(R({__name:"ActivitySelectionModal",setup(e){const a=r(),d=m("ART_activities"),p=m([]),u=A(()=>p.value.filter(e=>e.isChecked));async function _(){try{return await t.postJson("user_properties",{property:d.value,property_value:u.value.map(e=>e.value).join(",")}),E.dismiss(u.value)}catch(a){var e;console.error(a),s(null!==(e=a.message)&&void 0!==e?e:"Failed to save selected activities")}}return v(()=>{var e,r;console.log("USER ID",a.getUserId()),console.log("USER PROGRAM",null===(e=n().activeProgram)||void 0===e?void 0:e.name),async function(e){switch(e.toLowerCase()){case"ncd program":p.value=q(l),d.value="NCD_activities";break;case"opd program":p.value=q(c),d.value="OPD_activities";break;case"hiv program":p.value=q(i,"name","workflowID"),d.value="ART_activities";break;default:p.value=[]}}(null===(r=n().activeProgram)||void 0===r?void 0:r.name),async function(){const e=await t.getJson("user_properties",{user_id:a.getUserId(),property:d.value});e&&(p.value=p.value.map(a=>(e.property_value.search(a.value)>=0&&(a.isChecked=!0),a)))}()}),(e,a)=>(h(),O(C(U),null,{default:P(()=>[b(C(f),{style:{display:"flex","justify-content":"space-between"},color:"success"},{default:P(()=>[b(C(M),{class:"modalTitle"},{default:P(()=>[G("Select Program Activites (selected: "+I(u.value.length)+")",1)]),_:1}),b(C(y),{onClick:C(E).dismiss,style:{"padding-top":"10px","padding-right":"10px"},icon:C(x)},null,8,["onClick","icon"])]),_:1}),b(C(D),{fullscreen:!0},{default:P(()=>[p.value.length?(h(),O(o,{key:0,items:p.value,numberOfColumns:2},{default:P(({entries:e})=>[(h(!0),F(k,null,T(e,(e,a)=>(h(),F("div",{class:"his-card clickable",key:a,onClick:a=>e.isChecked=!e.isChecked},[b(C(N),null,{default:P(()=>[b(C(S),{size:"1"},{default:P(()=>[b(C(w),{modelValue:e.isChecked,"onUpdate:modelValue":a=>e.isChecked=a,onClick:a=>e.isChecked=!e.isChecked},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:2},1024),b(C(S),{class:"ion-text-center his-md-text"},{default:P(()=>[G(I(e.label),1)]),_:2},1024)]),_:2},1024)],8,Q))),128))]),_:1},8,["items"])):(h(),F("div",ee,[b(C(B),null,{default:P(()=>a[0]||(a[0]=[G("No activities available for this program")])),_:1,__:[0]})]))]),_:1}),b(C(V),{class:"ion-padding ion-text-end"},{default:P(()=>[b(C(L),{onClick:_},{default:P(()=>a[1]||(a[1]=[G("Save")])),_:1,__:[1]})]),_:1})]),_:1}))}}),[["__scopeId","data-v-9da1f8f3"]]),re={class:"search-wrapper"},ne=d({__name:"SearchField",props:{modelValue:String,placeholder:String},emits:["update:modelValue"],setup(e,{emit:a}){const r=e=>{t.value=e.target.value},n=e,o=a,t=m(n.modelValue||"");return Y(t,e=>{o("update:modelValue",e)}),Y(()=>n.modelValue,e=>{t.value=e}),(a,n)=>{const o=z("ion-icon"),s=z("ion-input");return h(),F("div",re,[b(o,{icon:C(H),class:"search-icon","aria-hidden":"true"},null,8,["icon"]),b(s,{value:t.value,onIonInput:r,class:"search-input",type:"text",placeholder:e.placeholder},null,8,["value","placeholder"])])}}},[["__scopeId","data-v-b69152ed"]]),oe={class:"program-buttons-grid"},te=["onClick"],se=["src"],ie={class:"program-name"},ce=d(R({__name:"ProgramGrid",props:{programs:{},onSelect:{type:Function}},setup:e=>(e,a)=>(h(),F("div",oe,[(h(!0),F(k,null,T(e.programs,(a,r)=>(h(),F("div",{key:r,class:"program-tile",onClick:()=>e.onSelect(a)},[j("div",{class:"program-icon-container",style:K({backgroundColor:a.color})},[j("img",{src:a.icon,alt:"",class:"program-icon"},null,8,se)],4),j("div",ie,I(a.name.replace(/program/i,"").trim()),1)],8,te))),128))]))}),[["__scopeId","data-v-d36db6ec"]]),le={[p.HIV_PROGRAM]:"/assets/icon/program_icons/ribbon.png",[p.TB_PROGRAM]:"/assets/icon/program_icons/tb.png",[p.EARLY_INFANT_DIAGNOSIS_PROGRAM]:"/assets/icon/program_icons/baby-0203_alt.png",[p.MDR_TB_PROGRAM]:"/assets/icon/program_icons/tb.png",[p.KAPOSIS_SARCOMA_PROGRAM]:"/assets/icon/program_icons/lymph-nodes.png",[p.CHRONIC_CARE_PROGRAM]:"/assets/icon/program_icons/intensive-care_unit.png",[p.MATERNITY_PROGRAM]:"/assets/icon/program_icons/pregnant.png",[p.ANC_PROGRAM]:"/assets/icon/program_icons/ancv.png",[p.DIABETES_PROGRAM]:"/assets/icon/program_icons/diabetes.png",[p.OPD_PROGRAM]:"/assets/icon/program_icons/outpatient.png",[p.IPD_PROGRAM]:"/assets/icon/program_icons/observation.png",[p.UNDER_5_PROGRAM]:"/assets/icon/program_icons/boy-0105y.png",[p.CIVIL_REGISTRATION_PROGRAM]:"/assets/icon/program_icons/register-book.png",[p.HTC_PROGRAM]:"/assets/icon/program_icons/blood-pressure.png",[p.ANC_CONNECT_PROGRAM]:"/assets/icon/program_icons/ancv.png",[p.HYPERTENSION_PROGRAM]:"/assets/icon/program_icons/blood-pressure.png",[p.IPT_PROGRAM]:"/assets/icon/program_icons/observation.png",[p.LABORATORY_PROGRAM]:"/assets/icon/program_icons/biochemistry-laboratory.png",[p.CXCA_PROGRAM]:"/assets/icon/program_icons/cervical-cancer.png",[p.RADIOLOGY_PROGRAM]:"/assets/icon/program_icons/radiology.png",[p.PATIENT_REGISTRATION_PROGRAM]:"/assets/icon/program_icons/human-resoruce.png",[p.AETC_PROGRAM]:"/assets/icon/program_icons/accident-and_emergency.png",[p.SPINE_PROGRAM]:"/assets/icon/program_icons/intensive-care_unit.png",[p.NCD_PROGRAM]:"/assets/icon/program_icons/autoimmune-disease.png",[p.IMMUNIZATION_PROGRAM]:"/assets/icon/program_icons/syringe-vaccine.png",[p.LABOUR_AND_DELIVERY_PROGRAM]:"/assets/icon/program_icons/fetus.png"},de=e=>{switch(e){case p.HIV_PROGRAM:return"#F4A6A6";case p.TB_PROGRAM:return"#E6B89C";case p.EARLY_INFANT_DIAGNOSIS_PROGRAM:return"#FFF2A6";case p.MDR_TB_PROGRAM:return"#D2A679";case p.KAPOSIS_SARCOMA_PROGRAM:return"#D8B4E2";case p.CHRONIC_CARE_PROGRAM:return"#C7EFCF";case p.MATERNITY_PROGRAM:return"#FFCCE5";case p.ANC_PROGRAM:return"#FFD6DD";case p.DIABETES_PROGRAM:return"#D6F5D6";case p.OPD_PROGRAM:return"#B3E5FC";case p.IPD_PROGRAM:return"#FFF9C4";case p.UNDER_5_PROGRAM:return"#FFB3B3";case p.CIVIL_REGISTRATION_PROGRAM:return"#E0E0E0";case p.HTC_PROGRAM:return"#B2DFDB";case p.ANC_CONNECT_PROGRAM:return"#FFD6DD";case p.HYPERTENSION_PROGRAM:return"#B2DFDB";case p.IPT_PROGRAM:return"#FFF9C4";case p.LABORATORY_PROGRAM:return"#E6B89C";case p.CXCA_PROGRAM:return"#FFF2A6";case p.RADIOLOGY_PROGRAM:return"#CCCCCC";case p.PATIENT_REGISTRATION_PROGRAM:return"#FFF9C4";case p.AETC_PROGRAM:return"#FFB199";case p.SPINE_PROGRAM:return"#C7EFCF";case p.NCD_PROGRAM:return"#D6F5D6";case p.IMMUNIZATION_PROGRAM:return"#FFF2A6";case p.LABOUR_AND_DELIVERY_PROGRAM:return"#E6D6F3";default:return"#F5F5DC"}},pe=[p.VHW_PROGRAM,p.TRIAGE_PROGRAM,p.VMMC_PROGRAM,p.PNC_PROGRAM,p.KAPOSIS_SARCOMA_PROGRAM,p.CIVIL_REGISTRATION_PROGRAM,p.DIABETES_PROGRAM,p.LABOUR_AND_DELIVERY_PROGRAM],ue={id:"container"},_e={class:"centered-content"},ge=e("M",d(R({__name:"ModulePicker",setup(e){const a=n(),r=m(""),o=A(()=>a.authorizedPrograms.filter(e=>!pe.includes(e.program_id)).map(e=>({...e,icon:le[e.program_id]||null,color:de(e.program_id)}))),t=A(()=>o.value.filter(e=>e.name.toLowerCase().includes(r.value.toLowerCase())));function s(e){a.setActiveProgram(e),u.hide()}return v(()=>{1===o.value.length&&s(o.value[0])}),(e,a)=>(h(),F("div",ue,[a[1]||(a[1]=j("h1",null,[j("strong",null,"Services")],-1)),j("div",_e,[b(ne,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),placeholder:"Search..."},null,8,["modelValue"]),b(ce,{programs:t.value,onSelect:s},null,8,["programs"])])]))}}),[["__scopeId","data-v-fecb6da6"]]));e("_",R({__name:"ActionButtons",setup(e){const a=r(),{user_ID:n}=X(a),o=m(!1);v(async()=>{try{await t()}catch(e){}}),Y(()=>n.value,async()=>{await t()},{deep:!0});const t=async()=>{try{const e=await _.getUserAssignAndUnassignProgramActivities(n.value);o.value=null!==e&&e}catch(e){console.error("Error fetching assign and unassign program activities:",e)}};function s(){return g(ae,{class:"activity-modal"})}async function i(){return u.show(ge,{},"module-picker-modal")}return(e,a)=>(h(),O(C($),{slot:"fixed",horizontal:"end",vertical:"bottom",class:"ion-margin-bottom",edge:""},{default:P(()=>[o.value?(h(),O(C(W),{key:0,onClick:s},{default:P(()=>[b(C(y),{src:"/public/svg/exam_multiple_choice.svg"})]),_:1})):J("",!0),b(C(W),{color:"primary",class:"ion-margin-vertical"},{default:P(()=>[b(C(y),{icon:C(Z),onClick:i},null,8,["icon"])]),_:1})]),_:1}))}}))}}});
