System.register(["./vendor-legacy-qLaA4lfC.js","./index-legacy-Bh_KV0Am.js","./DemographicBar-legacy-BUlfEEEZ.js","./SaveProgressModal-legacy-DwOhrWAu.js","./Stepper-legacy-BHdvcqm8.js","./vitals_service-legacy-DQA9jzbC.js","./NextAppointment-legacy-CSL9ckFX.js","./lodash-legacy-pOOc9Efu.js","./drug_prescription_service-legacy-zAxJDyo9.js","./WeightHeightChart-legacy-jKY78yov.js","./BasicForm-legacy-OyYFoqdD.js","./customDatePicker.vue_vue_type_style_index_0_lang-legacy-CL3U2iAC.js","./previousVitals-legacy-Ct64vYtT.js","./formatServerData-legacy-CKvH3-Z7.js","./vaccines_service-legacy-zwOJH_Xr.js","./barcode-qrcode-reader-legacy-Bv6ibTdb.js","./stock_service-legacy-DPQ29RlA.js","./SetRelationship.vue_vue_type_script_lang-legacy-D-_1h20Q.js","./relations_service-legacy-DMDg8uA4.js","./patient_registration_service-legacy-BxETOkrn.js","./group_validation-legacy-CL9u_jYI.js","./relationship_service-legacy-CE4uvxLp.js","./AdministerOtherVaccinesStore-legacy-BIx_6u2D.js","./usePatientProfile-legacy-TmpvN-oq.js","./Outcome-legacy-f6sOMKFz.js","./PatientProfile-legacy-BiMX_Csm.js","./app_encounter_service-legacy-DK_afvJ-.js","./lab_order-legacy-MMf01ErI.js","./DashBox-legacy-BpXYzc_A.js","./SvgDynamicColor-legacy-Qi5sQrl3.js","./patient_complaints_service-legacy-CuceAI-d.js","./StandardForm.vue_vue_type_script_setup_true_lang-legacy-BFfa7Lyx.js","./useExposeFromStandardForm-legacy-ZO3UEy3P.js","./patient_lab_service-legacy-oiI5gPVL.js","./LabTestsHistory-legacy-O-UCWAf9.js","./ncd_appointment_service-legacy-DNZ0Nwg6.js","./clinicalDaysStore-legacy-BKnHj5TK.js","./UpcomingFeature-legacy-BKHReD_0.js","./drug_service-legacy-DkNHpHcZ.js","./appointment_service-legacy-C_VZ9nHl.js","./FeatusModal-legacy-D5IbhIse.js","./PastObstreticHistoryStore-legacy-ABmlQcHZ.js","./previousDiagnosis-legacy-C8zHopW8.js","./DateInputField-legacy-ofNJJcav.js","./chartjs-legacy-DJ6mqWRE.js","./apexcharts-legacy-DX-O3ogC.js","./sms_service-legacy-CTxlOuIi.js","./EIRreportsStore-legacy-BdL_d_iB.js","./Export-legacy--q8wsR2j.js","./Registration-legacy-CHr2jTej.js","./useLocation-legacy-QOLXPLf5.js","./index-legacy-D1Gv8CkB.js","./SelectFacility-legacy-Dbv9Uepw.js","./confirm_pregnancy_service-legacy-Bms4_IBb.js","./Reception-legacy-BG1YtZjp.js","./identifier_service-legacy-CgBUEADO.js","./BasicYesNoSelect-legacy-Dpo4HUIl.js","./patient_type_service-legacy-F0JgV1Px.js","./Vitals.vue_vue_type_script_setup_true_lang-legacy-CLebqxP6.js","./useVitals-legacy-DutYWaMJ.js","./encounter_type-legacy-Br2u790s.js","./Staging-legacy-BCEZINDo.js","./ARTAdherence-legacy-C1CB9cUb.js","./adherence_service-legacy-B_0yuiGL.js","./Prescription-legacy-DxsGY9wF.js","./prescription_service-legacy-8EtjkBsd.js","./Arrays-legacy-BSC7onNe.js","./ARTAppointment-legacy-DUWIGVhO.js","./ARTPatientType-legacy-vpRDJVts.js","./BasicRadioSelect-legacy-B6DIQpnb.js","./EmergencyRefill-legacy-CsgtrcdD.js","./LocationFieldOptions-legacy-C7FKrByk.js","./ArtDispensation.vue_vue_type_script_setup_true_lang-legacy-BN5j7-3b.js","./ArtClinicRegistration-legacy-7dUmXrVv.js","./ARTConsultation-legacy-BC1B-lXT.js"],function(e,t){"use strict";var a,n,i,o,s,l,c,r,d,u,p,h,m,g,v,f,b,x,y,_,w,D,I,C,k,S,V,T,B,A,j,M,N,P,O,z,H,F,R,E,W,L,G,U,$,q,Y,Z,J,K,X,Q,ee,te,ae,ne,ie,oe,se,le,ce,re,de,ue,pe,he,me,ge,ve,fe,be,xe,ye,_e,we,De,Ie,Ce,ke,Se,Ve,Te,Be,Ae,je,Me,Ne,Pe,Oe,ze,He,Fe,Re,Ee,We,Le,Ge,Ue,$e,qe,Ye,Ze,Je,Ke,Xe,Qe,et,tt,at,nt,it,ot,st,lt,ct,rt,dt,ut,pt,ht,mt,gt;return{setters:[e=>{a=e.R,n=e.d,i=e.ar,o=e.a3,s=e.U,l=e.T,c=e.as,r=e.ac,d=e.G,u=e.S,p=e.a9,h=e.X,m=e.at,g=e.a1,v=e.a2,f=e.E,b=e.e,x=e.m,y=e.f,_=e.k,w=e.y,D=e.A,I=e.B,C=e.l,k=e.z,S=e.a,V=e.r,T=e.u,B=e.D,A=e.dm,j=e.W,M=e.F,N=e.eC,P=e.ae,O=e.ad,z=e.L,H=e.i,F=e.v,R=e.aa,E=e.ab,W=e.b8,L=e.M,G=e.J,U=e.a_,$=e.bC,q=e.a$,Y=e.aZ,Z=e.b0,J=e.af,K=e.ba,X=e.V,Q=e.I,ee=e.bg,te=e.a8,ae=e.bm,ne=e.cn,ie=e.co,oe=e.cp,se=e.cq,le=e.cb,ce=e.de,re=e.ck,de=e.p},e=>{ue=e.i,pe=e.B,he=e.am,me=e.x,ge=e.u,ve=e.H,fe=e._,be=e.e,xe=e.t,ye=e.I,_e=e.S,we=e.f,De=e.j,Ie=e.z,Ce=e.an,ke=e.D,Se=e.w,Ve=e.b4,Te=e.a_,Be=e.l,Ae=e.bf,je=e.P,Me=e.y,Ne=e.T,Pe=e.az,Oe=e.as,ze=e.a0,He=e.a1},e=>{Fe=e.D},e=>{Re=e.S},e=>{Ee=e.aA,We=e.S},e=>{Le=e.V},e=>{Ge=e.e},e=>{Ue=e.l},e=>{$e=e.a,qe=e.D},e=>{Ye=e.default},e=>{Ze=e.B},e=>{Je=e._},e=>{Ke=e.P},e=>{Xe=e.a},e=>{Qe=e.i,et=e.s,tt=e.j,at=e.A,nt=e.n},e=>{it=e.I},e=>{ot=e.S},e=>{st=e._,lt=e.u},e=>{ct=e.R},e=>{rt=e.P},e=>{dt=e.v},e=>{ut=e.R},e=>{pt=e.u},e=>{ht=e._},e=>{mt=e.O},e=>{gt=e.P},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".vitals_title[data-v-d7374316]{margin-bottom:50px}.input-with-icon[data-v-d7374316]{position:relative}.input-icon[data-v-d7374316]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-d7374316]{padding-bottom:15px}h5[data-v-d7374316]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-d7374316]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.OtherVitalsHeading[data-v-d7374316]{display:flex;justify-content:space-between;margin:20px;line-height:60px;flex-direction:column}.vitalsContent[data-v-d7374316]{height:500px}.saveBtn[data-v-d7374316]{display:flex;justify-content:space-between;margin:20px;width:330px;align-items:center}.btnContent[data-v-d7374316]{display:flex;justify-content:center;line-height:60px}.modal_wrapper[data-v-d7374316]{padding:0 10px;background:#fff}.TodaysDate[data-v-d7374316]{display:flex;align-items:center}.TodaysDate span[data-v-d7374316]{margin-left:5px}.scanner__container .content{min-height:inherit!important;background:#a9a9a9!important}.overlay{position:relative}.focus-frame{position:absolute;top:50%;left:50%;width:60%;height:60%;box-sizing:border-box;transform:translate(-50%,-50%);pointer-events:none;z-index:2}.dark-overlay{position:absolute;background:rgba(0,0,0,.5);pointer-events:none;z-index:1}.dark-overlay.top{top:0;left:0;right:0;height:20%}.dark-overlay.bottom{bottom:0;left:0;right:0;height:20%}.dark-overlay.left{top:20%;bottom:20%;left:0;width:20%}.dark-overlay.right{top:20%;bottom:20%;right:0;width:20%}.my-custom-alert[data-v-cf655518]{--background: #ffffff;--color: #cf4a4a !important}[data-v-cf655518] .alert-button-group{padding:8px}[data-v-cf655518] .alert-danger-button{background-color:#cf4a4a!important;color:var(--ion-color-light)!important}.alert-message-red[data-v-cf655518]{color:#cf4a4a!important}.shadowless-card[data-v-039b66ba]{box-shadow:none;border:none;background:none}.vitals_title[data-v-58aa351e]{margin-bottom:50px}.input-with-icon[data-v-58aa351e]{position:relative}.input-icon[data-v-58aa351e]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-58aa351e]{padding-bottom:15px}h5[data-v-58aa351e]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-58aa351e]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.OtherVitalsHeading[data-v-58aa351e]{display:flex;justify-content:space-between;margin:20px;line-height:60px}.vitalsContent[data-v-58aa351e]{height:500px}.saveBtn[data-v-58aa351e]{display:flex;justify-content:space-between;margin:20px;align-items:center}.btnContent[data-v-58aa351e]{justify-content:center;line-height:60px}.advac[data-v-58aa351e]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.lbl-ct[data-v-58aa351e]{white-space:nowrap;color:#08475e;font-size:14px}.om[data-v-58aa351e]{font-size:10;font-weight:600px}.lbl-tl[data-v-58aa351e]{min-width:20px;color:#b3b3b3!important;white-space:nowrap}.error-label[data-v-58aa351e]{background:#fecdca;color:#b42318;text-transform:none;padding:6%;border-radius:10px;margin-top:7px;display:flex;text-align:center}.modal_wrapper[data-v-58aa351e]{background:inherit}.client_admi[data-v-58aa351e]{display:flex;flex-direction:row;align-items:flex-start;padding:10px 10px 0;gap:5px;width:363px;height:28px;flex:none;order:2;align-self:stretch;flex-grow:0}.client_admi_sub[data-v-58aa351e]{font-weight:400;font-size:15px;color:#636363}.client_admin_sub_x[data-v-58aa351e]{font-weight:500;font-size:16px;color:#454545}.saveBtn[data-v-ea212a62]{display:flex;justify-content:space-between;margin:20px;align-items:center}ion-row.centered-content[data-v-ea212a62]{display:flex;justify-content:center;align-items:center}.text-container[data-v-ea212a62]{text-align:center;padding:20px;border-radius:10px}.text-container div[data-v-ea212a62]{margin-bottom:10px;font-family:Arial,sans-serif;color:#333}.text-container div[data-v-ea212a62]:last-child{margin-bottom:0}.administerVac .button-content[data-v-90bda1b0]{display:flex;flex-direction:column;text-align:center;width:100%;gap:15px}.demographics[data-v-90bda1b0]{box-sizing:border-box;width:95vw;height:92px;left:calc(50% - 203px);margin-top:10px;background:#fff;border:1px solid #d9d9d9;border-radius:7px}.demographicsFirstRow[data-v-90bda1b0]{display:flex;flex-direction:row;align-items:center;padding:10px 5px;gap:15px;height:24px;justify-content:space-between}.name[data-v-90bda1b0]{height:24px;font-style:normal;font-weight:700;font-size:20px;line-height:24px;color:#00190e;flex:none;order:0;flex-grow:0}.demographicsText[data-v-90bda1b0]{font-style:normal;font-weight:400;font-size:14px;line-height:5px;color:#636363;flex:none;order:0;flex-grow:0}.demographicsOtherRow[data-v-90bda1b0]{display:flex;flex-direction:row;align-items:center;padding:1px 5px;gap:10px;height:18px;left:calc(50% - 95px);top:calc(50% - 467px)}.smallFont[data-v-90bda1b0]{font-size:14px}.mediumFontColor[data-v-90bda1b0]{color:#00190e}.weightHeightGraphBtns[data-v-90bda1b0]{display:flex;justify-content:space-between;margin-top:8px}.btnText[data-v-90bda1b0]{font-style:normal;font-weight:500;font-size:14px}.btnTextWeight[data-v-90bda1b0]{color:#000;--border-width: 1px;margin-right:15px}.dot[data-v-90bda1b0]{font-size:25px}.initialsBox[data-v-90bda1b0]{width:80px;height:80px;left:31px;top:122px;background:#5983ba;border-radius:10px;align-items:center;display:flex}.initialsText[data-v-90bda1b0]{width:100%;font-style:normal;font-weight:800;font-size:40px;display:flex;align-items:center;text-align:center;justify-content:center;align-content:center;color:#fff}.outcomeStatus[data-v-90bda1b0]{padding:2px 7px;width:50px;height:18px;background:#ded;border-radius:22px;font-style:normal;font-weight:700;font-size:14px;align-items:center;text-align:center}.graphSection[data-v-90bda1b0]{box-sizing:border-box;background:#f7f7f7;border:1px solid #d9d9d9;border-radius:3px;margin-top:7px}.graphBtn[data-v-90bda1b0]{display:flex;justify-content:center}.dueAlert[data-v-90bda1b0]{display:flex;justify-content:space-between;border:solid 1px #ccc;border-style:dashed;margin-top:10px;padding:5px}.dueAlertText[data-v-90bda1b0]{font-style:normal;font-weight:500;font-size:14px;color:#b42318;padding:10px}.vaccinesTitle[data-v-90bda1b0]{display:flex;justify-content:space-around;padding:15px}.vaccinesTitleText[data-v-90bda1b0]{font-style:normal;font-weight:600;font-size:17px;color:#00190e}.vaccinesTitleDate[data-v-90bda1b0]{font-style:normal;font-weight:400;font-size:14px;color:#636363}.milestone[data-v-90bda1b0]{display:flex;justify-content:space-between;padding-left:15px;padding-right:15px}.arrowBtns[data-v-90bda1b0]{position:absolute;top:30px}.vaccinesList[data-v-90bda1b0]{margin-top:8px}.seeFullList[data-v-90bda1b0]{font-style:normal;font-weight:500;font-size:14px;line-height:24px;display:flex;align-items:center;text-align:center;color:#316cba;float:right}.warningText[data-v-90bda1b0]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:6px;gap:1px;background:#fedf89;border-radius:4px;font-size:13px;margin-right:10px;color:#636363}.successText[data-v-90bda1b0]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:6px;gap:1px;background:#ded;border-radius:4px;font-size:13px;color:#636363}.centerBtns[data-v-90bda1b0]{display:flex;justify-content:center;margin-bottom:10px}.otherVaccine[data-v-90bda1b0]{padding:10px;margin-bottom:10px}.dotsWizard[data-v-90bda1b0]{display:flex;justify-content:space-between;width:150px;margin:0 auto;align-items:center}.dotBig[data-v-90bda1b0]{font-size:.7rem!important}.dotStatus[data-v-90bda1b0]{font-size:.4rem!important}.lastVaccineTitle[data-v-90bda1b0]{display:flex;justify-content:space-between}.lastVaccine[data-v-90bda1b0]{padding-left:20px;padding-right:20px;padding-top:10px}.lastVaccineText[data-v-90bda1b0]{font-style:normal;font-weight:600;font-size:18px;line-height:150%;color:#00190e}.lastVaccineList[data-v-90bda1b0]{display:flex;justify-content:space-between;width:210px;margin-bottom:20px}.lastVaccineDate[data-v-90bda1b0]{display:flex;justify-content:space-between;width:210px;margin-bottom:10px;align-items:center}.administerVac[data-v-90bda1b0]{height:78px;min-width:160px;max-width:100%;width:auto;margin:7px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vitals_title[data-v-6f86c512]{border-bottom:1px solid #b3b3b3;margin-bottom:50px}.input-with-icon[data-v-6f86c512]{position:relative}.input-icon[data-v-6f86c512]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-6f86c512]{padding-bottom:15px}h5[data-v-6f86c512]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-6f86c512]{font-style:normal;font-weight:600;font-size:20px;color:rgba(31,34,33,.83)!important}.OtherVitalsHeading[data-v-6f86c512]{display:flex;justify-content:space-between;margin:20px;border-bottom:1px solid #ccc;line-height:60px}.mod-ls[data-v-6f86c512]{border-bottom:1px solid #ccc;line-height:60px}.saveBtn[data-v-6f86c512]{display:flex;justify-content:space-between;margin:20px;width:330px;align-items:center}.btnContent[data-v-6f86c512]{display:flex;justify-content:center;border-top:1px solid #ccc;line-height:60px}.dotStatus[data-v-6f86c512]{font-size:.5rem!important}ion-button.medicalAlBtn[data-v-6f86c512]{--background: #fecdca;--color: #b42318;text-transform:none;font-size:large}ion-button.medicalAlBtn-2[data-v-6f86c512]{--background: #DDEEDD;--color: #016302;text-transform:none;font-size:large}.otherVitalsModal[data-v-6f86c512]{--height: 530px}.vitals_title[data-v-b4532903]{margin-bottom:50px}.input-with-icon[data-v-b4532903]{position:relative}.input-icon[data-v-b4532903]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-b4532903]{padding-bottom:15px}h5[data-v-b4532903]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-b4532903]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.OtherVitalsHeading[data-v-b4532903]{display:flex;justify-content:space-between;margin:10px}.vitalsContent[data-v-b4532903]{height:500px}.saveBtn[data-v-b4532903]{display:flex;justify-content:space-between;margin:20px;width:330px;align-items:center}.btnContent[data-v-b4532903]{display:flex;justify-content:center;line-height:60px}.custom_card[data-v-b4532903]{margin-bottom:20px}.lbl-tl[data-v-7b242731]{min-width:20px;color:#b3b3b3!important;white-space:nowrap}.lbl-ct[data-v-7b242731]{white-space:nowrap;color:#08475e}.pim-cls-1[data-v-7b242731]{--background: #ffff}ion-footer[data-v-7b242731]{--ion-toolbar-background: #fff}.dashed-hr[data-v-7b242731]{border:none;border-top:2px dashed #b3b3b3;margin:20px 0}.modal_wrapper[data-v-7b242731]{padding:0 10px;background:#fff}.OtherVitalsTitle[data-v-7b242731]{font-style:normal;font-weight:600;font-size:16px;color:#00190e}.OtherVitalsHeading[data-v-7b242731]{display:flex;justify-content:space-between;margin:10px;line-height:40px;flex-direction:column}.vitalsContent[data-v-7b242731]{height:500px;margin:10px}.saveBtn[data-v-7b242731]{display:flex;justify-content:space-between;margin:20px;width:330px;align-items:center}.btnContent[data-v-7b242731]{display:flex;justify-content:center;line-height:60px}.TodaysDate[data-v-7b242731]{display:flex;align-items:center}.TodaysDate span[data-v-7b242731]{margin-left:5px}.vitals_title[data-v-eb04f444]{margin-bottom:50px}.input-with-icon[data-v-eb04f444]{position:relative}.input-icon[data-v-eb04f444]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-eb04f444]{padding-bottom:15px}h5[data-v-eb04f444]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-eb04f444]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.OtherVitalsHeading[data-v-eb04f444]{display:flex;justify-content:space-between;margin:20px;line-height:60px}.vitalsContent[data-v-eb04f444]{height:500px}.saveBtn[data-v-eb04f444]{display:flex;justify-content:space-between;margin:20px;align-items:center}.btnContent[data-v-eb04f444]{justify-content:center;line-height:60px}.om[data-v-eb04f444]{font-size:10;font-weight:600px}.lbl-tl[data-v-eb04f444]{min-width:20px;color:#b3b3b3!important;white-space:nowrap}.lbl-ct[data-v-eb04f444]{white-space:nowrap;color:#08475e;font-size:14px}.error-label[data-v-eb04f444]{background:#fecdca;color:#b42318;text-transform:none;padding:6%;border-radius:10px;margin-top:7px;display:flex;text-align:center}.btnText[data-v-eb04f444]{font-style:normal;font-weight:500;font-size:14px}.carousel__icon{width:var(--vc-icn-width);height:var(--vc-icn-width);fill:currentColor;background:none;color:#016302}.carousel__pagination-button--active{background-color:#016302}.carousel__pagination-button:after .carousel__pagination-button--active{background-color:#ff69b4}.otherVaccine{padding:10px;margin-bottom:10px}.centerBtns{display:flex;justify-content:center;margin-bottom:10px}.btnText{font-style:normal;font-weight:500;font-size:14px}.container{display:flex;flex-direction:column}.btnTextWeight{color:#000;--border-width: 1px;margin-right:0}ion-row{width:100%}.bottom-row{margin-top:20px;justify-content:center;align-items:center}.center-content{display:flex;justify-content:center;align-items:center;width:100%}.alert_banner{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0 30px;gap:9px;height:33px;background:#ded;flex:none;order:1;align-self:stretch;flex-grow:0}.swipe_msg{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0;gap:10px;flex:none;order:3;flex-grow:0}.vaccinesTitleDate{font-style:normal;font-weight:400;font-size:14px;color:#636363}.btnText[data-v-3ba5e9df]{font-style:normal;font-weight:500;font-size:14px}.btnTextWeight[data-v-3ba5e9df]{color:#000;--border-width: 1px;margin-right:15px}.dueAlert[data-v-3ba5e9df]{justify-content:space-between;margin-top:10px;padding:5px}.dueAlertText[data-v-3ba5e9df]{font-style:normal;font-weight:500;font-size:14px;color:#b42318;padding:10px}.mod-ls[data-v-3ba5e9df]{border-bottom:1px solid #ccc;line-height:60px}ion-accordion[data-v-029f1008]{background:#fff}ion-list[data-v-029f1008]{--ion-background-color: #fff}.demographics[data-v-029f1008]{box-sizing:border-box;width:98vw;left:calc(50% - 203px);margin-top:10px;background:#fff;border:1px solid #d9d9d9;border-radius:7px;display:flex;justify-content:space-between;margin-left:1vw}.demographicsFirstRow[data-v-029f1008]{display:flex;flex-direction:row;align-items:center;padding:10px 5px;gap:15px;height:24px;justify-content:space-between}.name[data-v-029f1008]{height:24px;font-style:normal;font-weight:700;font-size:20px;line-height:24px;color:#00190e;flex:none;order:0;flex-grow:0}.demographicsText[data-v-029f1008]{font-style:normal;font-weight:400;font-size:14px;line-height:5px;color:#636363;flex:none;order:0;flex-grow:0}.demographicsOtherRow[data-v-029f1008]{display:flex;gap:10px;margin-top:20px;margin-left:5px}.smallFont[data-v-029f1008]{font-size:14px}.mediumFontColor[data-v-029f1008]{color:#00190e}.weightHeightGraphBtns[data-v-029f1008]{display:flex;justify-content:space-around;margin-top:8px;width:100%;max-width:500px}.btnText[data-v-029f1008]{font-style:normal;font-weight:500;font-size:14px}.btnTextWeight[data-v-029f1008]{color:#000;--border-width: 1px;margin-right:15px}.dot[data-v-029f1008]{font-size:25px}.initialsBox[data-v-029f1008]{width:95px;height:115px;left:31px;top:122px;border-radius:10px;align-items:center;display:flex;justify-content:center}.maleColor[data-v-029f1008]{background:#5983ba}.femaleColor[data-v-029f1008]{background:#876d9b}.initialsText[data-v-029f1008]{width:100%;font-style:normal;font-weight:800;font-size:40px;display:flex;align-items:center;text-align:center;justify-content:center;align-content:center;color:#fff}.outcomeStatus[data-v-029f1008]{padding:2px 7px;width:50px;height:18px;background:#ded;border-radius:22px;font-style:normal;font-weight:700;font-size:14px;align-items:center;text-align:center}.protectedStatus[data-v-029f1008]{padding:2px 7px;width:50px;height:18px;border-radius:22px;font-style:normal;font-weight:400;font-size:14px;align-items:center;color:#006401;text-align:center}.graphSection[data-v-029f1008]{box-sizing:border-box;background:#f7f7f7;border:1px solid #d9d9d9;border-radius:3px;margin-top:7px}.graphBtn[data-v-029f1008]{display:flex;justify-content:center}.dueAlert[data-v-029f1008]{justify-content:space-between;border:solid 1px #ccc;border-style:dashed;border-left:none;border-right:none;margin-top:10px;padding:5px;width:100%}.dueAlertText[data-v-029f1008]{font-style:normal;font-weight:500;font-size:14px;color:#b42318;padding:10px}.vaccinesTitle[data-v-029f1008]{display:flex;justify-content:space-around;padding:15px}.vaccinesTitleText[data-v-029f1008]{font-style:normal;margin-top:-7px;font-weight:600;font-size:18px;color:#00190e}.vaccinesTitleDate[data-v-029f1008]{font-style:normal;font-weight:400;font-size:14px;color:#636363}.milestone[data-v-029f1008]{display:flex;justify-content:space-between;padding-left:15px;padding-right:15px}.arrowBtns[data-v-029f1008]{position:absolute;top:30px}.vaccinesList[data-v-029f1008]{margin-top:8px}.seeFullList[data-v-029f1008]{font-style:normal;font-weight:500;font-size:14px;line-height:24px;display:flex;align-items:center;text-align:center;color:#316cba;float:right}.warningText[data-v-029f1008]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:6px;gap:1px;background:#fedf89;border-radius:4px;font-size:13px;margin-right:10px;color:#636363}.successText[data-v-029f1008]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:6px;gap:1px;background:#ded;border-radius:4px;font-size:13px;color:#636363}.centerBtns[data-v-029f1008]{display:flex;justify-content:center;margin-bottom:10px}.otherVaccine[data-v-029f1008]{padding:10px;margin-bottom:10px}.dotsWizard[data-v-029f1008]{display:flex;justify-content:space-between;width:150px;margin:0 auto;align-items:center}.dotBig[data-v-029f1008]{font-size:.7rem!important}.dotStatus[data-v-029f1008]{font-size:.4rem!important}.lastVaccineTitle[data-v-029f1008]{display:flex;justify-content:space-between}.lastVaccine[data-v-029f1008]{padding-left:20px;padding-right:20px;padding-top:10px}.lastVaccineText[data-v-029f1008]{font-style:normal;font-weight:600;font-size:18px;line-height:150%;color:#00190e}.lastVaccineList[data-v-029f1008]{display:flex;justify-content:space-between;width:210px;margin-bottom:20px}.lastVaccineDate[data-v-029f1008]{display:flex;justify-content:space-between;width:210px;margin-bottom:10px;align-items:center}.administerVac[data-v-029f1008]{height:58px;width:150px}.dashed-hr[data-v-029f1008]{border:none;border-top:1px dashed #b3b3b3;margin:20px 0}.missed_vaccine_alert[data-v-029f1008]{display:flex;flex-direction:row;align-items:center;padding-top:12px;padding-bottom:12px;color:#b42318;width:content;height:25px;background:#fecdca;border:1px solid #fda19b;box-shadow:0 4px 5px rgba(189,13,0,.1);border-radius:8px;flex:none;order:0;flex-grow:0}.missed_vaccine_alert_txt[data-v-029f1008]{height:17px;font-weight:500;font-size:14px;line-height:17px;color:#b42318;flex:none;order:1;flex-grow:0}.box-line[data-v-029f1008]{width:100%;height:0px;border:1px dashed #b3b3b3;flex:none;order:0;flex-grow:0}\n/*$vite$:1*/",document.head.appendChild(t);const vt=[{data:{rowData:[{colData:[{inputHeader:"Systolic Pressure",unit:"mmHg",icon:ue.systolicPressure,value:"",name:"Systolic",required:!0,eventType:"input",disabled:!1,valueType:"number",validationFunctionName:"vitalsSystolic"},{inputHeader:"Diastolic pressure",unit:"mmHg",icon:ue.diastolicPressure,value:"",name:"Diastolic",required:!0,eventType:"input",disabled:!1,valueType:"number",validationFunctionName:"vitalsDiastolic"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"bp",index:""}],previousView:{name:"vitals"}},{data:{rowData:[{colData:[{inputHeader:"Temperature",unit:"C",icon:ue.temprature,value:"",name:"Temperature",eventType:"input",validationFunctionName:"vitalsTemperature",valueType:"number"},{inputHeader:"Pulse rate",unit:"BMP",icon:ue.pulse,value:"",name:"Pulse",eventType:"input",validationFunctionName:"vitalsPulseRate",valueType:"number"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"temp",index:""},{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"pulse",index:""}]},{data:{rowData:[{colData:[{inputHeader:"Respiratory rate",unit:"BMP",icon:ue.respiratory,value:"",name:"Respiratory rate",eventType:"input",validationFunctionName:"vitalsRespiratoryRate",valueType:"number"},{inputHeader:"Oxygen saturation",unit:"%",icon:ue.oxgenStaturation,value:"",name:"SAO2",eventType:"input",validationFunctionName:"vitalsOxygenSaturation",valueType:"number"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"respiratory",index:""},{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"oxygen",index:""}]}],ft=a("immunizationVitalsStore",{state:()=>({vitals:[...vt]}),actions:{setVitals(e){this.vitals=e},getInitialVitals:()=>[...Ue.cloneDeep(vt)]},persist:!0}),bt=n({mixins:[Ee],components:{IonContent:p,IonHeader:u,IonItem:d,IonList:r,IonMenu:c,IonTitle:l,IonToolbar:s,IonInput:o,BasicInputField:pe,BasicForm:Ze,PreviousVitals:Ke,customDatePicker:Je},data:()=>({iconsContent:ue,vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1,pulseRate:!1},showPD:!1,todays_date:ve.sessionDate(),formOpen:!0}),computed:{...i(ge,["patient"]),...i(ft,["vitals"])},async serverPrefetch(){this.updateVitalsStores()},async mounted(){this.cleanVitalForm(),this.vitalsData=this.vitals,await this.setTodayVitals(),await this.validateRowData()},watch:{vitals:{handler(){this.vitalsData=this.vitals},deep:!0},$route:{handler(){this.cleanVitalForm(),this.vitalsData=this.vitals}}},setup:()=>({checkmark:v,pulseOutline:g}),methods:{cleanVitalForm(){const e=ft();e.setVitals(e.getInitialVitals())},navigationMenu(e){m.close(),this.$router.push(e)},updateVitalsStores(){ft().setVitals(this.vitals)},async validateRowData(){const e=me(this.vitals,"Height (cm)","value"),t=me(this.vitals,"Weight","value"),a=me(this.vitals,"Systolic","value"),n=me(this.vitals,"Diastolic","value"),i=me(this.vitals,"Temperature","value"),o=me(this.vitals,"Pulse","value"),s=me(this.vitals,"Respiratory rate","value"),l=me(this.vitals,"SAO2","value");await this.setBMI(e,t),await this.updateBP(a,n);const c=this.getPulseRateStatus(o);await this.updateRate("pulse",o," BMP",c,4);const r=this.getTemperatureStatus(i);this.updateRate("temp",i,"Â°C",r,4);const d=this.getRespiratoryRateStatus(s);this.updateRate("respiratory",s,"BMP",d,6);const u=this.getOxygenSaturationStatus(l);this.updateRate("oxygen",l,"%",u,6)},showCPD(){this.showPD=!0},closeForm(){this.formOpen=!1},async saveVitals(){h.dismiss();const e=await Xe(this.vitals);if(e.length>0){var t;let a=null===(t=this.patient)||void 0===t?void 0:t.vitals;a.unsaved=[...a.unsaved,...e],await he(this.patient)}}}}),xt={key:0,class:"modal_wrapper"},yt={class:"OtherVitalsHeading"},_t={class:"TodaysDate"},wt={class:""},Dt={class:"btnContent"},It={class:"saveBtn"},Ct=fe(bt,[["render",function(e,t,a,n,i,o){const s=f("basic-form"),l=f("customDatePicker"),c=f("ion-icon"),r=f("ion-button");return e.formOpen?(y(),b("div",xt,[_("div",yt,[t[3]||(t[3]=_("div",{class:"OtherVitalsTitle"},"OTHER VITALS",-1)),_("div",_t,[t[1]||(t[1]=D("Todays Date: ")),t[2]||(t[2]=_("span",null,null,-1)),D(" "+I(e.todays_date),1)])]),_("div",wt,[C(s,{contentData:e.vitals,"onUpdate:inputValue":t[0]||(t[0]=t=>e.validateRowData())},null,8,["contentData"])]),e.showPD?(y(),w(l,{key:0})):x("",!0),_("div",Dt,[_("div",It,[_("div",null,[C(r,{class:"btnText",fill:"solid",onClick:e.saveVitals},{default:k(()=>[t[4]||(t[4]=D(" Done today ")),C(c,{slot:"end",size:"small",icon:e.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1,__:[4]},8,["onClick"])]),t[6]||(t[6]=_("div",null,null,-1)),_("div",null,[C(r,{class:"btnText",fill:"solid",onClick:e.showCPD},{default:k(()=>[t[5]||(t[5]=D(" Done earlier ")),C(c,{slot:"end",size:"small",icon:e.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1,__:[5]},8,["onClick"])])])])])):x("",!0)}],["__scopeId","data-v-d7374316"]]),kt={class:"flex flex-col items-center justify-center mt-6"},St={class:"phone mt-6"},Vt={class:"content"},Tt={class:"overlay"},Bt={style:{"margin-top":"20px"}},At=n({__name:"QRCodeReader",emits:["scanresult"],setup(e,{emit:t}){S(async()=>{var e;null===(e=s.value)||void 0===e||e.onCanPlay()});const a=V(void 0),n=V(!1);function i(e){a.value=e,null!=a.value&&(be().setTempScannedBatchNumber(a.value),function(e){c("scanresult",e),l()}(a.value))}function o(e){n.value=e}const s=V(null);function l(){h.dismiss()}const c=t;return(e,t)=>(y(),b(M,null,[_("div",kt,[_("div",St,[C(T(B),null,{default:k(()=>[D(I(a.value),1)]),_:1}),_("div",Vt,[_("div",Tt,[C(T(it),{ref_key:"refCamera",ref:s,capture:"shoot","show-on-stream":"",onOnloading:o,onResult:i},null,512),t[0]||(t[0]=A('<div class="focus-frame"></div><div class="dark-overlay top"></div><div class="dark-overlay bottom"></div><div class="dark-overlay left"></div><div class="dark-overlay right"></div>',5))])])])]),_("div",Bt,[C(T(j),{onClick:l,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"99%"}},{default:k(()=>t[1]||(t[1]=[D(" Cancel ")])),_:1,__:[1]})])],64))}}),jt=n({name:"MyComponent",components:{IonAlert:N},data:()=>({isOpen:!1,alertButtons:[{text:"Close",role:"cancel",cssClass:"alert-danger-button"}],messageContent:"No available batches/lot numbers"}),methods:{setOpen(e){this.isOpen=e},handleDismiss(){this.setOpen(!1),this.$emit("alertClosed"),this.dismiss()},dismiss(){h.dismiss()}},mounted(){this.setOpen(!0)}}),Mt=fe(jt,[["render",function(e,t,a,n,i,o){const s=f("ion-alert");return y(),w(s,{"is-open":e.isOpen,header:"Please update stock","sub-header":"",message:e.messageContent,buttons:e.alertButtons,"css-class":"my-custom-alert",onDidDismiss:e.handleDismiss},null,8,["is-open","message","buttons","onDidDismiss"])}],["__scopeId","data-v-cf655518"]]),Nt=n({components:{IonRadioGroup:O,IonRadio:P,IonItem:d,IonList:r},props:{action:{type:Function,required:!0},retro:{type:Boolean,required:!0}},async mounted(){this.loadCurrentSelectedDrug()},watch:{retro:{handler(){this.checkToShow()},deep:!0}},data:()=>({lotNumbers:[],selectedOption:{}}),methods:{compareWith:(e,t)=>e.id===t.id,handleChange(e){this.selectedOption=e.detail.value},checkIfSelected(){return!!Ue.has(this.selectedOption,"lotNumber")||1==this.checkDrugNameInt()||(xe("Select a batch number!"),!1)},performAction(){1==this.checkIfSelected()&&this.$emit("actionTriggered",this.selectedOption)},async loadCurrentSelectedDrug(){try{const e=be().getCurrentSelectedDrug();await this.formBatchList(e.drug.drug_id)}catch(e){}},async formBatchList(e){try{const e=be().getLotNumberData();0==e.length&&this.$emit("emptyList",""),e.forEach(e=>{const t={id:e.id,lotNumber:e.batch_number};this.lotNumbers.push(t)}),this.checkToShow()}catch(t){}},addUnkownLotNumberOption(){const e=be().getCurrentSelectedDrug();this.lotNumbers.push({id:e.drug.drug_id,lotNumber:"Unknown"})},checkToShow(){1==this.$props.retro&&this.addUnkownLotNumberOption(),this.checkDrugNameInt()},checkDrugNameInt(){const e=be().getCurrentSelectedDrug();return 1==Qe(e.drug)&&(this.lotNumbers=[],this.lotNumbers.push({id:e.drug.drug_id,lotNumber:"Unknown"}),!0)}}}),Pt=fe(Nt,[["render",function(e,t,a,n,i,o){const s=f("ion-radio"),l=f("ion-item"),c=f("ion-radio-group"),r=f("ion-list"),d=f("ion-card"),u=f("ion-row");return y(),w(u,null,{default:k(()=>[C(d,{class:"shadowless-card",style:{width:"100%",padding:"0"}},{default:k(()=>[C(r,null,{default:k(()=>[C(c,{compareWith:e.compareWith,onIonChange:t[0]||(t[0]=t=>e.handleChange(t)),value:"start"},{default:k(()=>[(y(!0),b(M,null,z(e.lotNumbers,e=>(y(),w(l,{key:e.id},{default:k(()=>[C(s,{value:e},{default:k(()=>[D(I(e.lotNumber),1)]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["compareWith"])]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-039b66ba"]]),Ot=n({components:{IonContent:p,IonHeader:u,IonItem:d,IonList:r,IonMenu:c,IonTitle:l,IonToolbar:s,IonInput:o,BasicInputField:pe,PreviousVitals:Ke,customDatePicker:Je,lotNumberList:Pt,alert:Mt},data:()=>({iconsContent:ue,showPD:!1,showDateBtns:!0,vaccineDate:"",batchNumber:"",drugName:"",currentDrug:"",is_batch_number_valid:!1,batch_number_error_message:"Enter a valid batch number",full_name:"",sessionDate:ve.toStandardHisDisplayFormat(_e.getSessionDate()),InnerActionBtnPropeties:{name:"Scan",show:!0,fn:()=>{we(At,{class:"otherVitalsModal qr_code_modal"},!1)},icon:"",show_icon:!1},selected_date_:"",is_a_vaccine:!0}),computed:{...i(be,["tempScannedBatchNumber"]),...i(ge,["patient"])},setup(){const e=V(null);return{childComponentRef:e,triggerChildAction:()=>{e.value&&e.value.performAction()}}},async mounted(){this.loadCurrentSelectedDrug(),this.displayUserNames();const e=be();this.showPD=e.isVaccinePassed(),this.showDateBtns=!this.showPD},props:{customSchedule:{type:[],default:[]}},watch:{batchNumber:{handler(){this.validateBatchNumber()},deep:!0},tempScannedBatchNumber:{handler(){null!=this.tempScannedBatchNumber&&(this.batchNumber=this.tempScannedBatchNumber.text,this.validateBatchNumber())}}},methods:{loadCurrentSelectedDrug(){const e=be();this.currentDrug=e.getCurrentSelectedDrug(),this.drugName=this.currentDrug.drug.drug_name,this.batchNumber=this.currentDrug.drug.vaccine_batch_number?this.currentDrug.drug.vaccine_batch_number:"",1==Qe(this.currentDrug.drug)&&(this.is_a_vaccine=!1,this.batchNumber="unknown")},showCPD(){this.showPD=!0,this.showDateBtns=!1},dismiss(){h.dismiss()},updateDate(e){this.vaccineDate=ve.toStandardHisFormat(e)},saveBatchWithTodayDate(){let e=_e.getSessionDate();this.saveDta(e)},saveBatch(){let e;e=1==Ue.isEmpty(this.vaccineDate)?_e.getSessionDate():this.vaccineDate,this.saveDta(e)},updateBatchNumber(e){var t;const a=e.target.value;this.batchNumber=a||(null===(t=this.tempScannedBatchNumber)||void 0===t?void 0:t.text)||""},async ActionTriggered(e){const t={batch_number:e.lotNumber,date_administered:this.selected_date_,drug_id:this.currentDrug.drug.drug_id,drug_:this.currentDrug},a=be();a.setAdministeredVaccine(t),await et(this.patient),a.setTempScannedBatchNumber(null),this.dismiss()},saveDta(e){this.selected_date_=e,this.triggerChildAction()},isAlphaNumeric:e=>/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/.test(e),validateBatchNumber(){1==this.isAlphaNumeric(this.batchNumber)&&(this.is_batch_number_valid=!1),0==this.isAlphaNumeric(this.batchNumber)&&(this.is_batch_number_valid=!0)},updateBatchNumberByPassValue(e){this.batchNumber=e},displayUserNames(){const e=ye().getUser(),t=e.person.names[0].given_name,a=e.person.names[0].family_name;this.full_name=t+" "+a},childAction(){},ShowAlert(){}}}),zt={class:"modal_wrapper"},Ht={class:"lbl-ct"},Ft={class:"client_admi"},Rt={class:"client_admin_sub_x"},Et={class:"btnContent"},Wt={key:0,class:"saveBtn"},Lt={key:1,class:"saveBtn"},Gt=fe(Ot,[["render",function(e,t,a,n,i,o){const s=f("ion-col"),l=f("ion-label"),c=f("ion-row"),r=f("lotNumberList"),d=f("customDatePicker"),u=f("ion-icon"),p=f("ion-button");return y(),b("div",zt,[C(c,{style:{"margin-top":"10px"}},{default:k(()=>[C(s,{style:{"margin-left":"-3px"}},{default:k(()=>t[0]||(t[0]=[_("div",{class:"om"},"Administer Vaccine",-1)])),_:1,__:[0]}),C(s,{size:"6",style:{"text-align":"right"}},{default:k(()=>[C(l,{class:"lbl-tl",style:{"font-size":"13"}},{default:k(()=>[t[1]||(t[1]=D(" Todays Date: ")),_("span",Ht,I(e.sessionDate),1)]),_:1,__:[1]})]),_:1})]),_:1}),C(c,null,{default:k(()=>[C(l,{style:{"font-weight":"600px","font-size":"20px",margin:"10px","margin-left":"0px"}},{default:k(()=>[D(I(e.drugName),1)]),_:1})]),_:1}),H(C(c,null,{default:k(()=>[C(l,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:k(()=>t[2]||(t[2]=[D("Select Batch number"),_("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[2]})]),_:1},512),[[F,e.is_a_vaccine]]),H(_("div",null,[C(r,{action:e.childAction,retro:e.showPD,ref:"childComponentRef",onActionTriggered:e.ActionTriggered,onEmptyList:e.ShowAlert},null,8,["action","retro","onActionTriggered","onEmptyList"])],512),[[F,e.is_a_vaccine]]),_("div",Ft,[t[3]||(t[3]=_("span",{class:"client_admi_sub"},"Vaccination done by: ",-1)),_("span",Rt,I(e.full_name),1)]),e.showPD?(y(),w(d,{key:0,onDateChange:e.updateDate},null,8,["onDateChange"])):x("",!0),_("div",Et,[e.showDateBtns?(y(),b("div",Wt,[_("div",null,[C(p,{onClick:e.saveBatchWithTodayDate,class:"btnText",fill:"solid"},{default:k(()=>[t[4]||(t[4]=D(" Done today ")),C(u,{slot:"end",size:"small",icon:e.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1,__:[4]},8,["onClick"])]),t[6]||(t[6]=_("div",{style:{"margin-bottom":"20px"}},null,-1)),_("div",null,[C(p,{class:"btnText",fill:"solid",onClick:e.showCPD},{default:k(()=>[t[5]||(t[5]=D(" Done earlier ")),C(u,{slot:"end",size:"small",icon:e.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1,__:[5]},8,["onClick"])])])):x("",!0),e.showDateBtns?x("",!0):(y(),b("div",Lt,[C(c,{"justify-content-between":""},{default:k(()=>[C(s,{size:"auto"},{default:k(()=>[C(p,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:k(()=>t[7]||(t[7]=[D(" Cancel ")])),_:1,__:[7]},8,["onClick"])]),_:1}),C(s,{size:"auto",class:"ion-text-end",style:{"margin-left":"auto"}},{default:k(()=>[C(p,{onClick:e.saveBatch,class:"btnText",fill:"solid",style:{width:"130px"}},{default:k(()=>t[8]||(t[8]=[D(" Save ")])),_:1,__:[8]},8,["onClick"])]),_:1})]),_:1})]))])])}],["__scopeId","data-v-58aa351e"]]),Ut=n({components:{IonRow:R,IonItem:d,IonList:r,IonRadio:P,IonRadioGroup:O},data:()=>({reasons:[{id:1,name:"Mistake/ Wrong Entry",type:"Mistake/ Wrong Entry"},{id:2,name:"Duplicate",type:"Duplicate"},{id:3,name:"System Error",type:"System Error"}],selectedOption:{}}),computed:{...i(ge,["patient"])},async mounted(){},props:{},methods:{compareWith:(e,t)=>e.id===t.id,handleChange(e){this.selectedOption=e.detail.value},dismiss(){try{h.dismiss()}catch(e){}},checkIfSelected(){return 1==Ue.has(this.selectedOption,"name")||(xe("Select a reason!"),!1)},async voidVaccine1(){if(1==this.checkIfSelected())try{const e=be(),t=e.getVaccineToBeVoided();await tt(this.patient,t,this.selectedOption.name),De("Vaccine was successfully voided!"),e.setVaccineReload(!e.getVaccineReload()),h.dismiss({voided:!0})}catch(e){}}}}),$t={class:"saveBtn"},qt=fe(Ut,[["render",function(e,t,a,n,i,o){const s=f("ion-row"),l=f("ion-radio"),c=f("ion-item"),r=f("ion-radio-group"),d=f("ion-list"),u=f("ion-button"),p=f("ion-col");return y(),b(M,null,[C(s,{class:"centered-content"},{default:k(()=>t[1]||(t[1]=[_("div",{class:"text-container"},[_("div",null,"Do you want to void this vaccine?"),_("div",null,"Please specify reason for voiding this administered vaccine?")],-1)])),_:1,__:[1]}),C(s,null,{default:k(()=>[C(d,{style:{width:"100%"}},{default:k(()=>[C(r,{compareWith:e.compareWith,onIonChange:t[0]||(t[0]=t=>e.handleChange(t)),value:"start"},{default:k(()=>[(y(!0),b(M,null,z(e.reasons,e=>(y(),w(c,null,{default:k(()=>[C(l,{value:e},{default:k(()=>[D(I(e.name),1)]),_:2},1032,["value"])]),_:2},1024))),256))]),_:1},8,["compareWith"])]),_:1})]),_:1}),_("div",$t,[C(s,{class:"ion-justify-content-between"},{default:k(()=>[C(p,{size:"auto"},{default:k(()=>[C(u,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:k(()=>t[2]||(t[2]=[D(" Cancel ")])),_:1,__:[2]},8,["onClick"])]),_:1}),C(p,{size:"auto"},{default:k(()=>[C(u,{onClick:e.voidVaccine1,class:"btnText",fill:"solid",style:{width:"130px"}},{default:k(()=>t[3]||(t[3]=[D(" Void ")])),_:1,__:[3]},8,["onClick"])]),_:1})]),_:1})])],64)}],["__scopeId","data-v-ea212a62"]]),Yt=n({name:"Home",components:{IonContent:p,IonHeader:u,IonMenuButton:K,IonPage:J,IonTitle:l,IonToolbar:s,IonButton:j,IonCard:Z,IonCardContent:Y,IonCardHeader:q,IonCardSubtitle:$,IonCardTitle:U,IonAccordion:G,IonAccordionGroup:L,IonItem:d,IonLabel:B,IonModal:W,IonCol:E,IonRow:R,alert:Mt},data:()=>({iconsContent:ue,fowardData:{}}),computed:{},created(){},mounted(){},props:{vaccines:{type:{},default:{}},milestone_status:{type:String,default:0}},watch:{},setup(){let e=!1;return{isModalOpening:e,cleanupModal:()=>{e=!1;const t=document.querySelector(".pr_o");t&&t.remove()}}},methods:{covertToDate:e=>ve.toStandardHisDisplayFormat(e),getColorForVaccine(e){return"administered"==e.status?"success":"administered"!=e.status?"upcoming"==this.milestone_status?"medium":"current"==this.milestone_status?"success":"danger":void 0},getInjectSignForVaccine(e){return"administered"==e.status?this.iconsContent.greenInjection:"administered"!=e.status?"upcoming"==this.milestone_status?"":this.iconsContent.fadedGreenIjection:void 0},getCheckBoxForVaccine(e){return"administered"==e.status?this.iconsContent.improvedGreenTick:"administered"!=e.status?"upcoming"==this.milestone_status?"":this.iconsContent.whiteCheckbox:void 0},async openAdministerVaccineModal(e){const t=document.querySelector(".pr_o");if(this.isModalOpening||t)console.log("Modal already open or opening, current state:",{isModalOpening:this.isModalOpening,modalExists:!!t});else try{this.isModalOpening=!0;const t=be();t.setCurrentSelectedDrug(e),new ot;const a=await Ie("stock",{whereClause:{drug_id:e.drug_id}});t.setLotNumberData(a),this.checkIfAdminstredAndAskToVoid()||(0===a.length?Qe(e)?we(Gt,{class:"otherVitalsModal pr_o"}):we(Mt,{class:"otherVitalsModal pr_o"}):we(Gt,{class:"otherVitalsModal pr_o"}))}catch(a){throw console.error("Error opening modal:",a),a}finally{this.isModalOpening=!1,console.log("Modal open process completed")}},disableVaccine:e=>(null==e.status||"administered"!=e.status)&&(null!=e.can_administer&&0==e.can_administer||(null==e.can_administer||1!=e.can_administer)&&void 0),checkVaccineName:e=>e.replace(/Pentavalent/g,"Penta"),checkIfAdminstredAndAskToVoid(){const e=be(),t=e.getCurrentSelectedDrug();return"administered"==t.drug.status&&(e.setVaccineToBeVoided(t),we(qt,{class:"otherVitalsModal"},!1),!0)}}}),Zt={class:"vaccinesList"},Jt={class:"button-content"},Kt={style:{"margin-top":"20px"}},Xt=fe(Yt,[["render",function(e,t,a,n,i,o){const s=f("ion-icon"),l=f("ion-button"),c=f("ion-col"),r=f("ion-row");return y(),b("div",Zt,[C(r,null,{default:k(()=>[C(c,null,{default:k(()=>[(y(!0),b(M,null,z(e.vaccines,t=>(y(),w(l,{disabled:e.disableVaccine(t),class:"administerVac",key:t,onClick:a=>e.openAdministerVaccineModal(t),fill:"solid",color:e.getColorForVaccine(t),style:{background:"#ddeedd","border-radius":"8px",color:"#636363"}},{default:k(()=>[C(s,{slot:"start",icon:e.getInjectSignForVaccine(t)},null,8,["icon"]),_("div",Jt,[_("div",Kt,I(e.checkVaccineName(t.drug_name)),1),_("div",null,I(e.covertToDate(t.date_administered)),1)]),C(s,{slot:"end",icon:e.getCheckBoxForVaccine(t)},null,8,["icon"])]),_:2},1032,["disabled","onClick","color"]))),128))]),_:1})]),_:1})])}],["__scopeId","data-v-90bda1b0"]]),Qt=n({name:"Home",components:{IonIcon:Q,IonButton:j,customVaccine:Xt,IonHeader:u,IonTitle:l,IonFooter:X,IonCol:E,IonRow:R,IonContent:p},data:()=>({iconsContent:ue,vaccineHistory:[]}),setup:()=>({closeOutline:te,checkmarkOutline:ee}),computed:{...i(be,["vaccineReload","vaccineSchedule"])},methods:{vaccinesGivenCount(e){const t=[];return e.antigens.forEach(e=>{"administered"==e.status&&t.push(e)}),t.length},dismiss(){h.dismiss()}}}),ea={style:{color:"#016302"}},ta={style:{color:"#316CBA","margin-left":"10%"}},aa=fe(Qt,[["render",function(e,t,a,n,i,o){const s=f("ion-title"),l=f("ion-header"),c=f("ion-icon"),r=f("row"),d=f("customVaccine"),u=f("ion-content"),p=f("ion-button"),h=f("ion-col"),m=f("ion-row"),g=f("ion-footer");return y(),b(M,null,[C(l,null,{default:k(()=>[C(s,{style:{"margin-bottom":"20px"},class:"modalTitle OtherVitalsTitle"},{default:k(()=>t[1]||(t[1]=[D("Vaccination History")])),_:1,__:[1]})]),_:1}),C(u,{fullscreen:!0,class:"ion-padding"},{default:k(()=>[(y(!0),b(M,null,z(e.vaccineSchedule.vaccine_schedule,(a,n)=>(y(),b("div",{class:"mod-ls",key:n},[C(r,null,{default:k(()=>[C(c,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),_("span",null,[t[2]||(t[2]=D(" at ")),_("span",ea,I(a.age),1)]),_("span",ta,I(e.vaccinesGivenCount(a))+"/"+I(a.antigens.length)+" vaccine(s) given",1)]),_:2},1024),C(r,null,{default:k(()=>[C(d,{vaccines:a.antigens,milestone_status:a.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),C(g,{collapse:"fade",class:"ion-no-border"},{default:k(()=>[C(m,null,{default:k(()=>[C(h,null,{default:k(()=>[C(p,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:t[0]||(t[0]=t=>e.dismiss())},{default:k(()=>t[3]||(t[3]=[D(" Cancel ")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1})],64)}],["__scopeId","data-v-6f86c512"]]),na=n({mixins:[st],components:{IonContent:p,IonHeader:u,IonItem:d,IonList:r,IonMenu:c,IonTitle:l,IonToolbar:s,IonInput:o,BasicInputField:pe,BasicForm:Ze,PreviousVitals:Ke,customDatePicker:Je,DynamicButton:ke,IonFooter:X},data:()=>({iconsContent:ue,BMI:{},BPStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1},showPD:!1,initialSeriousData:[],initialFirstDecisionData:[],initialOutcomeData:[]}),props:{protectedStatus:String,lastVaccinesGiven:Array},watch:{personInformation:{async handler(){await this.setRelationShip()},deep:!0}},computed:{...i(ge,["patient"]),...i(lt,["changeGuardianInfo","vaccineAdverseEffects","protectedAtBirth","serious","outcome","firstDecision"]),guardianFirstname(){return me(this.changeGuardianInfo,"guardianFirstname","value")},guardianLastname(){return me(this.changeGuardianInfo,"guardianLastname","value")},guardianMiddleName(){return me(this.changeGuardianInfo,"guardianMiddleName","value")},guardianPhoneNumber(){return me(this.changeGuardianInfo,"guardianPhoneNumber","value")},relationship(){return me(this.changeGuardianInfo,"relationship","value")}},async mounted(){await this.setupData()},setup:()=>({checkmark:v,pulseOutline:g}),methods:{async setupData(){const e=lt();this.initialSeriousData=e.getInitialSerious(),this.initialFirstDecisionData=e.getInitialFirstDecision(),this.initialOutcomeData=e.getInitialOutcome();const t=await ut.getRelationships(this.patient.patientID);var a,n,i,o,s,l,c;(null==t?void 0:t.length)>0&&(Se(this.changeGuardianInfo,"guardianNationalID","value",this.setAttribute("Regiment ID",null===(a=t[0])||void 0===a?void 0:a.relation)),Se(this.changeGuardianInfo,"guardianFirstname","value",null===(n=t[0])||void 0===n||null===(n=n.relation.names[0])||void 0===n?void 0:n.given_name),Se(this.changeGuardianInfo,"guardianLastname","value",null===(i=t[0])||void 0===i||null===(i=i.relation.names[0])||void 0===i?void 0:i.family_name),Se(this.changeGuardianInfo,"guardianMiddleName","value",null===(o=t[0])||void 0===o||null===(o=o.relation.names[0])||void 0===o?void 0:o.middle_name),Se(this.changeGuardianInfo,"guardianPhoneNumber","value",this.setAttribute("Cell Phone Number",null===(s=t[0])||void 0===s?void 0:s.relation)),Se(this.changeGuardianInfo,"relationship","value",{id:null===(l=t[0])||void 0===l?void 0:l.type.relationship_type_id,name:null===(c=t[0])||void 0===c?void 0:c.type.b_is_to_a}),await this.setRelationShip()),this.resetData()},async setRelationShip(){this.gender?(await this.getRelationships(),Se(this.changeGuardianInfo,"relationship","displayNone",!1),Se(this.changeGuardianInfo,"relationship","multiSelectData",this.relationships)):Se(this.changeGuardianInfo,"relationship","displayNone",!0)},setAttribute(e,t){if(!t||0===Object.keys(t).length)return;let a=t.person_attributes.find(t=>t.type.name==e);return null==a?void 0:a.value},resetData(){const e=lt();e.setProtectedAtBirth(e.getInitialProtectedAtBirth()),e.setVaccineAdverseEffects(e.getInitialVaccineAdverseEffects())},async createGuardian(){const e=await this.guardianData();if(dt(this.changeGuardianInfo)){const t=new rt;await t.registerGuardian(e);const a=t.getPersonID(),n=me(this.changeGuardianInfo,"relationship","value").id;return n&&await ct.createRelation(this.patient.patientID,a,n),De("Guarding information save successfully",3e3),!0}return xe("Guarding Information not save",3e3),!1},async saveData(){const e=await this.createGuardian(),t=await this.saveVaccineAdverseEffects();e&&t&&h.dismiss()},async saveVaccineAdverseEffects(){if(this.patient.patientID){const e=me(this.outcome,"Date of death","value")||ve.sessionDate(),t=await this.formatCheckBoxData(this.serious,ve.sessionDate(),this.lastVaccinesGiven),a=await this.formatRadioButtonData(this.outcome,e,this.lastVaccinesGiven),n=await this.formatCheckBoxData(this.vaccineAdverseEffects,ve.sessionDate(),this.lastVaccinesGiven),i=me(this.firstDecision,"Investigation needed","value");let o=[];i&&(o=[{concept_id:11887,value_text:i,obs_datetime:ve.sessionDate()}]);const s=[...t,...a,...n,...o].filter(e=>void 0!==e);return _e.getUserID(),n.length>0?(console.log("ðŸš€ ~ saveVaccineAdverseEffects ~ result:",s),!0):(xe("Vaccine adverse effects not saved",1500),!1)}},formatCheckBoxData:async(e,t=Ce.getSessionDate(),a)=>Array.isArray(e)?(await Promise.all(e.map(async n=>{var i;if(null==n||null===(i=n.checkboxBtnContent)||void 0===i||null===(i=i.data)||void 0===i||!i.length)return[];const o=n.checkboxBtnContent.data.map(async i=>{if(null==i||!i.checked||null!=i&&i.buildConceptIgnore)return null;try{const o=await Ce.getConceptID(i.value,!0),s=await Ce.getConceptID(n.checkboxBtnContent.header.name,!0),l=me(e,i.name+" date","value");if(t=l||t,!o||!s)return null;const c={concept_id:s,value_coded:o,obs_datetime:t};if(a.length>0){const e=a.map(e=>({concept_id:o,value_coded:e.drug_id,obs_datetime:t}));return{...c,child:e}}return c}catch(o){return console.error("Error processing checkbox data:",o),null}});return(await Promise.all(o)).filter(Boolean)}))).flat().filter(Boolean):[],async formatRadioButtonData(e,t=Ce.getSessionDate(),a){const n=e.map(async e=>{if(e&&e.radioBtnContent&&e.radioBtnContent.header&&e.radioBtnContent.header.selectedValue){const n=await Ce.getConceptID(e.radioBtnContent.header.selectedValue,!0),i=await Ce.getConceptID(e.radioBtnContent.header.name,!0),o=t||Ce.getSessionDate(),s=a.map(e=>({concept_id:n,value_coded:e.drug_id,obs_datetime:o}));return a?{concept_id:i,value_coded:n,obs_datetime:o,child:s}:{concept_id:i,value_coded:n,obs_datetime:o}}return null});return(await Promise.all(n)).filter(e=>null!==e)},async guardianData(){return{person_id:this.patient.patientID,given_name:this.guardianFirstname,family_name:this.guardianLastname,middle_name:this.guardianMiddleName,gender:"",birthdate:"",cell_phone_number:this.guardianPhoneNumber,birthdate_estimated:!1,home_district:"",home_traditional_authority:"",home_village:"",current_district:"",current_traditional_authority:"",current_village:"",landmark:"",occupation:"",facility_name:"",patient_type:"",national_id:me(this.changeGuardianInfo,"guardianNationalID","value")}},async handleInputData(e){},dismiss(){h.dismiss()}}}),ia={class:""},oa={class:"ion-padding",slot:"content",style:{"padding-bottom":"200px"}},sa={class:""},la={class:"ion-padding",slot:"content"},ca={slot:"content"},ra={slot:"content"},da={slot:"content"},ua={slot:"content"},pa={class:"ion-padding",slot:"content",style:{"padding-bottom":"120px"}},ha=fe(na,[["render",function(e,t,a,n,i,o){const s=f("ion-title"),l=f("ion-icon"),c=f("ion-header"),r=f("ion-label"),d=f("ion-item"),u=f("basic-form"),p=f("ion-accordion"),h=f("ion-accordion-group"),m=f("ion-content"),g=f("DynamicButton"),v=f("ion-col"),I=f("ion-row"),S=f("ion-footer");return y(),b(M,null,[C(c,{style:{display:"flex","justify-content":"space-between"}},{default:k(()=>[C(s,{class:"modalTitle"},{default:k(()=>t[2]||(t[2]=[D("Follow up visits")])),_:1,__:[2]}),C(l,{onClick:t[0]||(t[0]=t=>e.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:e.iconsContent.cancel},null,8,["icon"])]),_:1}),C(m,{fullscreen:!0,class:"ion-padding",style:{"--background":"#fff"}},{default:k(()=>[_("div",ia,[C(h,{ref:"accordionGroup",class:""},{default:k(()=>[C(p,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:k(()=>[C(d,{slot:"header",color:"light"},{default:k(()=>[C(r,{class:"previousLabel"},{default:k(()=>t[3]||(t[3]=[D("Change Guardian")])),_:1,__:[3]})]),_:1}),_("div",oa,[_("div",sa,[C(u,{contentData:e.changeGuardianInfo,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])])]),_:1}),C(p,{value:"second","toggle-icon-slot":"start",class:"custom_card"},{default:k(()=>[C(d,{slot:"header",color:"light"},{default:k(()=>[C(r,{class:"previousLabel"},{default:k(()=>t[4]||(t[4]=[D("Vaccine adverse effects")])),_:1,__:[4]})]),_:1}),_("div",la,[_("div",null,[_("div",ca,[C(u,{contentData:e.vaccineAdverseEffects,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])]),_("div",null,[_("div",ra,[C(u,{contentData:e.serious,initialData:e.initialSeriousData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])]),_("div",null,[_("div",da,[C(u,{contentData:e.outcome,initialData:e.initialOutcomeData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])]),_("div",null,[_("div",ua,[C(u,{contentData:e.firstDecision,initialData:e.initialFirstDecisionData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])])])]),_:1}),"Yes"!=e.protectedStatus?(y(),w(p,{key:0,value:"third","toggle-icon-slot":"start",class:"custom_card"},{default:k(()=>[C(d,{slot:"header",color:"light"},{default:k(()=>[C(r,{class:"previousLabel"},{default:k(()=>t[5]||(t[5]=[D("Child protected at birth")])),_:1,__:[5]})]),_:1}),_("div",pa,[C(u,{contentData:e.protectedAtBirth,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])]),_:1})):x("",!0)]),_:1},512)])]),_:1}),C(S,{collapse:"fade",class:"ion-no-border"},{default:k(()=>[C(I,null,{default:k(()=>[C(v,null,{default:k(()=>[C(g,{onClick:t[1]||(t[1]=t=>e.saveData()),name:"Save",fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})],64)}],["__scopeId","data-v-b4532903"]]),ma=n({name:"Home",components:{IonContent:p,IonHeader:u,IonPage:J,IonTitle:l,IonToolbar:s,BasicForm:Ze,customDatePicker:Je},data:()=>({popoverOpen:!1,iconContent:ue,event:null,BMI:"",showPD:!1,vitals_date:ve.toStandardHisFormat(ve.sessionDate()),formOpen:!0,checkUnderSixWeeks:!1,showDateBtns:!0}),computed:{...i(ge,["patient"]),...i(Te,["vitalsWeightHeight"])},watch:{patient:{async handler(){this.checkAge()}}},mounted(){this.checkAge()},setup(){},methods:{checkAge(){var e,t;Ue.isEmpty(null===(e=this.patient)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)||(this.checkUnderSixWeeks=ve.dateDiffInDays(ve.sessionDate(),null===(t=this.patient)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.birthdate)<42,this.controlHeight())},nav(e){this.$router.push(e)},formatBirthdate(){var e;return ve.getBirthdateAge(null===(e=this.patient)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)},controlHeight(){this.checkUnderSixWeeks?(Se(this.vitalsWeightHeight,"Height (cm)","inputHeader","Height"),Se(this.vitalsWeightHeight,"Height (cm)","inputDisplayNone",!0)):Se(this.vitalsWeightHeight,"Height (cm)","inputDisplayNone",!1)},async validaterowData(e){const t=_e.getUserID(),a=new Le(this.patient.patientID,t),n=me(this.vitalsWeightHeight,"weight","value"),i=me(this.vitalsWeightHeight,"Height (cm)","value"),o=a.validator({inputHeader:"Height*",value:i}),s=a.validator({inputHeader:"Weight*",value:n});Se(this.vitalsWeightHeight,"Height (cm)","alertsErrorMassage",o&&i?o.flat(1/0)[0]:""),Se(this.vitalsWeightHeight,"weight","alertsErrorMassage",s&&n?s.flat(1/0)[0]:""),this.setBMI(n,i)},async saveVitals(){const e=_e.getUserID(),t=new Le(this.patient.patientID,e),a=me(this.vitalsWeightHeight,"weight","value"),n=me(this.vitalsWeightHeight,"Height (cm)","value");let i=null;this.checkUnderSixWeeks||(i=t.validator({inputHeader:"Height*",value:n}));const o=t.validator({inputHeader:"Weight*",value:a}),s=await Xe(this.vitalsWeightHeight);if(s.length>0&&null==o&&null==i){const e=JSON.parse(JSON.stringify(this.patient));let t=null==e?void 0:e.vitals;t.unsaved=[...t.unsaved,...s],await he(e),De("Vitals saved successful"),this.cleanInputFields()}else xe("Please complete the form")},cleanInputFields(){Se(this.vitalsWeightHeight,"weight","value",""),Se(this.vitalsWeightHeight,"Height (cm)","value",""),this.dismiss()},dismiss(){h.dismiss()},async setBMI(e,t){var a,n,i,o;null!==(a=this.patient)&&void 0!==a&&null!==(a=a.personInformation)&&void 0!==a&&a.gender&&null!==(n=this.patient)&&void 0!==n&&null!==(n=n.personInformation)&&void 0!==n&&n.birthdate&&(this.BMI=await Ve.getBMI(parseInt(e),parseInt(t),null===(i=this.patient)||void 0===i||null===(i=i.personInformation)||void 0===i?void 0:i.gender,ve.calculateAge(null===(o=this.patient)||void 0===o||null===(o=o.personInformation)||void 0===o?void 0:o.birthdate,ve.sessionDate()))),this.updateBMI()},async updateBMI(){var e,t,a,n,i,o;const s=null!==(e=null===(t=this.BMI)||void 0===t?void 0:t.color)&&void 0!==e?e:[],l=this.vitalsWeightHeight[0].alerts[0];l.icon=Ve.iconBMI(s),l.backgroundColor=s[0],l.textColor=s[1],l.index="BMI "+(null!==(a=null===(n=this.BMI)||void 0===n?void 0:n.index)&&void 0!==a?a:""),l.value=null!==(i=null===(o=this.BMI)||void 0===o?void 0:o.result)&&void 0!==i?i:""},showCPD(){this.showPD=!0,this.showDateBtns=!1},updateDate(e){this.vitals_date=ve.toStandardHisFormat(e)}}}),ga={key:0,class:"pim-cls-1 modal_wrapper"},va={class:"center text_12"},fa={class:"btnContent"},ba={key:0,class:"saveBtn"},xa={key:1,class:"saveBtn"},ya=fe(ma,[["render",function(e,t,a,n,i,o){const s=f("BasicForm"),l=f("ion-row"),c=f("customDatePicker"),r=f("ion-icon"),d=f("ion-button"),u=f("ion-col");return e.formOpen?(y(),b("div",ga,[t[7]||(t[7]=_("div",{class:"OtherVitalsHeading"},[_("div",{class:"OtherVitalsTitle"},"Add Weight/Height")],-1)),_("div",null,[_("div",va,[C(l,null,{default:k(()=>[C(s,{contentData:e.vitalsWeightHeight,"onUpdate:inputValue":t[0]||(t[0]=t=>e.validaterowData(t))},null,8,["contentData"])]),_:1})])]),e.showPD?(y(),w(c,{key:0,onDateChange:e.updateDate},null,8,["onDateChange"])):x("",!0),_("div",fa,[e.showDateBtns?(y(),b("div",ba,[_("div",null,[C(d,{class:"btnText",fill:"solid",onClick:t[1]||(t[1]=t=>e.saveVitals())},{default:k(()=>[t[3]||(t[3]=D(" Done today ")),C(r,{slot:"end",size:"small",icon:e.iconContent.calenderwithPlus},null,8,["icon"])]),_:1,__:[3]})]),_("div",null,[C(d,{class:"btnText",fill:"solid",onClick:e.showCPD},{default:k(()=>[t[4]||(t[4]=D(" Done earlier ")),C(r,{slot:"end",size:"small",icon:e.iconContent.calenderWithPenEdit},null,8,["icon"])]),_:1,__:[4]},8,["onClick"])])])):x("",!0),e.showDateBtns?x("",!0):(y(),b("div",xa,[C(l,null,{default:k(()=>[C(u,null,{default:k(()=>[C(d,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:k(()=>t[5]||(t[5]=[D(" Cancel ")])),_:1,__:[5]},8,["onClick"])]),_:1}),C(u,null,{default:k(()=>[C(d,{onClick:t[2]||(t[2]=t=>e.saveVitals()),class:"btnText",fill:"solid",style:{width:"130px"}},{default:k(()=>t[6]||(t[6]=[D(" save ")])),_:1,__:[6]})]),_:1})]),_:1})]))])])):x("",!0)}],["__scopeId","data-v-7b242731"]]),_a=n({components:{IonContent:p,IonHeader:u,IonItem:d,IonList:r,IonMenu:c,IonTitle:l,IonToolbar:s,IonInput:o,BasicInputField:pe,BasicForm:Ze,PreviousVitals:Ke,customDatePicker:Je,IonCol:E,IonRow:R,VueMultiselect:ae,IonLabel:B,lotNumberList:Pt},data(){const e=V(0),t=V([]);return{iconsContent:ue,showPD:!1,batchNumber:"",vaccineName:"",currentDrugOb:{},comp_key:e,otherVaccinesList:t,is_batch_number_valid:!1,vaccineDate:"",is_vaccine_name_valid:!1,drugErrMsg:"",batch_number_error_message:"Enter a valid batch number",vaccine_name_error_message:"Enter a valid valid vaccine name",sessionDate:ve.toStandardHisDisplayFormat(_e.getSessionDate()),InnerActionBtnPropeties:{name:"Scan",show:!0,fn:()=>{we(At,{class:"otherVitalsModal qr_code_modal"},!1)},icon:"",show_icon:!1},showDateBtns:!0,selected_date_:"",show_select_batch:!1,skip_validation:!1,antigens:t}},computed:{...i(pt,["administerOtherVaccine"]),...i(be,["tempScannedBatchNumber","vaccineSchedule"]),...i(ge,["patient"])},async mounted(){this.vaccineSchedule.vaccine_schedule.forEach(e=>{this.antigens.push(...e.antigens)})},watch:{batchNumber:{handler(){this.validateBatchNumber()},deep:!0},tempScannedBatchNumber:{handler(){null!=this.tempScannedBatchNumber&&(this.batchNumber=this.tempScannedBatchNumber.text,this.validateBatchNumber())}},vaccineName:{handler(){this.validateVaccineName()}}},setup(){const e=V(null);return{childComponentRef:e,triggerChildAction:()=>{e.value&&e.value.performAction()}}},methods:{showCPD(){this.showPD=!0,this.showDateBtns=!1},updateBatchNumber(e){var t;const a=e.target.value;this.batchNumber=a||(null===(t=this.tempScannedBatchNumber)||void 0===t?void 0:t.text)||""},saveBatchWithTodayDate(){let e=_e.getSessionDate();this.saveDta(e)},dismiss(){h.dismiss()},saveBatch(){let e;e=1==Ue.isEmpty(this.vaccineDate)?_e.getSessionDate():this.vaccineDate,this.saveDta(e)},validateVaccineName(){return 1==Ue.isEmpty(this.vaccineName)?(this.is_vaccine_name_valid=!0,!1):0==Ue.isEmpty(this.vaccineName)?(this.is_vaccine_name_valid=!1,!0):void 0},updateVaccineName(e){this.currentDrugOb=e,console.log(this.currentDrugOb),be().setCurrentSelectedDrug(e),this.pullLotNumbersForVaccine(this.currentDrugOb)},async pullLotNumbersForVaccine(e){this.show_select_batch=!1;const t=be(),a=new ot,n=await a.getDrugBatches(e.drug_id);t.setLotNumberData(n),0==n.length&&(0==Qe(e)&&we(Mt,{class:"otherVitalsModal"}),1==Qe(e)&&(this.show_select_batch=!1,this.skip_validation=!0)),n.length>0&&(this.comp_key=this.comp_key+1,this.show_select_batch=!0)},isAlphaNumeric:e=>/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/.test(e),validateBatchNumber(){1==this.isAlphaNumeric(this.batchNumber)&&(this.is_batch_number_valid=!1),0==this.isAlphaNumeric(this.batchNumber)&&(this.is_batch_number_valid=!0)},updateBatchNumberByPassValue(e){this.batchNumber=e},ActionTriggered(e){const t={batch_number:e.lotNumber,date_administered:this.selected_date_,drug_id:this.currentDrugOb.drug_id,drug_:this.currentDrugOb},a=be();a.setAdministeredVaccine(t),et(this.patient),a.setTempScannedBatchNumber(null),this.dismiss()},saveDta(e){1==this.validateVaccineName()&&(this.selected_date_=e,this.triggerChildAction(),0==this.show_select_batch&&0==this.skip_validation&&Be("Please Update Stock for Selected Vaccine"))},childAction(){}}}),wa={class:"modal_wrapper"},Da={class:"lbl-ct"},Ia={style:{"margin-top":"30px"}},Ca={class:"btnContent"},ka={key:0,class:"saveBtn"},Sa={key:1,class:"saveBtn"},Va=fe(_a,[["render",function(e,t,a,n,i,o){const s=f("ion-col"),l=f("ion-label"),c=f("ion-row"),r=f("VueMultiselect"),d=f("lotNumberList"),u=f("customDatePicker"),p=f("ion-icon"),h=f("ion-button");return y(),b("div",wa,[C(c,{style:{"margin-top":"10px"}},{default:k(()=>[C(s,{style:{"margin-left":"-3px"}},{default:k(()=>t[3]||(t[3]=[_("div",{class:"om"},"Add Other Vaccine",-1)])),_:1,__:[3]}),C(s,{size:"6",style:{"text-align":"right"}},{default:k(()=>[C(l,{class:"lbl-tl",style:{"font-size":"13"}},{default:k(()=>[t[4]||(t[4]=D(" Todays Date: ")),_("span",Da,I(e.sessionDate),1)]),_:1,__:[4]})]),_:1})]),_:1}),_("div",Ia,[C(c,null,{default:k(()=>[C(l,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:k(()=>t[5]||(t[5]=[D("Vaccine name"),_("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[5]})]),_:1}),C(r,{modelValue:e.vaccineName,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.vaccineName=t),t[1]||(t[1]=t=>e.updateVaccineName(t))],multiple:!1,taggable:!1,"hide-selected":!1,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"select vaccine",placeholder:"select vaccine",selectLabel:"",label:"drug_name",searchable:!0,onSearchChange:t[2]||(t[2]=t=>e.$emit("search-change",t)),"track-by":"drug_id",options:e.otherVaccinesList},null,8,["modelValue","options"]),_("div",null,[e.is_vaccine_name_valid?(y(),w(l,{key:0,style:{padding:"3%"},class:"error-label"},{default:k(()=>[D(I(e.vaccine_name_error_message),1)]),_:1})):x("",!0)])]),H(C(c,null,{default:k(()=>[C(l,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:k(()=>t[6]||(t[6]=[D("Batch numbers"),_("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[6]})]),_:1},512),[[F,e.show_select_batch]]),H(_("div",null,[(y(),w(d,{action:e.childAction,retro:e.showPD,ref:"childComponentRef",onActionTriggered:e.ActionTriggered,key:e.comp_key},null,8,["action","retro","onActionTriggered"]))],512),[[F,e.show_select_batch]]),e.showPD?(y(),w(u,{key:0})):x("",!0),_("div",Ca,[e.showDateBtns?(y(),b("div",ka,[_("div",null,[C(h,{onClick:e.saveBatchWithTodayDate,class:"btnText",fill:"solid"},{default:k(()=>[t[7]||(t[7]=D(" Done today ")),C(p,{slot:"end",size:"small",icon:e.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1,__:[7]},8,["onClick"])]),t[9]||(t[9]=_("div",{style:{"margin-bottom":"20px"}},null,-1)),_("div",null,[C(h,{class:"btnText",fill:"solid",onClick:e.showCPD},{default:k(()=>[t[8]||(t[8]=D(" Done earlier ")),C(p,{slot:"end",size:"small",icon:e.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1,__:[8]},8,["onClick"])])])):x("",!0),e.showDateBtns?x("",!0):(y(),b("div",Sa,[C(c,{class:"ion-justify-content-between"},{default:k(()=>[C(s,{size:"auto"},{default:k(()=>[C(h,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:k(()=>t[10]||(t[10]=[D(" Cancel ")])),_:1,__:[10]},8,["onClick"])]),_:1}),C(s,{size:"auto"},{default:k(()=>[C(h,{onClick:e.saveBatch,class:"btnText",fill:"solid",style:{width:"130px"}},{default:k(()=>t[11]||(t[11]=[D(" Save ")])),_:1,__:[11]},8,["onClick"])]),_:1})]),_:1})]))])])}],["__scopeId","data-v-eb04f444"]]),Ta=n({name:"xxxComponent",components:{Carousel:se,Slide:oe,Pagination:ie,Navigation:ne,customVaccine:Xt,IonButton:j,IonCol:E,IonRow:R,IonLabel:B},data:()=>({vaccine_schArray:[],vaccineSchudulesCount:0,milestones:[],iconsContent:ue,showCurrentMilestoneAlert:!1,landingSlide:0,msg:"Upcoming Vaccines",current_milestone:"",componentKey:0}),computed:{...i(be,["vaccineReload"]),...i(ge,["patient"])},async mounted(){await this.loadVaccineSchedule()},watch:{vaccineReload:{async handler(){await this.loadVaccineSchedule()},deep:!0},patient:{async handler(){await this.loadVaccineSchedule()},deep:!0},vaccine_schArray:{handler(){this.reloadVaccines()}}},methods:{openAdministerOtherVaccineModal(){we(Va,{class:"otherVitalsModal"})},async loadVaccineSchedule(){var e,t,a,n,i;await this.setAppointmentDate();const o=this.patient.vaccineSchedule,s=be();s.setVaccineSchedule(o),s.setLastVaccinesGiven([]),this.vaccineSchudulesCount=null===(e=s.getVaccineSchedule())||void 0===e||null===(e=e.vaccine_schedule)||void 0===e?void 0:e.length,s.resetMissedVaccineSchedules(),this.vaccine_schArray=[],this.vaccine_schArray.push(null===(t=s.getVaccineSchedule())||void 0===t?void 0:t.vaccine_schedule),null===(a=s.getVaccineSchedule())||void 0===a||null===(a=a.vaccine_schedule)||void 0===a||a.forEach(e=>{this.findMissingVaccines(e),this.findPreviouslyAdministeredVaccineSchedule(e),this.handleSchedule(e);const t={visit:e.visit,age:e.age};this.milestones=this.appendUniqueObject(this.milestones,t)});let l=!1;null===(n=s.getVaccineSchedule())||void 0===n||null===(n=n.vaccine_schedule)||void 0===n||n.forEach(e=>{l||1!=this.findSingleUpcomingMilestone(e)||(l=!0)}),null===(i=s.getVaccineSchedule())||void 0===i||null===(i=i.vaccine_schedule)||void 0===i||i.forEach(e=>{this.findCurrentMilestone(e)})},setSB(e){const t=be();t.setCurrentMilestoneToAdminister({currentMilestone:e.age}),this.landingSlide=e.visit-1,this.current_milestone=e.age,t.setCurrentMilestone(e.age)},handleSchedule(e){"upcoming"==e.milestone_status?(be().setCurrentSchedFound(!1),this.msg="Upcoming Vaccines",this.showCurrentMilestoneAlert=!0,this.setSB(e)):(this.setSB(e),be().setCurrentSchedFound(!1))},findSingleUpcomingMilestone(e){return"upcoming"==e.milestone_status&&(this.setSB(e),!0)},findCurrentMilestone(e){"current"==e.milestone_status&&(this.msg="Vaccines due today",be().setCurrentSchedFound(!0),this.showCurrentMilestoneAlert=!0,this.setSB(e))},slideEvent(e){const t=be(),a=t.getCurrentMilestoneToAdminister();this.milestones.forEach(a=>{a.visit-1==e.currentSlideIndex&&(t.setCurrentMilestone(a.age),this.current_milestone=a.age)});const n=t.getCurrentMilestone();if(n==a.currentMilestone)return 0==t.getCurrentSchedFound()&&(this.msg="Upcoming Vaccines"),1==t.getCurrentSchedFound()&&(this.msg="Vaccines due today"),void(this.showCurrentMilestoneAlert=!0);n.age!=a.currentMilestone&&(this.showCurrentMilestoneAlert=!1)},appendUniqueObject:(e,t)=>(e.some(e=>e.visit===t.visit&&e.age===t.age)||e.push(t),e),isListEmpty:e=>e.length>0||0!=e.length&&void 0,findMissingVaccines(e){const t={age:e.age,antigens:[]};"passed"==e.milestone_status&&e.antigens.forEach(e=>{"pending"==e.status&&t.antigens.push(e)});const a=be();t.antigens.length>0&&a.setMissedVaccineSchedules(t)},findPreviouslyAdministeredVaccineSchedule(e){const t=[];e.antigens.forEach(e=>{"administered"==e.status&&t.push(e)}),t.length>0&&be().setLastVaccinesGiven(t)},reloadVaccines(){this.componentKey+=1},openNextVaccineAppoinment(){we(nt,{class:"otherVitalsModal"},!1)},async setAppointmentDate(){const e=be(),t=new at,a=await t.getNextAppointment();null!=a&&a.next_appointment_date&&e.setNextAppointMentDate(a.next_appointment_date)}}}),Ba={key:0,class:"alert_banner"},Aa={key:1,class:"alert_banner",style:{background:"inherit"}},ja={class:"container"},Ma={class:"center-content"},Na={class:"centerBtns"},Pa={class:"otherVaccine center-content"},Oa={class:"centerBtns"},za=fe(Ta,[["render",function(e,t,a,n,i,o){const s=f("apan"),l=f("customVaccine"),c=f("ion-button"),r=f("ion-row"),d=f("slide"),u=f("navigation"),p=f("pagination"),h=f("carousel");return y(),b(M,null,[e.showCurrentMilestoneAlert?(y(),b("div",Ba,[C(s,null,{default:k(()=>[D(I(e.msg),1)]),_:1})])):x("",!0),e.showCurrentMilestoneAlert?x("",!0):(y(),b("div",Aa)),e.vaccineSchudulesCount>0?(y(),w(h,{key:2,"items-to-show":1,modelValue:e.landingSlide,onSlideEnd:e.slideEvent},{addons:k(()=>[C(u),C(p)]),default:k(()=>[(y(!0),b(M,null,z(e.vaccineSchudulesCount,(a,n)=>(y(),w(d,{key:a},{default:k(()=>[C(r,{class:""},{default:k(()=>[_("div",ja,[(y(),w(l,{vaccines:e.vaccine_schArray[0][n].antigens,milestone_status:e.vaccine_schArray[0][n].milestone_status,key:e.componentKey},null,8,["vaccines","milestone_status"]))]),C(r,{class:"bottom-row"},{default:k(()=>[_("div",Ma,[_("div",Na,[C(c,{onClick:t[0]||(t[0]=t=>e.openNextVaccineAppoinment()),class:"btnText",fill:"solid"},{default:k(()=>t[1]||(t[1]=[D("Set Next Appointment Date")])),_:1,__:[1]})])])]),_:1})]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue","onSlideEnd"])):x("",!0),C(r,{class:"bottom-row"},{default:k(()=>[_("div",Pa,[_("div",Oa,[C(c,{onClick:e.openAdministerOtherVaccineModal,class:"btnText",fill:"solid"},{default:k(()=>t[2]||(t[2]=[D(" Add Other Vaccines ")])),_:1,__:[2]},8,["onClick"])])])]),_:1})],64)}]]),Ha=n({name:"Home",components:{IonHeader:u,IonMenuButton:K,IonPage:J,IonTitle:l,IonToolbar:s,IonButton:j,IonCard:Z,IonCardContent:Y,IonCardHeader:q,IonCardSubtitle:$,IonCardTitle:U,IonAccordion:G,IonAccordionGroup:L,IonItem:d,IonLabel:B,IonModal:W,IonRow:R,customVaccine:Xt,IonCol:E,IonFooter:X,IonContent:p},data:()=>({iconsContent:ue}),computed:{...i(be,["currentMilestone","missedVaccineSchedules"])},methods:{vaccinesGivenCount(e){const t=[];return e.antigens.forEach(e=>{"administered"==e.status&&t.push(e)}),t.length},dismiss(){h.dismiss()}}}),Fa={style:{color:"#016302"}},Ra={style:{color:"#316CBA","margin-left":"10%"}},Ea=fe(Ha,[["render",function(e,t,a,n,i,o){const s=f("ion-title"),l=f("ion-header"),c=f("ion-icon"),r=f("row"),d=f("customVaccine"),u=f("ion-content"),p=f("ion-button"),h=f("ion-col"),m=f("ion-row"),g=f("ion-footer");return y(),b(M,null,[C(l,null,{default:k(()=>[C(s,{style:{"margin-bottom":"20px"},class:"modalTitle"},{default:k(()=>t[1]||(t[1]=[D("Missed Vaccines")])),_:1,__:[1]})]),_:1}),C(u,{fullscreen:!0,class:"ion-padding"},{default:k(()=>[(y(!0),b(M,null,z(e.missedVaccineSchedules,(a,n)=>(y(),b("div",{key:n},[C(r,{style:{width:"90%"}},{default:k(()=>[C(c,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),_("span",null,[t[2]||(t[2]=D(" at ")),_("span",Fa,I(a.age),1)]),_("span",Ra,I(e.vaccinesGivenCount(a))+"/"+I(a.antigens.length)+" vaccine(s) given",1)]),_:2},1024),C(r,{style:{"text-align":"center"},class:"mod-ls"},{default:k(()=>[C(d,{vaccines:a.antigens,milestone_status:a.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),C(g,{collapse:"fade",class:"ion-no-border"},{default:k(()=>[C(m,null,{default:k(()=>[C(h,null,{default:k(()=>[C(p,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:t[0]||(t[0]=t=>e.dismiss())},{default:k(()=>t[3]||(t[3]=[D(" Cancel ")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1})],64)}],["__scopeId","data-v-3ba5e9df"]]),Wa=n({name:"Menu",data:()=>({isMobile:!1,visits:[],event:null,popoverOpen:!1,program:null}),mounted(){},computed:{...i(ge,["patient"])},methods:{openPopover(e){this.event=e,this.popoverOpen=!0},openPIM(){we(ht,{class:"otherVitalsModal largeModal"})},openOutCome(){we(mt,{class:"otherVitalsModal largeModal"})},async printVisitSummary(){if(this.visits=await je.getPatientVisits(this.patient.patientID,!1),this.visits.length)return new Ae(this.patient.patientID).printVisitSummaryLbl(this.visits[0]);xe("No visits available")},printID(){new Ae(this.patient.patientID).printNidLbl()},formatCurrentAddress(e){var t,a,n;return[null==e||null===(t=e.personInformation)||void 0===t?void 0:t.current_district,null==e||null===(a=e.personInformation)||void 0===a?void 0:a.current_traditional_authority,null==e||null===(n=e.personInformation)||void 0===n?void 0:n.current_village].filter(Boolean).join(",")}}}),La=n({mixins:[Wa],name:"Home",components:{IonContent:p,IonHeader:u,IonMenuButton:K,IonPage:J,IonTitle:l,IonToolbar:s,Toolbar:Ne,ToolbarSearch:Me,DemographicBar:Fe,IonButton:j,IonCard:Z,IonCardContent:Y,IonCardHeader:q,IonCardSubtitle:$,IonCardTitle:U,IonAccordion:G,IonAccordionGroup:L,IonItem:d,IonLabel:B,IonModal:W,Stepper:We,DynamicButton:ke,WeightHeightChart:Ye,PreviousVitals:Ke,customSlider:za,IonRow:R,customVaccine:Xt},data:()=>({wizardData:[],StepperData:[],isOpen:!1,iconsContent:ue,current_milestone:"",checkUnderSixWeeks:!1,unprotected_at_birth:"",protectedStatus:"",todays_date:ve.toStandardHisDisplayFormat(_e.getSessionDate()),lastVaccine:[],visits:[],selectedStatus:7}),computed:{...i(He,["vitals"]),...i(ze,["selectedMedicalDrugsList","nonPharmalogicalTherapyAndOtherNotes","selectedMedicalAllergiesList"]),...i(Oe,["outcomes"]),...i(be,["currentMilestone","missedVaccineSchedules","overDueVaccinesCount","lastVaccinesGiven","lastVaccineGievenDate","nextAppointMentDate"])},async mounted(){this.loadCurrentMilestone(),this.checkAge(),await this.checkProtectedStatus(),await this.openFollowModal(),await this.programEnrollment()},watch:{currentMilestone:{handler(){this.loadCurrentMilestone()}},$route:{async handler(e){"patientProfile"==e.name&&this.patient.patientID&&(await this.checkProtectedStatus(),await this.programEnrollment())}},patient:{async handler(){this.patient&&(await this.checkProtectedStatus(),await this.programEnrollment(),this.checkAge(),this.setMilestoneReload())}}},setup:()=>({chevronBackOutline:re,checkmark:v,ellipsisVerticalSharp:ce,person:le}),methods:{handleChange(e){this.selectedStatus=e},async programEnrollment(){if(this.patient.patientID){this.program=new gt(this.patient.patientID);const t=await this.program.getProgramCurrentStates();if(t)this.selectedStatus=t.state;else{try{await this.program.enrollProgram(),await this.program.setStateId(7)}catch(e){await this.program.setStateId(7)}await this.program.updateState(),this.selectedStatus=7}}},async updateState(e){this.selectedStatus=e,await this.program.setStateId(e),await this.program.updateState()},getAge:e=>ve.calculateDisplayAge(ve.toStandardHisFormat(e)),async checkProtectedStatus(){this.protectedStatus=this.getData(this.patient.birthRegistration,11759)[0]},getData:(e,t)=>e?e.filter(e=>e.concept_id==t).map(e=>e.value_text):"",checkAge(){var e,t;Ue.isEmpty(null===(e=this.patient)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)||(this.checkUnderSixWeeks=ve.dateDiffInDays(ve.sessionDate(),null===(t=this.patient)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.birthdate)<42)},openVitalsModal(){we(Ct,{class:"otherVitalsModal"})},openWH(){we(ya,{class:"otherVitalsModal"})},openVH(){we(aa,{class:"otherVitalsModal vaccineHistoryModal"})},async openFollowModal(){var e;if(null!==(e=this.patient)&&void 0!==e&&e.patientID){this.lastVaccine=await Pe.getLastDrugsReceived(this.patient.patientID);const e={protectedStatus:this.protectedStatus,lastVaccinesGiven:this.lastVaccinesGiven};this.lastVaccinesGiven.length>0&&we(ha,{class:"fullScreenModal"},!0,e)}},openAdministerVaccineModal(){we(Gt,{class:"otherVitalsModal"})},openAdministerOtherVaccineModal(){we(Va,{class:"otherVitalsModal"})},isChild:()=>!!(new je).isUnderFive(),getFormatedData:e=>e.map(e=>null==e?void 0:e.data),async saveVitals(){if(this.vitals.validationStatus){const e=_e.getUserID();new Le(this.patient.patientID,e).onFinish(this.vitals)}},async saveTreatmentPlan(){const e=_e.getUserID(),t=this.patient.patientID,a=new Ge;if(!Ue.isEmpty(this.selectedMedicalAllergiesList)){const n=this.mapToAllergies();a.onSubmitAllergies(t,e,n)}if(!Ue.isEmpty(this.nonPharmalogicalTherapyAndOtherNotes)){const n=[{concept_id:2688,obs_datetime:_e.getSessionDate(),value_text:this.nonPharmalogicalTherapyAndOtherNotes}];a.onSubmitNotes(t,e,n)}if(!Ue.isEmpty(this.selectedMedicalDrugsList)){const a=this.mapToOrders(),n=new $e(t,e);if(!(await n.createEncounter()))return xe("Unable to create treatment encounter");if(!(await n.createDrugOrder(a)))return xe("Unable to create drug orders!");De("Drug order has been created")}},openModal(){we(Re)},mapToOrders(){return this.selectedMedicalDrugsList.map(e=>{const t=$e.getSessionDate(),a=qe.find(t=>t.label===e.frequency)||{};return{drug_inventory_id:e.drug_id,equivalent_daily_dose:"Unknown"==e.dose?0:e.dose*(null==a?void 0:a.value)||0,start_date:t,auto_expire_date:this.calculateExpireDate(t,e.duration),units:e.units,instructions:`${e.drugName}: ${e.dose} ${e.units} ${(null==a?void 0:a.code)||""} for ${e.duration} days`,dose:e.dose,frequency:(null==a?void 0:a.code)||""}})},formatBirthdate(){var e;return ve.toStandardHisDisplayFormat(null===(e=this.patient)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)},calculateExpireDate(e,t){const a=new Date(e);return a.setDate(a.getDate()+parseInt(t)),ve.toStandardHisFormat(a)},mapToAllergies(){return this.selectedMedicalAllergiesList.map(e=>({concept_id:985,obs_datetime:_e.getSessionDate(),value_coded:e.concept_id}))},loadCurrentMilestone(){const e=be();this.current_milestone=e.getCurrentMilestone()},showMissedVaccines(){this.missedVaccineSchedules.length>0&&we(Ea,{class:"otherVitalsModal vaccineHistoryModal"})},setMilestoneReload(){const e=be();e.setVaccineReload(!e.getVaccineReload())},getLastVaccinesGivenDisplayDate(){return ve.toStandardHisDisplayFormat(this.lastVaccineGievenDate)}}}),Ga={fullscreen:!0,style:{"--background":"#fff"}},Ua={class:"demographics"},$a={style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},qa={style:{display:"flex","justify-content":"space-between","align-content":"center","padding-bottom":"5px","padding-top":"5px","padding-left":"5px"}},Ya={style:{"margin-right":"5px"}},Za={class:"demographicsFirstRow"},Ja={class:"name"},Ka={class:"demographicsOtherRow",style:{"margin-top":"10px"}},Xa={class:"demographicsText"},Qa={key:0,class:"demographicsOtherRow"},en={class:"demographicsText mediumFontColor"},tn={key:1,class:"demographicsOtherRow"},an={class:"demographicsText mediumFontColor"},nn={class:"demographicsOtherRow"},on={class:"demographicsText smallFont"},sn={class:"mediumFontColor"},ln={class:"demographicsOtherRow"},cn={key:0,class:"demographicsText smallFont"},rn={key:1,class:"demographicsText smallFont"},dn={key:2,class:"demographicsText smallFont"},un={class:"demographicsOtherRow",style:{"margin-bottom":"10px"}},pn={class:"demographicsText smallFont"},hn={key:0,style:{background:"#fedf89",color:"#b54708"},class:"protectedStatus"},mn={key:1,style:{background:"#ddeedd"},class:"protectedStatus"},gn={key:2,class:"protectedStatus",style:{background:"#fecdca",color:"#b42318"}},vn={class:"graphSection"},fn={class:"graphBtn",style:{"margin-bottom":"5px"}},bn={class:"weightHeightGraphBtns"},xn={key:0},yn={key:1},_n={key:0,class:"graphBtn"},wn={class:"dueAlert"},Dn={class:"missed_vaccine_alert"},In={style:{"margin-right":"5px"}},Cn={class:"vaccinesTitle"},kn={style:{width:"100%",display:"flex","justify-content":"space-between","align-content":"center"}},Sn={class:"vaccinesTitleDate"},Vn={class:"milestone"},Tn={style:{display:"flex","justify-content":"space-between","align-content":"center"}},Bn={style:{color:"#636363","margin-left":"5px","margin-top":"-4px"}},An={style:{color:"#636363","font-weight":"bold","font-size":"14px"}},jn={class:"lastVaccine"},Mn={class:"lastVaccineTitle"},Nn={key:0,class:"lastVaccineText"},Pn={class:"seeFullList"},On={style:{color:"#316cba","margin-left":"1%"}},zn={class:"ion-padding",slot:"content"};e("default",fe(La,[["render",function(e,t,a,n,i,o){var s,l,c,r,d,u,p,h,m;const g=f("ion-icon"),v=f("WeightHeightChart"),S=f("PreviousVitals"),V=f("ion-button"),T=f("ion-col"),B=f("ion-row"),A=f("customSlider"),j=f("row"),N=f("customVaccine"),P=f("ion-label"),O=f("ion-item"),z=f("ion-accordion"),H=f("ion-toggle"),F=f("ion-list"),R=f("ion-accordion-group"),E=f("ion-popover");return y(),b(M,null,[_("div",Ga,[_("div",Ua,[_("div",$a,[_("div",qa,[_("div",Ya,[_("div",{class:de("M"==(null===(s=e.patient)||void 0===s||null===(s=s.personInformation)||void 0===s?void 0:s.gender)?"initialsBox maleColor":"initialsBox femaleColor")},[C(g,{style:{color:"#fff","font-size":"100px"},icon:e.person},null,8,["icon"])],2)]),_("div",null,[_("div",Za,[_("div",Ja,I(null===(l=e.patient)||void 0===l||null===(l=l.personInformation)||void 0===l?void 0:l.given_name)+" "+I(null===(c=e.patient)||void 0===c||null===(c=c.personInformation)||void 0===c?void 0:c.middle_name)+" "+I(null===(r=e.patient)||void 0===r||null===(r=r.personInformation)||void 0===r?void 0:r.family_name),1)]),_("div",Ka,[_("div",Xa,[D(I("M"==(null===(d=e.patient)||void 0===d||null===(d=d.personInformation)||void 0===d?void 0:d.gender)?"Male":"Female")+" ",1),t[12]||(t[12]=_("span",{class:"dot"},".",-1)),D(" "+I(e.getAge(null===(u=e.patient)||void 0===u||null===(u=u.personInformation)||void 0===u?void 0:u.birthdate))+" ("+I(e.formatBirthdate())+") ",1)])]),null!==(p=e.patient)&&void 0!==p&&null!==(p=p.personInformation)&&void 0!==p&&p.current_district?(y(),b("div",Qa,[t[13]||(t[13]=_("div",{class:"demographicsText"},"Current Address:",-1)),_("div",en,I(e.formatCurrentAddress(e.patient)),1)])):x("",!0),null!==(h=e.patient)&&void 0!==h&&null!==(h=h.personInformation)&&void 0!==h&&h.country?(y(),b("div",tn,[t[14]||(t[14]=_("div",{class:"demographicsText"},"Country:",-1)),_("div",an,I(null===(m=e.patient)||void 0===m||null===(m=m.personInformation)||void 0===m?void 0:m.country),1)])):x("",!0),_("div",nn,[_("div",on,[t[15]||(t[15]=D(" MRN: ")),_("span",sn,I(e.patient.ID),1)])]),_("div",ln,[7==e.selectedStatus?(y(),b("div",cn,t[16]||(t[16]=[D(" Outcome: "),_("span",{class:"outcomeStatus"}," Active",-1)]))):x("",!0),6==e.selectedStatus?(y(),b("div",rn,t[17]||(t[17]=[D(" Outcome: "),_("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Inactive",-1)]))):x("",!0),3==e.selectedStatus?(y(),b("div",dn,t[18]||(t[18]=[D(" Outcome: "),_("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Died",-1)]))):x("",!0)]),_("div",un,[_("div",pn,[t[19]||(t[19]=D(" Status: ")),"No"==e.protectedStatus?(y(),b("span",hn,"Unprotected at birth")):"Yes"==e.protectedStatus?(y(),b("span",mn,"Protected at birth")):(y(),b("span",gn,"Unknown protection at birth"))])])])])]),_("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:t[0]||(t[0]=t=>e.openPopover(t))},[C(g,{icon:e.ellipsisVerticalSharp},null,8,["icon"])])]),_("div",vn,[_("div",null,[e.isChild()?(y(),w(v,{key:0,checkUnderSixWeeks:e.checkUnderSixWeeks,showHeightWeight:!0},null,8,["checkUnderSixWeeks"])):x("",!0),e.isChild()?x("",!0):(y(),w(S,{key:1}))]),_("div",fn,[_("div",bn,[_("div",null,[C(V,{class:"btnText",fill:"solid",onClick:t[1]||(t[1]=t=>e.openWH())},{default:k(()=>[e.checkUnderSixWeeks?(y(),b("span",yn," Enter Weight")):(y(),b("span",xn," Enter Weight/Height")),C(g,{slot:"end",size:"small",icon:e.iconsContent.whiteHeightWeight},null,8,["icon"])]),_:1})]),_("div",null,[C(V,{class:"btnText",fill:"solid",onClick:t[2]||(t[2]=t=>e.openVitalsModal())},{default:k(()=>[t[20]||(t[20]=D(" Enter Other Vitals ")),C(g,{slot:"end",size:"small",icon:e.iconsContent.whiteVitals},null,8,["icon"])]),_:1,__:[20]})])])])]),_("div",null,[e.overDueVaccinesCount>0?(y(),b("div",_n,[_("div",wn,[C(B,null,{default:k(()=>[e.overDueVaccinesCount>0?(y(),w(T,{key:0,style:{display:"flex","justify-content":"center",cursor:"pointer"},onClick:e.showMissedVaccines},{default:k(()=>[_("div",Dn,[C(g,{slot:"start",icon:e.iconsContent.alertDangerRed},null,8,["icon"]),_("span",In,I(e.overDueVaccinesCount)+" vaccine(s) overdue",1)])]),_:1},8,["onClick"])):x("",!0)]),_:1})])])):x("",!0),_("div",Cn,[_("div",kn,[t[22]||(t[22]=_("div",{class:"vaccinesTitleText"},"Administer Vaccines",-1)),_("div",Sn,[t[21]||(t[21]=_("span",{style:{"font-size":"13px"}},"Next Appt. Date: ",-1)),_("b",null,I(e.nextAppointMentDate),1)])])]),_("div",Vn,[_("div",Tn,[C(g,{size:"small",icon:e.iconsContent.greenCalender},null,8,["icon"]),_("div",Bn,[t[23]||(t[23]=D(" at ")),_("span",An,I(e.current_milestone),1)])]),t[24]||(t[24]=_("div",{class:"vaccinesTitleDate"},"(Swipe left or right for other milestones)",-1))]),C(A),_("div",jn,[_("div",Mn,[e.lastVaccinesGiven.length>0?(y(),b("div",Nn,"Last vaccines given")):x("",!0),_("div",Pn,[C(V,{onClick:t[3]||(t[3]=t=>e.openVH()),style:{color:"#016302"},class:"btnText btnTextWeight",size:"small",fill:"clear"},{default:k(()=>t[25]||(t[25]=[_("span",null,"See full History",-1)])),_:1,__:[25]})])]),e.lastVaccinesGiven.length>0?(y(),w(j,{key:0},{default:k(()=>[C(g,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),_("span",On,I(e.getLastVaccinesGivenDisplayDate()),1)]),_:1})):x("",!0),e.lastVaccinesGiven.length>0?(y(),w(j,{key:1},{default:k(()=>[C(N,{vaccines:e.lastVaccinesGiven,milestone_status:""},null,8,["vaccines"])]),_:1})):x("",!0)])])]),C(E,{style:{"--offset-x":"-10px"},"is-open":e.popoverOpen,"show-backdrop":!1,event:e.event,onDidDismiss:t[11]||(t[11]=t=>e.popoverOpen=!1)},{default:k(()=>[_("div",null,[C(R,{multiple:!0},{default:k(()=>[C(z,{value:"first","toggle-icon":"",onClick:t[4]||(t[4]=t=>e.openPIM())},{default:k(()=>[C(O,{slot:"header",color:"light"},{default:k(()=>[C(P,null,{default:k(()=>t[26]||(t[26]=[D("Update demographics")])),_:1,__:[26]})]),_:1})]),_:1}),C(z,{value:"first","toggle-icon":"",onClick:t[5]||(t[5]=t=>e.openFollowModal())},{default:k(()=>[C(O,{slot:"header",color:"light"},{default:k(()=>[C(P,null,{default:k(()=>t[27]||(t[27]=[D("Follow up visits")])),_:1,__:[27]})]),_:1})]),_:1}),C(z,{value:"second","toggle-icon":"",onClick:t[6]||(t[6]=t=>e.printVisitSummary())},{default:k(()=>[C(O,{slot:"header",color:"light"},{default:k(()=>[C(P,null,{default:k(()=>t[28]||(t[28]=[D("Print visit summary")])),_:1,__:[28]})]),_:1})]),_:1}),C(z,{value:"third","toggle-icon":"",onClick:t[7]||(t[7]=t=>e.printID())},{default:k(()=>[C(O,{slot:"header",color:"light"},{default:k(()=>[C(P,null,{default:k(()=>t[29]||(t[29]=[D("Print client identifier")])),_:1,__:[29]})]),_:1})]),_:1}),C(z,{value:"fourth"},{default:k(()=>[C(O,{slot:"header",color:"light"},{default:k(()=>[C(P,null,{default:k(()=>t[30]||(t[30]=[D("Update outcome")])),_:1,__:[30]})]),_:1}),_("div",zn,[C(F,null,{default:k(()=>[C(O,null,{default:k(()=>[C(H,{checked:7==e.selectedStatus,value:"active",onIonChange:t[8]||(t[8]=t=>e.updateState(7))},{default:k(()=>t[31]||(t[31]=[D(" Active ")])),_:1,__:[31]},8,["checked"])]),_:1}),C(O,null,{default:k(()=>[C(H,{checked:6==e.selectedStatus,value:"inactive",onIonChange:t[9]||(t[9]=t=>e.updateState(6))},{default:k(()=>t[32]||(t[32]=[D(" Inactive ")])),_:1,__:[32]},8,["checked"])]),_:1}),C(O,null,{default:k(()=>[C(H,{checked:3==e.selectedStatus,value:"died",onIonChange:t[10]||(t[10]=t=>e.updateState(3))},{default:k(()=>t[33]||(t[33]=[D(" Died ")])),_:1,__:[33]},8,["checked"])]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1},8,["is-open","event"])],64)}],["__scopeId","data-v-029f1008"]]))}}});
