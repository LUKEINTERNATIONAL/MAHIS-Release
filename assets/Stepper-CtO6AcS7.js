var yo=Object.defineProperty;var bo=(e,t,a)=>t in e?yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var ct=(e,t,a)=>bo(e,typeof t!="symbol"?t+"":t,a);import{d as B,G as O,S as q,ao as z,E as d,y as A,m as $,f as p,z as i,k as _,B as k,R as qe,al as w,U as W,T as j,am as Y,an as x,X as Wt,ap as re,ai as oe,e as v,l as n,c4 as ba,aq as Ft,ar as ae,A as S,F as te,aj as zt,r as b,bY as ki,w as Ke,a as dt,n as Bi,L as pe,u as g,c7 as $i,b1 as Do,V as La,au as na,D as J,d0 as es,ds as ts,bg as ma,W as it,bf as Sa,I as rt,ac as Re,ab as ge,bh as sa,db as So,bj as Mi,aR as Co,p as ut,ag as Gt,cR as wo,ay as _n,ad as Ca,ae as vn,af as wa,c as Ue,aZ as Io,aB as Po,aK as as,dF as No,dV as ko,dW as Bo,dX as $o,cc as ns,av as ea,M as Mt,J as At,cn as Ai,d8 as gn,dp as Fn,dn as Mo,da as Ao,aA as ss,a$ as Eo,dY as is,dZ as os,bn as ls,aw as Ie,ax as Pe,cv as _e,cu as ve,cz as fe,O as rs,aD as ze,d_ as Vo,dB as cn,bv as Ia,i as Ei,d$ as Oo,v as Vi,aI as Oi,aT as To,br as vs,e0 as Fo,bp as Ho,b5 as ds,b7 as Ro,b6 as ya,bI as Lo,be as xo,bd as Uo,ck as zo,ct as qo}from"./vendor-DowD5zKn.js";import{A as Et}from"./app_encounter_service-BtCPTlWa.js";import{_ as T,i as P,H as ne,Q as Ve,u as Ne,w as Be,B as G,e as ee,O as Vt,x as u,a1 as ia,k as Dt,A as ua,R as Gn,g as St,C as jt,Z as Ye,az as Ge,a4 as Wo,ai as Go,S as Oe,m as ta,X as Ht,a5 as Fa,P as Me,a3 as jo,t as tt,a7 as _t,a as Yo,T as Ti,aE as xa,b4 as Jo,b5 as Ko,as as Fi,J as Qo,D as Xo,aK as Lt,b6 as Zo,b as el,s as tl,p as un,aF as F,b7 as $a,Y as qt,aZ as R,aP as jn,y as le,E as al,ac as Hi,h as Yn,j as Jn,l as Va,V as vt,aL as nl,aa as N,b8 as _a,b9 as sl,ba as il,bb as ol,bc as ll,bd as rl,be as dl,aY as ce,aX as I,aO as gs,aM as ys,aQ as cl,$ as bs,aA as Te,a8 as ln,aN as Hn,ad as ul,a6 as Ua,L as Yt,bf as Kn,bg as Za,bh as Ds,bi as Ss,aB as Le,bj as Qe,bk as hl,bl as hn,bm as Cs,bn as Qn,bo as nt,bp as $t,bq as Ri,br as Xn,bs as pl,bt as Nt,bu as ws,bv as Li,bw as Bt,bx as xi,by as pn,bz as cs,bA as Zt,bB as Is,bC as ra,bD as Ps,bE as ml,bF as Rn,bG as Zn,bH as Ut,bI as mn,bJ as Se,bK as Ns,bL as Ln,bM as ks,bN as Bs,bO as $s,bP as Ms,bQ as As,bR as Es,bS as fl,bT as Vs,bU as _l,bV as Os,ap as xn,au as Un,bW as Ts,bX as en,bY as ha,bZ as ca,b_ as Fs,b$ as Hs,c0 as vl,c1 as gl,c2 as yl,c3 as bl,c4 as zn,c5 as Dl,c6 as Rs,c7 as Sl,c8 as Cl,c9 as wl,ca as Il,cb as Ls,cc as Pl,cd as Nl,ce as xs,cf as kl,cg as Bl,ch as Us,ci as $l,cj as zs,ck as Ui,cl as zi,z as Ml}from"./index-Cd6xOYoL.js";import{l as $e,_ as qs}from"./lodash-Dt8AsbQm.js";import{P as yn}from"./previousVitals-cogGuc1b.js";import{L as Ct,i as za,a as qa,c as bn}from"./SvgDynamicColor-Dzc6JPgu.js";import{P as Ws}from"./patient_complaints_service-2_fw-i4U.js";import{v as Ha}from"./group_validation-Bgg0pUVS.js";import{a as us}from"./lab_order-CMyy1o6a.js";import{A as Al,B as He}from"./ncd_appointment_service-CaWyKpJh.js";import{U as Jt,I as Kt}from"./UpcomingFeature-DHsJZsBh.js";import{f as El}from"./formatServerData-cc0AHFgB.js";import{_ as Ra}from"./DatePicker.vue_vue_type_script_setup_true_lang-DhIL5mOk.js";import{S as Vl,V as Ol}from"./vitals_service-IqsjlPsa.js";import{D as pa}from"./drug_service-DfD0ubjX.js";import{g as Tl,D as qi,a as xt,b as Fl}from"./drug_prescription_service-D4Wus2z4.js";import{A as Ea}from"./appointment_service-DQUmnOKC.js";import{u as qn,s as Hl}from"./clinicalDaysStore-DsQMURdM.js";import{F as Wi}from"./FeatusModal-B4hiWI_k.js";import{S as Rl}from"./SaveProgressModal-BLsyw3VX.js";const Ll=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O},data(){return{}},props:{status:{type:Boolean,default:!0},content:{type:String,default:""}},methods:{}}),xl={class:"dash_box"};function Ul(e,t,a,s,o,r){const l=d("ion-row");return e.status?(p(),A(l,{key:0},{default:i(()=>[_("span",xl,k(e.content),1)]),_:1})):$("",!0)}const Ot=T(Ll,[["render",Ul]]),Gs=qe("NCDDiagnosisStore",{state:()=>({diagnosis:[{selectedData:[],isFinishBtn:!1,data:{rowData:[{colData:[{inputHeader:"Diagnosis",icon:P.search,value:"",name:"diagnosis",eventType:"input",required:!0,alertsErrorMassage:"",isSingleSelect:!0,trackBy:"concept_id",valueType:"coded",multiSelectData:[],id:"",validationFunctionName:"required"}]}]}}]}),actions:{setDiagnosis(e){this.diagnosis=e}}}),zl=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,List:Ct},computed:{...w(Ne,["patient"])},data(){return{valueNumericArray:[],obsDatetime:[],graphIcon:qa(["#006401"]),listIcon:za(["#636363"]),displayGraph:!0,orders:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],series:[{name:"",data:[]}]}},setup(){return{checkmark:oe,pulseOutline:re}},async mounted(){const e=await Ve.getAll(this.patient.patientID,"Primary diagnosis"),t=await Ve.getAll(this.patient.patientID,"Secondary diagnosis"),a=await Ve.getAll(this.patient.patientID,"Attempted/ Differential diagnosis"),s=[...e||[],...t||[],...a||[]],o=$e.isEmpty(s)?[]:Promise.all(s.map(async r=>({name:await Ve.getConceptName(r.value_coded),obs_date:r.obs_datetime})));this.setListData(await o)},methods:{dismiss(){Wt.dismiss()},handleIcon(){},setActivClass(e){this.activeHeight="",this.activeBMI="",this.activeWeight="",e=="height"?this.activeHeight="_active":e=="weight"?this.activeWeight="_active":e=="BMI"&&(this.activeBMI="_active")},setListData(e){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 25px;",display:["Date","Diagnosis","Notes"]}),e.forEach(t=>{this.list.push({actionBtn:!1,minHeight:"--min-height: 25px;",class:"col_background",display:[ne.toStandardHisFormat(t.obs_date),t.name,""]})})}}}),ql={class:"modal_wrapper"};function Wl(e,t,a,s,o,r){const l=d("list");return p(),v("div",ql,[_("div",null,[n(l,{listData:e.list},null,8,["listData"])])])}const Gi=T(zl,[["render",Wl],["__scopeId","data-v-5665ae64"]]),Gl=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Ot,SelectionPopover:Vt,BasicInputField:ee,List:Ct,BasicForm:G,DynamicButton:Be,previousDiagnosis:Gi,DataTable:ba},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],diagnosisData:[],popoverOpen:!1,event:"",selectedCondition:""}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(Gs,["diagnosis"]),...w(Ne,["patient"])},async mounted(){await this.getDiagnosis("")},methods:{async getDiagnosis(e){const t=await ua("diagnosis",{likeClause:e?{name:"%".concat(e,"%")}:"",currentPage:1,itemsPerPage:5}).then(a=>a.records);u(this.diagnosis,"diagnosis","multiSelectData",t)},dismiss(){Wt.dismiss()},async addNewRow(){var e,t,a;if(await Ha(this.diagnosis)){u(this.diagnosis,"diagnosis","alertsErrorMassage","");const s=await El(this.diagnosis),o=JSON.parse(JSON.stringify(this.patient));(a=(t=(e=o.diagnosis)!=null?e:o.diagnosis={}).unsaved)!=null||(t.unsaved=[]),o.diagnosis.unsaved.push(...s),await ia(o),Dt("Diagnosis successfully saved"),this.dismiss()}else u(this.diagnosis,"diagnosis","alertsErrorMassage","Please select diagnosis from the list")},updateDiagnosisStores(){Gs().setDiagnosis(this.diagnosis)},async handleInputData(e){u(this.diagnosis,"diagnosis","alertsErrorMassage","")}}}),jl={class:"modal_wrapper"},Yl={class:""};function Jl(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-icon"),h=d("ion-header"),m=d("basic-form"),f=d("ion-content"),y=d("DynamicButton"),D=d("ion-col"),C=d("ion-row"),V=d("ion-footer");return p(),v(te,null,[n(h,{style:{display:"flex","justify-content":"space-between"}},{default:i(()=>[n(l,{class:"modalTitle"},{default:i(()=>t[2]||(t[2]=[S("Add Diagnosis")])),_:1,__:[2]}),n(c,{onClick:t[0]||(t[0]=E=>e.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:e.iconsContent.cancel},null,8,["icon"])]),_:1}),n(f,{fullscreen:!0,style:{"--background":"#fff"}},{default:i(()=>[_("div",jl,[_("div",Yl,[n(m,{contentData:e.diagnosis,onSearchChange:e.getDiagnosis,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onSearchChange","onUpdate:inputValue"])])])]),_:1}),n(V,{collapse:"fade",class:"ion-no-border"},{default:i(()=>[n(C,null,{default:i(()=>[n(D,null,{default:i(()=>[n(y,{onClick:t[1]||(t[1]=E=>e.addNewRow()),name:"Save",fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})],64)}const Kl=T(Gl,[["render",Jl],["__scopeId","data-v-ab3c70a2"]]),Ql={class:"table-responsive"},Xl=B({__name:"Diagnosis",setup(e){const t=Gn(),a=Ne(),{diagnosis:s}=zt(t),{patient:o}=zt(a),r=b(null),l=b([]),c=b(P),h=["Diagnosis","Date","Action"],m={responsive:!0,select:!1,layout:{topStart:"buttons",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},ordering:!1,buttons:[{text:" <b>+ Add diagnosis </b>",className:"add-test text-white",action:async()=>{await f()}}]},f=async()=>{await St(Kl,{class:"lab-results-modal"},!0),await C()},y=async E=>E.length>0?await Promise.all(E.map(async U=>{const H=await Ve.getConceptName(U.value_coded),M=U.obs_datetime;return[H,ne.toStandardHisFormat(M),'<button class="btn btn-outline-danger btn-sm delete-btn" data-id=\''.concat(JSON.stringify({id:U.obs_id,value_coded:U.value_coded,name:H,obs_date:M}),"'>").concat(c.value.delete2,"</button>")]})):[],D=async(E,U)=>{var M;if(await jt("Do you want to delete ".concat(E.name," ?"),U)){const L=JSON.parse(JSON.stringify(o.value)),K=L.diagnosis;E!=null&&E.id?(K.saved=K.saved.filter(X=>!(X.value_coded===E.value_coded&&X.obs_datetime===E.obs_date)),(M=K.voided)!=null||(K.voided=[]),K.voided.push(E)):K.unsaved=K.unsaved.filter(X=>!(X.value_coded===E.value_coded&&X.obs_datetime===E.obs_date)),await ia(L)}},C=async()=>{var H,M;const E=JSON.parse(JSON.stringify(o.value)),U=[...((H=E==null?void 0:E.diagnosis)==null?void 0:H.unsaved)||[],...((M=E==null?void 0:E.diagnosis)==null?void 0:M.saved)||[]];l.value=await y(U),ba.use($i)},V=ki();return Ke(()=>V,async()=>{await C()},{deep:!0}),Ke(()=>o,async()=>{await C()},{deep:!0}),dt(async()=>{await C(),Bi(()=>{const E=r.value.dt;E.columns.adjust().draw(),E.on("click",".delete-btn",U=>{const H=U.target.getAttribute("data-id");D(JSON.parse(H),U)})})}),(E,U)=>(p(),v("div",Ql,[n(g(ba),{ref_key:"dataTableRef",ref:r,options:m,data:l.value,class:"display nowrap",width:"100%"},{default:i(()=>[_("thead",null,[_("tr",null,[(p(),v(te,null,pe(h,H=>_("th",{key:H},k(H),1)),64))])])]),_:1},8,["data"])]))}}),Zl=T(Xl,[["__scopeId","data-v-a6230e7a"]]),js=[{isFinishBtn:!1,validationStatus:"",sectionHeader:"Visual acuity test",data:{rowData:[{colData:[{inputHeader:"Left Eye",value:"",name:"Left eye visual acuity",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1,validationFunctionName:"",valueType:"text"},{inputHeader:"Right Eye",value:"",name:"Right eye visual acuity",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1,validationFunctionName:"",valueType:"text"}]}]}}],Ys=[{selectedData:[],classDash:"dashed_bottom_border",groupedRadioBtnContent:{groupedData:[{header:{selectedValue:"",name:"Peripheral neuropathy"},data:[{name:"Neuropathy/PVO",labelPlacement:"start",colSize:"3",justify:"space-between",header:!0,headClassName:"bold"},{name:"Yes",value:"Yes",checked:!1,colSize:"3",justify:"end"},{name:"No",value:"No",checked:!1,colSize:"3",justify:"end"}]}]}},{selectedData:[],classDash:"dashed_bottom_border",groupedRadioBtnContent:{groupedData:[{header:{selectedValue:"",name:"Deformity"},data:[{name:"Deformities",labelPlacement:"start",colSize:"3",justify:"space-between",header:!0,headClassName:"bold"},{name:"Yes",value:"Yes",checked:!1,colSize:"3",justify:"end"},{name:"No",value:"No",checked:!1,colSize:"3",justify:"end"}]}]}},{selectedData:[],classDash:"dashed_bottom_border",groupedRadioBtnContent:{groupedData:[{header:{selectedValue:"",name:"Ulcers"},data:[{name:"Ulcers",labelPlacement:"start",colSize:"3",justify:"space-between",header:!0,headClassName:"bold"},{name:"Yes",value:"Yes",checked:!1,colSize:"3",justify:"end"},{name:"No",value:"No",checked:!1,colSize:"3",justify:"end"}]}]}}],Js=[{isFinishBtn:!1,validationStatus:"",sectionHeader:"CV Risk %",data:{rowData:[{colData:[{inputHeader:"",value:"",name:"CVD",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1,valueType:"text",validationFunctionName:"isNumber"}]}]}}],er=qe("complicationsStore",{state:()=>({visualScreening:[...js],FootScreening:[...Ys],cvScreening:[...Js]}),actions:{setCvScreening(e){this.cvScreening=e},setVisualScreening(e){this.visualScreening=e},setFootScreening(e){this.FootScreening=e},getInitialCvScreening(){return[...$e.cloneDeep(Js)]},getInitialVisualScreening(){return[...$e.cloneDeep(js)]},getInitialFootScreening(){return[...$e.cloneDeep(Ys)]},resetScreening(){this.setCvScreening(this.getInitialCvScreening()),this.setFootScreening(this.getInitialFootScreening()),this.setVisualScreening(this.getInitialVisualScreening())}},persist:!0}),tr={class:"sub_item_body"},ar={class:"ion-padding",slot:"content"},nr={class:"table-responsive"},sr=B({__name:"ComplicationsScreening",setup(e){Do();const t=er(),{FootScreening:a,visualScreening:s,cvScreening:o}=zt(t),r=Ne(),{patient:l}=zt(r);ki();const c=b(null),h=b([]);b(!1),b(!1),b("");const m=b("");b({btnColor:"secondary",btnName:"No risk"});const f=b(P),y=["Condition","Result","Date","Action"],D={responsive:!0,select:!1,layout:{topEnd:"search",bottomStart:"info",bottomEnd:"paging"},ordering:!1},C=async()=>{var M,L;const U=JSON.parse(JSON.stringify(l.value)),H=[...((M=U==null?void 0:U.screening)==null?void 0:M.unsaved)||[],...((L=U==null?void 0:U.screening)==null?void 0:L.saved)||[]];h.value=await V(H)},V=async U=>U.length===0?[]:(await Promise.all(U.map(async M=>M.concept_name==="Visual acuity"?M.children.map(L=>[L.concept_name,L.value_text,ne.toStandardHisFormat(L.obs_datetime),'<button class="btn btn-outline-danger btn-sm delete-btn" data-id=\''.concat(JSON.stringify(L),"'>\n                        ").concat(f.value.delete2,"</button>")]):M.concept_name==="Foot check"?Promise.all(M.children.map(async L=>[L.concept_name,await Ye.getConceptName(L.value_coded),ne.toStandardHisFormat(L.obs_datetime),'<button class="btn btn-outline-danger btn-sm delete-btn" data-id=\''.concat(JSON.stringify(L),"'>\n                            ").concat(f.value.delete2,"</button>")])):M.concept_name==="Cardiovascular disease"?[["CVD %",M.value_text,ne.toStandardHisFormat(M.obs_datetime),'<button class="btn btn-outline-danger btn-sm delete-btn" data-id=\''.concat(JSON.stringify(M),"'>\n                            ").concat(f.value.delete2,"</button>")]]:[]))).flat(),E=U=>{console.log("ðŸš€ ~ voidScreening ~ data:",U)};return dt(async()=>{await C(),Bi(()=>{const U=c.value.dt;U.columns.adjust().draw(),U.on("click",".delete-btn",H=>{const M=H.target.getAttribute("data-id");E(JSON.parse(M))})})}),(U,H)=>{const M=d("ion-label"),L=d("ion-accordion"),K=d("ion-accordion-group"),X=d("ion-row");return p(),v(te,null,[n(G,{contentData:g(s)},null,8,["contentData"]),n(g(x),null,{default:i(()=>[n(g(O),{lines:m.value,class:"dashed_bottom_border textSectionFormat"},{default:i(()=>H[0]||(H[0]=[_("span",{style:{display:"flex","align-items":"center",gap:"10px"}}," Foot screening ",-1)])),_:1,__:[0]},8,["lines"]),_("div",tr,[n(G,{contentData:g(a)},null,8,["contentData"])])]),_:1}),n(G,{contentData:g(o)},null,8,["contentData"]),n(X,null,{default:i(()=>[n(K,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(L,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(O),{slot:"header",color:"light"},{default:i(()=>[n(M,{class:"previousLabel"},{default:i(()=>H[1]||(H[1]=[S("Previous Visits")])),_:1,__:[1]})]),_:1}),_("div",ar,[_("div",nr,[n(g(ba),{ref_key:"dataTableRef",ref:c,options:D,data:h.value,class:"display nowrap",width:"100%"},{default:i(()=>[_("thead",null,[_("tr",null,[(p(),v(te,null,pe(y,ue=>_("th",{key:ue},k(ue),1)),64))])])]),_:1},8,["data"])])])]),_:1})]),_:1},512)]),_:1})],64)}}}),ir=T(sr,[["__scopeId","data-v-127f623c"]]),Da=qe("labResultsStore",{state:()=>({labResults:[]}),actions:{setLabResults(e){this.labResults=e}},persist:!0});class ji extends Et{constructor(t){super(t,57)}getOrders(t){return Ge.getOrders(this.patientID,{status:t})}voidOrder(t,a){return Ge.void("lab/orders/".concat(t),{reason:a})}updateOrderSpecimen(t,a){return Ge.putJson("lab/orders/".concat(t),{specimen:{concept_id:a}})}printSpecimenLabel(t){return new Wo().printLbl("lab/labels/order?order_id=".concat(t))}async placeOrder(t){let a=[];const s=await this.createEncounter();if(!s)throw"Unable to create encounter";const o={encounter_id:s.encounter_id,date:this.date,...t};return o.requesting_clinician||(o.requesting_clinician=Ge.getUserName()),t.combine_tests?a=[o]:a=o.tests.map(r=>{const l={...o};return l.tests=[r],l}),Ge.postJson("lab/orders",{orders:a})}static async getSpecimensForTests(t){const a=await Promise.all(t.map(s=>Ge.getSpecimens(s.name)));return this.getCommonSpecimens(a)}static getCommonSpecimens(t){const a={},s=[];t.forEach(o=>{o.forEach(({name:r,...l})=>{const c={name:r,...l};a[r]?a[r].push(c):a[r]=[c]})});for(const o in a)a[o].length>=t.length&&s.push(a[o][0]);return s}}const or=B({components:{IonButtons:Sa,IonButton:it,IonModal:ma,IonHeader:q,IonContent:z,IonToolbar:W,IonTitle:j,IonItem:O,IonList:x,IonAvatar:ts,IonImg:es,IonLabel:J,IonPage:na,IonMenu:Y,BasicForm:G,IonFooter:La,DynamicButton:Be},data(){return{popoverStatus:null}},props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{type:Object,default:{}},popoverOpen:{type:Boolean,default:!1},event:{type:Event,default:""},title:{type:String,default:""}},computed:{...w(Ne,["patient"]),...w(Da,["labResults"])},mounted(){},methods:{dismiss(){Wt.dismiss()},async saveResults(){const e=await this.buildResults();this.patient.labOrders.results=[{encounter_id:"",date:ne.sessionDate(),measures:e,test_id:this.labResults[0].id}];let t=!1;for(let a=0;a<this.patient.labOrders.unsaved.length;a++)if(this.patient.labOrders.unsaved[a].tests[0].id===this.labResults[0].id&&this.patient.labOrders.unsaved[a].tests&&this.patient.labOrders.unsaved[a].tests.length>0){this.patient.labOrders.unsaved[a].tests[0].result=e,t=!0;break}if(!t){for(let a=0;a<this.patient.labOrders.saved.length;a++)if(this.patient.labOrders.saved[a].tests[0].id===this.labResults[0].id&&this.patient.labOrders.saved[a].tests&&this.patient.labOrders.saved[a].tests.length>0){this.patient.labOrders.saved[a].tests[0].result=e;break}}await ia(this.patient),Dt("Saved successfully"),this.$emit("saved")},async buildResults(){let e=[];return await Promise.all(this.labResults[1].data.rowData[0].colData.map(async t=>{var s;const a=await ua("testResultIndicators",{whereClause:{concept_id:t.id}});e.push({indicator:{name:(s=a[0])==null?void 0:s.name,concept_id:t.id},value:t.value.name||t.value||"not done",value_modifier:"",value_type:"text"})})),e},async nav(e,t){const a=Da();t=="not_save"?(await Go(),a.setLabResults(!1)):a.setLabResults(!0),this.dismiss(),this.$router.push(e)}}}),lr={class:"modal_wrapper"},rr={class:"center text_12"};function dr(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-button"),h=d("ion-buttons"),m=d("ion-toolbar"),f=d("ion-header"),y=d("basic-form"),D=d("ion-row"),C=d("ion-content"),V=d("DynamicButton"),E=d("ion-footer"),U=d("ion-modal");return p(),A(U,{"is-open":e.popoverOpen,"show-backdrop":!0,onDidDismiss:t[2]||(t[2]=H=>e.$emit("closePopoover",!1)),"keyboard-close":e.keyboardClose},{default:i(()=>[n(f,null,{default:i(()=>[n(m,null,{default:i(()=>[n(l,null,{default:i(()=>[_("b",null,"Enter lab results for ("+k(e.labResults[0].name)+") test",1)]),_:1}),n(h,{slot:"end"},{default:i(()=>[n(c,{onClick:t[0]||(t[0]=H=>e.$emit("closeModal"))},{default:i(()=>t[3]||(t[3]=[S("Close")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1}),n(C,{class:"ion-padding"},{default:i(()=>[_("div",lr,[_("div",rr,[n(D,null,{default:i(()=>[n(y,{contentData:e.labResults},null,8,["contentData"])]),_:1})])])]),_:1}),n(E,{translucent:!0},{default:i(()=>[n(m,null,{default:i(()=>[n(V,{onClick:t[1]||(t[1]=H=>e.saveResults()),name:"Save",fill:"clear",iconSlot:"icon-only",style:{float:"right"}})]),_:1})]),_:1})]),_:1},8,["is-open","keyboard-close"])}const Yi=T(or,[["render",dr],["__scopeId","data-v-c61fd749"]]),cr=B({components:{IonButtons:Sa,IonButton:it,IonModal:ma,IonHeader:q,IonContent:z,IonToolbar:W,IonTitle:j,IonItem:O,IonList:x,IonAvatar:ts,IonImg:es,IonLabel:J,IonPage:na,IonMenu:Y,BasicForm:G,IonFooter:La,DynamicButton:Be},data(){return{popoverStatus:null}},props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{default:[]},popoverOpen:{type:Boolean,default:!1},event:{type:Event,default:""},title:{type:String,default:""}},methods:{dismiss(){Wt.dismiss()},nav(e,t){this.dismiss(),this.$router.push(e)}}}),ur={class:"modal_wrapper"},hr={class:"center text_12"};function pr(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-button"),h=d("ion-buttons"),m=d("ion-toolbar"),f=d("ion-header"),y=d("ion-col"),D=d("ion-row"),C=d("ion-content"),V=d("ion-modal");return p(),A(V,{"is-open":e.popoverOpen,"show-backdrop":!0,onDidDismiss:t[1]||(t[1]=E=>e.$emit("closePopoover",!1)),"keyboard-close":e.keyboardClose},{default:i(()=>[n(f,null,{default:i(()=>[n(m,null,{default:i(()=>[n(l,null,{default:i(()=>[_("b",null,"Lab results for ("+k(e.content.name)+") test",1)]),_:1}),n(h,{slot:"end"},{default:i(()=>[n(c,{onClick:t[0]||(t[0]=E=>e.$emit("closeModal"))},{default:i(()=>t[2]||(t[2]=[S("Close")])),_:1,__:[2]})]),_:1})]),_:1})]),_:1}),n(C,{class:"ion-padding"},{default:i(()=>[_("div",ur,[_("div",hr,[n(D,null,{default:i(()=>[(p(!0),v(te,null,pe(e.content.result,(E,U)=>(p(),A(y,{size:"4",key:U},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{size:"8"},{default:i(()=>[S(k(E.indicator.name),1)]),_:2},1024),n(y,{class:"bold",size:"0.5"},{default:i(()=>t[3]||(t[3]=[S(":")])),_:1,__:[3]}),n(y,{class:"bold",size:"2"},{default:i(()=>[S(k(E.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])])]),_:1})]),_:1},8,["is-open","keyboard-close"])}const mr=T(cr,[["render",pr],["__scopeId","data-v-5d6713fe"]]),Ks=qe("investigationNCDStore",{state:()=>({investigations:[{db_data:[],isFinishBtn:!1,selectedData:[],displayData:[],data:{rowData:[{colData:[{inputHeader:"Test",icon:P.search,value:"",name:"test",popOver:!0,eventType:"input",required:!0,alertsErrorMassage:"",isSingleSelect:!0,trackBy:"concept_id",multiSelectData:[],id:"",idName:"test_id",validationFunctionName:"required"},{inputHeader:"Specimen",icon:P.search,value:"",name:"specimen",eventType:"input",required:!0,alertsErrorMassage:"",disabled:!0,isSingleSelect:!0,trackBy:"concept_id",multiSelectData:[],id:"",idName:"specimen_id",validationFunctionName:"required"}]}]}}]}),actions:{setInvestigations(e){this.investigations=e}}}),hs=B({data:()=>({userRole:"",ready:!1,userRoleSettings:{}}),watch:{$route:{async handler(e){this.userRole=Oe.getUserRoles();const t=Oe.getProgramID(),a=Oe.getProgramName();this.userRole=="Lab"&&t==14&&(this.userRoleSettings={url:"home",btnName:"Back to home",stepperTitle:"Laboratory"}),t==14&&this.userRole!="Lab"&&(this.userRoleSettings={url:"home",btnName:"Go to waiting list",stepperTitle:"Consultation Plan"}),t==12&&(this.userRoleSettings={url:"contact",btnName:"Back"}),a=="LABOUR AND DELIVERY PROGRAM"&&(this.userRoleSettings={url:"labour/labourHome",btnName:"Back to home"}),a=="PNC PROGRAM"&&(this.userRoleSettings={url:"pnc/home",btnName:"Back to home"})},immediate:!0,deep:!0}}}),fr=B({name:"Menu",mixins:[hs],components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Ot,SelectionPopover:Vt,BasicInputField:ee,BasicForm:G,List:Ct,DynamicButton:Be},data(){return{segmentContent:"Lab Investigations",iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",labOrders:"",filteredSpecimen:"",testData:[],popoverOpen:!1,labOrderStatus:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(Ks,["investigations"]),...w(Ne,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0},patient:{async handler(){this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved]},deep:!0},$route:{async handler(){await this.getTests()},deep:!0}},async mounted(){await this.getTests(),this.updateInvestigationsStores(),this.setDashedBox(),this.updateInvestigationWizard()},methods:{dismiss(){Wt.dismiss()},setSegmentContent(e){this.segmentContent=e},async getTests(){const e=await ua("testTypes");u(this.investigations,"test","multiSelectData",e)},toggleLabOrderStatus(){this.labOrderStatus=!this.labOrderStatus},async updateInvestigationWizard(){this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved];const e=await this.labOrders.filter(t=>ne.toStandardHisFormat(ne.sessionDate())===ne.toStandardHisFormat(t.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},async updateInvestigationsStores(){await this.updateInvestigationWizard(),Ks().setInvestigations(this.investigations)},displayInputFields(){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validateRowData(){return Ha(this.investigations)},async checkTest(){return await this.isNameInData(this.inputFields[0].value.name,await this.investigations[0].selectedData)?(u(this.investigations,"test","alertsErrorMassage","Lab order already selected"),!1):(u(this.investigations,"test","alertsErrorMassage",""),!0)},async addNewRow(){Ha(this.investigations)&&await this.checkTest()&&(await this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.updateInvestigationWizard(),this.dismiss()},isNameInData(e,t){for(let a of t)for(let s of a.tests)if(s.name===e)return!0;return!1},async saveTest(){var o,r,l,c,h,m;const e=[{concept_id:this.inputFields[0].value.concept_id,name:this.inputFields[0].value.name,specimen:this.inputFields[1].value.name,reason:"Routine",specimenConcept:await Ye.getConceptID(this.inputFields[1].value.name,!0)}];let a=(await Ge.buildLabOrders("",e))[0];a.order_date=a.date,a.specimen.name=this.inputFields[1].value.name,a.tests[0].name=this.inputFields[0].value.name;const s=JSON.parse(JSON.stringify(this.patient));(l=(r=(o=s.labOrders)!=null?o:s.labOrders={}).unsaved)!=null||(r.unsaved=[]),(m=(h=(c=s.labOrders)!=null?c:s.labOrders={}).saved)!=null||(h.saved=[]),s.labOrders.unsaved.push(a),await ia(s),u(this.investigations,"specimen","disabled",!0),this.labOrders=[...s.labOrders.saved,...s.labOrders.unsaved]},async handleInputData(e){if(e.inputHeader=="Test"&&this.checkTest(),u(this.investigations,"specimen","alertsErrorMassage",""),e.inputHeader=="Test"&&e.value){const t=await ua("specimens");this.specimen=await Ye.getConceptSet(e.value.name,"",{names:t.map(a=>a.name)}),this.specimen.length==1?(u(this.investigations,"specimen","value",this.specimen[0]),u(this.investigations,"specimen","disabled",!0)):(u(this.investigations,"specimen","value",""),u(this.investigations,"specimen","disabled",!1)),u(this.investigations,"specimen","multiSelectData",this.specimen)}},async filterTest(e){return await this.labOrders.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))},async filterSpecimen(e){var t;return(t=this.specimen[0])!=null&&t.name&&e?await this.specimen.filter(a=>a==null?void 0:a.name.toLowerCase().includes(e.toLowerCase())):[]},setTest(e){this.selectedText=e.name,this.inputFields[1].inputHeader=="Test"?this.investigations[0].data.rowData[0].colData[0].value=e.name:this.investigations[0].data.rowData[0].colData[1].value=e.name,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[1].value||this.inputFields[0].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),_r={class:"modal_wrapper"},vr={class:""};function gr(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-icon"),h=d("ion-header"),m=d("basic-form"),f=d("ion-content"),y=d("DynamicButton"),D=d("ion-col"),C=d("ion-row"),V=d("ion-footer");return p(),v(te,null,[n(h,{style:{display:"flex","justify-content":"space-between"}},{default:i(()=>[n(l,{class:"modalTitle"},{default:i(()=>t[2]||(t[2]=[S("Add Lab Test")])),_:1,__:[2]}),n(c,{onClick:t[0]||(t[0]=E=>e.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:e.iconsContent.cancel},null,8,["icon"])]),_:1}),n(f,{fullscreen:!0,class:"ion-padding",style:{"--background":"#fff"}},{default:i(()=>[_("div",_r,[_("div",vr,[n(m,{contentData:e.investigations,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])])])]),_:1}),n(V,{collapse:"fade",class:"ion-no-border"},{default:i(()=>[n(C,null,{default:i(()=>[n(D,null,{default:i(()=>[n(y,{onClick:t[1]||(t[1]=E=>e.addNewRow()),name:"Save",fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})],64)}const yr=T(fr,[["render",gr],["__scopeId","data-v-28528878"]]),br=B({name:"CheckInConfirmationModal",components:{IonCol:ge,IonRow:Re,IonFooter:La,DynamicButton:Be,IonModal:ma,IonHeader:q,IonToolbar:W,IonTitle:j,IonButtons:Sa,IonButton:it,IonContent:z,IonIcon:rt},props:{isOpen:{type:Boolean,required:!0,default:!1},closeModalFunc:{type:Function,required:!0},onYes:{type:Function,required:!0},onNo:{type:Function,required:!0},title:{type:String,required:!0}},computed:{},methods:{closeOutline(){return sa},closeModal(){this.closeModalFunc()},confirm(e){this.closeModal()}}}),Dr={style:{display:"flex"}};function Sr(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-icon"),h=d("ion-button"),m=d("ion-buttons"),f=d("ion-col"),y=d("DynamicButton"),D=d("ion-row"),C=d("ion-footer"),V=d("ion-content"),E=d("ion-modal");return p(),A(E,{"is-open":e.isOpen,"show-backdrop":!0,onDidDismiss:e.closeModal},{default:i(()=>[n(m,{slot:"start"},{default:i(()=>[n(l,{style:{color:"#0c0c0c"}},{default:i(()=>[S(k(e.title),1)]),_:1}),n(h,{onClick:e.closeModal},{default:i(()=>[n(c,{slot:"icon-only",icon:e.closeOutline(),style:{color:"#b02a37"}},null,8,["icon"])]),_:1},8,["onClick"])]),_:1}),n(V,null,{default:i(()=>[_("div",Dr,[n(C,{collapse:"fade",class:"ion-no-border"},{default:i(()=>[n(D,null,{default:i(()=>[n(f,null,{default:i(()=>[n(h,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:e.onNo},{default:i(()=>t[1]||(t[1]=[S(" Cancel ")])),_:1,__:[1]},8,["onClick"])]),_:1}),n(f,null,{default:i(()=>[n(y,{name:"Send",onClick:t[0]||(t[0]=U=>e.onYes()),fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1},8,["is-open","onDidDismiss"])}const Ji=T(br,[["render",Sr],["__scopeId","data-v-be6bf3e1"]]),Ki=(e,t,a,s={})=>({drug_id:e,name:t,category:a,...s}),fn=qe("OtherNCDMedicationsStore",{state:()=>({otherNCDMedications:[],selectedOtherNCDMedicationList:[]}),actions:{setSelectedNCDMedicationList(e){this.selectedOtherNCDMedicationList.push(e)},getSelectedNCDMedicationList(){return this.selectedOtherNCDMedicationList},addSearchedDrug(e){const t=Ki(e.drug_id,e.name,"Other",e);if(t.units=e.units,!this.otherNCDMedications.some(s=>s.drug_id===t.drug_id)){this.otherNCDMedications.unshift(t);const s={dosage:{morning:null,afternoon:null,evening:null},duration:null,...t};this.setSelectedNCDMedicationList(s)}},clearOtherNCDMedications(){this.otherNCDMedications=[],this.selectedOtherNCDMedicationList=[]}},persist:!0}),bt=qe("NCDmedicationsStore",{state:()=>({medications:[],filteredMedications:[],selectedNCDMedicationList:[],frequency_selections:b({}),currentPatientID:""}),actions:{setMedications(e){this.medications=e,this.filteredMedications=e},setFilteredMedications(e){this.filteredMedications=e},initMedications(){},setSelectedNCDMedicationList(e){this.selectedNCDMedicationList.push(e)},getSelectedNCDMedicationList(){return this.selectedNCDMedicationList},clearMedicationDataStores(){this.medications=[],this.filteredMedications=[],this.selectedNCDMedicationList=[],this.frequency_selections=[]},setCurrentPatientID(e){this.currentPatientID=e}},persist:!0});function Cr(){try{const e=bt(),t=fn();e.medications=[...t.otherNCDMedications,...e.medications],e.medications=e.medications.reduce((a,s)=>(a.some(o=>o.drug_id===s.drug_id)||a.push(s),a),[]),e.selectedNCDMedicationList=[...t.selectedOtherNCDMedicationList,...e.selectedNCDMedicationList],e.filteredMedications=e.medications,Dt("Medication added successfully")}catch(e){}}const wr={name:"DiabetesMedication",ids:[337,336,280,410,729,263,812,265,264,240,266,726,728,223]},Qs={name:"AntiHypertensivesMedication",ids:[]},Ir={ids:[274,168,648,289,286,164,287,288,672,257,1233,671]},Pr={ids:[559,1236,1234,558,1235,1211,276,277,278,279]},Nr={ids:[556,653,557,652,943,1238,1240,1237,942,1239,946,1503,944,1504,945,1505]},kr={ids:[116,85,117,1232,936,1364,937,1365,1366]};async function Qi(e){const t=bt(),a=e.ids.map(async s=>{try{const o=await pa.getOfflineDrugById(s);if(o){const r=t.medications.findIndex(c=>c.drug_id===o.drug_id),l=Ki(o.drug_id,o.name,e.name,o);r!==-1?t.medications[r]=l:t.medications.push(l)}}catch(o){console.error("Error fetching drug ID ".concat(s,":"),o)}});return t.filteredMedications=t.medications,Promise.all(a)}async function Br(e){try{const t=await pa.getOfflineDrugById(e);return{drug_id:e,dosage:{morning:null,afternoon:null,evening:null},duration:null,...t}}catch(t){ta("Error fetching drug details. Please try again."),console.error("Error fetching drug details:",t)}}function Xs(){return Qi(wr)}function Zs(){return Qs.ids=[...Ir.ids,...Pr.ids,...Nr.ids,...kr.ids],Qi(Qs)}function rn(){bt().clearMedicationDataStores()}function Xi(e){bt().setCurrentPatientID(e)}function $r(e){bt().currentPatientID!=e&&(rn(),Xi(e))}function i0(){return bt().selectedNCDMedicationList.some(t=>{const{morning:a,afternoon:s,evening:o}=t.dosage,r=typeof a=="string"?Number(a):a,l=typeof s=="string"?Number(s):s,c=typeof o=="string"?Number(o):o;return typeof r=="number"&&r>0||typeof l=="number"&&l>0||typeof c=="number"&&c>0})}class Mr extends Et{constructor(t,a){super(t,105,a)}}class Ar extends Et{constructor(t,a){super(t,25,a)}static async get_____(t="",a=1,s=10){}}async function o0(e){var t,a,s;try{const o=Ne(),{patient:r}=zt(o),l=JSON.parse(JSON.stringify(r.value));(s=(a=(t=l.allergies)!=null?t:l.allergies={}).unsaved)!=null||(a.unsaved=[]),l.allergies.unsaved.push(...e),await ia(l,!1),Dt("Allergies saved successfully")}catch(o){tt("Unable to save Allegies!")}}class l0{async onSubmitNotes(t,a,s){const o=new Mr(t,a);await o.createEncounter(),await o.saveObservationList(s)}async onSubmitAllergies(t,a,s){try{const o=new Ar(t,a);await o.createEncounter(),await o.saveObservationList(s),Dt("Allergies saved successfully")}catch(o){console.error("Error saving allergies:",o),tt("Failed to save allergies")}}}class Wa{constructor(){ct(this,"programID");ct(this,"providerID");ct(this,"patientID");ct(this,"date");ct(this,"demographics");ct(this,"previousDrugPrescriptions",[]);ct(this,"previousClinicalNotes");ct(this,"previousDrugAllergies");const t=Ne();this.demographics=t.patient,this.patientID=this.demographics.patientID,this.date=Ve.getSessionDate(),this.providerID=Oe.getUserID(),this.programID=Ve.getProgramID(),this.previousClinicalNotes={},this.previousDrugAllergies={}}async getPatientEncounters(){const t=await this.getPatientVisitDates(),a=t.map(async o=>{const r=o.value,l=await Ht.getEncounters(this.patientID,{date:r});await Promise.all(l.map(async c=>{var h;if(c.type.name=="NOTES"){const{observations:m}=c;$e.isEmpty(m)||m.forEach(f=>{if(f.concept_id=="2688"){const y=ne.toStandardHisDisplayFormat(f.obs_datetime);$e.isEmpty(this.previousClinicalNotes.hasOwnProperty(y))&&(this.previousClinicalNotes[y]=[]),this.previousClinicalNotes[y].push({date:y,notes:f.value_text})}})}if(c.type.name=="TREATMENT"){const{observations:m}=c;if(!$e.isEmpty(m))for(const f in m){let y="<UNKNOWN CONCEPT>";const D=m[f];try{(h=D==null?void 0:D.concept)!=null&&h.concept_names?y=D.concept.concept_names[0].name:y=await Ye.getConceptName(D.concept_id)}catch(E){console.error(D,E)}const C=await Ve.resolvePrimaryValue(D),V=ne.toStandardHisDisplayFormat(D.date_created);y=="Allergic"&&(this.previousDrugAllergies.hasOwnProperty(V)||(this.previousDrugAllergies[V]=[]),this.previousDrugAllergies[V].push({date:V,value:C}))}}}))});await Promise.all(a);const s=t.map(async o=>{const r=await Fa.getOrderByPatient(this.patientID,{start_date:o.value});if(!$e.isEmpty(r)){const l=r.map(c=>({drugName:c.drug.name,value:ne.toStandardHisTimeFormat(c.order.start_date),dose:c.dose,frequency:Tl(c.frequency),prescription:ne.toStandardHisFormat(c.order.auto_expire_date),duration:Er(c.order.instructions),other:c}));this.previousDrugPrescriptions.push({prescriptionDate:ne.toStandardHisDisplayFormat(o.value),previousPrescriptions:l})}});return await Promise.all(s),{previousDrugPrescriptions:this.previousDrugPrescriptions,previousClinicalNotes:this.previousClinicalNotes,previousDrugAllergies:this.previousDrugAllergies}}async getPatientVisitDates(){return(await Me.getPatientVisits(this.patientID,!1)).map(t=>({label:ne.toStandardHisDisplayFormat(t),value:t,other:{isActive:t===jo.getSessionDate()}}))}}function Er(e){const t=/(\d+)\s+days/i,a=e.match(t);return a&&a.length>1?parseInt(a[1]):null}async function Vr(){const e=Ne(),{patient:t}=zt(e),a=t.value,s=[8809,903,6410,6409],r=(await ua("diagnosis",{likeClause:"",currentPage:1,itemsPerPage:2e3}).then(y=>y.records)).filter(y=>s.includes(y.concept_id)),l=a.diagnosis.saved.map(y=>y.value_coded),c=a.diagnosis.unsaved.map(y=>y.value_coded),h=[...l,...c];return r.filter(y=>h.includes(y.concept_id)).map(y=>y.name)}const Or=B({name:"Home",components:{IonContent:z,IonHeader:q,IonMenuButton:Mi,IonPage:na,IonTitle:j,IonToolbar:W,IonRow:Re,IonCol:ge,IonChip:So,IonLabel:J,IonIcon:rt},computed:{...w(Ne,["patient"])},data(){const e=b([]),t=b([]),a=async()=>{try{const r=this.patient;Xi(r.ID);const l=b(!1),c=f=>{l.value=f};e.value=await Vr();const h=e.value.some(f=>f.toLowerCase().includes("hypertension")),m=e.value.some(f=>f.toLowerCase().includes("diabetes"));h&&(c(!0),Zs()),m&&(c(!0),Xs()),l.value==!1}catch(r){}},s=async()=>{const r=t.value.some(c=>c.toLowerCase().includes("hypertension")),l=t.value.some(c=>c.toLowerCase().includes("diabetes"));r&&await Zs(),l&&await Xs()};return{diagnoses:e,selectedDiagnoses:t,medkitOutline:Co,initC:a,toggleDiagnosisSelection:r=>{const l=t.value.indexOf(r);l===-1?(t.value.push(r),rn(),s()):(t.value.splice(l,1),rn(),s()),t.value.length===0&&(rn(),a())}}},async mounted(){this.initC()},watch:{patient:{handler(){$r(this.patient.ID),this.initC()},deep:!0}}}),Tr={key:0,class:"diagnosis-container"},Fr={class:"heading"},Hr={class:"diagnosis-list"};function Rr(e,t,a,s,o,r){const l=d("ion-icon"),c=d("ion-label"),h=d("ion-chip"),m=d("ion-col"),f=d("ion-row");return e.diagnoses.length>0?(p(),v("div",Tr,[_("div",Fr,[n(l,{icon:e.medkitOutline,class:"diagnosis-icon"},null,8,["icon"]),t[0]||(t[0]=_("h2",null,"Diagnosis",-1))]),n(f,null,{default:i(()=>[n(m,null,{default:i(()=>[_("div",Hr,[(p(!0),v(te,null,pe(e.diagnoses,(y,D)=>(p(),A(h,{key:D,class:ut({"diagnosis-chip-selected":e.selectedDiagnoses.includes(y)}),onClick:C=>e.toggleDiagnosisSelection(y)},{default:i(()=>[n(c,null,{default:i(()=>[S(k(y),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])]),_:1})]),_:1})])):$("",!0)}const Lr=T(Or,[["render",Rr],["__scopeId","data-v-2bd0f8ca"]]),xr=B({name:"MedicationSearch",components:{IonContent:z,IonPage:na,IonItem:O,IonLabel:J,IonInput:ae,IonIcon:rt,BasicInputField:ee,IonCard:Gt},setup(){const e=b(""),t=bt();return{searchText:e,searchTextUpdated:s=>{const o=s.target;e.value=o.value;const r=t.medications.filter(l=>l.name.toLowerCase().includes(e.value.toLowerCase()));t.setFilteredMedications(r)},searchOutline:wo}}});function Ur(e,t,a,s,o,r){const l=d("BasicInputField"),c=d("ion-card");return p(),v("div",null,[_("div",null,[n(c,null,{default:i(()=>[n(l,{placeholder:"Filter medication list by name",icon:e.searchOutline,inputValue:e.searchText,"onUpdate:inputValue":e.searchTextUpdated,minHeight:50},null,8,["icon","inputValue","onUpdate:inputValue"])]),_:1})])])}const zr=T(xr,[["render",Ur]]),qr=B({name:"medication",components:{IonCard:Gt,IonCardHeader:wa,IonButton:it,IonCardTitle:vn,IonCardContent:Ca,IonInput:ae,IonIcon:rt,IonCol:ge,IonRow:Re,IonCheckbox:_n,PreviousNCDDiagnosis:Lr,MedicationSearchInput:zr},computed:{...w(bt,["medications","filteredMedications"]),...w(fn,["otherNCDMedications"]),activeMedications(){return this.useDefaultStores?this.filteredMedications:this.otherNCDMedications}},props:{useDefaultStores:{type:Boolean,default:!0}},setup(e){const t=bt();t.initMedications();const a=Ue(()=>t.selectedNCDMedicationList),s=fn(),o=Ue(()=>s.selectedOtherNCDMedicationList),r=Ue(()=>e.useDefaultStores?a.value:o.value),l=b(!1),c=b({});let h=null;const m=()=>{l.value=!1,h&&(clearTimeout(h),h=null)},f=L=>{c.value={...c.value,[L]:!0},l.value=!0,h&&clearTimeout(h),h=window.setTimeout(()=>{l.value=!1,h=null},3e3),window.setTimeout(()=>{const K={...c.value};delete K[L],c.value=K},3e3)},y=L=>/^\d*$/.test(L),D=(L,K,X)=>{let ue=X.target.value;const ie="".concat(L,"-").concat(K);if(ue!==""&&!y(ue)){f(ie);const de=r.value.find(Ae=>Ae.drug_id===L);ue=(de==null?void 0:de.dosage[K])||"",setTimeout(()=>{const Ae=X.target;Ae&&(Ae.value=ue)},0);return}if(ue!==""){const de=parseInt(ue);isNaN(de)||de<0?ue="0":ue=Math.floor(de).toString()}const Q=r.value.findIndex(de=>de.drug_id===L);if(Q>-1){const de={...r.value[Q]};de.dosage={...de.dosage,[K]:ue},r.value[Q]=de}},C=(L,K)=>{let X=K.target.value;const ue="".concat(L,"-duration");if(X!==""&&!y(X)){f(ue);const Q=r.value.find(de=>de.drug_id===L);X=(Q==null?void 0:Q.duration)||"",setTimeout(()=>{const de=K.target;de&&(de.value=X)},0);return}if(X!==""){const Q=parseInt(X);isNaN(Q)||Q<1?X="1":X=Math.floor(Q).toString()}const ie=r.value.findIndex(Q=>Q.drug_id===L);if(ie>-1){const Q={...r.value[ie]};Q.duration=X,r.value[ie]=Q}},V=L=>r.value.some(K=>K.drug_id===L);return{medkit:ns,sunny:$o,partlySunny:Bo,moon:ko,timeOutline:No,alertCircleOutline:as,closeCircleOutline:Po,updateDosage:D,updateDuration:C,getDosage:(L,K)=>{const X=r.value.find(ue=>ue.drug_id===L);return(X==null?void 0:X.dosage[K])||""},getDuration:L=>{const K=r.value.find(X=>X.drug_id===L);return(K==null?void 0:K.duration)||""},calculateQuantity:L=>{const K=r.value.find(ie=>ie.drug_id===L);if(!K||!K.dosage||!K.duration)return"";const X=["morning","afternoon","evening"].reduce((ie,Q)=>{const de=parseInt(K.dosage[Q])||0;return ie+de},0),ue=parseInt(K.duration)||0;return(X*ue).toString()},isActive:V,toggleMedication:async L=>{try{if(V(L)){const K=r.value.findIndex(X=>X.drug_id===L);K>-1&&r.value.splice(K,1)}else{const K=await Br(L);e.useDefaultStores==!1?s.setSelectedNCDMedicationList(K):t.setSelectedNCDMedicationList(K)}}catch(K){ta("Error toggling medication: "+K)}},cubeOutline:Io,showErrorMessage:l,errorFields:c,hideErrorMessage:m}}}),Wr={key:0},Gr={key:0,class:"error-message"},jr={class:"table-container"},Yr={class:"prescription-table"},Jr={class:"checkbox-col"},Kr={style:{cursor:"pointer"}},Qr=["onClick"];function Xr(e,t,a,s,o,r){const l=d("PreviousNCDDiagnosis"),c=d("ion-col"),h=d("MedicationSearchInput"),m=d("ion-row"),f=d("ion-icon"),y=d("ion-button"),D=d("ion-checkbox"),C=d("ion-input");return p(),v(te,null,[n(m,null,{default:i(()=>[n(c,{size:"5"},{default:i(()=>[e.useDefaultStores?(p(),A(l,{key:0})):$("",!0)]),_:1}),n(c,null,{default:i(()=>[e.useDefaultStores&&e.medications.length>0?(p(),A(h,{key:0,style:{"margin-top":"0px","font-weight":"600","font-size":"16px"}})):$("",!0)]),_:1})]),_:1}),e.activeMedications.length>0?(p(),v("div",Wr,[e.showErrorMessage?(p(),v("div",Gr,[n(f,{icon:e.alertCircleOutline,color:"danger"},null,8,["icon"]),t[0]||(t[0]=_("span",{style:{"font-size":"16px","font-weight":"600px",color:"red"}},"Only numbers are allowed",-1)),n(y,{fill:"clear",size:"small",onClick:e.hideErrorMessage},{default:i(()=>[n(f,{icon:e.closeCircleOutline},null,8,["icon"])]),_:1},8,["onClick"])])):$("",!0),_("div",jr,[_("table",Yr,[_("thead",null,[_("tr",null,[t[6]||(t[6]=_("th",{class:"checkbox-col"},"Select",-1)),t[7]||(t[7]=_("th",null,"Medication",-1)),_("th",null,[n(f,{icon:e.partlySunny},null,8,["icon"]),t[1]||(t[1]=S(" Morning"))]),_("th",null,[n(f,{icon:e.sunny},null,8,["icon"]),t[2]||(t[2]=S(" Noon"))]),_("th",null,[n(f,{icon:e.moon},null,8,["icon"]),t[3]||(t[3]=S(" Night"))]),_("th",null,[n(f,{icon:e.timeOutline},null,8,["icon"]),t[4]||(t[4]=S(" Duration"))]),_("th",null,[n(f,{icon:e.cubeOutline},null,8,["icon"]),t[5]||(t[5]=S(" Quantity"))])])]),_("tbody",null,[(p(!0),v(te,null,pe(e.activeMedications,V=>(p(),v("tr",{key:V.id,class:ut({"active-row":e.isActive(V.drug_id)})},[_("td",Jr,[n(D,{checked:e.isActive(V.drug_id),onIonChange:E=>e.toggleMedication(V.drug_id)},null,8,["checked","onIonChange"])]),_("td",Kr,[_("span",{class:"med-kit-font",onClick:E=>e.toggleMedication(V.drug_id)},k(V.name),9,Qr)]),_("td",null,[n(C,{type:"text",class:ut(["dose-input bordered-input med-kit-font",{"error-input":e.errorFields["".concat(V.drug_id,"-morning")]}]),disabled:!e.isActive(V.drug_id),value:e.getDosage(V.drug_id,"morning"),onIonInput:E=>e.updateDosage(V.drug_id,"morning",E),placeholder:"0",inputmode:"numeric"},null,8,["class","disabled","value","onIonInput"])]),_("td",null,[n(C,{type:"text",class:ut(["dose-input bordered-input med-kit-font",{"error-input":e.errorFields["".concat(V.drug_id,"-afternoon")]}]),disabled:!e.isActive(V.drug_id),value:e.getDosage(V.drug_id,"afternoon"),onIonInput:E=>e.updateDosage(V.drug_id,"afternoon",E),placeholder:"0",inputmode:"numeric"},null,8,["class","disabled","value","onIonInput"])]),_("td",null,[n(C,{type:"text",class:ut(["dose-input bordered-input med-kit-font",{"error-input":e.errorFields["".concat(V.drug_id,"-evening")]}]),disabled:!e.isActive(V.drug_id),value:e.getDosage(V.drug_id,"evening"),onIonInput:E=>e.updateDosage(V.drug_id,"evening",E),placeholder:"0",inputmode:"numeric"},null,8,["class","disabled","value","onIonInput"])]),_("td",null,[n(C,{type:"text",class:ut(["dose-input bordered-input med-kit-font",{"error-input":e.errorFields["".concat(V.drug_id,"-duration")]}]),disabled:!e.isActive(V.drug_id),value:e.getDuration(V.drug_id),onIonInput:E=>e.updateDuration(V.drug_id,E),placeholder:"0",inputmode:"numeric"},null,8,["class","disabled","value","onIonInput"])]),_("td",null,[n(C,{type:"text",class:"dose-input bordered-input med-kit-font",readonly:"",value:e.calculateQuantity(V.drug_id),placeholder:"0"},null,8,["value"])])],2))),128))])])])])):$("",!0)],64)}const Zi=T(qr,[["render",Xr],["__scopeId","data-v-601894a0"]]),Zr=B({name:"DrugSelector",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,VueMultiselect:ea,IonLabel:J,IonCol:ge,IonRow:Re},emits:["drug-selected"],data(){const e=o=>{this.$emit("drug-selected",o)},t=async o=>{const r=_t(),l=o,f=(await pa.getOfflineOPDDrugs({name:l,page:1,page_size:20})).map(y=>({label:y.name,value:y.name,other:y,...y}));r.setPartialOPDdrugList(f)},a=Ue(()=>this.partialOPDdrugList);return{selected_drug:b(null),selectedDrugName:e,FindDrugName:t,OPDDrugList:a}},computed:{...w(_t,["partialOPDdrugList"])}});function ed(e,t,a,s,o,r){const l=d("VueMultiselect"),c=d("ion-col"),h=d("ion-row");return p(),v("div",null,[n(h,null,{default:i(()=>[n(c,null,{default:i(()=>[n(l,{modelValue:e.selected_drug,"onUpdate:modelValue":[t[0]||(t[0]=m=>e.selected_drug=m),e.selectedDrugName],multiple:!1,taggable:!1,"hide-selected":!1,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Select medication",placeholder:"Select medication",selectLabel:"",label:"name",searchable:!0,onSearchChange:e.FindDrugName,"track-by":"uuid",options:e.OPDDrugList},null,8,["modelValue","onUpdate:modelValue","onSearchChange","options"])]),_:1})]),_:1})])}const td=T(Zr,[["render",ed],["__scopeId","data-v-e4d309dd"]]),ad=B({name:"Home",mixins:[Yo],components:{IonContent:z,IonHeader:q,IonPage:na,IonToolbar:W,IonRow:Re,IonTitle:j,IonIcon:rt,IonFooter:La,OPDMedications:td,Medication:Zi,IonCol:ge,IonButton:it},data(){const e=fn(),t=()=>{Wt.dismiss()};return{iconsContent:P,dismiss:t,addSearchedDrug:o=>{e.addSearchedDrug(o)},medkit:ns,checkmark:oe,onAdd:()=>{Cr(),e.clearOtherNCDMedications(),t()}}},computed:{},$route:{async handler(){},deep:!0},watch:{},async mounted(){},methods:{}}),nd={class:"medication-list"},sd={class:"modal_wrapper"},id={class:""};function od(e,t,a,s,o,r){const l=d("ion-icon"),c=d("ion-title"),h=d("ion-header"),m=d("OPDMedications"),f=d("Medication"),y=d("ion-content"),D=d("ion-button"),C=d("ion-col"),V=d("ion-row"),E=d("ion-footer");return p(),v(te,null,[n(h,{style:{display:"flex","justify-content":"space-between"}},{default:i(()=>[n(c,{class:"modalTitle"},{default:i(()=>[_("div",nd,[n(l,{icon:e.medkit,class:"ion-margin-end"},null,8,["icon"]),t[1]||(t[1]=_("span",null,"Add Other Medication",-1))])]),_:1}),n(l,{onClick:t[0]||(t[0]=U=>e.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:e.iconsContent.cancel},null,8,["icon"])]),_:1}),n(y,{fullscreen:!0,class:"ion-padding",style:{"--background":"#fff"}},{default:i(()=>[_("div",sd,[_("div",id,[n(m,{onDrugSelected:e.addSearchedDrug},null,8,["onDrugSelected"]),n(f,{"use-default-stores":!1})])])]),_:1}),n(E,{collapse:"fade",class:"ion-no-border"},{default:i(()=>[n(V,null,{default:i(()=>[n(C,null,{default:i(()=>[n(D,{onClick:e.onAdd,color:"primary",style:{float:"right","margin-bottom":"20px","margin-right":"20px"}},{default:i(()=>[n(l,{icon:e.checkmark,slot:"start"},null,8,["icon"]),t[2]||(t[2]=S(" Add "))]),_:1,__:[2]},8,["onClick"])]),_:1})]),_:1})]),_:1})],64)}const ld=T(ad,[["render",od],["__scopeId","data-v-dee50533"]]),rd=B({created(){},components:{IonItem:O,IonCol:ge,IonLabel:J,IonIcon:rt},data(){return{iconsContent:P,localMedicalDrugsList:[...this.$props._selectedMedicalDrugsList]}},props:{_selectedMedicalDrugsList:{type:Array,default:[]},show_actions_buttons:{type:Boolean,default:!0},highLightBackground:{type:String,default:"item-native"}},watch:{},methods:{highlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#006401"),this.highlightActionBtns(e)},undoHighlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#636363"),this.undohighlightActionBtns(e)},highlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="inline-block"},undohighlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="none"},asignLblID(e){return e+"_lbl"},asignSpanLblID(e){return e+"_spanlbl"},async removeItemAtIndex(e,t){await jt("Do you want to delete it?",t)&&this.$emit("remove-item",e)},editItemAtIndex(e){this.$emit("edit-item",e)},highLightBnd(e){if(e){if(e.highlightbackground!==void 0&&e.highlightbackground==!0)return this.$props.highLightBackground}else return!1}}}),dd=["onMousemove","onMouseout"],cd={class:"route-label"};function ud(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-col"),h=d("ion-row"),m=d("ion-icon");return p(!0),v(te,null,pe(e.localMedicalDrugsList,(f,y)=>(p(),v("div",{id:"df",class:"medication-item",key:y,onMousemove:D=>e.highlightItem(y),onMouseout:D=>e.undoHighlightItem(y)},[n(h,{class:"medication-header"},{default:i(()=>[n(c,{class:ut(["ion-text-wrap",e.highLightBnd(f)])},{default:i(()=>[n(l,{id:e.asignLblID(y),class:"medication-name"},{default:i(()=>[S(k(f.drugName),1)]),_:2},1032,["id"])]),_:2},1032,["class"])]),_:2},1024),n(h,{class:"medication-details"},{default:i(()=>[n(c,{size:"10",class:ut(["ion-text-wrap details-col",e.highLightBnd(f)])},{default:i(()=>[n(l,{class:"details-text"},{default:i(()=>[S(k(f.dose)+" / "+k(f.frequency)+" / daily / "+k(f.duration)+" / until "+k(f.prescription)+" ",1),_("span",cd,k(f.route_name),1)]),_:2},1024)]),_:2},1032,["class"]),e.show_actions_buttons?(p(),A(c,{key:0,class:ut([e.highLightBnd(f),"actions-col"]),size:"2"},{default:i(()=>[n(l,{class:ut(["action-button",e.asignSpanLblID(y)]),onClick:D=>e.editItemAtIndex(y)},{default:i(()=>[n(m,{icon:e.iconsContent.edit},null,8,["icon"])]),_:2},1032,["class","onClick"]),n(l,{class:ut(["action-button",e.asignSpanLblID(y)]),onClick:D=>e.removeItemAtIndex(y,D)},{default:i(()=>[n(m,{icon:e.iconsContent.delete},null,8,["icon"])]),_:2},1032,["class","onClick"])]),_:2},1032,["class"])):$("",!0)]),_:2},1024)],40,dd))),128)}const Oa=T(rd,[["render",ud],["__scopeId","data-v-01c693a3"]]),hd=B({name:"Home",components:{IonContent:z,IonHeader:q,IonPage:na,IonToolbar:W,Toolbar:Ti,IonRow:Re,IonAccordion:At,IonAccordionGroup:Mt,IonItem:O,IonLabel:J,DynamicList:Oa,IonCard:Gt},data(){const e=b(0),t=b("Show more medications"),a=b(!1),s=b();return{componentKey:e,accordionGroupChange:c=>{const h=c.detail.value;h!==void 0?h=="second"&&(t.value="Show less medications",a.value=!a.value):(t.value="Show more medications",a.value=!a.value)},showMoreMedicationsMsg:t,itemWasExpanded:a,accordionGroupChangeFn1:c=>{},PreviuosSelectedMedicalDrugsList:s,loadPreviousMedications:async()=>{const c=new Wa,{previousDrugPrescriptions:h}=await c.getPatientEncounters();s.value=h}}},computed:{...w(Ne,["patient"]),...w(bt,["selectedNCDMedicationList"])},$route:{async handler(){},deep:!0},watch:{patient:{handler(){this.loadPreviousMedications()},deep:!0},selectedNCDMedicationList:{handler(){this.loadPreviousMedications()},deep:!0}},async mounted(){this.loadPreviousMedications()}}),pd={style:{}},md={class:"ion-padding",slot:"content"},fd={key:0},_d={class:"previousSecDrgs"},vd={class:"ion-padding",slot:"content"},gd={key:0},yd={class:"previousSecDrgs"};function bd(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("dynamic-list"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("ion-card");return p(),A(y,null,{default:i(()=>[_("div",pd,[n(f,{ref:"accordionGroup",class:"previousView",onIonChange:e.accordionGroupChangeFn1},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Documented medications timeline")])),_:1,__:[0]})]),_:1}),_("div",md,[(p(!0),v(te,null,pe(e.PreviuosSelectedMedicalDrugsList,(D,C)=>(p(),v("div",{class:"ionLbltp",key:C},[C==0?(p(),v("div",fd,[_("div",null,[n(l,{class:"previousLabelDate"},{default:i(()=>[S(k(D.prescriptionDate),1)]),_:2},1024)]),_("div",_d,[(p(),A(h,{_selectedMedicalDrugsList:D.previousPrescriptions,show_actions_buttons:!1,key:e.componentKey},null,8,["_selectedMedicalDrugsList"]))])])):$("",!0)]))),128)),n(f,{onIonChange:e.accordionGroupChange},{default:i(()=>[n(m,{value:"second","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"",color:"primary"},{default:i(()=>[S(k(e.showMoreMedicationsMsg),1)]),_:1})]),_:1}),_("div",vd,[(p(!0),v(te,null,pe(e.PreviuosSelectedMedicalDrugsList,(D,C)=>(p(),v("div",{class:"ionLbltp",key:C},[e.itemWasExpanded&&C>0?(p(),v("div",gd,[_("div",null,[n(l,{class:"previousLabelDate"},{default:i(()=>[S(k(D.prescriptionDate),1)]),_:2},1024)]),_("div",yd,[(p(),A(h,{_selectedMedicalDrugsList:D.previousPrescriptions,show_actions_buttons:!1,key:e.componentKey},null,8,["_selectedMedicalDrugsList"]))])])):$("",!0)]))),128))])]),_:1})]),_:1},8,["onIonChange"])])]),_:1})]),_:1},8,["onIonChange"])])]),_:1})}const Dd=T(hd,[["render",bd],["__scopeId","data-v-1db96250"]]),Sd=B({name:"PrescriptionTable",components:{IonCard:Gt,IonCardHeader:wa,IonButton:it,IonCardTitle:vn,IonCardContent:Ca,IonInput:ae,IonIcon:rt,IonCol:ge,IonRow:Re,IonCheckbox:_n,Medication:Zi,MedicationHistory:Dd},setup(){return{openAddOtherOPDMedicationModal:async()=>{await St(ld,{class:"large-modal"},!0,{})},medkit:ns}}});function Cd(e,t,a,s,o,r){const l=d("Medication"),c=d("ion-icon"),h=d("ion-button"),m=d("ion-col"),f=d("ion-row"),y=d("MedicationHistory"),D=d("IonCol"),C=d("ion-card-content"),V=d("ion-card");return p(),A(V,null,{default:i(()=>[n(C,null,{default:i(()=>[n(l),n(f,null,{default:i(()=>[n(m,null,{default:i(()=>[n(h,{onClick:e.openAddOtherOPDMedicationModal,color:"primary",style:{float:"right"}},{default:i(()=>[n(c,{icon:e.medkit,slot:"start"},null,8,["icon"]),t[0]||(t[0]=_("span",{style:{"margin-left":"10px","font-size":"16px","font-weight":"600"}}," ADD Other Medication",-1))]),_:1,__:[0]},8,["onClick"])]),_:1})]),_:1}),n(f,null,{default:i(()=>[n(D,null,{default:i(()=>[n(y)]),_:1})]),_:1})]),_:1})]),_:1})}const wd=T(Sd,[["render",Cd],["__scopeId","data-v-a4ad7088"]]),Id={key:0,class:"custom-allergy-container"},Pd=B({watch:{},name:"AllergiesComponent"}),Nd=B({...Pd,setup(e){const t=xa(),a=Ne(),s=Ue(()=>t.selectedMedicalAllergiesList),o=Ue(()=>a.patient),r=Ue(()=>t.medicalAllergiesList),l=b(E(8,"item-")),c=b(),h=b(!1),m=[{multi_Selection:!0,show_list_label:!0,unqueId:l.value,name_of_list:"Add/Remove allergies",placeHolder:"Search for an allergy",items:[],listUpdatedFN:D,listFilteredFN:()=>{},searchTextFN:C,use_internal_filter:!0,show_error:b(!1),error_message:"please select a User",disabled:b(!1)}],f=b(!1);dt(async()=>{y()});const y=()=>{t.current_patient.ID!=o.value.ID&&(t.clearSelectedMedicalAllergiesList(),t.setCurrentPatient(o.value))};function D(H){H.forEach(M=>{M.selected==!0&&M.name==="Other"&&(h.value=M.name==="Other")}),t.setSelectedMedicalAllergiesList(H),V()}async function C(H){const M=H,L=await Ye.getConceptSet("OPD Medication",M);L.map(ie=>({label:ie.name,value:ie.name,other:ie}));const K=Jo(M),ue=Ko(K,L).sort((ie,Q)=>ie.name.localeCompare(Q.name));t.setMedicalAllergiesList(ue),V()}function V(){const H=r.value;s.value.forEach(L=>{let K=!1;H.forEach((X,ue)=>{X.concept_id==L.concept_id&&L.selected===!0&&(H[ue]=L,K=!0)}),!K&&L.selected===!0&&H.push(L)});const M=H.filter((L,K,X)=>K===X.findIndex(ue=>ue.concept_id===L.concept_id));t.setMedicalAllergiesList(M)}function E(H=8,M=""){const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let K=M;for(let X=0;X<H;X++)K+=L.charAt(Math.floor(Math.random()*L.length));return K+="-".concat(Date.now()),K}async function U(H){try{const M=H.trim();if(M){const L={name:M,selected:!0};t.setMedicalAllergiesList([...r.value,L]),t.setSelectedMedicalAllergiesList(L),h.value=!1,f.value=!0,c.value="";const K=t.findSelectedAllergyByName("Other");t.removeSelectedAllergy(K)}}catch(M){console.error(M)}}return(H,M)=>(p(),A(g(Gt),null,{default:i(()=>[n(g(wa),null,{default:i(()=>[n(g(J),{class:"header-container"},{default:i(()=>[n(g(rt),{icon:g(as),class:"allergy-icon"},null,8,["icon"]),M[2]||(M[2]=_("span",{style:{"font-size":"16px","font-weight":"600"}}," Allergies (Medication, Healthcare items, Environment and Food) ",-1))]),_:1,__:[2]})]),_:1}),n(g(Ca),null,{default:i(()=>[n(Fi,{multiSelection:m[0].multi_Selection,show_label:m[0].show_list_label,uniqueId:m[0].unqueId,name_of_list:m[0].name_of_list,choose_place_holder:m[0].placeHolder,"items_-list":r.value,use_internal_filter:m[0].use_internal_filter,disabled:m[0].disabled.value,onItemListUpDated:m[0].listUpdatedFN,onItemListFiltered:m[0].listFilteredFN,onItemSearchText:m[0].searchTextFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered","onItemSearchText"]),h.value?(p(),v("div",Id,[n(g(ae),{modelValue:c.value,"onUpdate:modelValue":M[0]||(M[0]=L=>c.value=L),placeholder:"Please specify the allergy",fill:"outline",class:"custom-input"},null,8,["modelValue"]),n(g(it),{onClick:M[1]||(M[1]=L=>U(c.value)),class:"addCustomAllergyBtn"},{default:i(()=>M[3]||(M[3]=[S(" Add Allergy ")])),_:1,__:[3]})])):$("",!0)]),_:1})]),_:1}))}}),eo=T(Nd,[["__scopeId","data-v-8aa98f55"]]),kd=qe("nonPharmaTherapyStore",{state:()=>({items:[{id:"wound-dressing",label:"Wound dressing",checked:!1},{id:"patient-education",label:"Patient education",checked:!1},{id:"counseling",label:"Counseling",checked:!1},{id:"minor-surgery",label:"Minor Surgery",checked:!1}],current_patient:{}}),actions:{async saveNonPharmaTherapyPatientData(){const e=Qo(),t=[];this.items.forEach(a=>{a.checked==!0&&t.push({concept_id:11023,value_coded:2592,value_text:JSON.stringify(a),obs_datetime:ne.toStandardHisFormat(Oe.getSessionDate()),location_id:e.facilityLocation.code})});try{t.length>0&&Bd(t)}catch(a){tt("Unable to update Non Pharma Therapy!")}this.clearSelectednonPharmaTherapyStore()},clearSelectednonPharmaTherapyStore(){this.items.forEach(e=>{e.checked=!1})},setCurrentPatient(e){this.current_patient=e}},persist:!0});async function Bd(e){var t,a,s;try{const o=Ne(),{patient:r}=zt(o),l=JSON.parse(JSON.stringify(r.value));(s=(a=(t=l.notes)!=null?t:l.notes={}).unsaved)!=null||(a.unsaved=[]),l.notes.unsaved.push(...e),await ia(l,!1),Dt("Non Pharma Therapy has been saved")}catch(o){tt("Unable to create non pharmalogical notes!")}}const $d={class:"checklist-container"},Md=B({watch:{},name:"xxxComponent"}),Ad=B({...Md,setup(e){const t=Ne(),a=Ue(()=>t.patient),s=kd(),o=s.items;dt(async()=>{r()});const r=()=>{s.current_patient.ID!=a.value.ID&&(s.clearSelectednonPharmaTherapyStore(),s.setCurrentPatient(a.value))};return Ke(()=>a.value,async l=>{}),(l,c)=>(p(),v("div",$d,[(p(!0),v(te,null,pe(g(o),h=>(p(),A(g(O),{key:h.id,class:"no-border"},{default:i(()=>[n(g(_n),{id:h.id,modelValue:h.checked,"onUpdate:modelValue":m=>h.checked=m,slot:"start"},null,8,["id","modelValue","onUpdate:modelValue"]),n(g(J),{style:{"font-size":"16px","font-weight":"600"}},{default:i(()=>[S(k(h.label),1)]),_:2},1024)]),_:2},1024))),128))]))}}),to=T(Ad,[["__scopeId","data-v-371e920f"]]),Ed={style:{"margin-top":"14px","margin-left":"10px"}},Vd={class:"ion-padding",slot:"content"},Od={key:0},Td={class:"previousSecDrgs"},Fd={class:"ion-padding",slot:"content"},Hd={class:"previousSecDrgs"},Rd=B({watch:{},name:"xxxComponent"}),Ld=B({...Rd,setup(e){const t=b(),a=b(),s=b(!1),o=b(!1),r=b("Show more notes");dt(async()=>{const h=new Wa,{previousClinicalNotes:m}=await h.getPatientEncounters();t.value=Object.entries(m)[0];const[,...f]=Object.entries(m);a.value=f});function l(h){const m=h.detail.value;m!==void 0?m=="third"&&(r.value="Show less notes",o.value=!s.value):(r.value="Show more notes",o.value=!s.value)}function c(h){return h[1]}return(h,m)=>(p(),A(g(Gt),null,{default:i(()=>[_("div",Ed,[n(g(Mt),{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(g(At),{value:"fourth","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(O),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"previousLabel"},{default:i(()=>m[0]||(m[0]=[S("Previous visits notes")])),_:1,__:[0]})]),_:1}),_("div",Vd,[(p(!0),v(te,null,pe(t.value,(f,y)=>(p(),v("div",{class:"ionLbltp",key:y},[y==1?(p(),v("div",Od,[(p(!0),v(te,null,pe(f,(D,C)=>(p(),v("div",{key:C},[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(D.date),1)]),_:2},1024)]),_("div",Td,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(D.notes),1)]),_:2},1024)]),_:2},1024)])]))),128))])):$("",!0)]))),128)),n(g(Mt),{onIonChange:l},{default:i(()=>[n(g(At),{value:"third","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(O),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"",color:"primary"},{default:i(()=>[S(k(r.value),1)]),_:1})]),_:1}),_("div",Fd,[(p(!0),v(te,null,pe(a.value,(f,y)=>(p(),v("div",{class:"ionLbltp",key:y},[(p(!0),v(te,null,pe(c(f),(D,C)=>(p(),v("div",{key:C},[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(D.date),1)]),_:2},1024)]),_("div",Hd,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(D.notes),1)]),_:2},1024)]),_:2},1024)])]))),128))]))),128))])]),_:1})]),_:1})])]),_:1})]),_:1},512)])]),_:1}))}}),xd=T(Ld,[["__scopeId","data-v-994df42d"]]),Ud={style:{"margin-top":"14px","margin-left":"10px"}},zd=B({watch:{},name:"xxxComponent"}),qd=B({...zd,setup(e){const t=_t(),a=P,s=Ue(()=>t.nonPharmalogicalTherapyAndOtherNotes);function o(l){let c=l.target.value;r(c)}function r(l){_t().setNonPharmalogicalTherapyAndOtherNotes(l)}return(l,c)=>(p(),A(g(Gt),null,{default:i(()=>[n(g(wa),null,{default:i(()=>[n(g(J),{class:"tpStndCls"},{default:i(()=>[n(g(rt),{icon:g(Ai),class:"header-icon","aria-hidden":"true"},null,8,["icon"]),c[1]||(c[1]=S(" Non-pharmalogical therapy and other notes "))]),_:1,__:[1]})]),_:1}),n(g(Ca),null,{default:i(()=>[_("div",null,[n(to),n(g(O),{class:"input_item",style:{"min-height":"120px","margin-top":"14px"}},{default:i(()=>[n(g(J),null,{default:i(()=>[n(g(rt),{slot:"start",icon:g(a).editPen,"aria-hidden":"true"},null,8,["icon"])]),_:1}),n(g(gn),{onIonInput:o,modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=h=>s.value=h),style:{"min-height":"120px"},class:"inputTpln","auto-grow":!0,fill:"outline"},null,8,["modelValue"])]),_:1})]),_("div",Ud,[n(xd)])]),_:1})]),_:1}))}}),Wd=T(qd,[["__scopeId","data-v-fd19ec21"]]),Gd={class:"ion-padding",slot:"content"},jd={key:0},Yd={class:"previousSecDrgs"},Jd={class:"ion-padding",slot:"content"},Kd={class:"previousSecDrgs"},Qd=B({watch:{},name:"xxxComponent"}),Xd=B({...Qd,setup(e){const t=b(!1),a=b(!1),s=b("Show more allergies"),o=b(),r=b();dt(async()=>{const h=new Wa,{previousDrugAllergies:m}=await h.getPatientEncounters();o.value=Object.entries(m)[0];const[,...f]=Object.entries(m);r.value=f});function l(h){const m=h.detail.value;m!==void 0?m=="fith"&&(s.value="Show less allegies",a.value=!t.value):(s.value="Show more allegies",a.value=!t.value)}function c(h){return h[1]}return(h,m)=>{const f=d("ion-card");return p(),A(f,null,{default:i(()=>[n(g(Mt),{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(g(At),{value:"fourth","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(O),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"previousLabel"},{default:i(()=>m[0]||(m[0]=[S("Documented allergies timeline")])),_:1,__:[0]})]),_:1}),_("div",Gd,[(p(!0),v(te,null,pe(o.value,(y,D)=>(p(),v("div",{class:"ionLbltp",key:D},[D==1?(p(),v("div",jd,[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(y[0].date),1)]),_:2},1024)]),(p(!0),v(te,null,pe(y,(C,V)=>(p(),v("div",{key:V},[_("div",Yd,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(C.value),1)]),_:2},1024)]),_:2},1024)])]))),128))])):$("",!0)]))),128)),n(g(Mt),{onIonChange:l},{default:i(()=>[n(g(At),{value:"fith","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(O),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"",color:"primary"},{default:i(()=>[S(k(s.value),1)]),_:1})]),_:1}),_("div",Jd,[(p(!0),v(te,null,pe(r.value,(y,D)=>(p(),v("div",{class:"ionLbltp",key:D},[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(y[0]),1)]),_:2},1024)]),(p(!0),v(te,null,pe(c(y),(C,V)=>(p(),v("div",{key:V},[_("div",Kd,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(C.value),1)]),_:2},1024)]),_:2},1024)])]))),128))]))),128))])]),_:1})]),_:1})])]),_:1})]),_:1},512)]),_:1})}}}),Zd=T(Xd,[["__scopeId","data-v-358c5959"]]),ec={class:"background"},tc={key:0},ac={style:{margin:"10px"}},nc={key:1},sc={style:{margin:"10px"}},ic={key:2},oc={style:{margin:"10px"}},lc=B({__name:"TreatmentPlan",setup(e){const t=b(["medications","allergies","other_notes"]),a=b(t.value[0]);dt(()=>{s(t.value[0])});function s(o){a.value=o}return(o,r)=>(p(),v("div",ec,[n(g(Mo),{value:a.value,style:{"margin-top":"5px"}},{default:i(()=>[n(g(Fn),{value:"medications",onClick:r[0]||(r[0]=l=>s(t.value[0]))},{default:i(()=>[n(g(J),null,{default:i(()=>r[3]||(r[3]=[S("Medications")])),_:1,__:[3]})]),_:1}),n(g(Fn),{value:"allergies",onClick:r[1]||(r[1]=l=>s(t.value[1]))},{default:i(()=>[n(g(J),null,{default:i(()=>r[4]||(r[4]=[S("Allergies")])),_:1,__:[4]})]),_:1}),n(g(Fn),{value:"other_notes",onClick:r[2]||(r[2]=l=>s(t.value[2]))},{default:i(()=>[n(g(J),null,{default:i(()=>r[5]||(r[5]=[S("Non-pharmalogical therapy and other notes")])),_:1,__:[5]})]),_:1})]),_:1},8,["value"]),a.value===t.value[0]?(p(),v("div",tc,[_("div",ac,[n(wd)])])):$("",!0),a.value===t.value[1]?(p(),v("div",nc,[_("div",sc,[n(eo),n(Zd,{style:{"margin-top":"10px"}})])])):$("",!0),a.value===t.value[2]?(p(),v("div",ic,[_("div",oc,[n(Wd)])])):$("",!0)]))}}),rc=T(lc,[["__scopeId","data-v-d844be41"]]);async function r0(){var e,t,a;try{const s=Ne(),{patient:o}=zt(s),r=cc(),l=JSON.parse(JSON.stringify(o.value));if(r.length>0){(a=(t=(e=l.MedicationOrder)!=null?e:l.MedicationOrder={}).unsaved)!=null||(t.unsaved=[]);const c=l.MedicationOrder.unsaved.findIndex(m=>m.NCD_Drug_Orders);if(c>=0)l.MedicationOrder.unsaved[c].NCD_Drug_Orders=[...l.MedicationOrder.unsaved[c].NCD_Drug_Orders,...r];else{const m={NCD_Drug_Orders:r};l.MedicationOrder.unsaved.push(m)}await ia(l,!1),bt().clearMedicationDataStores(),Dt("Drug order(s) has been created")}else tt("Unable to create drug orders!")}catch(s){tt("Unable to create drug orders!")}}function ei(){try{const e=new Date(Oe.getSessionDate()),a=_t().selectedMedicalDrugsList;let s=0;if(a.forEach(m=>{const f=parseInt(m.duration,10);!isNaN(f)&&f>s&&(s=f)}),s<=0)return{date:null,formattedDate:null};const o=new Date(e);o.setDate(e.getDate()+s);const r=String(o.getDate()).padStart(2,"0"),l=String(o.getMonth()+1).padStart(2,"0"),c=o.getFullYear(),h="".concat(r,"/").concat(l,"/").concat(c);return{date:o,formattedDate:h}}catch(e){return console.error("Error calculating OPD medication run out date:",e),{date:null,formattedDate:null}}}function dc(){try{const e=new Date(Oe.getSessionDate()),a=bt().selectedNCDMedicationList;let s=0;if(a.forEach(m=>{const f=parseInt(m.duration,10);!isNaN(f)&&f>s&&(s=f)}),s<=0)return{date:null,formattedDate:null};const o=new Date(e);o.setDate(e.getDate()+s);const r=String(o.getDate()).padStart(2,"0"),l=String(o.getMonth()+1).padStart(2,"0"),c=o.getFullYear(),h="".concat(r,"/").concat(l,"/").concat(c);return{date:o,formattedDate:h}}catch(e){return console.error("Error calculating medication run out date:",e),{date:null,formattedDate:null}}}const cc=()=>{const e=bt();return e.selectedNCDMedicationList.map(t=>{t.frequency=e.frequency_selections[t.drug_id]||"",t.totalDosage=Object.values(t.dosage).reduce((o,r)=>o+Number(r),0);const a=qi.getSessionDate(),s=pc(t.drug_id);return{drug_inventory_id:t.drug_id,equivalent_daily_dose:t.totalDosage=="Unknown"?0:t.totalDosage*(s==null?void 0:s.value)||0,start_date:a,auto_expire_date:ao(a,t.duration),units:t.units,instructions:"".concat(t.name," ").concat(t.totalDosage," ").concat(t.units," ").concat((s==null?void 0:s.code)||""," for ").concat(t.duration," days"),dose:uc(t),frequency:(s==null?void 0:s.code)||""}})},uc=e=>e.dose_strength!=null&&e.dose_strength?Math.trunc(e.dose_strength):1;async function d0(){var e,t,a;try{const s=Ne(),{patient:o}=zt(s),r=hc(),l=JSON.parse(JSON.stringify(o.value));if(r.length>0){(a=(t=(e=l.MedicationOrder)!=null?e:l.MedicationOrder={}).unsaved)!=null||(t.unsaved=[]);const c=l.MedicationOrder.unsaved.findIndex(m=>m.NCD_Drug_Orders);if(c>=0)l.MedicationOrder.unsaved[c].NCD_Drug_Orders=[...l.MedicationOrder.unsaved[c].NCD_Drug_Orders,...r];else{const m={NCD_Drug_Orders:r};l.MedicationOrder.unsaved.push(m)}await ia(l,!1),_t().clearSelectedMedicalDrugsList(),Dt("Drug order(s) has been created")}else tt("Unable to create drug orders!")}catch(s){tt("Unable to create drug orders!")}}const hc=()=>_t().selectedMedicalDrugsList.map(t=>{const a=qi.getSessionDate(),s=xt.find(o=>o.label===t.frequency)||{};return{drug_inventory_id:t.drug_id,equivalent_daily_dose:t.dose=="Unknown"?0:t.dose*(s==null?void 0:s.value)||0,start_date:a,auto_expire_date:ao(a,t.duration),units:t.units,instructions:"".concat(t.drugName,": ").concat(t.dose," ").concat(t.units," ").concat((s==null?void 0:s.code)||""," for ").concat(t.duration," days"),dose:t.dose,frequency:(s==null?void 0:s.code)||""}}),pc=e=>{const a=bt().selectedNCDMedicationList.find(o=>o.drug_id===e);if(!a||!a.dosage)return null;switch(["morning","afternoon","evening"].reduce((o,r)=>o+(a.dosage[r]?1:0),0)){case 1:return a.dosage.morning?xt.find(o=>o.code==="QAM"):a.dosage.afternoon?xt.find(o=>o.code==="QNOON"):a.dosage.evening?xt.find(o=>o.code==="QPM"):xt.find(o=>o.code==="OD");case 2:return xt.find(o=>o.code==="BD");case 3:return xt.find(o=>o.code==="TDS");default:return xt.find(o=>o.code==="Unknown")}},ao=(e,t)=>{const a=new Date(e);return a.setDate(a.getDate()+parseInt(t)),ne.toStandardHisFormat(a)},mc=B({components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicInputField:ee,IonDatetime:ss,IonBadge:Ao,DateInputField:Xo,DynamicButton:Be},setup(){const e=qn(),t=b(0),a=Ue(()=>e.getDisabledDates()),s=Ue(()=>e.getAssignedAppointments()),o=b();return{disabledDates:a,datesCounts:s,appointment_count:t,calendarOutline:Eo,inputPRDate:o}},data(){return Lt(),un(),{iconsContent:P,date:new Date(Oe.getSessionDate()),tomorrow:new Date(Oe.getSessionDate()).getDate()+1,appointment:"",drugRunoutDate:"",nextAppointmentDate:"",minDate:new Date(Oe.getSessionDate())}},computed:{...w(Lt,["nextAppointment","appointmentCountsCache","currentSelectedNextAppointmentDate"]),...w(qn,["maximumNumberOfDaysForEachDay","assignedAppointmentsDates"]),...w(Ne,["patient"]),...w(un,["activeProgram"]),calendarDate(){const e=Lt();return e.currentSelectedNextAppointmentDate?ne.toStandardHisDisplayFormat(e.currentSelectedNextAppointmentDate):""},runOutDate(){var e;return((e=this.activeProgram)==null?void 0:e.program_id)===14?ei():dc()}},watch:{calendarDate:{handler(){this.updateNextAppointment()},deep:!0},"$service.sessionDate":{handler(){this.updateMinDate()},immediate:!0},"patient.ID":{async handler(e,t){e!==t&&(this.cleanCurrentNextAppointmentDate(),this.checkIfSamePatientInContext())}}},async mounted(){this.checkIfSamePatientInContext(),await this.getAppointmentMents(this.runOutDate.date),await tl().loadGlobalProperty(),this.validateAppointmentCountsCache(),await this.preloadAppointmentCounts(),Hl();const e=Oe.getUserID(),t=new Me;this.appointment=new Ea(t.getID(),e),this.nextAppointmentDate=this.appointment.date,this.supposedRunOutDate(),window.addEventListener("storage",this.handleStorageChange),ei()},beforeUnmount(){window.removeEventListener("storage",this.handleStorageChange)},methods:{handleStorageChange(e){e.key==="sessionDate"&&this.updateMinDate()},updateMinDate(){this.date=new Date(Oe.getSessionDate()),this.minDate=new Date(Oe.getSessionDate())},updateNextAppointment(){Lt().setNextAppointment(this.calendarDate)},async handleDateUpdate(e){e&&(qn().setsssignedAppointmentsDates(e,!0),this.calendarDate=ne.toStandardHisDisplayFormat(e),await this.save(),await this.getAppointmentMents(e),await this.updateAppointmentCache(e),Lt().setCurrentSelectedNextAppointmentDate(e,this.patient.ID))},async getAppointmentMents(e){if(el().apiStatus)try{const a=await Ea.getDailiyAppointments(ne.toStandardHisFormat(e),ne.toStandardHisFormat(e));this.appointment_count=a.length}catch(a){}},getCounter(e){const t=ne.toStandardHisFormat(e);return this.appointmentCountsCache[t]||""},async save(){if(this.assignedAppointmentsDates.length>0)try{const t=await new Al().createOfflineAppointment()}catch(e){}},async openCornfirmModal(e){this.calendarDate=ne.toStandardHisDisplayFormat(e),await this.getAppointmentMents(e),St(Zo,{class:"otherVitalsModal"},!0,{message:"Are you sure you want to add this Appointment?"},{cancel:o=>{},confirm:async o=>{o.detail==!0&&await this.handleDateUpdate(e)}})},async handleInput(e){this.inputPRDate=ne.toStandardHisDisplayFormat(e),await this.openCornfirmModal(e)},async supposedRunOutDate(){await Fa.getLastDrugsReceived(this.patient.patientID)},async preloadAppointmentCounts(){try{const e=new Date(Oe.getSessionDate());e.setDate(1);const t=new Date(Oe.getSessionDate());t.setMonth(t.getMonth()+2),t.setDate(0);const a=this.generateDateRange(e,t);for(const s of a)try{const o=await Ea.getDailiyAppointments(ne.toStandardHisFormat(s),ne.toStandardHisFormat(s)),r=ne.toStandardHisFormat(s);this.appointmentCountsCache[r]=o.length}catch(o){console.error("Error fetching appointments for ".concat(s,":"),o);const r=ne.toStandardHisFormat(s);this.appointmentCountsCache[r]=0}}catch(e){console.error("Error in preload process:",e)}},generateDateRange(e,t){const a=[],s=new Date(e);for(;s<=t;)a.push(new Date(s)),s.setDate(s.getDate()+1);return a},async updateAppointmentCache(e){try{const t=ne.toStandardHisFormat(e),a=await Ea.getDailiyAppointments(ne.toStandardHisFormat(e),ne.toStandardHisFormat(e));this.appointmentCountsCache[t]=a.length}catch(t){console.error("Error updating appointment cache:",t)}},validateAppointmentCountsCache(){Lt().checkCurrentLocationIfInContext()},isRunOutDate(e){return!this.runOutDate||!this.runOutDate.date?!1:ne.toStandardHisFormat(e)===ne.toStandardHisFormat(this.runOutDate.date)},cleanCurrentNextAppointmentDate(){Lt().cleanCurrentSelectedNextAppointmentDate()},checkIfSamePatientInContext(){const e=Lt();e.current_patient.ID!=this.patient.ID&&(this.cleanCurrentNextAppointmentDate(),e.setCurrentPatient(this.patient))}}}),fc={class:"card_content"},_c={class:"count-badge"},vc={class:"dates_title"},gc={class:"sub_data"},yc={class:"dates_title"},bc={class:"sub_data"},Dc={class:"dates_title"},Sc={class:"sub_data"},Cc={class:"dates_title"},wc={class:"sub_data"};function Ic(e,t,a,s,o,r){const l=d("VueDatePicker"),c=d("ion-col"),h=d("DynamicButton"),m=d("ion-item"),f=d("ion-row"),y=d("DateInputField");return p(),v("div",fc,[n(f,null,{default:i(()=>[n(c,{"size-sm":"12","size-md":"12","size-lg":"12","size-xl":"8"},{default:i(()=>[n(l,{class:"calender",onDateUpdate:e.openCornfirmModal,inline:"","auto-apply":"","enable-time-picker":!1,"disabled-dates":e.disabledDates,"min-date":e.minDate,modelValue:e.runOutDate.date,"onUpdate:modelValue":t[0]||(t[0]=D=>e.runOutDate.date=D)},{day:i(({day:D,date:C})=>[(p(),v("p",{key:0,class:ut({"run-out-date":e.isRunOutDate(C)}),style:{"font-weight":"600","font-size":"20px"}},[_("span",null,[S(k(D),1),_("sup",_c,k(e.getCounter(C)),1)])],2))]),_:1},8,["onDateUpdate","disabled-dates","min-date","modelValue"])]),_:1}),n(c,null,{default:i(()=>[n(m,null,{default:i(()=>[_("div",vc,[t[3]||(t[3]=_("div",null,[S("Suggested Next Appointment Date "),_("span",{style:{"font-size":"16px"}},"(Medication run out date)")],-1)),_("div",gc,[S(k(e.runOutDate.formattedDate||"No run out date available")+" ",1),e.runOutDate.formattedDate?(p(),A(h,{key:0,onClick:t[1]||(t[1]=D=>e.handleDateUpdate(e.runOutDate.date)),name:"Set Next Appt.",fill:"solid",iconSlot:"icon-only",style:{float:"right"}})):$("",!0)])])]),_:1}),n(m,null,{default:i(()=>[_("div",yc,[t[4]||(t[4]=_("div",null,"User set appointment date",-1)),_("div",bc,k(e.calendarDate),1)])]),_:1}),n(m,null,{default:i(()=>[_("div",Dc,[t[5]||(t[5]=_("div",null,"Appointments",-1)),_("div",Sc,k(e.appointment_count),1)])]),_:1}),n(m,null,{default:i(()=>[_("div",Cc,[t[6]||(t[6]=_("div",null,"Appointment limit (per/day)",-1)),_("div",wc,k(e.appointment_count)+"/"+k(e.maximumNumberOfDaysForEachDay),1)])]),_:1})]),_:1})]),_:1}),n(f,null,{default:i(()=>[n(c,{size:"4"},{default:i(()=>[n(y,{inputHeader:"Preferred Next Appointment Date",bold:"600",fontSize:"17px",placeholderFontSize:"17px",placeholderFontWeight:"600",unit:"",icon:e.calendarOutline,placeholder:"press to select date",iconRight:"",inputWidth:"100%",inputValue:e.inputPRDate,eventType:"",minDate:e.minDate,maxDate:"",disabled:!1,"onUpdate:rawDateValue":t[2]||(t[2]=D=>e.handleInput(D))},null,8,["icon","inputValue","minDate"])]),_:1})]),_:1})])}const Pc=T(mc,[["render",Ic],["__scopeId","data-v-b92d422a"]]),Nc=B({data:()=>({BMI:{},BPStatus:{},vitalsData:{}}),computed:{...w(Ne,["patient"])},methods:{async setTodayVitals(){var s,o;const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","SAO2","Respiratory rate"],t=ne.getAgeInYears((o=(s=this.patient)==null?void 0:s.personInformation)==null?void 0:o.birthdate),a=e.map(async r=>{const l=await Ve.getFirstObsDatetime(this.patient.patientID,r);l&&ne.toStandardHisFormat(l)==ne.sessionDate()?(r=="Weight"&&R(this.vitalsData,"Height And Weight Not Done","displayNone",!0),r=="Systolic"&&R(this.vitalsData,"Blood Pressure Not Done","displayNone",!0),r=="Pulse"&&R(this.vitalsData,"Pulse Rate Not Done","displayNone",!0),r=="Respiratory rate"&&R(this.vitalsData,"Respiratory rate Not Done","displayNone",!0),u(this.vitalsData,r,"value",await Ve.getFirstValueNumber(this.patient.patientID,r,ne.sessionDate())),u(this.vitalsData,r,"disabled",!0)):u(this.vitalsData,r,"value",""),r==="Respiratory rate"&&t<=5&&(u(this.vitalsData,r,"required",!0),u(this.vitalsData,r,"inputHeader","Respiratory rate*"))});await Promise.all(a)},async setBMI(e,t){var a,s,o,r,l,c,h,m;(s=(a=this.patient)==null?void 0:a.personInformation)!=null&&s.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&F.vitalsHeight(e)==null&&F.vitalsWeight(t)==null?this.BMI=await qt.getBMI(parseInt(t),parseInt(e),(c=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:c.gender,ne.calculateAge((m=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:m.birthdate,ne.sessionDate())):this.BMI={},await this.updateBMI()},async updateBMI(){var t,a,s,o,r,l;if(!this.vitalsData[0])return;const e=(a=(t=this.BMI)==null?void 0:t.color)!=null?a:[];this.updateRate("bmi","BMI "+((o=(s=this.BMI)==null?void 0:s.index)!=null?o:""),"",{colors:e,value:(l=(r=this.BMI)==null?void 0:r.result)!=null?l:""},qt.iconBMI(e))},async updateBP(e,t){var s,o,r,l;this.BPStatus=this.getBloodPressureStatus(e,t),F.vitalsSystolic(e)==null&&F.vitalsDiastolic(t)==null||(this.BPStatus={});const a=(o=(s=this.BPStatus)==null?void 0:s.colors)!=null?o:[];this.updateRate("bp",e+"/"+t,"mmHg",{colors:a,value:(l=(r=this.BPStatus)==null?void 0:r.value)!=null?l:""},bn(a))},async updateRate(e,t,a,s,o=""){var c,h;if(!t)return;const r=t+" "+a,l=(c=s==null?void 0:s.colors)!=null?c:[];$a(this.vitalsData,e,"icon",o||""),$a(this.vitalsData,e,"textColor",l[1]),$a(this.vitalsData,e,"index",r),$a(this.vitalsData,e,"backgroundColor",l[0]),$a(this.vitalsData,e,"value",(h=s==null?void 0:s.value)!=null?h:"")},getBloodPressureStatus(e,t){if(e&&t){let a,s,o,r;const c=new Me().getAge();return c<1?(a=75,s=100,o=50,r=70):c>=1&&c<6?(a=80,s=110,o=50,r=80):c>=6&&c<13?(a=85,s=120,o=55,r=80):c>=13&&c<18?(a=95,s=140,o=60,r=90):(a=100,s=130,o=60,r=90),e<a&&t<o?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP "}:e>=a&&e<=s&&t>=o&&t<=r?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP "}:e>140&&t>90?{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP"}:e<a?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP  (Using Systolic Only)"}:e>=a&&e<=s?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP  (Using Systolic Only)"}:{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP  (Using Systolic Only)"}}},getTemperatureStatus(e){if(e&&F.vitalsTemperature(e)==null){let t,a;const o=new Me().getAge();if(o<=1||o>=1&&o<=18||o>=19&&o<=64||o>=65?(t=35.5,a=37.4):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Temperature "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Temperature "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Temperature "}}else return{}},getPulseRateStatus(e){if(F.vitalsPulseRate(e)==null){let t,a;const o=new Me().getAge();if(o<=.25?(t=100,a=160):o>=.25&&o<=1||o>=1&&o<=2?(t=80,a=120):o>=6&&o<=12?(t=70,a=100):o>=13&&o<=18?(t=55,a=90):o>=18?(t=60,a=100):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Pulse Rate "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Pulse Rate "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Pulse Rate "}}},getOxygenSaturationStatus(e){if(e&&F.vitalsOxygenSaturation(e)==null){let t=95,a=100;if(e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low oxygen saturation"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal oxygen saturation"}}},getRespiratoryRateStatus(e){if(F.vitalsRespiratoryRate(e)==null){let t,a;const o=new Me().getAge();if(o<=1?(t=30,a=60):o>=1&&o<3?(t=24,a=40):o>=3&&o<=6?(t=22,a=34):o>=6&&o<=12?(t=18,a=30):o>=12&&o<=18?(t=12,a=16):o>=19?(t=12,a=20):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low respiratory rate"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal respiratory rate"};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High respiratory rate"}}}}});class kc extends Et{constructor(a,s){super(a,54,s);ct(this,"drugHistory");ct(this,"currentDrugOrder");this.drugHistory=[],this.currentDrugOrder=[]}getDrugHistory(){return this.drugHistory}getCurrentOrder(){return this.currentDrugOrder}buildDispensations(a,s){return[{drug_order_id:a,date:this.date,quantity:s}]}saveDispensations(a){return Et.postJson("/dispensations",{dispensations:a,program_id:Et.getProgramID()})}async voidOrder(a){return Et.void("/dispensations/".concat(a),{})}async loadDrugHistory(){const a=await Fa.getDrugOrderHistory(this.patientID);a&&(this.drugHistory=a)}async loadCurrentDrugOrder(){const a=await Fa.getDrugOrders(this.patientID);a&&(this.currentDrugOrder=await Promise.all(a))}calcCompletePack(a,s){const o=a.barcodes.sort(function(c,h){return c.tabs-h.tabs});if(o.length==0||s==0)return s;for(let c=0;c<=o.length-1;c++)if(parseInt(o[c].tabs)>=s)return o[c].tabs;const r=parseInt(o[0].tabs);let l=parseInt(o[o.length-1].tabs);for(;l<s;)l+=r;return l}}const aa=qe("dispensation",{state:()=>({drugPrescriptions:[],dispensedMedication:[],payload:{},saveInitiated:!1,StepperData:[{title:"Dispense Medications",component:"dispensedMedication",value:"1"}]}),actions:{resetStore(){this.drugPrescriptions=[],this.dispensedMedication=[],this.payload={},this.saveInitiated=!1},editDispensations(){this.toggleStepperData()},getStepperData(){return this.StepperData},toggleStepperData(){this.StepperData[0].component=="dispensedMedication"?this.StepperData.splice(0,1,{title:"Dispensation Summary",component:"dispensationSummary",value:"1"}):this.StepperData.splice(0,1,{title:"Dispense Medications",component:"dispensedMedication",value:"1"})},isSaveInitiated(e){this.saveInitiated=e},validateInputs(){if(this.saveInitiated==!1)return!1;let e=!1;return console.log("Validating drugPrescriptions:",this.drugPrescriptions),this.drugPrescriptions.forEach((t,a)=>{t.other||(console.error("Item ".concat(a,": Element.other is undefined.")),t.other={quantity:0},e=!0);const s=Number(t.other.quantity);console.log("Item ".concat(a,": Quantity = ").concat(s,", Reason = ").concat(t.reason,", isSelected = ").concat(t.isSelected)),t.isSelected?s<=0?(t.showValidation=!0,e=!0):t.showValidation=!1:t.reason===""?(t.showValidation=!0,e=!0):t.showValidation=!1}),e},initializeDispensedAmount(){this.drugPrescriptions.forEach(e=>{e.other||(e.other={quantity:0}),e.other.quantity=0})},initializeValidationsBoolean(){this.drugPrescriptions.forEach(e=>{e.showValidation=!1})},initializeReasonParameter(){this.drugPrescriptions.forEach(e=>{e.reason=""})},getValidation(e){return this.drugPrescriptions[e].showValidation},setReason(e,t){this.drugPrescriptions[t].reason=e},setDrugPrescriptions(e){this.drugPrescriptions=e},getDrugPrescriptions(){return this.drugPrescriptions},updateCheckboxBool(e,t){this.drugPrescriptions[t].other||(this.drugPrescriptions[t].other={quantity:0}),this.drugPrescriptions[t].isSelected=e,e||(this.drugPrescriptions[t].other.quantity=0,this.drugPrescriptions[t].reason="")},getCheckedBool(e){return this.drugPrescriptions[e].isSelected},getReason(e){return this.drugPrescriptions[e].reason},getDispensedMedications(){return this.dispensedMedication},addQuantity(e,t){this.drugPrescriptions[t].other||(this.drugPrescriptions[t].other={quantity:0}),this.drugPrescriptions[t].other.quantity=Number(e)},saveDispensedMedications(){this.dispensedMedication=this.drugPrescriptions},setDispensedMedicationsPayload(){const e={dispensations:[],program_id:14},t=[];this.dispensedMedication.forEach(a=>{const s={drug_order_id:null,quantity:null,date:null};s.drug_order_id=a.other.order_id,s.quantity=a.other.quantity,s.date=a.prescription,t.push(s)}),e.dispensations=t,this.payload=e},getDispensedMedicationsPayload(){return this.payload}}}),Bc={style:{display:"flex","flex-direction":"column",width:"100%"}},$c={class:"flex-item"},Mc={key:1},Ac={key:0},Ec={key:1},Vc={key:3},Oc=B({components:{IonItem:O,IonCol:ge,IonLabel:J},computed:{...w(aa,["drugPrescriptions"])},data(){return{iconsContent:P,dataArray:[...this.$props.dataArray],dispensationStore:aa(),noDispensationReason:[{name:"Out of stock",selected:!1},{name:"Wrong prescription",selected:!1}],title:"Select a reason"}},props:{dataArray:{type:Array,default:[]},show_actions_buttons:{type:Boolean,default:!0},withCheckboxs:{type:Boolean,default:!1},showInputs:{type:Boolean,default:!1},value:{type:String,default:""}},watch:{},methods:{highlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#006401"),this.highlightActionBtns(e)},undoHighlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="rgb(0,0,0)"),this.undohighlightActionBtns(e)},highlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="block"},undohighlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="none"},asignLblID(e){return e+"_lbl"},asignSpanLblID(e){return e+"_spanlbl"},async removeItemAtIndex(e,t){await jt("Do you want to delete it?",t)&&this.$emit("remove-item",e)},editItemAtIndex(e){this.$emit("edit-item",e)}}}),Tc=B({...Oc,__name:"DynamicList",setup(e){const t=b(!1);b("");const a=b(!1),s=b(Event);function o(r){s.value=r,t.value=!0}return(r,l)=>{const c=d("ion-row"),h=d("ion-checkbox"),m=d("ion-input"),f=d("ion-icon");return p(),v(te,null,[n(c,{class:"header-row",style:{"padding-top":"1rem"}},{default:i(()=>[n(g(ge),{class:"header-col"},{default:i(()=>[n(g(J),{class:"header-label bold"},{default:i(()=>l[6]||(l[6]=[S("Drug name and frequency ")])),_:1,__:[6]})]),_:1}),n(g(ge),{class:"header-col"},{default:i(()=>[n(g(J),{class:"header-label bold"},{default:i(()=>l[7]||(l[7]=[S("Quantity")])),_:1,__:[7]})]),_:1})]),_:1}),(p(!0),v(te,null,pe(r.dataArray,(y,D)=>(p(),A(g(O),{class:"ionLbltp",key:D,onMousemove:C=>r.highlightItem(D),onMouseout:C=>r.undoHighlightItem(D)},{default:i(()=>[n(c,null,{default:i(()=>[n(g(ge),{class:"col-st1"},{default:i(()=>[r.withCheckboxs?(p(),A(h,{key:0,id:D,onIonChange:l[0]||(l[0]=C=>r.$emit("clickt",C)),justify:"start",labelPlacement:"end",checked:!0},{default:i(()=>[_("div",Bc,[_("div",$c,[n(g(J),{id:r.asignLblID(D),style:{color:"#00190E","font-weight":"400"}},{default:i(()=>[S(k(y.drugName),1)]),_:2},1032,["id"]),n(g(J),{style:{color:"#636363","font-weight":"400"}},{default:i(()=>[S(k(y.frequency)+" / for "+k(y.duration)+" days",1)]),_:2},1024)])])]),_:2},1032,["id"])):$("",!0),r.withCheckboxs?$("",!0):(p(),v("div",Mc,[_("div",{onClick:l[1]||(l[1]=C=>r.$emit("click",C)),style:{display:"flex","flex-direction":"column",width:"100%"}},[n(g(J),{id:r.asignLblID(D),style:{color:"#00190E","font-weight":"400"}},{default:i(()=>[S(k(y.drugName),1)]),_:2},1032,["id"]),n(g(J),{style:{color:"#636363","font-weight":"400"}},{default:i(()=>[S(k(y.frequency)+" / for "+k(y.duration)+" days",1)]),_:2},1024)])]))]),_:2},1024),n(g(ge),null,{default:i(()=>[!r.showInputs&&y.other.quantity>0?(p(),v("div",Ac,[n(g(J),{color:"primary"},{default:i(()=>[S(k(y.other.quantity)+" dispensed",1)]),_:2},1024)])):!r.showInputs&&y.other.quantity<1?(p(),v("div",Ec,[n(g(J),{style:{color:"#b42318"}},{default:i(()=>[S("Not Dispensed. ("+k(y.reason)+")",1)]),_:2},1024)])):$("",!0),r.dispensationStore.getCheckedBool(D)&&r.showInputs?(p(),A(g(O),{key:2,class:"input_item"},{default:i(()=>[n(g(J),{style:{"padding-right":"3px"}},{default:i(()=>l[8]||(l[8]=[S("Quantity:")])),_:1,__:[8]}),n(m,{id:D,placeholder:"0",onIonInput:l[2]||(l[2]=C=>r.$emit("updateQuantity",C))},null,8,["id"])]),_:2},1024)):$("",!0),r.dispensationStore.getValidation(D)?(p(),v("span",Vc,[n(g(J),{style:{color:"red"}},{default:i(()=>l[9]||(l[9]=[S("Please fill in this section")])),_:1,__:[9]})])):$("",!0),!r.dispensationStore.getCheckedBool(D)&&r.showInputs?(p(),A(g(O),{key:4,class:"input_item",style:{width:"200px"}},{default:i(()=>[_("span",{style:{display:"flex","align-items":"center"},id:"chooseType",onClick:o},[n(m,{id:D,value:r.dispensationStore.getReason(D),onIonFocus:l[3]||(l[3]=C=>r.$emit("getInputID",C)),placeholder:"Reason why?"},null,8,["id","value"]),a.value?$("",!0):(p(),A(f,{key:0,icon:g(is)},null,8,["icon"])),a.value?(p(),A(f,{key:1,icon:g(os)},null,8,["icon"])):$("",!0)]),n(Vt,{content:r.noDispensationReason,title:r.title,popoverOpen:t.value,onClosePopoover:l[4]||(l[4]=C=>t.value=C),event:s.value,onSetSelection:l[5]||(l[5]=C=>r.$emit("getSelectedReason",C))},null,8,["content","title","popoverOpen","event"])]),_:2},1024)):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onMousemove","onMouseout"]))),128))],64)}}}),ti=T(Tc,[["__scopeId","data-v-5b73e01b"]]),Fc={key:0,class:"diagnosis-list"},Hc={class:"item-name"},Rc={class:"item-type"},Lc={key:1},xc={key:0},Uc={key:1},zc={key:0},qc=B({watch:{$route:{immediate:!0,deep:!0,handler(){this.getPatientDiagnosis()}}},name:"xxxComponent",computed:{...w(aa,["drugPrescriptions"]),...w(Ne,["patient"])},data(){return{addOutline:ls,list:[],isLoading:!1}},async mounted(){await this.getPatientDiagnosis()},methods:{async getPatientDiagnosis(){this.isLoading=!0,this.list=[];const e=this.patient.patientID,t=new Date(Oe.getSessionDate()).toISOString().split("T")[0];console.log(t);try{const a=await Ve.getAll(e,"Primary diagnosis"),s=await Ve.getAll(e,"Secondary diagnosis"),o=await Ve.getAll(e,"Attempted/ Differential diagnosis"),r=[],l=h=>h.filter(m=>new Date(m.obs_datetime).toISOString().split("T")[0]===t),c=async(h,m)=>{const f=l(h);return await Promise.all(f.map(async y=>({display:[await Ve.getConceptName(y.value_coded),m]})))};if(!$e.isEmpty(a)){const h=await c(a,"Primary diagnosis");r.push(...h)}if(!$e.isEmpty(s)){const h=await c(s,"Secondary diagnosis");r.push(...h)}if(!$e.isEmpty(o)){const h=await c(o,"Differential diagnosis");r.push(...h)}this.list=r}catch(a){console.error("Error fetching diagnoses:",a)}finally{this.isLoading=!0}},resetStore(){this.drugPrescriptions=[]},setListData(e){this.list=[],e.forEach(t=>{this.list.push({display:[t.name]})})}}}),Wc=B({...qc,setup(e){const t=Ne(),a=Ue(()=>t.patient),s=aa(),o=xa(),r=Ue(()=>o.selectedMedicalAllergiesList),l=b(""),c=Ue(()=>s.getDispensedMedications());Ke(c,H=>{console.log("Dispensed Medications Updated:",H)});function h(H){return H}function m(H){const M=/(\d+)\s+days/i,L=H.match(M);return L&&L.length>1?parseInt(L[1]):null}async function f(){const H=new Date(Oe.getSessionDate()).toISOString().split("T")[0],M=a.value.patientID;try{const L=await Fa.getOrderByPatient(M,{start_date:H});if(console.log("Fetched medications:",L),!L||L.length===0){console.log("No medications found for the patient."),s.setDrugPrescriptions([]);return}const K=L.map(X=>({drugName:X.drug.name,dose:X.dose,frequency:X.frequency,duration:m(X.order.instructions),prescription:ne.toStandardHisFormat(X.order.auto_expire_date),drug_id:X.drug.drug_id,units:X.units,route_concept_id:X.route_concept_id,route_name:X.route_name,other:{quantity:0,order_id:X.order_id},reason:"",isSelected:!0,showValidation:!1}));console.log("Formatted medications:",K),s.setDrugPrescriptions(K)}catch(L){console.error("Error fetching medications:",L),s.setDrugPrescriptions([])}}dt(async()=>{await f()}),Ke(()=>a.value,async(H,M)=>{H&&H.patientID!==M.patientID&&(s.resetStore(),await f(),s.drugPrescriptions.forEach(L=>{L.quantity||(L.quantity=0)}))},{immediate:!0,deep:!0});function y(){s.editDispensations()}function D(H){l.value=H.name}function C(H){l.value!=""&&(s.setReason(l.value,H.target.id),l.value="",s.validateInputs())}function V(H){const M=H.target.id,L=H.detail.value;s.addQuantity(L,M),s.validateInputs()}function E(H){const M=H.target.id,L=H.detail.checked;s.updateCheckboxBool(L,M)}function U(){if(s.isSaveInitiated(!0),s.validateInputs())return;console.log("Saving dispensed medications..."),s.saveDispensedMedications(),s.setDispensedMedicationsPayload();const H=new kc(a.value.patientID,Oe.getUserID()),M=s.getDispensedMedicationsPayload();H.saveDispensations(M.dispensations),console.log("Dispensed Medications:",s.getDispensedMedications())}return(H,M)=>{const L=d("ion-loading"),K=d("ion-row"),X=d("ion-icon");return p(),v(te,null,[H.isLoading?(p(),A(L,{key:0,message:"Loading data, please wait...",spinner:"bubbles"})):$("",!0),n(g(x),null,{default:i(()=>[n(g(J),null,{default:i(()=>M[1]||(M[1]=[S("Allergies (Medication, Healthcare items, Environment and Food)")])),_:1,__:[1]}),n(K,null,{default:i(()=>[n(g(O),{lines:"none",class:"medicalAl"},{default:i(()=>[n(K,null,{default:i(()=>[(p(!0),v(te,null,pe(r.value,(ue,ie)=>(p(),v("div",{key:ie},[ue.selected?(p(),A(g(it),{key:0,class:"medicalAlBtn"},{default:i(()=>[S(k(ue.name),1)]),_:2},1024)):$("",!0)]))),128))]),_:1})]),_:1})]),_:1}),n(g(J),null,{default:i(()=>M[2]||(M[2]=[S("Diagnoses")])),_:1,__:[2]}),n(K,null,{default:i(()=>[n(g(O),{lines:"none",class:"medicalAl"},{default:i(()=>[n(K,null,{default:i(()=>[H.list.length>0?(p(),v("div",Fc,[M[3]||(M[3]=_("div",{class:"diagnosis-header"},[_("span",{class:"header-name"},"Diagnosis name"),_("span",{class:"header-type"},"Diagnosis type")],-1)),(p(!0),v(te,null,pe(H.list,(ue,ie)=>(p(),v("div",{key:ie,class:"diagnosis-item"},[_("span",Hc,k(ue.display[0]),1),_("span",Rc,k(ue.display[1]),1)]))),128))])):(p(),v("div",Lc,"No diagnoses were added."))]),_:1})]),_:1})]),_:1}),M[7]||(M[7]=_("div",{class:"space"},null,-1)),n(g(J),null,{default:i(()=>M[4]||(M[4]=[S("Prescribed Medications To Be Dispensed")])),_:1,__:[4]}),g(s).getDrugPrescriptions()&&g(s).getDrugPrescriptions().length>0?(p(),v("div",xc,[n(ti,{onClickt:E,dataArray:g(s).drugPrescriptions,withCheckboxs:!0,showInputs:!0,show_actions_buttons:!1,onUpdateQuantity:V,onGetInputID:C,onGetSelectedReason:D},null,8,["dataArray"]),_("div",null,[M[6]||(M[6]=_("div",{class:"space3"},null,-1)),n(g(it),{class:"faded-green no-background",style:{"padding-left":"15px","border-radius":"1px"},onClick:M[0]||(M[0]=ue=>U())},{default:i(()=>[n(X,{slot:"start",icon:g(ls)},null,8,["icon"]),M[5]||(M[5]=S(" Submit "))]),_:1,__:[5]})])])):(p(),v("div",Uc,"No medications were added for this patient."))]),_:1,__:[7]}),n(g(x),null,{default:i(()=>[g(s).getDispensedMedications()&&g(s).getDispensedMedications().length>0?(p(),v("div",zc,[n(g(J),null,{default:i(()=>M[8]||(M[8]=[S("Here is the dispensation summary")])),_:1,__:[8]}),n(ti,{onClick:y,dataArray:g(s).getDispensedMedications(),withCheckboxs:!1,showInputs:!1,show_actions_buttons:!1},null,8,["dataArray"])])):$("",!0)]),_:1})],64)}}}),Gc=T(Wc,[["__scopeId","data-v-36fd7d91"]]),jc={style:{display:"flex",padding:"0.3em"}},Yc={style:{display:"flex",padding:"0.3em"}},Jc={style:{display:"flex",padding:"0.3em"}},Kc={style:{padding:"0.3em"}},Qc={key:1},Xc={key:0},Zc={key:1},eu={key:3},tu=B({components:{IonItem:O,IonCol:ge,IonLabel:J},computed:{...w(aa,["drugPrescriptions"])},data(){return{iconsContent:P,dataArray:[...this.$props.dataArray],dispensationStore:aa(),noDispensationReason:[{name:"Out of stock",selected:!1},{name:"Wrong prescription",selected:!1}],title:"Select a reason"}},props:{dataArray:{type:Array,default:[]},show_actions_buttons:{type:Boolean,default:!0},withCheckboxs:{type:Boolean,default:!1},showInputs:{type:Boolean,default:!1},value:{type:String,default:""}},watch:{},methods:{highlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#006401"),this.highlightActionBtns(e)},undoHighlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="rgb(0,0,0)"),this.undohighlightActionBtns(e)},highlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="block"},undohighlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="none"},asignLblID(e){return e+"_lbl"},asignSpanLblID(e){return e+"_spanlbl"},async removeItemAtIndex(e,t){await jt("Do you want to delete it?",t)&&this.$emit("remove-item",e)},editItemAtIndex(e){this.$emit("edit-item",e)}}}),au=B({...tu,__name:"DynamicListOPDcopy",setup(e){const t=b(!1);b("");const a=b(!1),s=b(Event);function o(r){s.value=r,t.value=!0}return(r,l)=>{const c=d("ion-row"),h=d("ion-checkbox"),m=d("ion-input"),f=d("ion-icon");return p(),v(te,null,[n(c,{style:{"padding-top":"1rem"}},{default:i(()=>[n(g(ge),null,{default:i(()=>[_("div",jc,[n(g(J),{style:{width:"500px",color:"#00190E","font-weight":"550",font:"inter","line-height":"21px"}},{default:i(()=>l[6]||(l[6]=[S("Drug Name")])),_:1,__:[6]})])]),_:1}),n(g(ge),null,{default:i(()=>[_("div",Yc,[n(g(J),{style:{width:"280px",color:"#00190E","font-weight":"550",font:"inter","line-height":"21px"}},{default:i(()=>l[7]||(l[7]=[S("Duration")])),_:1,__:[7]})])]),_:1}),n(g(ge),null,{default:i(()=>[_("div",Jc,[n(g(J),{style:{color:"#00190E","font-weight":"550",font:"inter","line-height":"21px"}},{default:i(()=>l[8]||(l[8]=[S("Dispensation")])),_:1,__:[8]})])]),_:1})]),_:1}),(p(!0),v(te,null,pe(r.dataArray,(y,D)=>(p(),A(g(O),{class:"ionLbltp",key:D,onMousemove:C=>r.highlightItem(D),onMouseout:C=>r.undoHighlightItem(D)},{default:i(()=>[n(c,null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(c,{style:{display:"flex","align-items":"center",width:"800px"}},{default:i(()=>[n(g(ge),null,{default:i(()=>[r.withCheckboxs?(p(),A(h,{key:0,id:D,onIonChange:l[0]||(l[0]=C=>r.$emit("clickt",C)),justify:"start",labelPlacement:"end",checked:!0,style:{width:"500px"}},{default:i(()=>[_("div",Kc,[n(g(J),{id:r.asignLblID(D),style:{color:"#00190E","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(y.drugName),1)]),_:2},1032,["id"]),n(g(J),{style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(y.frequency),1)]),_:2},1024)])]),_:2},1032,["id"])):$("",!0),r.withCheckboxs?$("",!0):(p(),v("div",Qc,[_("div",{style:{padding:"0.3em",width:"500px"},onClick:l[1]||(l[1]=C=>r.$emit("click",C))},[n(g(J),{id:r.asignLblID(D),style:{color:"#00190E","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(y.drugName),1)]),_:2},1032,["id"]),n(g(J),{style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(y.frequency),1)]),_:2},1024)])]))]),_:2},1024),n(g(ge),null,{default:i(()=>[_("div",null,[n(g(J),{style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(" for")+" "+k(y.duration)+" days ",1)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024),n(g(ge),null,{default:i(()=>[!r.showInputs&&y.other.quantity>0?(p(),v("div",Xc,[n(g(J),{color:"primary"},{default:i(()=>[S(k(y.other.quantity)+" dispensed",1)]),_:2},1024)])):!r.showInputs&&y.other.quantity<1?(p(),v("div",Zc,[n(g(J),{style:{color:"#b42318"}},{default:i(()=>l[9]||(l[9]=[S("Not Dispensed.")])),_:1,__:[9]}),n(g(J),{style:{color:"#b42318"}},{default:i(()=>[S("("+k(y.reason)+")",1)]),_:2},1024)])):$("",!0),r.dispensationStore.getCheckedBool(D)&&r.showInputs?(p(),A(g(O),{key:2,class:"input_item"},{default:i(()=>[n(m,{id:D,placeholder:"Quantity",onIonInput:l[2]||(l[2]=C=>r.$emit("updateQuantity",C))},null,8,["id"])]),_:2},1024)):$("",!0),r.dispensationStore.getValidation(D)?(p(),v("span",eu,[n(g(J),{style:{color:"red"}},{default:i(()=>l[10]||(l[10]=[S("Please fill in this section")])),_:1,__:[10]})])):$("",!0),!r.dispensationStore.getCheckedBool(D)&&r.showInputs?(p(),A(g(O),{key:4,class:"input_item",style:{width:"190px"}},{default:i(()=>[_("span",{style:{display:"flex","align-items":"center"},id:"chooseType",onClick:o},[n(m,{id:D,value:r.dispensationStore.getReason(D),onIonFocus:l[3]||(l[3]=C=>r.$emit("getInputID",C)),placeholder:"Reason why?"},null,8,["id","value"]),a.value?$("",!0):(p(),A(f,{key:0,icon:g(is)},null,8,["icon"])),a.value?(p(),A(f,{key:1,icon:g(os)},null,8,["icon"])):$("",!0)]),n(Vt,{content:r.noDispensationReason,title:r.title,popoverOpen:t.value,onClosePopoover:l[4]||(l[4]=C=>t.value=C),event:s.value,onSetSelection:l[5]||(l[5]=C=>r.$emit("getSelectedReason",C))},null,8,["content","title","popoverOpen","event"])]),_:2},1024)):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onMousemove","onMouseout"]))),128))],64)}}}),nu=T(au,[["__scopeId","data-v-5f6fcb4c"]]),su={key:0},iu={key:1},ou=B({watch:{},name:"xxxComponent",computed:{...w(aa,["drugPrescriptions"])}}),lu=B({...ou,setup(e){const t=aa();function a(){t.editDispensations()}return(s,o)=>(p(),A(g(x),null,{default:i(()=>[n(g(J),null,{default:i(()=>o[0]||(o[0]=[S("Here is the dispensation summary")])),_:1,__:[0]}),g(t).getDispensedMedications()&&g(t).getDispensedMedications().length>0?(p(),v("div",su,[n(nu,{onClick:a,dataArray:g(t).getDispensedMedications(),withCheckboxs:!1,showInputs:!1,show_actions_buttons:!1},null,8,["dataArray"])])):(p(),v("div",iu,"Please complete dispensing of prescribed medications first. Then the summary will appear here."))]),_:1}))}}),ru=T(lu,[["__scopeId","data-v-1b987a8b"]]),du=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,List:Ct},computed:{...w(Ne,["patient"]),...w(jn,["presentingComplaints"])},data(){return{valueNumericArray:[],obsDatetime:[],graphIcon:qa(["#006401"]),listIcon:za(["#636363"]),displayGraph:!0,orders:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],series:[{name:"",data:[]}]}},setup(){return{checkmark:oe,pulseOutline:re}},watch:{$router:{async handler(){await this.updateList()},immediate:!0,deep:!0},patient:{async handler(){await this.updateList()},deep:!0}},async mounted(){await this.updateList()},methods:{async updateList(){const e=await Ve.getAll(this.patient.patientID,"Presenting complaint"),t=$e.isEmpty(e)?[]:Promise.all(e.map(async a=>a.value_coded?{name:await Ve.getConceptName(a.value_coded),obs_date:a.obs_datetime,duration:a.children[0].value_text}:[]));this.setListData(await t)},setListData(e){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 20px;",containSize:4,display:["Date","Presenting Complains","Duration"]}),e.forEach(t=>{this.list.push({actionBtn:!1,minHeight:"--min-height:20px;",class:"col_background",containSize:4,display:[ne.toStandardHisFormat(t.obs_date),t.name,t.duration]})})}}}),cu={class:"modal_wrapper"};function uu(e,t,a,s,o,r){const l=d("list");return p(),v("div",cu,[_("div",null,[n(l,{listData:e.list},null,8,["listData"])])])}const hu=T(du,[["render",uu],["__scopeId","data-v-30434e22"]]),pu=B({components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,PreviousVitals:yn,previousComplaints:hu,IonPopover:Ft,DashBox:Ot,SelectionPopover:Vt,List:Ct,DynamicButton:Be},data(){return{iconsContent:P,BMI:{},BPStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,conditionStatus:"",data:[],presentingComplaintsListData:[],popoverOpen:!1,event:"",selectedCondition:"",complaints:[]}},computed:{...w(Ne,["patient"]),...w(jn,["presentingComplaints"]),inputFields(){return this.presentingComplaints[0].data.rowData[0].colData},"Other (specify)"(){return le(this.presentingComplaints,"Other (specify)","value")},selectedComplaintValue(){return this.presentingComplaints[0].data.rowData[0].colData[0].value}},async mounted(){this.updatePresentingComplaintsListStores(),this.setDashedBox(),this.getPresentingDataLIst(),this.validaterowData({}),this.checkComplaints()},watch:{selectedComplaintValue(e,t){e!==t&&this.checkComplaints()},presentingComplaints:{handler(){this.setDashedBox()},deep:!0},$router:{handler(){this.getPresentingDataLIst()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async getPresentingDataLIst(){this.complaints=await Ws.getComplaintsList("Presenting complaint"),u(this.presentingComplaints,"PresentingComplaints","multiSelectData",this.complaints)},async onRefresh(){try{this.complaints=await Ws.getConceptSetViaDirectAPICall("Presenting complaint"),u(this.presentingComplaints,"PresentingComplaints","multiSelectData",this.complaints),Dt("Presenting Complaints Selection List has been updated")}catch(e){ta("An error occurred fetching the list of complaints")}},displayInputFields(){this.conditionStatus="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},isNameInArray(e,t){return t.some(a=>a.name===e)},async addNewRow(){if(!(this.inputFields[0].value.name==="Other"&&!this.validateOtherSpecifyField())&&this.validateDuration()){if(!this.inputFields[1].unitsData.value){this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage="Duration Unit is Required";return}this.checkPresentingComplaints()&&(this.presentingComplaints[0].data.rowData[0].colData[0].value=this.inputFields[0].value,this.search_item=!1,this.display_item=!0,this.addItemButton=!0,this.buildpresentingComplaintsList()),this.presentingComplaints[0].data.rowData[0].colData[0].value="",this.presentingComplaints[0].data.rowData[0].colData[1].value="",this.presentingComplaints[0].data.rowData[0].colData[1].unitsData.value="",u(this.presentingComplaints,"Other (specify)","displayNone",!0),u(this.presentingComplaints,"Other (specify)","value","")}},checkPresentingComplaints(){const e=this.inputFields[0].value.name==="Other"?le(this.presentingComplaints,"Other (specify)","value"):this.inputFields[0].value.name;return this.isNameInData(e,this.presentingComplaints[0].selectedData)?(u(this.presentingComplaints,"PresentingComplaints","alertsErrorMassage","Presenting complaint already added"),!1):(u(this.presentingComplaints,"PresentingComplaints","alertsErrorMassage",""),!0)},buildpresentingComplaintsList(){const e=this.inputFields[1].value+" "+this.inputFields[1].unitsData.value.name,t=this.inputFields[0].value.name==="Other"?le(this.presentingComplaints,"Other (specify)","value"):this.inputFields[0].value.name;this.presentingComplaints[0].selectedData.push({actionBtn:!0,btn:["edit","delete"],name:t,concept_id:this.inputFields[0].value.concept_id,duration:this.inputFields[1].value,durationUnits:this.inputFields[1].unitsData.value,display:[t,e],data:[{concept_id:8578,value_coded:this.inputFields[0].value.concept_id,obs_datetime:Oe.getSessionDate(),child:[{concept_id:this.inputFields[0].value.concept_id,value_text:e,obs_datetime:Oe.getSessionDate()}]}]})},isNameInData(e,t){return t.some(a=>a.name===e)},updatePresentingComplaintsListStores(){jn().setPresentingComplaints(this.presentingComplaints)},openPopover(e){this.event=e,this.popoverOpen=!0},checkComplaints(){var a;const e=le(this.presentingComplaints,"PresentingComplaints","value");let t=!0;e&&(this.complaints.some(o=>{var r;return o.name.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())})||e.name==="Other")&&(t=!1),t?(!this.presentingComplaints[0].alerts[0]||this.presentingComplaints[0].alerts[0].name!=="NoMatchAlert")&&(this.presentingComplaints[0].alerts[0]={backgroundColor:"lightyellow",status:"Warning",colSize:"4px",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}):(a=this.presentingComplaints[0].alerts[0])!=null&&a.value&&(this.presentingComplaints[0].alerts[0]={backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:""})},async handleInputData(e){if(e.inputHeader==="Presenting Complaints"?this.checkPresentingComplaints():e.inputHeader==="Duration"&&this.validateDuration(),e.inputHeader==="Presenting Complaints"){const t=le(this.presentingComplaints,"PresentingComplaints","value");(t==null?void 0:t.name)==="Other"?u(this.presentingComplaints,"Other (specify)","displayNone",!1):(u(this.presentingComplaints,"Other (specify)","displayNone",!0),u(this.presentingComplaints,"Other (specify)","value",""))}},validateDuration(){return this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!1,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage="",this.inputFields[1].unitsData.value?F.isNumber(this.inputFields[1].value)==null&&this.inputFields[1].value!=""?!0:(this.search_item=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=" Value must be a number",!1):(this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage="Duration Units Required",ta("Duration Units Required"),!1)},validationRules(e){return al(this.presentingComplaints,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},editpresentingComplaintsList(e){this.deletepresentingComplaintsList(e.item),this.presentingComplaints[0].data.rowData[0].colData[0].value=e.item,this.presentingComplaints[0].data.rowData[0].colData[1].value=e.item.duration,this.presentingComplaints[0].data.rowData[0].colData[1].unitsData.value=e.item.durationUnits,this.addItemButton=!1,this.search_item=!0,this.updatePresentingComplaintsListStores()},deletepresentingComplaintsList(e){this.presentingComplaints[0].selectedData=this.presentingComplaints[0].selectedData.filter(t=>t.display[0]!==e.name),this.updatePresentingComplaintsListStores()},setDashedBox(){var e;this.presentingComplaints[0].selectedData,(e=this.inputFields[0])!=null&&e.value&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.presentingComplaints[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)},async updateList(){},validateOtherSpecifyField(){const e=le(this.presentingComplaints,"Other (specify)","value");return!e||e.trim()===""?(u(this.presentingComplaints,"Other (specify)","alertsErrorMassage","Please specify the complaint"),!1):(u(this.presentingComplaints,"Other (specify)","alertsErrorMassage",""),!0)}}}),mu={key:0},fu={class:"ion-padding",slot:"content"};function _u(e,t,a,s,o,r){const l=d("DashBox"),c=d("list"),h=d("basic-form"),m=d("ion-row"),f=d("DynamicButton"),y=d("ion-label"),D=d("ion-item"),C=d("previousComplaints"),V=d("ion-accordion"),E=d("ion-accordion-group");return p(),v(te,null,[n(l,{status:e.no_item,content:"No presenting complaints added"},null,8,["status"]),e.display_item?(p(),v("span",mu,[n(c,{listData:e.presentingComplaints[0].selectedData,"onClicked:edit":t[0]||(t[0]=U=>e.editpresentingComplaintsList(U)),"onClicked:delete":e.deletepresentingComplaintsList},null,8,["listData","onClicked:delete"])])):$("",!0),e.search_item?(p(),A(m,{key:1},{default:i(()=>[n(h,{contentData:e.presentingComplaints,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,"onClicked:button":e.addNewRow,onRefresh:e.onRefresh},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","onClicked:button","onRefresh"])]),_:1})):$("",!0),e.addItemButton?(p(),A(m,{key:2,style:{"margin-top":"10px"}},{default:i(()=>[n(f,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=U=>e.displayInputFields()),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):$("",!0),n(m,null,{default:i(()=>[n(E,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(V,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(D,{slot:"header",color:"light"},{default:i(()=>[n(y,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("Previous presenting complaints")])),_:1,__:[2]})]),_:1}),_("div",fu,[n(C)])]),_:1})]),_:1},512)]),_:1})],64)}const ps=T(pu,[["render",_u],["__scopeId","data-v-06fe1c73"]]);class no extends Et{constructor(a){super(a,32);ct(this,"patientID");ct(this,"testTypeID");ct(this,"resultDate");ct(this,"testID");this.patientID=a,this.testTypeID=-1,this.resultDate="",this.testID=-1}createLabResult(a){return Et.postJson("lab/tests/".concat(this.testID,"/results"),{encounter_id:this.encounterID,date:this.resultDate,measures:a})}getTestID(){return this.testID}getTestTypeID(){return this.testTypeID}setTestTypeID(a){this.testTypeID=a}setResultDate(a){this.resultDate=a}setTestID(a){this.testID=a}getTestsWithoutResults(){return Ge.getOrders(this.patientID,{status:"drawn"})}getTestIndicators(){return Ge.getJson("lab/test_result_indicators",{test_type_id:this.testTypeID})}static getTestIndicatorsWithID(a){return Ge.getJson("lab/test_result_indicators",{test_type_id:a})}}const vu=B({components:{IonButtons:Sa,IonButton:it,IonModal:ma,IonHeader:q,IonContent:z,IonToolbar:W,IonTitle:j,IonItem:O,IonList:x,IonAvatar:ts,IonImg:es,IonLabel:J,IonPage:na,IonMenu:Y,BasicForm:G,IonFooter:La,DynamicButton:Be},data(){return{popoverStatus:null}},props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{default:[]},popoverOpen:{type:Boolean,default:!1},event:{type:Event,default:""},title:{type:String,default:""}},methods:{dismiss(){Wt.dismiss()},nav(e,t){this.dismiss(),this.$router.push(e)}}}),gu={class:"modal_wrapper"},yu={class:"center text_12"};function bu(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-button"),h=d("ion-buttons"),m=d("ion-toolbar"),f=d("ion-header"),y=d("ion-col"),D=d("ion-row"),C=d("ion-content"),V=d("ion-modal");return p(),A(V,{"is-open":e.popoverOpen,"show-backdrop":!0,onDidDismiss:t[1]||(t[1]=E=>e.$emit("closePopoover",!1)),"keyboard-close":e.keyboardClose},{default:i(()=>[n(f,null,{default:i(()=>[n(m,null,{default:i(()=>[n(l,null,{default:i(()=>[_("b",null,"Lab results for ("+k(e.content.item.name)+") test",1)]),_:1}),n(h,{slot:"end"},{default:i(()=>[n(c,{onClick:t[0]||(t[0]=E=>e.$emit("closeModal"))},{default:i(()=>t[2]||(t[2]=[S("Close")])),_:1,__:[2]})]),_:1})]),_:1})]),_:1}),n(C,{class:"ion-padding"},{default:i(()=>[_("div",gu,[_("div",yu,[n(D,null,{default:i(()=>[(p(!0),v(te,null,pe(e.content.item.item.result,(E,U)=>(p(),A(y,{size:"4",key:U},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{size:"8"},{default:i(()=>[S(k(E.indicator.name),1)]),_:2},1024),n(y,{class:"bold",size:"0.5"},{default:i(()=>t[3]||(t[3]=[S(":")])),_:1,__:[3]}),n(y,{class:"bold",size:"2"},{default:i(()=>[S(k(E.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])])]),_:1})]),_:1},8,["is-open","keyboard-close"])}const Du=T(vu,[["render",bu],["__scopeId","data-v-91fdd7d6"]]),Su=B({name:"Menu",components:{CheckInConfirmationModal:Hi,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,DynamicButton:Be,DashBox:Ot,LabModal:Yi,LabViewResultsModal:mr,SendToLabConfirmationModal:Ji,DataTable:ba},computed:{...w(Ne,["patient"]),...w(Da,["labResults"]),...w(vt,["investigations"]),...w(Va,["patientsWaitingForVitals","patientsWaitingForConsultation","patientsWaitingForLab","patientsWaitingForDispensation"]),hasEnterResults(){return this.listOrders.some(e=>e.btn&&e.btn.includes("enter_results"))}},props:{propOrders:{default:[]}},data(){return{tableData:[],options:{responsive:!0,select:!1,layout:{topStart:"",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},ordering:!1,order:[[3,"desc"]]},header:["Lab Test","Specimen","Accession Number","Order Date","Result"],iconsContent:P,valueNumericArray:[],obsDatetime:[],graphIcon:qa(["#006401"]),listIcon:za(["#636363"]),displayGraph:!0,sendToLabModalOpen:!1,orders:[],userRoles:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],listOrders:[],listResults:[],hasPatientsWaitingForLab:!1,labResultsContent:"",listHeaderOrders:"",service:"",openModal:!1,openResultsModal:!1,series:[{name:"",data:[]}]}},setup(){return{checkmark:oe,pulseOutline:re}},async mounted(){await this.updateInvestigationWizard(),await this.setListData(),this.$nextTick(()=>{const e=this.$refs.dataTable.dt;e.columns.adjust().draw(),e.on("click",".result-btn",t=>{const a=t.target.getAttribute("data-id");this.openResultsForm(JSON.parse(a))}),e.on("click",".view-btn",t=>{const a=t.target.getAttribute("data-id");this.viewLabOrder(JSON.parse(a))}),e.on("click",".delete-btn",t=>{const a=t.target.getAttribute("data-id");this.voidLabOrder(JSON.parse(a),t)}),e.on("click",".order-btn",t=>{const a=t.target.getAttribute("data-id");this.saveTest(JSON.parse(a))})}),this.orders=this.propOrders,this.service=new ji(this.patient.patientID),this.userRoles=await Oe.getUserRoles()},watch:{$route:{async handler(){await this.setListData()},deep:!0},patient:{async handler(e){e&&e.patientID&&await this.setListData()},immediate:!0},tableData:{handler(e){if(this.$refs.dataTable){const t=this.$refs.dataTable.dt;t.clear(),t.rows.add(e),t.draw()}},deep:!0}},methods:{async closeModal(){this.openModal=!1,await this.setListData()},async saveTest(e){await new us().postActivities(this.patient.patientID,[{concept_id:await Ye.getConceptID(e.name,!0),name:e.name,specimen:e.specimen,reason:"Routine",specimenConcept:await Ye.getConceptID(e.specimen,!0)}]),Dt("Successfully saved"),this.orders=await Ge.getOrders(this.patient.patientID),this.tableData=this.generateListItems(this.orders,"order"),this.tableData.sort((s,o)=>{const r=new Date(s[3]);return new Date(o[3]).getTime()-r.getTime()});const a=this.$refs.dataTable.dt;a.clear(),a.rows.add(this.tableData),a.draw()},async openEnterResultModal(){await St(yr,{class:"lab-results-modal"},!0,{title:"name"}),await this.setListData()},toggleSendToLabModal(){this.sendToLabModalOpen=!this.sendToLabModalOpen},async fetchPatientLabStageData(){const e=await Yn(),t=e?e.code:null;if(t){const a=await Jn.getPatientList("LAB",t);await Va().refresh(t),this.patient.patientID&&(this.hasPatientsWaitingForLab=a.some(s=>s.patient_id===this.patient.patientID))}},async updateInvestigationWizard(){this.orders=await Ge.getOrders(this.patient.patientID);const e=await this.orders.filter(t=>ne.toStandardHisFormat(ne.sessionDate())===ne.toStandardHisFormat(t.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},dismiss(){Wt.dismiss()},async voidLabOrder(e,t){await jt("Do you want to delete ".concat(e.tests[0].name," ?"),t)&&await this.service.voidOrder(e.id,"Mistake entry"),await this.setListData()},async openResultsForm(e){const t=await no.getTestIndicatorsWithID(e.concept_id);console.log({testIndicators:t});const a=[e,{validationStatus:"",data:{rowData:[{colData:[]}]}}];t.forEach(o=>{let r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:""};if(o.name=="RBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateRBS",unit:"mg/dL"}),o.name=="FBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateFBS",unit:"mg/dL"}),o.name=="MRDT"||o.name=="Tuberculosis program"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="Lam"||o.name=="CrAg"||o.name=="CD4 count"||o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Urine Ketones"||o.name=="HIV test"){let l=[];(o.name=="MRDT"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="CrAg"||o.name=="Lam")&&(l=[{id:"1",name:"Positive"},{id:"2",name:"Negative"},{id:"3",name:"Invalid"}]),o.name=="Tuberculosis program"&&(l=[{id:"1",name:"Scanty"},{id:"2",name:"Negative"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"}]),o.name=="CD4 count"&&(l=[{id:"1",name:"below reference line"},{id:"2",name:"above reference line"}]),(o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Ketones"||o.name=="Urine Ketones")&&(l=[{id:"2",name:"Negative"},{id:"1",name:"Trace"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"},{id:"6",name:"4+"}]),o.name=="HIV test"&&(l=[{id:"2",name:"Positive"},{id:"1",name:"Negative"},{id:"3",name:"Invalid"}]),r={inputHeader:o.name,icon:P.search,value:"",name:"units",eventType:"input",alertsErrorMassage:"",isSingleSelect:!0,trackBy:"id",multiSelectData:l,id:o.concept_id,idName:"district_id"}}a[1].data.rowData[0].colData.push(r)}),Da().setLabResults(a),this.openModal=!0,this.orders=await Ge.getOrders(this.patient.patientID),console.log("ðŸš€ ~ openResultsForm ~ this.orders:",this.orders)},async viewLabOrder(e){this.labResultsContent=e,this.openResultsModal=!0},async setListData(){this.orders=await Ge.getOrders(this.patient.patientID);let e=this.generateListItems(this.orders,"order");e.sort((r,l)=>{const c=new Date(r[3]);return new Date(l[3]).getTime()-c.getTime()});const t=[],a=t.filter(r=>!e.some(l=>l[0]===r[0])),s=e.filter(r=>t.some(l=>l[0]===r[0])),o=e.filter(r=>!s.some(l=>l[0]===r[0]));this.tableData=[...s,...a,...o],await this.updateInvestigationWizard(),ba.use($i)},generateListItems(e,t){return e.length>0?e.flatMap(a=>a.tests.flatMap(s=>{var l,c,h,m;const o='<button class="btn btn-outline-secondary btn-sm view-btn" data-id=\''.concat(JSON.stringify(s),"'>").concat(this.iconsContent.view2,"</button> ");let r="";return((l=s==null?void 0:s.result)==null?void 0:l.length)==1?r=(s==null?void 0:s.result)!=null?((c=s==null?void 0:s.result[0])==null?void 0:c.value_modifier)+((h=s==null?void 0:s.result[0])==null?void 0:h.value):null:((m=s==null?void 0:s.result)==null?void 0:m.length)>1&&(s==null||s.result,r=o),[[s.name,a.specimen.name,a.accession_number,ne.toStandardHisFormat(a.order_date),r]]})):[]}}}),Cu={class:"container"},wu={class:"table-responsive"};function Iu(e,t,a,s,o,r){const l=d("DataTable"),c=d("LabViewResultsModal"),h=d("LabModal");return p(),v("div",Cu,[_("div",wu,[n(l,{ref:"dataTable",options:e.options,data:e.tableData,class:"display nowrap",width:"100%"},{default:i(()=>[_("thead",null,[_("tr",null,[(p(!0),v(te,null,pe(e.header,m=>(p(),v("th",{key:m,"data-orderable":!0},k(m),1))),128))])])]),_:1},8,["options","data"])]),n(c,{popoverOpen:e.openResultsModal,content:e.labResultsContent,onCloseModal:t[0]||(t[0]=m=>e.openResultsModal=!1)},null,8,["popoverOpen","content"]),n(h,{popoverOpen:e.openModal,onSaved:e.closeModal,onCloseModal:t[1]||(t[1]=m=>e.openModal=!1)},null,8,["popoverOpen","onSaved"])])}const Pu=T(Su,[["render",Iu],["__scopeId","data-v-7c4e1547"]]),Nu=B({name:"Menu",components:{LabTestsHistory:Pu,CheckInConfirmationModal:Hi,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,List:Ct,DynamicButton:Be,DashBox:Ot,LabModal:Yi,LabViewResultsModal:Du,SendToLabConfirmationModal:Ji},computed:{...w(Ne,["patient"]),...w(Da,["labResults"]),...w(un,["activeProgram"]),...w(vt,["investigations"]),...w(Va,["patientsWaitingForVitals","patientsWaitingForConsultation","patientsWaitingForLab","patientsWaitingForDispensation"]),hasEnterResults(){return this.listOrders.some(e=>e.btn&&e.btn.includes("enter_results"))},hasPatientsWaitingForLab(){return Array.isArray(this.patientsWaitingForLab)&&this.patientsWaitingForLab.length>0}},props:{propOrders:{default:[]}},data(){return{iconsContent:P,valueNumericArray:[],obsDatetime:[],graphIcon:qa(["#006401"]),listIcon:za(["#636363"]),displayGraph:!0,sendToLabModalOpen:!1,orders:[],userRoles:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],listOrders:[],listResults:[],hasPatientsWaitingForLab:!1,listSeeMoreOrders:[],listSeeLessOrders:[],listSeeMoreResults:[],listSeeLessResults:[],listHeaderResults:"",labResultsContent:"",listHeaderOrders:"",service:"",openModal:!1,openResultsModal:!1,series:[{name:"",data:[]}]}},setup(){return{checkmark:oe,pulseOutline:re}},async mounted(){this.orders=this.propOrders,this.setListData(this.orders),this.service=new ji(this.patient.patientID),this.userRoles=await Oe.getUserRoles()},watch:{patientsWaitingForLab(e){this.hasPatientsWaitingForLab=e.some(t=>t.patient_id===this.patient.patientID)},propOrders:{handler(){this.orders=this.propOrders,this.setListData(this.orders)},deep:!0},$route:{immediate:!0,handler(){this.updateLabList(),this.fetchPatientLabStageData()}}},methods:{toggleSendToLabModal(){this.sendToLabModalOpen=!this.sendToLabModalOpen},async fetchPatientLabStageData(){const e=await Yn(),t=e?e.code:null;if(t){const a=await Jn.getPatientList("LAB",t);await Va().refresh(t),this.patient.patientID&&(this.patientsWaitingForLab=a.some(s=>s.patient_id===this.patient.patientID))}},async handleSendToLabYes(){const e=await Yn(),t=e?e.code:null;if(!t){ta("Location ID could not be found. Please check your settings.");return}await Jn.addPatientToStage(this.patient.patientID,ne.todayDateFormatted(),"LAB",t),await Va().refresh(t),Dt("Lab orders submitted to the lab successfully. Consultation paused"),await this.fetchPatientLabStageData(),this.closeSendToLabModal()},async handleSendToLabNo(){this.toggleSendToLabModal()},closeSendToLabModal(){this.sendToLabModalOpen=!1},async updateLabList(){this.openModal=!1,this.orders=await Ge.getOrders(this.patient.patientID),this.setListData(this.orders),this.updateInvestigationWizard()},async updateInvestigationWizard(){this.orders=await Ge.getOrders(this.patient.patientID);const e=await this.orders.filter(t=>ne.toStandardHisFormat(ne.sessionDate())===ne.toStandardHisFormat(t.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},dismiss(){Wt.dismiss()},async voidLabOrder(e){await this.service.voidOrder(e.id,"Mistake entry"),this.updateLabList()},handleIcon(){},async openResultsForm(e){console.log(e.item.concept_id);const t=await no.getTestIndicatorsWithID(e.item.concept_id);console.log({testIndicators:t});const a=[e.item,{validationStatus:"",data:{rowData:[{colData:[]}]}}];t.forEach(o=>{let r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:""};if(o.name=="RBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateRBS",unit:"mg/dL"}),o.name=="FBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateFBS",unit:"mg/dL"}),o.name=="MRDT"||o.name=="Tuberculosis program"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="Lam"||o.name=="CrAg"||o.name=="CD4 count"||o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Urine Ketones"||o.name=="HIV test"){let l=[];(o.name=="MRDT"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="CrAg"||o.name=="Lam")&&(l=[{id:"1",name:"Positive"},{id:"2",name:"Negative"},{id:"3",name:"Invalid"}]),o.name=="Tuberculosis program"&&(l=[{id:"1",name:"Scanty"},{id:"2",name:"Negative"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"}]),o.name=="CD4 count"&&(l=[{id:"1",name:"below reference line"},{id:"2",name:"above reference line"}]),(o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Ketones"||o.name=="Urine Ketones")&&(l=[{id:"2",name:"Negative"},{id:"1",name:"Trace"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"},{id:"6",name:"4+"}]),o.name=="HIV test"&&(l=[{id:"2",name:"Positive"},{id:"1",name:"Negative"},{id:"3",name:"Invalid"}]),r={inputHeader:o.name,icon:P.search,value:"",name:"units",eventType:"input",alertsErrorMassage:"",isSingleSelect:!0,trackBy:"id",multiSelectData:l,id:o.concept_id,idName:"district_id"}}a[1].data.rowData[0].colData.push(r)}),Da().setLabResults(a),this.openModal=!0,this.orders=await Ge.getOrders(this.patient.patientID)},async viewLabOrder(e){console.log("ðŸš€ ~ openResultsForm ~ labResults:",e),this.labResultsContent=e,this.openResultsModal=!0},setActivClass(e){this.activeHeight="",this.activeBMI="",this.activeWeight="",e=="height"?this.activeHeight="_active":e=="weight"?this.activeWeight="_active":e=="BMI"&&(this.activeBMI="_active")},setListData(e){const t={containSize:2.1,btnSize:1};this.listHeaderResults=this.generateListHeader(["Date","Accession Number","Lab Test","Specimen","Result"],t),this.listHeaderOrders=this.generateListHeader(["Date","Accession Number","Lab Test","Specimen"]),this.listSeeMoreResults=this.generateListItems(e,"result",!0,t),this.listSeeLessResults=this.generateListItems(e,"result",!1,t),this.listSeeMoreOrders=this.generateListItems(e,"order",!0),this.listSeeLessOrders=this.generateListItems(e,"order",!1),this.listResults=[this.listHeaderResults,...this.listSeeLessResults],this.listOrders=[this.listHeaderOrders,...this.listSeeLessOrders]},generateListHeader(e,t={}){return{containSize:t==null?void 0:t.containSize,btnSize:t==null?void 0:t.btnSize,class:"",header:!0,minHeight:"--min-height: 25px;",display:e}},generateListItems(e,t,a,s={}){let o=0;return e.length>0?e.flatMap(r=>r.tests.flatMap(l=>{var h,m,f,y;let c=null;if(((h=l==null?void 0:l.result)==null?void 0:h.length)==1?c=(l==null?void 0:l.result)!=null?((m=l==null?void 0:l.result[0])==null?void 0:m.value_modifier)+((f=l==null?void 0:l.result[0])==null?void 0:f.value):null:((y=l==null?void 0:l.result)==null?void 0:y.length)>1&&(c=l==null?void 0:l.result),c==""&&console.log("ðŸš€ ~ returnitem.tests.flatMap ~ result:",l),t==="result"&&c!==null||t==="order"&&c===null){const D={containSize:s==null?void 0:s.containSize,btnSize:s==null?void 0:s.btnSize,btn:t==="order"?["enter_results","attach","print","delete"]:["print","delete"],minHeight:"--min-height: 25px;",class:"",id:r.order_id,name:l.name,item:l,display:t=="order"?[ne.toStandardHisFormat(r.order_date),r.accession_number,l.name,r.specimen.name]:[ne.toStandardHisFormat(r.order_date),r.accession_number,l.name,r.specimen.name,c]};if(a||o<2)return o++,[D]}return[]})):[]},seeOrderStatus(e){e=="more"?this.listResults=[this.listHeaderResults,...this.listSeeMoreResults]:e=="less"&&(this.listResults=[this.listHeaderResults,...this.listSeeLessResults])},seeResultsStatus(e){e=="more"?this.listOrders=[this.listHeaderOrders,...this.listSeeMoreOrders]:e=="less"&&(this.listOrders=[this.listHeaderOrders,...this.listSeeLessOrders])}}}),ku={key:1,class:"modal_wrapper"},Bu={style:{"--background":"#fff"}},$u={key:0,style:{"margin-top":"5px"}},Mu={key:1,style:{"margin-top":"5px"}},Au={key:2,class:"modal_wrapper"},Eu={class:"scrollable-container"},Vu={key:0,style:{"margin-top":"5px"}},Ou={key:1,style:{"margin-top":"5px"}},Tu={key:3},Fu={key:0},Hu={key:1};function Ru(e,t,a,s,o,r){const l=d("SendToLabConfirmationModal"),c=d("DashBox"),h=d("LabTestsHistory"),m=d("DynamicButton"),f=d("list"),y=d("LabModal"),D=d("LabViewResultsModal");return p(),v(te,null,[n(l,{closeModalFunc:e.closeSendToLabModal,onYes:e.handleSendToLabYes,onNo:e.handleSendToLabNo,isOpen:e.sendToLabModalOpen,title:"Do you really want to send patient to lab?"},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.listResults.length<1&&e.listOrders.length<1?(p(),A(c,{key:0,content:"No Investigations added "})):$("",!0),e.listResults.length>1?(p(),v("div",ku,[t[7]||(t[7]=_("div",{style:{"font-weight":"1000"}},"Lab Investigations history",-1)),_("div",Bu,[n(h)]),e.listResults.length<=4&&e.listSeeMoreResults.length>=4?(p(),v("div",$u,[n(m,{onClick:t[0]||(t[0]=C=>e.seeOrderStatus("more")),name:"Show More Lab Results",fill:"clear",iconSlot:"icon-only"})])):e.listResults.length>=5?(p(),v("div",Mu,[n(m,{onClick:t[1]||(t[1]=C=>e.seeOrderStatus("less")),name:"Show Less Lab Results",fill:"clear",iconSlot:"icon-only"})])):$("",!0)])):$("",!0),e.listOrders.length>1?(p(),v("div",Au,[t[8]||(t[8]=_("div",{style:{"font-weight":"700"}},"Lab Orders",-1)),_("div",Eu,[n(f,{listData:e.listOrders.map(C=>({...C,disabledEnterResults:e.hasPatientsWaitingForLab&&e.activeProgram.program_id===14&&(e.userRoles==="Clinician"||e.userRoles==="Superuser")})),"onClicked:delete":e.voidLabOrder,"onClicked:results":e.openResultsForm},null,8,["listData","onClicked:delete","onClicked:results"])]),e.listOrders.length<=4&&e.listSeeMoreOrders.length>=4?(p(),v("div",Vu,[n(m,{onClick:t[2]||(t[2]=C=>e.seeResultsStatus("more")),name:"Show More Lab Orders",fill:"clear",iconSlot:"icon-only"})])):$("",!0),e.listOrders.length>=5?(p(),v("div",Ou,[n(m,{onClick:t[3]||(t[3]=C=>e.seeResultsStatus("less")),name:"Show Less Lab Orders",fill:"clear",iconSlot:"icon-only"})])):$("",!0)])):$("",!0),e.activeProgram.program_id==14&&e.hasEnterResults&&(e.userRoles==="Clinician"||e.userRoles==="Superuser")?(p(),v("div",Tu,[e.hasPatientsWaitingForLab?(p(),v("div",Fu,[n(m,{class:"no-margin-left",fill:"clear",icon:"notification_icon",iconSlot:"icon-only",name:"Waiting for results from the lab. Consultation paused!"})])):(p(),v("div",Hu,[n(m,{fill:"solid",icon:e.iconsContent.plus,iconSlot:"icon-only",onClick:t[4]||(t[4]=C=>e.toggleSendToLabModal()),name:"Send to Lab"},null,8,["icon"])]))])):$("",!0),n(y,{popoverOpen:e.openModal,onSaved:e.updateLabList,onCloseModal:t[5]||(t[5]=C=>e.openModal=!1)},null,8,["popoverOpen","onSaved"]),n(D,{popoverOpen:e.openResultsModal,content:e.labResultsContent,onCloseModal:t[6]||(t[6]=C=>e.openResultsModal=!1)},null,8,["popoverOpen","content"])],64)}const Ga=T(Nu,[["render",Ru],["__scopeId","data-v-9531f0d9"]]),Lu=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicForm:G},setup(){var l;const{adult:e,minor:t}=nl(),{patient:a}=Ne();console.log(e),console.log(t);const s=b(""),o=b(ne.getAgeInYears((l=a==null?void 0:a.personInformation)==null?void 0:l.birthdate)),r=c=>{s.value=c};return Ke(e,c=>{var V,E,U;const h=N(c,_a.EYE_OPENING_RESPONSE),m=N(c,_a.BEST_MOTOR_RESPONSE),f=N(c,_a.BEST_VERBAL_RESPONSE),y=(V=ol[h])!=null?V:0,D=(E=sl[m])!=null?E:0,C=(U=il[f])!=null?U:0;s.value="(M ".concat(D," V ").concat(C," E ").concat(y,") ").concat(y+D+C,"/15")}),Ke(t,c=>{var V,E,U;const h=N(c,_a.EYE_OPENING_RESPONSE),m=N(c,_a.BEST_MOTOR_RESPONSE),f=N(c,_a.BEST_VERBAL_RESPONSE),y=(V=dl[h])!=null?V:0,D=(E=ll[m])!=null?E:0,C=(U=rl[f])!=null?U:0;s.value="(M ".concat(D," V ").concat(C," E ").concat(y,") ").concat(y+D+C,"/5")}),{gcs:s,setGcs:r,minor:t,adult:e,patientAge:o}},data(){return{}},methods:{}}),xu={class:"modal_wrapper"};function Uu(e,t,a,s,o,r){const l=d("basic-form");return p(),v("div",xu,[e.patientAge<18?(p(),A(l,{key:0,contentData:e.minor},null,8,["contentData"])):$("",!0),e.patientAge>=18?(p(),A(l,{key:1,contentData:e.adult},null,8,["contentData"])):$("",!0),_("h5",null,k(e.gcs),1)])}const so=T(Lu,[["render",Uu]]),zu=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicForm:G},data(){return{initialData:[]}},computed:{...w(gs,["pastMedicalHistory"])},mounted(){const e=gs();this.initialData=e.getInitial(),this.handleChronicConditions()},watch:{pastMedicalHistory:{handler(){this.handleChronicConditions()},deep:!0}},methods:{handleChronicConditions(){var t;const e=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];(t=ce(this.pastMedicalHistory,"None"))!=null&&t.checked?e.forEach(a=>{I(this.pastMedicalHistory,"TB treatment","displayNone",!0),u(this.pastMedicalHistory,"TB drugs","displayNone",!0),u(this.pastMedicalHistory,"TB drug start date","displayNone",!0),I(this.pastMedicalHistory,"Hypertension medication","displayNone",!0),u(this.pastMedicalHistory,"Current hypertension treatment regimen","displayNone",!0),I(this.pastMedicalHistory,"HIV status","displayNone",!0),u(this.pastMedicalHistory,"ARV start date","displayNone",!0),I(this.pastMedicalHistory,"Diabetes","displayNone",!0),I(this.pastMedicalHistory,"Controlled by","displayNone",!0),R(this.pastMedicalHistory,a,"checked",!1),R(this.pastMedicalHistory,a,"disabled",!0)}):e.forEach(a=>{R(this.pastMedicalHistory,a,"disabled",!1)})},handleInputData(e){u(this.pastMedicalHistory,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine â€˜Oâ€™ (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),u(this.pastMedicalHistory,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})}}}),qu={class:"modal_wrapper"},Wu={class:"uniform_columns"};function Gu(e,t,a,s,o,r){const l=d("basic-form");return p(),v("div",qu,[_("div",Wu,[n(l,{contentData:e.pastMedicalHistory,initialData:e.initialData,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue","onUpdate:selected"])])])}const ju=T(zu,[["render",Gu],["__scopeId","data-v-2b756eeb"]]),Yu=B({name:"immidiatePostnatalChecksForChild",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{initialData:[],iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(ys,["physicalExam"]),...w(Ne,["patient"])},mounted(){const e=ys();this.initialData=e.getInitial(),this.handlePhysicalExam(),this.handleGenitalExam()},watch:{physicalExam:{handler(){this.handlePhysicalExam(),this.handleGenitalExam()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handlePhysicalExam(){N(this.physicalExam,"Physical examination")=="No"?I(this.physicalExam,"Reason why physical examination not done","displayNone",!1):(I(this.physicalExam,"Reason why physical examination not done","displayNone",!0),I(this.physicalExam,"Reason why physical examination not done","selectedValue",""))},handleGenitalExam(){var t,a;const e=(a=(t=this.patient)==null?void 0:t.personInformation)==null?void 0:a.gender;e=="M"&&(R(this.physicalExam,"Vulva examination","disabled",!0),R(this.physicalExam,"Visible bleeding","disabled",!0)),e=="F"&&(R(this.physicalExam,"Urethral meatus abnormal","disabled",!0),R(this.physicalExam,"Scrotal swelling","disabled",!0),R(this.physicalExam,"Tastes swelling","disabled",!0))}}}),Ju={class:"container"};function Ku(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Ju,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.physicalExam,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const io=T(Yu,[["render",Ku],["__scopeId","data-v-c1d7fdd5"]]),Qu=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicForm:G},data(){return{}},computed:{...w(cl,["pregnancy"])},methods:{handleInputData(){}}}),Xu={class:"modal_wrapper"};function Zu(e,t,a,s,o,r){const l=d("basic-form");return p(),v("div",Xu,[n(l,{contentData:e.pregnancy,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])}const oo=T(Qu,[["render",Zu]]),eh=B({name:"Menu",components:{IonButton:it,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Jt,DynamicButton:Be},setup(){const e=xa();return{selectedAllergiesList2:Ue(()=>e.selectedMedicalAllergiesList)}},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",allergies:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],selectedAllergiesList2:[],pastMedicalHistory:[],levelOfConsciousness:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:[],physicalExams:[],eyesAbnormal:[],mouthAbnormal:[],earsAbnormal:[],faceAbnormal:[],neckAbnormal:[],chestAbnormal:[],chestMovement:[],heartSoundsAbnormal:[],breathSoundsAbnormal:[],addedBreathSoundsAbnormal:[],abdominalInspectionAbnormal:[]}},watch:{patient:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()},computed:{...w(Ne,["patient"]),todayVisit(){const e=ne.toStandardHisFormat(new Date);return this.visits.find(t=>t===e)||null},uniquePastMedicalHistory(){return[...new Map(this.pastMedicalHistory.map(e=>[e,e])).values()]},uniquePresentingComplaints(){return[...new Map(this.presentingComplaint.map(e=>[e,e])).values()]},uniqueEyesAbnormal(){return[...new Map(this.eyesAbnormal.map(e=>[e,e])).values()]},uniqueMouthAbnormal(){return[...new Map(this.mouthAbnormal.map(e=>[e,e])).values()]},uniqueEarsAbnormal(){return[...new Map(this.earsAbnormal.map(e=>[e,e])).values()]},uniqueFaceAbnormal(){return[...new Map(this.faceAbnormal.map(e=>[e,e])).values()]},uniqueNeckAbnormal(){return[...new Map(this.neckAbnormal.map(e=>[e,e])).values()]},uniqueChestAbnormal(){return[...new Map(this.chestAbnormal.map(e=>[e,e])).values()]},uniqueChestMovement(){return[...new Map(this.chestMovement.map(e=>[e,e])).values()]},uniqueHeartSoundsAbnormal(){return[...new Map(this.heartSoundsAbnormal.map(e=>[e,e])).values()]},uniqueBreathSoundsAbnormal(){return[...new Map(this.breathSoundsAbnormal.map(e=>[e,e])).values()]},uniqueAddedBreathSoundsAbnormal(){return[...new Map(this.addedBreathSoundsAbnormal.map(e=>[e,e])).values()]},uniqueAbdominalInspectionAbnormal(){return[...new Map(this.abdominalInspectionAbnormal.map(e=>[e,e])).values()]}},methods:{async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setDiagnosisEncounters(t),await this.setVitalsEncounters(t),await this.setPresentingComplainsEncounters(t),await this.setLevelOfConsciousnessEncounters(t),await this.setPregnancyStatusEncounters(t),await this.setTreatmentEncounters(t),await this.setPastMedicalHistoryEncounters(t),await this.setAllergiesEncounters(t),await this.setPhysicalExamEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setDiagnosisEncounters(e){var a;const t=(a=this.findEncounter(e,"OUTPATIENT DIAGNOSIS"))==null?void 0:a.observations;this.primaryDiagnosis=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded"),this.secondaryDiagnosis=await this.getConceptValues(this.filterObs(t,"Secondary diagnosis"),"coded")},async setVitalsEncounters(e){var a,s,o,r,l,c,h,m,f,y,D,C,V,E,U,H,M,L,K,X,ue,ie,Q,de,Ae;const t=(a=this.findEncounter(e,"VITALS"))==null?void 0:a.observations;this.vitals.weight=(r=(o=(s=this.filterObs(t,"Weight"))==null?void 0:s[0])==null?void 0:o.value_numeric)!=null?r:"",this.vitals.temperature=(h=(c=(l=this.filterObs(t,"Temperature"))==null?void 0:l[0])==null?void 0:c.value_numeric)!=null?h:"",this.vitals.pulse=(y=(f=(m=this.filterObs(t,"Pulse"))==null?void 0:m[0])==null?void 0:f.value_numeric)!=null?y:"",this.vitals.SAO2=(V=(C=(D=this.filterObs(t,"SAO2"))==null?void 0:D[0])==null?void 0:C.value_numeric)!=null?V:"",this.vitals.height=(H=(U=(E=this.filterObs(t,"Height (cm)"))==null?void 0:E[0])==null?void 0:U.value_numeric)!=null?H:"",this.vitals.systolic=(K=(L=(M=this.filterObs(t,"Systolic"))==null?void 0:M[0])==null?void 0:L.value_numeric)!=null?K:"",this.vitals.respirationRate=(ie=(ue=(X=this.filterObs(t,"Respiration rate"))==null?void 0:X[0])==null?void 0:ue.value_numeric)!=null?ie:"",this.vitals.diastolic=(Ae=(de=(Q=this.filterObs(t,"Diastolic"))==null?void 0:Q[0])==null?void 0:de.value_numeric)!=null?Ae:"",this.vitals.weight&&this.vitals.height&&await this.setBMI(this.vitals.weight,this.vitals.height)},async setTreatmentEncounters(e){},async setPresentingComplainsEncounters(e){var a;const t=(a=this.findEncounter(e,"PRESENTING COMPLAINTS"))==null?void 0:a.observations;this.presentingComplaint=await this.getConceptValues(this.filterObs(t,"Presenting complaint"),"coded")},async setLevelOfConsciousnessEncounters(e){var a;const t=(a=this.findEncounter(e,"ASSESSMENT"))==null?void 0:a.observations;if(t&&Array.isArray(t)){const s=this.filterObs(t,"Eye opening response");this.levelOfConsciousness.eyeResponse=s.length>0?await Ye.getConceptName(s[0].value_coded):"";const o=this.filterObs(t,"Best verbal response");this.levelOfConsciousness.verbalResponse=o.length>0?await Ye.getConceptName(o[0].value_coded):"";const r=this.filterObs(t,"Best motor response");this.levelOfConsciousness.motorResponse=r.length>0?await Ye.getConceptName(r[0].value_coded):""}},async setPregnancyStatusEncounters(e){var a;const t=(a=this.findEncounter(e,"PREGNANCY STATUS"))==null?void 0:a.observations;if(t&&Array.isArray(t)){const s=this.filterObs(t,"Patient pregnant");this.pregnancy.patientPregnant=s.length>0?await Ye.getConceptName(s[0].value_coded):"";const o=this.filterObs(t,"Is patient breast feeding?");this.pregnancy.breastFeeding=o.length>0?await Ye.getConceptName(o[0].value_coded):""}},async setPhysicalExamEncounters(e){var a;const t=(a=this.findEncounter(e,"EXAMINATION"))==null?void 0:a.observations;this.eyesAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for eyes"),"coded"),this.mouthAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for  mouth"),"coded"),this.earsAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for ears"),"coded"),this.faceAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for face"),"coded"),this.neckAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for neck"),"coded"),this.chestAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for  chest inspection"),"coded"),this.chestMovement=await this.getConceptValues(this.filterObs(t,"Chest movements"),"coded"),this.heartSoundsAbnormal=await this.getConceptValues(this.filterObs(t,"Heart sounds abnormality"),"coded"),this.breathSoundsAbnormal=await this.getConceptValues(this.filterObs(t,"Breath sounds abnormality"),"coded"),this.addedBreathSoundsAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormalities when added"),"coded"),this.abdominalInspectionAbnormal=await this.getConceptValues(this.filterObs(t,"Abdominal inspection abnormality"),"coded")},async setPastMedicalHistoryEncounters(e){var a;const t=(a=this.findEncounter(e,"MEDICAL HISTORY"))==null?void 0:a.observations;this.pastMedicalHistory=await this.getConceptValues(this.filterObs(t,"Chronic disease"),"coded")},async setAllergiesEncounters(e){var a;const t=(a=this.findEncounter(e,"MEDICAL HISTORY"))==null?void 0:a.observations;this.allergies=await this.getConceptValues(this.filterObs(t,"Chronic disease"),"coded")},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ye.getConceptName(a.value_coded)))},openModal(){St(Kt)},async setBMI(e,t){var a,s,o,r,l,c,h,m;(s=(a=this.patient)==null?void 0:a.personInformation)!=null&&s.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&(this.BMI=await qt.getBMI(parseInt(e),parseInt(t),(c=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:c.gender,ne.calculateAge((m=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:m.birthdate,ne.sessionDate()))),this.updateBMI()},async updateBMI(){var t,a,s,o,r,l;const e=(a=(t=this.BMI)==null?void 0:t.color)!=null?a:[];this.vitalsWeightHeight.icon=qt.iconBMI(e),this.vitalsWeightHeight.backgroundColor=e[0],this.vitalsWeightHeight.textColor=e[1],this.vitalsWeightHeight.index="BMI "+((o=(s=this.BMI)==null?void 0:s.index)!=null?o:""),this.vitalsWeightHeight.value=(l=(r=this.BMI)==null?void 0:r.result)!=null?l:""}}}),th={class:"visitContent"},ah={class:"visitData"},nh={key:0},sh={key:0,class:"levelOfConsciousnessContent"},ih={style:{"font-weight":"normal !important"}},oh={key:1,class:"levelOfConsciousnessContent"},lh={style:{"font-weight":"normal !important"}},rh={key:2,class:"levelOfConsciousnessContent"},dh={style:{"font-weight":"normal !important"}},ch={key:1,class:"noData"},uh={key:2},hh={style:{display:"flex","flex-wrap":"wrap"}},ph={key:3,class:"noData"},mh={key:4},fh={key:0,class:"levelOfConsciousnessContent"},_h={style:{"font-weight":"bold !important"}},vh={key:1,class:"levelOfConsciousnessContent"},gh={style:{"font-weight":"bold"}},yh={key:5,class:"noData"},bh={key:6},Dh={style:{display:"flex","flex-wrap":"wrap"}},Sh={key:7,class:"noData"},Ch={key:8},wh={key:9,class:"noData"},Ih={key:0,class:"physicalExam"},Ph={style:{display:"flex","flex-wrap":"wrap"}},Nh={key:1,class:"physicalExam"},kh={style:{display:"flex","flex-wrap":"wrap"}},Bh={key:2,class:"physicalExam"},$h={style:{display:"flex","flex-wrap":"wrap"}},Mh={key:3,class:"physicalExam"},Ah={style:{display:"flex","flex-wrap":"wrap"}},Eh={key:4,class:"physicalExam"},Vh={style:{display:"flex","flex-wrap":"wrap"}},Oh={key:5,class:"physicalExam"},Th={style:{display:"flex","flex-wrap":"wrap"}},Fh={key:6,class:"physicalExam"},Hh={style:{display:"flex","flex-wrap":"wrap"}},Rh={key:7,class:"physicalExam"},Lh={style:{display:"flex","flex-wrap":"wrap"}},xh={key:8,class:"physicalExam"},Uh={style:{display:"flex","flex-wrap":"wrap"}},zh={key:9,class:"physicalExam"},qh={style:{display:"flex","flex-wrap":"wrap"}},Wh={key:10,class:"physicalExam"},Gh={style:{display:"flex","flex-wrap":"wrap"}};function jh(e,t,a,s,o,r){const l=d("ion-button"),c=d("ion-row"),h=d("ion-item"),m=d("ion-col");return p(),v("div",th,[n(c,null,{default:i(()=>[n(m,{offset:"0.1",size:"10"},{default:i(()=>{var f,y,D,C,V,E,U,H,M,L,K,X,ue,ie;return[_("div",ah,[e.levelOfConsciousness.eyeResponse||e.levelOfConsciousness.verbalResponse||e.levelOfConsciousness.motorResponse?(p(),v("div",nh,[_("div",null,[t[3]||(t[3]=_("div",{class:"heading"},"1. Level of consciousness presented:",-1)),e.levelOfConsciousness.eyeResponse?(p(),v("div",sh,[t[0]||(t[0]=S(" Eye opening response: ")),_("span",ih,k(e.levelOfConsciousness.eyeResponse),1)])):$("",!0),e.levelOfConsciousness.verbalResponse?(p(),v("div",oh,[t[1]||(t[1]=S(" Best verbal response: ")),_("span",lh,k(e.levelOfConsciousness.verbalResponse),1)])):$("",!0),e.levelOfConsciousness.motorResponse?(p(),v("div",rh,[t[2]||(t[2]=S(" Best motor response: ")),_("span",dh,k(e.levelOfConsciousness.motorResponse),1)])):$("",!0)])])):(p(),v("div",ch,"1. No level of consciousness recorded")),((f=e.uniquePresentingComplaints)==null?void 0:f.length)>0?(p(),v("div",uh,[t[4]||(t[4]=_("div",{class:"heading"},"2. Presenting Complaints recorded",-1)),_("div",hh,[(p(!0),v(te,null,pe(e.uniquePresentingComplaints,(Q,de)=>(p(),v("div",{class:"spanContent",key:de},k(Q),1))),128))])])):(p(),v("div",ph,"2. No presenting complaints were recorded")),e.pregnancy.patientPregnant||e.pregnancy.breastFeeding?(p(),v("div",mh,[_("div",null,[t[7]||(t[7]=_("div",{class:"heading"},"3. Pregnancy and breast feeding status recorded:",-1)),e.pregnancy.patientPregnant?(p(),v("div",fh,[t[5]||(t[5]=S(" Is the patient pregnant?: ")),_("span",_h,k(e.pregnancy.patientPregnant),1)])):$("",!0),e.pregnancy.breastFeeding?(p(),v("div",vh,[t[6]||(t[6]=S(" Is the patient breast feeding?: ")),_("span",gh,k(e.pregnancy.breastFeeding),1)])):$("",!0)])])):(p(),v("div",yh,"3. No pregnancy and breastfeeding status was recorded")),((y=e.uniquePastMedicalHistory)==null?void 0:y.length)>0?(p(),v("div",bh,[t[8]||(t[8]=_("div",{class:"heading"},"4. Past medical history recorded",-1)),_("div",Dh,[(p(!0),v(te,null,pe(e.uniquePastMedicalHistory,(Q,de)=>(p(),v("div",{class:"spanContent",key:de},k(Q),1))),128))])])):(p(),v("div",Sh,"4. No past medical history was recorded")),((D=e.selectedAllergiesList2)==null?void 0:D.length)>0?(p(),v("div",Ch,[t[9]||(t[9]=_("div",{class:"heading"},"5. Allergies recorded",-1)),n(h,{lines:"none",class:"medicalAl"},{default:i(()=>[n(c,null,{default:i(()=>[(p(!0),v(te,null,pe(e.selectedAllergiesList2,(Q,de)=>(p(),v("div",{key:de},[Q.selected?(p(),A(l,{key:0,style:{padding:"2px"},class:"medicalAlBtn"},{default:i(()=>[S(k(Q.name),1)]),_:2},1024)):$("",!0)]))),128))]),_:1})]),_:1})])):(p(),v("div",wh,"5. No allergies were recorded")),_("div",null,[_("div",null,[t[21]||(t[21]=_("div",{class:"heading"},"6.Physical exams recorded:",-1)),((C=e.uniqueEyesAbnormal)==null?void 0:C.length)>0?(p(),v("div",Ih,[t[10]||(t[10]=S(" Abnormality for eyes: ")),_("div",Ph,[(p(!0),v(te,null,pe(e.uniqueEyesAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((V=e.uniqueMouthAbnormal)==null?void 0:V.length)>0?(p(),v("div",Nh,[t[11]||(t[11]=S(" Abnormality for mouth: ")),_("div",kh,[(p(!0),v(te,null,pe(e.uniqueMouthAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((E=e.uniqueEarsAbnormal)==null?void 0:E.length)>0?(p(),v("div",Bh,[t[12]||(t[12]=S(" Abnormality for ears: ")),_("div",$h,[(p(!0),v(te,null,pe(e.uniqueEarsAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((U=e.uniqueFaceAbnormal)==null?void 0:U.length)>0?(p(),v("div",Mh,[t[13]||(t[13]=S(" Abnormality for face: ")),_("div",Ah,[(p(!0),v(te,null,pe(e.uniqueFaceAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((H=e.uniqueNeckAbnormal)==null?void 0:H.length)>0?(p(),v("div",Eh,[t[14]||(t[14]=S(" Abnormality for neck: ")),_("div",Vh,[(p(!0),v(te,null,pe(e.uniqueNeckAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((M=e.uniqueChestAbnormal)==null?void 0:M.length)>0?(p(),v("div",Oh,[t[15]||(t[15]=S(" Abnormality after chest inspection: ")),_("div",Th,[(p(!0),v(te,null,pe(e.uniqueChestAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((L=e.uniqueChestMovement)==null?void 0:L.length)>0?(p(),v("div",Fh,[t[16]||(t[16]=S(" Chest movement:: ")),_("div",Hh,[(p(!0),v(te,null,pe(e.uniqueChestMovement,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((K=e.uniqueHeartSoundsAbnormal)==null?void 0:K.length)>0?(p(),v("div",Rh,[t[17]||(t[17]=S(" Heart sounds abnormality: ")),_("div",Lh,[(p(!0),v(te,null,pe(e.uniqueHeartSoundsAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((X=e.uniqueBreathSoundsAbnormal)==null?void 0:X.length)>0?(p(),v("div",xh,[t[18]||(t[18]=S(" Breath sounds abnormality: ")),_("div",Uh,[(p(!0),v(te,null,pe(e.uniqueBreathSoundsAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((ue=e.uniqueAddedBreathSoundsAbnormal)==null?void 0:ue.length)>0?(p(),v("div",zh,[t[19]||(t[19]=S(" Abnormalities when breath sound is \"added': ")),_("div",qh,[(p(!0),v(te,null,pe(e.uniqueAddedBreathSoundsAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((ie=e.uniqueAbdominalInspectionAbnormal)==null?void 0:ie.length)>0?(p(),v("div",Wh,[t[20]||(t[20]=S(" Abdominal inspection abnormality: ")),_("div",Gh,[(p(!0),v(te,null,pe(e.uniqueAbdominalInspectionAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0)])])])]}),_:1})]),_:1})])}const Yh=T(eh,[["render",jh],["__scopeId","data-v-2f7079e9"]]),Jh=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Ot,SelectionPopover:Vt,BasicInputField:ee,BasicForm:G,List:Ct,DynamicButton:Be,labOrderResults:Ga,Allergies:eo,LevelOfConsciousness:so,PastMedicalHistory:ju,PhysicalExamination:io,PregnancyBreastfeeding:oo,PresentingComplaints:ps,VisitHistory:Yh},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){const e=b([]),t=b(!0);async function a(c){const h=new Me,m=await Ht.getEncounters(h.getID(),{date:c});await s(m)}async function s(c){var m;const h=(m=c.find(f=>f.type.name==="PRESENTING COMPLAINTS"))==null?void 0:m.observations;h?e.value=await r(o(h,"Presenting complaint")):e.value=[],t.value=!1}function o(c,h){return c==null?void 0:c.filter(m=>m.concept.concept_names.some(f=>f.name===h))}async function r(c,h){return c?Promise.all(c.map(async m=>await Ye.getConceptName(m.value_coded))):[]}return(async()=>{const c=new Date().toISOString().split("T")[0];await a(c)})(),{presentingComplaints:e,loading:t}},computed:{...w(Ne,["patient"])},watch:{presentingComplaints:{handler(e){},deep:!0}},methods:{checkPatient(){return new Me().isChildBearing()}}}),Kh={key:0,style:{width:"100%","text-align":"center",padding:"20px"}},Qh={key:1,style:{width:"100%"}},Xh={key:2,style:{width:"100%"}},Zh={class:"ion-padding",slot:"content"},ep={class:"ion-padding",slot:"content"},tp={class:"ion-padding",slot:"content"},ap={class:"ion-padding",slot:"content"},np={class:"ion-padding",slot:"content"},sp={class:"ion-padding",slot:"content"};function ip(e,t,a,s,o,r){const l=d("ion-spinner"),c=d("VisitHistory"),h=d("ion-label"),m=d("ion-item"),f=d("LevelOfConsciousness"),y=d("ion-accordion"),D=d("ion-accordion-group"),C=d("PresentingComplaints"),V=d("PregnancyBreastfeeding"),E=d("PastMedicalHistory"),U=d("Allergies"),H=d("PhysicalExamination"),M=d("ion-row");return p(),A(M,null,{default:i(()=>[e.loading?(p(),v("div",Kh,[n(l,{name:"crescent"}),t[0]||(t[0]=_("p",null,"Loading...",-1))])):e.presentingComplaints&&e.presentingComplaints.length>0?(p(),v("div",Qh,[n(c)])):(p(),v("div",Xh,[n(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[S("Level of consciousness")])),_:1,__:[1]})]),_:1}),_("div",Zh,[n(f)])]),_:1})]),_:1},512),n(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("Presenting complaints")])),_:1,__:[2]})]),_:1}),_("div",ep,[n(C)])]),_:1})]),_:1},512),e.checkPatient()?(p(),A(D,{key:0,ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[S("Pregnancy and breastfeeding status")])),_:1,__:[3]})]),_:1}),_("div",tp,[n(V)])]),_:1})]),_:1},512)):$("",!0),n(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[4]||(t[4]=[S("Past medical history")])),_:1,__:[4]})]),_:1}),_("div",ap,[n(E)])]),_:1})]),_:1},512),n(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[5]||(t[5]=[S("Allergies")])),_:1,__:[5]})]),_:1}),_("div",np,[n(U)])]),_:1})]),_:1},512),n(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[6]||(t[6]=[S("Physical examination")])),_:1,__:[6]})]),_:1}),_("div",sp,[n(H)])]),_:1})]),_:1},512)]))]),_:1})}const op=T(Jh,[["render",ip],["__scopeId","data-v-f05194f6"]]),lp=B({mixins:[Nc],components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,PreviousVitals:yn},data(){return{iconsContent:P,saveBtnStatus:{},TempStatus:{},PulseStatus:{},RespiratoryStatus:{},OxygenStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1}}},watch:{$route:{async handler(){this.vitalsData=this.vitals,await this.validateRowData("onload")},deep:!0},"patient.ID":{async handler(e,t){e!==t&&await this.checkHeight()}}},computed:{...w(Ne,["patient"]),...w(ln,["vitals"])},async mounted(){this.checkIfSamePatientInContext(),this.vitalsData=this.vitals,await this.checkHeight(),await this.validateRowData("onload")},setup(){return{checkmark:oe,pulseOutline:re}},methods:{checkIfSamePatientInContext(){const e=ln();e.current_patient.ID!=this.patient.ID&&(this.cleanVitalForm(),e.setCurrentPatient(this.patient))},navigationMenu(e){ze.close(),this.$router.push(e)},cleanVitalForm(){const e=ln();e.setVitals(e.getInitialVitals(this.patient.ID))},async validationController(e){var t,a,s,o,r,l,c,h,m,f,y,D,C,V;((t=e==null?void 0:e.col)==null?void 0:t.name)=="Height Not Done"&&e.col.checked?(Te(this.vitals,"Height (cm)","displayNone",!1),u(this.vitals,"Height (cm)","disabled",!0),u(this.vitals,"Height (cm)","inputHeader","Height"),u(this.vitals,"Height (cm)","value",""),this.validationStatus.heightWeight=!1):((a=e==null?void 0:e.col)==null?void 0:a.name)=="Height Not Done"&&(Te(this.vitals,"Height (cm)","displayNone",!0),Te(this.vitals,"Height (cm)","value",""),u(this.vitals,"Height (cm)","disabled",!1),u(this.vitals,"Height (cm)","inputHeader","Height*"),this.validationStatus.heightWeight=!0),((s=e==null?void 0:e.col)==null?void 0:s.name)=="Weight Not Done"&&e.col.checked?(Te(this.vitals,"Weight","displayNone",!1),u(this.vitals,"Weight","disabled",!0),u(this.vitals,"Weight","inputHeader","Weight"),u(this.vitals,"Weight","value",""),this.validationStatus.heightWeight=!1):((o=e==null?void 0:e.col)==null?void 0:o.name)=="Weight Not Done"&&(Te(this.vitals,"Weight","displayNone",!0),Te(this.vitals,"Weight","value",""),u(this.vitals,"Weight","disabled",!1),u(this.vitals,"Weight","inputHeader","Weight*"),this.validationStatus.heightWeight=!0),((r=e==null?void 0:e.col)==null?void 0:r.name)=="Blood Pressure Not Done"&&e.col.checked?(Te(this.vitals,"Blood Pressure","displayNone",!1),u(this.vitals,"Systolic","disabled",!0),u(this.vitals,"Diastolic","disabled",!0),u(this.vitals,"Systolic","inputHeader","Systolic Pressure"),u(this.vitals,"Diastolic","inputHeader","Diastolic pressure"),u(this.vitals,"Systolic","value",""),u(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!1):((l=e==null?void 0:e.col)==null?void 0:l.name)=="Blood Pressure Not Done"&&(Te(this.vitals,"Blood Pressure","displayNone",!0),Te(this.vitals,"Blood Pressure","value",""),u(this.vitals,"Systolic","disabled",!1),u(this.vitals,"Diastolic","disabled",!1),u(this.vitals,"Systolic","inputHeader","Systolic Pressure*"),u(this.vitals,"Diastolic","inputHeader","Diastolic pressure*"),u(this.vitals,"Systolic","value",""),u(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!0),((c=e==null?void 0:e.col)==null?void 0:c.name)=="Pulse Rate Not Done"&&e.col.checked?(Te(this.vitals,"Pulse","displayNone",!1),u(this.vitals,"Pulse","disabled",!0),u(this.vitals,"Pulse","inputHeader","Pulse rate"),u(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!1):((h=e==null?void 0:e.col)==null?void 0:h.name)=="Pulse Rate Not Done"&&(Te(this.vitals,"Pulse","displayNone",!0),Te(this.vitals,"Pulse","value",""),u(this.vitals,"Pulse","disabled",!1),u(this.vitals,"Pulse","inputHeader","Pulse rate*"),u(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!0),((m=e==null?void 0:e.col)==null?void 0:m.name)=="Temperature Not Done"&&e.col.checked?(Te(this.vitals,"Temperature","displayNone",!1),u(this.vitals,"Temperature","disabled",!0),u(this.vitals,"Temperature","inputHeader","Temperature"),u(this.vitals,"Temperature","value",""),this.validationStatus.bloodPressure=!1):((f=e==null?void 0:e.col)==null?void 0:f.name)=="Temperature Not Done"&&(Te(this.vitals,"Temperature","displayNone",!0),Te(this.vitals,"Temperature","value",""),u(this.vitals,"Temperature","disabled",!1),u(this.vitals,"Temperature","inputHeader","Temperature*"),u(this.vitals,"Temperature","value",""),this.validationStatus.bloodPressure=!0),((y=e==null?void 0:e.col)==null?void 0:y.name)=="Respiratory rate Not Done"&&e.col.checked?(Te(this.vitals,"Respiratory rate","displayNone",!1),u(this.vitals,"Respiratory rate","disabled",!0),u(this.vitals,"Respiratory rate","inputHeader","Respiratory rate"),u(this.vitals,"Respiratory rate","value",""),this.validationStatus.bloodPressure=!1):((D=e==null?void 0:e.col)==null?void 0:D.name)=="Respiratory rate Not Done"&&(Te(this.vitals,"Respiratory rate","displayNone",!0),Te(this.vitals,"Respiratory rate","value",""),u(this.vitals,"Respiratory rate","disabled",!1),u(this.vitals,"Respiratory rate","inputHeader","Respiratory rate*"),u(this.vitals,"Respiratory rate","value",""),this.validationStatus.bloodPressure=!0),((C=e==null?void 0:e.col)==null?void 0:C.name)=="Oxygen saturation Not Done"&&e.col.checked?(Te(this.vitals,"SAO2","displayNone",!1),u(this.vitals,"SAO2","disabled",!0),u(this.vitals,"SAO2","inputHeader","Oxygen saturation"),u(this.vitals,"SAO2","value",""),this.validationStatus.bloodPressure=!1):((V=e==null?void 0:e.col)==null?void 0:V.name)=="Oxygen saturation Not Done"&&(Te(this.vitals,"SAO2","displayNone",!0),Te(this.vitals,"SAO2","value",""),u(this.vitals,"SAO2","disabled",!1),u(this.vitals,"SAO2","inputHeader","Oxygen saturation*"),u(this.vitals,"SAO2","value",""),this.validationStatus.bloodPressure=!0)},async checkHeight(){var o,r,l,c;const e=[...((r=(o=this.patient)==null?void 0:o.vitals)==null?void 0:r.saved)||[],...((c=(l=this.patient)==null?void 0:l.vitals)==null?void 0:c.unsaved)||[]],t=await bs(e,"value_numeric",5090),a=await bs(e,"obs_datetime",5090),s=new Me;t&&(rs(a).diff(s.getBirthdate(),"year")<18||s.getAge()<18||(u(this.vitals,"Height (cm)","disabled",!0),u(this.vitals,"Height (cm)","value",t)))},async validateRowData(e){if(e!="onload"){await this.validationController(e);const t=le(this.vitals,"Height (cm)","value"),a=le(this.vitals,"Weight","value"),s=le(this.vitals,"Systolic","value"),o=le(this.vitals,"Diastolic","value"),r=le(this.vitals,"Temperature","value"),l=le(this.vitals,"Pulse","value"),c=le(this.vitals,"Respiratory rate","value"),h=le(this.vitals,"SAO2","value");await this.setBMI(t,a),await this.updateBP(s,o);const m=this.getPulseRateStatus(l);await this.updateRate("pulse",l," BMP",m,4);const f=this.getTemperatureStatus(r);this.updateRate("temp",r,"Â°C",f,4);const y=this.getRespiratoryRateStatus(c);this.updateRate("respiratory",c,"BMP",y,6);const D=this.getOxygenSaturationStatus(h);this.updateRate("oxygen",h,"%",D,6)}}}}),rp={class:"ion-padding",slot:"content"};function dp(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-label"),h=d("ion-item"),m=d("PreviousVitals"),f=d("ion-accordion"),y=d("ion-accordion-group"),D=d("ion-row");return p(),v(te,null,[n(l,{contentData:e.vitals,"onUpdate:inputValue":t[0]||(t[0]=C=>e.validateRowData(C))},null,8,["contentData"]),n(D,null,{default:i(()=>[n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(c,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[S("Previous measurements")])),_:1,__:[1]})]),_:1}),_("div",rp,[n(m)])]),_:1})]),_:1},512)]),_:1})],64)}const cp=T(lp,[["render",dp],["__scopeId","data-v-bbed3d60"]]);class lo extends Et{constructor(t,a){super(t,8,a)}static async getDiagnosis(t="",a=1,s=10){const o=await Ye.getConceptID("Qech outpatient diagnosis list");return Et.getJson("diagnosis",{id:o,name:t,page:a,page_size:s})}}const up=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,List:Ct},computed:{...w(Ne,["patient"])},data(){return{valueNumericArray:[],obsDatetime:[],graphIcon:qa(["#006401"]),listIcon:za(["#636363"]),displayGraph:!0,orders:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],series:[{name:"",data:[]}]}},setup(){return{checkmark:oe,pulseOutline:re}},async mounted(){const e=await Ve.getAll(this.patient.patientID,"Primary diagnosis"),t=await Ve.getAll(this.patient.patientID,"Secondary diagnosis"),a=await Ve.getAll(this.patient.patientID,"Attempted/ Differential diagnosis"),s=[...e||[],...t||[],...a||[]],o=$e.isEmpty(s)?[]:Promise.all(s.map(async r=>({name:await Ve.getConceptName(r.value_coded),obs_date:r.obs_datetime})));this.setListData(await o)},methods:{dismiss(){Wt.dismiss()},handleIcon(){},setActivClass(e){this.activeHeight="",this.activeBMI="",this.activeWeight="",e=="height"?this.activeHeight="_active":e=="weight"?this.activeWeight="_active":e=="BMI"&&(this.activeBMI="_active")},setListData(e){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 25px;",display:["Date","Diagnosis","Notes"]}),e.forEach(t=>{this.list.push({actionBtn:!1,minHeight:"--min-height: 25px;",class:"col_background",display:[ne.toStandardHisFormat(t.obs_date),t.name,""]})})}}}),hp={class:"modal_wrapper"};function pp(e,t,a,s,o,r){const l=d("list");return p(),v("div",hp,[_("div",null,[n(l,{listData:e.list},null,8,["listData"])])])}const mp=T(up,[["render",pp],["__scopeId","data-v-88580898"]]),fp=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Ot,SelectionPopover:Vt,BasicInputField:ee,List:Ct,BasicForm:G,DynamicButton:Be,previousDiagnosis:mp},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_primary:!0,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],diagnosisData:[],popoverOpen:!1,event:"",selectedCondition:"",selected:null,diagnoses:[],initialData:[]}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(Hn,["OPDdiagnosis"]),primaryDiagnosisExists(){return this.OPDdiagnosis[0].selectedData.some(e=>e.data.concept_id===6542)},primaryInputField(){return this.OPDdiagnosis[0].data.rowData[0].colData},secondaryInputField(){return this.OPDdiagnosis[2].data.rowData[0].colData},differentialInputField(){return this.OPDdiagnosis[3].data.rowData[0].colData}},watch:{OPDdiagnosis:{handler(){this.setDashedBox()},deep:!0},patient:{handler(e){e&&this.resetDiagnosisList()},immediate:!0,deep:!0}},async mounted(){this.updateDiagnosisStores();const e=Hn();this.initialData=e.getInitial(),this.setDashedBox(),await this.getDiagnosis("")},methods:{resetDiagnosisList(){this.OPDdiagnosis[0].selectedData=[],this.updateDiagnosisStores()},displayInputFields(){this.conditionStatus="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validaterowData(e={name:"secondaryDiagnosis"}){u(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage",""),u(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage",""),u(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage","");const t=le(this.OPDdiagnosis,"primaryDiagnosis","value"),a=le(this.OPDdiagnosis,"secondaryDiagnosis","value"),s=le(this.OPDdiagnosis,"differentialDiagnosis","value");if(t.name&&this.OPDdiagnosis[0].selectedData.some(c=>c.data.concept_id===6542))return u(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage","Only one primary diagnosis can be added. Delete the existing one to change."),ta("Only one primary diagnosis is allowed. Delete one added if you want to change"),!1;const o=a&&a.length>0,r=s&&s.length>0;return o&&a.some(l=>l.name===t.name)?(u(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage","".concat(t.name," is already selected as primary diagnosis.")),!1):r&&s.some(l=>l.name===t.name)?(u(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage","".concat(t.name," is already selected as primary diagnosis.")),!1):o&&r&&a.some(c=>s.some(h=>h.name===c.name))?(u(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage","Secondary and differential diagnoses cannot overlap."),!1):t!=null&&t.name?!0:(u(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage","Primary diagnosis is required."),!1)},async addNewRow(){await this.validaterowData()&&(this.buildDiagnosis(),this.search_item=!1,this.display_item=!0,this.addItemButton=!0,this.display_primary=!1,this.OPDdiagnosis[0].data.rowData[0].colData[0].value="",this.OPDdiagnosis[2].data.rowData[0].colData[0].value="",this.OPDdiagnosis[3].data.rowData[0].colData[0].value="",u(this.OPDdiagnosis,"primaryDiagnosis","inputFieldDisplayNone",!1),u(this.OPDdiagnosis,"primaryDiagnosis","colSize",""))},buildDiagnosis(){var a,s;const e=[],t=this.OPDdiagnosis[0].selectedData.map(o=>o.name);if((s=(a=this.primaryInputField[0])==null?void 0:a.value)!=null&&s.name&&!t.includes(this.primaryInputField[0].value.name))if(!this.OPDdiagnosis[0].selectedData.some(r=>r.data.concept_id===6542))e.push({actionBtn:!0,btn:["delete"],name:this.primaryInputField[0].value.name,id:this.primaryInputField[0].value.concept_id,display:[this.primaryInputField[0].value.name,"Primary diagnosis"],data:{concept_id:6542,value_coded:this.primaryInputField[0].value.concept_id,obs_datetime:Oe.getSessionDate()}});else return ta("Only one primary diagnosis is allowed"),!1;return this.secondaryInputField[0].value&&this.secondaryInputField[0].value.forEach(o=>{t.includes(o.name)||e.push({actionBtn:!0,btn:["delete"],name:o.name,id:o.concept_id,display:[o.name,"Secondary diagnosis"],data:{concept_id:6543,value_coded:o.concept_id,obs_datetime:Oe.getSessionDate()}})}),this.differentialInputField[0].value&&this.differentialInputField[0].value.forEach(o=>{t.includes(o.name)||e.push({actionBtn:!0,btn:["delete"],name:o.name,id:o.concept_id,display:[o.name,"Differential diagnosis"],data:{concept_id:10201,value_coded:o.concept_id,obs_datetime:Oe.getSessionDate()}})}),e.length>0&&(this.OPDdiagnosis[0].selectedData=[...this.OPDdiagnosis[0].selectedData,...e]),!0},compareArrays(e,t){return e.reduce((a,s)=>{const o=t.find(r=>r.name===s.name);return o&&a.push(o.display[1]),a},[])},updateDiagnosisStores(){Hn().setOPDDiagnosis(this.OPDdiagnosis)},openPopover(e){this.event=e,this.popoverOpen=!0},async handleInputData(e){u(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage",""),u(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage",""),u(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage",""),await this.getDiagnosis(e.value),this.validaterowData(e)},async getDiagnosis(e){return this.diagnoses=await lo.getDiagnosis(e,1,5),u(this.OPDdiagnosis,"primaryDiagnosis","multiSelectData",this.diagnoses),u(this.OPDdiagnosis,"secondaryDiagnosis","multiSelectData",this.diagnoses),u(this.OPDdiagnosis,"differentialDiagnosis","multiSelectData",this.diagnoses),this.diagnoses},async onRefresh(e){(await this.getDiagnosis(e)).length>0&&Dt("Diagnoses selection list has been updated")},editDiagnosis(e){this.deleteDiagnosis(e),this.selectedText=e.name,this.OPDdiagnosis[0].data.rowData[0].colData[0].value=e.name,this.addItemButton=!1,this.search_item=!0,this.updateDiagnosisStores()},async openDeletePopover(e){await jt("Do you want to delete ".concat(e.name," ?"),e.event)&&this.deleteDiagnosis(e.name)},deleteDiagnosis(e){const t=this.OPDdiagnosis[0].selectedData,a=e.name,s=t.filter(r=>r.display[0]!==a),o=t.filter(r=>r.display[0]===a);this.OPDdiagnosis[0].selectedData=s,o[0].data.concept_id==6542&&(u(this.OPDdiagnosis,"primaryDiagnosis","inputFieldDisplayNone",!1),u(this.OPDdiagnosis,"primaryDiagnosis","colSize",""))},setDashedBox(){var e,t,a,s;((t=(e=this.primaryInputField[0])==null?void 0:e.value)!=null&&t.name||(s=(a=this.primaryInputField[1])==null?void 0:a.value)!=null&&s.name)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.OPDdiagnosis[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0),this.addItemButton=!this.primaryDiagnosisExists}}}),_p={class:"custom_card",style:{padding:"10px"}},vp={key:0},gp={key:0,style:{color:"red","margin-top":"10px",background:"lightgoldenrodyellow"}},yp={class:"ion-padding",slot:"content"};function bp(e,t,a,s,o,r){const l=d("DashBox"),c=d("list"),h=d("basic-form"),m=d("ion-row"),f=d("DynamicButton"),y=d("ion-label"),D=d("ion-item"),C=d("previousDiagnosis"),V=d("ion-accordion"),E=d("ion-accordion-group");return p(),v(te,null,[_("div",_p,[n(l,{status:e.no_item,content:"No Diagnosis added"},null,8,["status"]),e.display_item?(p(),v("span",vp,[n(c,{listData:e.OPDdiagnosis[0].selectedData,"onClicked:edit":t[0]||(t[0]=U=>e.editDiagnosis(U)),"onClicked:delete":e.deleteDiagnosis},null,8,["listData","onClicked:delete"]),e.primaryDiagnosisExists?(p(),v("div",gp," In order to update the diagnosis list, please remove/delete the primary diagnosis only and then re-add or change it along with the secondary and differential diagnoses. ")):$("",!0)])):$("",!0),e.search_item?(p(),A(m,{key:1},{default:i(()=>[n(h,{initialData:e.initialData,contentData:e.OPDdiagnosis,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,disabled:e.primaryDiagnosisExists,"onClicked:button":e.addNewRow,onSearchChange:e.getDiagnosis,onRefresh:t[1]||(t[1]=U=>e.onRefresh("a"))},null,8,["initialData","contentData","onUpdate:selected","onUpdate:inputValue","disabled","onClicked:button","onSearchChange"])]),_:1})):$("",!0),e.addItemButton?(p(),A(m,{key:2,style:{"margin-top":"10px"}},{default:i(()=>[n(f,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[2]||(t[2]=U=>e.displayInputFields()),name:"Add new Diagnosis"},null,8,["icon"])]),_:1})):$("",!0)]),n(m,null,{default:i(()=>[n(E,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(V,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(D,{slot:"header",color:"light"},{default:i(()=>[n(y,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[S("Previous Diagnosis")])),_:1,__:[3]})]),_:1}),_("div",yp,[n(C)])]),_:1})]),_:1},512)]),_:1})],64)}const Dp=T(fp,[["render",bp],["__scopeId","data-v-e7cfdc2c"]]),Sp=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W},data(){return{iconsContent:P}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{navigationMenu(e){ze.close(),this.$router.push(e)}}});function Cp(e,t,a,s,o,r){const l=d("ion-row");return p(),v(te,null,[n(l,null,{default:i(()=>t[0]||(t[0]=[_("span",{class:"dash_box"},"No Diagnosis added",-1)])),_:1,__:[0]}),n(l,null,{default:i(()=>t[1]||(t[1]=[_("span",{class:"add_item"}," + Add Diagnosis ",-1)])),_:1,__:[1]})],64)}const wp=T(Sp,[["render",Cp],["__scopeId","data-v-5cb38228"]]),Ip=B({components:{IonItem:O,IonCol:ge,IonLabel:J},data(){return{iconsContent:P}},props:{displayData:{type:Array,default:[]}},methods:{highlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#006401"),this.highlightActionBtns(e)},undoHighlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="rgb(0,0,0)"),this.undohighlightActionBtns(e)},highlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="block"},undohighlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="none"},asignLblID(e){return e+"_lbl"},asignSpanLblID(e){return e+"_spanlbl"},async removeItemAtIndex(e,t){await jt("Do you want to delete it?",t)&&this.$emit("update:removeItem",e)},async editItemAtIndex(e,t,a){await ul("Do you want to edit it?",a)&&this.$emit("update:editItem",{index:e,item:t})},fomartDate(e){const t=e.year,a=(e.month<10?"0":"")+e.month,s=(e.day<10?"0":"")+e.day;return t+"-"+a+"-"+s}}});function Pp(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-col"),h=d("ion-icon"),m=d("ion-item");return p(!0),v(te,null,pe(e.displayData,(f,y)=>(p(),A(m,{displayData:e.displayData,class:"ionLbltp",key:y,onMousemove:D=>e.highlightItem(y),onMouseout:D=>e.undoHighlightItem(y)},{default:i(()=>[n(c,{class:"col-st1"},{default:i(()=>[n(l,{id:e.asignLblID(y),class:"truncate-text",style:{color:"#00190E","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(f.type),1)]),_:2},1032,["id"])]),_:2},1024),n(c,{class:"col-st2"},{default:i(()=>[n(l,{class:"truncate-text",style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[t[0]||(t[0]=_("span",{class:"spaceBetween"},null,-1)),S(" "+k(f.name)+" ",1),t[1]||(t[1]=_("span",{class:"spaceBetween"},null,-1)),S(k(f.reason),1),t[2]||(t[2]=_("span",{class:"spaceBetween"},null,-1)),S(k(e.fomartDate(f.date)),1)]),_:2,__:[0,1,2]},1024)]),_:2},1024),n(c,{class:"action_buttons"},{default:i(()=>[n(l,{class:ut(e.asignSpanLblID(y)),style:{cursor:"pointer",display:"none","text-align":"end"},onClick:D=>e.editItemAtIndex(y,f,D)},{default:i(()=>[n(h,{icon:e.iconsContent.edit},null,8,["icon"])]),_:2},1032,["class","onClick"]),n(l,{class:ut(e.asignSpanLblID(y)),style:{cursor:"pointer",display:"none","text-align":"end"},onClick:D=>e.removeItemAtIndex(y,D)},{default:i(()=>[n(h,{icon:e.iconsContent.delete},null,8,["icon"])]),_:2},1032,["class","onClick"])]),_:2},1024)]),_:2},1032,["displayData","onMousemove","onMouseout"]))),128)}const ro=T(Ip,[["render",Pp],["__scopeId","data-v-4346bf77"]]),Ta=B({__name:"TimePicker",props:{place_holder:{},time_prop:{}},emits:["timeUpDated"],setup(e,{emit:t}){const a=b(),s=b({title:"Set Time",popoverOpen:!1,isOpen:!1,event:{},keyboardClose:!1,popoverData:{}}),o=b(),r={name:"Now",show:!0,fn:U},l=b(!0),c=b(!1),h=b(0),m=e;Ke(()=>m.time_prop,H=>{H&&(a.value=H.time)},{immediate:!0,deep:!0});const f=t;function y(){f("timeUpDated",o.value)}function D(H){c.value==!0?(l.value=!1,c.value=!1):l.value=!0,s.value.isOpen=!0,s.value.event=H}function C(H){a.value=H.detail.value;const M=E(a.value);if(V(M)==!0){U();return}a.value=M}function V(H){return H.indexOf("NaN")!==-1}function E(H){let M=new Date(H),L=M.getHours(),K=M.getMinutes(),X=L>=12?"PM":"AM";L=L%12,L=L||12;let ue=L.toString().padStart(2,"0")+":"+K.toString().padStart(2,"0")+" "+X;return o.value={time:ue,meridian:X},y(),ue}function U(){c.value=!0,a.value=E(new Date),l.value=!1,h.value++}return(H,M)=>{const L=d("ion-popover");return p(),v(te,null,[(p(),A(ee,{placeholder:m.place_holder.default,inputValue:a.value,icon:g(Vo),"-inner-action-btn-propeties":r,"onClicked:inputValue":D,"onUpdate:InnerActionBtnPropetiesAction":r.fn,key:h.value},null,8,["placeholder","inputValue","icon","onUpdate:InnerActionBtnPropetiesAction"])),n(L,{"show-backdrop":!1,"keep-contents-mounted":!0,"is-open":s.value.isOpen,event:s.value.event,side:"top",onDidDismiss:M[0]||(M[0]=K=>s.value.isOpen=!1)},{default:i(()=>[l.value?(p(),A(g(ss),{key:0,onIonChange:C,id:"datetime",presentation:"time","show-default-buttons":!0})):$("",!0)]),_:1},8,["is-open","event"])],64)}}});async function Np(e={}){try{const{name:t="",page:a=1,page_size:s=10}=e,o=t?{name:"%".concat(t,"%")}:{};return(await ua("wards",{likeClause:o,currentPage:a,itemsPerPage:s}).then(l=>l.records)).map(l=>({name:l.name,value:l.name,other:l}))}catch(t){throw console.error("Error fetching offline wards:",t.message),t}}const kp=B({name:"xxxComponent"}),Bp=B({...kp,props:{selected_ward_prop:{},admitted_other_props:{}},emits:["dataSaved"],setup(e,{emit:t}){const a=b([]),s=Ua(),o=b(NaN),r=b(!1),l=b(),c=b(!1);dt(async()=>{M(),C()});const h=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:L},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:de}],m=[{placeHolder:"Reason",dataHandler:U,dataValue:b(),show_error:b(!1),error_message:"please provide a reason"}],f=[{placeHolder:{default:"Enter date"},dataHandler:E,dataValue:b(),show_error:b(!1),error_message:"please provide date"}],y=[{placeHolder:{default:"Enter time of admission"},dataHandler:V,dataValue:b(),show_error:b(!1),error_message:"error"}],D=e;Ke(()=>D.selected_ward_prop,Ce=>{Ce&&(l.value=Ce)},{immediate:!0,deep:!0}),Ke(()=>D.admitted_other_props,Ce=>{Ce&&(m[0].dataValue.value=Ce.reason,y[0].dataValue.value=Ce.time,f[0].dataValue.value=Ce.date)},{immediate:!0,deep:!0});function C(Ce=!0){c.value=Ce}function V(Ce){y[0].dataValue.value=Ce,L(!1)}function E(Ce){const Z={day:Ce.value.day,month:Ce.value.month,year:Ce.value.year,formattedDate:Ce.value.formattedDate};f[0].dataValue.value=Z,L(!1)}function U(Ce){const Z=Ce.target.value;m[0].dataValue.value=Z,H(),C(!1)}function H(){c.value==!0&&tt("Remember to press the SAVE button",1e4)}async function M(Ce){(await Np({name:"",page:1,page_size:1e3})).forEach(ke=>{const Xe={name:ke.name,selected:!1,other:ke,location_ward_id:ke.other.location_id};a.value.push(Xe)})}function L(Ce=!0){K(),X(),Ae(),gt(),f[0].show_error.value==!1&&y[0].show_error.value==!1&&m[0].show_error.value==!1&&r.value==!1?ue():Ce&&tt("Please enter correct data values",4e3)}function K(){l.value===void 0||l.value==""?r.value=!0:r.value=!1}function X(){m[0].dataValue.value==""||m[0].dataValue.value===void 0?m[0].show_error.value=!0:m[0].show_error.value=!1}async function ue(){const Ce={name:l.value.name,type:"Admitted for short stay",date:f[0].dataValue,time:y[0].dataValue,reason:m[0].dataValue,other:l.value,selected:!0};await s.addOutcomeData(Ce,o.value)&&Q({dataSaved:!1})}const ie=t;function Q(Ce={dataSaved:!0}){ie("dataSaved",Ce)}function de(){Q()}function Ae(){f[0].dataValue.value===void 0||f[0].dataValue.value==""?f[0].show_error.value=!0:f[0].show_error.value=!1}function gt(){y[0].dataValue.value===void 0||f[0].dataValue.value==""?y[0].show_error.value=!0:y[0].show_error.value=!1}const yt=Ce=>{l.value=Ce,C(),L(!1)};return(Ce,Z)=>(p(),A(g(x),null,{default:i(()=>[n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(g(ea),{modelValue:l.value,"onUpdate:modelValue":[Z[0]||(Z[0]=ke=>l.value=ke),Z[1]||(Z[1]=ke=>yt(ke))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Find and select a ward",placeholder:"Find and select a ward",selectLabel:"",label:"name",searchable:!0,disabled:!1,onSearchChange:Z[2]||(Z[2]=ke=>ke={}),"track-by":"location_ward_id",options:a.value},null,8,["modelValue","options"]),_("div",null,[r.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>Z[3]||(Z[3]=[S(k("Please select a ward"))])),_:1,__:[3]})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[_("div",null,[n(Ra,{place_holder:f[0].placeHolder,onDateUpDated:f[0].dataHandler,date_prop:f[0].dataValue.value},null,8,["place_holder","onDateUpDated","date_prop"]),_("div",null,[f[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(f[0].error_message),1)]),_:1})):$("",!0)])])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[_("div",null,[n(Ta,{place_holder:y[0].placeHolder,onTimeUpDated:y[0].dataHandler,time_prop:y[0].dataValue.value},null,8,["place_holder","onTimeUpDated","time_prop"]),_("div",null,[y[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(y[0].error_message),1)]),_:1})):$("",!0)])])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(ee,{placeholder:m[0].placeHolder,icon:g(cn),inputValue:m[0].dataValue.value,"onUpdate:inputValue":m[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[m[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(m[0].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),h[0].showAddItemButton?(p(),A(g(Re),{key:0,class:"spc_btwn"},{default:i(()=>[h[0].addItemButton?(p(),A(Be,{key:0,name:h[0].name,fill:h[0].btnFill,icon:g(Ia),"onClicked:btn":h[0].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0),h[1].addItemButton?(p(),A(Be,{key:1,name:h[1].name,fill:h[1].btnFill,icon:g(sa),"onClicked:btn":h[1].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0)]),_:1})):$("",!0)]),_:1}))}}),co=T(Bp,[["__scopeId","data-v-3f54ed58"]]),$p=B({name:"xxxComponent"}),Mp=B({...$p,props:{selected_referral_data:{},selected_other_referral_data:{}},emits:["dataSaved"],setup(e,{emit:t}){const a=b(NaN),s=b(null),o=Ua(),r=b(!1),l=b([]),c=b({}),h=b(!0),m={location_data:{}},f=[{placeHolder:"Reason",dataHandler:E,dataValue:b(),show_error:b(!1),error_message:"please provide a reason"}],y=[{placeHolder:{default:"Enter date"},dataHandler:V,dataValue:b(),show_error:b(!1),error_message:"please provide date"}],D=[{placeHolder:{default:"Enter time of referral"},dataHandler:H,dataValue:b(),show_error:b(!1),error_message:"error"}],C=e;Ke(()=>C.selected_other_referral_data,Z=>{Z&&(f[0].dataValue.value=Z.reason,y[0].dataValue.value=Z.date,D[0].dataValue.value=Z.time)},{immediate:!0,deep:!0}),Ke(()=>C.selected_referral_data,Z=>{if(!Z)return;s.value=Z.selected_location,m.location_data=Z;const ke=Array.isArray(Z.selected_district_ids)?[...Z.selected_district_ids]:[],Xe=Z.selected_location?{...Z.selected_location}:null;l.value=ke,c.value=Xe},{immediate:!0,deep:!0}),dt(()=>{ie()});function V(Z){const ke={day:Z.value.day,month:Z.value.month,year:Z.value.year,formattedDate:Z.value.formattedDate};y[0].dataValue.value=ke,M(!1)}function E(Z){const ke=Z.target.value;f[0].dataValue.value=ke,U(),ie(!1)}function U(){h.value==!0&&tt("Remember to press the SAVE button",1e4)}function H(Z){D[0].dataValue.value=Z,M(!1)}function M(Z=!0){ue(),L(),K(),X(),y[0].show_error.value==!1&&D[0].show_error.value==!1&&f[0].show_error.value==!1&&r.value==!1?de():Z&&tt("Please enter correct data values",4e3)}function L(){f[0].dataValue.value==""||f[0].dataValue.value===void 0?f[0].show_error.value=!0:f[0].show_error.value=!1}function K(){y[0].dataValue.value===void 0||y[0].dataValue.value==""?y[0].show_error.value=!0:y[0].show_error.value=!1}function X(){D[0].dataValue.value===void 0||y[0].dataValue.value==""?D[0].show_error.value=!0:D[0].show_error.value=!1}function ue(){s.value?r.value=!1:r.value=!0}function ie(Z=!0){h.value=Z}const Q=Z=>{s.value=Z.selected_location,ue(),m.location_data=Z,ie(),M(!1)},de=async()=>{const Z={name:s.value.name,type:"Referred out",selected:!0,date:y[0].dataValue,time:D[0].dataValue,reason:f[0].dataValue},ke={...Z,other:{ref_data:Z,location_data:m.location_data}};await o.addOutcomeData(ke,a.value)&&yt({dataSaved:!1})},Ae=()=>{yt()},gt=t;function yt(Z={dataSaved:!0}){gt("dataSaved",Z)}const Ce=[{showAddItemButton:!0,addItemButton:!0,name:" save",btnFill:"clear",fn:M},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:Ae}];return(Z,ke)=>(p(),A(g(x),null,{default:i(()=>[n(g(Re),null,{default:i(()=>[n(Vl,{show_error:r.value,onFacilitySelected:Q,selected_district_ids:l.value,selected_location:c.value},null,8,["show_error","selected_district_ids","selected_location"])]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[_("div",null,[n(Ra,{place_holder:y[0].placeHolder,onDateUpDated:y[0].dataHandler,date_prop:y[0].dataValue.value},null,8,["place_holder","onDateUpDated","date_prop"]),_("div",null,[y[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(y[0].error_message),1)]),_:1})):$("",!0)])])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[_("div",null,[n(Ta,{place_holder:D[0].placeHolder,onTimeUpDated:D[0].dataHandler,time_prop:D[0].dataValue.value},null,8,["place_holder","onTimeUpDated","time_prop"]),_("div",null,[D[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(D[0].error_message),1)]),_:1})):$("",!0)])])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(ee,{placeholder:f[0].placeHolder,icon:g(cn),inputValue:f[0].dataValue.value,"onUpdate:inputValue":f[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(f[0].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),Ce[0].showAddItemButton?(p(),A(g(Re),{key:0,class:"spc_btwn"},{default:i(()=>[Ce[0].addItemButton?(p(),A(Be,{key:0,name:Ce[0].name,fill:Ce[0].btnFill,icon:g(Ia),"onClicked:btn":Ce[0].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0),Ce[1].addItemButton?(p(),A(Be,{key:1,name:Ce[1].name,fill:Ce[1].btnFill,icon:g(sa),"onClicked:btn":Ce[1].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0)]),_:1})):$("",!0)]),_:1}))}}),uo=T(Mp,[["__scopeId","data-v-aa5f466b"]]),Ap=B({name:"xxxComponent"}),Ep=B({...Ap,props:{selected_discharged_prop:{},selected_discharged_data:{}},emits:["dataSaved"],setup(e,{emit:t}){const a=b(NaN),s=b([]),o=Ua(),r=b();dt(async()=>{V("")});const l=[{placeHolder:"Reason",dataHandler:f,dataValue:b(),show_error:b(!1),error_message:"please provide a reason"}],c=[{placeHolder:{default:"Enter date"},dataHandler:m,dataValue:b(),show_error:b(!1),error_message:"please provide date"}],h=e;Ke(()=>h.selected_discharged_prop,ie=>{ie&&(r.value=ie)},{immediate:!0,deep:!0}),Ke(()=>h.selected_discharged_data,ie=>{ie&&(c[0].dataValue.value=ie.date||"",ie.reason&&(l[0].dataValue.value=ie.reason))},{immediate:!0,deep:!0});function m(ie){const Q={day:ie.value.day,month:ie.value.month,year:ie.value.year,formattedDate:ie.value.formattedDate};c[0].dataValue.value=Q,U(!1)}function f(ie){const Q=ie.target.value;l[0].dataValue.value=Q}s.value,b(!1),b(!1);const y=[{placeHolder:{default:"Enter time of referral"},dataHandler:D,dataValue:b(),show_error:b(!1),error_message:"error"}];function D(ie){y[0].dataValue.value=ie}const C=new Set;async function V(ie){const Q=ie;(await Yt.getFacilities({name:Q})).forEach(Ae=>{C.has(Ae.location_id)||(C.add(Ae.location_id),$e.isEmpty(Ae.name)==!1&&s.value.push({name:Ae.name,selected:!1,other:Ae}))})}function E(ie){s.value=ie}function U(ie=!0){H(),c[0].show_error.value?ie&&tt("Please enter a valid date",4e3):M()}function H(){c[0].dataValue.value===void 0||c[0].dataValue.value==""?c[0].show_error.value=!0:c[0].show_error.value=!1}async function M(){const ie={type:"Discharged Home",date:c[0].dataValue,reason:l[0].dataValue.value};await o.addOutcomeData(ie,a.value)&&X({dataSaved:!1})}function L(){X()}const K=t;function X(ie={dataSaved:!0}){K("dataSaved",ie)}const ue=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:U},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:L}];return(ie,Q)=>(p(),A(g(x),null,{default:i(()=>[n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[_("div",null,[n(Ra,{place_holder:c[0].placeHolder,onDateUpDated:c[0].dataHandler,date_prop:c[0].dataValue.value},null,8,["place_holder","onDateUpDated","date_prop"]),_("div",null,[c[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(c[0].error_message),1)]),_:1})):$("",!0)])])]),_:1})]),_:1}),ue[0].showAddItemButton?(p(),A(g(Re),{key:0,class:"spc_btwn"},{default:i(()=>[ue[0].addItemButton?(p(),A(Be,{key:0,name:ue[0].name,fill:ue[0].btnFill,icon:g(Ia),"onClicked:btn":ue[0].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0),ue[1].addItemButton?(p(),A(Be,{key:1,name:ue[1].name,fill:ue[1].btnFill,icon:g(sa),"onClicked:btn":ue[1].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0)]),_:1})):$("",!0)]),_:1}))}}),ho=T(Ep,[["__scopeId","data-v-c99ccb0e"]]),Vp={class:"dash_box"},Op={key:0,style:{"margin-top":"100px"}},Tp=B({name:"xxxComponent"}),Fp=B({...Tp,setup(e){const t=b("No outcome created yet"),a=b(!1),s=b(!0),o=b(""),r=b(!0),l=b(!1),c=Ua(),h=Ue(()=>c.outcomes),m=b(!1),f=b(!1),y=b(!1),D=b(!1),C=b(!1),V=b(),E=b(null),U=b(null),H=b(null),M=b(null),L=b(null),K=b(null),X=b([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1}]);function ue(Z){X.value.forEach(ke=>{Z.selected==!0&&(Z.name==ke.name||Z.type==ke.name)&&(o.value=ke.name)})}dt(async()=>{Q()}),Ke(()=>o.value,async Z=>{m.value==!0?m.value=!1:gt()}),Ke(()=>h.value.length,async Z=>{Q()});function ie(){X.value.forEach(Z=>{Z.selected=!1}),o.value=""}function Q(){h.value.length>0?r.value=!1:h.value.length==0&&l.value==!1&&(r.value=!0)}function de(Z){h.value.splice(Z,1)}const Ae=Z=>{de(Z.index),ue(Z.item),E.value=Z.item.other.location_data,U.value={reason:Z.item.reason,date:Z.item.date,time:Z.item.time},H.value=Z.item.other,M.value=Z.item,Z.item.type==="Discharged Home"&&(L.value=Z.item,K.value={reason:Z.item.reason,date:Z.item.date})};async function gt(Z=!0){const ke=o.value;o.value=ke;const Xe=o.value;Xe==X.value[0].name?y.value=!0:y.value=!1,Xe==X.value[1].name?D.value=!0:D.value=!1,Xe==X.value[2].name?C.value=!0:C.value=!1}function yt(){f.value=!1,y.value=!1,C.value=!1,D.value=!1,ie()}const Ce=Z=>{X.value.forEach(ke=>{ke.selected=!1}),V.value=Z,V.value.selected=!0,ue(V.value)};return(Z,ke)=>{const Xe=d("ion-row");return p(),A(g(x),null,{default:i(()=>[n(Xe,null,{default:i(()=>[n(g(ge),null,{default:i(()=>[(p(),A(ro,{key:0,"onUpdate:removeItem":de,"onUpdate:editItem":Ae,displayData:h.value},null,8,["displayData"]))]),_:1})]),_:1}),r.value?(p(),A(Xe,{key:0},{default:i(()=>[_("span",Vp,k(t.value),1)]),_:1})):$("",!0),n(Xe,null,{default:i(()=>[n(g(ge),null,{default:i(()=>[s.value?(p(),v("div",Op,[n(Xe,null,{default:i(()=>[n(g(ea),{modelValue:V.value,"onUpdate:modelValue":[ke[0]||(ke[0]=Rt=>V.value=Rt),ke[1]||(ke[1]=Rt=>Ce(Rt))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"top","tag-placeholder":"find and select a referral type",placeholder:"find and select a referral type",selectLabel:"",label:"name",searchable:!0,disabled:!1,onSearchChange:()=>{},"track-by":"name",options:X.value},null,8,["modelValue","options"]),_("div",null,[a.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>ke[2]||(ke[2]=[S(k("please select a type"))])),_:1,__:[2]})):$("",!0)])]),_:1})])):$("",!0)]),_:1})]),_:1}),y.value?(p(),A(co,{key:1,onDataSaved:yt,selected_ward_prop:H.value,admitted_other_props:M.value},null,8,["selected_ward_prop","admitted_other_props"])):$("",!0),D.value?(p(),A(uo,{key:2,onDataSaved:yt,selected_referral_data:E.value,selected_other_referral_data:U.value},null,8,["selected_referral_data","selected_other_referral_data"])):$("",!0),C.value?(p(),A(ho,{key:3,onDataSaved:yt,selected_discharged_prop:L.value,selected_discharged_data:K.value},null,8,["selected_discharged_prop","selected_discharged_data"])):$("",!0)]),_:1})}}}),Hp=T(Fp,[["__scopeId","data-v-6e592042"]]),Rp=B({name:"xxxComponent"}),Lp=B({...Rp,setup(e){return(t,a)=>(p(),A(Hp))}}),ai=qe("ChangeStatusStore",{state:()=>({changeStatus:[{selectedData:[],isFinishBtn:!1,radioBtnContent:{header:{name:"Immunization patient status",selectedValue:""},data:[{name:"Active",value:"Active",checked:!0},{name:"Inactive",value:"Inactive",checked:!1},{name:"Lost to follow-up",value:"Lost to follow-up",checked:!1},{name:"Archive Record",value:"Archive Record",checked:!1}]}}]}),actions:{setStatus(e){this.changeStatus=e}},persist:!0}),xp=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicForm:G},data(){return{initialData:[]}},computed:{...w(ai,["changeStatus"])},mounted(){ai()},methods:{handleInputData(e){}}}),Up={class:"modal_wrapper"};function zp(e,t,a,s,o,r){const l=d("basic-form");return p(),v("div",Up,[n(l,{contentData:e.changeStatus,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])}const qp=T(xp,[["render",zp]]),ni=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Skull",value:"Skull",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Mastoid",value:"Mastoid",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"ParaSinuses",value:"ParaSinuses",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Optic Foramen",value:"PVD",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Orbits",value:"Orbits",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Nasal Bone",value:"Nasal Bone",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Mandible",value:"Mandible",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"TMJs",value:"TMJs",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Zygomatic",value:"Zygomatic",checked:!1}]}}],Wp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Neck",value:"Neck",checked:!1}]}}],Gp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Chest",value:"Chest",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Heart",value:"Heart",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Sternum",value:"Sternum",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Ribs",value:"Ribs",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"SCJ",value:"SCJ",checked:!1}]}}],jp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Abdomen",value:"Abdomen",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"IVP",value:"IVP",checked:!1}]}}],Yp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Clavicle",value:"Clavicle",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Shoulder",value:"Shoulder",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Scapula",value:"Scapula",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Humerus",value:"Humerus",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Elbow",value:"Elbow",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Forearm",value:"Forearm",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Wrist",value:"Wrist",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Hand",value:"Hand",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Phalanges",value:"Phalanges",checked:!1}]}}],Jp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"CSpine",value:"CSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"TSpine",value:"TSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"LSpine",value:"LSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"SSpine",value:"SSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Coccyx",value:"Coccyx",checked:!1}]}}],Kp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Pelvis",value:"Pelvis",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Sacroillac Joints",value:"Sacroillac Joints",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Hip",value:"Hip",checked:!1}]}}],Qp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Femur",value:"Femur",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Knee",value:"Knee",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Patella",value:"Patella",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Leg",value:"Leg",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Ankle",value:"Ankle",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Calcaneus",value:"Calcaneus",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Foot",value:"Foot",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Toe",value:"Toe",checked:!1}]}}],Xp=qe("RadiologyStore",{state:()=>({head:[...ni],neck:[...Wp],chest:[...Gp],abdomen:[...jp],upper_extremity:[...Yp],spine:[...Jp],pelvis:[...Kp],lower_extremity:[...Qp]}),actions:{setOPDDiagnosis(e){this.head=e},getInitial(){return[...$e.cloneDeep(ni)]}}}),Zp=["innerHTML"],em={class:"scrollable-container"},tm={key:0,class:"form-section"},am={key:1,class:"form-section"},nm={key:2,class:"form-section"},sm={key:3,class:"form-section"},im={key:4,class:"form-section"},om={key:5,class:"form-section"},lm={key:6,class:"form-section"},rm={key:7,class:"form-section"},dm=B({__name:"RadiologyInvestigation",setup(e){const t=Xp(),{head:a,neck:s,chest:o,abdomen:r,upper_extremity:l,spine:c,pelvis:h,lower_extremity:m}=zt(t),f=b(P),y=b([]),D=(V,E,U)=>{document.querySelectorAll("#".concat(V," path")).forEach(M=>{M.classList.toggle("white-fill")}),document.querySelectorAll("#".concat(E," line")).forEach(M=>{M.classList.toggle("dark-green-stroke")}),document.querySelectorAll("#".concat(E," rect")).forEach(M=>{M.classList.toggle("bright-green-fill"),M.classList.toggle("dark-green-stroke")}),document.querySelectorAll("#".concat(E," path")).forEach(M=>{M.classList.toggle("dark-green-fill")}),document.querySelectorAll("#".concat(E," circle")).forEach(M=>{M.classList.toggle("bright-green-fill")});const H=y.value.findIndex(M=>M.id===U);H>=0?y.value.splice(H,1):y.value.unshift({id:U,active:!0})},C=()=>{const V=document.getElementById("SPINE");V.style.display==="none"||V.style.display==""?V.style.display="block":V.style.display="none",D("SPINE","SPINE_LABEL-2","spine")};return dt(()=>{const V=document.getElementById("HEAD");V&&V.addEventListener("click",()=>{D("HEAD","LABEL-6","head")});const E=document.getElementById("NECK");E&&E.addEventListener("click",()=>{D("NECK","LABEL-5","neck")});const U=document.getElementById("CHEST");U&&U.addEventListener("click",()=>{D("CHEST","LABEL-4","chest")});const H=document.getElementById("ABDOMEN_LABEL");H&&H.addEventListener("click",()=>{const Q=document.getElementById("ABDOMEN-2");Q.style.display==="none"||Q.style.display==""?Q.style.display="block":Q.style.display="none",D("ABDOMEN","ABDOMEN_LABEL-2","abdomen")});const M=document.getElementById("UPPER_EXTRMITY");M&&M.addEventListener("click",()=>{D("UPPER_EXTRMITY","LABEL-3","upper_extremity")});const L=document.getElementById("SPINE"),K=document.getElementById("SPINE_LABEL"),X=document.getElementById("LOWER_SPINE_INACTIVE");L&&L.addEventListener("click",()=>{C()}),K&&K.addEventListener("click",()=>{C()}),X&&X.addEventListener("click",()=>{C()});const ue=document.getElementById("PELVIS");ue&&ue.addEventListener("click",()=>{D("PELVIS","LABEL-2","pelvis")});const ie=document.getElementById("LOWER_EXTREMITY");ie&&ie.addEventListener("click",()=>{D("LOWER_EXTREMITY","LABEL","lower_extremity")})}),(V,E)=>{const U=d("ion-col"),H=d("ion-row");return p(),A(H,null,{default:i(()=>[n(U,{size:"7"},{default:i(()=>[_("div",{innerHTML:f.value.full_body_sk},null,8,Zp)]),_:1}),n(U,{size:"5",class:"form-column"},{default:i(()=>[_("div",em,[(p(!0),v(te,null,pe(y.value,M=>(p(),v(te,null,[M.id==="head"?(p(),v("div",tm,[E[0]||(E[0]=_("h6",null,"Body Part: Head",-1)),n(G,{contentData:g(a)},null,8,["contentData"])])):M.id==="neck"?(p(),v("div",am,[E[1]||(E[1]=_("h6",null,"Body Part: Neck",-1)),n(G,{contentData:g(s)},null,8,["contentData"])])):M.id==="chest"?(p(),v("div",nm,[E[2]||(E[2]=_("h6",null,"Body Part: Chest",-1)),n(G,{contentData:g(o)},null,8,["contentData"])])):M.id==="abdomen"?(p(),v("div",sm,[E[3]||(E[3]=_("h6",null,"Body Part: Abdomen",-1)),n(G,{contentData:g(r)},null,8,["contentData"])])):M.id==="upper_extremity"?(p(),v("div",im,[E[4]||(E[4]=_("h6",null,"Body Part: Upper Extremity",-1)),n(G,{contentData:g(l)},null,8,["contentData"])])):M.id==="spine"?(p(),v("div",om,[E[5]||(E[5]=_("h6",null,"Body Part: Spine",-1)),n(G,{contentData:g(c)},null,8,["contentData"])])):M.id==="pelvis"?(p(),v("div",lm,[E[6]||(E[6]=_("h6",null,"Body Part: Pelvis",-1)),n(G,{contentData:g(h)},null,8,["contentData"])])):M.id==="lower_extremity"?(p(),v("div",rm,[E[7]||(E[7]=_("h6",null,"Body Part: Lower Extremity",-1)),n(G,{contentData:g(m)},null,8,["contentData"])])):$("",!0)],64))),256))])]),_:1})]),_:1})}}}),cm=T(dm,[["__scopeId","data-v-4e8419f9"]]),um=B({name:"Menu",mixins:[hs],components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Ot,SelectionPopover:Vt,BasicInputField:ee,BasicForm:G,List:Ct,DynamicButton:Be,labOrderResults:Ga,RadiologyInvestigation:cm},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",labOrders:"",filteredSpecimen:"",testData:[],popoverOpen:!1,labOrderStatus:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(vt,["investigations"]),...w(Ne,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0},patient:{async handler(){this.labOrders=await Ge.getOrders(this.patient.patientID)},deep:!0},$route:{async handler(){await this.getTests()},deep:!0}},async mounted(){await this.getTests(),this.updateInvestigationsStores(),this.setDashedBox(),this.updateInvestigationWizard()},methods:{async getTests(){const e=await ua("testTypes");u(this.investigations,"test","multiSelectData",e)},async onRefresh(){try{const e=await Ge.getTestTypesViaDirectAPICall();u(this.investigations,"test","multiSelectData",e),Dt("Test Types Selection list has been updated")}catch(e){ta("Could not fetch test types")}},toggleLabOrderStatus(){this.labOrderStatus=!this.labOrderStatus},async updateInvestigationWizard(){this.labOrders=await Ge.getOrders(this.patient.patientID);const e=await this.labOrders.filter(t=>ne.toStandardHisFormat(ne.sessionDate())===ne.toStandardHisFormat(t.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},async updateInvestigationsStores(){await this.updateInvestigationWizard(),vt().setInvestigations(this.investigations)},displayInputFields(e=!0){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!e,this.search_item=e},async validateRowData(){return Ha(this.investigations)},async checkTest(){return await this.isNameInData(this.inputFields[0].value.name,await this.investigations[0].selectedData)?(u(this.investigations,"test","alertsErrorMassage","Lab order already selected"),!1):(u(this.investigations,"test","alertsErrorMassage",""),!0)},async addNewRow(){Ha(this.investigations)&&await this.checkTest()&&(await this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.updateInvestigationWizard()},isNameInData(e,t){for(let a of t)for(let s of a.tests)if(s.name===e)return!0;return!1},async saveTest(){await new us().postActivities(this.patient.patientID,[{concept_id:this.inputFields[0].value.concept_id,name:this.inputFields[0].value.name,specimen:this.inputFields[1].value.name,reason:"Routine",specimenConcept:await Ye.getConceptID(this.inputFields[1].value.name,!0)}]),u(this.investigations,"specimen","disabled",!0),this.labOrders=await Ge.getOrders(this.patient.patientID)},async handleInputData(e){e.inputHeader=="Test"&&this.checkTest(),u(this.investigations,"specimen","alertsErrorMassage",""),e.inputHeader=="Test"&&e.value&&(this.specimen=await Ge.getSpecimens(e.value.name),this.specimen.length==1?(u(this.investigations,"specimen","value",this.specimen[0]),u(this.investigations,"specimen","disabled",!0)):(u(this.investigations,"specimen","value",""),u(this.investigations,"specimen","disabled",!1)),u(this.investigations,"specimen","multiSelectData",this.specimen))},async filterTest(e){return await this.labOrders.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))},async filterSpecimen(e){var t;return(t=this.specimen[0])!=null&&t.name&&e?await this.specimen.filter(a=>a==null?void 0:a.name.toLowerCase().includes(e.toLowerCase())):[]},setTest(e){this.selectedText=e.name,this.inputFields[1].inputHeader=="Test"?this.investigations[0].data.rowData[0].colData[0].value=e.name:this.investigations[0].data.rowData[0].colData[1].value=e.name,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[1].value||this.inputFields[0].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),hm={class:"ion-padding",slot:"content",style:{"margin-bottom":"125px"}},pm={key:0},mm={class:"ion-padding",slot:"content"};function fm(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("labOrderResults"),m=d("basic-form"),f=d("DynamicButton"),y=d("ion-row"),D=d("ion-accordion"),C=d("ion-accordion-group"),V=d("RadiologyInvestigation");return p(),v(te,null,[n(C,{ref:"accordionGroup",class:"previousView",value:"first"},{default:i(()=>[n(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("Lab Investigations")])),_:1,__:[2]})]),_:1}),_("div",hm,[_("span",null,[n(h,{propOrders:e.labOrders},null,8,["propOrders"])]),e.search_item?(p(),v("span",pm,[n(m,{contentData:e.investigations,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,"onClicked:button":e.addNewRow,onRefresh:e.onRefresh},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","onClicked:button","onRefresh"])])):$("",!0),e.addItemButton&&e.userRole!="Lab"?(p(),A(y,{key:1,style:{"margin-top":"10px"}},{default:i(()=>[n(f,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[0]||(t[0]=E=>e.displayInputFields()),name:"Add new test"},null,8,["icon"])]),_:1})):$("",!0),e.search_item?(p(),A(y,{key:2},{default:i(()=>[n(f,{fill:"clear",icon:e.iconsContent.redXclose,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=E=>e.displayInputFields(!1)),name:"cancel"},null,8,["icon"])]),_:1})):$("",!0)])]),_:1})]),_:1},512),e.userRole!="Lab"?(p(),A(C,{key:0,ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[S("Radiology Investigation")])),_:1,__:[3]})]),_:1}),_("div",mm,[n(V)])]),_:1})]),_:1},512)):$("",!0),e.userRole!="Lab"?(p(),A(C,{key:1,ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[4]||(t[4]=[S("Other Investigation")])),_:1,__:[4]})]),_:1}),t[5]||(t[5]=_("div",{class:"ion-padding",slot:"content"},null,-1))]),_:1,__:[5]})]),_:1},512)):$("",!0)],64)}const _m=T(um,[["render",fm],["__scopeId","data-v-c5e9d501"]]),vm={class:"allergies-section"},gm={class:"allergies-container"},ym={key:0,class:"allergies-grid"},bm={key:1,class:"no-allergies"},Dm={class:"ion-padding",slot:"content"},Sm={key:0},Cm={class:"previousSecDrgs"},wm={class:"ion-padding",slot:"content"},Im={class:"previousSecDrgs"},Pm={class:"medication-section"},Nm={class:"medication-content"},km={key:0,class:"add-medication-form"},Bm={class:"form-group"},$m={class:"option-label"},Mm={key:0,class:"error-message"},Am={class:"form-row"},Em={class:"form-group"},Vm={key:0,class:"error-message"},Om={class:"form-group"},Tm={key:0,class:"error-message"},Fm={class:"form-group"},Hm={key:0,class:"error-message"},Rm={class:"action-buttons"},Lm={class:"notes-section"},xm={class:"notes-content"},Um={class:"notes-input-container"},zm={class:"ion-padding",slot:"content"},qm={class:"notes-timeline"},Wm={class:"note-date"},Gm={class:"note-content"},jm={class:"ion-padding",slot:"content"},Ym={class:"note-date"},Jm={class:"note-content"},Km=B({watch:{},name:"xxxComponent"}),Qm=B({...Km,setup(e){const t=P,a=xt,s=b(!1),o=b(!1),r=b(!0),l=b(0),c=b(""),h=b(!1),m=b(""),f=b(!1),y=b(),D=b(!1),C=b(""),V=b(""),E=b(""),U=b(""),H=b(""),M=b("");b(!1);const L="Add new medication",K="clear";b("Show more medications");const X=_t(),ue=xa(),ie=Ue(()=>ue.selectedMedicalAllergiesList),Q=Ue(()=>X.selectedMedicalDrugsList),de=Ue(()=>X.partialOPDdrugList),Ae=Ue(()=>X.nonPharmalogicalTherapyAndOtherNotes),gt=["first","second","third"],yt=b(),Ce=b(),Z=b(),ke=b(!1),Xe=b(!1),Rt=b(!1),oa=b("Show more notes"),Pt=b("Show more allergies"),ye=b(),we=b(),Ee=b(),ot=Ue(()=>X.editingDrugItem),Dn=b("Select a route"),Pa=b(!1),Sn=b("Select frequency"),Na=b(!1),Cn=b("Select drug"),ka=b(!1),ht=b(),pt=b(),Tt=b(),Qt=b([]),ja=b([{concept_id:11797,name:"Buccal",concept_name_id:null,id:1769},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:6284},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:6285},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:6286},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:6295},{concept_id:3327,name:"Oral",concept_name_id:null,id:8686},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:8920},{concept_id:11792,name:"Rectally",concept_name_id:null,id:10785},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:12342},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:12344},{concept_id:11792,name:"Rectally",concept_name_id:null,id:14078},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:14079},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:14080},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:14081},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:14082},{concept_id:11797,name:"Buccal",concept_name_id:null,id:14083},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:14084},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:14085},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:14086}]),wn=Ue(()=>Qt.value.length?Qt.value:ja.value);function In(he){ht.value=he}async function Pn(){return await Fl()}async function Nn(he=5,se=1e3){let Fe=0;for(;Fe<he&&(Qt.value=await Pn(),!(Qt.value.length>0));)Fe++,await new Promise(Ze=>setTimeout(Ze,se));Qt.value.length===0&&console.warn("Failed to fetch route list after maximum retries.")}dt(async()=>{const he=new Wa,{previousDrugPrescriptions:se,previousClinicalNotes:Fe,previousDrugAllergies:Ze}=await he.getPatientEncounters();yt.value=se,Ce.value=Object.entries(Fe)[0];const[,...be]=Object.entries(Fe);Z.value=be,ye.value=Object.entries(Ze)[0];const[,...We]=Object.entries(Ze);we.value=We,await Nn()}),Ke(()=>C.value,async he=>{Ja()}),Ke(()=>V.value,async he=>{Mn()}),Ke(()=>E.value,async he=>{Ka()});function kn(){if($e.isEmpty(ht.value)==!0)return Pa.value=!0,!1;if($e.isEmpty(ht.value)==!1)return Pa.value=!1,!0}function Ya(){if($e.isEmpty(pt.value)==!0)return Na.value=!0,!1;if($e.isEmpty(pt.value)==!1)return Na.value=!1,!0}function Bn(){if($e.isEmpty(Tt.value)==!0)return ka.value=!0,!1;if($e.isEmpty(Tt.value)==!1)return ka.value=!1,!0}function $n(){r.value=!r.value,s.value=!0,f.value=!1,D.value=!1}async function Ja(){const he=await Vn();return console.log({drugNameExists:he}),he?h.value=!1:(c.value="please select a valid drug name",h.value=!0),h.value}async function Mn(){return xe(V.value)?f.value=!1:(m.value="please enter a number",f.value=!0),f.value}async function Ka(){return xe(E.value)?D.value=!1:(y.value="please enter a number",D.value=!0),D.value}async function Qa(){const he=await Ja(),se=await Ka(),Fe=Ya(),Ze=Bn(),be=kn();return!he&&!se&&Fe==!0&&Ze==!0&&be==!0}function An(he){pt.value=he}async function fa(){const he=()=>Ee.value.dose_strength!=null&&Ee.value.dose_strength?Math.trunc(Ee.value.dose_strength):1;if(ot.value!==null){if(!await Qa()){tt("Please enter correct data values",4e3);return}const Fe=Oe.getSessionDate(),Ze=ft(Fe,parseInt(E.value));let be=!1;Ba(Ee.value)==!0&&(be=!0);const We={drugName:C.value,dose:he(),frequency:pt.value.label,frequency_code:pt.value.code,duration:E.value,prescription:Ze,drug_id:M.value,units:H.value,route_concept_id:ht.value.concept_id,route_name:ht.value.name,highlightbackground:be},wt=_t();console.log(wt.setSelectedMedicalDrugsList([We])),wt.editingDrugItem=null,r.value=!0}else{if(!await Qa()){tt("Please enter correct data values",4e3);return}Tn();const Fe=Oe.getSessionDate(),Ze=ft(Fe,parseInt(E.value));let be=!1;Ba(Ee.value)==!0&&(be=!0);const We={drugName:C.value,dose:he(),frequency:pt.value.label,frequency_code:pt.value.code,duration:E.value,prescription:Ze,drug_id:M.value,units:H.value,route_concept_id:ht.value.concept_id,route_name:ht.value.name,highlightbackground:be};_t().setSelectedMedicalDrugsList([We])}M.value="",C.value="",V.value="",pt.value=null,E.value="",U.value="",l.value++,Tt.value=null,ht.value=null}async function Xa(he){const se=he,be=await pa.getOfflineOPDDrugs({name:se,page:1,page_size:10});be.map(We=>({label:We.name,value:We.name,other:We})),X.setPartialOPDdrugList(be)}async function En(he){let se;he.target===void 0?se=he:se=he.target.value;const be=await pa.getOPDDrugs({name:encodeURIComponent(se),page:1,page_size:10});return be.map(We=>({label:We.name,value:We.name,other:We})),be}function Ba(he){const se=[];return ie.value.forEach(Ze=>{Ze.selected&&se.push(Ze.concept_id)}),On([he],se)==!0?(tt("Client is allergic to the selected medication",4e3),!0):!1}async function Vn(){return(await En(C.value)).length>0?C.value.length!=0:!1}function On(he,se){try{return he.some(Fe=>se.includes(Fe.concept_id))}catch(Fe){return!1}}function De(he){he&&(C.value=he.name,M.value=he.drug_id,H.value=he.units,Ee.value=he,Ba(he))}function me(he){const se=Q.value[he],Fe=_t();Fe.removeDrugById(se.drug_id),Fe.editingDrugItem=se,M.value="",C.value="",V.value="",pt.value=null,E.value="",U.value="",Tt.value=null,ht.value=null,M.value=se.drug_id,C.value=se.drugName,V.value=se.dose,pt.value={label:se.frequency,code:se.frequency_code},E.value=se.duration,U.value=se.prescription;const Ze=de.value.find(be=>be.name===se.drugName);Ze&&(Tt.value=Ze),ht.value={concept_id:se.route_concept_id,name:se.route_name},r.value=!1,l.value++}function je(){if(ot.value!==null){M.value="",C.value="",V.value="",pt.value=null,E.value="",U.value="",Tt.value=null,ht.value=null;const he=_t();he.setSelectedMedicalDrugsList([ot.value]),he.editingDrugItem=null}r.value=!0,l.value++}function st(he){Q.value.splice(he,1),l.value++,tt("you have removed a drug from list",6e3)}function lt(he){let se=he.target.value;mt(se)}function mt(he){_t().setNonPharmalogicalTherapyAndOtherNotes(he)}function xe(he){return/^[0-9]+$/.test(he)}function ft(he,se){const Fe=new Date(he);Fe.setDate(Fe.getDate()+se);const Ze=Fe.getFullYear(),be=String(Fe.getMonth()+1).padStart(2,"0"),We=String(Fe.getDate()).padStart(2,"0");return"".concat(Ze,"-").concat(be,"-").concat(We)}function Tn(){s.value=!1,o.value=!0,r.value=!0}function _o(he){gt.filter(Fe=>Fe!==he.detail.value);const se=he.detail.value;se!==void 0?se=="third"&&(oa.value="Show less notes",Xe.value=!ke.value):(oa.value="Show more notes",Xe.value=!ke.value)}function vo(he){gt.filter(Fe=>Fe!==he.detail.value);const se=he.detail.value;se!==void 0?se=="fith"&&(Pt.value="Show less allegies",Rt.value=!ke.value):(Pt.value="Show more allegies",Rt.value=!ke.value)}function _s(he){return he[1]}function go(he){(he.key==="Enter"||he.key==="ArrowDown")&&(he.preventDefault(),fa())}const Xt=Ue(()=>[{showAddItemButton:!0,addItemButton:!0,name:ot.value!==null?"Update":"ADD",btnFill:"clear",fn:fa},{showAddItemButton:!0,addItemButton:!0,name:"CANCEL",btnFill:"clear",fn:je}]);return(he,se)=>{const Fe=d("ion-chip"),Ze=d("ion-text");return p(),A(g(x),null,{default:i(()=>[_("div",vm,[n(g(J),{class:"section-title"},{default:i(()=>[n(g(rt),{icon:g(as),class:"alert-icon"},null,8,["icon"]),n(g(J),null,{default:i(()=>se[9]||(se[9]=[S("Allergies (Medication, Healthcare items, Environment and Food)")])),_:1,__:[9]})]),_:1}),_("div",gm,[ie.value.some(be=>be.selected)?(p(),v("div",ym,[(p(!0),v(te,null,pe(ie.value,(be,We)=>Ei((p(),v("div",{key:We,class:"allergy-item"},[n(Fe,{class:"allergy-chip",color:"danger"},{default:i(()=>[n(g(J),null,{default:i(()=>[S(k(be.name),1)]),_:2},1024),n(g(rt),{icon:g(Oo)},null,8,["icon"])]),_:2},1024)])),[[Vi,be.selected]])),128))])):(p(),v("div",bm,[n(Ze,{style:{"font-size":"16px","font-weight":"600",color:"#9c8011"}},{default:i(()=>se[10]||(se[10]=[S("No allergies recorded")])),_:1,__:[10]})])),n(g(Mt),{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(g(At),{value:"fourth","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(O),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"previousLabel"},{default:i(()=>se[11]||(se[11]=[S("Documented allergies timeline")])),_:1,__:[11]})]),_:1}),_("div",Dm,[(p(!0),v(te,null,pe(ye.value,(be,We)=>(p(),v("div",{class:"ionLbltp",key:We},[We==1?(p(),v("div",Sm,[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(be[0].date),1)]),_:2},1024)]),(p(!0),v(te,null,pe(be,(wt,la)=>(p(),v("div",{key:la},[_("div",Cm,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(wt.value),1)]),_:2},1024)]),_:2},1024)])]))),128))])):$("",!0)]))),128)),n(g(Mt),{onIonChange:vo},{default:i(()=>[n(g(At),{value:"fith","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(O),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"",color:"primary"},{default:i(()=>[S(k(Pt.value),1)]),_:1})]),_:1}),_("div",wm,[(p(!0),v(te,null,pe(we.value,(be,We)=>(p(),v("div",{class:"ionLbltp",key:We},[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(be[0]),1)]),_:2},1024)]),(p(!0),v(te,null,pe(_s(be),(wt,la)=>(p(),v("div",{key:la},[_("div",Im,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(wt.value),1)]),_:2},1024)]),_:2},1024)])]))),128))]))),128))])]),_:1})]),_:1})])]),_:1})]),_:1},512)])]),_("div",Pm,[n(g(O),{lines:"none",class:"section-header"},{default:i(()=>[n(g(rt),{icon:g(Oi),class:"section-icon"},null,8,["icon"]),n(g(J),{class:"section-title",style:{"margin-top":"12px"}},{default:i(()=>se[12]||(se[12]=[S("Medication")])),_:1,__:[12]})]),_:1}),_("div",Nm,[(p(),A(Oa,{_selectedMedicalDrugsList:Q.value,onEditItem:me,onRemoveItem:st,key:l.value,class:"medication-list"},null,8,["_selectedMedicalDrugsList"])),r.value?$("",!0):(p(),v("div",km,[_("div",Bm,[se[13]||(se[13]=_("label",{class:"input-label"},"Medication",-1)),n(g(ea),{modelValue:Tt.value,"onUpdate:modelValue":[se[0]||(se[0]=be=>Tt.value=be),se[1]||(se[1]=be=>De(be))],options:de.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select medication",label:"name","track-by":"drug_id",onSearchChange:se[2]||(se[2]=be=>Xa(be))},{option:i(be=>[_("div",$m,k(be.option.name),1)]),_:1},8,["modelValue","options"]),ka.value?(p(),v("div",Mm,k(Cn.value),1)):$("",!0)]),_("div",Am,[_("div",Em,[se[14]||(se[14]=_("label",{class:"input-label"},"Route",-1)),n(g(ea),{modelValue:ht.value,"onUpdate:modelValue":[se[3]||(se[3]=be=>ht.value=be),se[4]||(se[4]=be=>In(be))],options:wn.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select route",label:"name","track-by":"concept_id"},null,8,["modelValue","options"]),Pa.value?(p(),v("div",Vm,k(Dn.value),1)):$("",!0)]),_("div",Om,[se[15]||(se[15]=_("label",{class:"input-label"},"Frequency",-1)),n(g(ea),{modelValue:pt.value,"onUpdate:modelValue":[se[5]||(se[5]=be=>pt.value=be),se[6]||(se[6]=be=>An(be))],options:g(a),searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select frequency",label:"label","track-by":"code"},null,8,["modelValue","options"]),Na.value?(p(),v("div",Tm,k(Sn.value),1)):$("",!0)]),_("div",Fm,[se[16]||(se[16]=_("label",{class:"input-label"},"Duration (days)",-1)),n(g(ae),{modelValue:E.value,"onUpdate:modelValue":se[7]||(se[7]=be=>E.value=be),type:"number",inputmode:"numeric",pattern:"[0-9]*",fill:"outline",placeholder:"Enter duration",onKeydown:go},null,8,["modelValue"]),D.value?(p(),v("div",Hm,k(y.value),1)):$("",!0)])]),_("div",Rm,[Xt.value[0].addItemButton?(p(),A(Be,{key:0,name:Xt.value[0].name,fill:Xt.value[0].btnFill,icon:g(Ia),"onClicked:btn":Xt.value[0].fn,class:"save-button"},null,8,["name","fill","icon","onClicked:btn"])):$("",!0),Xt.value[1].addItemButton?(p(),A(Be,{key:1,name:Xt.value[1].name,fill:Xt.value[1].btnFill,icon:g(sa),"onClicked:btn":Xt.value[1].fn,class:"cancel-button"},null,8,["name","fill","icon","onClicked:btn"])):$("",!0)])])),r.value?(p(),A(Be,{key:1,name:L,fill:K,icon:g(ls),"onClicked:btn":$n,class:"add-new-button"},null,8,["icon"])):$("",!0)])]),_("div",Lm,[n(g(O),{lines:"none",class:"section-header"},{default:i(()=>[n(g(rt),{icon:g(Ai),class:"section-icon"},null,8,["icon"]),n(g(J),{class:"section-title"},{default:i(()=>se[17]||(se[17]=[S("Non-pharmacological therapy and other notes")])),_:1,__:[17]})]),_:1}),_("div",xm,[n(to,{class:"intervention-component"}),_("div",Um,[n(g(O),{class:"notes-input-item"},{default:i(()=>[n(g(rt),{slot:"start",icon:g(t).editPen,class:"edit-icon","aria-hidden":"true"},null,8,["icon"]),n(g(gn),{modelValue:Ae.value,"onUpdate:modelValue":se[8]||(se[8]=be=>Ae.value=be),onIonInput:lt,placeholder:"Enter notes here...","auto-grow":!0,class:"notes-textarea",fill:"outline",style:{"--padding-start":"16px"}},null,8,["modelValue"])]),_:1})]),n(g(Mt),{ref:"accordionGroup",class:"previous-notes"},{default:i(()=>[n(g(At),{value:"fourth","toggle-icon-slot":"start"},{default:i(()=>[n(g(O),{slot:"header",color:"light",class:"previous-notes-header"},{default:i(()=>[n(g(J),null,{default:i(()=>se[18]||(se[18]=[S("Previous visit notes")])),_:1,__:[18]})]),_:1}),_("div",zm,[_("div",qm,[he.index===1?(p(!0),v(te,{key:0},pe(Ce.value,(be,We)=>(p(),v("div",{key:We,class:"note-entry"},[(p(!0),v(te,null,pe(be,(wt,la)=>(p(),v("div",{key:la},[_("div",Wm,k(wt.date),1),_("div",Gm,k(wt.notes),1)]))),128))]))),128)):$("",!0),n(g(Mt),{onIonChange:_o},{default:i(()=>[n(g(At),{value:"third","toggle-icon-slot":"start"},{default:i(()=>[n(g(O),{slot:"header",color:"light",class:"show-more-header"},{default:i(()=>[n(g(J),{color:"primary"},{default:i(()=>[S(k(oa.value),1)]),_:1})]),_:1}),_("div",jm,[(p(!0),v(te,null,pe(Z.value,(be,We)=>(p(),v("div",{key:We,class:"note-entry"},[(p(!0),v(te,null,pe(_s(be),(wt,la)=>(p(),v("div",{key:la},[_("div",Ym,k(wt.date),1),_("div",Jm,k(wt.notes),1)]))),128))]))),128))])]),_:1})]),_:1})])])]),_:1})]),_:1},512)])])]),_:1})}}}),Xm=T(Qm,[["__scopeId","data-v-2a8c1a6c"]]),Zm=B({components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicInputField:ee,IonDatetime:ss},data(){return{iconsContent:P,calendarDate:"",date:new Date,bookedPatient:20,tomorrow:new Date().getDate()+1,appointment:"",drugRunoutDate:"",nextAppointmentDate:"",minDate:new Date}},computed:{...w(Lt,["nextAppointment"])},watch:{calendarDate:{handler(){this.updateNextAppointment()},deep:!0}},async mounted(){const e=Oe.getUserID(),t=new Me;this.appointment=new Ea(t.getID(),e),this.nextAppointmentDate=this.appointment.date},methods:{updateNextAppointment(){Lt().setNextAppointment(this.calendarDate)},handleDateUpdate(e){this.calendarDate=ne.toStandardHisDisplayFormat(e),this.saveData()},async saveData(){try{const t=await this.appointment.getNextAppointment();this.nextAppointmentDate=t.appointment_date,this.drugRunoutDate=t.drugs_run_out_date,console.log(t)}catch(t){}const e=[await this.appointment.buildValueDate("Appointment date","2024-03-28"),await this.appointment.buildValueDate("Estimated date",this.nextAppointmentDate)];console.log("ðŸš€ ~ mounted ~ ttt:",e)}}}),ef={class:"card_content"},tf={key:0},af={style:{color:"#999"}},nf={class:"dates_title"},sf={class:"sub_data"},of={class:"dates_title"},lf={class:"sub_data"},rf={class:"dates_title"},df={class:"sub_data"};function cf(e,t,a,s,o,r){const l=d("VueDatePicker"),c=d("ion-col"),h=d("ion-item"),m=d("ion-row");return p(),v("div",ef,[n(m,null,{default:i(()=>[n(c,{"size-sm":"12","size-md":"12","size-lg":"12","size-xl":"8"},{default:i(()=>[n(l,{class:"calender",onDateUpdate:e.handleDateUpdate,modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=f=>e.date=f),"min-date":e.minDate,inline:"","auto-apply":"","enable-time-picker":!1},{day:i(({day:f})=>[f===e.tomorrow?(p(),v("p",tf,[S(k(f),1),_("sup",af,k(e.bookedPatient),1)])):(p(),v(te,{key:1},[S(k(f),1)],64))]),_:1},8,["onDateUpdate","modelValue","min-date"])]),_:1}),n(c,null,{default:i(()=>[n(h,null,{default:i(()=>t[1]||(t[1]=[_("div",{class:"dates_title"},[_("div",null,"Next Vaccination date"),_("div",{class:"sub_data"},"20 June 2024 - 27 June 2024")],-1)])),_:1,__:[1]}),n(h,null,{default:i(()=>[_("div",nf,[t[2]||(t[2]=_("div",null,"User set appointment date",-1)),_("div",sf,k(e.calendarDate),1)])]),_:1}),n(h,null,{default:i(()=>[_("div",of,[t[3]||(t[3]=_("div",null,"Appointments",-1)),_("div",lf,k(e.bookedPatient),1)])]),_:1}),n(h,null,{default:i(()=>[_("div",rf,[t[4]||(t[4]=_("div",null,"Appointment limit (per/day)",-1)),_("div",df,k(e.bookedPatient)+"/120",1)])]),_:1})]),_:1})]),_:1})])}const uf=T(Zm,[["render",cf],["__scopeId","data-v-90d9f6bb"]]);function It(e,t,a){var r,l,c,h;const s={Gravida:()=>tn(t,a),lmnpEED:()=>F.required(a),Stillbirths:()=>tn(t,a),LiveBirths:()=>F.required(a),Parity:()=>F.required(a),"Abortions/Miscarriages":()=>tn(t,a),specify:()=>tn(t,a),TetanusDosesForImmunisation:()=>F.required(a),NumberOfUnderImmunisedDoses:()=>F.required(a),tt1Date:()=>F.required(a),tt2Date:()=>F.required(a),tt3Date:()=>F.required(a),tt4Date:()=>F.required(a),tt5Date:()=>F.required(a),tt6Date:()=>F.required(a),tt7Date:()=>F.required(a),tt8Date:()=>F.required(a),tt9Date:()=>F.required(a),tt10Date:()=>F.required(a),tt11Date:()=>F.required(a),tt12Date:()=>F.required(a),tt13Date:()=>F.required(a),tt14Date:()=>F.required(a),tt15Date:()=>F.required(a),ReasonTTVnotConducted:()=>F.required(a),ExistingChronicConditions:()=>F.required(a),Medications:()=>F.required(a),DailyCaffeineIntake:()=>F.required(a),CurrentMedications:()=>F.required(a),SubstanceAbuse:()=>F.required(a),SecondHandSmoke:()=>F.required(a),"Who does the client live with":()=>F.required(a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),R(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),R(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function tn(e,t){if(e==="Gravida"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,1,15);if(o!==null)return o}else if(e==="Abortions/Miscarriages"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="Stillbirths"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="lmnpDate"){const a=F.required(t);if(a!==null)return a;const s=F.isDate(t);if(s!==null)return s}else if(e==="UltrasoundDate"){const a=F.required(t);if(a!==null)return a;const s=F.isDate(t);if(s!==null)return s}else if(e==="specify"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,42);if(o!==null)return o}else if(e==="Gestation age by palpation"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,4,36);if(o!==null)return o}else return null;return null}const hf=B({name:"Menu",components:{IonLabel:J,IonTextarea:gn,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,initialData:[]}},mounted(){this.handleOther();const e=Kn();this.initialData=e.getInitial()},watch:{Medication:{handler(e){this.handleOther(),this.handleInputData(e)},deep:!0}},computed:{...w(Kn,["Medication"]),Medications(){return ce(this.Medication,"Which medications is the woman currently prescribed?")}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{navigationMenu(e){ze.close(),this.$router.push(e)},validationRules(e){return It(this.Medication,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)},handleOther(){var t;const e=["Oral PreP for HIV","Analgesic","Anti-consulsive","Anti-TB","Antihelmintic","Antimarials","Antitussive","Aspirin","Calcium","Doxylamine","Hematinic","Iron","Metoclopramide","Thyroid medication","Antiacids","Anti-psychotics","Anti-diabetic","Anti-hypertensive","ARVs","Antivirals","Asthamatic","Co-trimoxazole","Folic acid","Hemorrhoidal medication","Magnesium","Multivitamin","Vitamin A","Other"];(t=ce(this.Medication,"None"))!=null&&t.checked?e.forEach(a=>{R(this.Medication,a,"checked",!1),R(this.Medication,a,"disabled",!0)}):e.forEach(a=>{R(this.Medication,a,"disabled",!1)})}}}),pf={class:"container"};function mf(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",pf,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.Medication,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const ff=T(hf,[["render",mf],["__scopeId","data-v-fce72491"]]),_f=B({name:"Menu",components:{BasicForm:G,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee},data(){return{iconsContent:P,currentSection:0}},mounted(){Za(),Za(),this.handleNone()},watch:{dailyCaffeineIntake:{handler(e){this.handleNone(),this.handleInputData(e)},deep:!0}},computed:{...w(Za,["dailyCaffeineIntake"]),...w(Za,["Tobacco"]),DailyCaffeineIntake(){return ce(this.dailyCaffeineIntake,"Daily caffeine use")},SubstanceAbuse(){return N(this.Tobacco,"Recently quit tobacco products")},SecondHandSmoke(){return N(this.Tobacco,"Exposure to second hand smoke")}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{validationCaffeineRules(e){return It(this.dailyCaffeineIntake,e.name,this[e.name])},validationTobaccoRules(e){return It(this.dailyCaffeineIntake,e.name,this[e.name])},async handleInputData(e){this.validationCaffeineRules(e),this.validationTobaccoRules(e)},handleNone(){var t;const e=["More than 2 cups of coffee","More than 4 cups of tea","More than 12 bars of chocolate","More than one bottle of soda, energy, soft drink"];(t=ce(this.dailyCaffeineIntake,"None"))!=null&&t.checked?e.forEach(a=>{R(this.dailyCaffeineIntake,a,"checked",!1),R(this.dailyCaffeineIntake,a,"disabled",!0)}):e.forEach(a=>{R(this.dailyCaffeineIntake,a,"disabled",!1)})},navigationMenu(e){ze.close(),this.$router.push(e)}}}),vf={class:"container"};function gf(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",vf,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.dailyCaffeineIntake,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.Tobacco,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const yf=T(_f,[["render",gf],["__scopeId","data-v-fcd67f7f"]]),bf=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{initialData:[],iconsContent:P}},mounted(){const e=Ds();this.initialData=e.getInitial(),this.handleDangerSigns()},watch:{PreviousVisit:{handler(e){},deep:!0},DangerSigns:{handler(){this.handleDangerSigns()},deep:!0}},computed:{...w(Ds,["DangerSigns"])},setup(){return{checkmark:oe,pulseOutline:re}},methods:{navigationMenu(e){ze.close(),this.$router.push(e)},handleDangerSigns(){var t;const e=["Preterm labour","Central cyanosis","Unconscious","Fever","Imminent delivery","Severe headache","Severe vomiting","Severe abdominal pain","Draining liquor","Respiratory problems","Convulsion history","Vomiting","Oedema","Epigastric pain","Bleeding vaginally","Other"];(t=ce(this.DangerSigns,"None"))!=null&&t.checked?e.forEach(a=>{R(this.DangerSigns,a,"checked",!1),R(this.DangerSigns,a,"disabled",!0)}):e.forEach(a=>{R(this.DangerSigns,a,"disabled",!1)})}}}),Df={class:"container"};function Sf(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Df,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.DangerSigns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Cf=T(bf,[["render",Sf],["__scopeId","data-v-7b6416cc"]]),wf=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{initialData:[],iconsContent:P,confirmPregnancy:"",plannedPregnancy:""}},mounted(){const e=Ss();this.initialData=e.getInitial()},computed:{...w(Ss,["ConfirmPregnancy"])},setup(){return{checkmark:oe,pulseOutline:re}},methods:{navigationMenu(e){ze.close(),this.$router.push(e)}}}),If={class:"container"};function Pf(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",If,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ConfirmPregnancy,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Nf=T(wf,[["render",Pf],["__scopeId","data-v-a137d033"]]);function kf(e,t,a){var r,l,c,h;const s={reasonVisitFacility:()=>F.required(a),dangerSigns:()=>F.required(a),pregnancyConfirmed:()=>F.required(a),pregnancyPlanned:()=>F.required(a),referWoman:()=>F.required(a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),R(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),R(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}const Bf=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,initialData:[]}},computed:{...w(hn,["ReasonForVisit","ReasonForSubsequentVisit"]),reasonVisitFacility(){return N(this.ReasonForVisit,"Reason for visit")}},mounted(){const e=hn();this.initialData=e.getInitial(),this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit(),this.handleFacility(),this.handleReffer()},watch:{ReasonForVisit:{handler(){this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit(),this.handleFacility(),this.handleReffer()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleInputData(e){Qe(this.ReasonForVisit,hl,e.name,e.value)},validationRules(e){return kf(this.ReasonForVisit,e.name,this[e.name])},async handleInputDataa(e){this.validationRules(e)},navigationMenu(e){ze.close(),this.$router.push(e)},handleFacility(){N(this.ReasonForVisit,"Reason for visit")=="facility"?u(this.ReasonForVisit,"facility for art","displayNone",!1):u(this.ReasonForVisit,"facility for art","displayNone",!0)},handleReffer(){N(this.ReasonForVisit,"Action for danger signs")=="Yes"?u(this.ReasonForVisit,"facility","displayNone",!1):u(this.ReasonForVisit,"facility","displayNone",!0)},handleFirstAntenalVisit(){var t,a;((t=ce(this.ReasonForVisit,"Other danger signs"))==null?void 0:t.value)=="other danger signs"?u(this.ReasonForVisit,"Other notes","displayNone",!1):u(this.ReasonForVisit,"Other notes","displayNone",!0);const e=["Pre-term labour","Central cyanosis","Unconscious","Fever","Imminent delivery","Severe headache","Severe vomiting","Severe abdominal pain","Draining liquor","Respiratory problems","Convulsion history","Vomiting","Oedema","Epigastric pain","Bleeding vaginally","Other danger signs","Abnormal vaginal discharge","Change in blood pressure-up","Diarrhoea","Vomiting","Genital ulcers","Change in blood pressure-down","Constipation","Contractions","Vaginal bleeding","Intimate partner violence","Flu symptoms","Painful urination","Headache","Dyspepsia","Frequent urination/Polyuria","Injury","Jaundice","Mental health-Depression","Genital warts","Itchy vulva","Painful intercourse","No health concerns","Other"];if((a=ce(this.ReasonForVisit,"None"))!=null&&a.checked)e.forEach(s=>{R(this.ReasonForVisit,s,"checked",!1),R(this.ReasonForVisit,s,"disabled",!0)}),I(this.ReasonForVisit,"Action for danger signs","selectedValue",""),I(this.ReasonForVisit,"Action for danger signs","displayNone",!0),I(this.ReasonForVisit,"Previous visits","displayNone",!0),u(this.ReasonForVisit,"notes","displayNone",!0),u(this.ReasonForVisit,"Number of previous visits","displayNone",!0);else{let s=!1;e.forEach(o=>{var r;(r=ce(this.ReasonForVisit,o))!=null&&r.checked&&(s=!0),R(this.ReasonForVisit,o,"disabled",!1)}),I(this.ReasonForVisit,"Action for danger signs","displayNone",!s)}N(this.ReasonForVisit,"Action for danger signs")=="No"?(Le(this.ReasonForVisit,"Specific health concerns","displayNone",!1),I(this.ReasonForVisit,"Previous visits","displayNone",!1)):(["Abnormal vaginal discharge","Change in blood pressure-up","Diarrhoea","Vomiting","Genital ulcers","Change in blood pressure-down","Constipation","Contractions","Vaginal bleeding","Intimate partner violence","Flu symptoms","Painful urination","Headache","Dyspepsia","Frequent urination/Polyuria","Injury","Jaundice","Mental health-Depression","Genital warts","Itchy vulva","Painful intercourse","No health concerns","Other"].forEach(o=>{R(this.ReasonForVisit,o,"checked",!1)}),Le(this.ReasonForVisit,"Specific health concerns","displayNone",!0),I(this.ReasonForVisit,"Specific health concerns","displayNone",!0))},handleSpecificConcernsVisit(){}}}),$f={class:"container"};function Mf(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",$f,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ReasonForVisit,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Af=T(Bf,[["render",Mf],["__scopeId","data-v-9b877028"]]),Ef=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,healthConcern:"",initialData:[]}},watch:{HealthConcerns:{handler(){this.handleHealthconcerns()},deep:!0}},mounted(){const e=Cs();this.initialData=e.getInitial(),this.handleHealthconcerns()},computed:{...w(Cs,["HealthConcerns"])},setup(){return{checkmark:oe,pulseOutline:re}},methods:{navigationMenu(e){ze.close(),this.$router.push(e)},handleHealthconcerns(){var t,a;((t=ce(this.HealthConcerns,"Other"))==null?void 0:t.value)=="other"?u(this.HealthConcerns,"Other","displayNone",!1):u(this.HealthConcerns,"Other","displayNone",!0);const e=["Abnormal vaginal discharge","Change in blood pressure-up","Diarrhoea","Vomiting","Genital ulcers","Change in blood pressure-down","Constipation","Contractions","Vaginal bleeding","Intimate partner violence","Flu symptoms","Painful urination","Dyspepsia","Itchy vulva","Headache","Heartburn","Frequent urination/Polyuria","Injury","Jaundice","Mental health-Depression","Genital warts","Painful intercourse","Other"];(a=ce(this.HealthConcerns,"None"))!=null&&a.checked?e.forEach(s=>{R(this.HealthConcerns,s,"checked",!1),R(this.HealthConcerns,s,"disabled",!0)}):e.forEach(s=>{R(this.HealthConcerns,s,"disabled",!1)})}}}),Vf={class:"container"};function Of(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Vf,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.HealthConcerns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Tf=T(Ef,[["render",Of],["__scopeId","data-v-6c9c9696"]]),Ff=B({name:"BabyDetailsModal",components:{DynamicButton:Be,IonModal:ma,IonHeader:q,IonToolbar:W,IonTitle:j,IonButtons:Sa,IonButton:it,IonContent:z,IonIcon:rt,BasicForm:G},data(){return{initialData:[]}},props:{isOpen:{type:Boolean,required:!0,default:!1},closeModalFunc:{type:Function,required:!0},onYes:{type:Function,required:!0},onNo:{type:Function,required:!0},title:{type:String,required:!0}},computed:{...w(nt,["babyDetails"]),...w(nt,["secondStageDetails"])},watch:{secondStageDetails:{async handler(){this.handleChangeDisplay()},deep:!0},babyDetails:{handler(){this.handleChangeDisplay();const e=["Prematurity","Sepsis","Congenital abnormalities","Asphyxia","Other complications","Low birthweight","Nursery"],t=["Kangaroo mother care","Antibiotics","Other"];this.handleComplicationCheck(e),this.handleNone(e,"None"),this.handleNone(t,"Routine newborn care"),this.handleCongenitalCheck(),this.handleAsphyxiaCheck(),this.handleResuscitationChange()},deep:!0}},methods:{async handleInputData(e){Qe(this.babyDetails,Qn,e.name,e.value)},closeOutline(){return sa},closeModal(){this.closeModalFunc()},confirm(){this.onYes(),this.babyDetails=[],this.closeModal()},handleChangeDisplay(){const e=N(this.secondStageDetails,"Baby general condition at birth");this.babyDetailsDisplayNone(e=="Macerated stillbirth"||e=="Fresh stillbirth")},babyDetailsDisplayNone(e){u(this.babyDetails,"First name","displayNone",e),u(this.babyDetails,"Last name","displayNone",e),u(this.babyDetails,"Apgar score at 1 minute","displayNone",e),u(this.babyDetails,"Apgar score at 5 minute","displayNone",e),I(this.babyDetails,"Tetracycline eye ointment given","displayNone",e),I(this.babyDetails,"Chlorhexidine","displayNone",e),Le(this.babyDetails,"Newborn baby complications","displayNone",e),I(this.babyDetails,"Oxytocin 10 UI given","displayNone",e),I(this.babyDetails,"Vitamin K given","displayNone",e)},handleNone(e,t){var a;(a=ce(this.babyDetails,t))!=null&&a.checked?e.forEach(s=>{R(this.babyDetails,s,"checked",!1),R(this.babyDetails,s,"disabled",!0)}):e.forEach(s=>{R(this.babyDetails,s,"disabled",!1)})},handleComplicationCheck(e){let t=!1;e.forEach(a=>{var s;t=t||((s=ce(this.babyDetails,a))==null?void 0:s.checked)}),Le(this.babyDetails,"Management to newborn","displayNone",!t)},handleCongenitalCheck(){var t;const e=(t=ce(this.babyDetails,"Congenital abnormalities"))==null?void 0:t.checked;u(this.babyDetails,"Specify","displayNone",!e)},handleAsphyxiaCheck(){var t;const e=(t=ce(this.babyDetails,"Asphyxia"))==null?void 0:t.checked;I(this.babyDetails,"Resuscitation attempt","displayNone",!e)},handleResuscitationChange(){const e=N(this.babyDetails,"Resuscitation attempt")=="Yes";I(this.babyDetails,"Type of resuscitation","displayNone",!e)}}}),Hf={style:{display:"flex"}};function Rf(e,t,a,s,o,r){const l=d("ion-title"),c=d("basic-form"),h=d("DynamicButton"),m=d("ion-content"),f=d("ion-modal");return p(),A(f,{"is-open":e.isOpen,"show-backdrop":!0,onDidDismiss:e.closeModal},{default:i(()=>[n(m,null,{default:i(()=>[n(l,{style:{color:"black"}},{default:i(()=>[S(k(e.title),1)]),_:1}),n(c,{contentData:e.babyDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),_("div",Hf,[n(h,{expand:"block",onClick:t[0]||(t[0]=y=>e.confirm()),name:"Save",style:"flex:1"}),n(h,{expand:"block",onClick:t[1]||(t[1]=y=>e.onNo()),style:"flex:1",name:"Cancel",fill:"clear"})])]),_:1})]),_:1},8,["is-open","onDidDismiss"])}const ms=T(Ff,[["render",Rf],["__scopeId","data-v-b227def4"]]),Lf=B({components:{IonButton:it,BabyDetailsModal:ms,IonToggle:fe,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,FeatusModal:Wi},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],FeatusModalOpen:!1,arrayOfFeatus:[],selectedFeatus:0,fetalsDetails:[]}},computed:{...w($t,["fetalAssessment","fetalDetails"])},mounted(){this.handleFetalAssessment(),this.handleFetalRate()},watch:{fetalAssessment:{handler(){this.handleFetalAssessment(),this.handleFetalRate()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleInputData(e){Qe(this.fetalAssessment,Ri,e.name,e.value)},selectFeatus(e){this.selectedFeatus=e;const t=this.fetalsDetails.find(s=>s.featus==e);$t().setFetalDetails(t.details),this.toggleFetalModal()},handleNumberOfBabies(){const e=le(this.fetalAssessment,"Number of fetuses","value");this.arrayOfFeatus=[...Array(Number(e)).keys()]},handleAddFeatusDetails(e){$t().setFetalDetails(),this.selectedFeatus=e,this.toggleFetalModal()},closeFetalModal(){},handleFeatusYes(){this.toggleFetalModal();const e=$t(),t=this.fetalsDetails.findIndex(a=>a.featus==this.selectedFeatus);t<0?this.fetalsDetails.push({featus:this.selectedFeatus,details:[...$e.cloneDeep(e.fetalDetails)]}):this.fetalsDetails[t].details=[...$e.cloneDeep(e.fetalDetails)],e.setFetalDetails()},handleFeatusNo(){this.toggleFetalModal(),$t().fetalAssessment.setFetalDetals()},toggleFetalModal(){this.FeatusModalOpen=!this.FeatusModalOpen},navigationMenu(e){ze.close(),this.$router.push(e)},checkIfSubmitted(e){return this.fetalsDetails.find(t=>t.featus==e)},handleFetalAssessment(){N(this.fetalAssessment,"Number of fetuses known")=="yes"?u(this.fetalAssessment,"Number of fetuses","displayNone",!1):u(this.fetalAssessment,"Number of fetuses","displayNone",!0)},handleFetalRate(){N(this.fetalAssessment,"Fetal heartbeat")=="yes"?(u(this.fetalAssessment,"Fetal heart rate","displayNone",!1),u(this.fetalAssessment,"Repeated fetal rate","displayNone",!1)):(u(this.fetalAssessment,"Fetal heart rate","displayNone",!1),u(this.fetalAssessment,"Repeated fetal rate","displayNone",!1))}}}),xf={class:"container"},Uf={key:0};function zf(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("FeatusModal"),f=d("ion-button"),y=d("ion-card-content"),D=d("ion-card");return p(),v("div",xf,[n(D,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Fetal assessment results")])),_:1,__:[0]})]),_:1}),n(y,null,{default:i(()=>[n(h,{contentData:e.fetalAssessment,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),n(m,{closeModalFunc:e.closeFetalModal,onYes:e.handleFeatusYes,onNo:e.handleFeatusNo,isOpen:e.FeatusModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfFeatus.length>0?(p(),v("div",Uf,[(p(!0),v(te,null,pe(e.arrayOfFeatus,C=>(p(),v("div",{key:C},[e.checkIfSubmitted(C)?$("",!0):(p(),A(f,{key:0,onClick:V=>e.handleAddFeatusDetails(C)},{default:i(()=>[S("Add Featus "+k(C+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(C)?(p(),A(f,{key:1,onClick:V=>e.selectFeatus(C)},{default:i(()=>[S("View Featus "+k(C+1),1)]),_:2},1032,["onClick"])):$("",!0)]))),128))])):$("",!0)]),_:1})]),_:1})])}const qf=T(Lf,[["render",zf],["__scopeId","data-v-27efabcc"]]),Wf=B({components:{IonToggle:fe,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[]}},computed:{...w(Xn,["fetalPresentation"])},mounted(){Oe.getUserID(),Xn(),this.handleFetalPresentation()},watch:{fetalPresentation:{handler(){this.handleFetalPresentation()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{navigationMenu(e){ze.close(),this.$router.push(e)},handleFetalPresentation(){N(this.fetalPresentation,"Fetal presentation")=="other"?u(this.fetalPresentation,"Other (specify)","displayNone",!1):u(this.fetalPresentation,"Other (specify)","displayNone",!0)}}}),Gf={class:"container"};function jf(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Gf,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Fetal presentation result")])),_:1,__:[0]})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.fetalPresentation},null,8,["contentData"])]),_:1})]),_:1})])}const Yf=T(Wf,[["render",jf],["__scopeId","data-v-39aabab1"]]),Jf=B({components:{IonToggle:fe,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],initialRespiratory:[],initialBreastExam:[],initialPallor:[],initialOedema:[],initialCervicalExam:[],initialVaginalExam:[]}},computed:{...w(Nt,["respiratory"]),...w(Nt,["pallor"]),...w(Nt,["breastExam"]),...w(Nt,["vaginalInspection"]),...w(Nt,["cervicalExam"]),...w(Nt,["oedemaPresence"])},mounted(){Oe.getUserID();const e=Nt();this.initialBreastExam=e.getInitialBreastExam();const t=Nt();this.initialOedema=t.getInitialOedema();const a=Nt();this.initialVaginalExam=a.getInitialVaginalInspection();const s=Nt();this.initialCervicalExam=s.getInitialCervicalExam();const o=Nt();this.initialPallor=o.getInitialPallor();const r=Nt();this.initialRespiratory=r.getInitialRespiratoryExam(),this.handleBreastExams(),this.handleVaginalInspection()},watch:{breastExam:{handler(){this.handleBreastExams()},deep:!0},vaginalInspection:{handler(){this.handleVaginalInspection()},deep:!0},cervicalExam:{handler(){},deep:!0},oedemaPresence:{handler(){},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleInputData(e){Qe(this.vaginalInspection,pl,e.name,e.value)},navigationMenu(e){ze.close(),this.$router.push(e)},handleBreastExams(){var t;const e=["Normal breast exam result","Bleeding","Tenderness","Other","Breast","Nodule","Discharge","Flushing","Local pain","Increased temperature","Epigastric pain","Other breast exams"];(t=ce(this.breastExam,"No breast exam conducted"))!=null&&t.checked?e.forEach(a=>{R(this.breastExam,a,"checked",!1),R(this.breastExam,a,"disabled",!0)}):e.forEach(a=>{R(this.breastExam,a,"disabled",!1)})},handleVaginalInspection(){var t;const e=["Normal vaginal exam result","Nothing abnormal observed","Other","Evidence of amniotic fluid","Genital pain","Abnormal discharge","Papules","Ulcers","Ulcers","Warts","Vesicles","Bleeding","Other"];(t=ce(this.vaginalInspection,"No vaginal inspection done"))!=null&&t.checked?e.forEach(a=>{R(this.vaginalInspection,a,"checked",!1),R(this.vaginalInspection,a,"disabled",!0)}):e.forEach(a=>{R(this.vaginalInspection,a,"disabled",!1)})}}}),Kf={class:"container"};function Qf(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Kf,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.respiratory,initialData:e.initialRespiratory,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.breastExam,initialData:e.initialBreastExam,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.vaginalInspection,initialData:e.initialVaginalExam,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.pallor,initialData:e.initialPallor,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.cervicalExam,initialData:e.initialCervicalExam,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.oedemaPresence,initialData:e.initialOedema,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Xf=T(Jf,[["render",Qf],["__scopeId","data-v-4990371e"]]),Zf=B({components:{IonToggle:fe,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,currentSection:0,vValidations:"",hasValidationErrors:[],initialData:[]}},computed:{...w(ws,["presentingSigns"])},mounted(){const e=ws();this.initialData=e.getInitialPresentingSigns()},watch:{},setup(){return{checkmark:oe,pulseOutline:re}},methods:{navigationMenu(e){ze.close(),this.$router.push(e)}}}),e_={class:"container"};function t_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",e_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.presentingSigns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const a_=T(Zf,[["render",t_],["__scopeId","data-v-36e0ccf2"]]),n_=B({name:"Current",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,currentPregnanciesInstance:{},inputField:"",setName:"",initialData:[],initialData1:[],initialData2:[]}},computed:{...w(Bt,["palpation"]),...w(Bt,["lmnp"]),...w(Bt,["tetanus"]),...w(Bt,["tetanus"]),...w(Bt,["ultrasound"]),lmnpGestationAge(){return le(this.lmnp,"lmnpGestationAge","value")},lmnpDate(){return le(this.lmnp,"lmnpDate","value")},UltrasoundDate(){return le(this.lmnp,"Ultrasound","value")},specify(){return le(this.lmnp,"specify","value")},"Gestation age by palpation"(){return le(this.lmnp,"Gestation age by palpation","value")},tt1Date(){return le(this.lmnp,"tt1Date","value")},tt2Date(){return le(this.lmnp,"tt1Date","value")},tt3Date(){return le(this.lmnp,"tt1Date","value")},tt4Date(){return le(this.lmnp,"tt1Date","value")},tt5Date(){return le(this.lmnp,"tt1Date","value")},tt6Date(){return le(this.lmnp,"tt1Date","value")},tt7Date(){return le(this.lmnp,"tt1Date","value")},tt8Date(){return le(this.lmnp,"tt1Date","value")},tt9Date(){return le(this.lmnp,"tt1Date","value")},tt10Date(){return le(this.lmnp,"tt1Date","value")},tt11Date(){return le(this.lmnp,"tt1Date","value")},tt12Date(){return le(this.lmnp,"12","value")},tt13Date(){return le(this.lmnp,"13","value")},tt14Date(){return le(this.lmnp,"14","value")},tt15Date(){return le(this.lmnp,"15","value")}},mounted(){Bt();const e=Bt(),t=Bt(),a=Bt();this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleTetanus(),this.calculateEDD,this.validaterowData({}),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},setup(){return{checkmark:oe,pulseOutline:re}},watch:{lmnp:{handler(e){this.handleInputData(e),this.calculateEDD(e),this.lmnp,this.handleTetanus(),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},deep:!0}},methods:{async handleImmunValidation(e){Qe(this.lmnp,Li,e.name,e.value)},validationRules(e){return It(this.lmnp,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},async handleInputData(e){this.handleImmunValidation(e),this.validaterowData(e),this.calculateGestationAgefromLNMP(e),this.calculateEDD(e),this.calculateEDDFromGestationAge(e),this.calculateLNMPdatefromAge(e),this.calculateEDDFromPalpation(e),this.handleLMNPDateRange(e),this.handleUltraSoundDateRange(e)},handleLMNPDateRange(e){const t=new Date,a=new Date(t);a.setDate(t.getDate()-36*7);const s=a.toISOString().split("T")[0],o=t.toISOString().split("T")[0];u(this.lmnp,"lmnpDate","minDate",s),u(this.lmnp,"lmnpDate","maxDate",o)},handleUltraSoundDateRange(e){const t=new Date,a=new Date(t);a.setDate(t.getDate()-36*7);const s=a.toISOString().split("T")[0],o=t.toISOString().split("T")[0];u(this.lmnp,"Ultrasound","minDate",s),u(this.lmnp,"Ultrasound","maxDate",o)},calculateGestationAgefromLNMP(e){if(e.name=="lmnpDate"){const t=Date.parse(le(this.lmnp,"lmnpDate","value"));if(isNaN(t))u(this.lmnp,"lmnpGestationAge","value",null);else{const s=(new Date().getTime()-t)/(1e3*60*60*24),o=Math.floor(s/7);u(this.lmnp,"lmnpGestationAge","value",o)}}},calculateEDD(e){if(e.name==="lmnpDate"){const t=Date.parse(le(this.lmnp,"lmnpDate","value"));if(isNaN(t))u(this.lmnp,"Estimated date of delivery","value",null);else{const a=new Date(t+24192e6);u(this.lmnp,"Estimated date of delivery","value",a)}}},calculateEDDFromGestationAge(e){if(e.name==="specify"){const t=parseInt(le(this.lmnp,"specify","value"));if(isNaN(t))u(this.lmnp,"Estimated date of delivery from ultrasound","value",null);else{const a=new Date,s=new Date(a.getTime()-t*7*24*60*60*1e3),o=new Date(s.getTime()+280*24*60*60*1e3);u(this.lmnp,"Estimated date of delivery from ultrasound","value",o)}}},calculateLNMPdatefromAge(e){if(e.name==="specify"){const t=parseInt(le(this.lmnp,"specify","value"));if(isNaN(t))u(this.lmnp,"ultrasound lmnp date","value",null);else{const a=new Date,s=new Date(a.getTime()-t*7*24*60*60*1e3);u(this.lmnp,"ultrasound lmnp date","value",s)}}},calculateEDDFromPalpation(e){if(e.name==="Gestation age by palpation"){const t=parseInt(le(this.lmnp,"Gestation age by palpation","value"));if(isNaN(t))u(this.lmnp,"date of delivery","value",null);else{const a=new Date,s=new Date(a.getTime()-t*7*24*60*60*1e3),o=new Date(s.getTime()+280*24*60*60*1e3);u(this.lmnp,"date of delivery","value",o)}}},handleTetanus(){N(this.lmnp,"The woman received tetanus doses for immunization?")=="fully immunised"?(u(this.lmnp,"tt1Date","displayNone",!1),u(this.lmnp,"tt2Date","displayNone",!1),u(this.lmnp,"tt3Date","displayNone",!1),u(this.lmnp,"tt4Date","displayNone",!1),u(this.lmnp,"tt5Date","displayNone",!1)):(u(this.lmnp,"tt1Date","displayNone",!0),u(this.lmnp,"tt2Date","displayNone",!0),u(this.lmnp,"tt3Date","displayNone",!0),u(this.lmnp,"tt4Date","displayNone",!0),u(this.lmnp,"tt5Date","displayNone",!0))},handleUnderImmunised(){N(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?I(this.lmnp,"Number of tetanus doses","displayNone",!1):I(this.lmnp,"Number of tetanus doses","displayNone",!0)},handleOneDose(){N(this.lmnp,"Number of tetanus doses")=="one dose"&&N(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?u(this.lmnp,"tt6Date","displayNone",!1):u(this.lmnp,"tt6Date","displayNone",!0)},handleTwoDose(){N(this.lmnp,"Number of tetanus doses")=="two doses"&&N(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.lmnp,"tt7Date","displayNone",!1),u(this.lmnp,"tt8Date","displayNone",!1)):(u(this.lmnp,"tt7Date","displayNone",!0),u(this.lmnp,"tt8Date","displayNone",!0))},handleThreeDose(){N(this.lmnp,"Number of tetanus doses")=="three doses"&&N(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.lmnp,"tt9Date","displayNone",!1),u(this.lmnp,"tt10Date","displayNone",!1),u(this.lmnp,"tt11Date","displayNone",!1)):(u(this.lmnp,"tt9Date","displayNone",!0),u(this.lmnp,"tt10Date","displayNone",!0),u(this.lmnp,"tt11Date","displayNone",!0))},handleFourDose(){N(this.lmnp,"Number of tetanus doses")=="four doses"&&N(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.lmnp,"12","displayNone",!1),u(this.lmnp,"13","displayNone",!1),u(this.lmnp,"14","displayNone",!1),u(this.lmnp,"15","displayNone",!1)):(u(this.lmnp,"12","displayNone",!0),u(this.lmnp,"13","displayNone",!0),u(this.lmnp,"14","displayNone",!0),u(this.lmnp,"15","displayNone",!0))},handleNodoses(){N(this.lmnp,"The woman received tetanus doses for immunization?")=="no doses"?I(this.lmnp,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!1):I(this.lmnp,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!0)},handleOtherDoses(){N(this.lmnp,"Reason Tetanus toxoid (TT) was not conducted")=="other"&&N(this.lmnp,"The woman received tetanus doses for immunization?")=="no doses"?u(this.lmnp,"Other","displayNone",!1):u(this.lmnp,"Other","displayNone",!0)}}}),s_={class:"container"};function i_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",s_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.lmnp,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,initialData:e.initialData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","initialData"])]),_:1})]),_:1})])}const o_=T(n_,[["render",i_],["__scopeId","data-v-935ab386"]]),l_=B({name:"History",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{modeOfDelieveryRef:{},iconsContent:P,vValidations:"",hasValidationErrors:[],prevPregnanciesInstance:{},modeOfDeliveryInstance:{},currentSection:0,inputField:"",alertMessage:""}},computed:{...w(Zt,["prevPregnancies"]),...w(Zt,["preterm"]),...w(Zt,["abnormalities"]),...w(Zt,["modeOfDelivery"]),...w(Zt,["Complications"]),Stillbirths(){return le(this.prevPregnancies,"Stillbirths","value")},Gravida(){return le(this.prevPregnancies,"Gravida","value")},LiveBirths(){return le(this.prevPregnancies,"LiveBirths","value")},Parity(){return le(this.prevPregnancies,"Parity","value")},"Abortions/Miscarriages"(){return le(this.prevPregnancies,"Abortions/Miscarriages","value")}},created(){this.modeOfDelieveryRef={...this.modeOfDelivery[0],...this.modeOfDelivery[1]}},mounted(){this.prevPregnanciesInstance=Zt(),this.handleOther(),this.handleDynamic(),this.handleGravida(event),this.validaterowData({})},watch:{LiveBirths:{handler(e){(e==0||!e)&&this.prevPregnanciesInstance.setModeOfDelivery(0)}},prevPregnancies:{handler(e){if(e&&e[2].data.rowData[0].colData[0].value){const t=parseInt(e[2].data.rowData[0].colData[0].value);this.prevPregnanciesInstance.setModeOfDelivery(t)}this.handleGravida(e),this.handleOther()},deep:!0},modeOfDelivery:{handler(){this.handleDynamic(),this.prevPregnanciesInstance.checkChanges()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleObstreticValidation(e){Qe(this.prevPregnancies,cs,e.name,e.value)},handleOther(){var t,a;((t=ce(this.prevPregnancies,"Other"))==null?void 0:t.value)=="other"?u(this.prevPregnancies,"Other notes","displayNone",!1):u(this.prevPregnancies,"Other notes","displayNone",!0);const e=["Asphyxia","Does not know","Pre-eclampsia","Eclampsia","Puerperal Sepsis","Baby died within 24hrs of birth","Convulsions","Forceps","Gestational diabetes mellitus","Heavy bleeding","Macrosomia","Perineal tear (3rd or 4th degree)","Other"];(a=ce(this.prevPregnancies,"None"))!=null&&a.checked?e.forEach(s=>{R(this.prevPregnancies,s,"checked",!1),R(this.prevPregnancies,s,"disabled",!0)}):e.forEach(s=>{R(this.prevPregnancies,s,"disabled",!1)})},handleDynamic(){N(this.modeOfDelivery,"Mode of delivery")=="caesarean section"?u(this.modeOfDelivery,"Specify","displayNone",!1):u(this.modeOfDelivery,"Specify","displayNone",!0)},handleAlert(e){xi(this.modeOfDelivery,"Mode of delivery",e.id)=="caesarean section"?pn(e.id,this.modeOfDelivery,"Specify","displayNone",!1):pn(e.id,this.modeOfDelivery,"Specify","displayNone",!0)},validationRules(e){return It(this.prevPregnancies,e.name,this[e.name])},async handleInputData(e){this.validaterowData(e),this.handleObstreticValidation(e),this.calculateParity(e),this.calculateLiveBirths(e)},validaterowData(e){},calculateLiveBirths(e){if(e.name==="Parity"||e.name==="Stillbirths"){const t=parseInt(le(this.prevPregnancies,"Stillbirths","value")),a=parseInt(le(this.prevPregnancies,"Parity","value"));if(!isNaN(t)&&!isNaN(a)){const s=a-t;u(this.prevPregnancies,"LiveBirths","value",s)}else u(this.prevPregnancies,"LiveBirths","value",null)}},calculateParity(e){if(e.name==="Gravida"||e.name==="Abortions/Miscarriages"){const t=parseInt(le(this.prevPregnancies,"Gravida","value")),a=parseInt(le(this.prevPregnancies,"Abortions/Miscarriages","value"));if(!isNaN(t)&&!isNaN(a)){const s=t-a-1;u(this.prevPregnancies,"Parity","value",s)}else u(this.prevPregnancies,"Parity","value",null)}},handleGravida(e){const t=le(this.prevPregnancies,"Gravida","value"),a="First pregnancy, take note",s=this.prevPregnancies[0].alerts.findIndex(o=>o.value===a);t===null||t===""?(u(this.prevPregnancies,"Abortions/Miscarriages","value",""),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),u(this.prevPregnancies,"Stillbirths","value",""),u(this.prevPregnancies,"Stillbirths","disabled",!1),u(this.prevPregnancies,"LiveBirths","value",""),u(this.prevPregnancies,"LiveBirths","disabled",!1),u(this.prevPregnancies,"Parity","value",""),u(this.prevPregnancies,"Parity","disabled",!1),s!==-1&&this.prevPregnancies[0].alerts.splice(s,1)):t==1?(I(this.prevPregnancies,"Was last live birth preterm?","displayNone",!0),I(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!0),I(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!0),Le(this.prevPregnancies,"past pregnancies complications","displayNone",!0),u(this.prevPregnancies,"Abortions/Miscarriages","value",""),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!0),u(this.prevPregnancies,"Stillbirths","value",""),u(this.prevPregnancies,"Stillbirths","disabled",!0),u(this.prevPregnancies,"LiveBirths","value",""),u(this.prevPregnancies,"LiveBirths","disabled",!0),u(this.prevPregnancies,"Parity","value",""),u(this.prevPregnancies,"Parity","disabled",!0),s===-1&&this.prevPregnancies[0].alerts.push({backgroundColor:"#FFD700",status:"info",icon:"info-circle",textColor:"#000000",value:a,name:"LiveBirths"})):(I(this.prevPregnancies,"Was last live birth preterm?","displayNone",!1),I(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!1),I(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!1),Le(this.prevPregnancies,"past pregnancies complications","displayNone",!1),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),u(this.prevPregnancies,"Stillbirths","disabled",!1),u(this.prevPregnancies,"LiveBirths","disabled",!1),u(this.prevPregnancies,"Parity","disabled",!1),s!==-1&&this.prevPregnancies[0].alerts.splice(s,1))}}}),r_={class:"container"};function d_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",r_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.prevPregnancies,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),n(l,{contentData:e.modeOfDelivery,"onUpdate:inputValue":e.handleAlert},null,8,["contentData","onUpdate:inputValue"]),n(l,{contentData:e.preterm},null,8,["contentData"])]),_:1})]),_:1})])}const c_=T(l_,[["render",d_],["__scopeId","data-v-9840a2eb"]]),u_=B({name:"Ultrasound",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:ze,IonToggle:fe,IonSelectOption:_e,IonInput:ae,IonSelect:ve,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,labTestsInstance:{},currentSection:0}},mounted(){this.handleUltraDate(),this.handleReason(),this.handleUltraNotDone()},watch:{ultrasound:{handler(){this.handleUltraDate(),this.handleReason()},deep:!0},reason:{handler(){this.handleUltraNotDone()},deep:!0}},computed:{...w(Is,["reason"]),...w(Is,["ultrasound"])},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleUltraDate(){const e=N(this.ultrasound,"Ultrasound scan status")=="Scan required",t=N(this.ultrasound,"Ultrasound scan status")=="Scan ordered",a=N(this.ultrasound,"Ultrasound scan status")=="Scan conducted";e||t||a?(u(this.ultrasound,"Scan date","displayNone",!1),I(this.reason,"Amniotic fluid level","displayNone",!1),u(this.reason,"Amniotic fluid level result","displayNone",!1),I(this.reason,"Placenta location","displayNone",!1)):(u(this.ultrasound,"Scan date","displayNone",!0),I(this.reason,"Amniotic fluid level","displayNone",!0),I(this.reason,"Placenta location","displayNone",!0),u(this.reason,"Amniotic fluid level result","displayNone",!0))},handleReason(){N(this.ultrasound,"Ultrasound scan status")=="NOT done"?I(this.reason,"Reason not done","displayNone",!1):I(this.reason,"Reason not done","displayNone",!0)},handleUltraNotDone(){N(this.reason,"Reason not done")=="Other reason"?u(this.reason,"specify","displayNone",!1):u(this.reason,"specify","displayNone",!0)}}}),h_={class:"container"};function p_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",h_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ultrasound},null,8,["contentData"]),n(l,{contentData:e.reason},null,8,["contentData"])]),_:1})]),_:1})])}const m_=T(u_,[["render",p_],["__scopeId","data-v-cc319db3"]]),f_=B({name:"UrineTest",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonTitle:j,IonToolbar:W,IonRow:Re,IonMenu:Y,menuController:ze,IonToggle:fe,IonSelectOption:_e,IonInput:ae,IonSelect:ve,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,urineTestInstance:{},currentSection:0}},computed:{...w(ra,["urineTest"]),...w(ra,["protein"]),...w(ra,["nitrites"]),...w(ra,["culture"]),...w(ra,["gram"]),...w(ra,["leukocytes"]),...w(ra,["glucose"])},mounted(){this.handleTestNotDone(),this.handleOtherNotDone(),this.handleTypeofTest(),this.handleFirstTest(),this.handleThirdTest()},watch:{urineTest:{handler(){this.handleTestNotDone(),this.handleOtherNotDone(),this.handleTypeofTest(),this.handleFirstTest(),this.handleThirdTest()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleTestNotDone(){N(this.urineTest,"Urine test status")=="Test not done"?Le(this.urineTest,"Reason not done","displayNone",!1):Le(this.urineTest,"Reason not done","displayNone",!0)},handleOtherNotDone(){var e;((e=ce(this.urineTest,"Other"))==null?void 0:e.value)=="Other"?u(this.urineTest,"Other (specify)","displayNone",!1):u(this.urineTest,"Other (specify)","displayNone",!0)},handleTypeofTest(){N(this.urineTest,"Urine test status")=="Test conducted"?I(this.urineTest,"Urine test","displayNone",!1):I(this.urineTest,"Urine test","displayNone",!0)},handleFirstTest(){N(this.urineTest,"Urine test")=="Midstream urine culture"?I(this.culture,"Midstream urine culture result","displayNone",!1):I(this.culture,"Midstream urine culture result","displayNone",!0)},handleSecondTest(){N(this.urineTest,"Urine test")=="Midstream urine gram-staining"?I(this.gram,"Midstream urine gram-staining result","displayNone",!1):I(this.gram,"Midstream urine gram-staining result","displayNone",!0)},handleThirdTest(){N(this.urineTest,"Urine test")=="Urine dipstick"?(I(this.nitrites,"Nitrites dipstick test result","displayNone",!1),I(this.protein,"Protein dipstick test result","displayNone",!1),I(this.leukocytes,"Leukocytes dipstick test result","displayNone",!1),I(this.glucose,"Glucose dipstick test result","displayNone",!1)):(I(this.nitrites,"Nitrites dipstick test result","displayNone",!0),I(this.protein,"Protein dipstick test result","displayNone",!0),I(this.leukocytes,"Leukocytes dipstick test result","displayNone",!0),I(this.glucose,"Glucose dipstick test result","displayNone",!0))}}}),__={class:"container"};function v_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",__,[e.currentSection===0?(p(),A(f,{key:0,class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.urineTest},null,8,["contentData"]),n(h,{contentData:e.culture},null,8,["contentData"]),n(h,{contentData:e.gram},null,8,["contentData"]),n(h,{contentData:e.nitrites},null,8,["contentData"]),n(h,{contentData:e.leukocytes},null,8,["contentData"]),n(h,{contentData:e.protein},null,8,["contentData"]),n(h,{contentData:e.glucose},null,8,["contentData"])]),_:1})]),_:1})):$("",!0)])}const g_=T(f_,[["render",v_],["__scopeId","data-v-97bdbffa"]]),y_=B({name:"TB screening",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:ze,IonToggle:fe,IonSelectOption:_e,IonInput:ae,IonSelect:ve,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,labTestsInstance:{},currentSection:0}},computed:{...w(Ps,["reasons"]),...w(Ps,["tbTest"])},mounted(){this.handleResults(),this.handleDate(),this.handleNotDone(),this.handleOther()},watch:{tbTest:{handler(){this.handleResults(),this.handleDate(),this.handleNotDone()},deep:!0},reasons:{handler(){this.handleOther()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{goToNextSection(){this.currentSection<1&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--},handleResults(){N(this.tbTest,"TB screening status")=="Screening conducted"?I(this.tbTest,"TB screening results","displayNone",!1):I(this.tbTest,"TB screening results","displayNone",!0)},handleDate(){N(this.tbTest,"TB screening status")=="Screening conducted"?u(this.tbTest,"Screening date","displayNone",!1):u(this.tbTest,"Screening date","displayNone",!0)},handleNotDone(){N(this.tbTest,"TB screening status")=="Screening not done"?Le(this.reasons,"Reason not done","displayNone",!1):Le(this.reasons,"Reason not done","displayNone",!0)},handleOther(){var e;((e=ce(this.reasons,"Other"))==null?void 0:e.value)=="Other"?u(this.reasons,"Other (specify)","displayNone",!1):u(this.reasons,"Other (specify)","displayNone",!0)}}}),b_={class:"container"};function D_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",b_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.tbTest},null,8,["contentData"]),n(h,{contentData:e.reasons},null,8,["contentData"])]),_:1})]),_:1})])}const S_=T(y_,[["render",D_],["__scopeId","data-v-289c777f"]]),po=qe("diagnosisStore",{state:()=>({diagnoses:[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Patient diagnosis",selectedValue:"",class:"bold",name:"Diagnosis"},data:[{name:"Hypertension",value:"Hypertension",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Pre-eclampsia",value:"Pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Diagnosis"},data:[{name:"HIV",value:"HIV",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Hepatitis B",value:"Hepatitis B",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Diagnosis"},data:[{name:"Hepatitis C",value:"Hepatitis C",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Syphilis",value:"Syphilis",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Diagnosis"},data:[{name:"Pre-eclampsia with Severe Features",value:"Pre-eclampsia with Severe Features",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}}]}),actions:{setDiagnoses(e){this.diagnoses=e}},persist:!0}),C_=B({name:"diagnosisTreatment",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:ze,IonToggle:fe,IonSelectOption:_e,IonInput:ae,IonSelect:ve,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(po,["diagnoses"])},mounted(){this.handleNone()},watch:{diagnoses:{handler(){this.handleNone()},deep:!0},hypertensionReason:{handler(){},deep:!0}},methods:{goToNextSection(){this.currentSection<4&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--},handleNone(){var t;const e=["Hypertension","Pre-eclampsia","HIV","Hepatitis B","Hepatitis C","Syphilis","Pre-eclampsia with Severe Features"];(t=ce(this.diagnoses,"None"))!=null&&t.checked?e.forEach(a=>{R(this.diagnoses,a,"checked",!1),R(this.diagnoses,a,"disabled",!0)}):e.forEach(a=>{R(this.diagnoses,a,"disabled",!1)})}}}),w_={class:"container"};function I_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",w_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.diagnoses},null,8,["contentData"])]),_:1})]),_:1})])}const P_=T(C_,[["render",I_],["__scopeId","data-v-205b8a5f"]]);function si(e,t,a){var r,l,c,h;const s={"iron Amount":()=>ii(t,a),"Amount of Folic acid":()=>ii(t,a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),R(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),R(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function ii(e,t){if(e==="iron Amount"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,1,1e3);if(o!==null)return o}else if(e==="Amount of Folic acid"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,1,1e3);if(o!==null)return o}else return null;return null}const N_=B({name:"medicationDispensed",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:ze,IonToggle:fe,IonSelectOption:_e,IonInput:ae,IonSelect:ve,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(Rn,["iron"]),...w(Rn,["folicAcid"]),...w(Rn,["vitaminA"]),"iron Amount"(){return le(this.iron,"iron Amount","value")},"Amount of Folic acid"(){return le(this.folicAcid,"Amount of Folic acid","value")}},mounted(){this.handleTypeIron(),this.handleAcid(),this.handleFolicIron(),this.handleVitaminA(),this.handleVitaminNo(),this.handleVitaminOther(),this.handleNoFolic(),this.handleNoIron(),this.handleNoIronOther(),this.handleIronDailyWeekly(),this.handleVitaminDailyWeekly(),this.validaterowData({})},watch:{iron:{handler(){this.handleTypeIron(),this.handleNoIron(),this.handleNoIronOther(),this.handleIronDailyWeekly()},deep:!0},folicAcid:{handler(){this.handleAcid(),this.handleNoFolic(),this.handleFolicIron()},deep:!0},folicAcidReason:{handler(){this.handleFolicIron()},deep:!0},vitaminA:{handler(){this.handleVitaminA(),this.handleVitaminNo(),this.handleVitaminOther(),this.handleVitaminDailyWeekly()},deep:!0}},methods:{handleVitamin(e){Qe(this.vitaminA,ml,e.name,e.value)},handleInputData(e){this.validationRules(e)},validaterowData(e){this.validationRules(e)},validationRules(e){return si(this.folicAcid,e.name,this[e.name])||si(this.iron,e.name,this[e.name])},handleTypeIron(){N(this.iron,"Iron prescription")=="yes"?I(this.iron,"Type of Iron supplement dosage","displayNone",!1):I(this.iron,"Type of Iron supplement dosage","displayNone",!0)},handleIronDailyWeekly(){const e=N(this.iron,"Type of Iron supplement dosage");e==="daily"&&N(this.iron,"Iron prescription")=="yes"||e==="weekly"&&N(this.iron,"Iron prescription")=="yes"?u(this.iron,"iron Amount","displayNone",!1):u(this.iron,"iron Amount","displayNone",!0)},handleVitaminDailyWeekly(){const e=N(this.vitaminA,"Type of Vitamin A dosage");e==="daily"||e==="weekly"?u(this.vitaminA,"Vitamin Amount","displayNone",!1):u(this.vitaminA,"Vitamin Amount","displayNone",!0)},handleNoIron(){N(this.iron,"Iron prescription")=="no"?I(this.iron,"Iron and folic acid not prescribed","displayNone",!1):I(this.iron,"Iron and folic acid not prescribed","displayNone",!0)},handleNoIronOther(){N(this.iron,"Iron and folic acid not prescribed")=="other"&&N(this.iron,"Iron prescription")=="no"?u(this.iron,"Other","displayNone",!1):u(this.iron,"Other","displayNone",!0)},handleAcid(){N(this.folicAcid,"Folic acid")=="yes"?u(this.folicAcid,"Amount of Folic acid","displayNone",!1):u(this.folicAcid,"Amount of Folic acid","displayNone",!0)},handleNoFolic(){N(this.folicAcid,"Folic acid")=="no"?I(this.folicAcid,"Iron and folic acid not prescribed","displayNone",!1):u(this.folicAcid,"Iron and folic acid not prescribed","displayNone",!0)},handleFolicIron(){N(this.folicAcid,"Iron and folic acid not prescribed")=="other"?u(this.folicAcid,"Other","displayNone",!1):u(this.folicAcid,"Other","displayNone",!0)},handleVitaminA(){N(this.vitaminA,"Vitamin A prescription")=="yes"?I(this.vitaminA,"Type of Vitamin A dosage","displayNone",!1):I(this.vitaminA,"Type of Vitamin A dosage","displayNone",!0)},handleVitaminNo(){N(this.vitaminA,"Vitamin A prescription")=="no"?I(this.vitaminA,"vitamin A not prescribed","displayNone",!1):I(this.vitaminA,"vitamin A not prescribed","displayNone",!0)},handleVitaminOther(){N(this.vitaminA,"vitamin A not prescribed")=="other"?u(this.vitaminA,"Other","displayNone",!1):u(this.vitaminA,"Other","displayNone",!0)}}}),k_={class:"container"};function B_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",k_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.iron,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),n(h,{contentData:e.folicAcid,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),n(h,{contentData:e.vitaminA,"onUpdate:selected":e.handleVitamin,"onUpdate:inputValue":e.handleVitamin},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const $_=T(N_,[["render",B_],["__scopeId","data-v-30186bb7"]]),M_=B({name:"Counselling",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,initialData:[]}},computed:{...w(Zn,["preventativeCounselling"])},mounted(){const e=Zn();this.initialData=e.getInitial()},watch:{},setup(){return{checkmark:oe,pulseOutline:re}},methods:{}}),A_={class:"container"};function E_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",A_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.preventativeCounselling,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const V_=T(M_,[["render",E_],["__scopeId","data-v-1716e79a"]]),O_=qe("demographicStore",{state:()=>({demographics:{},patient:{}}),actions:{setDemographics(e){this.demographics=e},setPatient(e){this.patient=e},getPatient(){return this.patient}},persist:!0}),T_=B({name:"Immunization",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:ze,IonToggle:fe,IonSelectOption:_e,IonInput:ae,IonSelect:ve,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(Ut,["ttDoses"]),...w(Ut,["HepB1"]),...w(Ut,["HepB2"]),...w(Ut,["HepB3"]),...w(Ut,["hepBReason"]),...w(O_,["patient"])},mounted(){this.handleB1(),this.handleB2(),this.handleB3(),this.handelHepreason(),this.handleTTinfo()},watch:{HepB1:{handler(){this.handleB1()},deep:!0},HepB2:{handler(){this.handleB2()},deep:!0},HepB3:{handler(){this.handleB3()},deep:!0},hepBReason:{handler(){this.handelHepreason()},deep:!0}},methods:{handleB1(){N(this.HepB1,"Hepatitis B-1")=="Yes"?u(this.HepB1,"hepb1 Date","displayNone",!1):u(this.HepB1,"hepb1 Date","displayNone",!0)},handleB2(){N(this.HepB2,"Hepatitis B-2")=="yes"?u(this.HepB2,"Hep B-2 Date","displayNone",!1):u(this.HepB2,"Hep B-2 Date","displayNone",!0)},handleB3(){N(this.HepB3,"Hepatitis B-3")=="yes"?u(this.HepB3,"hep3Date","displayNone",!1):u(this.HepB3,"hep3Date","displayNone",!0)},handelHepreason(){N(this.hepBReason,"Hepatitis B")=="other"?u(this.hepBReason,"Specify","displayNone",!1):u(this.hepBReason,"Specify","displayNone",!0)},handleTTinfo(){this.setValues()},async setValues(){const e=await Ve.getFirstObsValue(this.patient.patientID,"Number of tetanus doses","value_coded");await Ve.getFirstObsValue(this.patient.patientID,"Systolic","value_text"),console.log(e),e=="Two doses"?u(this.ttDoses,"hepb1 Date","displayNone",!1):u(this.ttDoses,"hepb1 Date","displayNone",!0)}}}),F_={class:"container"};function H_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",F_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.ttDoses},null,8,["contentData"]),n(h,{contentData:e.HepB1},null,8,["contentData"]),n(h,{contentData:e.HepB2},null,8,["contentData"]),n(h,{contentData:e.HepB3},null,8,["contentData"]),n(h,{contentData:e.hepBReason},null,8,["contentData"])]),_:1})]),_:1})])}const R_=T(T_,[["render",H_],["__scopeId","data-v-0828c551"]]),L_=B({name:"Counselling",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,currentSection:0}},computed:{...w(mn,["treatment"]),...w(mn,["malaria"])},mounted(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther(),this.handleMalria(),this.handleOtherMalaria()},setup(){return{checkmark:oe,pulseOutline:re}},watch:{treatment:{handler(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther()},deep:!0},malaria:{handler(){this.handleMalria(),this.handleOtherMalaria()},deep:!0}},methods:{handlepreventive(){N(this.treatment,"antihelminthic treatment")=="yes"?I(this.treatment,"antihelminthic treatment provided","displayNone",!1):I(this.treatment,"antihelminthic treatment provided","displayNone",!0),console.log(N(this.treatment,"preventive"))},handleNoPreventative(){N(this.treatment,"antihelminthic treatment")=="no"?I(this.treatment,"no preventative treatment provided","displayNone",!1):I(this.treatment,"no preventative treatment provided","displayNone",!0)},handleOther(){N(this.treatment,"no preventative treatment provided")=="other"?u(this.treatment,"Specify","displayNone",!1):u(this.treatment,"Specify","displayNone",!0)},handleMalria(){N(this.malaria,"counselling on malaria prevention")=="no"?I(this.treatment,"counselling on malaria prevention","displayNone",!1):I(this.treatment,"counselling on malaria prevention","displayNone",!0)},handleOtherMalaria(){N(this.malaria,"counselling on malaria prevention")=="other"?u(this.treatment,"other","displayNone",!1):u(this.treatment,"other","displayNone",!0)}}}),x_={class:"container"};function U_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",x_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.treatment},null,8,["contentData"])]),_:1})]),_:1}),n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.malaria},null,8,["contentData"])]),_:1})]),_:1})])}const z_=T(L_,[["render",U_],["__scopeId","data-v-1edadf70"]]),q_=B({name:"Past Surguries",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=Se(),t=Se(),a=Se();Se(),Se(),Se(),Se(),Se(),Se(),Se(),Se(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleHivResults(),this.handleSyphilis(),this.handleSurgries(),this.handleAllergies(),this.handleChronicCondition(),this.handleHivConducted(),this.handleHivConductedOptin(),this.handleOtherHiv(),this.handleSyphlisdate(),this.handleDisable(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis(),this.handleTestNotDone(),this.handleHIVPositive()},watch:{hivTest:{handler(){this.handleHivResults(),this.handleOtherHiv(),this.handleHivConducted(),this.handleTestNotDone(),this.handleHivConductedOptin()},deep:!0},syphilisTest:{handler(){this.handleSyphilis(),this.handleSyphlisdate(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis()},deep:!0},medicalHistory:{handler(){this.handleSurgries(),this.handleDisable()},deep:!0},allegy:{handler(){this.handleAllergies()},deep:!0},exisitingChronicHealthConditions:{handler(e){this.handleChronicCondition(),this.handleHIVPositive(),this.handleInputData(e)},deep:!0}},computed:{...w(Se,["medicalHistory"]),...w(Se,["allegy"]),...w(Se,["exisitingChronicHealthConditions"]),...w(Se,["hivTest"]),...w(Se,["syphilisTest"]),ExistingChronicConditions(){return ce(this.exisitingChronicHealthConditions,"chronic conditions")}},methods:{validationRules(e){return It(this.exisitingChronicHealthConditions,e.name,this[e.name])},async handleInputData(e){this.validationRules(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),u(this.exisitingChronicHealthConditions,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Yt.getFacilities({name:e})},handleHIVPositive(){var e;((e=ce(this.exisitingChronicHealthConditions,"HIV positive"))==null?void 0:e.value)=="hiv positive"?(u(this.exisitingChronicHealthConditions,"HIV test date","displayNone",!1),I(this.exisitingChronicHealthConditions,"Is client on ART","displayNone",!1)):(u(this.exisitingChronicHealthConditions,"HIV test date","displayNone",!0),I(this.exisitingChronicHealthConditions,"Is client on ART","displayNone",!0))},handleHivResults(){N(this.hivTest,"test2")=="hivPositive"?I(this.hivTest,"test1","displayNone",!1):I(this.hivTest,"test1","displayNone",!0)},handleHivConductedOptin(){N(this.hivTest,"hivOption")=="hivTestConducted"?I(this.hivTest,"test2","displayNone",!1):I(this.hivTest,"test2","displayNone",!0)},handleOtherHiv(){var e;((e=ce(this.hivTest,"Other"))==null?void 0:e.value)=="other"?u(this.hivTest,"reasonsTestNotDone","displayNone",!1):u(this.hivTest,"reasonsTestNotDone","displayNone",!0)},handleSyphilis(){N(this.syphilisTest,"syphilisOption")=="syphilisTestConducted"?I(this.syphilisTest,"syphilisDetails","displayNone",!1):I(this.syphilisTest,"syphilisDetails","displayNone",!0)},handleSurgries(){var t;const e=["Dilation and currettage","Myomectomy","Removal of ovarian cystst","Oophorectomy","Removal of ovarian cyst","Salpingectomy","Cervical cone","Other"];(t=ce(this.medicalHistory,"None"))!=null&&t.checked?e.forEach(a=>{R(this.medicalHistory,a,"checked",!1),R(this.medicalHistory,a,"disabled",!0)}):e.forEach(a=>{R(this.medicalHistory,a,"disabled",!1)})},handleAllergies(){var t;const e=["Other","PrEP(TDF)","Albendazole","Aluminium-hydroxide","Calcium","Sulfadoxine-Pyrimethamine","Chamomile","Folic-acid","Ginger","Fish","Iron","Mebendazole","Penicillin"];(t=ce(this.allegy,"None"))!=null&&t.checked?e.forEach(a=>{R(this.allegy,a,"checked",!1),R(this.allegy,a,"disabled",!0)}):e.forEach(a=>{R(this.allegy,a,"disabled",!1)})},handleChronicCondition(){var t;const e=["Auto-immune desease","Asthma","Sickle cell","Anemia","HIV positive","Thalassemia","Gynaecological","CCF","RHD","Gynae Cancer","Diabetes Type 1","Diabetes Type 2","Gestational diabetes","pre-existing type 1","pre-existing type 2","Epilepsy","Hypertension","Kidney Disease","TB","Mental illness","Other"];(t=ce(this.exisitingChronicHealthConditions,"None"))!=null&&t.checked?e.forEach(a=>{R(this.exisitingChronicHealthConditions,a,"checked",!1),R(this.exisitingChronicHealthConditions,a,"disabled",!0)}):e.forEach(a=>{R(this.exisitingChronicHealthConditions,a,"disabled",!1)})},handleHivConducted(){N(this.hivTest,"hivOption")=="hivTestConducted"?u(this.hivTest,"testDate","displayNone",!1):u(this.hivTest,"testDate","displayNone",!0)},handleTestNotDone(){N(this.hivTest,"hivOption")=="hivTestNotDone"?Le(this.hivTest,"hivOutcome","displayNone",!1):Le(this.hivTest,"hivOutcome","displayNone",!0)},handleSyphlisdate(){N(this.syphilisTest,"syphilisOption")=="syphilisTestConducted"?u(this.syphilisTest,"syphilisDate","displayNone",!1):u(this.syphilisTest,"syphilisDate","displayNone",!0)},handleDisable(){ce(this.medicalHistory,"NoSurgery")=="otherSurguries"?Le(this.medicalHistory,"Other","disabled",!0):Le(this.medicalHistory,"Other","disabled",!1)},handleSyphilisNotDone(){var e;((e=N(this.syphilisTest,"syphilisOption"))==null?void 0:e.value)=="syphilisTestNotDone"?Le(this.syphilisTest,"notDone","displayNone",!1):Le(this.syphilisTest,"notDone","displayNone",!0)},handleSpecifySyphilis(){ce(this.syphilisTest,"Other")=="other"?u(this.syphilisTest,"Reason","displayNone",!1):u(this.syphilisTest,"Reason","displayNone",!0)}}}),W_={class:"container"};function G_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",W_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.exisitingChronicHealthConditions,initialData:e.initialData2,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.medicalHistory,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.allegy,initialData:e.initialData1},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const j_=T(q_,[["render",G_],["__scopeId","data-v-af1b04de"]]),Y_=B({name:"Medical FollowUp",components:{IonItem:O,IonList:x,BasicInputField:ee,BasicForm:G},data(){return{initialData:[]}},setup(){return{checkmark:oe,pulseOutline:re}},mounted(){this.handleMedicalFollowup(),this.handleSideEffects();const e=Ns();this.initialData=e.getInitial()},computed:{...w(Ns,["medicalFollowUp"])},watch:{medicalFollowUp:{handler(){this.handleMedicalFollowup(),this.handleSideEffects()},deep:!0}},methods:{handleMedicalFollowup(){var t;const e=["Taking Calcium Supplements","Taking iron and folic acid (IFA) tablets","Taking aspirin tablets","Taking penicillin treatment for syphilis","Taking vitamin A supplements","Taking Albendazole for deworming","Other medication"];(t=ce(this.medicalFollowUp,"None"))!=null&&t.checked?e.forEach(a=>{R(this.medicalFollowUp,a,"checked",!1),R(this.medicalFollowUp,a,"disabled",!0)}):e.forEach(a=>{R(this.medicalFollowUp,a,"disabled",!1)})},handleSideEffects(){var t;const e=["Side-effects from calcium supplements","Side-effects from iron and folic acid supplements","Side-effects from Aspirin supplements","Side-effects from Vitamin A supplements","Side-effects from Penicillin","Side-effects from Albendazole","Other"];(t=ce(this.medicalFollowUp,"No side effects"))!=null&&t.checked?e.forEach(a=>{R(this.medicalFollowUp,a,"checked",!1),R(this.medicalFollowUp,a,"disabled",!0)}):e.forEach(a=>{R(this.medicalFollowUp,a,"disabled",!1)})}}}),J_={class:"container"};function K_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",J_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.medicalFollowUp,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Q_=T(Y_,[["render",K_],["__scopeId","data-v-f9280c8a"]]);function fs(e,t,a){var r,l,c;const s={"High caffeine intake":()=>F.required(a),"Tobacco use":()=>F.required(a),"Recently quit tobacco products":()=>F.required(a),"Exposure to second-hand smoke":()=>F.required(a),"Persistent Symptom":()=>F.required(a),"Physiological symptom":()=>F.required(a),"Fetal movement":()=>F.required(a)},o=((r=s[t])==null?void 0:r.call(s))==null;return I(e,t,"alertsErrorMassage",!o),R(e,t,"alertsErrorMassage",!o),o||(I(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),R(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s))),o}const X_=B({name:"Persistent Behaviour",components:{IonItem:O,IonList:x,BasicInputField:ee,BasicForm:G},data(){return{initialData:[],initialData1:[]}},mounted(){const e=Ln(),t=Ln();this.initialData=e.getInitial(),this.initialData1=t.getInitialPersistentSymptoms(),this.handlePersistentBehaviour(),this.handlePersistentSymptoms()},computed:{...w(Ln,["persistentBehaviour","persistentSymptoms"])},watch:{persistentBehaviour:{handler(){this.handlePersistentBehaviour()},deep:!0},persistentSymptoms:{handler(){this.handlePersistentSymptoms()},deep:!0}},methods:{validationRules(e){return fs(this.persistentBehaviour,e.name,this[e.name])},handlePersistentSymptoms(){var t;const e=["Leg cramps","Visual disturbance","Constipation","Headache","Heartburn","Pain-Leg","Breathing difficulty","Cough lasting more than 3 weeks","Other symptoms","Pelvic pain","Pain - Low back","Abnormal pulse rate"];(t=ce(this.persistentSymptoms,"None"))!=null&&t.checked?e.forEach(a=>{R(this.persistentSymptoms,a,"checked",!1),R(this.persistentSymptoms,a,"disabled",!0)}):e.forEach(a=>{R(this.persistentSymptoms,a,"disabled",!1)})},handlePersistentBehaviour(){var a;const e=["Tobacco use","Recently quit tobacco products","Exposure to second-hand smoke","Condom use","Alcohol use","Substance use","High caffeine intake","Other"],t=(a=ce(this.persistentBehaviour,"No persistent behaviours"))==null?void 0:a.checked;e.forEach(s=>{t?(R(this.persistentBehaviour,s,"checked",!1),R(this.persistentBehaviour,s,"disabled",!0)):R(this.persistentBehaviour,s,"disabled",!1)})},async handleInputData(e){this.validationRules(e)}}}),Z_={class:"container"};function ev(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Z_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.persistentBehaviour,"onUpdate:selected":e.handleInputData,initialData:e.initialData},null,8,["contentData","onUpdate:selected","initialData"]),n(l,{contentData:e.persistentSymptoms,"onUpdate:selected":e.handleInputData,initialData:e.initialData1},null,8,["contentData","onUpdate:selected","initialData"])]),_:1})]),_:1})])}const tv=T(X_,[["render",ev],["__scopeId","data-v-136e4faf"]]),av=B({name:"Persistent Behaviour",components:{IonItem:O,IonList:x,BasicInputField:ee,BasicForm:G},mounted(){ks(),this.handleNone()},watch:{physiologicalSymptoms:{handler(){this.handleNone()},deep:!0}},computed:{...w(ks,["physiologicalSymptoms"])},methods:{handleNone(){var t;const e=["Abnormal pulse rate","Cough lasting more than 3 weeks","Pain â€“ Low back","Constipation","Headache","Heartburn","Pain-Leg","Pain-pelvic"];(t=ce(this.physiologicalSymptoms,"None"))!=null&&t.checked?e.forEach(a=>{R(this.physiologicalSymptoms,a,"checked",!1),R(this.physiologicalSymptoms,a,"disabled",!0)}):e.forEach(a=>{R(this.physiologicalSymptoms,a,"disabled",!1)})},validationRules(e){return fs(this.physiologicalSymptoms,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)}}}),nv={class:"container"};function sv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",nv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.physiologicalSymptoms,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])]),_:1})]),_:1})])}const iv=T(av,[["render",sv],["__scopeId","data-v-8d0214c3"]]),ov=B({name:"Persistent Behaviour",components:{IonItem:O,IonList:x,BasicInputField:ee,BasicForm:G},mounted(){Bs(),this.handleNone(),this.handleReferal(),this.handleOtherFirstline()},watch:{ipv:{handler(){this.handleNone()},deep:!0},referrals:{handler(){this.handleReferal(),this.handleOtherFirstline()},deep:!0}},computed:{...w(Bs,["ipv","ipv1","additionalCare","safety_assessment","physical_violence","beaten_pregnant","strangling","murder_threat","referrals","constant_jealous","woman_threatened"])},methods:{handleNone(){var t;const e=["Ongoing stress","Unspecified Harmful Behaviours","Unwanted pregnancies","Injury to abdomen","Partner's intrusive during consultations","Misuse of alcohol","Unspecified harmful behaviours","Thoughts of self-harm","Unwanted Pregnancies","Misuse of drugs"];(t=ce(this.ipv,"None"))!=null&&t.checked?e.forEach(a=>{R(this.ipv,a,"checked",!1),R(this.ipv,a,"disabled",!0)}):e.forEach(a=>{R(this.ipv,a,"disabled",!1)})},handleIntimate(){N(this.ipv,"intimateInfo")=="no"?I(this.ipv,"IPV firstline support","displayNone",!1):I(this.ipv,"IPV firstline support","displayNone",!0)},handleOtherIpv(){N(this.ipv,"IPV firstline support")=="other"?u(this.ipv,"other","displayNone",!1):u(this.ipv,"other","displayNone",!0)},handleReferal(){var t;const e=["Care at another facility","Care at another facility","Crisis intervention or counselling","Police","Shelter or housing","Shelter or housing","Child protection","Livelihood support","Other"];(t=ce(this.referrals,"None"))!=null&&t.checked?e.forEach(a=>{R(this.referrals,a,"checked",!1),R(this.referrals,a,"disabled",!0)}):e.forEach(a=>{R(this.referrals,a,"disabled",!1)})},handleOtherFirstline(){var e,t;((e=ce(this.referrals,"first-line support"))==null?void 0:e.value)=="other"?u(this.referrals,"specifics","displayNone",!1):u(this.referrals,"specifics","displayNone",!0),console.log("+++++++++",((t=ce(this.referrals,"first-line support"))==null?void 0:t.value)=="specifics")}}}),lv={class:"container"};function rv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card"),m=d("ion-card-title"),f=d("ion-card-header");return p(),v("div",lv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ipv},null,8,["contentData"]),t[0]||(t[0]=_("br",null,null,-1)),n(l,{contentData:e.ipv1},null,8,["contentData"])]),_:1,__:[0]})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(f,null,{default:i(()=>[n(m,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(c,null,{default:i(()=>[n(l,{contentData:e.additionalCare},null,8,["contentData"]),n(l,{contentData:e.safety_assessment},null,8,["contentData"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(f,null,{default:i(()=>[n(m,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(c,null,{default:i(()=>[n(l,{contentData:e.physical_violence},null,8,["contentData"]),n(l,{contentData:e.beaten_pregnant},null,8,["contentData"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(f,null,{default:i(()=>[n(m,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(c,null,{default:i(()=>[n(l,{contentData:e.woman_threatened},null,8,["contentData"]),n(l,{contentData:e.constant_jealous},null,8,["contentData"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(f,null,{default:i(()=>[n(m,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(c,null,{default:i(()=>[n(l,{contentData:e.strangling},null,8,["contentData"]),n(l,{contentData:e.murder_threat},null,8,["contentData"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(f,null,{default:i(()=>[n(m,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(c,null,{default:i(()=>[n(l,{contentData:e.referrals},null,8,["contentData"])]),_:1})]),_:1})])}const dv=T(ov,[["render",rv],["__scopeId","data-v-42770e04"]]),cv=B({name:"Fatal Movement",components:{IonItem:O,IonList:x,BasicInputField:ee,BasicForm:G},mounted(){$s()},computed:{...w($s,["fatalMovement"])},methods:{validationRules(e){return fs(this.fatalMovement,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)}}}),uv={class:"container"};function hv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",uv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.fatalMovement,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])]),_:1})]),_:1})])}const pv=T(cv,[["render",hv],["__scopeId","data-v-586b9fb7"]]),mv=B({name:"Persistent Behaviour",components:{IonItem:O,IonList:x,BasicInputField:ee,BasicForm:G},data(e){return{initialData:[]}},mounted(){const e=Ms();this.initialData=e.getInitial()},watch:{behaviourInfo:{handler(){},deep:!0}},computed:{...w(Ms,["behaviourInfo"])},methods:{}}),fv={class:"container"};function _v(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",fv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.behaviourInfo,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const vv=T(mv,[["render",_v],["__scopeId","data-v-d2e3a48e"]]),gv=B({name:"Persistent Behaviour",components:{IonItem:O,IonList:x,BasicInputField:ee,BasicForm:G},data(e){return{initialData:[]}},mounted(){const e=As();this.initialData=e.getInitial()},watch:{physiologicalCounselingInfo:{handler(){},deep:!0}},computed:{...w(As,["physiologicalCounselingInfo"])},methods:{}}),yv={class:"container"};function bv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",yv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.physiologicalCounselingInfo,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Dv=T(gv,[["render",bv],["__scopeId","data-v-79c39804"]]),Sv=B({name:"Diet Counselling",components:{IonItem:O,IonList:x,BasicInputField:ee,BasicForm:G},data(e){return{initialData:[]}},methods:{},mounted(){const e=Es();this.initialData=e.getInitial()},computed:{...w(Es,["dietCounsellingInfo"])}}),Cv={class:"container"};function wv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Cv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.dietCounsellingInfo,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Iv=T(Sv,[["render",wv],["__scopeId","data-v-d2c02036"]]);function Pv(e,t,a){var r,l,c,h;const s={"Providerâ€™s phone number":()=>Nv(t,a),tt1Date:()=>F.required(a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsError",!o),I(e,t,"alertsError",!o),R(e,t,"alertsError",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),R(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function Nv(e,t){if(e==="Providerâ€™s phone number"){const a=F.required(t);if(a!==null)return a;const s=F.isMWPhoneNumber(t);if(s!==null)return s}else if(e==="Abortions"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="Stillbirths"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="lmnpDate"){const a=F.required(t);if(a!==null)return a;const s=F.isDate(t);if(s!==null)return s}else if(e==="UltrasoundDate"){const a=F.required(t);if(a!==null)return a;const s=F.isDate(t);if(s!==null)return s}else if(e==="specify"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,42);if(o!==null)return o}else if(e==="Gestation age by palpation"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,4,36);if(o!==null)return o}else return null;return null}const kv=B({name:"Referral",components:{IonItem:O,IonList:x,BasicInputField:ee,BasicForm:G},data(){return{no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",initialData:[],selectedCondition:""}},mounted(){const e=Vs();this.initialData=e.getInitialReferral(),this.handleReferral(),this.handletreatment()},watch:{referralInfo:{handler(){this.handleReferral(),this.handletreatment()},deep:!0}},computed:{...w(Vs,["referralInfo"]),"Providerâ€™s phone number"(){return le(this.referralInfo,"Providerâ€™s phone number","value")}},methods:{navigationMenu(e){this.$router.push(e)},handleReferral(){N(this.referralInfo,"referalOption")=="yes"?I(this.referralInfo,"referralOutcome","displayNone",!1):I(this.referralInfo,"referralOutcome","displayNone",!0)},handletreatment(){N(this.referralInfo,"Any treatment given before referral")=="yes"?I(this.referralInfo,"treatment","displayNone",!1):I(this.referralInfo,"treatment","displayNone",!0)},async handleInputData(e){Qe(this.referralInfo,fl,e.name,e.value),this.handleReferralDateRange(e),this.handleDateOfScheduledReferralRange(e),e.inputHeader=="Where is the client being referred to? *"&&(this.facilityData=await this.getFacility(e.value),u(this.referralInfo,"Location of referral","popOverData",{filterData:!1,data:this.facilityData})),e.inputHeader=="Providerâ€™s facility *"&&(this.facilityData=await this.getFacility(e.value),u(this.referralInfo,"Providerâ€™s facility","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Yt.getFacilities({name:e})},validationRules(e){return Pv(this.referralInfo,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},handleReferralDateRange(e){const t=new Date,a=new Date(t),s=new Date(t);a.setDate(a.getDate()-1),s.setMonth(s.getMonth()+6);const o=a.toISOString().split("T")[0],r=s.toISOString().split("T")[0];u(this.referralInfo,"Date scheduled referral","minDate",o),u(this.referralInfo,"Date scheduled referral","maxDate",r)},handleDateOfScheduledReferralRange(e){const t=new Date,a=new Date(t);a.setDate(a.getDate()-1);const s=a.toISOString().split("T")[0],o=t.toISOString().split("T")[0];u(this.referralInfo,"Date referral was made","minDate",s),u(this.referralInfo,"Date referral was made","maxDate",o)}}}),Bv={class:"container"};function $v(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Bv,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.referralInfo,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Mv=T(kv,[["render",$v],["__scopeId","data-v-e4a6aefe"]]);class Av extends Et{constructor(a,s){super(a,6,s);ct(this,"appEncounterServiceInstance");this.appEncounterServiceInstance=this}async mapObs(a){const s=[];await Promise.all(a.flatMap(r=>r.data.rowData.flat().map(async l=>{l.colData.flat().map(async c=>{if(c.value){const h=await this.appEncounterServiceInstance.buildValueNumber(c.name,c.value);s.push(h)}})})));const o=String(a[0].alerts[0].index);if(o){const r=await this.appEncounterServiceInstance.buildValueNumber("BMI",o);s.push(r)}return s}async onFinish(a){if(!await this.appEncounterServiceInstance.createEncounter())return tt("Unable to create encounter");const o=await this.mapObs(a);if(!await this.appEncounterServiceInstance.saveObservationList(o))return tt("Unable to save patient observations");Dt("Observations and encounter created!")}isNotEmptyandNumber(a){return"".concat(a.value).match(/^-?\d+\.?\d*$/)?null:["".concat(a.inputHeader," entered is not valid")]}isNotEmptyandFloat(a){return"".concat(a.value).match(/^\d{1,3}\.\d{1,5}$/)?null:["".concat(a.inputHeader," is an invalid entry. ").concat(a.inputHeader," should have a decimal e.g 61.3 ").concat(a.unit)]}checkMinMax(a,s,o){const r=[];return parseFloat("".concat(a.value))<s&&r.push(["".concat(a.inputHeader," captured is less than the required minimum ").concat(s," ").concat((a==null?void 0:a.unit)||"")]),parseFloat("".concat(a.value))>o&&r.push(["".concat(a.inputHeader," captured is greater than the required maximum ").concat(o," ").concat((a==null?void 0:a.unit)||"")]),r.length>0?r:null}validateAll(a){const s=[];return a.map(o=>{const r=this.validator(o);return $e.isArray(r)?s.push(r):null}),s.length>0?s:null}mergeErrors(a){const s=[];return a.forEach(o=>{$e.isArray(o)&&s.push(o)}),s.length>0?s:null}isValidBPReading(a){const s=[],o="".concat(a.value).match(/^\d{1,3}\/\d{1,3}$/g)?null:["Invalid BP reading"];if(s.push(o),o==null){const r="".concat(a.value).split("/"),l={name:"Systolic",value:r[0]},c={name:"Diastolic",value:r[1]};s.push(this.checkMinMax(c,30,200)),s.push(this.checkMinMax(l,40,250))}return this.mergeErrors(s)}validator(a){const o=[{name:"Weight*",validator:r=>{const l=this.isNotEmptyandNumber(r),c=this.checkMinMax(r,40,250);return this.mergeErrors([l,c])}},{name:"Pre-gestation weight",validator:r=>{console.log(r);const l=this.isNotEmptyandNumber(r),c=this.checkMinMax(r,40,250);return this.mergeErrors([l,c])}},{name:"Height*",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,100,200)),this.mergeErrors(l)}},{name:"BP",validator:r=>this.isValidBPReading(r)},{name:"Temperature",validator:r=>{const l=this.checkMinMax(r,30,42);return this.mergeErrors([l])}},{name:"Systolic Pressure*",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Repeated systolic pressure",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Diastolic pressure*",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Repeated diastolic pressure",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Pulse rate*",validator:r=>{const l=this.checkMinMax(r,60,120);return this.mergeErrors([l])}},{name:"Oxygen saturation",validator:r=>{const l=this.checkMinMax(r,0,100);return this.mergeErrors([l])}},{name:"Respiratory rate",validator:r=>{const l=this.checkMinMax(r,60,120);return this.mergeErrors([l])}}].filter(r=>r.name===a.inputHeader);return o.length>0?o[0].validator(a):null}}const oi=[{isFinishBtn:!1,validationStatus:"",sectionHeader:"Height and weight",actionBtn:"Finish and Save",data:{rowData:[{colData:[{inputHeader:"Height*",unit:"cm",icon:P.height,value:"",name:"Height (cm)",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1},{inputHeader:"Weight*",unit:"kg",icon:P.weight,value:"",name:"Weight",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1},{inputHeader:"Pre-gestation weight",unit:"kg",icon:P.weight,value:"",name:"Pre-gestation weight",valueType:"number",required:!0,eventType:"input",alertsErrorMassage:""}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}],previousView:{name:"vitals"}},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" "},data:[{colSize:"5.8",name:"Height And Weight Not Done",value:"Height And Weight Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:P.search,isMultiSelect:!0,popOver:!0,value:"",name:"Height Weight Reason",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"Blood pressure",data:{rowData:[{colData:[{inputHeader:"Systolic Pressure*",unit:"mmHg",icon:P.systolicPressure,value:"",name:"Systolic",required:!0,eventType:"input",disabled:!1},{inputHeader:"Diastolic pressure*",unit:"mmHg",icon:P.diastolicPressure,value:"",name:"Diastolic",required:!0,eventType:"input",disabled:!1}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}],previousView:{name:"vitals"}},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",name:"Primary diagnosis"},data:[{colSize:"5.8",name:"Blood Pressure Not Done",value:"Blood Pressure Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:P.search,isMultiSelect:!0,popOver:!0,value:"",name:"Blood Pressure Reason",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"Temperature and rates",data:{rowData:[{colData:[{inputHeader:"Temperature",unit:"C",icon:P.temprature,value:"",name:"Temperature",eventType:"input"},{inputHeader:"Pulse rate*",unit:"BMP",icon:P.pulse,value:"",name:"Pulse",eventType:"input"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",name:"Primary diagnosis"},data:[{colSize:"5.8",name:"Pulse Rate Not Done",value:"Pulse Rate Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:P.search,isMultiSelect:!0,popOver:!0,value:"",name:"Pulse Rate Reason",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"null",data:{rowData:[{colData:[{inputHeader:"Respiratory rate",unit:"BMP",icon:P.respiratory,value:"",name:"Respiratory rate",eventType:"input"},{inputHeader:"Oxygen saturation",unit:"%",icon:P.oxgenStaturation,value:"",name:"SAO2",eventType:"input"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]}],dn=qe("vitalsStore",{state:()=>({ANCVitals:[...oi]}),actions:{setVitals(e){this.ANCVitals=e},getInitialVitals(){return[...$e.cloneDeep(oi)]}},persist:!0}),Ev=B({components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,PreviousVitals:yn},data(){return{iconsContent:P,BMI:{},BPStatus:{},saveBtnStatus:{},TempStatus:{},PulseStatus:{},RespiratoryStatus:{},OxygenStatus:{},vValidations:"",initialData:[],hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1}}},computed:{...w(Ne,["patient"]),...w(dn,["ANCVitals"])},async mounted(){const e=dn();this.initialData=e.getInitialVitals(),await this.setTodayVitals();const t=Oe.getUserID();this.vitalsInstance=new Av(this.patient.patientID,t),await this.validaterowData("onload"),this.handleVital()},watch:{ANCVitals:{handler(){this.checkHeight()},deep:!0},$route:{handler(){this.checkHeight(),this.setTodayVitals(),this.updateVitalsStores()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleVital(){this.setVitalValue},async setVitalValue(){const e=await Ve.getFirstObsValue(this.patient.patientID,"Systolic","value_numeric");console.log("+++++ lets see",e)},async setTodayVitals(){const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","SAO2","Respiratory rate"],t=["Height (cm)","Weight","Systolic","Diastolic","Pulse"],a=[],s=e.map(async o=>{const r=await Ve.getFirstObsDatetime(this.patient.patientID,o);r&&ne.toStandardHisFormat(r)==ne.sessionDate()?(o=="Weight"&&R(this.ANCVitals,"Height And Weight Not Done","displayNone",!0),o=="Systolic"&&R(this.ANCVitals,"Blood Pressure Not Done","displayNone",!0),o=="Pulse"&&R(this.ANCVitals,"Pulse Rate Not Done","displayNone",!0),u(this.ANCVitals,o,"value",await Ve.getFirstValueNumber(this.patient.patientID,o,ne.sessionDate())),u(this.ANCVitals,o,"disabled",!0),a.push("true")):t.includes(o)?a.push("false"):u(this.ANCVitals,o,"value","")});return await Promise.all(s),a.includes("false")?this.ANCVitals[0].actionBtn="Finish and Save":this.ANCVitals[0].actionBtn="Finish",!a.includes("false")},navigationMenu(e){ze.close(),this.$router.push(e)},updateVitalsStores(){dn().setVitals(this.ANCVitals)},validationController(e){var t,a,s,o,r,l;((t=e==null?void 0:e.col)==null?void 0:t.name)=="Height And Weight Not Done"&&e.col.checked?(Te(this.ANCVitals,"Height Weight Reason","displayNone",!1),u(this.ANCVitals,"Height (cm)","disabled",!0),u(this.ANCVitals,"Weight","disabled",!0),u(this.ANCVitals,"Height (cm)","inputHeader","Height"),u(this.ANCVitals,"Weight","inputHeader","Weight"),u(this.ANCVitals,"Height (cm)","value",""),u(this.ANCVitals,"Weight","value",""),this.validationStatus.heightWeight=!1):((a=e==null?void 0:e.col)==null?void 0:a.name)=="Height And Weight Not Done"&&(Te(this.ANCVitals,"Height Weight Reason","displayNone",!0),u(this.ANCVitals,"Height (cm)","disabled",!1),u(this.ANCVitals,"Weight","disabled",!1),u(this.ANCVitals,"Height (cm)","inputHeader","Height*"),u(this.ANCVitals,"Weight","inputHeader","Weight*"),this.validationStatus.heightWeight=!0),((s=e==null?void 0:e.col)==null?void 0:s.name)=="Blood Pressure Not Done"&&e.col.checked?(Te(this.ANCVitals,"Blood Pressure Reason","displayNone",!1),u(this.ANCVitals,"Systolic","disabled",!0),u(this.ANCVitals,"Diastolic","disabled",!0),u(this.ANCVitals,"Systolic","inputHeader","Systolic Pressure"),u(this.ANCVitals,"Diastolic","inputHeader","Diastolic pressure"),u(this.ANCVitals,"Systolic","value",""),u(this.ANCVitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!1):((o=e==null?void 0:e.col)==null?void 0:o.name)=="Blood Pressure Not Done"&&(Te(this.ANCVitals,"Blood Pressure Reason","displayNone",!0),u(this.ANCVitals,"Systolic","disabled",!1),u(this.ANCVitals,"Diastolic","disabled",!1),u(this.ANCVitals,"Systolic","inputHeader","Systolic Pressure*"),u(this.ANCVitals,"Diastolic","inputHeader","Diastolic pressure*"),u(this.ANCVitals,"Systolic","value",""),u(this.ANCVitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!0),((r=e==null?void 0:e.col)==null?void 0:r.name)=="Pulse Rate Not Done"&&e.col.checked?(Te(this.ANCVitals,"Pulse Rate Reason","displayNone",!1),u(this.ANCVitals,"Pulse","disabled",!0),u(this.ANCVitals,"Pulse","inputHeader","Pulse rate"),u(this.ANCVitals,"Pulse","value",""),this.validationStatus.bloodPressure=!1):((l=e==null?void 0:e.col)==null?void 0:l.name)=="Pulse Rate Not Done"&&(Te(this.ANCVitals,"Pulse Rate Reason","displayNone",!0),u(this.ANCVitals,"Pulse","disabled",!1),u(this.ANCVitals,"Pulse","inputHeader","Pulse rate*"),u(this.ANCVitals,"Pulse","value",""),this.validationStatus.bloodPressure=!0)},async checkHeight(){const e=new Me,t=await e.getRecentHeightObs();if(!$e.isEmpty(t)){const a=rs(t.obs_datetime).diff(e.getBirthdate(),"year"),s=t.value_numeric;t.obs_id,a<18||e.getAge()<18||(u(this.ANCVitals,"Height","disabled",!0),u(this.ANCVitals,"Height","value",s))}},async validaterowData(e){this.checkHeight(),this.validationController(e),this.hasValidationErrors=[],this.ANCVitals.forEach((t,a)=>{var s,o;(s=t==null?void 0:t.data)!=null&&s.rowData&&((o=t==null?void 0:t.data)==null||o.rowData.forEach((r,l)=>{var c,h,m;if(r.colData[0].inputHeader=="Systolic Pressure*"&&(e.inputHeader=="Systolic Pressure*"||e.inputHeader=="Diastolic pressure*"||e=="onload")||r.colData[0].inputHeader=="Systolic Pressure"&&((c=e==null?void 0:e.col)==null?void 0:c.name)=="Blood Pressure Not Done"){const f=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BPStatus=f?this.getBloodPressureStatus(r.colData[0].value,r.colData[1].value):{},this.updateBP(r.colData[0].value,r.colData[1].value)}if(r.colData[1].inputHeader=="Pulse rate*"&&(e.inputHeader=="Pulse rate*"||e=="onload")||r.colData[1].inputHeader=="Pulse rate"&&((h=e==null?void 0:e.col)==null?void 0:h.name)=="Pulse Rate Not Done"){const y=this.vitalsInstance.validator(r.colData[1])==null?this.getPulseRateStatus(r.colData[1].value):{};this.updateTemperateRate("pulse",r.colData[1].value+" BMP",y,4)}if(r.colData[0].value&&r.colData[0].inputHeader=="Temperature"){const y=this.vitalsInstance.validator(r.colData[0])==null?this.getTemperatureStatus(r.colData[0].value):{};this.updateTemperateRate("temp",r.colData[0].value+"Â°C",y,4)}if(r.colData[0].inputHeader=="Respiratory rate"){const y=this.vitalsInstance.validator(r.colData[0])==null?this.getRespiratoryRateStatus(r.colData[0].value):{};this.updateTemperateRate("respiratory",r.colData[0].value+"BMP",y,6)}if(r.colData[1].value&&r.colData[1].inputHeader=="Oxygen saturation"){const y=this.vitalsInstance.validator(r.colData[1])==null?this.getOxygenSaturationStatus(r.colData[1].value):{};this.updateTemperateRate("oxygen",r.colData[1].value+"%",y,6)}if(r.colData[0].inputHeader=="Height*"&&(e.inputHeader=="Height*"||e.inputHeader=="Weight*"||e=="onload")||r.colData[0].inputHeader=="Height"&&((m=e==null?void 0:e.col)==null?void 0:m.name)=="Height And Weight Not Done"){const f=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BMI=f?this.setBMI(r.colData[1].value,r.colData[0].value):{},this.updateBMI()}r.colData.some((f,y)=>{const D=this.vitalsInstance.validator(f);if((D==null?void 0:D.length)>0){if(this.hasValidationErrors.push("false"),f.inputHeader===e.inputHeader)return this.ANCVitals[a].data.rowData[l].colData[y].alertsErrorMassage=!0,this.ANCVitals[a].data.rowData[l].colData[y].alertsErrorMassage=D.flat(1/0)[0],!0}else this.hasValidationErrors.push("true"),this.ANCVitals[a].data.rowData[l].colData[y].alertsErrorMassage=!1,this.ANCVitals[a].data.rowData[l].colData[y].alertsErrorMassage="";return!1})}))}),this.ANCVitals.validationStatus=!this.hasValidationErrors.includes("false")},async setBMI(e,t){var a,s,o,r,l,c,h,m;t<140&&this.heightAlert(),(s=(a=this.patient)==null?void 0:a.personInformation)!=null&&s.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&e&&t&&(this.BMI=await qt.getBMI(parseInt(e),parseInt(t),(c=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:c.gender,ne.calculateAge((m=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:m.birthdate,ne.sessionDate())),this.updateBMI())},async updateBMI(){var a,s,o,r,l,c;const e=(s=(a=this.BMI)==null?void 0:a.color)!=null?s:[],t=this.ANCVitals[0].alerts[0];t.icon=qt.iconBMI(e),t.backgroundColor=e[0],t.textColor=e[1],t.index="BMI "+((r=(o=this.BMI)==null?void 0:o.index)!=null?r:""),t.value=(c=(l=this.BMI)==null?void 0:l.result)!=null?c:""},async heightAlert(){this.ANCVitals[0].alerts.find(t=>t.value==="Below critical height threshold")?this.ANCVitals[0].alerts=this.ANCVitals[0].alerts.filter(t=>t.value!=="Below critical height threshold"):this.ANCVitals[0].alerts.push({backgroundColor:"#FFD700",textColor:"#b42318",value:"Below critical height threshold"})},async updateBP(e,t){var o,r,l,c,h,m;const a=(r=(o=this.ANCVitals[2])==null?void 0:o.alerts[0])!=null?r:[],s=(c=(l=this.BPStatus)==null?void 0:l.colors)!=null?c:[];a.icon=bn(s),a.backgroundColor=s[0],a.textColor=s[1],a.index=e+"/"+t,a.value=(m=(h=this.BPStatus)==null?void 0:h.value)!=null?m:"",console.log(a)},async updateTemperateRate(e,t,a,s){var l,c,h,m,f,y;const o=(c=(l=this.ANCVitals[s])==null?void 0:l.alerts)==null?void 0:c.filter(D=>D.name!==e);this.ANCVitals[s].alerts=o;const r=(h=a==null?void 0:a.colors)!=null?h:[];(f=this.ANCVitals[s])==null||f.alerts.push({backgroundColor:r[0],status:"",icon:"",textColor:r[1],value:(m=a==null?void 0:a.value)!=null?m:"",name:e,index:t}),console.log((y=this.ANCVitals[4])==null?void 0:y.alerts)},getBloodPressureStatus(e,t){if(e&&t){let a,s,o,r;const c=new Me().getAge();return c<1?(a=75,s=100,o=50,r=70):c>=1&&c<6?(a=80,s=110,o=50,r=80):c>=6&&c<13?(a=85,s=120,o=55,r=80):c>=13&&c<18?(a=95,s=140,o=60,r=90):(a=100,s=130,o=60,r=90),e<a&&t<o?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP "}:e>=a&&e<=s&&t>=o&&t<=r?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP "}:e>140&&t>90?{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP"}:e<a?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP  (Using Systolic Only)"}:e>=a&&e<=s?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP  (Using Systolic Only)"}:{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP  (Using Systolic Only)"}}},getTemperatureStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=1||o>=1&&o<=18||o>=19&&o<=64||o>=65?(t=35.5,a=37.4):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Temperature "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Temperature "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Temperature "}}},getPulseRateStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=.08?(t=70,a=190):o>=.08&&o<1?(t=80,a=160):o>=1&&o<=2?(t=80,a=130):o>=3&&o<=4?(t=80,a=120):o>=5&&o<=6?(t=75,a=115):o>=7&&o<=9?(t=70,a=110):o>=10?(t=60,a=100):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Pulse Rate "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Pulse Rate "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Pulse Rate "}}},getOxygenSaturationStatus(e){if(e){let t=95,a=100;if(e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low oxygen saturation"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal oxygen saturation"}}},getRespiratoryRateStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=1?(t=30,a=60):o>=1&&o<3?(t=24,a=40):o>=3&&o<=6?(t=22,a=34):o>=6&&o<=12?(t=18,a=30):o>=12&&o<=18?(t=12,a=16):o>=19?(t=12,a=20):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low respiratory rate"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal respiratory rate"};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High respiratory rate"}}}}}),Vv={class:"container"};function Ov(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Vv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ANCVitals,"onUpdate:inputValue":t[0]||(t[0]=m=>e.validaterowData(m)),initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Tv=T(Ev,[["render",Ov],["__scopeId","data-v-7b5ab1eb"]]),Fv=B({name:"Persistent Behaviour",components:{IonItem:O,IonList:x,BasicInputField:ee,BasicForm:G},data(){return{currentSection:0,vValidations:"",hasValidationErrors:[],initialData:[]}},computed:{...w(Os,["ancInfo"])},mounted(){const e=Os();this.initialData=e.getInitialANCend(),this.handleOther(),this.handledeath(),this.handleDeathDate(),this.handleRecordNotViewed()},watch:{ancInfo:{handler(){this.handleOther(),this.handledeath(),this.handleDeathDate(),this.handleRecordNotViewed()},deep:!0}},methods:{async handleInputData(e){Qe(this.ancInfo,_l,e.name,e.value)},handleOther(){N(this.ancInfo,"ANC pregnancy outcome")=="Other outcome"?u(this.ancInfo,"Pregnancy outcome notes","displayNone",!1):u(this.ancInfo,"Pregnancy outcome notes","displayNone",!0)},handledeath(){N(this.ancInfo,"ANC pregnancy outcome")=="Death"?u(this.ancInfo,"Date of death","displayNone",!1):u(this.ancInfo,"Date of death","displayNone",!0)},handleDeathDate(){N(this.ancInfo,"ANC pregnancy outcome")=="Death"?u(this.ancInfo,"Cause of death","displayNone",!1):u(this.ancInfo,"Cause of death","displayNone",!0)},handleRecordNotViewed(){N(this.ancInfo,"ANC pregnancy outcome")=="Death"?I(this.ancInfo,"Client record will no longer be  viewed","displayNone",!1):I(this.ancInfo,"Client record will no longer be  viewed","displayNone",!0)}}}),Hv={class:"container"};function Rv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Hv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ancInfo,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Lv=T(Fv,[["render",Rv],["__scopeId","data-v-b10cfe1d"]]),xv=qe("ImmunizationStore",{state:()=>({birthImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"birth immunization"},data:[{name:"OPV 0",value:"OPV 0",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"birth immunization"},data:[{name:"BCG",value:"BCG",checked:!1}]}}],sixWeeksImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"OPV 1",value:"OPV 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"Pentavalent 1",value:"Pentavalent 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"PCV 1",value:"PCV 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"Rota 1",value:"Rota 1",checked:!1}]}}],tenWeeksImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"OPV 2",value:"OPV 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"Pentavalent 2",value:"Pentavalent 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"PCV 2",value:"PCV 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"Rota 2",value:"Rota 2",checked:!1}]}}],fourteenWeeksImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"OPV 3",value:"OPV 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"Pentavalent 3",value:"Pentavalent 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"PCV 3",value:"PCV 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"IPV",value:"IPV",checked:!1}]}}],fiveToTwentyTwoImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"5 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 1",value:"Malaria Vaccine 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 2",value:"Malaria Vaccine 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"7 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 3",value:"Malaria Vaccine 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"9 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"MR 1",value:"MR 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"9 months â€“ under 15 years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"TCV",value:"TCV",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"15 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"MR 2",value:"MR 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"22 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 4",value:"Malaria Vaccine 4",checked:!1}]}}],oneYearToFiveYearsImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1 Year",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1 Year 6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2 Years 6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"3 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"3 Year 6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"4 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"4 Years 6 Month",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"5 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}}],nineToFourteenYearsImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1st Dose",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"HPV1",value:"HPV1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2nd dose after 6 months",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"HPV2",value:"HPV2",checked:!1}]}}],twelveYearsAboveImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{selectedValue:"",name:"moreThan5"},data:[{name:"Pfizer",value:"Pfizer",checked:!1}]}}],fifteenYearsImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1st Dose",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2nd after 4 weeks",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"3rd after 6 months",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"4th after 5 years",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}}],eighteenYearsAboveImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{selectedValue:"",name:"moreThan5"},data:[{name:"AstraZeneca",value:"AstraZeneca",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{selectedValue:"",name:"moreThan5"},data:[{name:"Janssen (Johnson & Johnson)",value:"Janssen (Johnson & Johnson)",checked:!1}]}}]}),actions:{setDiagnosis(e){this.birthImmunization=e}},persist:!0}),Uv=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Ot,SelectionPopover:Vt,BasicInputField:ee,BasicForm:G,List:Ct,DynamicButton:Be,labOrderResults:Ga,LevelOfConsciousness:so,PhysicalExamination:io,PregnancyBreastfeeding:oo,PresentingComplaints:ps},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(vt,["investigations"]),...w(Ne,["patient"]),...w(xv,["birthImmunization","sixWeeksImmunization","tenWeeksImmunization","fourteenWeeksImmunization","fiveToTwentyTwoImmunization","nineToFourteenYearsImmunization","twelveYearsAboveImmunization","fifteenYearsImmunization","eighteenYearsAboveImmunization","oneYearToFiveYearsImmunization"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0}},async mounted(){this.updateInvestigationsStores(),this.setDashedBox(),this.orders=await Ge.getOrders(this.patient.patientID),this.labOrders=await Ge.getTestTypes()},methods:{checkPatient(){return new Me().isChildBearing()},updateInvestigationsStores(){vt().setInvestigations(this.investigations)},displayInputFields(){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validateRowData(){var l,c;const e=this.investigations[0].data.rowData[0].colData[0],t=this.investigations[0].data.rowData[0].colData[1];e.alertsErrorMassage=!1,e.alertsErrorMassage="",t.alertsErrorMassage=!1,t.alertsErrorMassage="",t.disabled=!1;const a=this.inputFields[0].value,s=this.inputFields[1].value;this.test=await this.filterTest(a),this.filteredSpecimen=await this.filterSpecimen(s);const o=a&&((l=this.test[0])==null?void 0:l.name)===a,r=s&&((c=this.filteredSpecimen[0])==null?void 0:c.name)===s;return a?o?(this.specimen=await Ge.getSpecimens(e.value),this.specimen.length==1&&(t.value=this.specimen[0].name,t.disabled=!0),t.popOverData.data=this.specimen):(t.value="",this.search_item=!0,e.alertsErrorMassage=!0,e.alertsErrorMassage="Please select test from the list"):t.value="",s&&!r&&!t.disabled&&(t.alertsErrorMassage=!0,t.alertsErrorMassage="Please select specimen from the list"),o&&(r||t.disabled)},async addNewRow(){await this.validateRowData()&&(this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.investigations[0].data.rowData[0].colData[0].popOverData.data=[]},async saveTest(){await new us().postActivities(this.patient.patientID,[{concept_id:this.test[0].concept_id,name:this.inputFields[0].value,specimen:this.inputFields[1].value,reason:"Routine",specimenConcept:await Ye.getConceptID(this.inputFields[1].value)}]),this.orders=await Ge.getOrders(this.patient.patientID)},buildResults(){this.inputFields[1].value.charAt(0),parseInt(this.inputFields[1].value.substring(1))},async handleInputData(e){e.inputHeader=="Test"&&(this.popoverOpen=!0,this.testData=await this.filterTest(e.value),this.investigations[0].data.rowData[0].colData[0].popOverData.data=this.testData),this.validateRowData()},async filterTest(e){return await this.labOrders.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))},async filterSpecimen(e){var t;return(t=this.specimen[0])!=null&&t.name&&e?await this.specimen.filter(a=>a==null?void 0:a.name.toLowerCase().includes(e.toLowerCase())):[]},setTest(e){this.selectedText=e.name,this.inputFields[0].inputHeader=="Test"?this.investigations[0].data.rowData[0].colData[0].value=e.name:this.investigations[0].data.rowData[0].colData[1].value=e.name,this.updateInvestigationsStores()},async openDeletePopover(e){await jt("Do you want to delete ".concat(e[1]," ?"),e[0])&&this.deleteTest(e[1])},deleteTest(e){this.investigations[0].selectedData=this.investigations[0].selectedData.filter(t=>t.display[0]!==e),this.updateInvestigationsStores()},editTest(e){this.deleteTest(e[0]),this.selectedText=e[0],this.investigations[0].data.rowData[0].colData[0].value=e[0],this.investigations[0].data.rowData[0].colData[1].value=e[1],this.addItemButton=!1,this.search_item=!0,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[0].value||this.inputFields[1].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),zv={class:"ion-padding",slot:"content"},qv={class:"ion-padding",slot:"content"},Wv={class:"ion-padding",slot:"content"},Gv={class:"ion-padding",slot:"content"},jv={class:"ion-padding",slot:"content"},Yv={class:"ion-padding",slot:"content"},Jv={class:"ion-padding",slot:"content"},Kv={class:"ion-padding",slot:"content"},Qv={class:"ion-padding",slot:"content"},Xv={class:"ion-padding",slot:"content"};function Zv(e,t,a,s,o,r){const l=d("ion-label"),c=d("DynamicButton"),h=d("ion-item"),m=d("basic-form"),f=d("ion-accordion"),y=d("ion-accordion-group"),D=d("ion-row");return p(),A(D,null,{default:i(()=>[n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Birth")])),_:1,__:[0]}),t[1]||(t[1]=_("div",{class:"due_date"},"2023-04-13",-1)),_("div",null,[n(c,{color:"danger",name:"Overdue",size:"small"})])]),_:1,__:[1]}),_("div",zv,[n(m,{contentData:e.birthImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("6 Weeks")])),_:1,__:[2]})]),_:1}),_("div",qv,[n(m,{contentData:e.sixWeeksImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[S("10 Weeks")])),_:1,__:[3]})]),_:1}),_("div",Wv,[n(m,{contentData:e.tenWeeksImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[4]||(t[4]=[S("14 Weeks")])),_:1,__:[4]})]),_:1}),_("div",Gv,[n(m,{contentData:e.fourteenWeeksImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[5]||(t[5]=[S("5 - 22 Months")])),_:1,__:[5]})]),_:1}),_("div",jv,[n(m,{contentData:e.fiveToTwentyTwoImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[6]||(t[6]=[S(" 1 Year - 5 Years")])),_:1,__:[6]})]),_:1}),_("div",Yv,[n(m,{contentData:e.oneYearToFiveYearsImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[7]||(t[7]=[S("9 - 14 Years For Girls")])),_:1,__:[7]})]),_:1}),_("div",Jv,[n(m,{contentData:e.nineToFourteenYearsImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[8]||(t[8]=[S("12 Years Above")])),_:1,__:[8]})]),_:1}),_("div",Kv,[n(m,{contentData:e.twelveYearsAboveImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[9]||(t[9]=[S("15 Years (for pregnant women and women of childbearing age up to 45 years )")])),_:1,__:[9]})]),_:1}),_("div",Qv,[n(m,{contentData:e.fifteenYearsImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[10]||(t[10]=[S("18 Years Above")])),_:1,__:[10]})]),_:1}),_("div",Xv,[n(m,{contentData:e.eighteenYearsAboveImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512)]),_:1})}const eg=T(Uv,[["render",Zv],["__scopeId","data-v-89e4457d"]]),tg=B({name:"xxxComponent"}),ag=B({...tg,emits:["dataSaved"],setup(e,{emit:t}){const a=b(),s=b("gurdian phone number");b(!0),b(!0);const o=b(!0),r=b(),l=b();dt(async()=>{Xe()});const c=[{placeHolder:{default:"Enter time of death if known"},property_name:"timeOfDeath",dataHandler:M,dataValue:b(),show_error:b(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time arrived"},property_name:"timeArrived",dataHandler:L,dataValue:b(),show_error:b(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time confirming death"},property_name:"timeOfDeathConfirmation",dataHandler:K,dataValue:b(),show_error:b(!1),error_message:"Time required",skip_validation:!1}],h=[{placeHolder:{default:"Enter date of death"},property_name:"dateOfDeath",dataHandler:X,dataValue:b(),show_error:b(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date arrived"},property_name:"dateArrived",dataHandler:ue,dataValue:b(),show_error:b(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date confirming death"},property_name:"dateOfDeathConfirmation",dataHandler:ie,dataValue:b(),show_error:b(!1),error_message:"Date required",type:"date",skip_validation:!1}],m=[{lblTxt:"Was the individual pregnant at the time of death?",value:b(!1),disable_checkbox:b(!0)}],f=[{placeHolder:"Enter place of death",property_name:"placeOfDeath",dataHandler:Q,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of guardian",property_name:"nameOfGuardian",dataHandler:de,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of person confirming death",property_name:"nameOfPersonConfirmindDeath",dataHandler:Ae,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter position of the person confirming death",property_name:"positionOfthePersonConfirmingDeath",dataHandler:gt,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter medical council registration number of the person confirming death",property_name:"medicalConcilRegistrationNumberOfThePersonConfirmingDeath",dataHandler:yt,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters and numbers are allowed",type:"alphanumeric",skip_validation:!1},{placeHolder:"Other (specify)",property_name:"otherNotes",dataHandler:Ce,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",dissabled:o.value,type:"text",skip_validation:!0}],y=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:Rt},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:E}],D=b([{id:1,name:"Natural",selected:!1},{id:2,name:"Accident",selected:!1},{id:3,name:"Homicide",selected:!1},{id:4,name:"Suicide",selected:!1},{id:5,name:"Pending investigation",selected:!1},{id:6,name:"Could not be determined",selected:!1},{id:7,name:"Other - specify",selected:!1}]),C=b([{id:1,name:"Motor vehicle (passenger)",selected:!1},{id:2,name:"Motor vehicle (pedestrian)",selected:!1},{id:3,name:"Drowning",selected:!1},{id:4,name:"Other - specify",selected:!1}]),V=[{multi_Selection:!1,manner_of_death_Selection_value:b(),show_list_label:!0,unqueId:"qwerty",name_of_list:"Manner of death ",property_name:"mannerOfDeath",placeHolder:"Choose one",items:D.value,listUpdatedFN:Z,listFilteredFN:()=>{},use_internal_filter:!0,disabled:b(!1),show_error:b(!1),error_message:"selection required"},{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty1hjkn",name_of_list:"How did it occur?",property_name:"howDiditOccur",placeHolder:"Choose one",items:C.value,listUpdatedFN:ke,listFilteredFN:()=>{},use_internal_filter:!0,disabled:b(!0),show_error:b(!1),error_message:"selection required"}];function E(){H()}const U=t;function H(ye={dataSaved:!0}){U("dataSaved",ye)}function M(ye){c[0].dataValue.value=ye}function L(ye){c[1].dataValue.value=ye}function K(ye){c[2].dataValue.value=ye}function X(ye){const we={day:ye.value.day,month:ye.value.month,year:ye.value.year,formattedDate:ye.value.formattedDate};h[0].dataValue.value=we}function ue(ye){const we={day:ye.value.day,month:ye.value.month,year:ye.value.year,formattedDate:ye.value.formattedDate};h[1].dataValue.value=we,console.log(h[2].dataValue.value)}function ie(ye){const we={day:ye.value.day,month:ye.value.month,year:ye.value.year,formattedDate:ye.value.formattedDate};h[2].dataValue.value=we,console.log(h[2].dataValue.value)}function Q(ye){const we=ye.target.value;f[0].dataValue.value=we}function de(ye){const we=ye.target.value;f[1].dataValue.value=we}function Ae(ye){const we=ye.target.value;f[2].dataValue.value=we}function gt(ye){const we=ye.target.value;f[3].dataValue.value=we}function yt(ye){const we=ye.target.value;f[4].dataValue.value=we}function Ce(ye){const we=ye.target.value;f[5].dataValue.value=we}function Z(ye){D.value.forEach(Ee=>Ee.selected=!1);const we=D.value.find(Ee=>Ee.id==ye.id);V[1].disabled.value=ye.name!="Accident",we.selected=!0}function ke(ye){console.log("listUpdated",ye),C.value.forEach(Ee=>Ee.selected=!1);const we=C.value.find(Ee=>Ee.id==ye.id);we.selected=!0}function Xe(){const we=new Me().isChildBearing;we==!0&&(m[0].disable_checkbox.value=!1),we==!1&&(m[0].disable_checkbox.value=!0)}function Rt(){xn(f),xn(h),xn(c),oa();const ye=$e.merge(Un(f),Un(h),Un(c),Pt(V[0]),Pt(V[1]));console.log(ye)}function oa(){const ye=D.value.filter(we=>we.selected);if(ye.length==0)V[0].show_error.value=!0;else if(V[0].show_error.value=!1,ye[0].name=="Accident"){const we=C.value.filter(Ee=>Ee.selected);V[1].show_error.value=we.length==0}}function Pt(ye){const we=[];let Ee={};return ye.items.forEach(ot=>{ot.selected==!0&&we.push({property_name:ye.property_name,name:ot.name})}),we.length>0&&(Ee[we[0].property_name]=we[0].name),Ee}return(ye,we)=>{const Ee=d("ion-label");return p(),v(te,null,[n(g(Re),{class:"checkbox_content md"},{default:i(()=>[n(g(ge),null,{default:i(()=>[n(ee,{placeholder:f[0].placeHolder,icon:g(To),inputValue:f[0].dataValue.value,"onUpdate:inputValue":f[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[0].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(f[0].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ge),null,{default:i(()=>[n(Ra,{place_holder:h[0].placeHolder,onDateUpDated:h[0].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),_("div",null,[h[0].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(h[0].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(Ta,{place_holder:c[0].placeHolder,onTimeUpDated:c[0].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),_("div",null,[c[0].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(c[0].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ge))]),_:1}),n(g(Re),{class:"checkbox_content md"},{default:i(()=>[n(g(ge),null,{default:i(()=>[n(ee,{placeholder:f[1].placeHolder,icon:g(vs),inputValue:f[1].dataValue.value,"onUpdate:inputValue":f[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[1].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(f[1].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ge),null,{default:i(()=>[n(g(_n),{value:m[0].value,alignment:"start",class:"ion-lblCls",disabled:m[0].disable_checkbox.value},{default:i(()=>[S(k(m[0].lblTxt),1)]),_:1},8,["value","disabled"])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(ee,{placeholder:s.value,icon:g(Fo),inputValue:a.value},null,8,["placeholder","icon","inputValue"])]),_:1}),n(g(ge))]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(Ra,{place_holder:h[1].placeHolder,onDateUpDated:h[1].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),_("div",null,[h[1].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(h[1].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ge),null,{default:i(()=>[n(Ta,{place_holder:c[1].placeHolder,onTimeUpDated:c[1].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),_("div",null,[c[1].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(c[1].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(g(ea),{modelValue:r.value,"onUpdate:modelValue":[we[0]||(we[0]=ot=>r.value=ot),we[1]||(we[1]=ot=>Z(ot))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Manner of death",placeholder:"Manner of death",selectLabel:"",label:"name",searchable:!0,"track-by":"id",options:D.value},null,8,["modelValue","options"]),_("div",null,[V[0].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(V[0].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ge),null,{default:i(()=>[n(g(ea),{modelValue:l.value,"onUpdate:modelValue":[we[2]||(we[2]=ot=>l.value=ot),we[3]||(we[3]=ot=>ke(ot))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"How did it occur?",placeholder:"How did it occur?",selectLabel:"",label:"name",disabled:V[1].disabled.value,searchable:!0,"track-by":"id",options:C.value},null,8,["modelValue","disabled","options"]),_("div",null,[V[1].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(V[1].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(ee,{placeholder:f[5].placeHolder,icon:g(cn),inputValue:f[5].dataValue.value,disabled:o.value,"onUpdate:inputValue":f[5].dataHandler},null,8,["placeholder","icon","inputValue","disabled","onUpdate:inputValue"]),_("div",null,[f[5].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(f[5].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(Ta,{place_holder:c[2].placeHolder,onTimeUpDated:c[2].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),_("div",null,[c[2].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(c[2].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ge),null,{default:i(()=>[n(ee,{placeholder:f[2].placeHolder,icon:g(vs),inputValue:f[2].dataValue.value,"onUpdate:inputValue":f[2].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[2].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(f[2].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(ee,{placeholder:f[3].placeHolder,icon:g(Oi),inputValue:f[3].dataValue.value,"onUpdate:inputValue":f[3].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[3].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(f[3].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ge),null,{default:i(()=>[n(ee,{placeholder:f[4].placeHolder,icon:g(cn),inputValue:f[4].dataValue.value,"onUpdate:inputValue":f[4].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[4].show_error.value?(p(),A(Ee,{key:0,class:"error-label"},{default:i(()=>[S(k(f[4].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),(p(),A(g(Re),{key:0,class:"spc_btwn"},{default:i(()=>[y[0].addItemButton?(p(),A(Be,{key:0,name:y[0].name,fill:y[0].btnFill,icon:g(Ia),"onClicked:btn":y[0].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0),y[1].addItemButton?(p(),A(Be,{key:1,name:y[1].name,fill:y[1].btnFill,icon:g(sa),"onClicked:btn":y[1].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0)]),_:1}))],64)}}}),ng=T(ag,[["__scopeId","data-v-7589a3cd"]]),sg={class:"dash_box"},ig={key:1},og=B({name:"xxxComponent"}),lg=B({...og,setup(e){const t=b("No outcome created yet"),a=b(!1),s=b("please select a type");b("Add new outcome"),b(!0);const o=b(!0),r=b(""),l=b(!0),c=b(!1),h=Ua(),m=Ue(()=>h.outcomes),f=b(!1),y=b(!1),D=b(!1),C=b(!1),V=b(!1);b(null),b(null);const E=b([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1},{name:"Death",selected:!1}]),U=[{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty2",name_of_list:"Add new outcome",placeHolder:"Choose one",items:E.value,listUpdatedFN:H,listFilteredFN:()=>{},use_internal_filter:!0,disabled:b(!1)}];function H(Q){E.value=Q,E.value.forEach(de=>{de.selected==!0&&(r.value=de.name)})}dt(async()=>{L()}),Ke(()=>r.value,async Q=>{f.value==!0?f.value=!1:ue()}),Ke(()=>m.value.length,async Q=>{L()});function M(){E.value.forEach(Q=>{Q.selected=!1}),r.value=""}function L(){m.value.length>0?l.value=!1:m.value.length==0&&c.value==!1&&(l.value=!0)}function K(Q){m.value.splice(Q,1)}const X=Q=>{};async function ue(Q=!0){const de=r.value;console.log(de),r.value=de;const Ae=r.value;Ae==E.value[0].name?D.value=!0:D.value=!1,Ae==E.value[1].name?(C.value=!0,console.log("show_discharged_options is set to true")):C.value=!1,Ae==E.value[2].name?(V.value=!0,console.log("show_discharged_options is set to true")):V.value=!1,Ae==E.value[3].name?y.value=!0:y.value=!1}function ie(){y.value=!1,D.value=!1,C.value=!1,V.value=!1,M()}return(Q,de)=>{const Ae=d("ion-row");return p(),A(g(x),null,{default:i(()=>[n(Ae,null,{default:i(()=>[n(g(ge),null,{default:i(()=>[(p(),A(ro,{key:0,"onUpdate:removeItem":K,"onUpdate:editItem":X,displayData:m.value},null,8,["displayData"]))]),_:1})]),_:1}),l.value?(p(),A(Ae,{key:0},{default:i(()=>[_("span",sg,k(t.value),1)]),_:1})):$("",!0),o.value?(p(),v("div",ig,[n(Ae,null,{default:i(()=>[n(g(ge),null,{default:i(()=>[n(Fi,{multiSelection:U[0].multi_Selection,show_label:U[0].show_list_label,uniqueId:U[0].unqueId,name_of_list:U[0].name_of_list,choose_place_holder:U[0].placeHolder,"items_-list":U[0].items,use_internal_filter:U[0].use_internal_filter,disabled:U[0].disabled.value,onItemListUpDated:U[0].listUpdatedFN,onItemListFiltered:U[0].listFilteredFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered"]),_("div",null,[a.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(s.value),1)]),_:1})):$("",!0)])]),_:1})]),_:1})])):$("",!0),D.value?(p(),A(co,{key:2,onDataSaved:ie,selected_ward_prop:"",admitted_other_props:""})):$("",!0),C.value?(p(),A(uo,{key:3,onDataSaved:ie,selected_referral_data:"",selected_other_referral_data:""})):$("",!0),V.value?(p(),A(ho,{key:4,onDataSaved:ie,selected_discharged_prop:"",selected_discharged_data:""})):$("",!0),y.value?(p(),A(ng,{key:5,onDataSaved:ie})):$("",!0)]),_:1})}}}),rg=T(lg,[["__scopeId","data-v-a93c247b"]]),dg=B({name:"History",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{initialData:[],iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(Ts,["headssAssesment"])},mounted(){this.handleHeadAssessment();const e=Ts();this.initialData=e.getInitial()},watch:{headssAssesment:{handler(){this.handleHeadAssessment()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleHeadAssessment(){N(this.headssAssesment,"Who does does the client live with")=="other"?u(this.headssAssesment,"Other","displayNone",!1):u(this.headssAssesment,"Other","displayNone",!0)}}}),cg={class:"container"};function ug(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",cg,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.headssAssesment},null,8,["contentData"])]),_:1})]),_:1})])}const hg=T(dg,[["render",ug],["__scopeId","data-v-ba4e5256"]]),pg=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Ot,SelectionPopover:Vt,BasicInputField:ee,List:Ct,BasicForm:G,DynamicButton:Be,previousDiagnosis:Gi},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],diagnosisData:[],popoverOpen:!1,event:"",selectedCondition:""}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(Gn,["diagnosis"]),inputFields(){return this.diagnosis[0].data.rowData[0].colData}},watch:{diagnosis:{handler(){this.setDashedBox()},deep:!0}},mounted(){this.updateDiagnosisStores(),this.setDashedBox()},methods:{displayInputFields(){this.conditionStatus="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validaterowData(){var e;return this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage=!1,this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage="",this.diagnosisData=await this.getDiagnosis(this.inputFields[0].value),this.inputFields[0].value==((e=this.diagnosisData[0])==null?void 0:e.name)?!0:(this.search_item=!0,this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage=!0,this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage="Please select diagnosis from the list",!1)},async addNewRow(){await this.validaterowData()&&(this.diagnosis[0].data.rowData[0].colData[0].value=this.inputFields[0].value,this.search_item=!1,this.display_item=!0,this.addItemButton=!0,this.buildDiagnosis()),this.diagnosis[0].data.rowData[0].colData[0].value="",this.diagnosis[0].data.rowData[0].colData[0].popOverData.data=[]},buildDiagnosis(){this.diagnosis[0].selectedData.push({actionBtn:!0,btn:["edit","delete"],name:this.inputFields[0].value,id:this.diagnosisData[0].concept_id,display:[this.inputFields[0].value],data:{concept_id:6542,value_coded:this.diagnosisData[0].concept_id,obs_datetime:Oe.getSessionDate()}})},updateDiagnosisStores(){Gn().setDiagnosis(this.diagnosis)},openPopover(e){this.event=e,this.popoverOpen=!0},async handleInputData(e){e.inputHeader=="Diagnosis"&&(this.diagnosisData=await this.getDiagnosis(e.value),this.diagnosis[0].data.rowData[0].colData[0].popOverData.data=this.diagnosisData,this.validaterowData())},async getDiagnosis(e){return await lo.getDiagnosis(e,1,5)},editDiagnosis(e){this.deleteDiagnosis(e),this.selectedText=e.name,this.diagnosis[0].data.rowData[0].colData[0].value=e.name,this.addItemButton=!1,this.search_item=!0,this.updateDiagnosisStores()},async openDeletePopover(e){await jt("Do you want to delete ".concat(e.name," ?"),e.event)&&this.deleteDiagnosis(e.name)},deleteDiagnosis(e){this.diagnosis[0].selectedData=this.diagnosis[0].selectedData.filter(t=>t.display[0]!==e.name),this.updateDiagnosisStores()},setDashedBox(){this.inputFields[0].value&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.diagnosis[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),mg={key:0},fg={class:"ion-padding",slot:"content"};function _g(e,t,a,s,o,r){const l=d("DashBox"),c=d("list"),h=d("basic-form"),m=d("ion-row"),f=d("DynamicButton"),y=d("ion-label"),D=d("ion-item"),C=d("previousDiagnosis"),V=d("ion-accordion"),E=d("ion-accordion-group");return p(),v(te,null,[n(l,{status:e.no_item,content:"No Diagnosis added"},null,8,["status"]),e.display_item?(p(),v("span",mg,[n(c,{listData:e.diagnosis[0].selectedData,"onClicked:edit":t[0]||(t[0]=U=>e.editDiagnosis(U)),"onClicked:delete":e.deleteDiagnosis},null,8,["listData","onClicked:delete"])])):$("",!0),e.search_item?(p(),A(m,{key:1},{default:i(()=>[n(h,{contentData:e.diagnosis,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,"onClicked:button":e.addNewRow},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","onClicked:button"])]),_:1})):$("",!0),e.addItemButton?(p(),A(m,{key:2,style:{"margin-top":"10px"}},{default:i(()=>[n(f,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=U=>e.displayInputFields()),name:"Add Diagnosis"},null,8,["icon"])]),_:1})):$("",!0),n(m,null,{default:i(()=>[n(E,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(V,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(D,{slot:"header",color:"light"},{default:i(()=>[n(y,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("Previous Diagnosis")])),_:1,__:[2]})]),_:1}),_("div",fg,[n(C)])]),_:1})]),_:1},512)]),_:1})],64)}const vg=T(pg,[["render",_g],["__scopeId","data-v-230bd021"]]),gg=B({name:"diagnosisTreatment",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:ze,IonToggle:fe,IonSelectOption:_e,IonInput:ae,IonSelect:ve,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(po,["diagnoses"])},mounted(){},watch:{},methods:{}}),yg={class:"container"};function bg(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",yg,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.diagnoses},null,8,["contentData"])]),_:1})]),_:1})])}const Dg=T(gg,[["render",bg],["__scopeId","data-v-d63eb8c8"]]),Sg=B({name:"Counselling",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P}},computed:{...w(Zn,["preventativeCounselling"])},mounted(){},watch:{},setup(){return{checkmark:oe,pulseOutline:re}},methods:{}}),Cg={class:"container"};function wg(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Cg,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.preventativeCounselling},null,8,["contentData"])]),_:1})]),_:1})])}const Ig=T(Sg,[["render",wg],["__scopeId","data-v-97077fb6"]]),Pg=B({name:"Immunization",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:ze,IonToggle:fe,IonSelectOption:_e,IonInput:ae,IonSelect:ve,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(Ut,["ttDoses"]),...w(Ut,["HepB1"]),...w(Ut,["HepB2"]),...w(Ut,["HepB3"]),...w(Ut,["hepBReason"])},mounted(){this.handleB1(),this.handleB2(),this.handleB3(),this.handelHepreason()},watch:{HepB1:{handler(){this.handleB1()},deep:!0},HepB2:{handler(){this.handleB2()},deep:!0},HepB3:{handler(){this.handleB3()},deep:!0},hepBReason:{handler(){this.handelHepreason()},deep:!0}},methods:{handleB1(){N(this.HepB1,"Hepatitis B-1")=="yes"?u(this.HepB1,"hepb1 Date","displayNone",!1):u(this.HepB1,"hepb1 Date","displayNone",!0)},handleB2(){N(this.HepB2,"Hepatitis B-2")=="yes"?u(this.HepB2,"Hep B-2 Date","displayNone",!1):u(this.HepB2,"Hep B-2 Date","displayNone",!0)},handleB3(){N(this.HepB3,"Hepatitis B-3")=="yes"?u(this.HepB3,"hep3Date","displayNone",!1):u(this.HepB3,"hep3Date","displayNone",!0)},handelHepreason(){N(this.hepBReason,"Hepatitis B")=="other"?u(this.hepBReason,"Specify","displayNone",!1):u(this.hepBReason,"Specify","displayNone",!0)},goToNextSection(){this.currentSection<2&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--}}}),Ng={class:"container"};function kg(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Ng,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.ttDoses},null,8,["contentData"]),n(h,{contentData:e.HepB1},null,8,["contentData"]),n(h,{contentData:e.HepB2},null,8,["contentData"]),n(h,{contentData:e.HepB3},null,8,["contentData"]),n(h,{contentData:e.hepBReason},null,8,["contentData"])]),_:1})]),_:1})])}const Bg=T(Pg,[["render",kg],["__scopeId","data-v-20d6d5da"]]),$g=B({name:"intimatePartner",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:ze,IonToggle:fe,IonSelectOption:_e,IonInput:ae,IonSelect:ve,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{},mounted(){},watch:{ipv:{handler(){},deep:!0},referrals:{handler(){},deep:!0}},methods:{goToNextSection(){this.currentSection<5&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--}}}),Mg={class:"container"};function Ag(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("ion-card-content"),m=d("ion-card");return p(),v("div",Mg,[n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(h)]),_:1}),n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(h)]),_:1}),n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(h)]),_:1}),n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(h)]),_:1}),n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(h)]),_:1}),n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"sub_item_header"})]),_:1}),n(h)]),_:1})])}const Eg=T($g,[["render",Ag],["__scopeId","data-v-a83a3b60"]]),Vg=B({name:"Counselling",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,currentSection:0}},computed:{...w(mn,["treatment"]),...w(mn,["malaria"])},mounted(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther(),this.handleMalariaPreventive()},setup(){return{checkmark:oe,pulseOutline:re}},watch:{treatment:{handler(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther()},deep:!0},malaria:{handler(){this.handleMalariaPreventive(),this.handleOtherMalaria()},deep:!0}},methods:{handlepreventive(){N(this.treatment,"antihelminthic treatment")=="yes"?I(this.treatment,"antihelminthic treatment provided","displayNone",!1):I(this.treatment,"antihelminthic treatment provided","displayNone",!0)},handleNoPreventative(){N(this.treatment,"antihelminthic treatment")=="no"?I(this.treatment,"no preventative treatment provided","displayNone",!1):I(this.treatment,"no preventative treatment provided","displayNone",!0)},handleOther(){N(this.treatment,"no preventative treatment provided")=="other"?u(this.treatment,"Specify","displayNone",!1):u(this.treatment,"Specify","displayNone",!0)},handleMalariaPreventive(){N(this.malaria," counselling on malaria prevention")=="no"?I(this.malaria,"counselling on malaria prevention","displayNone",!1):I(this.malaria,"counselling on malaria prevention","displayNone",!0)},handleOtherMalaria(){N(this.malaria,"counselling on malaria prevention")=="other"?u(this.malaria,"other","displayNone",!1):u(this.malaria,"other","displayNone",!0)},goToPreviousSection(){this.currentSection>0&&this.currentSection--}}}),Og={class:"container"};function Tg(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Og,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.treatment},null,8,["contentData"])]),_:1})]),_:1}),n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.malaria},null,8,["contentData"])]),_:1})]),_:1})])}const Fg=T(Vg,[["render",Tg],["__scopeId","data-v-a08bbd24"]]),Hg={style:{"margin-left":"30px","margin-bottom":"14px"}},Rg={style:{"margin-top":"14px"}},Lg={class:"ion-padding",slot:"content"},xg={key:0},Ug={class:"previousSecDrgs"},zg={class:"ion-padding",slot:"content"},qg={key:0},Wg={class:"previousSecDrgs"},Gg=B({watch:{},name:"xxxComponent"}),jg=B({...Gg,setup(e){const t=P,a=xt,s=b(!1),o=b(!1),r=b(!0),l=b(!1);b(!1);let c=null;const h=b(0),m=b(""),f=b(!1),y=b(""),D=b(!1),C=b(),V=b(!1),E=b([]),U=b(""),H=b(""),M=b(""),L=b(""),K=b(""),X=b(""),ue=b(""),ie=b(!1),Q="Add  medication",de="clear",Ae=b("Show more medications"),gt=_t(),yt=xa(),Ce=Ue(()=>yt.selectedMedicalAllergiesList),Z=Ue(()=>gt.selectedMedicalDrugsList);Ue(()=>gt.nonPharmalogicalTherapyAndOtherNotes),Ue(()=>gt.selectedMedicalAllergiesList),b();const ke=["first","second","third"],Xe=b(),Rt=b(),oa=b(),Pt=b(!1);b(!1),b(!1),b("Show more notes"),b("Show more allergies");const ye=b(),we=b(),Ee=b(),ot=!1,Dn="45",Pa=b("List"),Sn=b("Please select method of prescribing medication"),Na=b([{name:"Oral"},{name:"Intravenous (IV)"},{name:"Intramuscular (IM)"},{name:"Intradermal"},{name:"Rectally"},{name:"Sublingual"},{name:"Vaginally"},{name:"Buccal"},{name:"Subcutaneous"},{name:"Intraosseous"},{name:"Other"}]),Cn=!1;function ka(De){}function ht(De){}dt(async()=>{const De=new Wa,{previousDrugPrescriptions:me,previousClinicalNotes:je,previousDrugAllergies:st}=await De.getPatientEncounters();Xe.value=me,Rt.value=Object.entries(je)[0];const[,...lt]=Object.entries(je);oa.value=lt,ye.value=Object.entries(st)[0];const[,...mt]=Object.entries(st);we.value=mt}),Ke(()=>U.value,async De=>{Tt()}),Ke(()=>H.value,async De=>{Qt()}),Ke(()=>L.value,async De=>{ja()});function pt(){r.value=!r.value,s.value=!0}async function Tt(){return await Bn()?f.value=!1:(m.value="please select a valid drug name",f.value=!0),f.value}async function Qt(){return Xa(H.value)?D.value=!1:(y.value="please enter a number",D.value=!0),D.value}async function ja(){return Xa(L.value)?V.value=!1:(C.value="please enter a number",V.value=!0),V.value}async function wn(){const De=await Tt(),me=await Qt(),je=await ja();return!De&&!me&&!je}function In(De){a.forEach(me=>{me.selected=!1}),a[De].selected=!a[De].selected,M.value=a[De].label}async function Pn(){if(!await wn()){tt("Please enter correct data values",4e3);return}Ba();const me=Oe.getSessionDate();L.value;const je=En(me,parseInt(L.value));let st=!1;Ya(Ee.value)==!0&&(st=!0);const lt={drugName:U.value,dose:H.value,frequency:M.value,duration:L.value,prescription:je,drug_id:ue.value,units:X.value,highlightbackground:st};Z.value.push(lt),U.value="",H.value="",M.value="",L.value="",K.value="",h.value++,fa()}async function Nn(De){const me=De.target.value;Ja(De);const lt=await pa.getOPDDrugs({name:me,page:1,page_size:10});lt.map(mt=>({label:mt.name,value:mt.name,other:mt})),E.value=lt}async function kn(De){let me;De.target===void 0?me=De:me=De.target.value;const lt=await pa.getOPDDrugs({name:me,page:1,page_size:10});return lt.map(mt=>({label:mt.name,value:mt.name,other:mt})),E.value=lt,lt}function Ya(De){const me=[];return Ce.value.forEach(st=>{st.selected&&me.push(st.concept_id)}),$n([De],me)==!0?(tt("Client is allergic to the selected medication",4e3),!0):!1}async function Bn(){return(await kn(U.value)).length>0?U.value.length!=0:!1}function $n(De,me){return De.some(je=>me.includes(je.concept_id))}function Ja(De){c=De,l.value=!0}function Mn(De,me){U.value=De,ue.value=me.drug_id,X.value=me.units,Ee.value=me,Ya(me)}function Ka(){ie.value=!0}function Qa(De){const me=Z.value[De];Z.value.splice(De,1),U.value=me.drugName,H.value=me.dose,M.value=me.frequency,L.value=me.duration,K.value=me.prescription,r.value=!r,h.value++,fa()}function An(De){Z.value.splice(De,1),h.value++,fa()}function fa(){_t().setSelectedMedicalDrugsList(Z)}function Xa(De){return/^[0-9]+$/.test(De)}function En(De,me){const je=new Date(De);je.setDate(je.getDate()+me);const st=je.getFullYear(),lt=String(je.getMonth()+1).padStart(2,"0"),mt=String(je.getDate()).padStart(2,"0");return"".concat(st,"-").concat(lt,"-").concat(mt)}function Ba(){s.value=!1,o.value=!0,r.value=!0}function Vn(De){}function On(De){ke.filter(je=>je!==De.detail.value);const me=De.detail.value;me!==void 0?me=="second"&&(Ae.value="Show less medications",Pt.value=!Pt.value):(Ae.value="Show more medications",Pt.value=!Pt.value)}return(De,me)=>{const je=d("ion-row"),st=d("ion-icon"),lt=d("ion-popover"),mt=d("ListPicker");return p(),A(g(x),null,{default:i(()=>[n(g(J),null,{default:i(()=>me[7]||(me[7]=[S("Diagnosis")])),_:1,__:[7]}),n(je,null,{default:i(()=>[n(g(O),{lines:"none",class:"medicalAl"},{default:i(()=>[n(je,null,{default:i(()=>[(p(!0),v(te,null,pe(Ce.value,(xe,ft)=>(p(),v("div",{key:ft},[xe.selected?(p(),A(g(it),{key:0,class:"medicalAlBtn"},{default:i(()=>[S(k(xe.name),1)]),_:2},1024)):$("",!0)]))),128))]),_:1})]),_:1})]),_:1}),n(g(O),{lines:"none"},{default:i(()=>[n(g(J),null,{default:i(()=>me[8]||(me[8]=[S("List of medications")])),_:1,__:[8]})]),_:1}),_("div",Hg,[(p(),A(Oa,{_selectedMedicalDrugsList:Z.value,onEditItem:Qa,onRemoveItem:An,key:h.value},null,8,["_selectedMedicalDrugsList"])),r.value?$("",!0):(p(),A(je,{key:0,style:{"margin-bottom":"20px"}},{default:i(()=>[n(g(ge),null,{default:i(()=>[n(g(O),{class:"input_item"},{default:i(()=>[n(g(ae),{modelValue:U.value,"onUpdate:modelValue":me[0]||(me[0]=xe=>U.value=xe),onIonInput:Nn,fill:"outline"},null,8,["modelValue"]),n(g(J),null,{default:i(()=>[n(st,{slot:"start",icon:g(t).search,class:"selectedPatient","aria-hidden":"true"},null,8,["icon"])]),_:1})]),_:1}),_("div",null,[f.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(m.value),1)]),_:1})):$("",!0)]),f.value?$("",!0):(p(),A(lt,{key:0,"is-open":l.value,event:g(c),onDidDismiss:me[1]||(me[1]=xe=>l.value=!1),"keyboard-close":!1,"show-backdrop":!1,"dismiss-on-select":!0,style:{top:"10px",left:"-25px"}},{default:i(()=>[n(g(z),{color:"light",class:"ion-padding content-al"},{default:i(()=>[n(g(x),{class:"list-al"},{default:i(()=>[(p(!0),v(te,null,pe(E.value,(xe,ft)=>(p(),v("div",{class:"item-al",key:ft},[n(g(ge),{onClick:Tn=>Mn(xe.name,xe)},{default:i(()=>[S(k(xe.name),1)]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["is-open","event"]))]),_:1}),n(g(ge),null,{default:i(()=>[n(mt,{style:{"margin-top":"-2%"},multiSelection:ot,uniqueId:Dn,name_of_list:Pa.value,choose_place_holder:Sn.value,use_internal_filter:!0,"items_-list":Na.value,show_label:Cn,disabled:!1,onItemListUpDated:ka,onItemListFiltered:ht},null,8,["name_of_list","choose_place_holder","items_-list"])]),_:1}),n(g(ge),null,{default:i(()=>[n(g(O),{class:"input_item"},{default:i(()=>[n(g(ae),{placeholder:"Dose",modelValue:H.value,"onUpdate:modelValue":me[2]||(me[2]=xe=>H.value=xe),fill:"outline"},null,8,["modelValue"]),n(g(J),null,{default:i(()=>me[9]||(me[9]=[_("span",{class:"selectedPatient"},null,-1)])),_:1,__:[9]})]),_:1}),_("div",null,[D.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(y.value),1)]),_:1})):$("",!0)])]),_:1}),n(g(ge),null,{default:i(()=>[n(g(O),{class:"input_item"},{default:i(()=>[_("span",{class:"spcls",id:"chooseType",onClick:Ka},[n(g(ae),{placeholder:"Frequency",modelValue:M.value,"onUpdate:modelValue":me[3]||(me[3]=xe=>M.value=xe)},null,8,["modelValue"]),ie.value?$("",!0):(p(),A(st,{key:0,icon:g(is)},null,8,["icon"])),ie.value?(p(),A(st,{key:1,icon:g(os)},null,8,["icon"])):$("",!0)]),n(lt,{class:"popover-al","show-backdrop":!1,trigger:"chooseType","trigger-action":"click",onDidDismiss:me[4]||(me[4]=xe=>ie.value=!1)},{default:i(()=>[n(g(z),{color:"light",class:"ion-padding content-al"},{default:i(()=>[n(g(J),null,{default:i(()=>me[10]||(me[10]=[S("Choose the type:")])),_:1,__:[10]}),n(g(x),{class:"list-al"},{default:i(()=>[(p(!0),v(te,null,pe(g(a),(xe,ft)=>(p(),v("div",{class:"item-al",key:ft},[n(g(J),{onClick:Tn=>In(ft),style:{display:"flex","justify-content":"space-between"}},{default:i(()=>[S(k(xe.label)+" ",1),xe.selected?(p(),A(st,{key:0,class:"icon-al",icon:g(Ho)},null,8,["icon"])):$("",!0)]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(g(ge),null,{default:i(()=>[n(g(O),{class:"input_item"},{default:i(()=>[n(g(ae),{placeholder:"Duration",modelValue:L.value,"onUpdate:modelValue":me[5]||(me[5]=xe=>L.value=xe),fill:"outline"},null,8,["modelValue"]),n(g(J),null,{default:i(()=>me[11]||(me[11]=[_("span",{class:"selectedPatient"},null,-1)])),_:1,__:[11]})]),_:1}),_("div",null,[V.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(C.value),1)]),_:1})):$("",!0)])]),_:1}),n(g(ge),{class:"action_buttons"},{default:i(()=>[_("span",{onClick:me[6]||(me[6]=xe=>Pn())},"+ Save")]),_:1})]),_:1})),r.value?(p(),A(Be,{key:1,name:Q,fill:de,icon:g(Ia),"onClicked:btn":pt},null,8,["icon"])):$("",!0),_("div",Rg,[n(g(Mt),{ref:"accordionGroup",class:"previousView",onIonChange:Vn},{default:i(()=>[n(g(At),{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(O),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"previousLabel"},{default:i(()=>me[12]||(me[12]=[S("View previous medications")])),_:1,__:[12]})]),_:1}),_("div",Lg,[(p(!0),v(te,null,pe(Xe.value,(xe,ft)=>(p(),v("div",{class:"ionLbltp",key:ft},[ft==0?(p(),v("div",xg,[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(xe.prescriptionDate),1)]),_:2},1024)]),_("div",Ug,[(p(),A(Oa,{_selectedMedicalDrugsList:xe.previousPrescriptions,show_actions_buttons:!1,key:h.value},null,8,["_selectedMedicalDrugsList"]))])])):$("",!0)]))),128)),n(g(Mt),{onIonChange:On},{default:i(()=>[n(g(At),{value:"second","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(O),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"",color:"primary"},{default:i(()=>[S(k(Ae.value),1)]),_:1})]),_:1}),_("div",zg,[(p(!0),v(te,null,pe(Xe.value,(xe,ft)=>(p(),v("div",{class:"ionLbltp",key:ft},[Pt.value&&ft>0?(p(),v("div",qg,[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(xe.prescriptionDate),1)]),_:2},1024)]),_("div",Wg,[(p(),A(Oa,{_selectedMedicalDrugsList:xe.previousPrescriptions,show_actions_buttons:!1,key:h.value},null,8,["_selectedMedicalDrugsList"]))])])):$("",!0)]))),128))])]),_:1})]),_:1})])]),_:1})]),_:1},512)])])]),_:1})}}}),Yg=T(jg,[["__scopeId","data-v-9c537322"]]),li=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"What is the discharge status of the woman?",selectedValue:"",class:"bold",name:"Discharge status of woman",displayNext:"Discharged alive"},data:[{name:"Discharged alive",value:"Discharged alive",colSize:"5"},{name:"Absconded",value:"Absconded",colSize:"5"},{name:"Referred out",value:"Referred out",colSize:"5"},{name:"Death",value:"Death",colSize:"5"}]}},{childName:"Discharge status of woman",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Other mode of delivery notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Discharge status of woman",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Postpartum family planning counselling done?",selectedValue:"",name:"Postpartum family planning counselling",class:"bold",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Discharge status of woman",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Postpartum family planning methods provided?",selectedValue:"",name:"Postpartum family planning methods provided",class:"bold",displayNone:!0,displayNext:"Yes"},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Postpartum family planning methods provided",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Select the method provided",selectedValue:"",name:"Postpartum family planning method",class:"bold",displayNone:!0},data:[{name:"IUCD",value:"IUCD",colSize:"3"},{name:"BTL",value:"BTL",colSize:"3"}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Facility for ART",icon:P.search,value:"",name:"facility for art",popOver:!0,valueType:"text",eventType:"input",required:!0,alertsErrorMassage:"",placeholder:"Search for facility",popOverData:{filterData:!1,data:[]},id:"",idName:"facility_id",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Date of Referral*",value:"",name:"Date of referral",icon:P.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Referral*",value:"",name:"Time of referral",icon:P.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Reason for Referral (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Woman's Condition on Referral",value:"",name:"condition on referral",required:!0,valueType:"text",eventType:"input",alertsErrorMassage:"",placeholder:"Describe condition on referral",style:{padding:"10px",borderBottom:"1px solid #ccc"}}]}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{inputHeader:"Date of Death*",value:"",name:"Date of Death",icon:P.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Death*",value:"",name:"Time of Death",icon:P.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Cause of death (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]}]}}],ri=qe("dischargeWomanStore",{state:()=>({dischargeWoman:[...li]}),actions:{setDischargeWoman(e){this.dischargeWoman=e},getInitial(){return[...$e.cloneDeep(li)]}}}),Jg=B({name:"DeliveryDetails",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],facilityData:[]}},computed:{...w(ri,["dischargeWoman"])},mounted(){const e=ri();this.initialData=e.getInitial(),this.handleSelection()},watch:{dischargeWoman:{handler(e){this.handleSelection(),this.handleInputData(e)},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{validationRules(e){return It(this.dischargeWoman,e.name,this[e.name])},async handleInputData(e){this.validationRules(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),u(this.dischargeWoman,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Yt.getFacilities({name:e})},handleSelection(){N(this.dischargeWoman,"Discharge status of woman")=="Referred out"?u(this.dischargeWoman,"facility for art","displayNone",!1):u(this.dischargeWoman,"facility for art","displayNone",!0),N(this.dischargeWoman,"Discharge status of woman")=="Death"?u(this.dischargeWoman,"Date of Death","displayNone",!1):u(this.dischargeWoman,"Date of Death","displayNone",!0)}}}),Kg={class:"container"};function Qg(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Kg,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.dischargeWoman,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Xg=T(Jg,[["render",Qg],["__scopeId","data-v-c08e611c"]]),di=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Reason for ending PNC?",selectedValue:"",name:"Reason for ending PNC",class:"bold"},data:[{name:"Refer",value:"Refer",colSize:"8"},{name:"Discharge home",value:"Discharge home",colSize:"8"},{name:"Death",value:"Death",colSize:"8"},{name:"Lost",value:"Lost",colSize:"8"}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Facility for ART",icon:P.search,value:"",name:"facility for art",popOver:!0,valueType:"text",eventType:"input",required:!0,alertsErrorMassage:"",placeholder:"Search for facility",popOverData:{filterData:!1,data:[]},id:"",idName:"facility_id",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Date of Referral*",value:"",name:"Date of referral",icon:P.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Referral*",value:"",name:"Time of referral",icon:P.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Reason for Referral (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Woman's Condition on Referral",value:"",name:"condition on referral",required:!0,valueType:"text",eventType:"input",alertsErrorMassage:"",placeholder:"Describe condition on referral",style:{padding:"10px",borderBottom:"1px solid #ccc"}}]}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{inputHeader:"Date of Death*",value:"",name:"Date of Death",icon:P.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Death*",value:"",name:"Time of Death",icon:P.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Cause of death (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]}]}}],ci=qe("pncEndStore",{state:()=>({pncEnd:[...di]}),actions:{setPNCend(e){this.pncEnd=e},getInitial(){return[...$e.cloneDeep(di)]}}}),Zg=B({name:"PNCEnd",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(ci,["pncEnd"])},mounted(){const e=ci();this.initialData=e.getInitial(),this.handleSelection()},watch:{pncEnd:{handler(e){this.handleSelection()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleSelection(){N(this.pncEnd,"Reason for ending PNC")=="Refer"?u(this.pncEnd,"facility for art","displayNone",!1):u(this.pncEnd,"facility for art","displayNone",!0),N(this.pncEnd,"Reason for ending PNC")=="Death"?u(this.pncEnd,"Date of Death","displayNone",!1):u(this.pncEnd,"Date of Death","displayNone",!0)}}}),ey={class:"container"};function ty(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",ey,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.pncEnd,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const ay=T(Zg,[["render",ty],["__scopeId","data-v-d88152a7"]]);function ny(e,t,a){var r,l,c,h;const s={"Birth weight":()=>Ma(t,a),"Current weight":()=>Ma(t,a),"Full name of the baby":()=>Ma(t,a),"Date BCG given":()=>Ma(t,a),"Respiratory rate":()=>Ma(t,a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),R(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),R(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function Ma(e,t){if(e==="Systolic blood pressure"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,20,140);if(o!==null)return o}else if(e==="Diastolic blood pressure"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,20,90);if(o!==null)return o}else if(e==="Pulse"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,50,200);if(o!==null)return o}else if(e==="Temperature"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,35,42);if(o!==null)return o}else if(e==="Respiratory rate"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,12,16);if(o!==null)return o}else return null;return null}const sy=B({name:"BabyStatus",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],initialData1:[]}},computed:{...w(en,["babyStatusDetails"]),...w(en,["dangerSigns"]),"Birth weight"(){return le(this.babyStatusDetails,"Birth weight","value")}},mounted(){const e=en(),t=en();this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.validateRowData({})},watch:{},setup(){return{checkmark:oe,pulseOutline:re}},methods:{validationRules(e){return ny(this.babyStatusDetails,e.name,this[e.name])},async handleInputData(e){this.validateRowData(e)},validateRowData(e){this.validationRules(e)}}}),iy={class:"container"};function oy(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",iy,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.babyStatusDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const ly=T(sy,[["render",oy],["__scopeId","data-v-906f94af"]]),ry=B({name:"DeliveryDetails",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(ha,["dangerSigns"])},mounted(){const e=ha();this.initialData=e.getInitial(),this.handleDangerSigns()},watch:{dangerSigns:{handler(){this.handleDangerSigns()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleDangerSigns(){var t;const e=["Bleeding vaginally","Central cyanosis","Preterm labour","Severe vomiting","Fever","Visual disturbance","Severe abdominal pain","Unconscious","Other danger signs"];(t=ce(this.dangerSigns,"No danger signs"))!=null&&t.checked?e.forEach(a=>{R(this.dangerSigns,a,"checked",!1),R(this.dangerSigns,a,"disabled",!0)}):e.forEach(a=>{R(this.dangerSigns,a,"disabled",!1)})}}}),dy={class:"container"};function cy(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",dy,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.dangerSigns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const uy=T(ry,[["render",cy],["__scopeId","data-v-b3265856"]]);function hy(e,t,a){var r,l,c,h;const s={"Systolic blood pressure":()=>Aa(t,a),"Diastolic blood pressure":()=>Aa(t,a),Pulse:()=>Aa(t,a),Temperature:()=>Aa(t,a),"Respiratory rate":()=>Aa(t,a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),R(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),R(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function Aa(e,t){if(e==="Systolic blood pressure"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,20,140);if(o!==null)return o}else if(e==="Diastolic blood pressure"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,20,90);if(o!==null)return o}else if(e==="Pulse"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,50,200);if(o!==null)return o}else if(e==="Temperature"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,35,42);if(o!==null)return o}else if(e==="Respiratory rate"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,12,16);if(o!==null)return o}else return null;return null}const py=B({name:"DeliveryDetails",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",BMI:{},BPStatus:{},hasValidationErrors:[],vitalsInstance:{},inputField:"",initialData:[]}},computed:{...w(ha,["vitals"]),...w(Ne,["patient"]),"Systolic blood pressure"(){return le(this.vitals,"Systolic blood pressure","value")},"Diastolic blood pressure"(){return le(this.vitals,"Diastolic blood pressure","value")},Pulse(){return le(this.vitals,"Pulse","value")},Temperature(){return le(this.vitals,"Temperature","value")},"Respiratory rate"(){return le(this.vitals,"Respiratory rate","value")}},mounted(){const e=ha();this.initialData=e.getInitial1(),this.validateRowData({})},watch:{},setup(){return{checkmark:oe,pulseOutline:re}},methods:{validationRules(e){return hy(this.vitals,e.name,this[e.name])},async handleInputData(e){await this.validateRowData(e)},updateVitalsStores(){dn().setVitals(this.vitals)},async validateRowData(e){this.validationRules(e)},async setBMI(e,t){var a,s,o,r,l,c,h,m;(s=(a=this.patient)==null?void 0:a.personInformation)!=null&&s.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&(this.BMI=await qt.getBMI(parseInt(e),parseInt(t),(c=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:c.gender,ne.calculateAge((m=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:m.birthdate,ne.sessionDate()))),this.updateBMI()},async updateBMI(){var a,s,o,r,l,c;const e=(s=(a=this.BMI)==null?void 0:a.color)!=null?s:[],t=this.vitals[0].alerts[0];t.icon=qt.iconBMI(e),t.backgroundColor=e[0],t.textColor=e[1],t.index=(r=(o=this.BMI)==null?void 0:o.index)!=null?r:"",t.value=(c=(l=this.BMI)==null?void 0:l.result)!=null?c:""},async updateBP(e,t){var o,r,l,c;const a=this.vitals[1].alerts[0],s=(r=(o=this.BPStatus)==null?void 0:o.colors)!=null?r:[];a.icon=bn(s),a.backgroundColor=s[0],a.textColor=s[1],a.index=e+"/"+t,a.value=(c=(l=this.BPStatus)==null?void 0:l.value)!=null?c:""},getBloodPressureStatus(e,t){if(t&&e){if(parseInt(t)>=30&&parseInt(t)<=60&&parseInt(e)>=40&&parseInt(e)<=90)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low"};if(parseInt(t)>=60&&parseInt(t)<=80&&parseInt(e)>=90&&parseInt(e)<=120)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal"};if(parseInt(t)>=80&&parseInt(t)<=90&&parseInt(e)>=120&&parseInt(e)<=140){let a="Pre-high blood pressure";return parseInt(t)>=85&&parseInt(t)<=89&&parseInt(e)>=130&&parseInt(e)<=139&&(a="Pre-high blood pressure (Class: Borderline)"),{colors:["#FEDF89","#B54708","#FED667"],value:a}}else if(parseInt(t)>=90&&parseInt(t)<=109&&parseInt(e)>=140&&parseInt(e)<=190){let a="High blood pressure";return parseInt(t)>=90&&parseInt(t)<=99&&parseInt(e)>=140&&parseInt(e)<=159&&(a="High blood pressure (Class: Mild/ I)"),parseInt(t)>=100&&parseInt(t)<=109&&parseInt(e)>=160&&parseInt(e)<=179&&(a="High blood pressure (Class: Moderate/ II)"),{colors:["#FECDCA","#B42318","#FDA19B"],value:a}}else return parseInt(t)>=110&&parseInt(t)<=200&&parseInt(e)>=180&&parseInt(e)<=250?{colors:["#FECDCA","#B42318","#FDA19B"],value:"The patient has hypertension (Class: Severe/ III)"}:(tt("Invalid BP values",4e3),this.hasValidationErrors.push("false"),{})}else return{colors:[],value:""}}}}),my={class:"container"};function fy(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",my,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.vitals,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const _y=T(py,[["render",fy],["__scopeId","data-v-c1307173"]]),vy=B({name:"DeliveryDetails",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(ha,["otherExams"])},mounted(){const e=ha();this.initialData=e.getInitial2(),this.handleOtherExaminations()},watch:{otherExams:{handler(){this.handleOtherExaminations()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleOtherExaminations(){N(this.otherExams,"Status of uterus")=="Sub-involuted"?I(this.otherExams,"Intervention given","displayNone",!1):(I(this.otherExams,"Intervention given","displayNone",!0),I(this.otherExams,"Intervention given","selectedValue",""))}}}),gy={class:"container"};function yy(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",gy,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.otherExams,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const by=T(vy,[["render",yy],["__scopeId","data-v-ed6335d4"]]),Dy=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Ot,SelectionPopover:Vt,BasicInputField:ee,BasicForm:G,List:Ct,DynamicButton:Be,labOrderResults:Ga,DangerSigns:uy,Vitals:_y,OtherExaminations:by},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},mounted(){this.handleLochia(),this.handleEpisiotomy()},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(ha,["otherExams"]),...w(vt,["investigations"]),...w(Ne,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){},deep:!0},otherExams:{handler(){this.handleLochia(),this.handleEpisiotomy()},deep:!0}},methods:{handleLochia(){var e;((e=ce(this.otherExams,"Other status"))==null?void 0:e.value)=="Other status"?u(this.otherExams,"Status of lochia notes","displayNone",!1):u(this.otherExams,"Status of lochia notes","displayNone",!0)},handleEpisiotomy(){N(this.otherExams,"Episiotomy/tear")=="No"?u(this.otherExams,"Episiotomy Reason","displayNone",!1):u(this.otherExams,"Episiotomy Reason","displayNone",!0)}}}),Sy={class:"ion-padding",slot:"content"},Cy={class:"ion-padding",slot:"content"},wy={class:"ion-padding",slot:"content"};function Iy(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("DangerSigns"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("Vitals"),D=d("OtherExaminations"),C=d("ion-row");return p(),A(C,null,{default:i(()=>[n(f,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Danger signs")])),_:1,__:[0]})]),_:1}),_("div",Sy,[n(h)])]),_:1})]),_:1},512),n(f,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[S("Vitals")])),_:1,__:[1]})]),_:1}),_("div",Cy,[n(y)])]),_:1})]),_:1},512),n(f,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("Other examinations")])),_:1,__:[2]})]),_:1}),_("div",wy,[n(D)])]),_:1})]),_:1},512)]),_:1})}const Py=T(Dy,[["render",Iy],["__scopeId","data-v-bceb0788"]]),Ny=B({name:"BabyModal",components:{DynamicButton:Be,IonModal:ma,IonHeader:q,IonToolbar:W,IonTitle:j,IonButtons:Sa,IonButton:it,IonContent:z,IonIcon:rt,BasicForm:G},data(){return{initialData:[]}},props:{isOpen:{type:Boolean,required:!0,default:!1},closeModalFunc:{type:Function,required:!0},onYes:{type:Function,required:!0},onNo:{type:Function,required:!0},title:{type:String,required:!0}},computed:{...w(ca,["babyDetails"]),...w(ca,["deliveryDetails"])},watch:{secondStageDetails:{async handler(){this.handleChangeDisplay()},deep:!0},babyDetails:{handler(){this.handleChangeDisplay();const e=["Prematurity","Sepsis","Congenital abnormalities","Asphyxia","Other complications","Low birthweight"],t=["Kangaroo mother care","Antibiotics","Other"];this.handleNone(e,"None"),this.handleNone(t,"Nothing"),this.handleCongenitalCheck(),this.handleAsphyxia()},deep:!0}},methods:{async handleInputData(e){},closeOutline(){return sa},closeModal(){this.closeModalFunc()},confirm(){this.onYes(),this.babyDetails=[],this.closeModal()},onNo(){this.babyDetails=[],this.closeModal()},handleChangeDisplay(){const e=N(this.deliveryDetails,"Baby general condition at birth");this.babyDetailsDisplayNone(e=="Macerated stillbirth"||e=="Fresh stillbirth")},getFieldDisplayNone(e){var a,s;const t=this.babyDetails.find(o=>o.childName===e);return((s=(a=t==null?void 0:t.radioBtnContent)==null?void 0:a.header)==null?void 0:s.displayNone)||!0},babyDetailsDisplayNone(e){u(this.babyDetails,"First name","displayNone",e),u(this.babyDetails,"Last name","displayNone",e),u(this.babyDetails,"Apgar score at 1 minute","displayNone",e),u(this.babyDetails,"Apgar score at 5 minute","displayNone",e)},handleNone(e,t){var a;(a=ce(this.babyDetails,t))!=null&&a.checked?(console.log("this is checked: "),e.forEach(s=>{R(this.babyDetails,s,"checked",!1),R(this.babyDetails,s,"disabled",!0)})):e.forEach(s=>{R(this.babyDetails,s,"disabled",!1)})},handleAsphyxia(){var t;if((t=ce(this.babyDetails,"Asphyxia"))==null?void 0:t.checked){console.log("Asphyxia selected"),I(this.babyDetails,"Resuscitation attempt","displayNone",!1);const a=N(this.babyDetails,"Resuscitation attempt");I(this.babyDetails,"Type of resuscitation","displayNone",a!=="Yes")}else u(this.babyDetails,"Resuscitation attempt","displayNone",!0),u(this.babyDetails,"Type of resuscitation","displayNone",!0)},handleCongenitalCheck(){var t;const e=(t=ce(this.babyDetails,"Congenital abnormalities"))==null?void 0:t.checked;u(this.babyDetails,"Specify","displayNone",!e)}}}),ky={key:0},By={key:1},$y={style:{display:"flex"}};function My(e,t,a,s,o,r){const l=d("ion-title"),c=d("basic-form"),h=d("DynamicButton"),m=d("ion-content"),f=d("ion-modal");return p(),A(f,{"is-open":e.isOpen,"show-backdrop":!0,onDidDismiss:e.closeModal},{default:i(()=>[n(m,null,{default:i(()=>[n(l,{style:{color:"black"}},{default:i(()=>[S(k(e.title),1)]),_:1}),n(c,{contentData:e.babyDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),e.getFieldDisplayNone("Resuscitation attempt")?$("",!0):(p(),v("div",ky,[n(c,{contentData:e.babyDetails,section:"Resuscitation attempt","onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])])),e.getFieldDisplayNone("Type of resuscitation")?$("",!0):(p(),v("div",By,[n(c,{contentData:e.babyDetails,section:"Type of resuscitation","onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])])),_("div",$y,[n(h,{expand:"block",onClick:t[0]||(t[0]=y=>e.confirm()),name:"Save",style:"flex:1"}),n(h,{expand:"block",onClick:t[1]||(t[1]=y=>e.onNo()),style:"flex:1",name:"Cancel",fill:"clear"})])]),_:1})]),_:1},8,["is-open","onDidDismiss"])}const Ay=T(Ny,[["render",My],["__scopeId","data-v-c87fd073"]]);function mo(e,t,a){var r,l,c,h;const s={Gravida:()=>va(t,a),Parity:()=>va(t,a),"Number of babies":()=>va(t,a),"Date of delivery":()=>F.required(a),"First name":()=>F.required(a),"Last name":()=>F.required(a),Weight:()=>va(t,a),Height:()=>va(t,a),"Apgar score at 5 minutes":()=>va(t,a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),R(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),R(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function va(e,t){if(e==="Gravida"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,1,15);if(o!==null)return o}else if(e==="Parity"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="Number of babies"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,5);if(o!==null)return o}else if(e==="Weight"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,900,7e3);if(o!==null)return o}else if(e==="Height"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,30,100);if(o!==null)return o}else if(e==="Apgar score at 5 minutes"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,10);if(o!==null)return o}else return null;return null}const Ey=B({name:"DeliveryDetails",components:{IonCard:Gt,IonCardHeader:wa,IonCardTitle:vn,IonCardContent:Ca,IonItem:O,IonButton:it,BasicForm:G,BabyModal:Ay},data(){return{initialData:[],arrayOfBabies:[],babyModalOpen:!1,selectedBaby:0,babiesDetails:[],showSection:!1}},computed:{deliveryDetails(){return ca().deliveryDetails}},mounted(){this.initialData=ca().getInitial(),this.handleDeliveryDetails(),this.handlePastProblems()},watch:{deliveryDetails:{handler(){this.handleDeliveryDetails(),this.handlePastProblems(),this.handleNumberOfBabies(),this.handleSelectedStillBirth()},deep:!0}},methods:{handleNumberOfBabies(){const e=le(this.deliveryDetails,"Number of babies","value");this.arrayOfBabies=[...Array(Number(e)).keys()]},closeBabyModal(){this.babyModalOpen=!1},handleSelectedStillBirth(){const e=N(this.deliveryDetails,"Baby general condition at birth");if(e==="Macerated stillbirth"||e==="Fresh stillbirth"){this.showSection=!1,this.babyDetailsDisplayNone(!0);return}this.babyDetailsDisplayNone(!1),this.showSection=!0},selectBaby(e){this.selectedBaby=e;const t=this.babiesDetails.find(s=>s.baby==e);ca().setBabyDetails((t==null?void 0:t.details)||[]),this.toggleBabyModal()},checkIfSubmitted(e){return!!this.babiesDetails.find(t=>t.baby==e)},handleBabyYes(){this.toggleBabyModal();const e=ca(),t=this.babiesDetails.findIndex(a=>a.baby==this.selectedBaby);t<0?this.babiesDetails.push({baby:this.selectedBaby,details:[...e.babyDetails]}):this.babiesDetails[t].details=[...e.babyDetails],e.setBabyDetails()},handleBabyNo(){this.toggleBabyModal(),ca().setBabyDetails([])},toggleBabyModal(){this.babyModalOpen=!this.babyModalOpen},handleAddBabyDetails(e){this.selectedBaby=e,this.toggleBabyModal()},babyDetailsDisplayNone(e){I(this.babiesDetails,"First name","displayNone",e),I(this.babiesDetails,"Last name","displayNone",e)},handlePastProblems(){const e=["Prematurity","Sepsis","Congenital abnormalities","Asphyxia","Other complications"],t=N(this.deliveryDetails,"None");e.forEach(a=>{R(this.deliveryDetails,a,"disabled",!!(t!=null&&t.checked))})},handleDeliveryDetails(){const e=N(this.deliveryDetails,"Outcome of the delivery"),t=N(this.deliveryDetails,"Was resuscitation attempted?");e==="Stillbirths"?I(this.deliveryDetails,"Type of still birth","displayNone",!1):(I(this.deliveryDetails,"Type of still birth","displayNone",!0),I(this.deliveryDetails,"Type of still birth","selectedValue","")),t==="Yes"?I(this.deliveryDetails,"Type of resuscitation","displayNone",!0):(I(this.deliveryDetails,"Type of resuscitation","displayNone",!0),I(this.deliveryDetails,"Type of resuscitation","selectedValue",""))},validationRules(e){return mo(this.deliveryDetails,e.name,e.name)},async handleInputData(e){this.validationRules(e)}}}),Vy={class:"container"},Oy={key:0};function Ty(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("BabyModal"),f=d("ion-button"),y=d("ion-card-content"),D=d("ion-card");return p(),v("div",Vy,[n(D,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Delivery Details")])),_:1,__:[0]})]),_:1}),n(y,null,{default:i(()=>[n(h,{contentData:e.deliveryDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),n(m,{closeModalFunc:e.closeBabyModal,onYes:e.handleBabyYes,onNo:e.handleBabyNo,isOpen:e.babyModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfBabies.length>0?(p(),v("div",Oy,[(p(!0),v(te,null,pe(e.arrayOfBabies,C=>(p(),v("div",{key:C},[e.checkIfSubmitted(C)?$("",!0):(p(),A(f,{key:0,onClick:V=>e.handleAddBabyDetails(C)},{default:i(()=>[S(" Add Baby "+k(C+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(C)?(p(),A(f,{key:1,onClick:V=>e.selectBaby(C)},{default:i(()=>[S(" View Baby "+k(C+1),1)]),_:2},1032,["onClick"])):$("",!0)]))),128))])):$("",!0)]),_:1})]),_:1})])}const Fy=T(Ey,[["render",Ty],["__scopeId","data-v-a769e5ef"]]),Hy=B({name:"HIVStatusAndTreatment",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(Fs,["hivStatusAndTreatment"])},mounted(){const e=Fs();this.initialData=e.getInitial(),this.handleHIV(),this.handleArtNumber()},watch:{hivStatusAndTreatment:{handler(){this.handleHIV(),this.handleArtNumber()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleHIV(){N(this.hivStatusAndTreatment,"Mother HIV Status")=="positive"?I(this.hivStatusAndTreatment,"ART treatment","displayNone",!1):I(this.hivStatusAndTreatment,"ART treatment","displayNone",!0)},handleArtNumber(){N(this.hivStatusAndTreatment,"ART treatment")=="yes"?u(this.hivStatusAndTreatment,"ART Number","displayNone",!1):u(this.hivStatusAndTreatment,"ART Number","displayNone",!0)}}}),Ry={class:"container"};function Ly(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Ry,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.hivStatusAndTreatment,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const xy=T(Hy,[["render",Ly],["__scopeId","data-v-6aa30269"]]),Uy=B({name:"ObstetricDetails",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(Hs,["obstetricDetails"]),Parity(){return le(this.obstetricDetails,"Parity","value")},Gravida(){return le(this.obstetricDetails,"Gravida","value")}},mounted(){const e=Hs();this.initialData=e.getInitial(),this.validateRowData({})},watch:{},setup(){return{checkmark:oe,pulseOutline:re}},methods:{validationRules(e){return mo(this.obstetricDetails,e.name,this[e.name])},async handleInputData(e){this.validateRowData(e)},validateRowData(e){this.validationRules(e)}}}),zy={class:"container"};function qy(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",zy,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.obstetricDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Wy=T(Uy,[["render",qy],["__scopeId","data-v-793db442"]]),ui=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"What is the status of the mother?",selectedValue:"",name:"Status of the mother",class:"bold",displayNext:"Alive"},data:[{name:"Alive",value:"Alive",colSize:"4"},{name:"Dead",value:"Dead",colSize:"4"}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Is the postnatal check within?",selectedValue:"",class:"bold",name:"Postnatal check period",displayNone:!0},data:[{name:"Up to 48 hrs or before discharge",value:"up to 48 hrs or before discharge",colSize:"7"},{name:"3-7 days",value:"3-7 days",colSize:"7"},{name:"8-42 days",value:"8-42 days",colSize:"7"}]}},{childName:"Status of the mother",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have any of the danger signs?",selectedValue:"",name:"Danger signs",class:"bold",displayNone:!0},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Sepsis",value:"sepsis",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of the mother",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Anemia",value:"anemia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Postpartum hemorrhage",value:"postpartum hemorrhage",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of the mother",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Severe pre-eclampsia",value:"severe pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Pre-eclampsia",value:"pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of the mother",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Breast engorgement",value:"breast engorgement",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Other danger signs",value:"Other danger signs",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Other danger signs",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Other danger signs notes",required:!0,eventType:"input",inputWidth:"85%"}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Status of uterus",selectedValue:"",class:"bold",name:"Status of Uterus",displayNext:"Other status",displayNone:!0},data:[{name:"Involuted",value:"involuted",colSize:"4"},{name:"Sub-involuted",value:"sub-involuted",colSize:"4"},{name:"Other status",value:"Other status",colSize:"5"}]}},{childName:"Status of Uterus",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Status of uterus notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],childName:"Status of uterus",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was the intervention given?",selectedValue:"",name:"Intervention on uterus problem",class:"bold",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{isFinishBtn:!1,sectionHeader:"",childName:"Intervention on uterus problem",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention given?",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Intervention provided notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Status of lochia",selectedValue:"",class:"bold",name:"Status of lochia",displayNext:"Other status",displayNone:!0},data:[{name:"Mild",value:"mild",colSize:"4"},{name:"Moderate",value:"moderate",colSize:"4"},{name:"Heavy",value:"heavy",colSize:"4"},{name:"Offensive smell",value:"offensive smell",colSize:"4"},{name:"Other status",value:"Other status",colSize:"4"}]}},{isFinishBtn:!1,ChildName:"Status of lochia",sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Status of lochia notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was the intervention given?",selectedValue:"",name:"Intervention on lochia",class:"bold",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{isFinishBtn:!1,childName:"Intervention on lochia",sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention given?",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Intervention on lochia notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Episiotomy/tear present?",selectedValue:"",class:"bold",name:"Episiotomy/tear",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{selectdData:[],childName:"Episiotomy/tear",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Condition of episiotomy/tear?",selectedValue:"",name:"Condition of episiotomy/tear",class:"bold",displayNone:!0},data:[{name:"Intact",value:"intact",colSize:"4"},{name:"Gaped",value:"gaped",colSize:"4"},{name:"Infected",value:"infected",colSize:"4"},{name:"Infected and gaped",value:"infected and gaped",colSize:"4"}]}},{childName:"Episiotomy/tear",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was the intervention given?",selectedValue:"",class:"bold",name:"Intervention on condition of episiotomy/tear",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Intervention on condition of episiotomy/tear",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention given?",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Other notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],isFinishBtn:!1,childName:"Status of the mother",classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Counselling on family planning done?",selectedValue:"",name:"Counselling on family planning",class:"bold",displayNone:!0,displayNext:"Yes"},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{selectdData:[],isFinishBtn:!1,childName:"Counselling on family planning",classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Postpartum family planning method chosen",selectedValue:"",name:"Postpartum family planning method",class:"bold",displayNone:!0},data:[{name:"Intrauterine contraceptive device",value:"IUCD",colSize:"4"},{name:"Bilateral tubal ligation",value:"BTL",colSize:"4"},{name:"Oral contraception",value:"Oral contraception",colSize:"4"},{name:"Injectable contraceptives",value:"Injectable contraceptives",colSize:"4"},{name:"Contraceptive implant",value:"Contraceptive implant",colSize:"4"},{name:"Intrauterine device (IUD)",value:"Intrauterine device (IUD)",colSize:"4"},{name:"Implants",value:"Implants",colSize:"4"},{name:"iucd-hormonal",value:"iucd-hormonal",colSize:"4"},{name:"iucd-cooper t",value:"iucd-cooper t",colSize:"4"},{name:"None",value:"none",colSize:"4"}]}},{selectdData:[],childName:"Status of the mother",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Breast feeding?",selectedValue:"",name:"Breast feeding",class:"bold",displayNone:!0},data:[{name:"Breastfed exclusively",value:"Breastfed exclusively",colSize:"4"},{name:"Non exclusive",value:"Non exclusive",colSize:"4"},{name:"Not breastfeeding",value:"Not breastfeeding",colSize:"5"}]}}],hi=qe("visitForMotherStore",{state:()=>({visitForMother:[...ui]}),actions:{setPNCVisitForMother(e){this.visitForMother=e},getInitial(){return[...$e.cloneDeep(ui)]}}}),Gy=B({name:"VisitForBaby",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(hi,["visitForMother"])},mounted(){const e=hi();this.initialData=e.getInitial()},watch:{},setup(){return{checkmark:oe,pulseOutline:re}},methods:{}}),jy={class:"container"};function Yy(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",jy,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.visitForMother,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Jy=T(Gy,[["render",Yy],["__scopeId","data-v-dc0dcbc7"]]),pi=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"What is the status of the baby?",selectedValue:"",name:"Status of baby",displayNext:"Alive",class:"bold",displayNone:""},data:[{name:"Alive",value:"Alive",colSize:"4"},{name:"Dead",value:"Dead",colSize:"4"}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Current weight",unit:"kg",icon:P.weight,value:"",valueType:"text",name:"Current weight",required:!0,eventType:"input",inputWidth:""},{displayNone:!0,inputHeader:"Current Temperature",unit:"C",icon:P.temprature,value:"",name:"Temperature",eventType:"input"}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Respiratory rate",unit:"BMP",icon:P.respiratory,value:"",name:"Respiratory Rate",eventType:"input",alertsErrorMassage:""},{displayNone:!0,inputHeader:"Heart rate",unit:"BMP",icon:P.pulse,value:"",name:"Heart Rate",eventType:"input",alertsErrorMassage:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Oxygen Saturation Rate",unit:"%",icon:P.oxgenStaturation,value:"",name:"Oxygen Saturation Rate",eventType:"input",alertsErrorMassage:""}]}]}},{childName:"Status of baby",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Is the postnatal visit within",selectedValue:"",name:"Postnatal visit period",class:"bold",displayNone:!0},data:[{name:"Up to 48 hrs or before discharge",value:"Up to 48 hrs or before discharge",colSize:"7"},{name:"3-7 days",value:"3-7 days",colSize:"7"},{name:"8-42 days",value:"8-42 days",colSize:"7"}]}},{childName:"Status of baby",selectdData:[],classDash:"dashed_bottom_border _padding",checkboxBtnContent:{header:{title:"Has the baby received the following immunisations?",selectedValue:"",name:"Type of immunisation the baby received",displayNext:"",class:"bold",displayNone:!0},data:[{name:"BCG",value:"BCG",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Polio",value:"Polio",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"BCG",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Date BCG given",unit:"",icon:P.calenderPrimary,value:"",valueType:"text",name:"Date BCG given",required:!0,eventType:"input",datePopover:!0,inputWidth:"",placeholder:"Pick holder",isDatePopover:!0}]}]}},{childName:"Polio",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Date polio given",unit:"",icon:P.calenderPrimary,value:"",valueType:"text",name:"Date polio given",required:!0,eventType:"input",datePopover:!0,inputWidth:"",placeholder:"Pick holder",isDatePopover:!0}]}]}},{childName:"Status of baby",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Danger signs for the child",selectedValue:"",name:"Danger signs",class:"bold",displayNone:!0},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Not able to feed",value:"not able to feed",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Fever (>37.5C)",value:"fever",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Hypothermia",value:"Hypothermia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Convulsions",value:"convulsions",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Lethargic",value:"lethargic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Chest in-drawing",value:"chest in-drawing",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Fast breathing",value:"fast breathing",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Eye discharge",value:"Eye discharge",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Signs of cord infection",value:"Signs of cord infection",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Jaundice",value:"jaundice",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Skin rashes",value:"skin rashes",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Other danger signs",value:"Other danger signs",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Other danger signs",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Other danger signs notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],childName:"Status of baby",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was an intervention given?",selectedValue:"",name:"Intervention on danger signs",class:"bold",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Intervention on danger signs",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Intervention on danger signs notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],childName:"Status of baby",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Has the baby started nevirapine?",selectedValue:"",name:"Nevirapine started",class:"bold",displayNext:"No",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Nevirapine started",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Why the baby is not on neverapine?",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Neverapine not started notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Date of Death",unit:"",icon:P.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date"},{displayNone:!0,inputHeader:"Time of Death",unit:"",icon:P.timePicker,value:"",valueType:"time",name:"Time of Death",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Cause of Death",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Cause of Death",required:!0,eventType:"input",inputWidth:""},{displayNone:!0,inputHeader:"Colour of the Skin",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Colour of the Skin",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Condition of the Umbilical Cord",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Condition of the Umbilical Cord",required:!0,eventType:"input",inputWidth:""}]}]}}],mi=qe("visitForBabyStore",{state:()=>({visitForBaby:[...pi]}),actions:{setPNCVisitForBaby(e){this.visitForBaby=e},getInitial(){return[...$e.cloneDeep(pi)]}}}),Ky=B({name:"VisitForBaby",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{visitForBaby(){return mi().visitForBaby}},mounted(){this.initialData=mi().getInitial(),this.handleSelection()},watch:{visitForBaby:{handler(){this.handleSelection()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleSelection(){N(this.visitForBaby,"Status of baby")==="Dead"?(u(this.visitForBaby,"Date of Death","displayNone",!1),u(this.visitForBaby,"Cause of Death","displayNone",!1),u(this.visitForBaby,"Condition of the Umbilical Cord","displayNone",!1)):(u(this.visitForBaby,"Date of Death","displayNone",!0),u(this.visitForBaby,"Cause of Death","displayNone",!0),u(this.visitForBaby,"Condition of the Umbilical Cord","displayNone",!0))}}}),Qy={class:"container"};function Xy(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Qy,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.visitForBaby,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Zy=T(Ky,[["render",Xy],["__scopeId","data-v-fa64a92c"]]),eb=B({name:"History",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(vl,["labourDetails"])},mounted(){},watch:{},setup(){return{checkmark:oe,pulseOutline:re}},methods:{}}),tb={class:"container"};function ab(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",tb,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Labour details")])),_:1,__:[0]})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.labourDetails},null,8,["contentData"])]),_:1})]),_:1})])}const nb=T(eb,[["render",ab],["__scopeId","data-v-1c41c247"]]),sb=B({name:"History",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(gl,["pastProblems"])},mounted(){this.handleDangerSigns(),this.handleChckedDangerSigns(),this.handleInLabour()},watch:{pastProblems:{handler(){this.handleDangerSigns(),this.handleChckedDangerSigns(),this.handleInLabour()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleDangerSigns(){var e;((e=ce(this.pastProblems,"Other danger signs"))==null?void 0:e.value)=="other danger signs"?u(this.pastProblems,"otherC","displayNone",!1):u(this.pastProblems,"otherC","displayNone",!0)},handleChckedDangerSigns(){var t;const e=["Bleeding vaginally","Central cyanosis","Pre-term labour","Severe vomiting","Fever","Visual disturbance","Severe abdominal pain","Unconscious","No fetal movement","Difficulties in breathing","Jaundice","Other danger signs"];(t=ce(this.pastProblems,"No danger signs"))!=null&&t.checked?e.forEach(a=>{R(this.pastProblems,a,"checked",!1),R(this.pastProblems,a,"disabled",!0)}):e.forEach(a=>{R(this.pastProblems,a,"disabled",!1)})},handleInLabour(){N(this.pastProblems,"reason")=="In labour"?(u(this.pastProblems,["Time"],"displayNone",!1),I(this.pastProblems,"Labour onset type","displayNone",!1),I(this.pastProblems,"Membranes ruptured","displayNone",!1),u(this.pastProblems,"Time Membrane","displayNone",!1),I(this.pastProblems,"food in 4 hours","displayNone",!1),I(this.pastProblems,"Homemade medicines taken","displayNone",!1),I(this.pastProblems,"Sleep","displayNone",!1)):(u(this.pastProblems,"Time","displayNone",!0),I(this.pastProblems,"Labour onset type","displayNone",!0),I(this.pastProblems,"Membranes ruptured","displayNone",!0),u(this.pastProblems,"Time Membrane","displayNone",!0),I(this.pastProblems,"food in 4 hours","displayNone",!0),I(this.pastProblems,"Homemade medicines taken","displayNone",!0),I(this.pastProblems,"Sleep","displayNone",!0))}}}),ib={class:"container"};function ob(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",ib,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.pastProblems},null,8,["contentData"])]),_:1})]),_:1})])}const lb=T(sb,[["render",ob],["__scopeId","data-v-68d75ac3"]]),rb=B({name:"History",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],height:0,showPulsingAlert:!1}},computed:{...w(zn,["vitals"]),...w(zn,["anaemia"]),...w(zn,["otherphysicalExams"])},mounted(){this.handleOedema(),this.handleCephalic(),this.handleShowAlertCordPulsating()},watch:{otherphysicalExams:{handler(){this.handleOtherPresentation(),this.handleContractions(),this.handleCephalic(),this.handleOedema(),this.showPulsingAlert=N(this.otherphysicalExams,"Presentation")=="breech"},deep:!0},showPulsingAlert:{handler(){this.handleShowAlertCordPulsating()}},anaemia:{handler(){},deep:!0},vitals:{handler(){this.height=le(this.vitals,"Height","value")},deep:!0},height:{handler(){this.handleVitalsChange()}}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleShowAlertCordPulsating(){const e=N(this.otherphysicalExams,"Presentation"),t=this.otherphysicalExams.find(a=>{var s,o;return((o=(s=a==null?void 0:a.radioBtnContent)==null?void 0:s.header)==null?void 0:o.name)=="Presentation"});if(t.alerts=[],["footling","face","breech"].includes(e)){t.alerts.push({backgroundColor:"#FF9999",status:"info",icon:"info-circle",textColor:"#000000",value:"Prepare to refer the woman",name:"Presentation"});return}},async handleVitalsValidation(e){Qe(this.vitals,bl,e.name,e.value)},async handleExamsValidate(e){Qe(this.otherphysicalExams,yl,e.name,e.value)},async handleInputData(e){this.handleVitalsValidation(e),this.handleExamsValidate(e)},handleVitalsChange(){const e=le(this.vitals,"Height","value");if(e<150&&e!=""){this.vitals[2].alerts.push({backgroundColor:"#FFD700",status:"info",icon:"info-circle",textColor:"#000000",value:"Height is less than 150 CM",name:"Height"});return}this.vitals[2].alerts=[]},handleOtherPresentation(){const e=N(this.otherphysicalExams,"Presentation")=="Other";u(this.otherphysicalExams,"Other","displayNone",!e)},handleContractions(){const e=N(this.otherphysicalExams,"Contractions")=="no Contraction Felt";u(this.otherphysicalExams,"Number of contraction","displayNone",e)},handleOedema(){N(this.otherphysicalExams,"Oedema")=="present"?u(this.otherphysicalExams,"Other oedema","displayNone",!1):u(this.otherphysicalExams,"Other oedema","displayNone",!0)},handleCephalic(){N(this.otherphysicalExams,"Presentation")=="cephalic"?I(this.otherphysicalExams,"Position","displayNone",!1):I(this.otherphysicalExams,"Position","displayNone",!0)}}}),db={class:"container"};function cb(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",db,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.vitals,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S(" Anaemia")])),_:1,__:[0]})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.anaemia},null,8,["contentData"])]),_:1})]),_:1}),n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.otherphysicalExams,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const ub=T(rb,[["render",cb],["__scopeId","data-v-df64e4e5"]]),hb=B({name:"FirstVaginalExamination",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",showPulsingAlert:!1}},computed:{...w(Dl,["pelvicAssessment"])},mounted(){},watch:{pelvicAssessment:{handler(){this.showPulsingAlert=N(this.pelvicAssessment,"Intertuberous diameter")=="more than or equal to 8.5cm"},deep:!0},showPulsingAlert:{handler(){this.handleShowAdiameter()}}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleShowAdiameter(){const e=N(this.pelvicAssessment,"Intertuberous diameter"),t=this.pelvicAssessment.find(a=>{var s,o;return((o=(s=a==null?void 0:a.radioBtnContent)==null?void 0:s.header)==null?void 0:o.name)=="Intertuberous diameter"});t.alerts=[],e=="more than or equal to 8.5cm"?t.alerts.push({backgroundColor:"#99FF99",status:"info",icon:"info-circle",textColor:"#000000",value:"Normal",name:"Intertuberous diameter"}):e=="less than 8.5cm"&&t.alerts.push({backgroundColor:"#FF9999",status:"warning",icon:"exclamation-circle",textColor:"#000000",value:"Abnormal",name:"Intertuberous diameter"})}}}),pb={class:"container"};function mb(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",pb,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.pelvicAssessment},null,8,["contentData"])]),_:1})]),_:1})])}const fb=T(hb,[["render",mb],["__scopeId","data-v-dbd10580"]]),_b=B({name:"FirstVaginalExamination",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",facilityData:[]}},computed:{...w(Sl,["labourReferral","labourLab"])},mounted(){this.handleART(),this.handleARTYes()},watch:{labourReferral:{handler(){this.handleMother(),this.handleOtherMother(),this.handleOtherBaby()},deep:!0},labourLab:{handler(e){this.handleART(),this.handleARTYes(),this.handleInputData(e)},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async Lab(e){Qe(this.labourLab,Rs,e.name,e.value)},async Referral(e){Qe(this.labourReferral,Rs,e.name,e.value)},async handleInputData(e){this.Lab(e),this.Referral(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),u(this.labourLab,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Yt.getFacilities({name:e})},handleMother(){const e=N(this.labourReferral,"referred");Le(this.labourReferral,"referring mother","displayNone",e!="mother"),Le(this.labourReferral,"Baby identifier","displayNone",e!="baby"),u(this.labourReferral,"treatment given to baby before referral","displayNone",e!="baby"),u(this.labourReferral,"Time of referral","displayNone",e!="baby"),u(this.labourReferral,"Date of referral","displayNone",e!="baby"),u(this.labourReferral,"Provider who made referral","displayNone",e!="baby"),u(this.labourReferral,"Phone number for provider","displayNone",e!="baby")},handleOtherMother(){var e;((e=ce(this.labourReferral,"Other"))==null?void 0:e.value)=="other"?u(this.labourReferral,"specify","displayNone",!1):u(this.labourReferral,"specify","displayNone",!0)},handleOtherBaby(){var e;((e=ce(this.labourReferral,"Other reason"))==null?void 0:e.value)=="other reason"?u(this.labourReferral,"other","displayNone",!1):u(this.labourReferral,"other","displayNone",!0)},handleART(){N(this.labourLab,"HIV")=="positive"?I(this.labourLab,"chronic conditions","displayNone",!1):I(this.labourLab,"chronic conditions","displayNone",!0)},handleARTYes(){N(this.labourLab,"chronic conditions")=="Yes"?(u(this.labourLab,"Art number","displayNone",!1),u(this.labourLab,"facility for art","displayNone",!1)):(u(this.labourLab,"Art number","displayNone",!0),u(this.labourLab,"facility for art","displayNone",!0))}}}),vb={class:"container"};function gb(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",vb,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.labourReferral,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.labourLab,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const yb=T(_b,[["render",gb],["__scopeId","data-v-b36e2fed"]]),bb=B({name:"FirstVaginalExamination",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",showPulsingAlert:!1}},computed:{...w(wl,["firstVaginalExamination"])},mounted(){this.handleCord()},watch:{firstVaginalExamination:{handler(){this.handleShow(),this.handleRupturedMembrane(),this.handleCord(),this.showPulsingAlert=N(this.firstVaginalExamination,"Is Cord Pulsating")=="yes"},deep:!0},showPulsingAlert:{handler(){this.handleShowAlertCordPulsating()}}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleShow(){const e=N(this.firstVaginalExamination,"Show")=="present";I(this.firstVaginalExamination,"Color","displayNone",!e)},async handleInputData(e){Qe(this.firstVaginalExamination,Cl,e.name,e.value)},handleShowAlertCordPulsating(){const e=N(this.firstVaginalExamination,"Is Cord Pulsating"),t=this.firstVaginalExamination.find(a=>{var s,o;return((o=(s=a==null?void 0:a.radioBtnContent)==null?void 0:s.header)==null?void 0:o.name)=="Is Cord Pulsating"});if(e=="yes"){t.alerts.push({backgroundColor:"#FF9999",status:"info",icon:"info-circle",textColor:"#000000",value:"This is an emergency. Change the position of the woman to relieve pressure on the cord and refer the woman.",name:"Is Cord Pulsating"});return}t.alerts=[]},handleRupturedMembrane(){const e=N(this.firstVaginalExamination,"State of membranes"),t=N(this.firstVaginalExamination,"Cord"),a=N(this.firstVaginalExamination,"Liquor"),s=N(this.firstVaginalExamination,"What part is presenting");I(this.firstVaginalExamination,"How","displayNone",e!="ruptured"),u(this.firstVaginalExamination,"time membranes ruptured","displayNone",e!="ruptured"),u(this.firstVaginalExamination,"date membranes ruptured","displayNone",e!="ruptured"),I(this.firstVaginalExamination,"cold felt color","displayNone",t!="felt"),I(this.firstVaginalExamination,"Meconium Grade","displayNone",a!="meconium stained"),u(this.firstVaginalExamination,"specify","displayNone",s!="other"),u(this.firstVaginalExamination,"Position of sutures and fontanelles","displayNone",s!="head"),I(this.firstVaginalExamination,"Level in relation to ischial spines","displayNone",s!="head"),I(this.firstVaginalExamination,"Caput","displayNone",s!="head"),I(this.firstVaginalExamination,"Moulding","displayNone",s!="head")},handleCord(){N(this.firstVaginalExamination,"What part is presenting")=="cord"?I(this.firstVaginalExamination,"Is Cord Pulsating","displayNone",!1):I(this.firstVaginalExamination,"Is Cord Pulsating","displayNone",!0)}}}),Db={class:"container"};function Sb(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Db,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Cervix")])),_:1,__:[0]})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.firstVaginalExamination,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Cb=T(bb,[["render",Sb],["__scopeId","data-v-11df2658"]]),wb=B({name:"SecondStageDelivery",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie,IonButton:it,BabyDetailsModal:ms},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],arrayOfBabies:[],babyModalOpen:!1,selectedBaby:0,babiesDetails:[],showSection:!1}},computed:{...w(nt,["secondStageDetails"]),...w(nt,["babyDetails"]),...w(nt,["newbornComplications"])},mounted(){const e=nt();this.initialData=e.getInitial()},watch:{secondStageDetails:{handler(){this.handleBabyCondition(),this.handleNumberOfBabies(),this.handleSelectedStillBirth()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleValidateNewBorn(e){Qe(this.newbornComplications,Qn,e.name,e.value)},async handleValidateBabies(e){Qe(this.secondStageDetails,Qn,e.name,e.value)},async handleInputData(e){this.handleValidateBabies(e),this.handleValidateNewBorn(e)},handleNumberOfBabies(){const e=le(this.secondStageDetails,"Number of babies","value");this.arrayOfBabies=[...Array(Number(e)).keys()]},closeBabyModal(){},handleSelectedStillBirth(){const e=N(this.secondStageDetails,"Baby general condition at birth");if(e=="Macerated stillbirth"||e=="Fresh stillbirth"){this.showSection=!1,this.babyDetailsDisplayNone(!0);return}this.babyDetailsDisplayNone(!1),this.showSection=!0},selectBaby(e){this.selectedBaby=e;const t=this.babiesDetails.find(s=>s.baby==e);nt().setBabyDetails(t.details),this.toggleBabyModal()},checkIfSubmitted(e){return this.babiesDetails.find(t=>t.baby==e)},handleBabyYes(){this.toggleBabyModal();const e=nt(),t=this.babiesDetails.findIndex(a=>a.baby==this.selectedBaby);t<0?this.babiesDetails.push({baby:this.selectedBaby,details:[...qs.cloneDeep(e.babyDetails)]}):this.babiesDetails[t].details=[...qs.cloneDeep(e.babyDetails)],e.setBabyDetails()},handleBabyNo(){this.toggleBabyModal(),nt().secondStageDetails.setBabyDetails()},toggleBabyModal(){this.babyModalOpen=!this.babyModalOpen},handleAddBabyDetails(e){nt().setBabyDetails(),this.selectedBaby=e,this.toggleBabyModal()},handleBabyCondition(){const e=N(this.secondStageDetails,"Baby general condition at birth");e=="Live full term"||e=="Live preterm"?this.babyDisplayNone(!1):this.babyDisplayNone(!0)},babyDisplayNone(e){u(this.secondStageDetails,"First name","displayNone",e),u(this.secondStageDetails,"Last name","displayNone",e),u(this.secondStageDetails,"Apgar score at 1 minute","displayNone",e),u(this.secondStageDetails,"Apgar score at 5 minutes","displayNone",e),I(this.secondStageDetails,"Sex","displayNone",e),I(this.secondStageDetails,"vitals","displayNone",e),u(this.secondStageDetails,"Weight","displayNone",e),u(this.secondStageDetails,"Height","displayNone",e),u(this.secondStageDetails,"Circumference","displayNone",e),I(this.secondStageDetails,"Tetracycline eye ointment given","displayNone",e),I(this.secondStageDetails,"Chlorhexidine","displayNone",e),Le(this.secondStageDetails,"Newborn baby complications","displayNone",e),Le(this.secondStageDetails,"Management to newborn","displayNone",e),I(this.secondStageDetails,"Oxytocin 10 UI given","displayNone",e),I(this.secondStageDetails,"bold","displayNone",e),I(this.secondStageDetails,"babyDetails","displayNone",e)},babyDetailsDisplayNone(e){u(this.babyDetails,"First name","displayNone",e),u(this.babyDetails,"Last name","displayNone",e),u(this.babyDetails,"Apgar score at 1 minute","displayNone",e),u(this.babyDetails,"Apgar score at 5 minute","displayNone",e),I(this.babyDetails,"Tetracycline eye ointment given","displayNone",e),I(this.babyDetails,"Chlorhexidine","displayNone",e),Le(this.babyDetails,"Newborn baby complications","displayNone",e),I(this.babyDetails,"Oxytocin 10 UI given","displayNone",e),I(this.babyDetails,"Vitamin K given","displayNone",e)}}}),Ib={class:"container"},Pb={key:0};function Nb(e,t,a,s,o,r){const l=d("basic-form"),c=d("BabyDetailsModal"),h=d("ion-button"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Ib,[n(f,{class:"section"},{default:i(()=>[n(m,null,{default:i(()=>[n(l,{contentData:e.secondStageDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),n(c,{closeModalFunc:e.closeBabyModal,onYes:e.handleBabyYes,onNo:e.handleBabyNo,isOpen:e.babyModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfBabies.length>0?(p(),v("div",Pb,[(p(!0),v(te,null,pe(e.arrayOfBabies,y=>(p(),v("div",{key:y},[e.checkIfSubmitted(y)?$("",!0):(p(),A(h,{key:0,onClick:D=>e.handleAddBabyDetails(y)},{default:i(()=>[S("Add Baby "+k(y+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(y)?(p(),A(h,{key:1,onClick:D=>e.selectBaby(y)},{default:i(()=>[S("View Baby "+k(y+1),1)]),_:2},1032,["onClick"])):$("",!0)]))),128))])):$("",!0)]),_:1})]),_:1})])}const kb=T(wb,[["render",Nb],["__scopeId","data-v-137aebb8"]]),Bb=B({name:"DeliveryNewbornDetails",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],facilities:[]}},computed:{...w(nt,["newbornComplications"])},async mounted(){const e=nt();this.initialData=e.getInitialNewbornComplications()},watch:{newbornComplications:{handler(){this.handleOtherFacilitySelect()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleInputData(e){e.name=="Facility"&&u(this.newbornComplications,"Facility","popOverData",{filterData:!1,data:await this.getLocations(e.value)})},handleOtherFacilitySelect(){const e=N(this.newbornComplications,"Place of delivery")=="Other facility";u(this.newbornComplications,"Facility","displayNone",!e)},async getLocations(e){return await Yt.getFacilities({name:e})}}}),$b={class:"container"};function Mb(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",$b,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.newbornComplications,initialData1:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData1","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Ab=T(Bb,[["render",Mb],["__scopeId","data-v-52f7f738"]]),Eb=B({name:"SecondStageDelivery",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(nt,["obstetricComplications"])},mounted(){const e=nt();this.initialData=e.getInitialObstetricDetails()},watch:{obstetricComplications:{handler(){this.handleOtherComplications(),this.handlePerinealTear();const e=["Perineal tear","Sepsis","Pre-Eclampsia","Retained placenta","Postpartum haemorrhage"],t=["Oxytocin/cabitocin/tranexamic acid","Anticonvulsants","Antibiotics","Blood transfusion","Manual removal of placenta","Non-pneumatic Anti-shock Garment (NASG)","Manual Removal of Retained Products of Conception","Evacuation","Misoprostol","Other care"];this.handleObstetricComplicationCheck(e),this.handleNone([...e,"Other complications"],"No complications"),this.handleNone(t,"None")},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleOtherComplications(){var t;const e=(t=ce(this.obstetricComplications,"Other complications"))==null?void 0:t.checked;u(this.obstetricComplications,"Other notes","displayNone",!e)},handlePerinealTear(){var t;const e=(t=ce(this.obstetricComplications,"Perineal tear"))==null?void 0:t.checked;I(this.obstetricComplications,"Severity","displayNone",!e)},handleObstetricComplicationCheck(e){let t=!1;e.forEach(a=>{var s;t=t||((s=ce(this.obstetricComplications,a))==null?void 0:s.checked)}),Le(this.obstetricComplications,"Obstetric care","displayNone",!t)},handleNone(e,t){var a;(a=ce(this.obstetricComplications,t))!=null&&a.checked?e.forEach(s=>{R(this.obstetricComplications,s,"checked",!1),R(this.obstetricComplications,s,"disabled",!0)}):e.forEach(s=>{R(this.obstetricComplications,s,"disabled",!1)})}}}),Vb={class:"container"};function Ob(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Vb,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.obstetricComplications,initialData2:e.initialData},null,8,["contentData","initialData2"])]),_:1})]),_:1})])}const Tb=T(Eb,[["render",Ob],["__scopeId","data-v-8005c521"]]),Fb=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Ot,SelectionPopover:Vt,BasicInputField:ee,BasicForm:G,List:Ct,DynamicButton:Be,labOrderResults:Ga,DeliveryNewbornDetails:kb,OtherDeliveryDetails:Ab,ObstetricComplications:Tb},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1,showSection:!0}},computed:{...w(nt,["secondStageDetails"]),...w(nt,["newbornComplications"]),...w(nt,["secondStageDetails"]),...w(nt,["obstetricComplications"])},mounted(){nt(),nt(),nt(),this.handleModeOfDeliver()},watch:{newbornComplications:{handler(){this.handleModeOfDeliver()},deep:!0},secondStageDetails:{handler(){this.handleSelectedStillBirth()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleModeOfDeliver(){},handleSelectedStillBirth(){const e=N(this.secondStageDetails,"Baby general condition at birth");if(e=="Macerated stillbirth"||e=="Fresh stillbirth"){this.showSection=!1;return}this.showSection=!0}}}),Hb={class:"ion-padding",slot:"content"},Rb={class:"ion-padding",slot:"content"};function Lb(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("DeliveryNewbornDetails"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("OtherDeliveryDetails"),D=d("ion-row");return p(),A(D,null,{default:i(()=>[n(f,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Delivery and newborn details")])),_:1,__:[0]})]),_:1}),_("div",Hb,[n(h)])]),_:1})]),_:1},512),e.showSection?(p(),A(f,{key:0,ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[S("Other delivery details")])),_:1,__:[1]})]),_:1}),_("div",Rb,[n(y)])]),_:1})]),_:1},512)):$("",!0)]),_:1})}const xb=T(Fb,[["render",Lb],["__scopeId","data-v-aef72f55"]]),Ub=B({name:"ThirdStageOfDelivery",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(Ls,["placentaExamination"])},mounted(){const e=Ls();this.initialData=e.getInitial(),this.handleModeOfDelivery(),this.handleTears(),this.handleTearsDegree(),this.handleRepairDone()},watch:{placentaExamination:{handler(){this.handleCervixTearChange(),this.handleModeOfDelivery(),this.handleTears(),this.handleTearsDegree(),this.handleRepairDone()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleInputData(e){Qe(this.placentaExamination,Il,e.name,e.value)},handleRepairDone(){["tears","episiotomy"].includes(N(this.placentaExamination,"Perineum"))?I(this.placentaExamination,"repair","displayNone",!1):I(this.placentaExamination,"repair","displayNone",!0)},handleTearsDegree(){N(this.placentaExamination,"Perineum")=="tears"?u(this.placentaExamination,"tears degree","displayNone",!1):u(this.placentaExamination,"tears degree","displayNone",!0)},handleTears(){N(this.placentaExamination,"Cervix")=="tears"?u(this.placentaExamination,"Other tears","displayNone",!1):u(this.placentaExamination,"Other tears","displayNone",!0)},handleModeOfDelivery(){N(this.placentaExamination,"Mode of delivery")=="other"?u(this.placentaExamination,"Specify","displayNone",!1):u(this.placentaExamination,"Specify","displayNone",!0)},handleCervixTearChange(){const e=N(this.placentaExamination,"Presentation")=="Other";I(this.placentaExamination,"Severity","displayNone",!e)}}}),zb={class:"container"};function qb(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",zb,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.placentaExamination,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Wb=T(Ub,[["render",qb],["__scopeId","data-v-9d5a086c"]]),Gb=B({name:"end",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(Pl,["endLabourAndDelivery"])},mounted(){this.handleOtherEnd()},watch:{endLabourAndDelivery:{handler(){this.handleOtherEnd()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleOtherEnd(){N(this.endLabourAndDelivery,"closing labour and delivery")=="other"?u(this.endLabourAndDelivery,"Specify","displayNone",!1):u(this.endLabourAndDelivery,"Specify","displayNone",!0)}}}),jb={class:"container"};function Yb(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",jb,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.endLabourAndDelivery},null,8,["contentData"])]),_:1})]),_:1})])}const Jb=T(Gb,[["render",Yb],["__scopeId","data-v-c5cfbf12"]]),Kb=B({name:"FirstVaginalExamination",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(xs,["otherExams"]),...w(xs,["urine"])},mounted(){this.handleUrine(),this.handleUrineColor(),this.handleUrineColorOdour(),this.handleDilated(),this.handleGrade(),this.handleUmbricalCord(),this.handleObstetricComplications(),this.handleOtherComplications(),this.handleObstetricCare()},watch:{urine:{handler(){this.handleUrine(),this.handleUrineColor(),this.handleUrineColorOdour(),this.handleDilated()},deep:!0},otherExams:{handler(){this.handleGrade(),this.handleUmbricalCord(),this.handleObstetricComplications(),this.handleOtherComplications(),this.handleObstetricCare()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleValidateFatal(e){Qe(this.otherExams,Nl,e.name,e.value)},async handleInputData(e){this.handleValidateFatal(e)},handleUmbricalCord(){["presenting","prolapsed"].includes(N(this.otherExams,"Umbilical Cord"))?u(this.otherExams,"intervention","displayNone",!1):u(this.otherExams,"intervention","displayNone",!0)},handleGrade(){var e;((e=ce(this.otherExams,"Meconium stained"))==null?void 0:e.value)=="meconium stained"?I(this.otherExams,"Grade","displayNone",!1):I(this.otherExams,"Grade","displayNone",!0)},handleUrine(){N(this.urine,"woman urinated")=="yes"?u(this.urine,"amount of urine","displayNone",!1):u(this.urine,"amount of urine","displayNone",!0)},handleUrineColor(){N(this.urine,"woman urinated")=="yes"?u(this.urine,"color of urine","displayNone",!1):u(this.urine,"color of urine","displayNone",!0)},handleUrineColorOdour(){N(this.urine,"woman urinated")=="yes"?u(this.urine,"Odour","displayNone",!1):u(this.urine,"Odour","displayNone",!0)},handleDilated(){N(this.urine,"Fully dilated")=="yes"?u(this.urine,"Time fully dilated","displayNone",!1):u(this.urine,"Time fully dilated","displayNone",!0)},handleObstetricComplications(){var t;const e=["Antepartum haemorrhage","Post partum Haemorrhage","Obstructed/Prolonged labour","Preterm labour","(Pre-) Eclampsia","Sepsis","Ruptured uterus","Fetal distress","Placenta Previa","Fetal distress","Placenta abruption","Retained placenta","Severe anaemia","Perineal tear (2nd, 3rd or 4th degree)","symphysiotomy","Other"];(t=ce(this.otherExams,"None"))!=null&&t.checked?e.forEach(a=>{R(this.otherExams,a,"checked",!1),R(this.otherExams,a,"disabled",!0)}):e.forEach(a=>{R(this.otherExams,a,"disabled",!1)})},handleOtherComplications(){var e;((e=ce(this.otherExams,"Other"))==null?void 0:e.value)=="other"?u(this.otherExams,"Specify","displayNone",!1):u(this.otherExams,"Specify","displayNone",!0)},handleObstetricCare(){var t;const e=["Oxytocin","Cabitocin","Tranexamic acid","Misoprostol","Anticonvulsants","Antibiotics","Antenatal corticosteroids","Blood transfusion","Manual removal of placenta (MRP)","Non-pneumatic Anti-shock Garment (NASG)","Manual Removal of Retained Products of Conception (MRPOC)","Evacuation","Other"];(t=ce(this.otherExams,"None"))!=null&&t.checked?e.forEach(a=>{R(this.otherExams,a,"checked",!1),R(this.otherExams,a,"disabled",!0)}):e.forEach(a=>{R(this.otherExams,a,"disabled",!1)})}}}),Qb={class:"container"};function Xb(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Qb,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.otherExams,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(f,{class:"section"},{default:i(()=>[n(m,null,{default:i(()=>[n(h,{contentData:e.urine},null,8,["contentData"])]),_:1})]),_:1})])}const Zb=T(Kb,[["render",Xb],["__scopeId","data-v-1169f3e1"]]),eD=B({components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,PreviousVitals:yn},data(){return{iconsContent:P,BMI:{},BPStatus:{},saveBtnStatus:{},TempStatus:{},PulseStatus:{},RespiratoryStatus:{},OxygenStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1}}},watch:{vitals:{handler(){this.checkHeight()},deep:!0},$route:{handler(){this.checkHeight(),this.setTodayVitals(),this.updateVitalsStores()},deep:!0}},computed:{...w(Ne,["patient"]),...w(kl,["vitals"])},async mounted(){await this.setTodayVitals();const e=Oe.getUserID();this.vitalsInstance=new Ol(this.patient.patientID,e),await this.validaterowData("onload")},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async setTodayVitals(){var r,l;const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","SAO2","Respiratory rate"],t=["Height (cm)","Weight","Systolic","Diastolic","Pulse"],a=[],s=ne.getAgeInYears((l=(r=this.patient)==null?void 0:r.personInformation)==null?void 0:l.birthdate),o=e.map(async c=>{const h=await Ve.getFirstObsDatetime(this.patient.patientID,c);h&&ne.toStandardHisFormat(h)==ne.sessionDate()?(c=="Weight"&&R(this.vitals,"Height And Weight Not Done","displayNone",!0),c=="Systolic"&&R(this.vitals,"Blood Pressure Not Done","displayNone",!0),c=="Pulse"&&R(this.vitals,"Pulse Rate Not Done","displayNone",!0),u(this.vitals,c,"value",await Ve.getFirstValueNumber(this.patient.patientID,c,ne.sessionDate())),u(this.vitals,c,"disabled",!0),a.push("true")):t.includes(c)?a.push("false"):u(this.vitals,c,"value",""),c==="Respiratory rate"&&s<=5&&(u(this.vitals,c,"required",!0),u(this.vitals,c,"inputHeader","Respiratory rate*"))});return await Promise.all(o),a.includes("false")?this.vitals[0].actionBtn="Finish and Save":this.vitals[0].actionBtn="Finish",!a.includes("false")},navigationMenu(e){ze.close(),this.$router.push(e)},updateVitalsStores(){ln().setVitals(this.vitals)},validationController(e){var t,a,s,o,r,l;((t=e==null?void 0:e.col)==null?void 0:t.name)=="Height And Weight Not Done"&&e.col.checked?(Te(this.vitals,"Height Weight Reason","displayNone",!1),u(this.vitals,"Height (cm)","disabled",!0),u(this.vitals,"Weight","disabled",!0),u(this.vitals,"Height (cm)","inputHeader","Height"),u(this.vitals,"Weight","inputHeader","Weight"),u(this.vitals,"Height (cm)","value",""),u(this.vitals,"Weight","value",""),this.validationStatus.heightWeight=!1):((a=e==null?void 0:e.col)==null?void 0:a.name)=="Height And Weight Not Done"&&(Te(this.vitals,"Height Weight Reason","displayNone",!0),u(this.vitals,"Height (cm)","disabled",!1),u(this.vitals,"Weight","disabled",!1),u(this.vitals,"Height (cm)","inputHeader","Height*"),u(this.vitals,"Weight","inputHeader","Weight*"),this.validationStatus.heightWeight=!0),((s=e==null?void 0:e.col)==null?void 0:s.name)=="Blood Pressure Not Done"&&e.col.checked?(Te(this.vitals,"Blood Pressure Reason","displayNone",!1),u(this.vitals,"Systolic","disabled",!0),u(this.vitals,"Diastolic","disabled",!0),u(this.vitals,"Systolic","inputHeader","Systolic Pressure"),u(this.vitals,"Diastolic","inputHeader","Diastolic pressure"),u(this.vitals,"Systolic","value",""),u(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!1):((o=e==null?void 0:e.col)==null?void 0:o.name)=="Blood Pressure Not Done"&&(Te(this.vitals,"Blood Pressure Reason","displayNone",!0),u(this.vitals,"Systolic","disabled",!1),u(this.vitals,"Diastolic","disabled",!1),u(this.vitals,"Systolic","inputHeader","Systolic Pressure*"),u(this.vitals,"Diastolic","inputHeader","Diastolic pressure*"),u(this.vitals,"Systolic","value",""),u(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!0),((r=e==null?void 0:e.col)==null?void 0:r.name)=="Pulse Rate Not Done"&&e.col.checked?(Te(this.vitals,"Pulse Rate Reason","displayNone",!1),u(this.vitals,"Pulse","disabled",!0),u(this.vitals,"Pulse","inputHeader","Pulse rate"),u(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!1):((l=e==null?void 0:e.col)==null?void 0:l.name)=="Pulse Rate Not Done"&&(Te(this.vitals,"Pulse Rate Reason","displayNone",!0),u(this.vitals,"Pulse","disabled",!1),u(this.vitals,"Pulse","inputHeader","Pulse rate*"),u(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!0)},async checkHeight(){const e=new Me,t=await e.getRecentHeightObs();if(!$e.isEmpty(t)){const a=rs(t.obs_datetime).diff(e.getBirthdate(),"year"),s=t.value_numeric;t.obs_id,a<18||e.getAge()<18||(u(this.vitals,"Height","disabled",!0),u(this.vitals,"Height","value",s))}},async validaterowData(e){this.checkHeight(),this.validationController(e),this.hasValidationErrors=[],this.vitals.forEach((t,a)=>{var s,o;(s=t==null?void 0:t.data)!=null&&s.rowData&&((o=t==null?void 0:t.data)==null||o.rowData.forEach((r,l)=>{var c,h,m;if(r.colData[0].inputHeader=="Systolic Pressure*"&&(e.inputHeader=="Systolic Pressure*"||e.inputHeader=="Diastolic pressure*"||e=="onload")||r.colData[0].inputHeader=="Systolic Pressure"&&((c=e==null?void 0:e.col)==null?void 0:c.name)=="Blood Pressure Not Done"){const f=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BPStatus=f?this.getBloodPressureStatus(r.colData[0].value,r.colData[1].value):{},this.updateBP(r.colData[0].value,r.colData[1].value)}if(r.colData[1].inputHeader=="Pulse rate*"&&(e.inputHeader=="Pulse rate*"||e=="onload")||r.colData[1].inputHeader=="Pulse rate"&&((h=e==null?void 0:e.col)==null?void 0:h.name)=="Pulse Rate Not Done"){const y=this.vitalsInstance.validator(r.colData[1])==null?this.getPulseRateStatus(r.colData[1].value):{};this.updateTemperateRate("pulse",r.colData[1].value+" BMP",y,4)}if(r.colData[0].value&&r.colData[0].inputHeader=="Temperature"){const y=this.vitalsInstance.validator(r.colData[0])==null?this.getTemperatureStatus(r.colData[0].value):{};this.updateTemperateRate("temp",r.colData[0].value+"Â°C",y,4)}if(r.colData[0].inputHeader=="Respiratory rate"){const y=this.vitalsInstance.validator(r.colData[0])==null?this.getRespiratoryRateStatus(r.colData[0].value):{};this.updateTemperateRate("respiratory",r.colData[0].value+"BMP",y,6)}if(r.colData[1].value&&r.colData[1].inputHeader=="Oxygen saturation"){const y=this.vitalsInstance.validator(r.colData[1])==null?this.getOxygenSaturationStatus(r.colData[1].value):{};this.updateTemperateRate("oxygen",r.colData[1].value+"%",y,6)}if(r.colData[0].inputHeader=="Height*"&&(e.inputHeader=="Height*"||e.inputHeader=="Weight*"||e=="onload")||r.colData[0].inputHeader=="Height"&&((m=e==null?void 0:e.col)==null?void 0:m.name)=="Height And Weight Not Done"){const f=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BMI=f?this.setBMI(r.colData[1].value,r.colData[0].value):{},this.updateBMI()}r.colData.some((f,y)=>{const D=this.vitalsInstance.validator(f);if((D==null?void 0:D.length)>0){if(this.hasValidationErrors.push("false"),f.inputHeader===e.inputHeader)return this.vitals[a].data.rowData[l].colData[y].alertsErrorMassage=!0,this.vitals[a].data.rowData[l].colData[y].alertsErrorMassage=D.flat(1/0)[0],!0}else this.hasValidationErrors.push("true"),this.vitals[a].data.rowData[l].colData[y].alertsErrorMassage=!1,this.vitals[a].data.rowData[l].colData[y].alertsErrorMassage="";return!1})}))}),this.vitals.validationStatus=!this.hasValidationErrors.includes("false")},async setBMI(e,t){var a,s,o,r,l,c,h,m;(s=(a=this.patient)==null?void 0:a.personInformation)!=null&&s.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&e&&t&&(this.BMI=await qt.getBMI(parseInt(e),parseInt(t),(c=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:c.gender,ne.calculateAge((m=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:m.birthdate,ne.sessionDate())),console.log("ðŸš€ ~ setBMI ~ this.BMI:",this.BMI),this.updateBMI())},async updateBMI(){var a,s,o,r,l,c;const e=(s=(a=this.BMI)==null?void 0:a.color)!=null?s:[],t=this.vitals[0].alerts[0];t.icon=qt.iconBMI(e),t.backgroundColor=e[0],t.textColor=e[1],t.index="BMI "+((r=(o=this.BMI)==null?void 0:o.index)!=null?r:""),t.value=(c=(l=this.BMI)==null?void 0:l.result)!=null?c:""},async updateBP(e,t){var o,r,l,c,h,m;const a=(r=(o=this.vitals[2])==null?void 0:o.alerts[0])!=null?r:[],s=(c=(l=this.BPStatus)==null?void 0:l.colors)!=null?c:[];a.icon=bn(s),a.backgroundColor=s[0],a.textColor=s[1],a.index=e+"/"+t,a.value=(m=(h=this.BPStatus)==null?void 0:h.value)!=null?m:""},async updateTemperateRate(e,t,a,s){var l,c,h,m,f,y;const o=(c=(l=this.vitals[s])==null?void 0:l.alerts)==null?void 0:c.filter(D=>D.name!==e);this.vitals[s].alerts=o;const r=(h=a==null?void 0:a.colors)!=null?h:[];(f=this.vitals[s])==null||f.alerts.push({backgroundColor:r[0],status:"",icon:"",textColor:r[1],value:(m=a==null?void 0:a.value)!=null?m:"",name:e,index:t}),console.log((y=this.vitals[4])==null?void 0:y.alerts)},getBloodPressureStatus(e,t){if(e&&t){let a,s,o,r;const c=new Me().getAge();return c<1?(a=75,s=100,o=50,r=70):c>=1&&c<6?(a=80,s=110,o=50,r=80):c>=6&&c<13?(a=85,s=120,o=55,r=80):c>=13&&c<18?(a=95,s=140,o=60,r=90):(a=100,s=130,o=60,r=90),e<a&&t<o?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP "}:e>=a&&e<=s&&t>=o&&t<=r?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP "}:e>140&&t>90?{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP"}:e<a?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP  (Using Systolic Only)"}:e>=a&&e<=s?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP  (Using Systolic Only)"}:{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP  (Using Systolic Only)"}}},getTemperatureStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=1||o>=1&&o<=18||o>=19&&o<=64||o>=65?(t=35.5,a=37.4):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Temperature "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Temperature "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Temperature "}}},getPulseRateStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=.08?(t=70,a=190):o>=.08&&o<1?(t=80,a=160):o>=1&&o<=2?(t=80,a=130):o>=3&&o<=4?(t=80,a=120):o>=5&&o<=6?(t=75,a=115):o>=7&&o<=9?(t=70,a=110):o>=10?(t=60,a=100):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Pulse Rate "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Pulse Rate "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Pulse Rate "}}},getOxygenSaturationStatus(e){if(e){let t=95,a=100;if(e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low oxygen saturation"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal oxygen saturation"}}},getRespiratoryRateStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=1?(t=30,a=60):o>=1&&o<3?(t=24,a=40):o>=3&&o<=6?(t=22,a=34):o>=6&&o<=12?(t=18,a=30):o>=12&&o<=18?(t=12,a=16):o>=19?(t=12,a=20):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low respiratory rate"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal respiratory rate"};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High respiratory rate"}}}}}),tD={class:"ion-padding",slot:"content"};function aD(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-label"),h=d("ion-item"),m=d("PreviousVitals"),f=d("ion-accordion"),y=d("ion-accordion-group"),D=d("ion-row");return p(),v(te,null,[n(l,{contentData:e.vitals,"onUpdate:inputValue":t[0]||(t[0]=C=>e.validaterowData(C))},null,8,["contentData"]),n(D,null,{default:i(()=>[n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(c,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[S("Previous measurements")])),_:1,__:[1]})]),_:1}),_("div",tD,[n(m)])]),_:1})]),_:1},512)]),_:1})],64)}const nD=T(eD,[["render",aD],["__scopeId","data-v-d7b7b31b"]]),sD=B({name:"immidiatePostnatalChecksForChild",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(Us,["examsAfterDeliveryForChild"])},mounted(){const e=Us();this.initialData=e.getInitial()},watch:{},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleValidateBaby(e){Qe(this.examsAfterDeliveryForChild,Bl,e.name,e.value)},async handleInputData(e){this.handleValidateBaby(e)}}}),iD={class:"container"};function oD(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",iD,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.examsAfterDeliveryForChild,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const lD=T(sD,[["render",oD],["__scopeId","data-v-c38fbba8"]]),rD=B({name:"ImmidiatePostnatalChecksForMother",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(zs,["examsAfterDelivery"])},mounted(){const e=zs();this.initialData=e.getInitial(),this.handleImmidiate(),this.handleHour(),this.handleUrine()},watch:{examsAfterDelivery:{handler(){this.handleImmidiate(),this.handleHour(),this.handleUrine()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleValidatePostnatal(e){Qe(this.examsAfterDelivery,$l,e.name,e.value)},async handleInputData(e){this.handleValidatePostnatal(e)},handleImmidiate(){N(this.examsAfterDelivery,"Time for postnatal check")==="immediately after delivery"||N(this.examsAfterDelivery,"Time for postnatal check")==="1 hour after delivery"?(u(this.examsAfterDelivery,"Systolic blood pressure","displayNone",!1),u(this.examsAfterDelivery,"Pulse","displayNone",!1)):(u(this.examsAfterDelivery,"Systolic blood pressure","displayNone",!0),u(this.examsAfterDelivery,"Pulse","displayNone",!0))},handleHour(){N(this.examsAfterDelivery,"Time for postnatal check")==="1 hour after delivery"?(u(this.examsAfterDelivery,"Temperature","displayNone",!1),I(this.examsAfterDelivery,"Raptured Uterus","displayNone",!1),I(this.examsAfterDelivery,"Lochia","displayNone",!1),I(this.examsAfterDelivery,"Woman urinated","displayNone",!1)):(u(this.examsAfterDelivery,"Temperature","displayNone",!0),I(this.examsAfterDelivery,"Raptured Uterus","displayNone",!0),I(this.examsAfterDelivery,"Lochia","displayNone",!0),I(this.examsAfterDelivery,"Woman urinated","displayNone",!0))},handleUrine(){N(this.examsAfterDelivery,"Woman urinated")==="Yes"?(u(this.examsAfterDelivery,"Time","displayNone",!1),u(this.examsAfterDelivery,"amount of urine","displayNone",!1),u(this.examsAfterDelivery,"color of urine","displayNone",!1)):(u(this.examsAfterDelivery,"Time","displayNone",!0),u(this.examsAfterDelivery,"amount of urine","displayNone",!0),u(this.examsAfterDelivery,"color of urine","displayNone",!0))}}}),dD={class:"container"};function cD(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",dD,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.examsAfterDelivery,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const uD=T(rD,[["render",cD],["__scopeId","data-v-cef1a91e"]]),hD=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,initialData:[]}},computed:{...w(hn,["ReasonForSubsequentVisit"])},mounted(){const e=hn();this.initialData=e.getInitial1(),this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit()},watch:{ReasonForVisit:{handler(){this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{navigationMenu(e){ze.close(),this.$router.push(e)},handleFirstAntenalVisit(){},handleSpecificConcernsVisit(){}}}),pD={class:"container"};function mD(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",pD,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ReasonForSubsequentVisit,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const fD=T(hD,[["render",mD],["__scopeId","data-v-664c84b2"]]),_D=B({components:{IonButton:it,BabyDetailsModal:ms,IonToggle:fe,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,FeatusModal:Wi},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],FeatusModalOpen:!1,arrayOfFeatus:[],selectedFeatus:0,initialData:[]}},computed:{...w($t,["fetalAssessment","fetalDetails"]),...w(Xn,["fetalPresentation"]),...w($t,["fetalsDetails"])},mounted(){const e=$t();this.initialData=e.getInitialFetalAssesment()},watch:{fetalAssessment:{handler(){this.handleNumberOfFetuses()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{handleInputData(e){Qe(this.fetalAssessment,Ri,e.name,e.value)},selectFeatus(e){this.selectedFeatus=e;const t=this.fetalsDetails.find(s=>s.featus==e);$t().setFetalDetails(t.details),this.toggleFetalModal()},handleNumberOfFetuses(){const e=le(this.fetalAssessment,"Number of fetuses","value");this.arrayOfFeatus=[...Array(Number(e)).keys()]},handleAddFeatusDetails(e){$t().setFetalDetails(),this.selectedFeatus=e,this.toggleFetalModal()},closeFetalModal(){},handleFeatusYes(){this.toggleFetalModal();const e=$t(),t=this.fetalsDetails.findIndex(a=>a.featus==this.selectedFeatus);t<0?this.fetalsDetails.push({featus:this.selectedFeatus,details:[...$e.cloneDeep(e.fetalDetails)]}):this.fetalsDetails[t].details=[...$e.cloneDeep(e.fetalDetails)],e.setFetalDetails()},handleFeatusNo(){this.toggleFetalModal(),$t().fetalAssessment.setFetalDetals()},toggleFetalModal(){this.FeatusModalOpen=!this.FeatusModalOpen},navigationMenu(e){ze.close(),this.$router.push(e)},checkIfSubmitted(e){return this.fetalsDetails.find(t=>t.featus==e)}}}),vD={class:"container"},gD={key:0};function yD(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("FeatusModal"),f=d("ion-button"),y=d("ion-card-content"),D=d("ion-card");return p(),v("div",vD,[n(D,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Fetal assessment results")])),_:1,__:[0]})]),_:1}),n(y,null,{default:i(()=>[n(h,{contentData:e.fetalAssessment,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),n(m,{closeModalFunc:e.closeFetalModal,onYes:e.handleFeatusYes,onNo:e.handleFeatusNo,isOpen:e.FeatusModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfFeatus.length>0?(p(),v("div",gD,[(p(!0),v(te,null,pe(e.arrayOfFeatus,C=>(p(),v("div",{key:C},[e.checkIfSubmitted(C)?$("",!0):(p(),A(f,{key:0,onClick:V=>e.handleAddFeatusDetails(C)},{default:i(()=>[S("Add Featus "+k(C+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(C)?(p(),A(f,{key:1,onClick:V=>e.selectFeatus(C)},{default:i(()=>[S("View Featus "+k(C+1),1)]),_:2},1032,["onClick"])):$("",!0)]))),128))])):$("",!0)]),_:1})]),_:1})])}const bD=T(_D,[["render",yD],["__scopeId","data-v-c7a76c0d"]]),fi=[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Clinical counselling done?",selectedValue:"",name:"Clinical counselling",class:"bold"},data:[{name:"Counseling conducted on the risks of severe hypertension",value:"Counseling conducted on the risks of severe hypertension",checked:!1,colSize:12},{name:"Counselling on HIV positive",value:"Counselling on HIV positive",checked:!1,colSize:12},{name:"Counselling on Hepatitis B",value:"Counselling on Hepatitis B",checked:!1,colSize:12},{name:"Counselling on Hepatitis C",value:"Counselling on Hepatitis C",checked:!1,colSize:12},{name:"Counselling on Syphilis",value:"Counselling on Syphilis",checked:!1,colSize:12},{name:"Counselling on TB screening",value:"Counselling on TB screening",checked:!1,colSize:12},{name:"Counselling on gestational diabetes mellitus (GDM)",value:"Counselling on gestational diabetes mellitus (GDM)",checked:!1,colSize:12},{name:"Counselling on anaemia conducted",value:"Counselling on anaemia conducted",checked:!1,colSize:12}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",sideColSize:0,checkboxBtnContent:{header:{title:"Reason if any clinical counselling not conducted?",selectedValue:"",name:"Reason clinical counselling not done",class:"bold"},data:[{name:"Client was referred",value:"client was referred",colSize:"7"},{name:"Other",value:"Other",colSize:"7"}]}},{childName:"Other",classDash:"dashed_bottom_border",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",icon:P.editPen,name:"Other notes",inputType:"",valueType:"text",value:"",eventType:"input",inputWidth:"100%",required:!0}]}]}}],_i=qe("clinicalCounsellingStore",{state:()=>({clinicalCounselling:[...fi]}),actions:{addBehaviourInfo(e){this.clinicalCounselling=e},getInitial(){return[...$e.cloneDeep(fi)]}},persist:!0}),DD=B({name:"diagnosisTreatment",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:ze,IonToggle:fe,IonSelectOption:_e,IonInput:ae,IonSelect:ve,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0,initialData:[]}},setup(){return{checkmark:oe,pulseOutline:re}},computed:{...w(_i,["clinicalCounselling"])},mounted(){const e=_i();this.initialData=e.getInitial()},watch:{},methods:{goToNextSection(){this.currentSection<4&&this.currentSection++}}}),SD={class:"container"};function CD(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",SD,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.clinicalCounselling,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const wD=T(DD,[["render",CD],["__scopeId","data-v-7c916b1b"]]),an=qe("labourWomanBehaviourStore",{state:()=>({dailyCaffeineIntake:[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{class:"bold",title:"Daily caffeine intake",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than 2 cups of coffee",value:"more than 2 cups of coffee",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than 4 cups of tea",value:"more than 4 cups of tea",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than 12 bars of chocolate",value:"more than 12 bars of chocolate",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than one bottle of soda, energy, soft drink",value:"more than one bottle of soda, energy, soft drink",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}}],Tobacco:[{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Recently quit tobacco products",selectedValue:"",name:"Recently quit tobacco products"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Exposure to second hand smoke",selectedValue:"",name:"Exposure to second hand smoke"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Pica",selectedValue:"",name:"Pica"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Alcohol Intake",selectedValue:"",name:"Alcohol"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}}]}),actions:{setPersonalInformation(e){this.dailyCaffeineIntake=e}}}),ID=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Jt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(vt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e,t,a,s;try{const o=await Ve.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Daily caffeine use"),r=await Ve.getAllValueCoded(((t=this.patient)==null?void 0:t.patientID)||"","Recently quit tobacco products"),l=await Ve.getAllValueCoded(((a=this.patient)==null?void 0:a.patientID)||"","Exposure to second hand smoke"),c=await Ve.getAllValueCoded(((s=this.patient)==null?void 0:s.patientID)||"","Alcohol"),h=[...o,...r,...l,...c];console.log("Fetched Daily caffeine use:",h),this.immunisation=h}catch(o){console.error("Error fetching Daily caffeine use:",o)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patient_id,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ye.getConceptName(a.value_coded)))},openModal(){St(Kt)}}}),PD={class:"visitContent"},ND={class:"visitData"},kD={key:0},BD={style:{"max-width":"1000px"}},$D={key:1,class:"noData"};function MD(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",PD,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",ND,[e.immunisation&&e.immunisation.length>0?(p(),v("div",kD,[_("div",BD,[t[1]||(t[1]=_("div",{class:"heading"},"WOMAN BEHAVIOUR",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,pe(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",$D,"WOMEN BEHAVIOUR DATA IS EMPTY"))])]),_:1})]),_:1})])}const AD=T(ID,[["render",MD],["__scopeId","data-v-06755d32"]]),ED=B({name:"Menu",components:{BasicForm:G,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,LabourBehaviourHistory:AD},data(){return{iconsContent:P,currentSection:0}},mounted(){an(),an(),this.handleNone()},watch:{dailyCaffeineIntake:{handler(e){this.handleNone(),this.handleInputData(e)},deep:!0}},computed:{...w(an,["dailyCaffeineIntake"]),...w(an,["Tobacco"]),DailyCaffeineIntake(){return ce(this.dailyCaffeineIntake,"Daily caffeine use")},SubstanceAbuse(){return N(this.Tobacco,"Recently quit tobacco products")},SecondHandSmoke(){return N(this.Tobacco,"Exposure to second hand smoke")}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{validationCaffeineRules(e){return It(this.dailyCaffeineIntake,e.name,this[e.name])},validationTobaccoRules(e){return It(this.dailyCaffeineIntake,e.name,this[e.name])},async handleInputData(e){this.validationCaffeineRules(e),this.validationTobaccoRules(e)},handleNone(){var t;const e=["More than 2 cups of coffee","More than 4 cups of tea","More than 12 bars of chocolate","More than one bottle of soda, energy, soft drink"];(t=ce(this.dailyCaffeineIntake,"None"))!=null&&t.checked?e.forEach(a=>{R(this.dailyCaffeineIntake,a,"checked",!1),R(this.dailyCaffeineIntake,a,"disabled",!0)}):e.forEach(a=>{R(this.dailyCaffeineIntake,a,"disabled",!1)})},navigationMenu(e){ze.close(),this.$router.push(e)}}}),VD={class:"container"};function OD(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",VD,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.dailyCaffeineIntake,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.Tobacco,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const TD=T(ED,[["render",OD],["__scopeId","data-v-c7a27dd7"]]),FD=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Jt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(vt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ve.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Does the woman have any allergies?");console.log("Fetched allergies use:",t),this.immunisation=t}catch(t){console.error("Error fetching allergies use:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ye.getConceptName(a.value_coded)))},openModal(){St(Kt)}}}),HD={class:"visitContent"},RD={class:"visitData"},LD={key:0},xD={style:{"max-width":"1000px"}},UD={key:1,class:"noData"};function zD(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",HD,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",RD,[e.immunisation&&e.immunisation.length>0?(p(),v("div",LD,[_("div",xD,[t[1]||(t[1]=_("div",{class:"heading"},"ALLERGIES",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,pe(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",UD,"ALLERGIES DATA IS EMPTY"))])]),_:1})]),_:1})])}const qD=T(FD,[["render",zD],["__scopeId","data-v-3ee41ee7"]]),Je={albendazole:{name:"Albendazole",value:"albendazole"},aluminiumHydroxide:{name:"Aluminium-hydroxide",value:"aluminium-hydroxide"},calcium:{name:"Calcium",value:"calcium"},chamomile:{name:"Chamomile",value:"chamomile"},folicAcid:{name:"Folic-acid",value:"folic-acid"},ginger:{name:"Ginger",value:"ginger"},fish:{name:"Fish",value:"fish"},iron:{name:"Iron",value:"iron"},malariaMedication:{name:"Sulfadoxine-Pyrimethamine",value:"Sulfadoxine-Pyrimethamine"},mebendazole:{name:"Mebendazole",value:"mebendazole"},penicillin:{name:"Penicillin",value:"penicillin"},prEPTenofovirDisoproxilFumarate:{name:"PrEP(TDF)",value:"PrEP(TDF)"}},WD=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have any allergies?",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Je.albendazole.name,disabled:!1,value:Je.albendazole.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Je.aluminiumHydroxide.name,disabled:!1,value:Je.aluminiumHydroxide.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Je.calcium.name,disabled:!1,value:Je.calcium.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Je.chamomile.name,disabled:!1,value:Je.chamomile.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Je.folicAcid.name,disabled:!1,value:Je.folicAcid.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Je.ginger.name,disabled:!1,value:Je.ginger.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Je.fish.name,disabled:!1,value:Je.fish.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Je.iron.name,disabled:!1,value:Je.iron.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Je.malariaMedication.name,disabled:!1,value:Je.malariaMedication.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Je.mebendazole.name,disabled:!1,value:Je.mebendazole.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Je.penicillin.name,disabled:!1,value:Je.penicillin.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Je.prEPTenofovirDisoproxilFumarate.name,disabled:!1,value:Je.prEPTenofovirDisoproxilFumarate.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:"None",value:"none",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:"Other",value:"other",disabled:!1,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{childName:"Other",classDash:"dashed_bottom_border",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",icon:P.editPen,value:"",name:"Other notes",valueType:"text",eventType:"input",inputWidth:"82%",required:!0}]}]}}],GD=qe("labourAllergiesStore",{state:()=>({labourAllergies:[...WD]}),actions:{addAllegy(e){this.labourAllergies=e}}}),jD=B({name:"Past Surguries",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,LabourAllergiesHistory:qD},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=Se(),t=Se(),a=Se();Se(),Se(),Se(),Se(),Se(),Se(),Se(),Se(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleAllergies()},watch:{allegy:{handler(){this.handleAllergies()},deep:!0}},computed:{...w(GD,["labourAllergies"])},methods:{async getFacility(e){return await Yt.getFacilities({name:e})},handleAllergies(){var t;const e=["Other","PrEP(TDF)","Albendazole","Aluminium-hydroxide","Calcium","Sulfadoxine-Pyrimethamine","Chamomile","Folic-acid","Ginger","Fish","Iron","Mebendazole","Penicillin"];(t=ce(this.labourAllergies,"None"))!=null&&t.checked?e.forEach(a=>{R(this.labourAllergies,a,"checked",!1),R(this.labourAllergies,a,"disabled",!0)}):e.forEach(a=>{R(this.labourAllergies,a,"disabled",!1)})}}}),YD={class:"container"},JD={class:"ion-padding",slot:"content"};function KD(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourAllergiesHistory"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card");return p(),v("div",YD,[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Allergies History")])),_:1,__:[0]})]),_:1}),_("div",JD,[n(h)])]),_:1})]),_:1},512),n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.labourAllergies,initialData:e.initialData1},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const QD=T(jD,[["render",KD],["__scopeId","data-v-5da4e321"]]),XD=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Jt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(vt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ve.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Does the woman have any past surgeries done?");console.log("Fetched past surgeries use:",t),this.immunisation=t}catch(t){console.error("Error fetching past surgeries use:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ye.getConceptName(a.value_coded)))},openModal(){St(Kt)}}}),ZD={class:"visitContent"},e1={class:"visitData"},t1={key:0},a1={style:{"max-width":"1000px"}},n1={key:1,class:"noData"};function s1(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",ZD,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",e1,[e.immunisation&&e.immunisation.length>0?(p(),v("div",t1,[_("div",a1,[t[1]||(t[1]=_("div",{class:"heading"},"PAST SURGERIES DATA",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,pe(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",n1,"PAST SURGERIES DATA IS EMPTY"))])]),_:1})]),_:1})])}const i1=T(XD,[["render",s1],["__scopeId","data-v-29d3b668"]]),kt={dilationAndCurrettage:{name:"Dilation and currettage",value:"dilation and currettage"},Myomectomy:{name:"Myomectomy",value:"myomectomy"},removalOfOvarianCystst:{name:"Removal of ovarian cyst",value:"Removal of ovarian cyst"},Oophorectomy:{name:"Oophorectomy",value:"oophorectomy"},Salpingectomy:{name:"Salpingectomy"},cervicalCone:{name:"Cervical cone",value:"cervical cone"}},vi=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have any past medical and surgical?",selectedValue:"",class:"bold",name:"Does the woman have any past surgeries done?"},data:[{name:kt.dilationAndCurrettage.name,value:kt.dilationAndCurrettage.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:kt.Myomectomy.name,value:kt.Myomectomy.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Past surgeries done?"},data:[{name:kt.removalOfOvarianCystst.name,value:kt.removalOfOvarianCystst.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:kt.Oophorectomy.name,value:kt.Oophorectomy.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any past surgeries done?"},data:[{name:kt.Salpingectomy.name,value:kt.Salpingectomy.name,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:kt.cervicalCone.name,value:kt.cervicalCone.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any past surgeries done?"},data:[{name:"None",value:"none",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:"Other",value:"Other",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{childName:"Other",classDash:"dashed_bottom_border",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",icon:P.editPen,value:"",name:"Other notes",valueType:"text",eventType:"input",inputWidth:"82%",required:!0}]}]}}],o1=qe("labourPastSurgeriesStore",{state:()=>({labourPastSurgeries:[...vi]}),actions:{addLabourPastSurgeries(e){this.labourPastSurgeries=e},getInitial(){return[...$e.cloneDeep(vi)]}}}),l1=B({name:"Past Surguries",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,LabourPastSurgeriesHistory:i1},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=Se(),t=Se(),a=Se();Se(),Se(),Se(),Se(),Se(),Se(),Se(),Se(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleSurgries()},watch:{medicalHistory:{handler(){this.handleSurgries(),this.handleDisable()},deep:!0}},computed:{...w(o1,["labourPastSurgeries"])},methods:{async getFacility(e){return await Yt.getFacilities({name:e})},handleSurgries(){var t;const e=["Dilation and currettage","Myomectomy","Removal of ovarian cystst","Oophorectomy","Removal of ovarian cyst","Salpingectomy","Cervical cone","Other"];(t=ce(this.labourPastSurgeries,"None"))!=null&&t.checked?e.forEach(a=>{R(this.labourPastSurgeries,a,"checked",!1),R(this.labourPastSurgeries,a,"disabled",!0)}):e.forEach(a=>{R(this.labourPastSurgeries,a,"disabled",!1)})},handleDisable(){ce(this.labourPastSurgeries,"NoSurgery")=="otherSurguries"?Le(this.labourPastSurgeries,"Other","disabled",!0):Le(this.labourPastSurgeries,"Other","disabled",!1)}}}),r1={class:"container"},d1={class:"ion-padding",slot:"content"};function c1(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourPastSurgeriesHistory"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card");return p(),v("div",r1,[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Surgeries History")])),_:1,__:[0]})]),_:1}),_("div",d1,[n(h)])]),_:1})]),_:1},512),n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.labourPastSurgeries,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const u1=T(l1,[["render",c1],["__scopeId","data-v-d7e6d6d0"]]),h1=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Jt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(vt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ve.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","chronic conditions");console.log("Fetched chronic conditions:",t),this.immunisation=t}catch(t){console.error("Error fetching chronic conditions:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ye.getConceptName(a.value_coded)))},openModal(){St(Kt)}}}),p1={class:"visitContent"},m1={class:"visitData"},f1={key:0},_1={style:{"max-width":"1000px"}},v1={key:1,class:"noData"};function g1(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",p1,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",m1,[e.immunisation&&e.immunisation.length>0?(p(),v("div",f1,[_("div",_1,[t[1]||(t[1]=_("div",{class:"heading"},"CHRONIC CONDITIONS",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,pe(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",v1,"CHRONIC CONDITIONS DATA IS EMPTY"))])]),_:1})]),_:1})])}const y1=T(h1,[["render",g1],["__scopeId","data-v-f729b889"]]),nn={autoImmuneDesease:{name:"Auto-immune desease",value:"auto immune disease"},asthma:{name:"Asthma",value:"asthma"}},ga={sickleCell:{name:"Sickle cell",value:"sickle cell"},anaemia:{name:"Anemia",value:"anemia"},thalassemia:{name:"Thalassemia",value:"thalassemia"}},gi={gynaelogical:{name:"Gynae Cancer",value:"gynae cancer"}},sn={ccf:{name:"CCF"},rhd:{name:"RHD",value:"rhd"}},da={gestationalDiabetes:{name:"Gestational diabetes",value:"gestational diabetes"},preExistingType1:{name:"Diabetes Type 1",value:"diabetes type 1"},preExistingType2:{name:"Diabetes Type 2",value:"diabetes type 2"},otherDiabetis:{name:""}},yi={epilespy:{name:"Epilepsy",value:"epilepsy"}},et={hivTestRequired:{name:"HIV test required",value:"HIV test required"},hivTestOrdered:{name:"HIV test ordered",value:"HIV test ordered"},hivTestConducted:{name:"HIV test ordered"},hivTestNotDone:{name:"HIV test not done"},testStockOut:{value:"Test stock-out"},expiredTests:{value:" expired tests"},hivPositive:{name:"HIV Positive",value:"HIV Positive"},hivNegative1:{name:"HIV Negative 1",value:"HIV Negative 1"},hivNegative2:{name:"HIV Negative 2",value:"HIV Negative 2"},inconclusive:{name:"Inconclusive",value:"inconclusive"},highRiskYes:{name:"Yes",value:"yes"},highRiskNo:{name:"No",value:"no"},reasonsTestNotDone:{name:"",value:"reasonsTestNotDone"}},at={syphilisTestConducted:{name:"Syphilis test conducted",value:"Syphilis test conducted"},syphilisTestOrdered:{name:"Syphilis test ordered",value:"Syphilis test ordered"},syphilisTestNotDone:{name:"Syphilis Test Not Done",value:"syphilisTestNotDone"},rapidSyphilisTest:{name:"Rapid syphilis test",value:"rapid syphilis test"},offSiteLabTest:{name:"Off-site lab test",value:"Off-site lab test"},treponemaPallidum:{name:"TPHA",value:"TPHA"},testStockOut:{name:"Test stock-out",value:"Test stock-out"},expiredTests:{name:"Expired tests",value:"Expired tests"},syphilisPositiveResults:{name:"Syphilis positive",value:"Syphilis positive"},syphilisNegativeResults:{name:"Syphilis Negative",value:"syphilis negative"},reasonsTestNotDone:{value:""}},bi={hypertension:{name:"Hypertension",value:"hypertension"}},Di={kidney:{name:"Kidney Disease",value:"kidney disease"}},Si={tb:{name:"TB",value:"tb"}},Ci={mentalIlliness:{name:"Mental illness",value:"mental illness"}},wi=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have existing Chronic Health Conditions? *",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:nn.autoImmuneDesease.name,value:nn.autoImmuneDesease.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:nn.asthma.name,value:nn.asthma.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:ga.sickleCell.name,value:ga.sickleCell.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:gi.gynaelogical.name,value:gi.gynaelogical.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:ga.anaemia.name,value:ga.anaemia.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:ga.thalassemia.name,value:ga.thalassemia.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:sn.ccf.name,value:sn.rhd.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:sn.rhd.name,value:sn.rhd.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:da.gestationalDiabetes.name,value:da.gestationalDiabetes.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:da.preExistingType1.name,value:da.preExistingType1.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:da.preExistingType2.name,value:da.preExistingType2.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:yi.epilespy.name,value:yi.epilespy.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:bi.hypertension.name,value:bi.hypertension.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Di.kidney.name,value:Di.kidney.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:Si.tb.name,value:Si.tb.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Ci.mentalIlliness.name,value:Ci.mentalIlliness.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:"HIV positive",value:"hiv positive",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:"Other",value:"other",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:"None",value:"none",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{sideColSize:0,classDash:"dashed_bottom_border",childName:"Other",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify other chronic conditions",icon:P.editPen,valueType:"text",value:da.otherDiabetis.name,name:"Other notes",eventType:"input",inputWidth:"85%",required:!0}]}]}},{classDash:"dashed_bottom_border",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"HIV test date",icon:P.calenderPrimary,value:"",name:"HIV test date",eventType:"blur",valueType:"text",inputWidth:"50%",required:!0,isDatePopover:!0,placeholder:"Pick date"}]}]}},{childName:"HIV positive",sideColSize:.5,selectdData:[],classDash:"dashed_bottom_border",isFinishBtn:!1,radioBtnContent:{header:{title:"Is the client on ART?",selectedValue:"",name:"chronic conditions",displayNone:!0,displayNext:"Yes"},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"no",colSize:"2.5"}]}},{childName:"chronic conditions",classDash:"dashed_bottom_border",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"ART number",value:"",name:"Art number",eventType:"blur",valueType:"text",inputWidth:"50%",required:!0}]}]}},{childName:"chronic conditions",sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Facility for ART",icon:P.search,value:"",name:"facility for art",popOver:!0,valueType:"text",eventType:"input",required:!0,alertsErrorMassage:"",inputWidth:"50%",placeholder:"Search for facility",popOverData:{filterData:!1,data:[]},id:"",idName:"facility_id"}]}]}}],Wn=qe("labourChronicHealthConditionsStore",{state:()=>({labourChronicHealthConditions:[...wi],labourHivTest:[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Was the hiv test conducted?",selectedValue:"",class:"bold",name:"hivOption"},data:[{name:et.hivTestRequired.name,value:et.hivTestRequired.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.hivTestOrdered.name,value:et.hivTestOrdered.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.hivTestConducted.name,value:"hivTestConducted",labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.hivTestNotDone.name,value:"hivTestNotDone",labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{data:{rowData:[{colData:[{inputHeader:"HIV test date",icon:P.calenderPrimary,value:"",name:"Test Date",eventType:"blur",required:!0,isDatePopover:!0}]}]}},{checkboxBtnContent:{header:{title:"Reasons HIV test not done:",selectedValue:"",class:"bold",name:"hivOutcome"},data:[{name:"Test Stock Out",value:et.testStockOut.value,labelPlacement:"start",colSize:"9",justify:"space-between",checked:!1},{name:"Expired Tests",value:et.expiredTests.value,labelPlacement:"start",colSize:"9",justify:"space-between",checked:!1},{name:"Other",value:"other",labelPlacement:"start",colSize:"9",justify:"space-between",checked:!1}]}},{data:{rowData:[{colData:[{inputHeader:"specify",icon:P.editPen,value:et.reasonsTestNotDone.name,name:et.reasonsTestNotDone.value,eventType:"input",inputWidth:"55%",required:!0}]}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Select the result of HIV test",name:"test2",selectedValue:"",class:"bold"},data:[{name:et.hivPositive.name,value:et.hivPositive.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.hivNegative1.name,value:et.hivNegative1.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.hivNegative2.name,value:et.hivNegative2.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.inconclusive.name,value:et.inconclusive.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{name:"test1",title:"Is the woman at high risk of HIV?",selectedValue:"",class:"bold"},data:[{name:et.highRiskYes.name,value:et.highRiskYes.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.highRiskNo.name,value:et.highRiskNo.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}}],labourSyphilisTest:[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Select whether:",name:"syphilisOption",class:"bold",selectedValue:""},data:[{name:at.syphilisTestConducted.name,value:at.syphilisTestConducted.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:at.syphilisTestOrdered.name,value:at.syphilisTestOrdered.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:at.syphilisTestNotDone.name,value:at.syphilisTestNotDone.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{radioBtnContent:{header:{displayNone:!0,name:"syphilisDetails",class:"bold",title:"Select the type of syphilis test that was done",selectedValue:""},data:[{name:at.rapidSyphilisTest.name,value:at.rapidSyphilisTest.value,labelPlacement:"start",colSize:"7",justify:"space-between",checked:!1},{name:at.offSiteLabTest.name,value:at.offSiteLabTest.value,labelPlacement:"start",colSize:"7",justify:"space-between",checked:!1},{name:at.treponemaPallidum.name,value:at.treponemaPallidum.value,labelPlacement:"start",colSize:"7",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{title:"Syphilis test result",class:"bold",selectedValue:"",name:"syphlisResults"},data:[{name:at.syphilisPositiveResults.name,value:at.syphilisPositiveResults.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:at.syphilisNegativeResults.name,value:at.syphilisNegativeResults.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{data:{rowData:[{colData:[{inputHeader:"Syphilis test date",icon:P.calenderPrimary,value:"",name:"syphilisDate",eventType:"blur",required:!0,inputWidth:"55%",isDatePopover:!0}]}]}},{data:{rowData:[{colData:[{inputHeader:"Syphilis test date",icon:P.calenderPrimary,value:"",name:"syphilisDate",eventType:"blur",required:!0,inputWidth:"300px",isDatePopover:!0}]}]}},{selectdData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"Reason syphilis test not done",selectedValue:"",name:"notDone",class:"bold"},data:[{name:at.testStockOut.name,value:at.testStockOut.value,checked:!1,labelPlacement:"start",colSize:"9",justify:"space-between"},{name:at.expiredTests.name,value:at.expiredTests.value,checked:!1,labelPlacement:"start",colSize:"9",justify:"space-between"},{name:"Other",value:"other",checked:!1,labelPlacement:"start",colSize:"9",justify:"space-between"}]}},{data:{rowData:[{colData:[{inputHeader:"specify",icon:P.editPen,value:at.reasonsTestNotDone.value,name:"Reason",eventType:"input",inputWidth:"55%",required:!0}]}]}}]}),actions:{addExisitingChronicHealthConditions(e){this.labourChronicHealthConditions=e},addhivTest(e){this.labourHivTest=e},addSyphilisTest(e){this.labourSyphilisTest=e},getInitial2(){return[...$e.cloneDeep(wi)]}}}),b1=B({name:"Past Surguries",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,LabourChronicHistory:y1},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=Se(),t=Se(),a=Se();Se(),Se(),Se(),Se(),Se(),Se(),Se(),Se(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleHivResults(),this.handleSyphilis(),this.handleChronicCondition(),this.handleHivConducted(),this.handleHivConductedOptin(),this.handleOtherHiv(),this.handleSyphlisdate(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis(),this.handleTestNotDone(),this.handleHIVPositive()},watch:{hivTest:{handler(){this.handleHivResults(),this.handleOtherHiv(),this.handleHivConducted(),this.handleTestNotDone(),this.handleHivConductedOptin()},deep:!0},syphilisTest:{handler(){this.handleSyphilis(),this.handleSyphlisdate(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis()},deep:!0},exisitingChronicHealthConditions:{handler(e){this.handleChronicCondition(),this.handleHIVPositive(),this.handleInputData(e)},deep:!0}},computed:{...w(Wn,["labourChronicHealthConditions"]),...w(Wn,["labourHivTest"]),...w(Wn,["labourSyphilisTest"]),ExistingChronicConditions(){return ce(this.labourChronicHealthConditions,"chronic conditions")}},methods:{validationRules(e){return It(this.labourChronicHealthConditions,e.name,this[e.name])},async handleInputData(e){this.validationRules(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),u(this.labourChronicHealthConditions,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Yt.getFacilities({name:e})},handleHIVPositive(){var e;((e=ce(this.labourChronicHealthConditions,"HIV positive"))==null?void 0:e.value)=="hiv positive"?(u(this.labourChronicHealthConditions,"HIV test date","displayNone",!1),I(this.labourChronicHealthConditions,"Is client on ART","displayNone",!1)):(u(this.labourChronicHealthConditions,"HIV test date","displayNone",!0),I(this.labourChronicHealthConditions,"Is client on ART","displayNone",!0))},handleHivResults(){N(this.labourHivTest,"test2")=="hivPositive"?I(this.labourHivTest,"test1","displayNone",!1):I(this.labourHivTest,"test1","displayNone",!0)},handleHivConductedOptin(){N(this.labourHivTest,"hivOption")=="hivTestConducted"?I(this.labourHivTest,"test2","displayNone",!1):I(this.labourHivTest,"test2","displayNone",!0)},handleOtherHiv(){var e;((e=ce(this.labourHivTest,"Other"))==null?void 0:e.value)=="other"?u(this.labourHivTest,"reasonsTestNotDone","displayNone",!1):u(this.labourHivTest,"reasonsTestNotDone","displayNone",!0)},handleSyphilis(){N(this.labourSyphilisTest,"syphilisOption")=="syphilisTestConducted"?I(this.labourSyphilisTest,"syphilisDetails","displayNone",!1):I(this.labourSyphilisTest,"syphilisDetails","displayNone",!0)},handleChronicCondition(){var t;const e=["Auto-immune desease","Asthma","Sickle cell","Anemia","HIV positive","Thalassemia","Gynaecological","CCF","RHD","Gynae Cancer","Diabetes Type 1","Diabetes Type 2","Gestational diabetes","pre-existing type 1","pre-existing type 2","Epilepsy","Hypertension","Kidney Disease","TB","Mental illness","Other"];(t=ce(this.labourChronicHealthConditions,"None"))!=null&&t.checked?e.forEach(a=>{R(this.labourChronicHealthConditions,a,"checked",!1),R(this.labourChronicHealthConditions,a,"disabled",!0)}):e.forEach(a=>{R(this.labourChronicHealthConditions,a,"disabled",!1)})},handleHivConducted(){N(this.labourHivTest,"hivOption")=="hivTestConducted"?u(this.labourHivTest,"testDate","displayNone",!1):u(this.labourHivTest,"testDate","displayNone",!0)},handleTestNotDone(){N(this.labourHivTest,"hivOption")=="hivTestNotDone"?Le(this.labourHivTest,"hivOutcome","displayNone",!1):Le(this.labourHivTest,"hivOutcome","displayNone",!0)},handleSyphlisdate(){N(this.labourSyphilisTest,"syphilisOption")=="syphilisTestConducted"?u(this.labourSyphilisTest,"syphilisDate","displayNone",!1):u(this.labourSyphilisTest,"syphilisDate","displayNone",!0)},handleSyphilisNotDone(){var e;((e=N(this.labourSyphilisTest,"syphilisOption"))==null?void 0:e.value)=="syphilisTestNotDone"?Le(this.labourSyphilisTest,"notDone","displayNone",!1):Le(this.labourSyphilisTest,"notDone","displayNone",!0)},handleSpecifySyphilis(){ce(this.labourSyphilisTest,"Other")=="other"?u(this.labourSyphilisTest,"Reason","displayNone",!1):u(this.labourSyphilisTest,"Reason","displayNone",!0)}}}),D1={class:"container"},S1={class:"ion-padding",slot:"content"};function C1(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourChronicHistory"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card");return p(),v("div",D1,[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Chronical Health conditions History")])),_:1,__:[0]})]),_:1}),_("div",S1,[n(h)])]),_:1})]),_:1},512),n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.labourChronicHealthConditions,initialData:e.initialData2,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const w1=T(b1,[["render",C1],["__scopeId","data-v-2ba09954"]]),I1=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Jt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(vt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ve.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","The woman received tetanus doses for immunization?");console.log("Fetched tetanus doses for immunization:",t),this.immunisation=t}catch(t){console.error("Error fetching tetanus doses for immunization:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ye.getConceptName(a.value_coded)))},openModal(){St(Kt)}}}),P1={class:"visitContent"},N1={class:"visitData"},k1={key:0},B1={style:{"max-width":"1000px"}},$1={key:1,class:"noData"};function M1(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",P1,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",N1,[e.immunisation&&e.immunisation.length>0?(p(),v("div",k1,[_("div",B1,[t[1]||(t[1]=_("div",{class:"heading"},"IMMUNISATION DATA",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,pe(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",$1,"IMMUNISATION DATA IS EMPTY"))])]),_:1})]),_:1})])}const A1=T(I1,[["render",M1],["__scopeId","data-v-4e85aaa3"]]);ds().shape({"The woman received tetanus doses for immunization?":Ro().required("This field is required")});const Ii=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"The woman received tetanus doses for immunization*?",selectedValue:"",name:"The woman received tetanus doses for immunization?",alertsErrorMassage:""},data:[{name:"Fully Immunised",value:"fully immunised",colSize:"4"},{name:"Under Immunised",value:"under immunised",colSize:"4"},{name:"No doses",value:"no doses",colSize:"4.001"},{name:"Unknown doses",value:"unknown doses",colSize:"4"}]}},{selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{class:"bold",title:"Number of under immunised tetanus doses",selectedValue:"",displayNone:!0,name:"Number of tetanus doses",alertsErrorMassage:""},data:[{name:"One dose",value:"one dose",colSize:"4"},{name:"Two doses",value:"two doses",colSize:"4"},{name:"Three doses",value:"three doses",colSize:"4.001"},{name:"Four doses",value:"four doses",colSize:"4"}]}},{isFinishBtn:!1,classDash:"",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt6Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,classDash:"",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt7Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 2 immunisation date",value:"",name:"tt8Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""}]}]}},{sideColSize:.5,isFinishBtn:!1,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt9Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 2 immunisation date",value:"",name:"tt10Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 3 immunisation date",value:"",name:"tt11Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt1Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 2 immunisation date",value:"",name:"tt2Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 3 immunisation date",value:"",name:"tt3Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 4 immunisation date",value:"",name:"tt4Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 5 immunisation date",value:"",name:"tt5Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"12",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 2 immunisation date",value:"",name:"13",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 3 immunisation date",value:"",name:"14",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 4 immunisation date",value:"",name:"15",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""}]}]}},{sideColSize:.5,selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{class:"bold",title:"Reason Tetanus toxoid (TT) was not conducted",name:"Reason Tetanus toxoid (TT) was not conducted",selectedValue:"",displayNone:!0,alertsErrorMassage:""},data:[{name:"Stockout",value:"stockout",colSize:"5"},{name:"Client is ill",value:"client is ill",colSize:"5"},{name:"Client refused",value:"client refused",colSize:"5"},{name:"Allergy to vaccine",value:"allergy",colSize:"5"},{name:"Other",value:"other",colSize:"5"}]}},{classDash:"dashed_bottom_border",sideColSize:.5,isFinishBtn:!1,sectionHeader:"",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify other reasons",value:"",name:"Other",icon:P.editPen,required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""}]}]}}],Pi=qe("labourVaccineStore",{state:()=>({labourTetanus:[...Ii]}),actions:{setTetanus(e){this.labourTetanus=e},getInitial(){return[...$e.cloneDeep(Ii)]}}}),E1=B({name:"Current",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie,LabourVaccineHistory:A1},data(){return{iconsContent:P,currentPregnanciesInstance:{},inputField:"",setName:"",initialData:[],initialData1:[],initialData2:[]}},computed:{...w(Pi,["labourTetanus"])},mounted(){Bt(),Bt(),Bt();const e=Pi();this.initialData=e.getInitial(),this.handleTetanus(),this.validaterowData({}),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},setup(){return{checkmark:oe,pulseOutline:re}},watch:{labourTetanus:{handler(e){this.handleInputData(e),this.handleTetanus(),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},deep:!0}},methods:{async handleImmunValidation(e){Qe(this.labourTetanus,Li,e.name,e.value)},validationRules(e){return It(this.labourTetanus,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},async handleInputData(e){this.handleImmunValidation(e),this.validaterowData(e)},handleTetanus(){N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="fully immunised"?(u(this.labourTetanus,"tt1Date","displayNone",!1),u(this.labourTetanus,"tt2Date","displayNone",!1),u(this.labourTetanus,"tt3Date","displayNone",!1),u(this.labourTetanus,"tt4Date","displayNone",!1),u(this.labourTetanus,"tt5Date","displayNone",!1)):(u(this.labourTetanus,"tt1Date","displayNone",!0),u(this.labourTetanus,"tt2Date","displayNone",!0),u(this.labourTetanus,"tt3Date","displayNone",!0),u(this.labourTetanus,"tt4Date","displayNone",!0),u(this.labourTetanus,"tt5Date","displayNone",!0))},handleUnderImmunised(){N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?I(this.labourTetanus,"Number of tetanus doses","displayNone",!1):I(this.labourTetanus,"Number of tetanus doses","displayNone",!0)},handleOneDose(){N(this.labourTetanus,"Number of tetanus doses")=="one dose"&&N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?u(this.labourTetanus,"tt6Date","displayNone",!1):u(this.labourTetanus,"tt6Date","displayNone",!0)},handleTwoDose(){N(this.labourTetanus,"Number of tetanus doses")=="two doses"&&N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.labourTetanus,"tt7Date","displayNone",!1),u(this.labourTetanus,"tt8Date","displayNone",!1)):(u(this.labourTetanus,"tt7Date","displayNone",!0),u(this.labourTetanus,"tt8Date","displayNone",!0))},handleThreeDose(){N(this.labourTetanus,"Number of tetanus doses")=="three doses"&&N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.labourTetanus,"tt9Date","displayNone",!1),u(this.labourTetanus,"tt10Date","displayNone",!1),u(this.labourTetanus,"tt11Date","displayNone",!1)):(u(this.labourTetanus,"tt9Date","displayNone",!0),u(this.labourTetanus,"tt10Date","displayNone",!0),u(this.labourTetanus,"tt11Date","displayNone",!0))},handleFourDose(){N(this.labourTetanus,"Number of tetanus doses")=="four doses"&&N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.labourTetanus,"12","displayNone",!1),u(this.labourTetanus,"13","displayNone",!1),u(this.labourTetanus,"14","displayNone",!1),u(this.labourTetanus,"15","displayNone",!1)):(u(this.labourTetanus,"12","displayNone",!0),u(this.labourTetanus,"13","displayNone",!0),u(this.labourTetanus,"14","displayNone",!0),u(this.labourTetanus,"15","displayNone",!0))},handleNodoses(){N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="no doses"?I(this.labourTetanus,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!1):I(this.labourTetanus,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!0)},handleOtherDoses(){N(this.labourTetanus,"Reason Tetanus toxoid (TT) was not conducted")=="other"&&N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="no doses"?u(this.labourTetanus,"Other","displayNone",!1):u(this.labourTetanus,"Other","displayNone",!0)}}}),V1={class:"container"},O1={class:"ion-padding",slot:"content"};function T1(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourVaccineHistory"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card");return p(),v("div",V1,[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Vaccine History")])),_:1,__:[0]})]),_:1}),_("div",O1,[n(h)])]),_:1})]),_:1},512),n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.labourTetanus,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,initialData:e.initialData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","initialData"])]),_:1})]),_:1})])}const F1=T(E1,[["render",T1],["__scopeId","data-v-f2955169"]]),Ni=[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Which medications is the woman currently prescribed?*",selectedValue:"",class:"bold"},data:[]}},{sideColSize:.5,selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Oral PreP for HIV",value:"Oral PreP for HIV",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Analgesic",value:"Analgesic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Anti-consulsive",value:"Anti-consulsive",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Anti-TB",value:"Anti-TB",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Antihelmintic",value:"Antihelmintic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Antimarials",value:"Antimarials",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Antitussive",value:"Antitussive",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Aspirin",value:"Aspirin",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Calcium",value:"Calcium",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Doxylamine",value:"Doxylamine",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Hematinic",value:"Hematinic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Iron",value:"Iron",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Metoclopramide",value:"Metoclopramide",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Thyroid medication",value:"Thyroid medication",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Antiacids",value:"Antiacids",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Anti-psychotics",value:"Anti-psychotics",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Anti-diabetic",value:"Anti-diabetic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Anti-hypertensive",value:"Anti-hypertensive",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Asthamatic",value:"Asthamatic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Co-trimoxazole",value:"Co-trimoxazole",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Folic acid",value:"Folic acid",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Hemorrhoidal medication",value:"Hemorrhoidal medication",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Magnesium",value:"Magnesium",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Multivitamin",value:"Multivitamin",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Vitamin A",value:"Vitamin A",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Other",value:"other",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Other",sideColSize:.5,isFinishBtn:!1,sectionHeader:"",classDash:"",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify other medications",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Other notes",required:!0,eventType:"input",inputWidth:"100%"}]}]}}],H1=qe("labourMedicationsStore",{state:()=>({LabourMedication:[...Ni]}),actions:{setPersonalInformation(e){this.LabourMedication=e},getInitial(){return[...$e.cloneDeep(Ni)]}},persist:!0}),R1=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Jt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(vt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ve.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Which medications is the woman currently prescribed?");console.log("Fetched medications use:",t),this.immunisation=t}catch(t){console.error("Error fetching medications use:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ye.getConceptName(a.value_coded)))},openModal(){St(Kt)}}}),L1={class:"visitContent"},x1={class:"visitData"},U1={key:0},z1={style:{"max-width":"1000px"}},q1={key:1,class:"noData"};function W1(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",L1,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",x1,[e.immunisation&&e.immunisation.length>0?(p(),v("div",U1,[_("div",z1,[t[1]||(t[1]=_("div",{class:"heading"},"MEDICATIONS DATA",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,pe(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",q1,"MEDICATIONS DATA IS EMPTY"))])]),_:1})]),_:1})])}const G1=T(R1,[["render",W1],["__scopeId","data-v-1060c254"]]),j1=B({name:"Menu",components:{IonLabel:J,IonTextarea:gn,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,LabourMedicationsHistory:G1},data(){return{iconsContent:P,initialData:[]}},mounted(){this.handleOther();const e=Kn();this.initialData=e.getInitial()},watch:{Medication:{handler(e){this.handleOther(),this.handleInputData(e)},deep:!0}},computed:{...w(H1,["LabourMedication"]),Medications(){return ce(this.LabourMedication,"Which medications is the woman currently prescribed?")}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{navigationMenu(e){ze.close(),this.$router.push(e)},validationRules(e){return It(this.LabourMedication,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)},handleOther(){var t;const e=["Oral PreP for HIV","Analgesic","Anti-consulsive","Anti-TB","Antihelmintic","Antimarials","Antitussive","Aspirin","Calcium","Doxylamine","Hematinic","Iron","Metoclopramide","Thyroid medication","Antiacids","Anti-psychotics","Anti-diabetic","Anti-hypertensive","ARVs","Antivirals","Asthamatic","Co-trimoxazole","Folic acid","Hemorrhoidal medication","Magnesium","Multivitamin","Vitamin A","Other"];(t=ce(this.LabourMedication,"None"))!=null&&t.checked?e.forEach(a=>{R(this.LabourMedication,a,"checked",!1),R(this.LabourMedication,a,"disabled",!0)}):e.forEach(a=>{R(this.LabourMedication,a,"disabled",!1)})}}}),Y1={class:"container"};function J1(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Y1,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.LabourMedication,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const fo=T(j1,[["render",J1],["__scopeId","data-v-8c118b36"]]),K1=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Jt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{}}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()},computed:{...w(vt,["investigations"]),...w(Ne,["patient"]),...w(un,["activeProgram"]),inputFields(){return this.investigations[0].selectedData}},methods:{async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r,l,c,h,m,f,y,D,C,V,E,U,H;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:"",this.pregnancy["Abortions/Miscarriages"]=(h=(c=(l=this.filterObs(t,"Abortions/Miscarriages"))==null?void 0:l[0])==null?void 0:c.value_text)!=null?h:"",this.pregnancy.Stillbirths=(y=(f=(m=this.filterObs(t,"Stillbirths"))==null?void 0:m[0])==null?void 0:f.value_text)!=null?y:"",this.pregnancy.LiveBirths=(V=(C=(D=this.filterObs(t,"LiveBirths"))==null?void 0:D[0])==null?void 0:C.value_text)!=null?V:"",this.pregnancy.Parity=(H=(U=(E=this.filterObs(t,"Parity"))==null?void 0:E[0])==null?void 0:U.value_text)!=null?H:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ye.getConceptName(a.value_coded)))},openModal(){St(Kt)}}}),Q1={class:"visitContent"},X1={class:"visitData"},Z1={key:0},eS={style:{"max-width":"1000px"}},tS={key:1,class:"noData"};function aS(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",Q1,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",X1,[Object.values(e.pregnancy).every(h=>h!=="")?(p(),v("div",Z1,[_("div",eS,[t[7]||(t[7]=_("div",{class:"heading"},"OBSTETRIC DATA",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{size:"2",class:"contentTitle"},{default:i(()=>t[0]||(t[0]=[S("GRAVIDA")])),_:1,__:[0]}),n(l,{size:"3",class:"contentTitle"},{default:i(()=>t[1]||(t[1]=[S("ABORTIONS/MISCARRIAGES")])),_:1,__:[1]}),n(l,{class:"contentTitle"},{default:i(()=>t[2]||(t[2]=[S("STILLBIRTHS")])),_:1,__:[2]}),n(l,{class:"contentTitle"},{default:i(()=>t[3]||(t[3]=[S("LIVE BIRTHS")])),_:1,__:[3]}),n(l,{size:"2",class:"contentTitle"},{default:i(()=>t[4]||(t[4]=[S("PARITY")])),_:1,__:[4]})]),_:1}),t[5]||(t[5]=_("br",null,null,-1)),n(c,null,{default:i(()=>[n(l,{size:"2"},{default:i(()=>[S(k(e.pregnancy.Gravida),1)]),_:1}),n(l,{size:"3"},{default:i(()=>[S(k(e.pregnancy["Abortions/Miscarriages"]),1)]),_:1}),n(l,null,{default:i(()=>[S(k(e.pregnancy.Stillbirths),1)]),_:1}),n(l,null,{default:i(()=>[S(k(e.pregnancy.LiveBirths),1)]),_:1}),n(l,{size:"2"},{default:i(()=>[S(k(e.pregnancy.Parity),1)]),_:1})]),_:1}),t[6]||(t[6]=_("br",null,null,-1))])])])):e.activeProgram.program_id!==32?(p(),v("div",tS,"OBSTETRIC DATA IS EMPTY")):$("",!0)])]),_:1})]),_:1})])}const nS=T(K1,[["render",aS],["__scopeId","data-v-310b789d"]]),sS=ds().shape({Gravida:ya().typeError("Gravida can only be number").min(0).max(30),"Abortions/Miscarriages":ya().typeError("Abortions/Miscarriages can only be number").min(0),Stillbirths:ya().typeError("Stillbirths can only be number").min(0)}),on=qe("labourObstreticHistoryStore",{state:()=>({prevPregnancies:[{isFinishBtn:!1,sectionHeader:"",data:{rowData:[{colData:[{class:"bold",inputHeader:"Gravida",value:"",name:"Gravida",icon:P.editPen,required:!0,valueType:"text",eventType:"input",alertsErrorMassage:""}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]},{isFinishBtn:!1,sectionHeader:"",data:{rowData:[{colData:[{class:"bold",inputHeader:"Abortions/Miscarriages",value:"",icon:P.editPen,name:"Abortions/Miscarriages",required:!0,disabled:!1,valueType:"text",eventType:"input",alertsErrorMassage:""},{class:"bold",inputHeader:"Stillbirths",value:"",name:"Stillbirths",disabled:!1,required:!0,valueType:"text",icon:P.editPen,eventType:"input",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{class:"bold",inputHeader:"Live births",value:"",disabled:!0,name:"LiveBirths",required:!0,valueType:"text",eventType:"input",alertsErrorMassage:""},{class:"bold",inputHeader:"Parity",disabled:!0,value:"",name:"Parity",valueType:"text",required:!0,eventType:"input",alertsErrorMassage:""}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]}],preterm:[],modeOfDelivery:[],Complications:[]}),actions:{setPrevPregnancies(e){this.prevPregnancies=e},setPreterm(e){this.preterm=e},setComplications(e){this.Complications=e},async validate(){const e=Ui(this.prevPregnancies);return await zi(this.prevPregnancies,sS,e)}}}),iS=B({name:"History",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie,LabourObstetricData:nS},data(){return{modeOfDelieveryRef:{},iconsContent:P,vValidations:"",hasValidationErrors:[],prevPregnanciesInstance:{},modeOfDeliveryInstance:{},currentSection:0,inputField:"",alertMessage:""}},computed:{...w(on,["prevPregnancies"]),...w(on,["preterm"]),...w(on,["modeOfDelivery"]),...w(on,["Complications"]),Stillbirths(){return le(this.prevPregnancies,"Stillbirths","value")},Gravida(){return le(this.prevPregnancies,"Gravida","value")},LiveBirths(){return le(this.prevPregnancies,"LiveBirths","value")},Parity(){return le(this.prevPregnancies,"Parity","value")},"Abortions/Miscarriages"(){return le(this.prevPregnancies,"Abortions/Miscarriages","value")}},created(){this.modeOfDelieveryRef={...this.modeOfDelivery[0],...this.modeOfDelivery[1]}},mounted(){this.prevPregnanciesInstance=Zt(),this.handleOther(),this.handleDynamic(),this.handleGravida(event),this.validaterowData({})},watch:{LiveBirths:{handler(e){(e==0||!e)&&this.prevPregnanciesInstance.setModeOfDelivery(0)}},prevPregnancies:{handler(e){if(e&&e[2].data.rowData[0].colData[0].value){const t=parseInt(e[2].data.rowData[0].colData[0].value);this.prevPregnanciesInstance.setModeOfDelivery(t)}this.handleGravida(e),this.handleOther()},deep:!0},modeOfDelivery:{handler(){this.handleDynamic(),this.prevPregnanciesInstance.checkChanges()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleObstreticValidation(e){Qe(this.prevPregnancies,cs,e.name,e.value)},handleOther(){var t,a;((t=ce(this.prevPregnancies,"Other"))==null?void 0:t.value)=="other"?u(this.prevPregnancies,"Other notes","displayNone",!1):u(this.prevPregnancies,"Other notes","displayNone",!0);const e=["Asphyxia","Does not know","Pre-eclampsia","Eclampsia","Puerperal Sepsis","Baby died within 24hrs of birth","Convulsions","Forceps","Gestational diabetes mellitus","Heavy bleeding","Macrosomia","Perineal tear (3rd or 4th degree)","Other"];(a=ce(this.prevPregnancies,"None"))!=null&&a.checked?e.forEach(s=>{R(this.prevPregnancies,s,"checked",!1),R(this.prevPregnancies,s,"disabled",!0)}):e.forEach(s=>{R(this.prevPregnancies,s,"disabled",!1)})},handleDynamic(){N(this.modeOfDelivery,"Mode of delivery")=="caesarean section"?u(this.modeOfDelivery,"Specify","displayNone",!1):u(this.modeOfDelivery,"Specify","displayNone",!0)},handleAlert(e){xi(this.modeOfDelivery,"Mode of delivery",e.id)=="caesarean section"?pn(e.id,this.modeOfDelivery,"Specify","displayNone",!1):pn(e.id,this.modeOfDelivery,"Specify","displayNone",!0)},validationRules(e){return It(this.prevPregnancies,e.name,this[e.name])},async handleInputData(e){this.validaterowData(e),this.handleObstreticValidation(e),this.calculateParity(e),this.calculateLiveBirths(e)},validaterowData(e){},calculateLiveBirths(e){if(e.name==="Parity"||e.name==="Stillbirths"){const t=parseInt(le(this.prevPregnancies,"Stillbirths","value")),a=parseInt(le(this.prevPregnancies,"Parity","value"));if(!isNaN(t)&&!isNaN(a)){const s=a-t;u(this.prevPregnancies,"LiveBirths","value",s)}else u(this.prevPregnancies,"LiveBirths","value",null)}},calculateParity(e){if(e.name==="Gravida"||e.name==="Abortions/Miscarriages"){const t=parseInt(le(this.prevPregnancies,"Gravida","value")),a=parseInt(le(this.prevPregnancies,"Abortions/Miscarriages","value"));if(!isNaN(t)&&!isNaN(a)){const s=t-a-1;u(this.prevPregnancies,"Parity","value",s)}else u(this.prevPregnancies,"Parity","value",null)}},handleGravida(e){const t=le(this.prevPregnancies,"Gravida","value"),a="First pregnancy, take note",s=this.prevPregnancies[0].alerts.findIndex(o=>o.value===a);t===null||t===""?(u(this.prevPregnancies,"Abortions/Miscarriages","value",""),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),u(this.prevPregnancies,"Stillbirths","value",""),u(this.prevPregnancies,"Stillbirths","disabled",!1),u(this.prevPregnancies,"LiveBirths","value",""),u(this.prevPregnancies,"LiveBirths","disabled",!1),u(this.prevPregnancies,"Parity","value",""),u(this.prevPregnancies,"Parity","disabled",!1),s!==-1&&this.prevPregnancies[0].alerts.splice(s,1)):t==1?(I(this.prevPregnancies,"Was last live birth preterm?","displayNone",!0),I(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!0),I(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!0),Le(this.prevPregnancies,"past pregnancies complications","displayNone",!0),u(this.prevPregnancies,"Abortions/Miscarriages","value",""),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!0),u(this.prevPregnancies,"Stillbirths","value",""),u(this.prevPregnancies,"Stillbirths","disabled",!0),u(this.prevPregnancies,"LiveBirths","value",""),u(this.prevPregnancies,"LiveBirths","disabled",!0),u(this.prevPregnancies,"Parity","value",""),u(this.prevPregnancies,"Parity","disabled",!0),s===-1&&this.prevPregnancies[0].alerts.push({backgroundColor:"#FFD700",status:"info",icon:"info-circle",textColor:"#000000",value:a,name:"LiveBirths"})):(I(this.prevPregnancies,"Was last live birth preterm?","displayNone",!1),I(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!1),I(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!1),Le(this.prevPregnancies,"past pregnancies complications","displayNone",!1),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),u(this.prevPregnancies,"Stillbirths","disabled",!1),u(this.prevPregnancies,"LiveBirths","disabled",!1),u(this.prevPregnancies,"Parity","disabled",!1),s!==-1&&this.prevPregnancies[0].alerts.splice(s,1))}}}),oS={class:"container"},lS={class:"ion-padding",slot:"content"};function rS(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourObstetricData"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card");return p(),v("div",oS,[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Obstetric History")])),_:1,__:[0]})]),_:1}),_("div",lS,[n(h)])]),_:1})]),_:1},512),n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.prevPregnancies,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),n(y,{contentData:e.modeOfDelivery,"onUpdate:inputValue":e.handleAlert},null,8,["contentData","onUpdate:inputValue"]),n(y,{contentData:e.preterm},null,8,["contentData"])]),_:1})]),_:1})])}const dS=T(iS,[["render",rS],["__scopeId","data-v-84730752"]]),cS=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Jt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(vt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ve.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","past pregnancies complications");console.log("Fetched past pregnancies complications:",t),this.immunisation=t}catch(t){console.error("Error fetching past pregnancies complications:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ye.getConceptName(a.value_coded)))},openModal(){St(Kt)}}}),uS={class:"visitContent"},hS={class:"visitData"},pS={key:0},mS={style:{"max-width":"1000px"}},fS={key:1,class:"noData"};function _S(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",uS,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",hS,[e.immunisation&&e.immunisation.length>0?(p(),v("div",pS,[_("div",mS,[t[1]||(t[1]=_("div",{class:"heading"},"PREGNANCY COMPLICATIONS",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,pe(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",fS,"COMPLICATIONS DATA IS EMPTY"))])]),_:1})]),_:1})])}const vS=T(cS,[["render",_S],["__scopeId","data-v-c36ab6c5"]]),gS=ds().shape({Gravida:ya().typeError("Gravida can only be number").min(0).max(30),"Abortions/Miscarriages":ya().typeError("Abortions/Miscarriages can only be number").min(0),Stillbirths:ya().typeError("Stillbirths can only be number").min(0)}),yS=qe("labourCoplicationsStore",{state:()=>({labourPrevPregnancies:[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{class:"bold",title:"Did the woman have any of the complications during the past pregnancies?",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Asphyxia",value:"Asphyxia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Pre-eclampsia",value:"pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Eclampsia",value:"eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Puerperal Sepsis",value:"puerperal sepsis",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Baby died within 24hrs of birth",value:"baby died within 24hrs of birth",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Convulsions",value:"convulsions",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Gestational diabetes mellitus",value:"gestational diabetes mellitus",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Heavy bleeding",value:"heavy bleeding",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Macrosomia",value:"macrosomia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Perineal tear (3rd or 4th degree)",value:"perineal tear (3rd or 4th degree)",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Other",value:"other",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"specify",unit:"",icon:P.editPen,value:"",name:"Other notes",valueType:"text",required:!0,eventType:"input",inputWidth:"85%"}]}]}}],preterm:[],modeOfDelivery:[],Complications:[]}),actions:{setPrevPregnancies(e){this.labourPrevPregnancies=e},async validate(){const e=Ui(this.labourPrevPregnancies);return await zi(this.labourPrevPregnancies,gS,e)}}}),bS=B({name:"History",components:{BasicCard:He,IonContent:z,IonHeader:q,IonItem:O,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:fe,IonSelect:ve,IonSelectOption:_e,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie,LabourMedications:fo,LabourComplicationsHistory:vS},data(){return{modeOfDelieveryRef:{},iconsContent:P,vValidations:"",hasValidationErrors:[],prevPregnanciesInstance:{},modeOfDeliveryInstance:{},currentSection:0,inputField:"",alertMessage:""}},computed:{...w(yS,["labourPrevPregnancies"])},mounted(){this.prevPregnanciesInstance=Zt(),this.handleOther(),this.validaterowData({})},watch:{LiveBirths:{handler(e){(e==0||!e)&&this.prevPregnanciesInstance.setModeOfDelivery(0)}},prevPregnancies:{handler(e){if(e&&e[2].data.rowData[0].colData[0].value){const t=parseInt(e[2].data.rowData[0].colData[0].value);this.prevPregnanciesInstance.setModeOfDelivery(t)}this.handleOther()},deep:!0},modeOfDelivery:{handler(){this.prevPregnanciesInstance.checkChanges()},deep:!0}},setup(){return{checkmark:oe,pulseOutline:re}},methods:{async handleObstreticValidation(e){Qe(this.labourPrevPregnancies,cs,e.name,e.value)},handleOther(){var t,a;((t=ce(this.labourPrevPregnancies,"Other"))==null?void 0:t.value)=="other"?u(this.labourPrevPregnancies,"Other notes","displayNone",!1):u(this.labourPrevPregnancies,"Other notes","displayNone",!0);const e=["Asphyxia","Does not know","Pre-eclampsia","Eclampsia","Puerperal Sepsis","Baby died within 24hrs of birth","Convulsions","Forceps","Gestational diabetes mellitus","Heavy bleeding","Macrosomia","Perineal tear (3rd or 4th degree)","Other"];(a=ce(this.labourPrevPregnancies,"None"))!=null&&a.checked?e.forEach(s=>{R(this.labourPrevPregnancies,s,"checked",!1),R(this.labourPrevPregnancies,s,"disabled",!0)}):e.forEach(s=>{R(this.labourPrevPregnancies,s,"disabled",!1)})},async handleInputData(e){this.validaterowData(e),this.handleObstreticValidation(e)},validaterowData(e){}}}),DS={class:"ion-padding",slot:"content"},SS={class:"container"};function CS(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourComplicationsHistory"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card"),V=d("ion-row");return p(),A(V,null,{default:i(()=>[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Pregnancy Complications History")])),_:1,__:[0]})]),_:1}),_("div",DS,[n(h)])]),_:1})]),_:1},512),_("div",SS,[n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.labourPrevPregnancies,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])]),_:1})}const wS=T(bS,[["render",CS],["__scopeId","data-v-2e8fd7b2"]]),IS=B({mixins:[hs],name:"Home",components:{dispensationSummary:ru,dispensedMedication:Gc,IonContent:z,IonHeader:q,IonMenuButton:Mi,IonPage:na,IonTitle:j,IonToolbar:W,Toolbar:Ti,ToolbarSearch:Ml,IonButton:it,IonCard:Gt,IonCardContent:Ca,IonCardHeader:wa,IonCardSubtitle:Lo,IonCardTitle:vn,IonAccordion:At,IonAccordionGroup:Mt,IonItem:O,IonLabel:J,VitalSigns:cp,PresentingComplaints:ps,ClinicalAssessment:op,Diagnosis:Zl,ComplicationsScreening:ir,ConfirmDiagnosis:wp,Outcome:Lp,Investigations:_m,TreatmentPlan:rc,NextAppointment:Pc,IonModal:ma,Medications:ff,WomanBehaviour:yf,MedicalHistory:j_,DangerSigns:Cf,ReasonForVisit:Af,ConfirmPregnancy:Nf,SpecificHealthConcerns:Tf,FetalPresentation:Yf,FetalAssessment:qf,ANCVitals:Tv,MaternalExam:Xf,PresentingSigns:a_,CurrentPregnancies:o_,PastObstreticHistory:c_,UltrasoundScan:m_,UrineTest:g_,TB:S_,MedicalFollowUp:Q_,PersistentBehaviour:tv,CurrentPhysiologicalSymptoms:iv,Ipv:dv,FatalMovement:pv,BehaviourCounselling:vv,PhysiologicalCounseling:Dv,DietCounselling:Iv,Referral:Mv,AncEnd:Lv,DiagnosisTreatment:P_,MedicationDispensed:$_,DiagnosisCounselling:V_,Immunization:R_,Deworming:z_,OPDDiagnosis:Dp,OPDTreatmentPlan:Xm,OPDOutcome:rg,DynamicButton:Be,ImmunizationServices:eg,ChangeStatus:qp,ImmunizationNextAppointment:uf,HeadAssessment:hg,ANCTreatment:vg,ANCDiagnosis:Dg,ANCDiagnosisCounselling:Ig,ANCImmunization:Bg,ANCIntimatePartner:Eg,ANCDeworming:Fg,ANCMedicationDispensed:Yg,DischargeWoman:Xg,PNCEnd:ay,BabyStatus:ly,PostnatalWardMonitoring:Py,DeliveryDetails:Fy,HIVStatusAndTreatment:xy,ObstetricDetails:Wy,VisitForMother:Jy,VisitForBaby:Zy,Labour:nb,QuickCheck:lb,PhysicalExamination:ub,PelvicAssessment:fb,PatientReferral:yb,FirstVaginalExamination:Cb,SecondStageDelivery:xb,ThirdStageDelivery:Wb,end:Jb,OtherExams:Zb,LabourVitals:nD,ImmidiatePostnatalChecksForChild:lD,ImmidiatePostnatalChecksForMother:uD,SubsequentVisits:fD,AbdominalExamination:bD,ClinicalCounselling:wD,LabourWomanBehaviour:TD,LabourPastSurgeries:u1,LabourChronicHealthConditions:w1,LabourVaccineHistory:F1,LabourMedications:fo,LabourObstetricHistory:dS,LabourAllergies:QD,LabourComplications:wS},data(){return{isOpen:!1,iconsContent:P,currentOpenStepper:this.openStepper}},props:{wizardData:{default:[]},StepperData:{default:[]},stepperTitle:{type:String,default:""},openStepper:{type:String,default:"1"},backBtn:{type:String,default:"Back to profile"},backUrl:{type:String,default:""},getSaveFunction:{type:Function,required:!0},hasPatientsWaitingList:{type:Boolean,default:!1},specialButtonLabel:{type:String,required:!1,default:""},specialButtonFn:{type:Function,required:!1,default:null},userRole:{type:String,required:!1}},setup(){return{chevronBackOutline:zo,checkmark:oe}},methods:{chevronBack(){return Uo},chevronForward(){return xo},accordionGroupChange(e){const t=e.detail;t||(this.wizardData.forEach(a=>{t.value===a.number?(a.class="open_step common_step",a.checked=!0):(a.class="common_step",a.checked=!1)}),this.$emit("updateStatus",t),this.currentOpenStepper=t.value)},openBackController(){this.backUrl?this.$router.push(this.backUrl):St(Rl)},async nextAccordion(e){const t=this.getSaveFunction(e);t&&typeof t=="function"&&await t();const a=e+1;a<this.StepperData.length&&(this.currentOpenStepper=this.StepperData[a].value)},previousAccordion(e){const t=e-1;t>=0&&(this.currentOpenStepper=this.StepperData[t].value)}}}),PS={class:"wizard_title"},NS={id:"wizard_verticle",class:"form_wizard wizard_verticle"},kS={class:"list-unstyled wizard_steps anchor"},BS={class:"done",isdone:"1",rel:"1"},$S={key:1},MS={class:"wizard_text"},AS={class:"back_profile"},ES={class:"accordion_group"},VS={class:"ion-padding",slot:"content"},OS={class:"button-row"},TS={key:0};function FS(e,t,a,s,o,r){const l=d("ion-icon"),c=d("ion-card-content"),h=d("ion-card"),m=d("ion-col"),f=d("DynamicButton"),y=d("ion-label"),D=d("ion-item"),C=d("ion-button"),V=d("ion-accordion"),E=d("ion-accordion-group"),U=d("ion-row");return p(),A(U,null,{default:i(()=>[n(m,{"size-md":"4","size-xl":"2.5","size-sm":"0","size-lg":"4","offset-sm":"0","offset-md":"0.4","offset-xl":"0.8",class:"displayNoneMobile"},{default:i(()=>[n(h,{class:"wizard_card"},{default:i(()=>[_("div",PS,[_("strong",null,k(e.stepperTitle),1)]),n(c,null,{default:i(()=>[_("div",NS,[_("ul",kS,[(p(!0),v(te,null,pe(e.wizardData,(H,M)=>(p(),v("li",{key:M,class:ut(H.last_step)},[_("a",BS,[_("span",{class:ut(H.class)},[H.checked?(p(),A(l,{key:0,icon:e.checkmark,class:"checked_step"},null,8,["icon"])):$("",!0),H.checked?$("",!0):(p(),v("span",$S,k(H.number),1)),_("span",MS,k(H.title),1)],2)])],2))),128))])])]),_:1})]),_:1})]),_:1}),n(m,{"size-sm":"12","size-xl":"7","size-md":"7.2","size-lg":"7","offset-sm":"0","offset-md":"0.4","offset-xl":"0.8"},{default:i(()=>[_("div",AS,[n(f,{name:e.backBtn,iconSlot:"start",fill:"clear",icon:e.chevronBackOutline,onClick:t[0]||(t[0]=H=>e.openBackController())},null,8,["name","icon"])]),_("div",ES,[n(E,{onIonChange:t[2]||(t[2]=H=>e.accordionGroupChange(H)),value:e.currentOpenStepper},{default:i(()=>[(p(!0),v(te,null,pe(e.StepperData,(H,M)=>Ei((p(),A(V,{key:M,value:H.value},{default:i(()=>[n(D,{slot:"header"},{default:i(()=>[n(y,null,{default:i(()=>[S(k(H.title),1)]),_:2},1024)]),_:2},1024),_("div",VS,[(p(),A(qo(H.component))),_("div",OS,[M>0?(p(),v("div",TS,[n(C,{class:"previous-button",onClick:L=>e.previousAccordion(M)},{default:i(()=>[n(l,{icon:e.chevronBack(),slot:"start"},null,8,["icon"]),t[3]||(t[3]=S(" Previous "))]),_:2,__:[3]},1032,["onClick"])])):$("",!0),_("div",null,[n(C,{class:"next-button",onClick:L=>e.nextAccordion(M)},{default:i(()=>[n(l,{icon:M<e.StepperData.length-1?e.chevronForward():e.checkmark,slot:"start"},null,8,["icon"]),S(" "+k(M<e.StepperData.length-1?"Next":"Finish"),1)]),_:2},1032,["onClick"])]),M===e.StepperData.length-1&&e.specialButtonLabel&&e.specialButtonFn&&(e.userRole==="Clinician"||e.userRole==="Superuser")?(p(),A(C,{key:1,class:"special-button",onClick:t[1]||(t[1]=L=>e.specialButtonFn(L))},{default:i(()=>[n(l,{icon:M<e.StepperData.length-1?e.chevronForward():e.checkmark,slot:"start"},null,8,["icon"]),S(" "+k(e.specialButtonLabel),1)]),_:2},1024)):$("",!0)])])]),_:2},1032,["value"])),[[Vi,!(e.hasPatientsWaitingList&&M>=2)]])),128))]),_:1},8,["value"]),t[4]||(t[4]=_("hr",{style:{background:"rgba(0, 0, 0, 0.13)"}},null,-1))])]),_:1})]),_:1})}const c0=T(IS,[["render",FS],["__scopeId","data-v-c61aa27d"]]);export{w1 as $,_i as A,z_ as B,ir as C,Ot as D,yr as E,$_ as F,P_ as G,si as H,R_ as I,po as J,S_ as K,Pu as L,i0 as M,Pc as N,Hp as O,ji as P,m_ as Q,Mv as R,c0 as S,l0 as T,g_ as U,Av as V,yf as W,dS as X,fo as Y,F1 as Z,Nc as _,Ji as a,u1 as a0,QD as a1,TD as a2,on as a3,H1 as a4,Pi as a5,Wn as a6,o1 as a7,GD as a8,an as a9,yS as aa,Jb as ab,mi as ac,hi as ad,ri as ae,ci as af,mr as b,Yi as c,hs as d,bt as e,er as f,rc as g,Zl as h,Bd as i,r0 as j,kd as k,d0 as l,aa as m,lo as n,j_ as o,Gi as p,ff as q,o_ as r,o0 as s,c_ as t,Da as u,It as v,kf as w,hg as x,dn as y,fs as z};
