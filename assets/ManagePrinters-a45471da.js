import{d as M,u as D,r as c,P as b,o as h,a as B,b as f,c as y,w as s,e as C,f as a,g as v,h as L,T as N,i as n,I as S,j as T,k as V,l as z,m,t as F,n as k,F as $,p as j,q,s as A,_ as E}from"./index-65d33714.js";const J={key:0,class:"spinner-overlay"},K={class:"container"},O=M({__name:"ManagePrinters",setup(R){D();const o=c(!1),p=c(Math.random()),_=c([]),u=c({}),d=new b;async function P(){if(o.value)return;o.value=!0;const t=await d.getAllPrinters();console.log("Discovered printers",JSON.stringify(t)),_.value=w(t),o.value=!1,p.value=Math.random()}function g(t,e){return(t.name||t.address).localeCompare(e.name||e.address)}function I(t){d.setDefaultPrinter(t),u.value=t,p.value=Math.random(),P()}function r(t){return g(t,u.value)===0}function w(t){return t.sort((e,l)=>r(e)&&!r(l)?-1:!r(e)&&r(l)?1:g(e,l))}return h(async()=>{u.value=await d.getDefaultPrinter()||{},_.value.push(u.value),P()}),(t,e)=>{const l=B("ion-spinner");return f(),y(n(A),{class:q({loading:o.value})},{default:s(()=>[o.value?(f(),C("div",J,[a(l,{name:"bubbles"}),e[0]||(e[0]=v("div",{class:"loading-text"},"Please wait...",-1))])):L("",!0),a(N),a(n(j),null,{default:s(()=>[v("div",K,[e[3]||(e[3]=v("h4",{style:{width:"100%","text-align":"center","font-weight":"700"}},"Printer Management",-1)),a(n(S),null,{default:s(()=>[(f(!0),C($,null,T(_.value,i=>(f(),y(n(V),null,{default:s(()=>[a(n(z),null,{default:s(()=>[m(F(i.name),1)]),_:2},1024),a(n(k),{size:"small",color:r(i)?"success":"primary",onClick:x=>I(i),disabled:r(i)},{default:s(()=>e[1]||(e[1]=[m(" Set as Default ")])),_:2},1032,["color","onClick","disabled"]),a(n(k),{onClick:x=>n(d).printTestLbl(i),size:"small"},{default:s(()=>e[2]||(e[2]=[m(" Test Print ")])),_:2},1032,["onClick"])]),_:2},1024))),256))]),_:1})])]),_:1})]),_:1},8,["class"])}}});const H=E(O,[["__scopeId","data-v-136c2001"]]);export{H as default};
