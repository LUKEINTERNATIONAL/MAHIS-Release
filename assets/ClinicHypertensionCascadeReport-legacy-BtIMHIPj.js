System.register(["./index-legacy-CiBxEjMN.js","./program_report_service-legacy-fUXoq_fg.js","./vendor-legacy-Bs-472WW.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-6OP7LUsU.js"],function(e,l){"use strict";var a,r,t,i,n,o,d,p,g;return{setters:[e=>{a=e.bV,r=e.bW,t=e.aD,i=e.aC},e=>{n=e.P},e=>{o=e.d,d=e.r,p=e.O,g=e.f},null,null],execute:function(){e("default",o({__name:"ClinicHypertensionCascadeReport",setup(e){const l=d("-"),o=d([]),b=d("Hypertension Cascade Report"),c=[{path:"age_group",label:"Age Group"},{path:"gender",label:"Gender",formatter:a},{path:"due_screening",label:"Due for BP screening",drillable:!0},{path:"screened",label:"Screened for HTN",drillable:!0},{path:"normal_reading",label:"Normal <140/<90",drillable:!0},{path:"mild_reading",label:"Mild 140-159/90-99",drillable:!0},{path:"moderate_reading",label:"Moderate 160-180/100-110",drillable:!0},{path:"severe_reading",label:"Severe >180/>110",drillable:!0},{path:"hydrochlorothiazide_25mg",label:"Hydrochlorothiazide 25mg",drillable:!0},{path:"amlodipine_5mg",label:"Amlodipine 5mg",drillable:!0},{path:"amlodipine_10mg",label:"Amlodipine 10mg",drillable:!0},{path:"captopril_25mg",label:"Captopril 25mg",drillable:!0},{path:"captopril_6_25mg",label:"Captopril 6.25mg",drillable:!0},{path:"captopril_12_5mg",label:"Captopril 12.5mg",drillable:!0},{path:"captopril_50mg",label:"Captopril 50mg",drillable:!0},{path:"enalapril_5mg",label:"Enalapril 5mg",drillable:!0},{path:"enalapril_10mg",label:"Enalapril 10mg",drillable:!0},{path:"atenolol_50mg",label:"Atenolol 50mg",drillable:!0},{path:"atenolol_100mg",label:"Atenolol 100mg",drillable:!0},{path:"nifedipine_10mg",label:"Nifedipine 10mg",drillable:!0},{path:"nifedipine_20mg",label:"Nifedipine 20mg",drillable:!0},{path:"total_regimen",label:"Total (regimen)",drillable:!0}];async function s(e){try{await t.show();const a=new n;if(!e.dateRange.startDate||!e.dateRange.endDate)return i("Start date and end date required!"),void(await t.hide());a.setStartDate(e.dateRange.startDate),a.setEndDate(e.dateRange.endDate),a.setOccupation(e.occupation),l.value=a.getDateIntervalPeriod();const r=await a.generate("hypertension_report");o.value=r?function(e){return Object.keys(e).flatMap(l=>Object.keys(e[l]).map(a=>{const r=e[l][a],t=Object.keys(r).reduce((e,l)=>(e[l]=r[l].length,e),{});return{age_group:l,gender:a,...t}})).sort((e,l)=>e.gender<l.gender?-1:e.gender>l.gender?1:e.age_group<l.age_group?-1:e.age_group>l.age_group?1:0)}(r):[]}catch(a){console.error(a),i("ERROR! Unable to load report data")}finally{await t.hide()}}function m(e){return`${e.column.label} | ${e.row.age_group} | ${a(e.row.gender)}`}return(e,a)=>(g(),p(r,{title:b.value,"report-type":"Clinic",columns:c,"drill-title":m,rows:o.value,period:l.value,"use-date-range-filter":"","use-secure-export":"","show-indices":"",onGenerate:s},null,8,["title","rows","period"]))}}))}}});
