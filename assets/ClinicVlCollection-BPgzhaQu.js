import{bU as c,bR as m,bQ as i,bS as u,aD as s,aC as f}from"./index-Dxep0tg5.js";import{V as b}from"./viral_load_report_service-CthBDyTN.js";import{d as g,r,O as h,f as _}from"./vendor-CwRShy1a.js";import"./lodash-Dt8AsbQm.js";import"./apexcharts-B7MGi37O.js";import"./age_groups-BkW1n_F5.js";import"./regimens-Dknk55PA.js";const S=g({__name:"ClinicVlCollection",setup(D){const o=r(""),e=new b,t=r(!1),n=r([]),p=[t.value?{label:"Filing#",path:"identifier"}:{label:"ARV#",path:"identifier",preSort:c,initialSort:!0},{label:"First name",path:"given_name",exportable:!1},{label:"Last name",path:"family_name",exportable:!1},{label:"Gender",path:"gender",formatter:m},{label:"DOB",path:"birthdate",formatter:i},{label:"Date of VL Order",path:"order_date",formatter:i}];async function d(a){await s.show(),e.setStartDate(a.dateRange.startDate),e.setEndDate(a.dateRange.endDate),e.setOccupation(a.occupation),o.value=e.getDateIntervalPeriod();try{n.value=await e.getVlCollection(),t.value=a.filingNumberEnabled}catch(l){f("Unable to load report data"),console.error(l)}await s.hide()}return(a,l)=>(_(),h(u,{"report-prefix":"Clinic",title:"VL Collection","default-sort-order":"asc","default-sorted-column":"identifier",columns:p,period:o.value,rows:n.value,"filing-number-enabled":t.value,"use-date-range-filter":"","use-secure-export":"",onGenerate:d},null,8,["period","rows","filing-number-enabled"]))}});export{S as default};
