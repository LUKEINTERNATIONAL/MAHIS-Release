import{d as C,ar as I,cl as P,r as v,a$ as d,y as w,f,z as m,e as y,m as B,l as e,k as a,u as s,bN as D,ah as V,bG as p,bg as x,an as N}from"./vendor-sxlzK-28.js";import{u as T,a4 as R,T as O,D as c,aF as $,l as L,U as _,n as A,_ as U}from"./index-Dm-K6ecT.js";import{D as E}from"./DemographicBar-CkfzSeHe.js";import{_ as F}from"./Vitals.vue_vue_type_script_setup_true_lang-Bg54E0t5.js";import{S as z}from"./stages-Db1hOgWm.js";import"./lodash-Dt8AsbQm.js";import"./apexcharts-BG8Kp1-k.js";const G={key:0,class:"spinner-overlay"},W={class:"container"},j={class:"vitals-header"},q={class:"back_profile"},H={class:"vitals-content"},J={class:"action-buttons"},K=C({__name:"Vitals",setup(M){const o=I();P();const i=v(!1),S=T(),g=R(),{patient:l}=d(S),{vitals:Q}=d(g),n=v(null),h=()=>{o.push("home")},k=()=>{o.push("patientProfile")},b=async()=>{i.value=!0;const r=String(localStorage.getItem("locationID"));try{n.value&&(await n.value.onSubmit(),await $(l.value),await z.movePatientToNextStage(l.value.patientID,"VITALS","CONSULTATION",r,l.value.visitID||l.value.visit_id),await L().refresh(r),_.isClinician()||_.isAdmin()?await o.push("OPDConsultationPlan"):await o.push("patientProfile"))}catch(t){console.error("Error saving vitals:",t),A("Failed to save vitals")}finally{i.value=!1}};return(r,t)=>(f(),w(s(N),null,{default:m(()=>[i.value?(f(),y("div",G,[e(s(D),{name:"bubbles"}),t[3]||(t[3]=a("div",{class:"loading-text"},"Please wait...",-1))])):B("",!0),e(O),e(s(V),{fullscreen:!0},{default:m(()=>[e(E),a("div",W,[a("div",j,[a("div",q,[e(c,{name:"Back to Waiting list",iconSlot:"start",fill:"clear",icon:s(p),"font-weight":"600",onClick:t[0]||(t[0]=u=>h())},null,8,["icon"]),e(c,{name:"Back to Profile",iconSlot:"start",fill:"clear",icon:s(p),"font-weight":"600",onClick:t[1]||(t[1]=u=>k()),style:{"margin-left":"15px"}},null,8,["icon"])]),t[4]||(t[4]=a("div",{class:"vitals-title"},[a("h4",null,"Vital Signs"),a("hr",{class:"title-line"})],-1))]),a("div",H,[e(F,{ref_key:"vitalsRef",ref:n},null,512)]),a("div",J,[e(c,{name:"Save Vitals",iconSlot:"start",fill:"solid",color:"primary",icon:s(x),onClick:t[2]||(t[2]=u=>b()),disabled:i.value},null,8,["icon","disabled"])])])]),_:1})]),_:1}))}}),ot=U(K,[["__scopeId","data-v-5a5ba414"]]);export{ot as default};
