import{d as x,bY as M,r as c,a as b,E as B,y as C,f,z as a,e as y,m as L,l as s,k as v,u as n,ao as N,an as S,F as T,L as h,G as z,D as V,A as _,B as A,W as k,p as E,au as F}from"./vendor-IHO26Iap.js";import{a3 as $,T as G,_ as J}from"./index-tZ4yxjbt.js";import"./lodash-Dt8AsbQm.js";const K={key:0,class:"spinner-overlay"},O={class:"container"},R=x({__name:"ManagePrinters",setup(W){M();const o=c(!1),p=c(Math.random()),m=c([]),u=c({}),d=new $;async function P(){if(o.value)return;o.value=!0;const t=await d.getAllPrinters();console.log("Discovered printers",JSON.stringify(t)),m.value=I(t),o.value=!1,p.value=Math.random()}function g(t,e){return(t.name||t.address).localeCompare(e.name||e.address)}function D(t){d.setDefaultPrinter(t),u.value=t,p.value=Math.random(),P()}function r(t){return g(t,u.value)===0}function I(t){return t.sort((e,l)=>r(e)&&!r(l)?-1:!r(e)&&r(l)?1:g(e,l))}return b(async()=>{u.value=await d.getDefaultPrinter()||{},m.value.push(u.value),P()}),(t,e)=>{const l=B("ion-spinner");return f(),C(n(F),{class:E({loading:o.value})},{default:a(()=>[o.value?(f(),y("div",K,[s(l,{name:"bubbles"}),e[0]||(e[0]=v("div",{class:"loading-text"},"Please wait...",-1))])):L("",!0),s(G),s(n(N),null,{default:a(()=>[v("div",O,[e[3]||(e[3]=v("h4",{style:{width:"100%","text-align":"center","font-weight":"700"}},"Printer Management",-1)),s(n(S),null,{default:a(()=>[(f(!0),y(T,null,h(m.value,i=>(f(),C(n(z),null,{default:a(()=>[s(n(V),null,{default:a(()=>[_(A(i.name),1)]),_:2},1024),s(n(k),{size:"small",color:r(i)?"success":"primary",onClick:w=>D(i),disabled:r(i)},{default:a(()=>e[1]||(e[1]=[_(" Set as Default ")])),_:2,__:[1]},1032,["color","onClick","disabled"]),s(n(k),{onClick:w=>n(d).printTestLbl(i),size:"small"},{default:a(()=>e[2]||(e[2]=[_(" Test Print ")])),_:2,__:[2]},1032,["onClick"])]),_:2},1024))),256))]),_:1})])]),_:1})]),_:1},8,["class"])}}}),H=J(R,[["__scopeId","data-v-136c2001"]]);export{H as default};
