!function(){function e(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}System.register(["./app_encounter_service-legacy-Ck3FhT5y.js","./index-legacy-CgRFaIIG.js","./LocationFieldOptions-legacy-B0oT3_AU.js","./DatePicker.vue_vue_type_script_setup_true_lang-legacy-Ck8Xyzam.js","./vitals_service-legacy-B8czw_Ne.js","./vendor-legacy-DG-htyL-.js","./Staging-legacy-C_NTogQl.js","./patient_registration_service-legacy-CJovtexp.js","./lodash-legacy-C-x9g9Na.js"],(function(t,a){"use strict";var l,i,r,n,o,_,u,s,d,v,c,h,f,p,m,b,g,y,k,w,V,D,C,N,T,I,q,A,R,O,z,F,U,H,Y,P,S,$,x,E,j,L,B,W,M,G,J;return{setters:[e=>{l=e.A},e=>{i=e.J,r=e.Q,n=e.S,o=e.P,_=e.i,u=e.cm,s=e.e,d=e.cp,v=e.aF,c=e.u,h=e.a1,f=e.k,p=e.m,m=e.t,b=e._},e=>{g=e.g},e=>{y=e._},e=>{k=e.S,w=e.V},e=>{V=e.d,D=e.r,C=e.y,N=e.f,T=e.z,I=e.l,q=e.u,A=e.aN,R=e.bh,O=e.m,z=e.aM,F=e.aL,U=e.D,H=e.A,Y=e.k,P=e.aE,S=e.G,$=e.aF,x=e.d5,E=e.B,j=e.e,L=e.F,B=e.L,W=e.aQ,M=e.O},e=>{G=e.default},e=>{J=e.P},null],execute:function(){var a=document.createElement("style");a.textContent=".form-label[data-v-5864251e]{font-weight:600;color:#333;margin-bottom:8px;display:block}.form-label span[data-v-5864251e]{color:#eb445a}ion-item[data-v-5864251e]{--padding-start: 0;--inner-padding-end: 0}ion-radio[data-v-5864251e]{margin-right:8px}ion-note[data-v-5864251e]{padding:12px;border-radius:8px;margin-bottom:16px;display:block;color:#eb445a!important;font-weight:700;font-style:italic}\n/*$vite$:1*/",document.head.appendChild(a);class Q extends l{constructor(e,t){super(e,9,t)}}class K extends l{constructor(t,a){super(t,9,a),e(this,"registration",void 0),e(this,"computeFollowupAgreements",(async e=>({tag:"reg",obs:await this.registration.buildValueCoded("Agrees to followup",e.value)}))),e(this,"computeHTCSerialNumber",(async e=>({tag:"reg",obs:await this.registration.buildValueText("HTC Serial number",e.value)}))),e(this,"computeEverReceivedART",(async({value:e})=>({tag:"reg",obs:await this.registration.buildValueCoded("Ever received ART",e)}))),e(this,"computeARTLastTakenDate",(async(e,t)=>({date:e,tag:"reg",isEstimate:t,obs:await this.buildDateObs("Date ART last taken",e,t)}))),e(this,"computeARTInitiationLocation",(async({label:e})=>({tag:"reg",obs:await this.registration.buildValueText("Location of ART initiation",e)}))),e(this,"computeARTNumberAtPreviousLocation",(async e=>({tag:"reg",obs:await this.registration.buildValueText("ART number at previous location",e.value)}))),e(this,"computeHasTransferLetter",(async({value:e})=>({tag:"reg",obs:await this.registration.buildValueCoded("Has transfer letter",e)}))),e(this,"computeConfirmatoryHIVTestType",(async({value:e})=>({tag:"reg",obs:await this.registration.buildValueCoded("Confirmatory hiv test type",e)}))),e(this,"computeConfirmatoryHIVTestLocation",(async e=>({tag:"reg",obs:await this.registration.buildValueText("Confirmatory HIV test location",e.label)}))),e(this,"computeConfirmatoryHIVTestDate",(async(e,t)=>({date:e,tag:"reg",isEstimate:t,obs:await this.buildDateObs("Confirmatory HIV test date",e,t)}))),e(this,"computeARTRegistrationDate",(async(e,t)=>({date:e,tag:"reg",isEstimate:t,obs:await this.buildDateObs("ART initiation date",e,t)}))),e(this,"computeARTStartDate",(async(e,t)=>({date:e,tag:"reg",isEstimate:t,obs:await this.buildDateObs("Contact date ART started",e,t)}))),e(this,"computeInitialWeight",(async e=>({tag:"reg",obs:await X(await this.registration.buildValueNumber("weight",e,null,null))}))),e(this,"computeInitialHeight",(async e=>({tag:"reg",obs:await X(await this.registration.buildValueNumber("height",e,null,null))}))),e(this,"computeTBStatus",(async e=>{const t=i();return{tag:"reg",obs:{concept_id:await l.getConceptID("TB treatment start date"),value_datetime:r.getSessionDate(),obs_datetime:r.getSessionDate(),providerID:n.getUserID(),programID:r.getProgramID(),location_id:t.facilityLocation.code,value_coded:await l.getConceptID(e)}}})),e(this,"buildDateObs",(async(e,t,a)=>/unknown/i.test(t)?this.buildValueText(e,"Unknown"):a?this.buildValueDateEstimated(e,t):await this.buildValueDate(e,t))),this.registration=new Q(t,a)}async onSubmit(e){const t=await this.registration.createEncounter();if(!t)throw new Error("Failed to create encounter");this.encounterID=t.encounter_id,this.saveObservationList(e)}}function X(e){return console.log("fixValueNumericStructureInPlace",e),e.value_numeric.value&&(e.value_numeric=e.value_numeric.value),e}const Z={B:0,F:1,G:2,H:3,J:4,P:5,V:6,W:7,X:8,Z:9},ee=[[0,3,1,7,5,9,8,6,4,2],[7,0,9,2,1,5,4,8,6,3],[4,2,0,6,8,7,1,3,5,9],[1,7,5,0,9,8,3,4,2,6],[6,1,2,3,0,4,5,9,7,8],[3,6,7,4,2,0,9,5,8,1],[5,8,6,9,7,2,0,1,3,4],[8,9,4,5,3,6,2,0,1,7],[9,4,3,8,6,1,7,2,0,5],[2,5,8,1,4,3,6,7,9,0]];function te(e,t){const a=t-`${e}`.length;return a<=0?`${e}`:`${Array.from({length:a}).map((()=>0)).join("")}${e}`}function ae(e){const[t,a,l,i]=e.split("-");if(!(t&&a&&l&&i))return!1;const r=te(parseInt(a),3),n=te(parseInt(l),2),o=Z[i.toUpperCase()];return function(e){e.match(/^\d+$/)||(e=e.replace(/\D/g,""));let t=0;for(let a=0;a<e.length;a++){let l=e.charAt(a);t=ee[t][l]}return`${t}`}(`${t}-${r}-${n}`)===`${o}`}t("default",b(V({__name:"ArtClinicRegistration",setup(e,{expose:t}){const a=new o,l=new K(a.getID(),-1),i=D(),r=D({phone_followup:"",phone_number:"",home_visit_followup:"",has_linkage:"",linkage_number:"",received_arvs:"",date_last_taken_arvs:"",taken_last_two_months:"",taken_last_two_weeks:"",ever_registered_at_art_clinic:"",location_of_art_initialization:"",art_number_at_previous_location:"",confirmatory_hiv_test_type:"",confirmatory_hiv_test_location:"",confirmatory_hiv_test_date:"",has_transfer_letter:"",art_start_date:"",initial_weight:"",initial_height:"",cd4_available:"",cd4_percent:""}),n=D([]),b=D({}),V=D([{dialCode:"265",iso2:"MW",name:"Malawi"}]),Q=D({inputHeader:"Phone number *",icon:_.phone,value:"",name:"phoneNumber",InnerBtn:"",popOverData:{filterData:!1,data:[]}}),X={phone_followup:{label:"Phone followup",required:()=>!0,buildObs:()=>[l.buildValueCoded("Phone",r.value.phone_followup),l.buildValueCoded("Agrees to followup","Phone")],options:()=>["Yes","No"],validation:()=>ee("phone_followup")},phone_number:{required:()=>"Yes"===r.value.phone_followup&&(!a.getPhoneNumber()||/unknown|n\/a/i.test(`${a.getPhoneNumber()}`)),label:"Phone number",onSubmit:async()=>{try{const e=`+${V.value[0].dialCode}${r.value.phone_number}`,t=new J;t.setPersonID(a.getID()),await t.updatePerson({cell_phone_number:e});const l=c().getPatient();l&&l.personInformation&&(l.personInformation.cell_phone_number=e,await h(l)),f("Phone number updated successfully")}catch(e){console.error("Error updating phone number:",e),p("Failed to update phone number")}},formatValue:()=>`+${V.value[0].dialCode}${r.value.phone_number}`,onFormUpdate:(e,t)=>{"phone_followup"===e&&"No"===t&&(r.value.phone_number="",b.value.phone_number="")},validation:()=>{b.value.phone_number="";const e=X.phone_number.required();if(e&&!r.value.phone_number)return void(b.value.phone_number="Phone number is required");const t=v.isMWPhoneNumber(X.phone_number.formatValue());e&&"string"==typeof t&&t.length>0&&(b.value.phone_number="Not a valid Malawi phone number")}},home_visit_followup:{label:"Home visit followup",required:()=>!0,options:()=>["Yes","No"],buildObs:()=>[l.buildValueCoded("Home visit",r.value.home_visit_followup),l.buildValueCoded("Agrees to followup","Home visit")],validation:()=>ee("home_visit_followup")},has_linkage:{label:"Has linkage number",required:()=>!0,options:()=>["Yes","No"],validation:()=>ee("has_linkage")},linkage_number:{label:"Linkage number",required:()=>"Yes"===r.value.has_linkage,onFormUpdate:(e,t)=>{"has_linkage"===e&&"Yes"===t&&(r.value.linkage_number="",b.value.linkage_number="")},buildObs:()=>l.buildValueText("HTC Serial number",r.value.linkage_number),validation:()=>{if(b.value.linkage_number="",ee("linkage_number"))try{ae(r.value.linkage_number)||(b.value.linkage_number="Invalid linkage number")}catch(e){b.value.linkage_number='Invalid linkage number. please follow format "1234-002-01-A" '}}},received_arvs:{label:"Received ARVs",required:()=>!0,options:()=>["Yes","No"],buildObs:()=>l.buildValueCoded("Ever received ART",r.value.received_arvs),validation:()=>ee("received_arvs")},date_last_taken_arvs:{label:"Date last taken ARVs",required:()=>"Yes"===r.value.received_arvs,onFormUpdate:(e,t)=>{"received_arvs"===e&&"No"===t&&(r.value.date_last_taken_arvs="",b.value.date_last_taken_arvs="")},validation:()=>{b.value.date_last_taken_arvs="",!ee("date_last_taken_arvs")||te("date_last_taken_arvs")},buildObs:()=>l.buildValueDate("Date ART last taken",r.value.date_last_taken_arvs.standardDate)},taken_last_two_months:{label:"Taken last two months",required:()=>"Unknown"===r.value.received_arvs,onFormUpdate:(e,t)=>{"received_arvs"===e&&"No"==t&&(r.value.taken_last_two_months="",b.value.taken_last_two_months="")},options:()=>["Yes","No","Unknown"],buildObs:()=>l.buildValueCoded("Has the patient taken ART in the last two months",r.value.taken_last_two_months),validation:()=>ee("taken_last_two_months")},taken_last_two_weeks:{label:"Taken last two weeks",required:()=>"Yes"===r.value.taken_last_two_months,onFormUpdate:(e,t)=>{"taken_last_two_months"===e&&"No"===t&&(r.value.taken_last_two_weeks="",b.value.taken_last_two_weeks="")},options:()=>["Yes","No","Unknown"],validation:()=>ee("taken_last_two_weeks"),buildObs:()=>l.buildValueCoded("Has the patient taken ART in the last two weeks",r.value.taken_last_two_weeks)},ever_registered_at_art_clinic:{label:"Ever registered at ART clinic",required:()=>"Yes"===r.value.received_arvs,onFormUpdate:(e,t)=>{"received_arvs"===e&&"No"===t&&(r.value.ever_registered_at_art_clinic="",b.value.ever_registered_at_art_clinic="")},options:()=>["Yes","No"],validation:()=>ee("ever_registered_at_art_clinic"),buildObs:()=>l.buildValueCoded("Ever registered at ART clinic",r.value.ever_registered_at_art_clinic)},location_of_art_initialization:{label:"Location of ART initialization",required:()=>"Yes"===r.value.ever_registered_at_art_clinic,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"ever_registered_at_art_clinic"===e&&"No"===t)&&(r.value.location_of_art_initialization="",b.value.location_of_art_initialization="")},buildObs:()=>{var e,t;return l.buildValueText("Location of ART initialization",null!==(e=null===(t=r.value.location_of_art_initialization)||void 0===t?void 0:t.name)&&void 0!==e?e:r.value.location_of_art_initialization)},validation:()=>ee("location_of_art_initialization"),searchFacilities:e=>g(e).then((e=>n.value=e))},art_start_date:{label:"ART start date",required:()=>"Yes"===r.value.ever_registered_at_art_clinic,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"ever_registered_at_art_clinic"===e&&"No"===t)&&(r.value.art_start_date="",b.value.art_start_date="")},buildObs:()=>le("Date ART started",r.value.art_start_date.standardDate),validation:()=>{b.value.art_start_date="",!ee("art_start_date")||te("art_start_date")}},art_number_at_previous_location:{label:"ART number at previous location",required:()=>"Yes"===r.value.ever_registered_at_art_clinic,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"ever_registered_at_art_clinic"===e&&"No"===t)&&(r.value.art_number_at_previous_location="",b.value.art_number_at_previous_location="")},validation:()=>ee("art_number_at_previous_location"),buildObs:()=>{var e,t;return l.buildValueText("ART number at previous location",null!==(e=null===(t=r.value.art_number_at_previous_location)||void 0===t?void 0:t.name)&&void 0!==e?e:r.value.art_number_at_previous_location)}},has_transfer_letter:{required:()=>"Yes"===r.value.ever_registered_at_art_clinic,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"ever_registered_at_art_clinic"===e&&"No"===t)&&(r.value.has_transfer_letter="",b.value.has_transfer_letter="")},label:"Has stage information?",options:()=>["Yes","No"],validation:()=>ee("has_transfer_letter"),buildObs:()=>l.buildValueCoded("Has transfer letter",r.value.has_transfer_letter)},initial_height:{label:"Initial height",required:()=>"Yes"===r.value.has_transfer_letter,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"has_transfer_letter"===e&&"No"===t)&&(r.value.initial_height="",b.value.initial_height="")},buildVitalsObs:()=>l.buildValueNumber("Height",r.value.initial_height),validation:()=>{b.value.initial_height="",ee("initial_height")&&(/^\d+$/i.test(`${r.value.initial_height}`)||(b.value.initial_height="Initial height must be a number"),parseInt(r.value.initial_height)<40&&(b.value.initial_height="Initial height cannot be less than 40"),parseInt(r.value.initial_height)>220&&(b.value.initial_height="Initial height cannot be greater than 220"))}},initial_weight:{label:"Initial weight",required:()=>"Yes"===r.value.has_transfer_letter,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"has_transfer_letter"===e&&"No"===t)&&(r.value.initial_weight="",b.value.initial_weight="")},buildVitalsObs:()=>l.buildValueNumber("Weight",r.value.initial_weight),validation:()=>{b.value.initial_weight="",ee("initial_weight")&&(/^\d{1,3}\.\d{1}$/i.test(`${r.value.initial_weight}`)||(b.value.initial_weight="Initial weight must be a valid decimal number.. i.e. 40.0"),parseInt(r.value.initial_weight)<.5&&(b.value.initial_weight="Initial weight cannot be less than 0.5"),parseInt(r.value.initial_weight)>250&&(b.value.initial_weight="Initial weight cannot be greater than 250"))}},vitals:{onSubmit:async()=>{if(X.initial_height.required()&&X.initial_weight.required()){const e=[X.initial_height.buildVitalsObs(),X.initial_weight.buildVitalsObs()],t=new w(a.getID(),-1);t.setDate(r.value.art_start_date.standardDate),await t.createEncounter(),await t.saveObservationList(await Promise.all(e))}}},cd4_available:{required:()=>"Yes"===r.value.has_transfer_letter,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"has_transfer_letter"===e&&"No"===t)&&(r.value.cd4_available="",b.value.cd4_available="")},label:"CD4 available",options:()=>["Yes","No"],validation:()=>ee("cd4_available")},cd4_percent:{required:()=>"Yes"===r.value.cd4_available,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"cd4_available"===e&&"No"===t)&&(r.value.cd4_percent="",b.value.cd4_percent="")},label:"CD4 percent",buildObs:()=>l.buildValueNumber("CD4 percent",parseInt(r.value.cd4_percent.substring(1)),"%"),validation:()=>{b.value.cd4_percent="",ee("cd4_percent")&&(/^\d+$/i.test(`${r.value.cd4_percent}`)||(b.value.cd4_percent="CD4 percent must be a number"),parseInt(r.value.cd4_percent)<0&&(b.value.cd4_percent="CD4 percent cannot be less than 0"),parseInt(r.value.cd4_percent)>100&&(b.value.cd4_percent="CD4 percent cannot be greater than 100"))}},confirmatory_hiv_test_type:{label:"Confirmatory hiv test type",required:()=>!0,options:()=>[{label:"Rapid antibody test",value:"HIV rapid test"},{label:"DNA PCR",value:"HIV DNA polymerase chain reaction"},{label:"Not done",value:"Not done",disabled:()=>"Yes"===r.value.has_linkage}],buildObs:()=>l.buildValueCoded("Confirmatory hiv test type",r.value.confirmatory_hiv_test_type),validation:()=>{b.value.confirmatory_hiv_test_type="",ee("confirmatory_hiv_test_type")&&"Not done"===r.value.confirmatory_hiv_test_type&&"Yes"===r.value.has_linkage&&(b.value.confirmatory_hiv_test_type="Linkage number detected, please select a confirmatory hiv test type")}},confirmatory_hiv_test_location:{label:"Confirmatory hiv test location",required:()=>r.value.confirmatory_hiv_test_type&&"Not done"!==r.value.confirmatory_hiv_test_type,onFormUpdate:(e,t)=>{"confirmatory_hiv_test_type"===e&&"Not done"===t&&(r.value.confirmatory_hiv_test_location="",b.value.confirmatory_hiv_test_location="")},validation:()=>ee("confirmatory_hiv_test_location"),searchFacilities:e=>g(e).then((e=>n.value=e)),buildObs:()=>{var e,t;return l.buildValueText("Confirmatory hiv test location",null!==(e=null===(t=r.value.confirmatory_hiv_test_location)||void 0===t?void 0:t.name)&&void 0!==e?e:r.value.confirmatory_hiv_test_location)}},confirmatory_hiv_test_date:{label:"Confirmatory hiv test date",required:()=>r.value.confirmatory_hiv_test_type&&"Not done"!==r.value.confirmatory_hiv_test_type,confirmFirmWithArtStartDateValue:()=>{var e;return b.value.confirmatory_hiv_test_date="",!X.art_start_date.required()||(null===(e=r.value.confirmatory_hiv_test_date)||void 0===e||!e.standardDate||!M(r.value.confirmatory_hiv_test_date.standardDate).isAfter(M(r.value.art_start_date.standardDate))||(b.value.confirmatory_hiv_test_date="Confirmatory hiv test date cannot be after ART start date",!1))},onFormUpdate:(e,t)=>{if("confirmatory_hiv_test_type"===e&&"Not done"===t&&(r.value.confirmatory_hiv_test_date="",b.value.confirmatory_hiv_test_date=""),"confirmatory_hiv_test_date"===e){var a;const e=null==t||null===(a=t.value)||void 0===a?void 0:a.standardDate;if(e){var i,n;const t=null!==(i=null===(n=r.value.art_start_date)||void 0===n?void 0:n.standardDate)&&void 0!==i?i:l.getDate(),a=M(t).diff(e,"days");a>=20&&d("Data inconsistency warning",`Confirmatory Date for newly initiated ART patient is ${a} days ago`,"Are you sure this is accurate?",[{name:"No, Re-enter date",slot:"start",color:"success"},{name:"Yes, its accurate",slot:"end",color:"danger"}]).then((e=>{"No, Re-enter date"===e&&(r.value.confirmatory_hiv_test_date={},b.value.confirmatory_hiv_test_date="Re-enter a valid confirmatory date")}))}}"art_start_date"!==e&&"ever_registered_at_art_clinic"!==e||X.confirmatory_hiv_test_date.confirmFirmWithArtStartDateValue()},buildObs:()=>le("Confirmatory hiv test date",r.value.confirmatory_hiv_test_date.standardDate),validation:()=>{if(b.value.confirmatory_hiv_test_date="",ee("confirmatory_hiv_test_date")){if(!te("confirmatory_hiv_test_date"))return;if(!X.confirmatory_hiv_test_date.confirmFirmWithArtStartDateValue())return}}}};function Z(e,t){ie(e),Object.keys(X).forEach((a=>{var l;return(null===(l=X[a])||void 0===l?void 0:l.onFormUpdate)&&X[a].onFormUpdate(e,t)}))}function ee(e){b.value[e]="";const t=X[e],a=!(null==t||!t.required)&&t.required();return a&&!r.value[e]?(b.value[e]="This field is required",!1):a}function te(e){var t;b.value[e]="";const l="string"==typeof r.value[e]?r.value[e]:null===(t=r.value[e])||void 0===t?void 0:t.standardDate,i=M(l),n=M(o.getSessionDate());return i.isAfter(n)?(b.value[e]=`${X[e].label} cannot be in the future`,!1):!i.isBefore(M(a.getBirthdate()))||(b.value[e]=`${X[e].label} cannot be before birthdate`,!1)}function le(e,t,a){let i={};return i=t.match(/unknown/i)?l.buildValueText(e,"Unknown"):l.buildValueDate(e,t),i}function ie(e){if(b.value[e]="","function"==typeof X[e].required){if(X[e].required()&&e in r.value&&!r.value[e])return void(b.value[e]="This field is required")}"function"==typeof X[e].validation&&X[e].validation()}return t({onSubmit:async function(){const e="Yes"!==r.value.has_transfer_letter||i.value.validateStagingForm(),t=(Object.keys(X).forEach((e=>ie(e))),Object.keys(b.value).every((e=>`${b.value[e]}`.length<=0)));if(!e||!t)return m("Please review form for errors"),!1;try{await l.createEncounter();const e=await Promise.all(Object.keys(X).reduce(((e,t)=>{if(t in X&&"function"==typeof X[t].required&&X[t].required()&&"function"==typeof X[t].buildObs){const a=X[t].buildObs();return Array.isArray(a)?[...e,...a]:[...e,a]}return e}),[]));return await l.onSubmit(e),await function(){const e=Object.keys(X).filter((e=>"function"==typeof X[e].onSubmit)).map((e=>X[e].onSubmit&&X[e].onSubmit()));return Promise.all(e)}(),"Yes"!==r.value.has_transfer_letter||await i.value.onSubmit()?(f("ART Clinic Registration saved successfully"),!0):(p("Unable to save Staging information!"),!1)}catch(a){return console.error(a),p("Error has occured while saving observations"),!1}}}),(e,t)=>(N(),C(q(W),{style:{margin:"0px auto",width:"80%"}},{default:T((()=>[I(q(A),null,{default:T((()=>[I(q(R),null,{default:T((()=>[I(q(z),null,{default:T((()=>[I(q(F),{size:"12","size-md":"6"},{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>t[22]||(t[22]=[H("Phone Followup "),Y("span",{style:{color:"red"}},"*",-1)]))),_:1,__:[22]}),I(q(P),{value:r.value.phone_followup,onIonChange:t[0]||(t[0]=e=>{r.value.phone_followup=e.detail.value,Z("phone_followup",e.detail.value)})},{default:T((()=>[I(q(S),{lines:"none"},{default:T((()=>[I(q($),{slot:"start",value:"Yes"}),I(q(U),null,{default:T((()=>t[23]||(t[23]=[H("Yes")]))),_:1,__:[23]})])),_:1}),I(q(S),{lines:"none"},{default:T((()=>[I(q($),{slot:"start",value:"No"}),I(q(U),null,{default:T((()=>t[24]||(t[24]=[H("No")]))),_:1,__:[24]})])),_:1})])),_:1},8,["value"]),b.value.phone_followup?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.phone_followup),1)])),_:1})):O("",!0)])),_:1}),I(q(F),{size:"12","size-md":"6"},{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>t[25]||(t[25]=[H("Home Visit Followup "),Y("span",{style:{color:"red"}},"*",-1)]))),_:1,__:[25]}),I(q(P),{value:r.value.home_visit_followup,onIonChange:t[1]||(t[1]=e=>{r.value.home_visit_followup=e.detail.value,Z("home_visit_followup",e.detail.value)})},{default:T((()=>[I(q(S),{lines:"none"},{default:T((()=>[I(q($),{slot:"start",value:"Yes"}),I(q(U),null,{default:T((()=>t[26]||(t[26]=[H("Yes")]))),_:1,__:[26]})])),_:1}),I(q(S),{lines:"none"},{default:T((()=>[I(q($),{slot:"start",value:"No"}),I(q(U),null,{default:T((()=>t[27]||(t[27]=[H("No")]))),_:1,__:[27]})])),_:1})])),_:1},8,["value"]),b.value.home_visit_followup?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.home_visit_followup),1)])),_:1})):O("",!0)])),_:1})])),_:1}),X.phone_number.required()?(N(),C(q(z),{key:0},{default:T((()=>[I(q(F),null,{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.phone_number.label)+" ",1),t[28]||(t[28]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[28]}),I(u,{inputHeader:"",sectionHeaderFontWeight:"20",bold:"",unit:"",input:"input",disabled:!1,icon:Q.value.icon,placeholder:"Enter phone",iconRight:"",leftText:"",inputWidth:"100%",inputValue:r.value.phone_number,eventType:"input",p_country:V.value,"onUpdate:phone":t[2]||(t[2]=e=>{r.value.phone_number=e,Z("phone_number",e)}),onCountryChanged:()=>null,popOverData:Q.value.popOverData,onHandleInnerActionBtnPropetiesFn:t[3]||(t[3]=t=>e.$emit("click:innerBtn",Q.value)),InnerActionBtnPropeties:Q.value.InnerBtn},null,8,["icon","inputValue","p_country","popOverData","InnerActionBtnPropeties"]),b.value.phone_number?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.phone_number),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.has_linkage.required()?(N(),C(q(z),{key:1},{default:T((()=>[I(q(F),null,{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.has_linkage.label)+" ",1),t[29]||(t[29]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[29]}),I(q(P),{value:r.value.has_linkage,onIonChange:t[4]||(t[4]=e=>{r.value.has_linkage=e.detail.value,Z("has_linkage",e.detail.value)})},{default:T((()=>[(N(!0),j(L,null,B(X.has_linkage.options(),(e=>(N(),C(q(S),{lines:"none",key:e},{default:T((()=>[I(q($),{slot:"start",value:e},null,8,["value"]),I(q(U),null,{default:T((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),b.value.has_linkage?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.has_linkage),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.linkage_number.required()?(N(),C(q(z),{key:2},{default:T((()=>[I(q(F),null,{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.linkage_number.label)+" ",1),t[30]||(t[30]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[30]}),I(s,{inputHeader:"",placeholder:"e.g 1234-002-01-A",inputValue:r.value.linkage_number,"onUpdate:inputValue":t[5]||(t[5]=e=>{r.value.linkage_number=e.target.value,Z("linkage_number",e.target.value)}),error:!!b.value.linkage_number},{end:T((()=>[I(q(U),null,{default:T((()=>t[31]||(t[31]=[H("set_site_prefix")]))),_:1,__:[31]})])),_:1},8,["inputValue","error"]),b.value.linkage_number?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.linkage_number),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.received_arvs.required()?(N(),C(q(z),{key:3},{default:T((()=>[I(q(F),null,{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.received_arvs.label)+" ",1),t[32]||(t[32]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[32]}),I(q(P),{value:r.value.received_arvs,onIonChange:t[6]||(t[6]=e=>{r.value.received_arvs=e.detail.value,Z("received_arvs",e.detail.value)})},{default:T((()=>[(N(!0),j(L,null,B(X.received_arvs.options(),(e=>(N(),C(q(S),{lines:"none",key:e},{default:T((()=>[I(q($),{slot:"start",value:e},null,8,["value"]),I(q(U),null,{default:T((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),b.value.received_arvs?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.received_arvs),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.date_last_taken_arvs.required()?(N(),C(q(z),{key:4},{default:T((()=>[I(q(F),{size:"12","size-md":"6"},{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.date_last_taken_arvs.label)+" ",1),t[33]||(t[33]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[33]}),I(y,{place_holder:"",date_prop:r.value.date_last_taken_arvs,onDateUpDated:t[7]||(t[7]=e=>{r.value.date_last_taken_arvs=e,Z("date_last_taken_arvs",e)}),error:!!b.value.date_last_taken_arvs},null,8,["date_prop","error"]),b.value.date_last_taken_arvs?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.date_last_taken_arvs),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.taken_last_two_months.required()?(N(),C(q(z),{key:5},{default:T((()=>[I(q(F),null,{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.taken_last_two_months.label)+" ",1),t[34]||(t[34]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[34]}),I(q(P),{value:r.value.taken_last_two_months,onIonChange:t[8]||(t[8]=e=>{r.value.taken_last_two_months=e.detail.value,Z("taken_last_two_months",e.detail.value)})},{default:T((()=>[(N(!0),j(L,null,B(X.taken_last_two_months.options(),(e=>(N(),C(q(S),{lines:"none",key:e},{default:T((()=>[I(q($),{slot:"start",value:e},null,8,["value"]),I(q(U),null,{default:T((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),b.value.taken_last_two_months?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.taken_last_two_months),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.taken_last_two_weeks.required()?(N(),C(q(z),{key:6},{default:T((()=>[I(q(F),null,{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.taken_last_two_weeks.label)+" ",1),t[35]||(t[35]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[35]}),I(q(P),{value:r.value.taken_last_two_weeks,onIonChange:t[9]||(t[9]=e=>{r.value.taken_last_two_weeks=e.detail.value,Z("taken_last_two_weeks",e.detail.value)})},{default:T((()=>[(N(!0),j(L,null,B(X.taken_last_two_weeks.options(),(e=>(N(),C(q(S),{lines:"none",key:e},{default:T((()=>[I(q($),{slot:"start",value:e},null,8,["value"]),I(q(U),null,{default:T((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),b.value.taken_last_two_weeks?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.taken_last_two_weeks),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.ever_registered_at_art_clinic.required()?(N(),C(q(z),{key:7},{default:T((()=>[I(q(F),null,{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.ever_registered_at_art_clinic.label)+" ",1),t[36]||(t[36]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[36]}),I(q(P),{value:r.value.ever_registered_at_art_clinic,onIonChange:t[10]||(t[10]=e=>{r.value.ever_registered_at_art_clinic=e.detail.value,Z("ever_registered_at_art_clinic",e.detail.value)})},{default:T((()=>[(N(!0),j(L,null,B(X.ever_registered_at_art_clinic.options(),(e=>(N(),C(q(S),{lines:"none",key:e},{default:T((()=>[I(q($),{slot:"start",value:e},null,8,["value"]),I(q(U),null,{default:T((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),b.value.ever_registered_at_art_clinic?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.ever_registered_at_art_clinic),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.location_of_art_initialization.required()?(N(),C(q(z),{key:8},{default:T((()=>[I(q(F),{size:"12","size-md":"6"},{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.location_of_art_initialization.label)+" ",1),t[37]||(t[37]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[37]}),I(k,{show_error:!!b.value.location_of_art_initialization,selected_district_ids:[],selected_location:r.value.location_of_art_initialization,onFacilitySelected:t[11]||(t[11]=e=>{r.value.location_of_art_initialization=e.selected_location,Z("location_of_art_initialization",e.selected_location)})},null,8,["show_error","selected_location"]),b.value.location_of_art_initialization?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.location_of_art_initialization),1)])),_:1})):O("",!0)])),_:1}),X.art_number_at_previous_location.required()?(N(),C(q(F),{key:0,size:"12","size-md":"6"},{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.art_number_at_previous_location.label)+" ",1),t[38]||(t[38]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[38]}),I(s,{inputHeader:"",placeholder:"Enter previous ART number",inputValue:r.value.art_number_at_previous_location,"onUpdate:inputValue":t[12]||(t[12]=e=>{r.value.art_number_at_previous_location=e.target.value,Z("art_number_at_previous_location",e.target.value)}),error:!!b.value.art_number_at_previous_location},null,8,["inputValue","error"]),b.value.art_number_at_previous_location?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.art_number_at_previous_location),1)])),_:1})):O("",!0)])),_:1})):O("",!0)])),_:1})):O("",!0),X.art_start_date.required()?(N(),C(q(z),{key:9},{default:T((()=>[I(q(F),{size:"12","size-md":"6"},{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.art_start_date.label)+" ",1),t[39]||(t[39]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[39]}),I(y,{place_holder:X.art_start_date.label+(X.art_start_date.required()?"*":""),date_prop:r.value.art_start_date,onDateUpDated:t[13]||(t[13]=e=>{r.value.art_start_date=e,Z("art_start_date",e)}),error:!!b.value.art_start_date},null,8,["place_holder","date_prop","error"]),b.value.art_start_date?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.art_start_date),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.has_transfer_letter.required()?(N(),C(q(z),{key:10},{default:T((()=>[I(q(F),null,{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.has_transfer_letter.label)+" ",1),t[40]||(t[40]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[40]}),I(q(P),{value:r.value.has_transfer_letter,onIonChange:t[14]||(t[14]=e=>{r.value.has_transfer_letter=e.detail.value,Z("has_transfer_letter",e.detail.value)})},{default:T((()=>[(N(!0),j(L,null,B(X.has_transfer_letter.options(),(e=>(N(),C(q(S),{lines:"none",key:e},{default:T((()=>[I(q($),{slot:"start",value:e},null,8,["value"]),I(q(U),null,{default:T((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),b.value.has_transfer_letter?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.has_transfer_letter),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),I(q(z),null,{default:T((()=>[X.initial_weight.required()?(N(),C(q(F),{key:0,size:"12","size-md":"6"},{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.initial_weight.label)+" ",1),t[41]||(t[41]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[41]}),I(s,{inputHeader:"",placeholder:"1",inputType:"number",inputValue:r.value.initial_weight,"onUpdate:inputValue":t[15]||(t[15]=e=>{r.value.initial_weight=e.target.value,Z("initial_weight",e.target.value)}),error:!!b.value.initial_weight,unit:"KG"},null,8,["inputValue","error"]),b.value.initial_weight?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.initial_weight),1)])),_:1})):O("",!0)])),_:1})):O("",!0),X.initial_height.required()?(N(),C(q(F),{key:1,size:"12","size-md":"6"},{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.initial_height.label)+" ",1),t[42]||(t[42]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[42]}),I(s,{inputHeader:"",placeholder:"1",inputType:"number",inputValue:r.value.initial_height,"onUpdate:inputValue":t[16]||(t[16]=e=>{r.value.initial_height=e.target.value,Z("initial_height",e.target.value)}),error:!!b.value.initial_height,unit:"CM"},null,8,["inputValue","error"]),b.value.initial_height?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.initial_height),1)])),_:1})):O("",!0)])),_:1})):O("",!0)])),_:1}),"Yes"===r.value.has_transfer_letter?(N(),C(q(z),{key:11},{default:T((()=>[I(q(F),null,{default:T((()=>[(N(),C(G,{key:r.value.art_start_date,date:r.value.art_start_date,ref_key:"stagingRef",ref:i},null,8,["date"]))])),_:1})])),_:1})):O("",!0),X.cd4_available.required()?(N(),C(q(z),{key:12},{default:T((()=>[I(q(F),null,{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.cd4_available.label)+" ",1),t[43]||(t[43]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[43]}),I(q(P),{value:r.value.cd4_available,onIonChange:t[17]||(t[17]=e=>{r.value.cd4_available=e.detail.value,Z("cd4_available",e.detail.value)})},{default:T((()=>[(N(!0),j(L,null,B(X.cd4_available.options(),(e=>(N(),C(q(S),{lines:"none",key:e},{default:T((()=>[I(q($),{slot:"start",value:e},null,8,["value"]),I(q(U),null,{default:T((()=>[H(E(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),b.value.cd4_available?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.cd4_available),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.cd4_percent.required()?(N(),C(q(z),{key:13},{default:T((()=>[I(q(F),null,{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.cd4_percent.label)+" ",1),t[44]||(t[44]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[44]}),I(s,{inputHeader:"",placeholder:"Enter CD4 percent",inputType:"number",inputValue:r.value.cd4_percent,"onUpdate:inputValue":t[18]||(t[18]=e=>{r.value.cd4_percent=e.target.value,Z("cd4_percent",e.target.value)}),error:!!b.value.cd4_percent,unit:"%"},null,8,["inputValue","error"]),b.value.cd4_percent?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.cd4_percent),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.confirmatory_hiv_test_type.required()?(N(),C(q(z),{key:14},{default:T((()=>[I(q(F),null,{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.confirmatory_hiv_test_type.label)+" ",1),t[45]||(t[45]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[45]}),I(q(P),{value:r.value.confirmatory_hiv_test_type,onIonChange:t[19]||(t[19]=e=>{r.value.confirmatory_hiv_test_type=e.detail.value,Z("confirmatory_hiv_test_type",e.detail.value)})},{default:T((()=>[(N(!0),j(L,null,B(X.confirmatory_hiv_test_type.options(),(e=>(N(),C(q(S),{lines:"none",key:e.value},{default:T((()=>[I(q($),{disabled:!!e.disabled&&e.disabled(),slot:"start",value:e.value},null,8,["disabled","value"]),I(q(U),null,{default:T((()=>[H(E(e.label),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"]),b.value.confirmatory_hiv_test_type?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.confirmatory_hiv_test_type),1)])),_:1})):O("",!0)])),_:1})])),_:1})):O("",!0),X.confirmatory_hiv_test_location.required()?(N(),C(q(z),{key:15},{default:T((()=>[I(q(F),{size:"12","size-md":"6"},{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.confirmatory_hiv_test_location.label)+" ",1),t[46]||(t[46]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[46]}),I(k,{show_error:!!b.value.confirmatory_hiv_test_location,selected_district_ids:[],selected_location:r.value.confirmatory_hiv_test_location,onFacilitySelected:t[20]||(t[20]=e=>{r.value.confirmatory_hiv_test_location=e.selected_location,Z("confirmatory_hiv_test_location",e.selected_location)})},null,8,["show_error","selected_location"]),b.value.confirmatory_hiv_test_location?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.confirmatory_hiv_test_location),1)])),_:1})):O("",!0)])),_:1}),X.confirmatory_hiv_test_date.required()?(N(),C(q(F),{key:0,size:"12","size-md":"6"},{default:T((()=>[I(q(U),{class:"form-label"},{default:T((()=>[H(E(X.confirmatory_hiv_test_date.label)+" ",1),t[47]||(t[47]=Y("span",{style:{color:"red"}},"*",-1))])),_:1,__:[47]}),I(y,{place_holder:X.confirmatory_hiv_test_date.label+(X.confirmatory_hiv_test_date.required()?"*":""),date_prop:r.value.confirmatory_hiv_test_date,onDateUpDated:t[21]||(t[21]=e=>{r.value.confirmatory_hiv_test_date=e,Z("confirmatory_hiv_test_date",e)}),error:!!b.value.confirmatory_hiv_test_date},null,8,["place_holder","date_prop","error"]),b.value.confirmatory_hiv_test_date?(N(),C(q(x),{key:0,color:"danger"},{default:T((()=>[H(E(b.value.confirmatory_hiv_test_date),1)])),_:1})):O("",!0)])),_:1})):O("",!0)])),_:1})):O("",!0)])),_:1})])),_:1})])),_:1}))}}),[["__scopeId","data-v-5864251e"]]))}}}))}();
