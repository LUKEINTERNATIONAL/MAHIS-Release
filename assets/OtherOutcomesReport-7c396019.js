import{p as _,b as i,t as h,l,a as b}from"./report_service-67f6221f.js";import{g as v,_ as g}from"./ReportTable.vue_vue_type_style_index_0_lang-f1876c97.js";import{P as D}from"./program_report_service-8e474ff6.js";import{e as w}from"./index-c46d8aff.js";import{d as O,r,c,e as y,y as R}from"./vendor-9911d1c7.js";import"./lodash-7be49fbd.js";import"./apexcharts-94720c66.js";import"./chartjs-cd44e551.js";import"./barcode-qrcode-reader-2df925b7.js";const k=O({__name:"OtherOutcomesReport",setup(S){const s=r("-"),a=r(""),n=r([]),m=c(()=>"".concat(a.value||"Other Outcomes"," Clinic Report")),p=[v("patient_id")],u=c(()=>{const t=[{path:"identifier",label:"ARV Number",preSort:_,initialSort:!0},{path:"given_name",label:"First Name"},{path:"family_name",label:"Last Name"},{path:"birthdate",label:"Date of Birth",formatter:i},{path:"gender",label:"Gender",formatter:h},{path:"outcome_date",label:"Outcome Date",formatter:i}];return/transfer/i.test(a.value)&&t.push({path:"transferred_out_to",label:"TO Location"}),t}),d=[{id:"outcome",label:"Select Outcome",type:"select",options:w(["Transfer Out","Died","Stopped"])}];async function f(t){var o;await l.show();try{const e=new D;a.value=t.outcome.value,e.setStartDate(t.dateRange.startDate),e.setEndDate(t.dateRange.endDate),s.value=e.getDateIntervalPeriod(),n.value=(o=await e.getReport("patient_outcome_list",{outcome:a.value}))!=null?o:[]}catch(e){b("Unable to load report data"),console.error(e)}await l.hide()}return(t,o)=>(y(),R(g,{"report-type":"Clinic",title:m.value,columns:u.value,rows:n.value,period:s.value,"row-action-buttons":p,"custom-filters":d,"use-date-range-filter":"","use-secure-export":"",onGenerate:f},null,8,["title","columns","rows","period"]))}});export{k as default};
