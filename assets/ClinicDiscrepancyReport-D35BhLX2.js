import{b$ as t,c1 as p,aF as n,aE as l}from"./index-BvO-zzaj.js";import{P as d}from"./program_report_service-EQ_o6rRS.js";import{d as u,r as i,O as f,f as m}from"./vendor-BeyhA3v1.js";import"./lodash-Dt8AsbQm.js";import"./apexcharts-7NjVVO2K.js";const v=u({__name:"ClinicDiscrepancyReport",setup(_){const r=i("-"),o=i([]),c=[{label:"Drug Count Date",path:"verification_date",formatter:t},{label:"Drug Name",path:"short_name"},{label:"Expected Count",path:"expected_quantity",formatter:t},{label:"Verified Count",path:"current_quantity",formatter:t},{label:"Difference",path:"difference",formatter:t},{label:"Reason",path:"variance_reason"}];async function s(a){await n.show();try{const e=new d;e.setStartDate(a.dateRange.startDate),e.setEndDate(a.dateRange.endDate),r.value=e.getDateIntervalPeriod(),o.value=await e.generate("discrepancy_report")}catch(e){l("Unable to load report data"),console.error(e)}await n.hide()}return(a,e)=>(m(),f(p,{title:"Clinic Discrepancy Report","report-type":"Clinic",columns:c,rows:o.value,period:r.value,"use-date-range-filter":"","use-secure-export":"",onGenerate:s},null,8,["rows","period"]))}});export{v as default};
