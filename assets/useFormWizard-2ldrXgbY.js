import{d as I,c as d,H as E,e as r,f as c,m as y,k as b,p as g,j as u,l as x,K as C,r as P,w as q,a as j,F as L,O as V,N as M,u as H,J as N,n as _}from"./vendor-DCnJ0kVy.js";import{S as J}from"./index-DCWnu0_u.js";const K={class:"fw-list-wrapper"},G=["id"],Q={class:"fw-step-container"},R={key:0},U={key:1},X=I({__name:"WizardStep",props:{tab:{type:Object,default:()=>{}},index:{type:Number,default:0},currentIndex:{type:Number,default:0},squaredTab:{type:Boolean,default:!1},showProgress:{type:Boolean,default:!0}},setup(e){const l=e,h=d(()=>l.currentIndex>l.index);d(()=>"pi pi-".concat(l.tab.icon));const i=d(()=>["fw-list-wrapper-icon",{"fw-step-active":l.tab.active,"fw-step-checked":l.tab.checked,"fw-squared-tab":l.squaredTab}]);return(n,a)=>{const s=E("ion-icon");return c(),r("li",null,[e.showProgress?(c(),r("div",{key:0,class:g(["fw-list-progress",{"fw-list-progress-active":h.value}])},null,2)):y("",!0),b("div",K,[b("div",{id:"step-".concat(e.tab.id),role:"tab",class:g(i.value)},[b("div",Q,[u(n.$slots,"active-step",{},()=>[e.tab.icon?(c(),r("i",R,[x(s,{icon:e.tab.icon,style:{"font-size":"16px"}},null,8,["icon"])])):(c(),r("i",U,C(e.index+1),1))])])],10,G),u(n.$slots,"title",{},()=>[b("span",{class:g(["fw-step-title",{active:e.tab.active}])},C(e.tab.title),3)])])])}}}),Y=["disabled"],Z={key:0},B=I({__name:"Button",props:{options:{type:Object,default:function(){return{}}}},setup(e){const l=e,h=n=>"pi pi-".concat(n),i=d(()=>["fw-btn",{"fw-btn-disabled":l.options.disabled}]);return(n,a)=>(c(),r("button",{class:g(i.value),disabled:e.options.disabled},[e.options.hideText?y("",!0):(c(),r("span",Z,C(e.options.text),1)),e.options.hideIcon?y("",!0):(c(),r("i",{key:1,class:g(h(e.options.icon))},null,2))],10,Y))}}),ee=["id"],te={class:"fw-body-list",role:"tablist"},ne={class:"fw-body"},ae={class:"fw-body-content"},se={class:"fw-body-container"},oe={key:0,class:"fw-footer"},le={class:"fw-footer-left"},ie={class:"fw-footer-right"},fe=I({__name:"Wizard",props:{id:{type:String,default:"fw-"+new Date().valueOf()},customTabs:{type:Array,default:()=>[{id:0,title:"Step 1",icon:"map"},{id:1,title:"Step 2",icon:"check"},{id:2,title:"Step 3",icon:"pencil"}]},nextButton:{type:Object,default:function(){return{}}},backButton:{type:Object,default:function(){return{}}},doneButton:{type:Object,default:function(){return{}}},hideButtons:{type:Boolean,default:!1},startIndex:{type:Number,default:0,validator:e=>e>=0},verticalTabs:{type:Boolean,default:!1},beforeChange:{type:Function,default:()=>{}},beforeMount:{type:Function,default:()=>{}},navigableTabs:{type:Boolean,default:!1},scrollableTabs:{type:Boolean,default:!1},cardBackground:{type:Boolean,default:!1},squaredTabs:{type:Boolean,default:!1},showProgress:{type:Boolean,default:!0}},emits:["change","complete:wizard","updated:tabs","onValidateTabs","done-button-changed"],setup(e,{expose:l,emit:h}){const i=h,n=e;let a=P(0);const s=d(()=>[...n.customTabs].map((o,w)=>({...o,checked:w<a.value,active:w===a.value}))),p=d(()=>s.value.length-1),f=d(()=>Object.assign({text:"Back",icon:"arrow-left",hideText:!1,hideIcon:!1,disabled:!1},n.backButton)),m=d(()=>Object.assign({text:"Next",icon:"arrow-right",hideText:!1,hideIcon:!1,disabled:!1},n.nextButton)),v=d(()=>Object.assign({text:"Done",icon:"check",hideText:!1,hideIcon:!1,disabled:!1},n.doneButton));q(()=>n.doneButton,(t,o)=>{i("done-button-changed",{newOptions:v.value,oldOptions:o?Object.assign({text:"Done",icon:"check",hideText:!1,hideIcon:!1,disabled:!1},o):null,currentTabIndex:a.value,isLastStep:$.value})},{deep:!0,immediate:!1}),q(v,(t,o)=>{console.log("Done button options changed:",{new:t,old:o,currentStep:a.value})},{deep:!0}),j(()=>{a.value=n.startIndex,O(),i("change",a.value)});const D=d(()=>a.value!==0),$=d(()=>a.value===p.value),A=d(()=>["form-wizard-vue",{"fw-vertical":n.verticalTabs},{"fw-overflow-scroll":n.scrollableTabs},{"fw-card":n.cardBackground}]),O=()=>{i("updated:tabs",s.value,a.value)},S=async()=>{if(a.value===p.value){v.value.disabled||W();return}if(m.value.disabled)return;const t=a.value+1,o=a.value;if(!n.navigableTabs){i("change",t,o,!0);return}i("change",t,o),await n.beforeChange(),T(t)},F=async()=>{if(a.value===0||f.value.disabled)return;const t=a.value-1,o=a.value;i("change",t,o),await n.beforeChange(),T(t)},W=()=>{const t=a.value,o=a.value-1;i("complete:wizard",t,o)},z=async t=>{if(!n.navigableTabs)return;const o=t,w=a.value;i("change",o,w),await n.beforeChange(),T(o)},T=async t=>{a.value=t,O(),await _(),await n.beforeMount()};return l({changeTab:T}),(t,o)=>(c(),r("div",{id:e.id,class:g(A.value)},[b("ul",te,[(c(!0),r(L,null,V(s.value,(w,k)=>u(t.$slots,"wizard-step",{tab:w,index:k,navigateToTab:z},()=>[(c(),M(X,{key:w.id,tab:w,index:k,currentIndex:H(a),squaredTab:e.squaredTabs,showProgress:e.showProgress,onClick:re=>z(k)},{"active-step":N(()=>[u(t.$slots,"active-step")]),title:N(()=>[u(t.$slots,"title")]),_:2},1032,["tab","index","currentIndex","squaredTab","showProgress","onClick"]))])),256))]),b("div",ne,[b("div",ae,[b("div",se,[u(t.$slots,"default")])]),e.hideButtons?y("",!0):(c(),r("div",oe,[u(t.$slots,"footer",{},()=>[b("div",le,[D.value?(c(),r("span",{key:0,role:"button",onClick:F},[u(t.$slots,"back",{},()=>[x(B,{options:f.value},null,8,["options"])])])):y("",!0),u(t.$slots,"custom-buttons-left")]),b("div",ie,[u(t.$slots,"custom-buttons-right"),$.value?(c(),r("span",{key:0,role:"button",onClick:S},[u(t.$slots,"done",{},()=>[x(B,{options:v.value},null,8,["options"])])])):(c(),r("div",{key:1,role:"button",onClick:S},[u(t.$slots,"next",{},()=>[x(B,{options:m.value},null,8,["options"])])]))])])]))])],10,ee))}});function ce(e){return console.log("Validating OPD workflow for title: ".concat(e)),!1}const be=e=>{const l=P(""),h=s=>{s%1===0&&(l.value=s)},i=s=>{if(l.value===0&&console.log("First Tab"),h(s),J.getProgramID()==14&&!ce(e))return!1;console.log("All Tabs")},n=s=>{const p=document.getElementsByClassName("form-wizard-vue");if(!p.length)return;const f=p[0].getElementsByClassName("fw-body-list");if(!f.length)return;const m=f[0].querySelector(".fw-custom-title");m&&m.remove();const v=document.createElement("li");v.className="fw-custom-title",v.textContent=s||e,v.style.cssText="\n            text-align: center;\n            font-weight: 700;\n            font-size: 18px;\n            flex-grow: 0.08;\n            padding: 10px 0;\n        ",f[0].insertBefore(v,f[0].firstChild)},a=()=>{_(()=>{const s=document.querySelector(".fw-footer-left .fw-btn");if(!s)return;const p=s.querySelector("span"),f=s.querySelector("i");!p||!f||(s.removeChild(p),s.removeChild(f),s.appendChild(f),s.appendChild(p))})};return j(()=>{n()}),{currentTabIndex:l,onChangeCurrentTab:h,onTabBeforeChange:i,changeBtnIconPosition:a,addHeaderAboveList:n}};export{fe as _,be as u};
