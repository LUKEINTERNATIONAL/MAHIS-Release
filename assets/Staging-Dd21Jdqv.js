var ue=Object.defineProperty;var ge=(e,h,d)=>h in e?ue(e,h,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[h]=d;var F=(e,h,d)=>ge(e,typeof h!="symbol"?h+"":h,d);import{d as pe,r as ee,w as te,cZ as ne,a as he,y as B,f as T,z as l,l as s,u as a,aY as ye,e as G,m as U,k as m,bm as k,aa as P,ab as b,M as fe,F as ie,L as oe,J as me,G as re,D as R,A as H,B as _,da as Ae,ac as Ce,bN as Te,aX as _e,a3 as x,a$ as Ie,O as V}from"./vendor--FxeD1z3.js";import{A as q}from"./app_encounter_service-DRel8Czk.js";import{af as se,Y as L,L as be,P as Se,a8 as De,t as we,j as Ee,l as ve,_ as Oe}from"./index-HMs23-uU.js";import{S as He}from"./SelectFacility-xv-h3sKl.js";import{B as Y}from"./BasicYesNoSelect-Bxd9YZE-.js";import"./lodash-Dt8AsbQm.js";const S="2016-04-30",Ve={"Adults with stage 4 conditions":{concept:"WHO STAGE IV ADULT",priority:1,conditions:{stage:e=>e===4}},"Classify as stage 4 when reason for ART is WHO STAGE 4":{concept:"WHO STAGE IV ADULT",priority:2,conditions:{reasonForArt:e=>e==="WHO STAGE IV ADULT"}},"Adults with stage 3 conditions":{concept:"WHO STAGE III ADULT",priority:3,conditions:{stage:e=>e===3}},"Adults with stage 2 conditions":{concept:"WHO STAGE II ADULT",priority:4,conditions:{stage:e=>e===2}},"Adults with stage 1 conditions":{concept:"WHO STAGE I ADULT",priority:5,conditions:{stage:e=>e===1}}},Ne={"Children with stage 4 conditions":{concept:"WHO STAGE IV PEDS",priority:1,conditions:{stage:e=>e===4}},"Classify as stage 4 when reason for ART is WHO STAGE 4":{concept:"WHO STAGE IV PEDS",priority:2,conditions:{reasonForArt:e=>e==="WHO STAGE IV PEDS"}},"For children with stage 3 conditions":{concept:"WHO STAGE III PEDS",priority:3,conditions:{stage:e=>e===3}},"Children with stage 2 conditions":{concept:"WHO STAGE II PEDS",priority:4,conditions:{stage:e=>e===2}},"Children with stage 1 conditions":{concept:"WHO STAGE I PEDS",priority:5,conditions:{stage:e=>e===1}}},Be={"Warn if Severe weight loss is selected when actual patient BMI is acceptable":{priority:1,actions:{alert:async e=>await se("Patient's BMI of ".concat(e.bmi," greater than 18.5, do you wish to proceed?"),{confirmBtnLabel:"Yes, keep severe weightloss",cancelBtnLabel:"No, cancel"})},conditions:{selectedCondition(e){return e==="Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"},bmi:e=>e>18.5}},"Warn for contradicting stage defining conditions":{priority:1,actions:{alert:async e=>!!await se("CONTRADICTING STAGE DEFINING CONDITIONS",{confirmBtnLabel:"Keep Asymptomatic",cancelBtnLabel:"Keep other(s)"})},conditions:{selectedCondition(e){return e==="Asymptomatic HIV infection"}}}},Ge={"Enable TB staging condition if client is TB positive":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:()=>"Client registered as a TB Patient in the TB Module"},conditions:{tbPositive:e=>e,selectedCondition:e=>/\bTuberculosis \(PTB or EPTB\)|\bPulmonary tuberculosis/i.test(e)}},"Enable TB staging condition if client is EPTB positive":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:()=>"Client registered with EPTB in TB Module"},conditions:{eptbPositive:e=>e,selectedCondition:e=>/Extrapulmonary tuberculosis/i.test(e)}},"For children whose current weight percentile is less than 70":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:e=>"Child has a low weight percentile of ".concat(e.weightPercentile)},conditions:{selectedCondition(e){return e==="Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)"},weightPercentile(e){return e<70}}},"Enable Moderate unexplained malnutrition for children whose weight for height is 70-79%":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:e=>"Child has weight percentile of ".concat(e.weightPercentile)},conditions:{selectedCondition(e){return e==="Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"},weightPercentile(e){return e>=70&&e<=79}}},"Disable moderate weight loss when Severe unexplained weight loss is chosen":{priority:2,actions:{isChecked:!1,disabled:!0},description:{color:"secondary",show:"always",info:()=>"Severe weight loss/manutrition was already selected"},conditions:{selectedCondition(e){return e==="Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"},selectedConditions(e){return e.includes("Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)")}}}},Pe={"Enable TB staging condition if client is TB positive":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:()=>"Client registered Positive in TB Module"},conditions:{tbPositive:e=>e,selectedCondition:e=>/\bTuberculosis \(PTB or EPTB\)|\bPulmonary tuberculosis/i.test(e)}},"Enable TB staging condition if client is EPTB positive":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:()=>"Client registered with EPTB in TB Module"},conditions:{eptbPositive:e=>e,selectedCondition:e=>/Extrapulmonary tuberculosis/i.test(e)}},"Adults with a BMI less than 16":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:e=>"Adult has a low BMI of ".concat(e.bmi)},conditions:{selectedCondition(e){return e==="Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"},bmi:e=>e<16}},"Adults whose BMI is between 16 and 18":{priority:3,actions:{isChecked:!0},description:{color:"warning",show:"onChecked",info:e=>"BMI of ".concat(e.bmi," is between 16 and 18")},conditions:{selectedCondition:e=>e==="Moderate weight loss less than or equal to 10 percent, unexplained",bmi:e=>e>=16&&e<=18.5}},"Disable Moderate weight loss if severe weightloss is selected":{priority:2,actions:{isChecked:!1,disabled:!0},description:{color:"secondary",show:"always",info:()=>"Severe weight loss was already selected"},conditions:{selectedCondition(e){return e==="Moderate weight loss less than or equal to 10 percent, unexplained"},selectedConditions(e){return e.includes("Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained")}}}},Le={"Children under twelve months who tested positive on Rapid test and have presumed severe HIV":{concept:"PRESUMED SEVERE HIV",priority:1,conditions:{ageInMonths(e){return e<12},selectedConditions:e=>L.getConceptsByCategory("pshd_condition").some(h=>e.includes(h.name)),testType(e){return e==="HIV rapid test"}}},"Has stage 4 conditions":{concept:"WHO STAGE IV PEDS",priority:2,conditions:{stage:e=>e===4}},"Has stage 3 conditions":{concept:"WHO STAGE III PEDS",priority:3,conditions:{stage:e=>e===3}},"Children under twelve who tested positive via HIV DNA Polymerase Chain Reaction test":{concept:"HIV DNA polymerase chain reaction",priority:4,conditions:{ageInMonths:e=>e<12,testType:e=>e==="HIV DNA polymerase chain reaction"}},"Children who are less than 24 months":{concept:"HIV infected",priority:5,conditions:{ageInMonths:e=>e<24}},"Children between 24 and 56 months who have stage 2 or 1 conditions":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 750",priority:6,conditions:{ageInMonths(e){return e>=24&&e<=56},cd4Date:e=>new Date(e)<=new Date(S),cd4(e){return e<=750},cd4Modifier(e){return e==="<"||e==="="},stage(e){return e<=2}}},"Children with CD4 count less than 500 and have stage 1 and stage 2 conditions":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 500",priority:7,conditions:{cd4(e){return e<=500},cd4Date:e=>new Date(e)<=new Date(S),cd4Modifier(e){return e==="<"||e==="="},stage(e){return e<=2}}},"Children who are more than five years old and have cd4 count less than 500":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 500",priority:9,conditions:{cd4Date:e=>new Date(e)<=new Date(S),age(e){return e>5},cd4(e){return e<=500},cd4Modifier(e){return e==="<"||e==="="}}},"Children over date 2014-04-01 and less than Five years old":{concept:"HIV infected",priority:10,conditions:{date(e){return e>="2014-04-01"},age(e){return e<=5}}},"Women who are breast feeding":{concept:"BREASTFEEDING",priority:11,conditions:{gender(e){return e==="F"},breastFeeding(e){return e==="Yes"},stage:e=>e<=2}},"Women who are pregnant":{concept:"PATIENT PREGNANT",priority:12,conditions:{gender(e){return e==="F"},pregnant(e){return e==="Yes"},stage(e){return e<=2}}},"Asymptomatic patient with either stage one or stage two conditions":{concept:"Asymptomatic",priority:13,conditions:{stage:e=>e<=2}}},We={"Has stage 4 conditions":{concept:"WHO STAGE IV ADULT",priority:1,conditions:{stage:e=>e===4}},"Has HIV wasting syndrome identified in stage 3":{concept:"WHO STAGE IV ADULT",priority:2,conditions:{selectedConditions:e=>L.getConceptsByCategory("severe_hiv_wasting_syndrome").reduce((g,c)=>e.includes(c.name)?g+1:0,0)>=2}},"Has stage 3 conditions":{concept:"WHO STAGE III ADULT",priority:3,conditions:{stage:e=>e===3}},"CD4 less than 350 for adults before 2014":{concept:"cd4 less than or equal to 350",priority:4,conditions:{cd4Date:e=>new Date(e)<=new Date(S),cd4(e){return e<=350},cd4Modifier(e){return e==="<"||e==="="}}},"CD4 less than 250 for adults after 2014":{concept:"cd4 less than or equal to 250",priority:4,conditions:{cd4Date:e=>new Date(e)<=new Date(S),cd4(e){return e<=250},cd4Modifier(e){return e==="<"||e==="="}}},"CD4 less than 350 for adults after 2014":{concept:"cd4 less than or equal to 350",priority:5,conditions:{cd4Date:e=>new Date(e)<=new Date(S),cd4(e){return e<=350},cd4Modifier(e){return e==="<"||e==="="}}},"CD4 less than 500 for adults after 2014":{concept:"cd4 less than or equal to 500",priority:6,conditions:{cd4Date:e=>new Date(e)<=new Date(S),cd4(e){return e<=500},cd4Modifier(e){return e==="<"||e==="="}}},"Women who are breast feeding":{concept:"BREASTFEEDING",priority:8,conditions:{gender(e){return e==="F"},breastFeeding(e){return e==="Yes"},stage:e=>e<=2}},"Women who are pregnant":{concept:"PATIENT PREGNANT",priority:7,conditions:{gender(e){return e==="F"},pregnant(e){return e==="Yes"},stage(e){return e<=2}}},"Asymptomatic patient with either stage one or stage two conditions":{concept:"Asymptomatic",priority:9,conditions:{stage:e=>e<=2}}};class $ extends q{constructor(d,g,c){super(d,52,c);F(this,"age");F(this,"confirmatoryTest");this.age=g,this.confirmatoryTest=null}isAdult(){return this.age>=15}isPedaid(){return this.age<=14}setAge(d){this.age=d}getFacilities(d=""){return be.getFacilities({name:d})}getConfirmatoryTestType(){return this.confirmatoryTest}cd4CountIsValid(d){try{return!!d.match(/^(=|<|>)([0-9]*)$/m)}catch(g){return!1}}getAlertGuidelines(){return Be}getWhoStageGuidelines(){return this.isAdult()?Ve:Ne}getProgramEligibilityGuidelines(){return this.isAdult()?We:Le}getRecommendedConditionGuidelines(){return this.isAdult()?Pe:Ge}getStagingConditions(d){const g=this.getStagingCategoryByNum(d);return q.getConceptsByCategory(g)}buildWhoStageObs(d){return this.buildValueCoded("Who stage",d)}buildWhoCriteriaObs(d){return this.buildValueCoded("Who stages criteria present",d)}buildReasonForArtObs(d){return this.buildValueCoded("Reason for ART eligibility",d)}getStagingCategoryByNum(d){switch(d){case 1:return this.isAdult()?"stage_1_conditions_adults":"stage_1_conditions_pedaids";case 2:return this.isAdult()?"stage_2_conditions_adults":"stage_2_conditions_pedaids";case 3:return this.isAdult()?"stage_3_conditions_adults":"stage_3_conditions_pedaids";case 4:return this.isAdult()?"stage_4_conditions_adults":"stage_4_conditions_pedaids";default:return""}}async loadHivConfirmatoryTestType(){const d=await q.getFirstValueCoded(this.patientID,"Confirmatory hiv test type");d&&(this.confirmatoryTest=d)}}const Me={key:0,class:"ion-padding"},Fe={class:"accordion_group ion-padding"},Ue={style:{"font-weight":"bold"}},ke={class:"error"},Re={class:"ion-padding",slot:"content"},xe={class:"ion-padding"},qe={class:"ion-padding"},Ye={key:0,class:"ion-padding"},$e={class:"error"},je={class:"error"},Qe={class:"error"},ze={class:"ion-padding",style:{"border-bottom":"dashed #ccc"}},Ke=pe({__name:"Staging",props:{hideSubmit:{type:Boolean,default:!1},date:{default:$.getSessionDate()}},setup(e,{expose:h}){const d=e,g=new Se,c=ee({}),r=new $(g.getID(),g.getAge(),-1);te(()=>d.date,t=>{var u;const n=(u=t==null?void 0:t.standardDate)!=null?u:$.getSessionDate(),o=V(n).diff(g.getBirthdate(),"years");r.setAge(o),r.setDate(n)},{deep:!0,immediate:!0});const A=ne({stage_4_conditions:{title:"Stage 4 Conditions",options:[]},stage_3_conditions:{title:"Stage 3 Conditions",options:[]},stage_2_conditions:{title:"Stage 2 Conditions",options:[]},stage_1_conditions:{title:"Stage 1 Conditions",options:[]}});ee([]);const i=ne({cd4:"",cd4Date:"",isChildBearing:!1,reasonForArt:"",pregnant:"",breastFeeding:"",cd4Available:"",cd4Location:"",whoStage:"",staging:[],confirmatoryTest:""}),p={reasonForArt:{buildObs:()=>r.buildReasonForArtObs(i.reasonForArt),suggestAvalue:()=>({"PRESUMED SEVERE HIV":{priority:1,condition:()=>g.getAgeInMonths()<12&&i.confirmatoryTest==="HIV rapid test"&&L.getConceptsByCategory("pshd_condition").some(t=>z().includes(t.name))},"WHO STAGE IV PEDS":{priority:2,condition:()=>r.isPedaid()&&y(["stage_4_conditions"])},"WHO STAGE III PEDS":{priority:3,condition:()=>r.isPedaid()&&y(["stage_3_conditions"])},"HIV DNA polymerase chain reaction":{priority:4,condition:()=>g.getAgeInMonths()<12&&i.confirmatoryTest==="HIV DNA polymerase chain reaction"},"CD4 COUNT LESS THAN OR EQUAL TO 750":{priority:5,condition:()=>E(750)&&v()&&w()&&g.ageInMonths()>=24&&g.ageInMonths()<=56},"CD4 COUNT LESS THAN OR EQUAL TO 500":{priority:6,condition:()=>r.isPedaid()&&E(500)&&v()&&w()},"HIV infected":{priority:7,condition:()=>g.getAgeInMonths()<24||g.getAge()<=5},"WHO STAGE IV ADULT":{priority:1,condition:()=>{const t=L.getConceptsByCategory("severe_hiv_wasting_syndrome");return r.isAdult()&&(y(["stage_4_conditions"])||t.filter(n=>z().includes(n.name)).length>=2)}},"WHO STAGE III ADULT":{priority:2,condition:()=>r.isAdult()&&y(["stage_3_conditions"])},"cd4 less than or equal to 350":{priority:3,condition:()=>r.isAdult()&&E(350)&&w()},"cd4 less than or equal to 250":{priority:4,condition:()=>r.isAdult()&&E(250)&&w()},"cd4 less than or equal to 500":{priority:4,condition:()=>r.isAdult()&&E(500)&&w()},BREASTFEEDING:{priority:5,condition:()=>r.isAdult()&&i.breastFeeding==="Yes"&&v()},"PATIENT PREGNANT":{priority:6,condition:()=>r.isAdult()&&i.pregnant==="Yes"&&v()},Asymptomatic:{priority:7,condition:()=>v()}})},whoStage:{buildObs:()=>r.buildWhoStageObs(i.whoStage),suggestAvalue:()=>({"WHO STAGE IV ADULT":{priority:1,condition:()=>r.isAdult()&&y(["stage_4_conditions"])},"WHO STAGE III ADULT":{priority:2,condition:()=>r.isAdult()&&y(["stage_3_conditions"])},"WHO STAGE II ADULT":{priority:3,condition:()=>r.isAdult()&&y(["stage_2_conditions"])},"WHO STAGE I ADULT":{priority:4,condition:()=>r.isAdult()&&y(["stage_1_conditions"])},"WHO STAGE IV PEDS":{priority:1,condition:()=>r.isPedaid()&&(y(["stage_4_conditions"])||i.reasonForArt==="WHO STAGE IV PEDS")},"WHO STAGE III PEDS":{priority:2,condition:()=>r.isPedaid()&&y(["stage_3_conditions"])},"WHO STAGE II PEDS":{priority:3,condition:()=>r.isPedaid()&&y(["stage_2_conditions"])},"WHO STAGE I PEDS":{priority:4,condition:()=>r.isPedaid()&&y(["stage_1_conditions"])}})},cd4Available:{required:()=>!0,dataHandler:t=>{t!="Yes"&&(i.cd4="",i.cd4Date=""),c.value.cd4="",c.value.cd4Date="",c.value.cd4Location=""}},pregnant:{required:()=>i.isChildBearing,buildObs:()=>r.buildValueCoded("Is patient pregnant?",i.pregnant)},breastFeeding:{required:()=>i.isChildBearing,buildObs:()=>r.buildValueCoded("Is patient breast feeding?",i.breastFeeding)},cd4:{required:()=>i.cd4Available==="Yes",validation:()=>{if(!Q()){c.value.cd4="Invalid cd4 count format, expected e.g. <100 or >500 or =750";return}W()>1e4&&(c.value.cd4="CD4 value cannot exceed 10,000")},buildObs:()=>r.buildValueNumber("CD4 count",W(),j())},cd4Date:{required:()=>i.cd4Available==="Yes",dataHandler:t=>{t&&(i.cd4Date=V(t).format("YYYY-MM-DD"))},validation:()=>{if(isNaN(new Date(i.cd4Date).getTime())){c.value.cd4Date="Invalid CD4 date";return}const t=V(i.cd4Date);if(t.isAfter(V(r.getDate()))){c.value.cd4Date="Cd4 result date can't be greater than ".concat(r.getDate());return}t.isBefore(V(g.getBirthdate()))&&(c.value.cd4Date="CD4 date must not be earlier than birthdate")},buildObs:()=>r.buildValueDate("Cd4 count datetime",i.cd4Date)},cd4Location:{required:()=>i.cd4Available==="Yes",dataHandler:t=>i.cd4Location=t.name,buildObs:()=>r.buildValueText("Cd4 count location",i.cd4Location)},staging:{validation:()=>{if(Object.keys(A).every(u=>O(u)<=0)){c.value.staging="Please select one or more staging conditions";return}const n=["stage_4_conditions","stage_3_conditions","stage_2_conditions"].some(u=>O(u)>0);A.stage_1_conditions.options.some(u=>/asymptomatic/i.test(u.name)&&u.checked)&&n&&(c.value.staging="Asymptomatic cannot be selected with other staging conditions")},buildObs:()=>Object.keys(A).reduce((n,o)=>(A[o].options.forEach(u=>{u.checked&&n.push(u.name)}),n),[]).map(n=>r.buildWhoCriteriaObs(n))}};function ae(){Object.keys(i).forEach(t=>{typeof i[t]=="boolean"?i[t]=!1:Array.isArray(i[t])?i[t]=[]:i[t]=""}),Object.keys(c.value).forEach(t=>c.value[t]=""),X()}function y(t){return t.some(n=>O(n)>0)}function w(){return new Date(i.cd4Date)<=new Date("2016-04-30")}function j(){var t,n,o;return(o=(n="".concat((t=i.cd4)!=null?t:"").match(/^([=><]{1})/))==null?void 0:n[0])!=null?o:""}function W(){var t,n;return parseInt((n=(t="".concat(i.cd4).match(/\d+$/))==null?void 0:t[0])!=null?n:"0")}function Q(){return/^([=><]{1})(\d+)$/i.test("".concat(i.cd4))}function E(t){if(!Q())return!1;const n=j(),o=W();return n==="="&&t===o||n==="<"&&o<=t||n===">"&&o>=t}function v(){return y(["stage_2_conditions","stage_1_conditions"])}function z(){return Object.keys(A).reduce((t,n)=>(A[n].options.forEach(o=>o.checked&&t.push(o.name)),t),[])}function K(t){if(c.value[t]="",typeof p[t].required=="function"&&p[t].required()&&!i[t]){c.value[t]="This field is required";return}i[t]&&typeof p[t].validation=="function"&&p[t].validation()}function de(t){var n,o,u;if(p[t]&&"suggestAvalue"in p[t]){i[t]="";const f=p[t].suggestAvalue(),D=Object.keys(f).reduce((C,N)=>{const M=f[N];return typeof M.condition=="function"&&M.condition()?[...C,{value:N,priority:M.priority}]:C},[]);i[t]=(u=(o=(n=D.sort((C,N)=>C.priority-N.priority))==null?void 0:n[0])==null?void 0:o.value)!=null?u:""}}function J(){return Object.keys(i).reduce((t,n)=>{if(n in p&&i[n]&&typeof p[n].buildObs=="function"){const o=p[n].buildObs();return Array.isArray(o)?[...t,...o]:[...t,o]}return t},[])}function O(t){return A[t].options.filter(n=>n.checked).length}async function ce(){await r.loadHivConfirmatoryTestType(),i.confirmatoryTest=r.getConfirmatoryTestType(),i.isChildBearing=g.isChildBearing()}function I(t,n){t in p&&typeof p[t].dataHandler=="function"&&p[t].dataHandler(n),K(t),Object.keys(p).forEach(o=>de(o))}function X(){Object.keys(A).forEach(t=>{var u,f;const n=Number((f=(u=t.match(/\d+/))==null?void 0:u[0])!=null?f:0),o=r.getStagingConditions(n);A[t].options=o.map(D=>({checked:!1,name:D.name,concept_id:D.concept_id}))})}function Z(){return Object.keys(p).forEach(t=>K(t)),Object.keys(c.value).every(t=>"".concat(c.value[t]).length<=0)}async function le(){if(console.log("Submitting staging"),!Z())return we("Please review form for errors"),!1;try{const t=await Promise.all(J());return await r.createEncounter(),await r.saveObservationList(t),Ee("Staging Observations saved!"),!0}catch(t){return console.error(t),ve("Error has occured while saving observations"),!1}}return te(()=>d.date,t=>{r.setDate(t),g.date=t,ae()}),he(async()=>{await ce(),X()}),h({validateStagingForm:Z,buildPayload:J,onSubmit:le}),(t,n)=>(T(),B(a(Ie),null,{default:l(()=>[s(a(ye),null,{default:l(()=>[i.isChildBearing?(T(),G("div",Me,[s(a(k),null,{default:l(()=>[s(a(P),null,{default:l(()=>[s(a(b),null,{default:l(()=>[s(Y,{label:"Pregnant?",modelValue:i.pregnant,"onUpdate:modelValue":n[0]||(n[0]=o=>i.pregnant=o),onIonChange:n[1]||(n[1]=o=>I("pregnant",o)),"error-message":c.value.pregnant},null,8,["modelValue","error-message"])]),_:1}),s(a(b),null,{default:l(()=>[s(Y,{label:"Breastfeeding?",modelValue:i.breastFeeding,"onUpdate:modelValue":n[2]||(n[2]=o=>i.breastFeeding=o),onOnChange:n[3]||(n[3]=o=>I("breastFeeding",o)),"error-message":c.value.breastFeeding},null,8,["modelValue","error-message"])]),_:1})]),_:1})]),_:1})])):U("",!0),m("div",Fe,[s(a(fe),{color:"light"},{default:l(()=>[(T(!0),G(ie,null,oe(A,(o,u)=>(T(),B(a(me),{key:u},{default:l(()=>[s(a(re),{color:"light",slot:"header"},{default:l(()=>[s(a(R),{style:{color:"grey","font-size":"17px"},class:"ion-padding"},{default:l(()=>[m("b",Ue,[H(_(o.title)+" ",1),s(a(Ae),{color:O("".concat(u))>0?"primary":void 0},{default:l(()=>[H(" Selected: "+_(O("".concat(u))),1)]),_:2},1032,["color"])]),m("p",ke,_(c.value.staging),1)]),_:2},1024)]),_:2},1024),m("div",Re,[s(a(Ce),null,{default:l(()=>[(T(!0),G(ie,null,oe(o.options,(f,D)=>(T(),B(a(re),{key:D},{default:l(()=>[s(a(Te),{modelValue:f.checked,"onUpdate:modelValue":C=>f.checked=C,onIonChange:C=>I("staging",{stage_type:u,raw:C,option:f})},null,8,["modelValue","onUpdate:modelValue","onIonChange"]),s(a(R),{style:{margin:"13px"}},{default:l(()=>[H(_(f.name),1)]),_:2},1024),n[12]||(n[12]=m("p",null,null,-1)),f.description?(T(),B(a(_e),{key:0,color:f.color},{default:l(()=>[H(_(f.text),1)]),_:2},1032,["color"])):U("",!0)]),_:2,__:[12]},1024))),128))]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),m("div",xe,[m("div",qe,[s(Y,{label:"Recent CD4 count results available?",modelValue:i.cd4Available,"onUpdate:modelValue":n[4]||(n[4]=o=>i.cd4Available=o),onOnChange:n[5]||(n[5]=o=>I("cd4Available",o)),"error-message":c.value.cd4Available},null,8,["modelValue","error-message"])]),i.cd4Available==="Yes"?(T(),G("div",Ye,[s(a(k),{class:"ion-padding"},{default:l(()=>[s(a(P),null,{default:l(()=>[s(a(b),null,{default:l(()=>[s(a(R),null,{default:l(()=>n[13]||(n[13]=[H(" CD4 Count Date ")])),_:1,__:[13]}),s(De,{place_holder:"Enter CD4 Date",onDateUpDated:n[6]||(n[6]=o=>I("cd4Date","".concat(o.value.year,"-").concat(o.value.month,"-").concat(o.value.day))),date_prop:""}),m("div",$e,_(c.value.cd4Date),1)]),_:1})]),_:1}),s(a(P),{style:{"margin-top":"15px"}},{default:l(()=>[s(a(b),null,{default:l(()=>[s(a(x),{modelValue:i.cd4,"onUpdate:modelValue":n[7]||(n[7]=o=>i.cd4=o),onIonInput:n[8]||(n[8]=o=>I("cd4",o)),placeholder:"CD4 count e.g. <100 or >500","label-placement":"stacked",label:"CD4 Count",fill:"outline"},null,8,["modelValue"]),m("div",je,_(c.value.cd4),1)]),_:1}),s(a(b),null,{default:l(()=>[s(He,{show_error:!1,selected_district_ids:[],selected_location:null,onFacilitySelected:n[9]||(n[9]=o=>{i.cd4Location=o.selected_location,I("cd4Location",o.selected_location)})}),m("div",Qe,_(c.value.cd4Location),1)]),_:1})]),_:1})]),_:1})])):U("",!0)]),m("div",ze,[s(a(k),null,{default:l(()=>[s(a(P),null,{default:l(()=>[s(a(b),null,{default:l(()=>[s(a(x),{readonly:"",placeholder:"N/A",label:"REASON FOR ART:",modelValue:i.reasonForArt,"onUpdate:modelValue":n[10]||(n[10]=o=>i.reasonForArt=o)},null,8,["modelValue"])]),_:1}),s(a(b),null,{default:l(()=>[s(a(x),{readonly:"",placeholder:"N/A",label:"WHO STAGE:",modelValue:i.whoStage,"onUpdate:modelValue":n[11]||(n[11]=o=>i.whoStage=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}))}}),ot=Oe(Ke,[["__scopeId","data-v-33541e66"]]);export{ot as default};
