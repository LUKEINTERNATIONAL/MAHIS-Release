!function(){function e(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}System.register(["./vendor-legacy-qLaA4lfC.js","./index-legacy-Bh_KV0Am.js","./lodash-legacy-pOOc9Efu.js","./confirm_pregnancy_service-legacy-Bms4_IBb.js","./usePatientProfile-legacy-TmpvN-oq.js","./SvgDynamicColor-legacy-Qi5sQrl3.js","./formatServerData-legacy-CKvH3-Z7.js","./DemographicBar-legacy-BUlfEEEZ.js","./Reception-legacy-BG1YtZjp.js","./Vitals.vue_vue_type_script_setup_true_lang-legacy-CLebqxP6.js","./Staging-legacy-BCEZINDo.js","./ARTAdherence-legacy-C1CB9cUb.js","./Prescription-legacy-DxsGY9wF.js","./ARTAppointment-legacy-DUWIGVhO.js","./ARTPatientType-legacy-vpRDJVts.js","./EmergencyRefill-legacy-CsgtrcdD.js","./ArtDispensation.vue_vue_type_script_setup_true_lang-legacy-BN5j7-3b.js","./ArtClinicRegistration-legacy-7dUmXrVv.js","./app_encounter_service-legacy-DK_afvJ-.js","./ARTConsultation-legacy-BC1B-lXT.js","./SelectFacility-legacy-Dbv9Uepw.js","./Outcome-legacy-f6sOMKFz.js","./index-legacy-D1Gv8CkB.js"],function(t,a){"use strict";var n,o,l,i,r,s,d,u,c,p,v,m,f,g,_,b,h,y,x,k,w,D,I,C,P,S,A,R,N,V,z,E,T,j,O,M,H,U,F,Y,L,B,G,W,q,$,J,X,Z,K,Q,ee,te,ae,ne,oe,le,ie,re,se,de,ue,ce,pe,ve,me,fe,ge,_e,be,he,ye,xe,ke,we,De,Ie,Ce,Pe,Se,Ae,Re,Ne,Ve,ze,Ee,Te,je,Oe,Me,He,Ue,Fe,Ye,Le,Be,Ge,We,qe,$e,Je,Xe,Ze,Ke,Qe,et,tt,at,nt,ot,lt,it,rt,st,dt,ut,ct,pt,vt,mt,ft,gt,_t,bt,ht,yt,xt,kt,wt,Dt,It,Ct,Pt,St,At,Rt,Nt;return{setters:[e=>{n=e.R,o=e.d,l=e.r,i=e.y,r=e.f,s=e.z,d=e.l,u=e.u,c=e.S,p=e.U,v=e.T,m=e.A,f=e.B,g=e.aU,_=e.W,b=e.I,h=e.b1,y=e.a9,x=e.e,k=e.m,w=e.cs,D=e.V,I=e.af,C=e.c,P=e.O,S=e.a,A=e.k,R=e.J,N=e.G,V=e.D,z=e.b0,E=e.aZ,T=e.d0,j=e.bh,O=e.aa,M=e.ab,H=e.ct,U=e.F,F=e.L,Y=e.cu,L=e.d1,B=e.bK,G=e.M,W=e.d2,q=e.aI,$=e.d3,J=e.d4,X=e.aS,Z=e.bJ,K=e.a3,Q=e.d5,ee=e.d6,te=e.aL,ae=e.d7,ne=e.d8,oe=e.aJ,le=e.az,ie=e.d9,re=e.cW,se=e.aE,de=e.da,ue=e.c7,ce=e.db,pe=e.dc,ve=e.a8,me=e.p,fe=e.dd,ge=e.X,_e=e.au,be=e.bQ,he=e.b2,ye=e.w,xe=e.E,ke=e.bS,we=e.de,De=e.cb,Ie=e.$,Ce=e.df,Pe=e.dg,Se=e.dh,Ae=e.ap,Re=e.bd,Ne=e.an},e=>{Ve=e.l,ze=e.W,Ee=e.X,Te=e.u,je=e.Y,Oe=e.H,Me=e.t,He=e._,Ue=e.P,Fe=e.j,Ye=e.S,Le=e.Z,Be=e.$,Ge=e.f,We=e.s,qe=e.a0,$e=e.d,Je=e.o,Xe=e.a1,Ze=e.c,Ke=e.a2,Qe=e.a3,et=e.T,tt=e.D,at=e.g,nt=e.h,ot=e.k,lt=e.p,it=e.a4},e=>{rt=e.l},e=>{st=e.C},e=>{dt=e.u},e=>{ut=e.i},e=>{ct=e.f},e=>{pt=e.D},e=>{vt=e.default},e=>{mt=e._},e=>{ft=e.default},e=>{gt=e.default},e=>{_t=e.default},e=>{bt=e.default},e=>{ht=e.default},e=>{yt=e.default},e=>{xt=e._},e=>{kt=e.default},e=>{wt=e.A},e=>{Dt=e.p,It=e.A,Ct=e.a},e=>{Pt=e.S},e=>{St=e.L},e=>{At=e.p,Rt=e.a,Nt=e.b}],execute:function(){var Vt=document.createElement("style");Vt.textContent='.table-container[data-v-af6478e6]{overflow-x:auto}.outcomes-table[data-v-af6478e6]{width:100%;border-collapse:collapse;margin-top:1rem}.outcomes-table th[data-v-af6478e6],.outcomes-table td[data-v-af6478e6]{padding:12px;text-align:left;border-bottom:1px solid var(--ion-color-light)}.outcomes-table th[data-v-af6478e6]{background-color:var(--ion-color-light);font-weight:600;color:var(--ion-color-dark)}.outcomes-table tr[data-v-af6478e6]:hover{background-color:var(--ion-color-light-tint)}.outcomes-table td[data-v-af6478e6]{color:var(--ion-color-dark)}@media (max-width: 768px){.outcomes-table[data-v-af6478e6]{font-size:.9rem}.outcomes-table th[data-v-af6478e6],.outcomes-table td[data-v-af6478e6]{padding:8px}}ion-label[data-v-646aa47c]{font-weight:700}ion-note[data-v-646aa47c]{margin:10px;color:#cd0303;font-style:italic;font-weight:700}.custom-header[data-v-bd203ba3]{--color: white;padding:8px 16px}.header-content[data-v-bd203ba3]{display:flex;align-items:center;justify-content:space-between;width:100%}.title-section[data-v-bd203ba3]{display:flex;align-items:center;gap:12px}.header-icon[data-v-bd203ba3]{font-size:24px;color:#fff}.custom-title[data-v-bd203ba3]{font-size:20px;font-weight:600;color:#fff;margin:0}.custom-content[data-v-bd203ba3]{--background: #fff}.progress-overview[data-v-bd203ba3]{background:#fff;margin:16px 16px 8px;padding:20px;border-radius:8px;border:1px solid #e2e8f0}.progress-header[data-v-bd203ba3]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.progress-stats h3[data-v-bd203ba3]{margin:0;font-size:24px;font-weight:700;color:#1e293b}.progress-stats p[data-v-bd203ba3]{margin:4px 0 0;font-size:14px;color:#64748b}.completion-badge[data-v-bd203ba3]{font-size:14px;font-weight:600;padding:8px 12px}.custom-progress[data-v-bd203ba3]{height:8px;border-radius:4px;--background: #e2e8f0}.tasks-container[data-v-bd203ba3]{padding:8px}.tasks-grid[data-v-bd203ba3]{padding:0}.task-col[data-v-bd203ba3]{padding:8px}.task-card[data-v-bd203ba3]{background:#fff;border-radius:16px;padding:20px;border:1px solid #e2e8f0;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 4px rgba(0,0,0,.05);height:100%;display:flex;flex-direction:column;align-items:center;text-align:center;min-height:140px}.task-card[data-v-bd203ba3]:hover:not(.task-disabled){transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,.15);border-color:#3b82f6}.task-completed[data-v-bd203ba3]{border-color:#10b981;background:linear-gradient(135deg,#f0fdf4,#dcfce7)}.task-disabled[data-v-bd203ba3]{opacity:.5;cursor:not-allowed}.task-icon-container[data-v-bd203ba3]{margin-bottom:12px;padding:16px;border-radius:50%;background:#f1f5f9;display:flex;align-items:center;justify-content:center}.task-completed .task-icon-container[data-v-bd203ba3]{background:#d1fae5}.task-icon[data-v-bd203ba3]{font-size:32px}.task-content[data-v-bd203ba3]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center}.task-label[data-v-bd203ba3]{font-size:16px;font-weight:600;color:#1e293b;margin-bottom:8px;text-align:center}.task-status[data-v-bd203ba3]{display:flex;align-items:center;gap:4px;font-size:12px;color:#10b981;font-weight:500}.empty-state[data-v-bd203ba3]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center;background:#fff;border-radius:16px;margin:8px;box-shadow:0 2px 8px rgba(0,0,0,.1)}.empty-icon[data-v-bd203ba3]{width:80px;height:80px;border-radius:50%;background:#f1f5f9;display:flex;align-items:center;justify-content:center;margin-bottom:24px}.empty-icon ion-icon[data-v-bd203ba3]{font-size:40px;color:#64748b}.empty-state h3[data-v-bd203ba3]{margin:0 0 12px;font-size:20px;font-weight:600;color:#1e293b}.empty-state p[data-v-bd203ba3]{margin:0 0 24px;font-size:16px;color:#64748b;max-width:300px;line-height:1.5}.empty-action[data-v-bd203ba3]{--border-radius: 8px;height:44px;font-weight:500}@media (max-width: 768px){.progress-header[data-v-bd203ba3]{flex-direction:column;gap:12px;text-align:center}.task-card[data-v-bd203ba3]{min-height:120px;padding:16px}.task-icon[data-v-bd203ba3]{font-size:28px}.task-label[data-v-bd203ba3]{font-size:14px}}.start-visit{margin-top:5px;margin-right:5px}.send-button-container{display:inline-flex;border-radius:9999px;overflow:hidden;min-width:130px}.send-text{background-color:#006401;color:#fff;border:none;font-family:system-ui,-apple-system,sans-serif;cursor:pointer;flex-grow:1;transition:background-color .2s;font-size:14px}.send-arrow{background-color:green;color:#fff;border:none;border-left:1px solid #135a14;font-size:14px;cursor:pointer;display:flex;align-items:center;transition:background-color .2s;padding:8px 14px}.send-text:hover{background-color:#004d00}.send-arrow:hover{background-color:#006b00}.send-arrow:after{content:"â–¾";font-size:18px}@media (max-width: 1120px){.regDisplayFlex{display:flex;justify-content:space-between}.displayNoneLeftPanel{display:none!important}}.patient-chart[data-v-02ce2cd2]{width:100vw;background-color:#fff;border-radius:5px;margin-right:5px;margin-bottom:10px}.vitalsHeading[data-v-02ce2cd2]{font-style:normal;font-weight:300;font-size:14px;display:flex;align-items:center;color:#636363}.vitalsUnits[data-v-02ce2cd2]{font-style:normal;font-weight:400;font-size:16px;color:#636363}.vitalsValue[data-v-02ce2cd2]{font-style:normal;font-weight:600;font-size:30px;display:flex;align-items:center;color:#00190e}.vitalsTitle[data-v-02ce2cd2]{font-style:normal;font-weight:600;font-size:16px;color:#00190e;padding:10px}.dateClass[data-v-02ce2cd2]{font-style:normal;font-weight:400;font-size:12px;display:flex;align-items:center;color:#016302;padding:10px}#container[data-v-02ce2cd2]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-02ce2cd2]{font-size:20px;line-height:26px}#container p[data-v-02ce2cd2]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-02ce2cd2]{text-decoration:none}.centered-content[data-v-02ce2cd2]{display:flex;justify-content:center;align-items:center}ion-item[slot=header][data-v-02ce2cd2]{font-size:20px;padding-top:25px;font-weight:600}.first_letter[data-v-02ce2cd2]{background-color:#e6e6e6;padding:20px;margin-right:20px;font-size:24px;border-radius:4px;color:#636363!important}.p_name_image[data-v-02ce2cd2]{font-size:24px;color:#00190e;display:flex;font-weight:700;overflow:hidden}.p_name[data-v-02ce2cd2]{max-width:210px;margin-left:20px;height:25px}.p_dash_header[data-v-02ce2cd2]{display:flex;justify-content:space-between;padding:20px;border-bottom:solid #cccccc 1px}.p_title[data-v-02ce2cd2]{font-weight:700;font-size:24px;color:#00190e}.col[data-v-02ce2cd2]{border:solid 1px #ccc;padding:20px;width:600px;height:37.4vh}.row[data-v-02ce2cd2]{border-radius:4px;border:solid 1px #ccc}.grid[data-v-02ce2cd2]{padding:20px}.date[data-v-02ce2cd2]{display:flex;font-weight:600;color:#00190e;align-items:center;justify-content:space-between;width:200px}ion-item[slot=header][data-v-02ce2cd2]{padding-top:1px}.side_title[data-v-02ce2cd2]{font-size:14px}.form_list[data-v-02ce2cd2]{display:flex}.form_list_content[data-v-02ce2cd2]{padding-left:10px;color:#00190e;font-size:14px;font-weight:500;padding-bottom:15px}.start_new_co[data-v-02ce2cd2]{background-color:#ded;color:#006401;padding:15px;border-radius:4px;margin-bottom:20px;margin-left:7px;font-weight:500;cursor:pointer}.allergies[data-v-02ce2cd2]{background:#fecdca;color:#b42318;padding:1px 8px;border-radius:4px;margin-right:5px;display:inline-block;margin-bottom:5px}.segment-button-checked[data-v-02ce2cd2]{background:#ded!important}ion-segment-button[data-v-02ce2cd2]{background:#fff;margin-right:1px;font-size:12px;text-transform:unset}.bottomSummary[data-v-02ce2cd2]{margin-top:20px;max-width:600px}.bottomSummary .segment-button-checked[data-v-02ce2cd2]{background:#fff!important;--indicator-color: none}.bottomSummary ion-segment-button[data-v-02ce2cd2]{background:#e6e6e6;margin-right:5px;border-top-right-radius:10px;border-top-left-radius:10px;text-transform:unset;font-style:normal;font-weight:700;font-size:12px}.bottomSummaryContent[data-v-02ce2cd2]{background:#fff}.initialsBox[data-v-02ce2cd2]{min-width:85px;height:90px;left:31px;top:122px;border-radius:10px;align-items:center;display:flex;justify-content:center;margin-top:10px}.maleColor[data-v-02ce2cd2]{background:#5983ba}.femaleColor[data-v-02ce2cd2]{background:#876d9b}.demoContent[data-v-02ce2cd2]{font-weight:700}.alert_content[data-v-02ce2cd2]{padding:10px 10px 0;width:100%}.bottom_text[data-v-02ce2cd2]{padding-bottom:10px;width:100%}.sub-menu-icon[data-v-02ce2cd2]{margin-right:12px}.sub-menu-txt[data-v-02ce2cd2]{font-weight:600;font-size:17px;color:gray}ion-item.list-content.selected[data-v-02ce2cd2]{--background: #e8f0fe;--color: #1a73e8}.button-group[data-v-02ce2cd2]{display:flex;justify-content:space-between;align-items:center;gap:10px;width:100%}.action-buttons[data-v-02ce2cd2]{display:flex;gap:8px;align-items:center}.action-button[data-v-02ce2cd2]{display:inline-flex;align-items:center;padding:6px 12px;height:32px;border-radius:9999px;font-family:system-ui,-apple-system,sans-serif;cursor:pointer;font-size:14px;border:none;background-color:#e6e6e6;color:#636363!important;transition:all .2s;white-space:nowrap}.action-button[data-v-02ce2cd2]:hover{background-color:#d0d0d0}.action-button.danger[data-v-02ce2cd2]{background-color:#fecdca;color:#b42318!important}.action-button.danger[data-v-02ce2cd2]:hover{background-color:#f9a8a4}.send-button-container[data-v-02ce2cd2]{display:inline-flex;border-radius:9999px;overflow:hidden;min-width:130px;height:32px}@media (max-width: 768px){.button-group[data-v-02ce2cd2]{flex-wrap:wrap}.action-buttons[data-v-02ce2cd2]{flex:1;min-width:0}.send-button-container[data-v-02ce2cd2]{flex:none}.action-button[data-v-02ce2cd2]{padding:6px 8px;font-size:13px}}.danger[data-v-02ce2cd2]{--ion-color-base: #b42318 !important;--ion-color-contrast: #ffffff !important}\n/*$vite$:1*/',document.head.appendChild(Vt);const zt=[{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Is the pregnancy confirmed?*",class:"bold",selectedValue:"",name:"Pregnancy confirmed"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Was the pregnancy planned?*",selectedValue:"",class:"bold",name:"Pregnancy planned"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}}],Et=t("u",n("ANCEnrollmentStore",{state:()=>({ConfirmPregnancy:[...zt]}),actions:{setConfirmPregnancy(e){this.ConfirmPregnancy=e},getInitial:()=>[...rt.cloneDeep(zt)]}})),Tt={key:0,class:"ion-padding"},jt=o({__name:"ArtFormWrapper",props:{title:{type:String,required:!0},useComponent:{required:!0},onClose:{required:!1}},setup(e){const t=e,a=l(null);function n(){"function"==typeof t.onClose&&t.onClose()}function o(){a.value&&"function"==typeof a.value.onSubmit?a.value.onSubmit().then(e=>e&&n()).catch(e=>{Ve("An error has occured while saving form"),console.error(e)}):n()}return(t,l)=>(r(),i(u(I),null,{default:s(()=>[d(u(c),null,{default:s(()=>[d(u(p),null,{default:s(()=>[d(u(v),null,{default:s(()=>[m(f(e.title),1)]),_:1}),d(u(g),{slot:"end"},{default:s(()=>[d(u(_),{onClick:n},{default:s(()=>[d(u(b),{size:"large",icon:u(h)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),d(u(y),null,{default:s(()=>[e.useComponent?(r(),x("div",Tt,[(r(),i(w(e.useComponent),{ref_key:"formComponent",ref:a},null,512))])):k("",!0)]),_:1}),d(u(D),null,{default:s(()=>[d(u(p),null,{default:s(()=>[d(u(_),{color:"success",onClick:o,slot:"end"},{default:s(()=>l[0]||(l[0]=[m("Finish")])),_:1,__:[0]})]),_:1})]),_:1})]),_:1}))}});class Ot extends ze{constructor(t){super(),e(this,"patientId",void 0),e(this,"programId",void 0),e(this,"stateId",void 0),e(this,"patientProgramId",void 0),e(this,"programDate",void 0),e(this,"stateDate",void 0),this.patientId=t,this.patientProgramId=-1,this.programId=ze.getProgramID(),this.stateId=-1,this.programDate=ze.getSessionDate(),this.stateDate=""}getProgramId(){return this.programId}getStateDate(){return this.stateDate}getProgramDate(){return this.programDate}getPatientProgramId(){return this.patientProgramId}getPrograms(){return ze.getPatientPrograms(this.patientId)}async getProgram(){const e={patientID:-1,programID:-1,program:"N/A",outcome:"N/A",startDate:"",endDate:""},t=await this.getPrograms();if(rt.isEmpty(t))return e;const a=t.filter(e=>e.program.program_id===ze.getProgramID()).map(e=>{const t=e.patient_states;let a="",n="",o="N/A";if(!rt.isEmpty(t)){const e=t.length-1;a=t[e].start_date,n=t[e].end_date,o=t[e].name}return{patientID:e.patient_id,programID:e.program_id,program:e.program.name,outcome:o,startDate:a,endDate:n}});return rt.isEmpty(a)?e:a[0]}getProgramStates(){return ze.getPatientStates(this.patientId,this.programId)}getProgramCurrentStates(){return ze.getPatientCurrentStates(this.patientId,this.programId)}voidProgram(e){return ze.voidProgram(this.patientProgramId,e)}voidState(e){return ze.voidState(this.patientId,this.programId,this.stateId,e)}enrollProgram(){return ze.enrollProgram(this.patientId,this.programId,this.programDate)}printTransferout(e){return(new Ee).printLbl(`/programs/${this.programId}/patients/${this.patientId}/labels/transfer_out?date=${e}`)}async transferOutEncounter(e,t=""){const a=new wt(this.patientId,119);a.setDate(this.stateDate);if(!(await a.createEncounter()))throw"Unable to transfer out encounter";return t&&await a.saveValueTextObs("Reason for transfer out",t),a.saveValueTextObs("Transfer to",e.name)}updateState(){return ze.createState(this.patientId,this.programId,{state:this.stateId,date:this.stateDate})}setProgramDate(e){this.programDate=e}setStateDate(e){this.stateDate=e}setPatientProgramId(e){this.patientProgramId=e}setProgramId(e){this.programId=e}setStateId(e){this.stateId=e}}t("P",Ot);const Mt={class:"ion-padding"},Ht={slot:"content"},Ut={class:"ion-padding"},Ft={slot:"content"},Yt={key:0,class:"ion-text-center ion-padding"},Lt={key:1,class:"table-container"},Bt={class:"outcomes-table"},Gt=He(o({__name:"ArtOutcome",setup(e){const t=l(""),a=Te(),n=C(()=>a.patient.patientID),o=new Ot(n.value);o.setProgramId(1);const c=l(!1),p=l(""),v=l({isEnrolled:!1,programState:"",startDate:"",reason:"",otherReason:"",transfer_location:{},programEnrollmentDate:"",activeState:""}),g=l([]),b=l([]),h=["Workplace transfer/lost job-related reasons","Relocation to another place/home village","Transport due to long distance","School","Business","Marriage","Unknown","Clinic not helping","Other"],y=C(()=>rt.isPlainObject(v.value.startDate)?v.value.startDate:{day:P(v.value.startDate).day(),month:P(v.value.startDate).month()+1,year:P(v.value.startDate).year(),formattedDate:P(v.value.startDate).format("DD/MMM/YYYY"),standardDate:P(v.value.startDate).format("YYYY-MM-DD")}),w=C(()=>b.value.filter(e=>e.label!==v.value.activeState)),D=()=>{if(p.value="",!v.value.programState)return p.value="Program state is required",!1;if("Patient transferred out"===v.value.programState){if(!v.value.reason)return p.value="Reason is required",!1;if("Other"===v.value.reason&&!v.value.otherReason)return p.value="Other reason is required",!1;if(rt.isEmpty(v.value.transfer_location))return p.value="Transfer location is required",!1}return v.value.startDate?!(v.value.programEnrollmentDate&&new Date(v.value.startDate)<new Date(v.value.programEnrollmentDate))||(p.value="Start date cannot be before program enrollment date",!1):(p.value="Start date is required",!1)},I=async()=>{p.value="";try{var e,t;const a=await ze.getProgramWorkflows(1);b.value=(null!==(e=null==a||null===(t=a[0])||void 0===t?void 0:t.states)&&void 0!==e?e:[]).map(e=>({value:e.program_workflow_state_id,label:e.name}))}catch(a){console.error("Error loading program data:",a),p.value="Failed to load program data"}},W=()=>(g.value=[],o.getPrograms().then(e=>{e.forEach(e=>{1===e.program_id&&(v.value.isEnrolled=!0,t.value="outcome-history",v.value.programEnrollmentDate=Oe.toStandardHisFormat(e.date_enrolled),0===e.patient_states.length&&(t.value="change-outcome"),e.patient_states.forEach(e=>{g.value.push({id:e.patient_state_id,stateName:e.name,startDate:e.start_date?Oe.toStandardHisDisplayFormat(e.start_date):"N/A",endDate:e.end_date?Oe.toStandardHisDisplayFormat(e.end_date):"N/A",_raw:e}),e.end_date||(v.value.activeState=e.name,t.value="outcome-history")}))})})).then(I),q=async()=>{if(p.value="",D()){c.value=!0;try{await o.enrollProgram()}catch(e){console.log(e),console.log("probably already enrolled role!")}try{const e=b.value.find(e=>e.label===v.value.programState).value;o.setStateId(e),o.setStateDate(v.value.startDate.standardDate),await o.updateState(),"Patient transferred out"===v.value.programState&&await o.transferOutEncounter(v.value.transfer_location,v.value.otherReason||v.value.reason),t.value="outcome-history",await W(),c.value=!1}catch(a){console.error("Error saving outcome:",a),p.value="Failed to save outcome. Please try again.",Me("Failed to save outcome")}finally{c.value=!1}}else Me("An error has occured!")};return S(()=>W()),(e,a)=>(r(),x("div",Mt,[d(u(G),{value:t.value},{default:s(()=>[d(u(R),{value:"change-outcome"},{default:s(()=>[d(u(N),{slot:"header"},{default:s(()=>[d(u(V),{style:{"font-weight":"bold","font-size":"1.2em"}},{default:s(()=>a[7]||(a[7]=[m("Change outcome")])),_:1,__:[7]})]),_:1}),A("div",Ht,[d(u(z),null,{default:s(()=>[d(u(E),null,{default:s(()=>[p.value?(r(),i(u(T),{key:0,style:{color:"red","font-weight":"bold","font-style":"italic"},color:"danger",class:"ion-margin-bottom"},{default:s(()=>[m(" Error: "+f(p.value),1)]),_:1})):k("",!0),d(u(j),null,{default:s(()=>[d(u(O),null,{default:s(()=>[d(u(M),null,{default:s(()=>[d(u(N),null,{default:s(()=>[d(u(V),{position:"stacked"},{default:s(()=>a[8]||(a[8]=[m("Program State *")])),_:1,__:[8]}),d(u(H),{onIonChange:a[0]||(a[0]=()=>D),modelValue:v.value.programState,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value.programState=e),placeholder:"Select program state",interface:"popover",disabled:c.value},{default:s(()=>[(r(!0),x(U,null,F(w.value,e=>(r(),i(u(Y),{key:e.value,value:e.label},{default:s(()=>[m(f(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),v.value.programState?(r(),i(u(O),{key:0},{default:s(()=>[d(u(M),{size:"12"},{default:s(()=>[d(u(V),{position:"stacked"},{default:s(()=>a[9]||(a[9]=[m("Start Date")])),_:1,__:[9]}),d(je,{place_holder:"Start date",date_prop:y.value,onDateUpDated:a[2]||(a[2]=e=>{v.value.startDate=e,D()})},null,8,["date_prop"])]),_:1})]),_:1})):k("",!0),"Patient transferred out"===v.value.programState?(r(),i(u(O),{key:1},{default:s(()=>[d(u(M),{size:"12"},{default:s(()=>[d(u(N),null,{default:s(()=>[d(u(V),{position:"stacked"},{default:s(()=>a[10]||(a[10]=[m("Reason (Optional)")])),_:1,__:[10]}),d(u(H),{modelValue:v.value.reason,"onUpdate:modelValue":a[3]||(a[3]=e=>v.value.reason=e),placeholder:"Select reason for transferout",interface:"popover",onIonChange:a[4]||(a[4]=e=>{v.value.otherReason="",D()}),disabled:c.value},{default:s(()=>[(r(),x(U,null,F(h,e=>d(u(Y),{key:e,value:e},{default:s(()=>[m(f(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),"Other"===v.value.reason?(r(),i(u(M),{key:0,size:"12"},{default:s(()=>[d(u(N),null,{default:s(()=>[d(u(V),{position:"stacked"},{default:s(()=>a[11]||(a[11]=[m("Reason (Optional)")])),_:1,__:[11]}),d(u(L),{onIonChange:D,modelValue:v.value.otherReason,"onUpdate:modelValue":a[5]||(a[5]=e=>v.value.otherReason=e),placeholder:"Enter reason for state change",disabled:c.value,rows:3},null,8,["modelValue","disabled"])]),_:1})]),_:1})):k("",!0),d(u(M),{size:"12"},{default:s(()=>[d(Pt,{show_error:!1,selected_district_ids:[],selected_location:v.value.transfer_location,onFacilitySelected:a[6]||(a[6]=e=>{v.value.transfer_location=e.selected_location})},null,8,["selected_location"])]),_:1})]),_:1})):k("",!0)]),_:1}),A("div",Ut,[d(u(_),{onClick:q,disabled:c.value,color:"primary"},{default:s(()=>[c.value?(r(),i(u(B),{key:0,name:"crescent",slot:"start"})):k("",!0),m(" "+f(c.value?"Saving...":"Save Outcome"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})])]),_:1}),d(u(R),{value:"outcome-history"},{default:s(()=>[d(u(N),{slot:"header"},{default:s(()=>[d(u(V),{style:{"font-weight":"bold","font-size":"1.2em"}},{default:s(()=>a[12]||(a[12]=[m("Outcome history")])),_:1,__:[12]})]),_:1}),A("div",Ft,[d(u(z),{class:"ion-padding"},{default:s(()=>[d(u(E),null,{default:s(()=>[0===g.value.length?(r(),x("div",Yt,[d(u(T),null,{default:s(()=>a[13]||(a[13]=[m("No previous outcomes found")])),_:1,__:[13]})])):(r(),x("div",Lt,[A("table",Bt,[a[16]||(a[16]=A("thead",null,[A("tr",null,[A("th",null,"State"),A("th",null,"Start Date"),A("th",null,"End Date"),A("th",null,"Actions")])],-1)),A("tbody",null,[(r(!0),x(U,null,F(g.value,e=>(r(),x("tr",{key:e.id},[A("td",null,f(e.stateName),1),A("td",null,f(e.startDate),1),A("td",null,f(e.endDate),1),A("td",null,[d(u(_),{slot:"start",onClick:t=>{return a=e.id,Dt(async e=>{o.setStateId(a),await o.voidState(e),g.value=g.value.filter(e=>e.id!==a),await W()});var a},color:"danger"},{default:s(()=>a[14]||(a[14]=[m("Void")])),_:2,__:[14]},1032,["onClick"]),"Patient transferred out"===e.stateName?(r(),i(u(_),{key:0,style:{padding:"10px"},onClick:t=>{return a=e._raw.start_date,o.printTransferout(a);var a}},{default:s(()=>a[15]||(a[15]=[m(" Print ")])),_:2,__:[15]},1032,["onClick"])):k("",!0)])]))),128))])])]))]),_:1})]),_:1})])]),_:1})]),_:1},8,["value"]),a[17]||(a[17]=A("p",null,null,-1))]))}}),[["__scopeId","data-v-af6478e6"]]),Wt={class:"ion-text-center",style:{"margin-top":"8%"}},qt={key:2},$t={style:{padding:"2px"}},Jt={slot:"content",style:{"margin-bottom":"125px"}},Xt={class:"ion-padding"},Zt={style:{"font-weight":"bold"}},Kt=He(o({__name:"LabResults",setup(e){const t=l(!1),a=l([]),n=l({}),o=new Ue,c=new St(o.getID(),-1,""),p=["=","<",">"],v={result:{buildResult:e=>({indicator:{concept_id:e.concept_id},value:e.input.result,value_modifier:e.input.result_modifier?e.input.result_modifier:"=",value_type:e.input.isNumericTest?"numeric":"text"}),validation:e=>{if(e.error.text_result="",e.error.numeric_result="",e.input.isNumericTest){if(!e.input.result)return void(e.error.numeric_result="Result is required");if(isNaN(e.input.result))return void(e.error.numeric_result="Result must be a number")}else if(!e.input.result)return void(e.error.text_result="Result is required")}},result_date:{formatDate:e=>Oe.toStandardHisFormat(e),validation:e=>{var t;if(n.value[e].error.result_date="",!n.value[e].result_date)return void(n.value[e].error.result_date="Result date is required");const o=null===(t=a.value.find(t=>t.id===e))||void 0===t?void 0:t.order_date;if(o&&P(n.value[e].result_date).isBefore(P(o))){const t=v.result_date.formatDate(o);return void(n.value[e].error.result_date=`Result date cannot be before order date ${t}`)}P(n.value[e].result_date).isAfter(P(Ue.getSessionDate()))&&(n.value[e].error.result_date="Result date cannot be in the future")}},result_modifier:{validation:e=>{e.error.result_modifier="",!e.input.isNumericTest||e.input.result_modifier||(e.error.result_modifier="Result modifier is required")}},result_indicators:{validation:(e,t)=>{n.value[e].error.result_indicators="";0!==n.value[e].tests[t].selectedIndicators.length||(n.value[e].error.result_indicators="Please select at least one result indicator")},load:async e=>{t.value=!0;try{var a;if(!e.concept_id)return;const t=null===(a=n.value)||void 0===a||null===(a=a[e.order.id])||void 0===a||null===(a=a.tests)||void 0===a||null===(a=a[e.id])||void 0===a?void 0:a.allIndicators;if(!rt.isEmpty(t))return;n.value[e.order.id].tests[e.id].allIndicators=(await c.getTestIndicators(e.concept_id)).map(e=>({...e,input:{result:"",result_modifier:"",isNumericTest:!0},error:{numeric_result:"",text_result:"",result_modifier:""}}))}catch(o){console.log(o),Ve("unable to load indicators")}finally{t.value=!1}}},isNumericTest:{onChange:e=>{e.error.numeric_result="",e.error.text_result="",e.error.result_modifier="",e.input.result="",e.input.result_modifier=""}}};async function g(e,t){if(!function(e,t){let a=!0;return v.result_date.validation(e),v.result_indicators.validation(e,t),a=Object.keys(n.value[e].error).every(t=>!n.value[e].error[t]),n.value[e].tests[t].selectedIndicators.forEach(e=>{v.result.validation(e),v.result_modifier.validation(e),a=Object.keys(e.error).every(t=>!e.error[t])}),a}(e,t))return Ve("Please fix the validation errors before submitting"),!1;const o=function(e,t){return n.value[e].tests[t].selectedIndicators.map(e=>v.result.buildResult(e))}(e,t);try{await c.createEncounter(),await c.createLabResult(o,t,n.value[e].result_date),a.value=a.value.filter(t=>t.id!==e),Fe("Lab results saved successfully")}catch(l){return console.error(l),Ve("Error saving lab results"),!1}return!0}return S(()=>{!async function(){t.value=!0;try{n.value={};const e=await c.getTestsWithoutResults();e.forEach(e=>{n.value[e.id]={result_date:"",tests:{},error:{result_indicators:"",result_date:""}},e.tests.forEach(t=>{n.value[e.id].tests[t.id]={selectedIndicators:[],allIndicators:[]}})}),a.value=e.filter(e=>e.tests.some(e=>rt.isEmpty(e.result)))}catch(e){Ve("Error loading orders")}finally{t.value=!1}}()}),(e,o)=>{var l;return r(),x("div",null,[t.value?(r(),i(u(W),{key:0,type:"indeterminate"})):k("",!0),(null!==(l=a.value)&&void 0!==l?l:[]).length<=0?(r(),i(u(z),{key:1,style:{height:"40vh"}},{default:s(()=>[d(u(E),null,{default:s(()=>[A("div",Wt,[d(u(b),{style:{"font-size":"5rem!important"},icon:u(q)},null,8,["icon"]),o[0]||(o[0]=A("h1",null,"No tests found",-1))])]),_:1})]),_:1})):(r(),x("div",qt,[(r(!0),x(U,null,F(a.value,e=>(r(),i(u(G),{onIonChange:t=>v.result_indicators.load({...t.detail.value,order:e}),key:e.id,ref_for:!0,ref:"accordionGroup",class:"previousView"},{default:s(()=>[(r(!0),x(U,null,F(e.tests,(t,a)=>(r(),i(u(R),{value:t,key:a,"toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[d(u(N),{slot:"header",color:"light"},{default:s(()=>[d(u(V),{class:"ion-padding"},{default:s(()=>[A("div",null,[A("b",null,[m(f(t.name)+" ",1),d(u($),{color:"success"},{default:s(()=>[m(f(e.accession_number),1)]),_:2},1024)])]),A("div",null,[o[1]||(o[1]=m(" Specimen: ")),A("b",null,f(e.specimen.name),1)]),A("div",null,[o[2]||(o[2]=m(" Result: ")),A("b",null,f(u(rt.isEmpty)(t.result)?"N/A":t.result),1)])]),_:2},1024),d(u(J),{style:{background:"green",color:"white"}},{default:s(()=>[d(u(b),{color:"light",icon:u(X)},null,8,["icon"]),A("b",$t,f(u(P)(e.order_date).format("DD/MMM/YYYY ")),1)]),_:2},1024)]),_:2},1024),A("div",Jt,[d(u(z),{style:{margin:"0px auto",width:"80%"}},{default:s(()=>[d(u(E),null,{default:s(()=>[d(u(j),null,{default:s(()=>[d(u(O),null,{default:s(()=>[d(u(M),null,{default:s(()=>[d(u(V),null,{default:s(()=>o[3]||(o[3]=[m("Result date")])),_:1,__:[3]}),d(je,{onDateUpDated:t=>{n.value[e.id].result_date=t.value.standardDate,v.result_date.validation(e.id)},place_holder:"Enter result date",date_prop:""},null,8,["onDateUpDated"]),n.value[e.id].error.result_date?(r(),i(u(T),{key:0},{default:s(()=>[m(f(n.value[e.id].error.result_date),1)]),_:2},1024)):k("",!0)]),_:2},1024),n.value[e.id].tests[t.id].allIndicators.length>0?(r(),i(u(M),{key:0},{default:s(()=>[d(u(V),null,{default:s(()=>o[4]||(o[4]=[m("Result indicators")])),_:1,__:[4]}),d(u(H),{onIonChange:()=>v.result_indicators.validation(e.id),modelValue:n.value[e.id].tests[t.id].selectedIndicators,"onUpdate:modelValue":a=>n.value[e.id].tests[t.id].selectedIndicators=a,multiple:!0,fill:"outline",interface:"popover",placeholder:"Select result indicator"},{default:s(()=>[(r(!0),x(U,null,F(n.value[e.id].tests[t.id].allIndicators,e=>(r(),i(u(Y),{key:e.id,value:e},{default:s(()=>[m(f(e.name),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["onIonChange","modelValue","onUpdate:modelValue"]),n.value[e.id].error.result_indicators?(r(),i(u(T),{key:0},{default:s(()=>[m(f(n.value[e.id].error.result_indicators),1)]),_:2},1024)):k("",!0)]),_:2},1024)):k("",!0)]),_:2},1024)]),_:2},1024),A("div",Xt,[(r(!0),x(U,null,F(n.value[e.id].tests[t.id].selectedIndicators,e=>(r(),i(u(z),{style:{margin:"10px"},key:e.concept_id},{default:s(()=>[d(u(E),null,{default:s(()=>[d(u(j),null,{default:s(()=>[d(u(O),null,{default:s(()=>[d(u(M),null,{default:s(()=>[A("h2",Zt,f(e.name)+" result:",1)]),_:2},1024),d(u(M),null,{default:s(()=>[d(u(N),{lines:"none"},{default:s(()=>[d(u(Z),{slot:"start",onIonChange:()=>v.isNumericTest.onChange(e),modelValue:e.input.isNumericTest,"onUpdate:modelValue":t=>e.input.isNumericTest=t},null,8,["onIonChange","modelValue","onUpdate:modelValue"]),d(u(V),{style:{"margin-left":"10px"}},{default:s(()=>o[5]||(o[5]=[m(" Numeric result? ")])),_:1,__:[5]})]),_:2},1024)]),_:2},1024)]),_:2},1024),e.input.isNumericTest?(r(),i(u(O),{key:0},{default:s(()=>[d(u(M),{size:"4"},{default:s(()=>[d(u(H),{onIonChange:()=>v.result_modifier.validation(e),modelValue:e.input.result_modifier,"onUpdate:modelValue":t=>e.input.result_modifier=t,interface:"popover","label-placement":"stacked",label:"Result modifier",fill:"outline",placeholder:"Select Modifier"},{default:s(()=>[(r(),x(U,null,F(p,e=>d(u(Y),{key:e,value:e},{default:s(()=>[m(f(e),1)]),_:2},1032,["value"])),64))]),_:2},1032,["onIonChange","modelValue","onUpdate:modelValue"]),e.error.result_modifier?(r(),i(u(T),{key:0},{default:s(()=>[m(f(e.error.result_modifier),1)]),_:2},1024)):k("",!0)]),_:2},1024),d(u(M),{size:"8"},{default:s(()=>[d(u(K),{type:"number",onIonInput:()=>v.result.validation(e),modelValue:e.input.result,"onUpdate:modelValue":t=>e.input.result=t,"label-placement":"stacked",label:"Result Value",fill:"outline",placeholder:"Enter result value"},null,8,["onIonInput","modelValue","onUpdate:modelValue"]),e.error.numeric_result?(r(),i(u(T),{key:0},{default:s(()=>[m(f(e.error.numeric_result),1)]),_:2},1024)):k("",!0)]),_:2},1024)]),_:2},1024)):(r(),i(u(O),{key:1},{default:s(()=>[d(u(M),null,{default:s(()=>[d(u(V),null,{default:s(()=>o[6]||(o[6]=[m("Alphanumeric result")])),_:1,__:[6]}),d(u(K),{onIonInput:()=>v.result.validation(e),modelValue:e.input.result,"onUpdate:modelValue":t=>e.input.result=t,placeholder:"Enter result",fill:"outline"},null,8,["onIonInput","modelValue","onUpdate:modelValue"]),e.error.text_result?(r(),i(u(T),{key:0},{default:s(()=>[m(f(e.error.text_result),1)]),_:2},1024)):k("",!0)]),_:2},1024)]),_:2},1024))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),d(u(_),{onClick:a=>g(e.id,t.id),class:"ion-padding"},{default:s(()=>o[7]||(o[7]=[m("Save result(s)")])),_:2,__:[7]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1032,["value"]))),128))]),_:2},1032,["onIonChange"]))),128))]))])}}}),[["__scopeId","data-v-646aa47c"]]),Qt=async()=>{try{return(await Ye.getJson("user_properties",{property:"activities"})).property_value.split(",")}catch(e){return[]}};async function ea(e){const t=await Qt(),a=await(async()=>{try{return(await ze.getJson("user_properties",{property:"lock_user_to_art_activities"})).property_value}catch(e){return e instanceof Le?"Yes":"_error_"}})();return!(!/yes/i.test(a)&&!t.includes(e))}function ta(e){var t,a;return/died/i.test(`${null==e||null===(t=e.program)||void 0===t?void 0:t.outcome}`)&&new Date(Ue.getSessionDate())>=new Date(null==e||null===(a=e.program)||void 0===a?void 0:a.startDate)}function aa(e,t,a){return{icon:a,label:t,action:()=>{Ge(jt,{},!1,{title:t,useComponent:e,onClose:We.hide})}}}const na={"hiv clinic registration":kt,"hiv reception":vt,vitals:mt,"hiv staging":ft,"hiv clinic consultation":It,"art adherence":gt,treatment:_t,dispensing:xt,appointment:bt,"patient type":ht},oa={"hiv clinic registration":ue,"hiv reception":de,vitals:se,"hiv staging":re,"hiv clinic consultation":re,"art adherence":ie,treatment:le,dispensing:le,appointment:X,"patient type":oe};const la=[{id:"hiv clinic registration",name:"Hiv clinic registration",workflowID:"HIV first visits",icon:"registration.png",disabled:ta,condition:()=>ea("HIV first visits")},{id:"hiv reception",name:"HIV reception",workflowID:"HIV reception visits",icon:"reception.png",disabled:ta,condition:()=>ea("HIV reception visits")},{id:"vitals",name:"Vitals",icon:"vitals.png",taskCompletionChecklist:["Weight"],disabled:ta,condition:()=>ea("Vitals")},{id:"hiv staging",name:"HIV staging",workflowID:"HIV staging visits",icon:"hiv-staging.png",disabled:ta,condition:()=>ea("HIV staging visits")},{id:"hiv clinic consultation",name:"HIV clinic consultation",workflowID:"HIV clinic consultations",taskCompletionChecklist:["Medication orders"],icon:"consultation.png",disabled:ta,condition:()=>ea("HIV clinic consultations")},{id:"art adherence",name:"ART adherence",workflowID:"ART adherence",icon:"adherence.png",disabled:ta,condition:()=>ea("ART adherence")},{id:"treatment",name:"Treatment",workflowID:"Prescriptions",icon:"prescription.png",disabled:ta,condition:()=>ea("Prescriptions")},{id:"dispensing",name:"Drug Dispensations",encounterTypeName:"DISPENSING",workflowID:"Drug Dispensations",icon:"dispensing.png",disabled:ta,condition:()=>ea("Drug Dispensations")},{id:"appointment",name:"Manage Appointments",encounterTypeName:"APPOINTMENT",workflowID:"Manage Appointments",icon:"appointment.png",disabled:ta,condition:()=>ea("Manage Appointments")},{id:"patient type",name:"Patient Type",encounterTypeName:"Registration",icon:"patient-type.png",disabled:ta,availableOnActivitySelection:!1}];async function ia(){const e=await async function(e){const t=await Qt();return e.filter(e=>{if(!1===e.availableOnActivitySelection)return!1;const a=e.workflowID||e.name;return!(!t.some(e=>e.toLowerCase()===a.toLowerCase())||e.condition&&!e.condition()||e.disabled&&e.disabled())}).map(e=>{const t=na[e.id],a=oa[e.id];if(t&&a)return aa(t,e.name,a);switch(e.id){case"fast track assesment":return{label:e.name,icon:re,action:()=>{console.log("Fast track assessment action")}};case"bp_management":return{label:e.name,icon:le,action:()=>{console.log("BP management action")}};case"bp_alert":return{label:e.name,icon:le,action:()=>{console.log("BP alert action")}};default:return null}}).filter(Boolean)}(la);return{tasks:[{label:"Start ART Workflow",icon:ne,iconColor:"warning",action:()=>{Be.push("/ARTVisit")}},aa(ht,"Patient type",oe),...e],other:[{label:"Mastercard",icon:Q,action:()=>Be.push("/art/mastercard")},aa(Ct,"Lab Activities",ce),aa(Kt,"Lab Results",ce),aa(yt,"Emergency Refill",ce),aa(Gt,"Program outcome",ce),{label:"NATIONAL HEALTH ID (PRINT)",icon:ee,action:async()=>{await At((new Ue).getID())}},{label:"DEMOGRAPHICS (PRINT)",icon:te,action:()=>{Rt((new Ue).getID())}},{label:"VISIT SUMMARY (PRINT)",icon:ae,action:()=>{Nt((new Ue).getID())}}]}}let ra;ra=(async()=>await ia())();const sa={class:"header-content"},da={class:"title-section"},ua={key:0,class:"progress-overview"},ca={class:"progress-header"},pa={class:"progress-stats"},va={class:"progress-badge"},ma={class:"tasks-container"},fa=["onClick"],ga={class:"task-icon-container"},_a={class:"task-content"},ba={key:0,class:"task-status"},ha={key:1,class:"empty-state"},ya={class:"empty-icon"},xa=He(o({__name:"TaskView",props:{tasks:{type:Object,required:!0}},setup(e){const t=e,a=C(()=>{if(!t.tasks||0===t.tasks.length)return{completed:0,total:0,percentage:0};const e=t.tasks.length,a=t.tasks.filter(e=>e.taskCompleted).length;return{completed:a,total:e,percentage:e>0?Math.round(a/e*100):0}});function n(){ge.dismiss()}function o(e){return"function"==typeof e&&e(t.tasks)}return(t,l)=>(r(),i(u(I),null,{default:s(()=>[d(u(c),{class:"ion-no-border"},{default:s(()=>[d(u(p),{class:"custom-header"},{default:s(()=>[A("div",sa,[A("div",da,[d(u(b),{icon:u(pe),class:"header-icon"},null,8,["icon"]),d(u(v),{class:"custom-title"},{default:s(()=>l[0]||(l[0]=[m("Program Activities")])),_:1,__:[0]})]),d(u(_),{onClick:n,fill:"clear",shape:"round"},{default:s(()=>[d(u(b),{icon:u(ve)},null,8,["icon"])]),_:1})])]),_:1})]),_:1}),d(u(y),{class:"custom-content"},{default:s(()=>[e.tasks&&e.tasks.length>0?(r(),x("div",ua,[A("div",ca,[A("div",pa,[A("h3",null,f(a.value.completed)+"/"+f(a.value.total),1),l[1]||(l[1]=A("p",null,"Tasks Completed",-1))]),A("div",va,[d(u($),{color:100===a.value.percentage?"success":"primary",class:"completion-badge"},{default:s(()=>[m(f(a.value.percentage)+"% ",1)]),_:1},8,["color"])])]),d(u(W),{value:a.value.percentage/100,class:"custom-progress",color:100===a.value.percentage?"success":"primary"},null,8,["value","color"])])):k("",!0),A("div",ma,[e.tasks&&e.tasks.length>0?(r(),i(u(j),{key:0,class:"tasks-grid"},{default:s(()=>[d(u(O),{class:"ion-justify-content-center"},{default:s(()=>[(r(!0),x(U,null,F(e.tasks,(e,t)=>(r(),i(u(M),{size:"12","size-sm":"6","size-md":"4","size-lg":"3",key:t,class:"task-col"},{default:s(()=>[A("div",{class:me(["task-card",{"task-completed":e.taskCompleted,"task-disabled":o(e.disabled)}]),onClick:t=>!o(e.disabled)&&(e=>{e.action&&"function"==typeof e.action?e.action():console.warn(`No action defined for task: ${e.label}`)})(e)},[A("div",ga,[d(u(b),{color:e.taskCompleted?"success":e.iconColor||"primary",icon:e.taskCompleted?u(fe):e.icon,class:"task-icon"},null,8,["color","icon"])]),A("div",_a,[d(u(V),{class:"task-label"},{default:s(()=>[m(f(e.label),1)]),_:2},1024),e.taskCompleted?(r(),x("div",ba,[d(u(b),{icon:u(fe),color:"success"},null,8,["icon"]),l[2]||(l[2]=A("span",null,"Completed",-1))])):k("",!0)])],10,fa)]),_:2},1024))),128))]),_:1})]),_:1})):(r(),x("div",ha,[A("div",ya,[d(u(b),{icon:u(ue)},null,8,["icon"])]),l[3]||(l[3]=A("h3",null,"No Activities Yet",-1)),l[4]||(l[4]=A("p",null,"Your program activities will appear here once they're available.",-1))]))])]),_:1})]),_:1}))}}),[["__scopeId","data-v-bd203ba3"]]);const ka={key:2,class:"content_manager"},wa={style:{display:"flex","justify-content":"space-between"}},Da={class:"p_name_image"},Ia={style:{width:"100%"}},Ca={class:"p_name"},Pa={style:{display:"flex","justify-content":"space-between"}},Sa={class:"start-visit"},Aa={class:"button-group"},Ra={class:"action-buttons"},Na={class:"send-button-container"},Va={class:"send-button-container"},za={class:"send-button-container"},Ea={style:{"padding-left":"10px","padding-right":"10px"}},Ta={class:"vitalsUnits"},ja={style:{width:"100%",overflow:"scroll",height:"64px"}},Oa={key:0,style:{"margin-top":"1px"}},Ma={key:0,class:"patient-chart"},Ha={class:"patient-chart"},Ua={key:1,class:"patient-chart"},Fa={key:1},Ya={key:2},La={key:3},Ba={key:4},Ga={key:5},Wa={class:"rght-drpm"},qa=o({__name:"PatientProfile",setup(e,{expose:t}){const n=ke(()=>Ne(()=>a.import("./LabTestsHistory-legacy-O-UCWAf9.js").then(e=>e.a),void 0,a.meta.url)),o=ke(()=>Ne(()=>a.import("./DiagnosesHistory-legacy-CpdL5t7J.js"),void 0,a.meta.url)),c=ke(()=>Ne(()=>a.import("./AllergiesContraindication-legacy-9ZLEYs_-.js"),void 0,a.meta.url)),p=ke(()=>Ne(()=>a.import("./VisitsHistory-legacy-C51lsI3b.js"),void 0,a.meta.url)),v=ke(()=>Ne(()=>a.import("./VitalsMeasurementsSummary-legacy-CBc-UIZ_.js"),void 0,a.meta.url)),g=ke(()=>Ne(()=>a.import("./PatientProfile-legacy-C0TVC4cT.js"),void 0,a.meta.url)),_=ke(()=>Ne(()=>a.import("./WeightHeightChart-legacy-jKY78yov.js"),void 0,a.meta.url)),h=ke(()=>Ne(()=>a.import("./previousVitals-legacy-Ct64vYtT.js").then(e=>e.p),void 0,a.meta.url)),w=ke(()=>Ne(()=>a.import("./BloodPressure-legacy-DPeCLK9C.js"),void 0,a.meta.url)),D=ke(()=>Ne(()=>a.import("./index-legacy-Bh_KV0Am.js").then(e=>e.bT),void 0,a.meta.url)),P=ke(()=>Ne(()=>a.import("./AncEnrollmentModal-legacy-XagVH4Pm.js"),void 0,a.meta.url)),T=ke(()=>Ne(()=>a.import("./LabourEnrollmentModal-legacy-Dzw1_BS5.js"),void 0,a.meta.url)),j=ke(()=>Ne(()=>a.import("./PNCEnrollmentModal-legacy-8zRMMlC2.js"),void 0,a.meta.url)),H=_e(),Y=be(),L=Te(),B=qe(),W=$e(),q=Je(),$=Xe(),J=Et(),{event:X,popoverOpen:Z,openPopover:K,openPIM:Q,openOutCome:ee,openUpdateNCDNUmbers:ae,printVisitSummary:ne,printID:le,formatCurrentAddress:ie}=dt(),{screenWidth:se}=Ze(),{patient:de}=he(L),{selectedMedicalAllergiesList:ue}=he(B),{NCDNumber:ce}=he(W),{activeProgram:pe,authorizedPrograms:ve}=he(q),{vitals:fe}=he($),{ConfirmPregnancy:ge}=he(J);l(!1),l(!1);const Ee=l(!1),je=l(!0),He=l(!1),Le=l(!1),Be=l(!1),We=l("Patient Charts");l(!1);const rt=l(null);l(null),l("+ Enroll in NCD Program"),l("+ Start New OPD consultation");const vt=l([]);l([]);const mt=l({});l([]);const ft=l(!1),gt=l(!1),_t=l(!1),bt=l(!1),ht=l(!1),yt=l(!1),xt=l([]),kt=l(0),wt=l(),Dt=l("");l([]),l();const It=l(!1),Ct=C(()=>{try{var e;const t=null===(e=de.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender;return"Male"===t||"M"===t?ve.value.filter(e=>"ANC PROGRAM"!==e.name&&"LABOUR AND DELIVERY PROGRAM"!==e.name&&"PNC PROGRAM"!==e.name):ve.value.map(e=>{if("ANC PROGRAM"===e.name||"LABOUR AND DELIVERY PROGRAM"===e.name||"PNC PROGRAM"===e.name){const t=xt.value.some(t=>t.id===e.program_id);return{...e,actionName:t?`Start ${e.name}`:`Enroll in ${e.name}`}}return e})}catch(t){}});C(()=>Ke(ge.value,"Pregnancy confirmed")),C(()=>Ke(ge.value,"Pregnancy planned"));const Pt=C(()=>!_t.value&&14==pe.value.program_id),St=C(()=>_t.value&&14==pe.value.program_id),At=e=>{We.value=e},Rt=()=>[{backgroundColor:"#B9E6FE",status:"",icon:ut(["#B9E6FE","#026AA2","#9ADBFE"]),textColor:"#026AA2",value:"No further action is required.",name:"",index:"Blood sugar is normal"},{backgroundColor:"#FEDF89",status:"",icon:ut(["#FEDF89","#B54708","#FED667"]),textColor:"#B54708",value:"Please call or follow up!",name:"",index:"Patient Defaulted"},{backgroundColor:"#FECDCA",status:"",icon:ut(["#FECDCA","#B42318","#FDA19B"]),textColor:"#B42318",value:"Administer medications!",name:"",index:"Patient is hypertensive"}],Nt=()=>{ft.value=!1},Vt=()=>{gt.value=!1},zt=()=>{ft.value=!ft.value},Tt=()=>{gt.value=!gt.value},jt=async()=>{try{const e=await at(),t=e?e.code:null;if(!t)return void Ve("Location ID could not be found. Please check your settings.");await nt.checkInPatient(de.value.patientID,Oe.todayDateFormatted(),t),await nt.addPatientToStage(de.value.patientID,Oe.todayDateFormatted(),"VITALS",t),await ot().refresh(t),zt(),_t.value=!0,Fe("The patient's visit is now active. Patient is on the waiting list for vitals")}catch(e){Ve("An error occurred while attempting to check in the patient. Please try again.")}},Ot=async()=>{try{const e=await nt.getCheckInStatus(de.value.patientID);await nt.checkOutPatient(e[0].id,Oe.todayDateFormatted());const t=await at(),a=t?t.code:null;await ot().refresh(a),_t.value=!1,Tt(),Fe("The patient's visit is now closed")}catch(e){console.error(e)}},Mt=async()=>{if(14==pe.value.program_id)try{const e=await nt.getCheckInStatus(de.value.patientID);_t.value=e.length>0}catch(e){console.error(e)}},Ht=()=>{zt()},Ut=()=>{Tt()},Ft=(e="tasks")=>async function(e,t="tasks"){var a,n;const o=null!==(a={1:await ra}[e])&&void 0!==a?a:{};Ge(xa,{},!0,{tasks:null!==(n=null==o?void 0:o[t])&&void 0!==n?n:[]})}(pe.value.program_id,e),Yt=async e=>{if(await $t(),e.program_id==lt.ANC_PROGRAM||e.program_id==lt.PNC_PROGRAM||e.program_id==lt.LABOUR_AND_DELIVERY_PROGRAM){if(!xt.value.find(t=>t.id==e.program_id)){if(e.program_id==lt.ANC_PROGRAM)return bt.value=!0,void(kt.value=e.program_id);var t,a;if(e.program_id==lt.LABOUR_AND_DELIVERY_PROGRAM)return ht.value=!0,Dt.value=`Are you sure you want to enroll ${null===(t=de.value)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.given_name.toUpperCase()} in this program?`,void(kt.value=e.program_id);if(e.program_id==lt.PNC_PROGRAM)return yt.value=!0,Dt.value=`Are you sure you want to enroll ${null===(a=de.value)||void 0===a||null===(a=a.personInformation)||void 0===a?void 0:a.given_name.toUpperCase()} in this program?`,void(kt.value=e.program_id)}}return await Qe.userProgramData(de.value.patientID,e),H.push(e.url)},Lt=()=>{bt.value=!1},Bt=()=>{bt.value=!bt.value},Gt=async()=>{const e=Ye.getUserID(),t=new st(de.value.patientID,e);if(!(await t.createEncounter()))return Me("Unable to create quick check encounter");const a=await t.saveObservationList(await Zt());return await ze.enrollProgram(de.value.patientID,kt.value,(new Date).toString()),a?(Fe("Enrollment is successful"),await $t(),Bt(),H.push("ANCHome")):Me("Unable to create quick check details!")},Wt=async()=>(await ze.enrollProgram(de.value.patientID,kt.value,(new Date).toString()),await $t(),Fe("Enrollment is successful"),H.push("LabourHome")),qt=async()=>(await ze.enrollProgram(de.value.patientID,kt.value,(new Date).toString()),await $t(),Fe("Enrollment is successful"),H.push("PNCHome")),$t=async()=>{const e=de.activePrograms;xt.value=null==e?void 0:e.map(e=>({name:e.program.name,id:e.program_id}))},Jt=()=>{Bt()},Xt=async()=>{const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","Respiratory rate"].map(async e=>{const t=await it.getFirstValueNumber(de.value.patientID,e);return{[e]:t}});wt.value=(new Ue).getBloodGlucose(de.value);const t=await Promise.all(e);mt.value=Object.assign({},...t)},Zt=async()=>[...await ct(ge)];return S(async()=>{var e;await Qe.userProgramData(de.value.patientID),null!==(e=de.value)&&void 0!==e&&null!==(e=e.personInformation)&&void 0!==e&&e.birthdate&&(je.value=Oe.getAgeInYears(de.value.personInformation.birthdate)>=14,He.value=Oe.ageInMonths(de.value.personInformation.birthdate)<9,Le.value=Oe.getAgeInYears(de.value.personInformation.birthdate)<5,Be.value=Oe.dateDiffInDays(Oe.sessionDate(),de.value.personInformation.birthdate)<42);const t=new Ue;vt.value=await Ue.getPatientVisits(t.getID(),!1),await $t(),Rt(),await Xt(),await Mt()}),ye(()=>de.value.patientID,async e=>{e&&(await Qe.userProgramData(e),await $t())},{immediate:!0}),ye(()=>de,async()=>{await Qe.userProgramData(de.value.patientID),await Xt(),await Mt(),await(async()=>{if(14==pe.value.program_id)try{const e=await nt.getCheckInStatus(de.value.patientID);_t.value=!!e.length}catch(e){console.error(e)}})()},{deep:!0}),ye(Y,async e=>{await Qe.userProgramData(de.value.patientID)},{deep:!0}),ye(()=>de.value,()=>{(()=>{var e;if(null!==(e=de.value)&&void 0!==e&&null!==(e=e.personInformation)&&void 0!==e&&e.birthdate){const e=Oe.getAgeInYears(de.value.personInformation.birthdate);It.value=e<9}})()},{immediate:!0,deep:!0}),t({showUnderageWarning:It}),(e,t)=>{const a=xe("ion-list"),l=xe("ion-popover");return r(),i(u(I),null,{default:s(()=>[d(et),d(u(y),{fullscreen:!0},{default:s(()=>[33!==u(pe).program_id&&""!=u(pe).program_id&&u(se)<1120?(r(),i(pt,{key:0,onOpenPopover:t[0]||(t[0]=e=>u(K)(e))})):k("",!0),d(u(D),{closeModalFunc:Nt,onYes:jt,onNo:Ht,isOpen:ft.value,title:"Are you sure you want to create the visit?"},null,8,["isOpen"]),d(u(D),{closeModalFunc:Vt,onYes:Ot,onNo:Ut,isOpen:gt.value,title:"Are you sure you want to close the visit?"},null,8,["isOpen"]),d(u(P),{closeModalFunc:Lt,onYes:Gt,onNo:Jt,isOpen:bt.value,title:Dt.value,showUnderageWarning:It.value},null,8,["isOpen","title","showUnderageWarning"]),d(u(T),{closeModalFunc:Lt,onYes:Wt,onNo:Jt,isOpen:ht.value,title:Dt.value},null,8,["isOpen","title"]),d(u(j),{closeModalFunc:Lt,onYes:qt,onNo:Jt,isOpen:yt.value,title:Dt.value},null,8,["isOpen","title"]),33==u(pe).program_id?(r(),i(u(g),{key:1,updateData:u(de)},null,8,["updateData"])):k("",!0),33!==u(pe).program_id&&""!=u(pe).program_id?(r(),x("div",ka,[d(u(O),{class:"content_width"},{default:s(()=>[d(u(M),{size:"2.5","size-lg":"2.6","size-md":"3",class:"displayNoneLeftPanel"},{default:s(()=>[d(u(z),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:s(()=>[d(u(E),null,{default:s(()=>{var e,a,n,o;return[A("div",wa,[t[22]||(t[22]=A("div",null,null,-1)),A("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:t[1]||(t[1]=e=>u(K)(e))},[d(u(b),{icon:u(we),style:{"font-size":"2.2rem"}},null,8,["icon"])])]),A("div",Da,[A("div",{class:me("M"==(null===(e=u(de))||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender)?"initialsBox maleColor":"initialsBox femaleColor"),onClick:t[2]||(t[2]=e=>u(Q)())},[d(u(b),{style:{color:"#fff","font-size":"70px"},icon:u(De)},null,8,["icon"])],2),A("div",Ia,[A("div",Ca,f(null===(a=u(de))||void 0===a||null===(a=a.personInformation)||void 0===a?void 0:a.given_name)+" "+f(null===(n=u(de))||void 0===n||null===(n=n.personInformation)||void 0===n?void 0:n.middle_name)+" "+f(null===(o=u(de))||void 0===o||null===(o=o.personInformation)||void 0===o?void 0:o.family_name),1)])]),d(u(O),null,{default:s(()=>[d(u(M),{size:"4"},{default:s(()=>t[23]||(t[23]=[m("MRN:")])),_:1,__:[23]}),d(u(M),{class:"demoContent"},{default:s(()=>[m(f(u(de).ID),1)]),_:1})]),_:1}),32===u(pe).program_id?(r(),i(u(O),{key:0},{default:s(()=>[d(u(M),{size:"4"},{default:s(()=>t[24]||(t[24]=[m("NCDNumber:")])),_:1,__:[24]}),d(u(M),{class:"demoContent"},{default:s(()=>[m(f(u(de).NcdID),1)]),_:1})]),_:1})):k("",!0),d(u(O),null,{default:s(()=>[d(u(M),{size:"4"},{default:s(()=>t[25]||(t[25]=[m("Gender:")])),_:1,__:[25]}),d(u(M),{class:"demoContent"},{default:s(()=>{var e,t;return[m(f((t=null===(e=u(de))||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender,["Male","M"].includes(t)?"Male":["Female","F"].includes(t)?"Female":"")),1)]}),_:1})]),_:1}),d(u(O),null,{default:s(()=>[d(u(M),{size:"4"},{default:s(()=>t[26]||(t[26]=[m("Age:")])),_:1,__:[26]}),d(u(M),{class:"demoContent"},{default:s(()=>{return[m(f(Oe.getBirthdateAge(null===(e=de.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)),1)];var e}),_:1})]),_:1}),d(u(O),null,{default:s(()=>[d(u(M),{size:"4"},{default:s(()=>t[27]||(t[27]=[m("Address:")])),_:1,__:[27]}),d(u(M),{class:"demoContent"},{default:s(()=>[m(f(u(ie)(u(de))),1)]),_:1})]),_:1})]}),_:1})]),_:1}),d(u(z),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:s(()=>[d(u(G),{value:["first"]},{default:s(()=>[d(u(R),{value:"first",style:{"background-color":"#fff"},"toggle-icon-slot":"start"},{default:s(()=>[d(u(N),{slot:"header",color:"white"},{default:s(()=>[d(u(V),{class:"side_title"},{default:s(()=>t[28]||(t[28]=[m("Alerts & Reminders ")])),_:1,__:[28]})]),_:1}),d(u(E),{slot:"content"},{default:s(()=>[(r(!0),x(U,null,F(Rt(),(e,t)=>(r(),x("span",{key:t},[e.value?(r(),i(u(O),{key:0,style:Ie("border-radius: 5px;  margin-top:10px; margin-bottom:10px;background-color:"+e.backgroundColor)},null,8,["style"])):k("",!0)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d(u(M),{"size-sm":"12","size-md":"12","size-lg":u(se)>1120?"9.4":"12"},{default:s(()=>[d(u(z),{style:{"background-color":"#fff","margin-inline":"0px",contain:"unset",overflow:"unset"}},{default:s(()=>[A("div",null,[A("div",Pa,[t[29]||(t[29]=A("div",{class:"vitalsTitle"},"Most recent Vitals & Biometrics",-1)),A("div",Sa,[A("div",Aa,[A("div",Ra,[Pt.value?(r(),i(tt,{key:0,name:"Activate visit",onClick:t[3]||(t[3]=e=>zt()),fill:"clear",iconSlot:"start",icon:u(Ce),class:"action-button"},null,8,["icon"])):k("",!0),St.value?(r(),i(tt,{key:1,name:"Deactivate visit",onClick:t[4]||(t[4]=e=>Tt()),fill:"clear",iconSlot:"start",icon:u(Ce),class:"action-button danger"},null,8,["icon"])):k("",!0)]),A("div",Na,[A("button",{class:"send-text",onClick:t[5]||(t[5]=e=>Ft())},"Tasks")]),A("div",Va,[A("button",{class:"send-text",onClick:t[6]||(t[6]=e=>Ft("other"))},"Printout/Other")]),A("div",za,[A("button",{class:"send-text",onClick:t[7]||(t[7]=e=>Yt(u(pe)))},"Start visit"),A("button",{class:"send-arrow",onClick:t[8]||(t[8]=e=>{return t=e,rt.value=t,void(Ee.value=!Ee.value);var t})})])])])])]),A("div",Ea,[d(u(O),null,{default:s(()=>[d(u(M),{class:"vitalsHeading"},{default:s(()=>t[30]||(t[30]=[m("Weight")])),_:1,__:[30]}),d(u(M),{class:"vitalsHeading"},{default:s(()=>t[31]||(t[31]=[m("Height")])),_:1,__:[31]}),d(u(M),{class:"vitalsHeading"},{default:s(()=>t[32]||(t[32]=[m("Temperature")])),_:1,__:[32]}),d(u(M),{class:"vitalsHeading"},{default:s(()=>t[33]||(t[33]=[m("Blood glucose")])),_:1,__:[33]}),d(u(M),{class:"vitalsHeading"},{default:s(()=>t[34]||(t[34]=[m("Pulse Rate")])),_:1,__:[34]}),d(u(M),{class:"vitalsHeading"},{default:s(()=>t[35]||(t[35]=[m("Blood pressure")])),_:1,__:[35]})]),_:1}),d(u(O),null,{default:s(()=>[d(u(M),{class:"vitalsValue"},{default:s(()=>[m(f(mt.value.Weight)+" ",1),t[36]||(t[36]=A("span",{class:"vitalsUnits"},"kg",-1))]),_:1,__:[36]}),d(u(M),{class:"vitalsValue"},{default:s(()=>[m(f(mt.value["Height (cm)"])+" ",1),t[37]||(t[37]=A("span",{class:"vitalsUnits"},"cm",-1))]),_:1,__:[37]}),d(u(M),{class:"vitalsValue"},{default:s(()=>[m(f(mt.value.Temperature)+" ",1),t[38]||(t[38]=A("span",{class:"vitalsUnits"},"Â°C",-1))]),_:1,__:[38]}),d(u(M),{class:"vitalsValue"},{default:s(()=>{var e,t;return[m(f(null===(e=wt.value)||void 0===e?void 0:e.value)+" ",1),A("span",Ta,f(null===(t=wt.value)||void 0===t?void 0:t.unit),1)]}),_:1}),d(u(M),{class:"vitalsValue"},{default:s(()=>[m(f(mt.value.Pulse)+" ",1),t[39]||(t[39]=A("span",{class:"vitalsUnits"},"bpm ",-1))]),_:1,__:[39]}),d(u(M),{class:"vitalsValue"},{default:s(()=>[m(f(mt.value.Systolic)+"/"+f(mt.value.Diastolic),1),t[40]||(t[40]=A("span",{class:"vitalsUnits"},"mmhg",-1))]),_:1,__:[40]})]),_:1})])]),_:1}),A("div",ja,[d(u(Pe),{value:We.value,style:{"margin-top":"5px","min-width":"540px"}},{default:s(()=>[d(u(Se),{value:"Patient Charts",onClick:t[9]||(t[9]=e=>At("Patient Charts"))},{default:s(()=>[d(u(V),null,{default:s(()=>t[41]||(t[41]=[m("Patient Charts")])),_:1,__:[41]})]),_:1}),d(u(Se),{value:"Visits History",onClick:t[10]||(t[10]=e=>At("Visits History"))},{default:s(()=>[d(u(V),null,{default:s(()=>t[42]||(t[42]=[m("Visits History")])),_:1,__:[42]})]),_:1}),d(u(Se),{value:"Vitals & Measurements Summary",onClick:t[11]||(t[11]=e=>At("Vitals & Measurements Summary"))},{default:s(()=>[d(u(V),null,{default:s(()=>t[43]||(t[43]=[m("Vitals & Measurements Summary")])),_:1,__:[43]})]),_:1}),d(u(Se),{value:"Lab Tests History",onClick:t[12]||(t[12]=e=>At("Lab Tests History"))},{default:s(()=>[d(u(V),null,{default:s(()=>t[44]||(t[44]=[m("Lab Tests History")])),_:1,__:[44]})]),_:1}),d(u(Se),{value:"Diagnosis History",onClick:t[13]||(t[13]=e=>At("Diagnosis History"))},{default:s(()=>[d(u(V),null,{default:s(()=>t[45]||(t[45]=[m("Diagnosis History")])),_:1,__:[45]})]),_:1}),d(u(Se),{value:"Allergies & Contraindication",onClick:t[14]||(t[14]=e=>At("Allergies & Contraindication"))},{default:s(()=>[d(u(V),null,{default:s(()=>t[46]||(t[46]=[m("Allergies & Contraindication")])),_:1,__:[46]})]),_:1})]),_:1},8,["value"])]),"Patient Charts"==We.value?(r(),x("div",Oa,[A("div",{style:Ie(u(se)>826?"display: flex;":"display: block;")},[Le.value?(r(),x("div",Ma,[d(u(_))])):k("",!0),A("div",Ha,[d(u(w))]),Le.value?k("",!0):(r(),x("div",Ua,[d(u(h))]))],4)])):k("",!0),"Visits History"==We.value?(r(),x("div",Fa,[d(u(p))])):k("",!0),"Vitals & Measurements Summary"==We.value?(r(),x("div",Ya,[d(u(v))])):k("",!0),"Lab Tests History"==We.value?(r(),x("div",La,[d(u(n))])):k("",!0),"Diagnosis History"==We.value?(r(),x("div",Ba,[d(u(o))])):k("",!0),"Allergies & Contraindication"==We.value?(r(),x("div",Ga,[d(u(c))])):k("",!0)]),_:1},8,["size-lg"])]),_:1})])):k("",!0)]),_:1}),d(l,{style:{"--offset-x":"-10px"},"is-open":u(Z),"show-backdrop":!1,"dismiss-on-select":!0,event:u(X),onDidDismiss:t[20]||(t[20]=e=>Z.value=!1)},{default:s(()=>[A("div",null,[d(a,{style:{"--ion-background-color":"#fff","--offset-x":"-30px"}},{default:s(()=>[d(u(N),{button:!0,detail:!1,onClick:t[15]||(t[15]=e=>u(Q)()),style:{cursor:"pointer"},class:"list-content"},{default:s(()=>[d(u(b),{icon:u(oe),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),t[47]||(t[47]=A("span",{class:"sub-menu-txt"},"Update demographics",-1))]),_:1,__:[47]}),d(u(N),{button:!0,detail:!1,onClick:t[16]||(t[16]=e=>u(ee)()),style:{cursor:"pointer"},class:"list-content"},{default:s(()=>[d(u(b),{icon:u(re),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),t[48]||(t[48]=A("span",{class:"sub-menu-txt"},"Update outcome",-1))]),_:1,__:[48]}),32==u(Ye).getProgramID()?(r(),i(u(N),{key:0,button:!0,detail:!1,onClick:t[17]||(t[17]=e=>u(ae)()),style:{cursor:"pointer"},class:"list-content"},{default:s(()=>[d(u(b),{icon:u(Ae),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),t[49]||(t[49]=A("span",{class:"sub-menu-txt"},"Update NCD Number",-1))]),_:1,__:[49]})):k("",!0),d(u(N),{button:!0,detail:!1,onClick:t[18]||(t[18]=e=>u(ne)()),style:{cursor:"pointer"},class:"list-content"},{default:s(()=>[d(u(b),{icon:u(te),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),t[50]||(t[50]=A("span",{class:"sub-menu-txt"},"Print visit summary",-1))]),_:1,__:[50]}),d(u(N),{button:!0,detail:!1,onClick:t[19]||(t[19]=e=>u(le)()),style:{cursor:"pointer"},class:"list-content"},{default:s(()=>[d(u(b),{icon:u(te),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),t[51]||(t[51]=A("span",{class:"sub-menu-txt"},"Print client identifier",-1))]),_:1,__:[51]})]),_:1})])]),_:1},8,["is-open","event"]),d(l,{"is-open":Ee.value,"show-backdrop":!1,"dismiss-on-select":!0,event:rt.value,onDidDismiss:t[21]||(t[21]=e=>Ee.value=!1),style:{"--width":"350px"}},{default:s(()=>[d(u(y),null,{default:s(()=>[d(a,null,{default:s(()=>[(r(!0),x(U,null,F(Ct.value,(e,t)=>(r(),i(u(N),{button:!0,detail:!1,style:{cursor:"pointer"},key:t,onClick:t=>Yt(e)},{default:s(()=>[d(u(b),{slot:"start",icon:u(Re)},null,8,["icon"]),A("span",Wa,f(null==e?void 0:e.actionName),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["is-open","event"])]),_:1})}}}),$a=He(qa,[["__scopeId","data-v-02ce2cd2"]]),Ja=Object.freeze(Object.defineProperty({__proto__:null,default:$a},Symbol.toStringTag,{value:"Module"}));t("a",Ja)}}})}();
