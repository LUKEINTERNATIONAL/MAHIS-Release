import{bW as u,aD as s,aC as d}from"./index-BBKhEXH0.js";import{R as m}from"./regimens-Dknk55PA.js";import{V as v}from"./viral_load_report_service-B6TCiRYL.js";import{d as f,r as t,c as V,O as L,f as h}from"./vendor-Cb0zIxoC.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-BmfflAd_.js";import"./age_groups-BkW1n_F5.js";const M=f({__name:"ViralLoadReport",setup(w){const n=t([]),o=t(),r=t(),l=t("-"),i=[{path:"ageGroup",label:"Age Group"},...m.map(a=>({path:a,label:a})),{path:"N/A",label:"Uknown"}],c=V(()=>[{id:"minVL",placeholder:"Min Viral Load",type:"number",value:o.value,required:!1},{id:"maxVL",placeholder:"Max Viral Load",type:"number",value:r.value,required:!1}]);async function p(a){await s.show();try{o.value=a.minVL,r.value=a.maxVL;const e=new v;e.setStartDate(a.dateRange.startDate),e.setEndDate(a.dateRange.endDate),e.setOccupation(a.occupation),l.value=e.getDateIntervalPeriod(),n.value=await e.getViralLoad({from:o.value,to:r.value})}catch(e){d("Unable to load report data"),console.error(e)}await s.hide()}return(a,e)=>(h(),L(u,{title:"MoH Viral Load Report","report-type":"MoH",columns:i,rows:n.value,period:l.value,"show-indices":"","use-date-range-filter":"","custom-filters":c.value,onGenerate:p},null,8,["rows","period","custom-filters"]))}});export{M as default};
