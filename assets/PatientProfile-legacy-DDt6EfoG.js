System.register(["./vendor-legacy-CqdChbPB.js","./index-legacy-IRc-3MMQ.js","./lodash-legacy-pOOc9Efu.js","./confirm_pregnancy_service-legacy-2Ia0wpM1.js","./usePatientProfile-legacy-Do_tyttu.js","./formatServerData-legacy-DXjwDkzE.js","./DemographicBar-legacy-Ou3c8g1w.js","./ProviderFormOption-legacy-CNFIbvQ5.js"],function(e,a){"use strict";var t,n,o,i,l,s,r,d,c,u,p,v,m,f,g,x,y,b,_,h,k,w,C,D,P,A,I,z,N,j,S,M,O,R,E,H,F,V,B,U,L,T,Y,G,W,q,$,J,K,X,Z,Q,ee,ae,te,ne,oe,ie,le,se,re,de,ce,ue,pe,ve,me,fe,ge,xe,ye,be,_e,he,ke,we,Ce,De,Pe,Ae,Ie,ze,Ne,je,Se,Me,Oe,Re,Ee,He,Fe,Ve,Be,Ue,Le;return{setters:[e=>{t=e.R,n=e.d,o=e.r,i=e.a,l=e.y,s=e.f,r=e.z,d=e.l,c=e.u,u=e.S,p=e.U,v=e.T,m=e.A,f=e.B,g=e.aU,x=e.W,y=e.I,b=e.b1,_=e.a9,h=e.e,k=e.m,w=e.cT,C=e.V,D=e.af,P=e.k,A=e.dm,I=e.a8,z=e.bp,N=e.aa,j=e.F,S=e.L,M=e.ab,O=e.p,R=e.dn,E=e.D,H=e.bN,F=e.X,V=e.au,B=e.cj,U=e.b2,L=e.c,T=e.w,Y=e.E,G=e.cl,W=e.b0,q=e.aZ,$=e.dp,J=e.cD,K=e.M,X=e.J,Z=e.G,Q=e.$,ee=e.dq,ae=e.dr,te=e.ds,ne=e.aJ,oe=e.bP,ie=e.ap,le=e.aL,se=e.bd,re=e.an},e=>{de=e.S,ce=e.m,ue=e.P,pe=e.$,ve=e.g,me=e._,fe=e.a0,ge=e.u,xe=e.a1,ye=e.d,be=e.p,_e=e.a2,he=e.c,ke=e.a3,we=e.a4,Ce=e.T,De=e.D,Pe=e.H,Ae=e.a5,Ie=e.h,ze=e.j,Ne=e.l,je=e.k,Se=e.q,Me=e.t,Oe=e.a6,Re=e.a7},e=>{Ee=e.l},e=>{He=e.C},e=>{Fe=e.u},e=>{Ve=e.f},e=>{Be=e.D},e=>{Ue=e.P,Le=e.i}],execute:function(){var Te=document.createElement("style");Te.textContent='.custom-header[data-v-a20069d5]{--color: white;padding:8px 16px}.header-content[data-v-a20069d5]{display:flex;align-items:center;justify-content:space-between;width:100%}.title-section[data-v-a20069d5]{display:flex;align-items:center;gap:12px}.header-icon[data-v-a20069d5]{font-size:24px;color:#fff}.custom-title[data-v-a20069d5]{font-size:20px;font-weight:600;color:#fff;margin:0}.custom-content[data-v-a20069d5]{--background: #fff}.progress-overview[data-v-a20069d5]{background:#fff;margin:16px 16px 8px;padding:20px;border-radius:8px;border:1px solid #e2e8f0}.progress-header[data-v-a20069d5]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.progress-stats h3[data-v-a20069d5]{margin:0;font-size:24px;font-weight:700;color:#1e293b}.progress-stats p[data-v-a20069d5]{margin:4px 0 0;font-size:14px;color:#64748b}.completion-badge[data-v-a20069d5]{font-size:14px;font-weight:600;padding:8px 12px}.custom-progress[data-v-a20069d5]{height:8px;border-radius:4px;--background: #e2e8f0}.tasks-container[data-v-a20069d5]{padding:8px}.tasks-grid[data-v-a20069d5]{padding:0}.task-col[data-v-a20069d5]{padding:8px}.task-card[data-v-a20069d5]{background:#fff;border-radius:16px;padding:20px;border:1px solid #e2e8f0;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 4px rgba(0,0,0,.05);height:100%;display:flex;flex-direction:column;align-items:center;text-align:center;min-height:140px}.task-card[data-v-a20069d5]:hover:not(.task-disabled){transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,.15);border-color:#3b82f6}.task-completed[data-v-a20069d5]{border-color:#10b981;background:linear-gradient(135deg,#f0fdf4,#dcfce7)}.task-disabled[data-v-a20069d5]{opacity:.5;cursor:not-allowed}.task-icon-container[data-v-a20069d5]{margin-bottom:12px;padding:16px;border-radius:50%;background:#f1f5f9;display:flex;align-items:center;justify-content:center}.task-completed .task-icon-container[data-v-a20069d5]{background:#d1fae5}.task-icon[data-v-a20069d5]{font-size:32px}.task-content[data-v-a20069d5]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center}.task-label[data-v-a20069d5]{font-size:16px;font-weight:600;color:#1e293b;margin-bottom:8px;text-align:center}.task-status[data-v-a20069d5]{display:flex;align-items:center;gap:4px;font-size:12px;color:#10b981;font-weight:500}.empty-state[data-v-a20069d5]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center;background:#fff;border-radius:16px;margin:8px;box-shadow:0 2px 8px rgba(0,0,0,.1)}.empty-icon[data-v-a20069d5]{width:80px;height:80px;border-radius:50%;background:#f1f5f9;display:flex;align-items:center;justify-content:center;margin-bottom:24px}.empty-icon ion-icon[data-v-a20069d5]{font-size:40px;color:#64748b}.empty-state h3[data-v-a20069d5]{margin:0 0 12px;font-size:20px;font-weight:600;color:#1e293b}.empty-state p[data-v-a20069d5]{margin:0 0 24px;font-size:16px;color:#64748b;max-width:300px;line-height:1.5}.empty-action[data-v-a20069d5]{--border-radius: 8px;height:44px;font-weight:500}@media (max-width: 768px){.progress-header[data-v-a20069d5]{flex-direction:column;gap:12px;text-align:center}.task-card[data-v-a20069d5]{min-height:120px;padding:16px}.task-icon[data-v-a20069d5]{font-size:28px}.task-label[data-v-a20069d5]{font-size:14px}}.start-visit{margin-top:5px;margin-right:5px}.send-button-container{display:inline-flex;border-radius:9999px;overflow:hidden;min-width:130px}.send-text{background-color:#006401;color:#fff;border:none;font-family:system-ui,-apple-system,sans-serif;cursor:pointer;flex-grow:1;transition:background-color .2s;font-size:14px}.send-arrow{background-color:green;color:#fff;border:none;border-left:1px solid #135a14;font-size:14px;cursor:pointer;display:flex;align-items:center;transition:background-color .2s;padding:8px 14px}.send-text:hover{background-color:#004d00}.send-arrow:hover{background-color:#006b00}.send-arrow:after{content:"▾";font-size:18px}@media (max-width: 1120px){.regDisplayFlex{display:flex;justify-content:space-between}.displayNoneLeftPanel{display:none!important}}.patient-chart[data-v-4265236a]{width:100%;background-color:#fff;border-radius:5px;margin-right:5px;margin-bottom:10px}.vitalsHeading[data-v-4265236a]{font-style:normal;font-weight:300;font-size:14px;display:flex;align-items:center;color:#636363}.vitalsUnits[data-v-4265236a]{font-style:normal;font-weight:400;font-size:16px;color:#636363}.vitalsValue[data-v-4265236a]{font-style:normal;font-weight:600;font-size:30px;display:flex;align-items:center;color:#00190e}.vitalsTitle[data-v-4265236a]{font-style:normal;font-weight:600;font-size:16px;color:#00190e;padding:10px}.dateClass[data-v-4265236a]{font-style:normal;font-weight:400;font-size:12px;display:flex;align-items:center;color:#016302;padding:10px}#container[data-v-4265236a]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-4265236a]{font-size:20px;line-height:26px}#container p[data-v-4265236a]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-4265236a]{text-decoration:none}.centered-content[data-v-4265236a]{display:flex;justify-content:center;align-items:center}ion-item[slot=header][data-v-4265236a]{font-size:20px;padding-top:25px;font-weight:600}.first_letter[data-v-4265236a]{background-color:#e6e6e6;padding:20px;margin-right:20px;font-size:24px;border-radius:4px;color:#636363!important}.p_name_image[data-v-4265236a]{font-size:24px;color:#00190e;display:flex;font-weight:700;overflow:hidden}.p_name[data-v-4265236a]{max-width:210px;margin-left:20px;height:25px}.p_dash_header[data-v-4265236a]{display:flex;justify-content:space-between;padding:20px;border-bottom:solid #cccccc 1px}.p_title[data-v-4265236a]{font-weight:700;font-size:24px;color:#00190e}.col[data-v-4265236a]{border:solid 1px #ccc;padding:20px;width:600px;height:37.4vh}.row[data-v-4265236a]{border-radius:4px;border:solid 1px #ccc}.grid[data-v-4265236a]{padding:20px}.date[data-v-4265236a]{display:flex;font-weight:600;color:#00190e;align-items:center;justify-content:space-between;width:200px}ion-item[slot=header][data-v-4265236a]{padding-top:1px}.side_title[data-v-4265236a]{font-size:14px}.form_list[data-v-4265236a]{display:flex}.form_list_content[data-v-4265236a]{padding-left:10px;color:#00190e;font-size:14px;font-weight:500;padding-bottom:15px}.start_new_co[data-v-4265236a]{background-color:#ded;color:#006401;padding:15px;border-radius:4px;margin-bottom:20px;margin-left:7px;font-weight:500;cursor:pointer}.allergies[data-v-4265236a]{background:#fecdca;color:#b42318;padding:1px 8px;border-radius:4px;margin-right:5px;display:inline-block;margin-bottom:5px}.segment-button-checked[data-v-4265236a]{background:#ded!important}ion-segment-button[data-v-4265236a]{background:#fff;margin-right:1px;font-size:12px;text-transform:unset}.bottomSummary[data-v-4265236a]{margin-top:20px;max-width:600px}.bottomSummary .segment-button-checked[data-v-4265236a]{background:#fff!important;--indicator-color: none}.bottomSummary ion-segment-button[data-v-4265236a]{background:#e6e6e6;margin-right:5px;border-top-right-radius:10px;border-top-left-radius:10px;text-transform:unset;font-style:normal;font-weight:700;font-size:12px}.bottomSummaryContent[data-v-4265236a]{background:#fff}.initialsBox[data-v-4265236a]{min-width:85px;height:90px;left:31px;top:122px;border-radius:10px;align-items:center;display:flex;justify-content:center;margin-top:10px}.maleColor[data-v-4265236a]{background:#5983ba}.femaleColor[data-v-4265236a]{background:#876d9b}.demoContent[data-v-4265236a]{font-weight:700}.alert_content[data-v-4265236a]{padding:10px 10px 0;width:100%}.bottom_text[data-v-4265236a]{padding-bottom:10px;width:100%}.sub-menu-icon[data-v-4265236a]{margin-right:12px}.sub-menu-txt[data-v-4265236a]{font-weight:600;font-size:17px;color:gray}ion-item.list-content.selected[data-v-4265236a]{--background: #e8f0fe;--color: #1a73e8}.button-group[data-v-4265236a]{display:flex;justify-content:space-between;align-items:center;gap:10px;width:100%}.action-buttons[data-v-4265236a]{display:flex;gap:8px;align-items:center}.action-button[data-v-4265236a]{display:inline-flex;align-items:center;padding:6px 12px;height:32px;border-radius:9999px;font-family:system-ui,-apple-system,sans-serif;cursor:pointer;font-size:14px;border:none;background-color:#e6e6e6;color:#636363!important;transition:all .2s;white-space:nowrap}.action-button[data-v-4265236a]:hover{background-color:#d0d0d0}.action-button.danger[data-v-4265236a]{background-color:#fecdca;color:#b42318!important}.action-button.danger[data-v-4265236a]:hover{background-color:#f9a8a4}.send-button-container[data-v-4265236a]{display:inline-flex;border-radius:9999px;overflow:hidden;min-width:130px;height:32px}@media (max-width: 768px){.button-group[data-v-4265236a]{flex-wrap:wrap}.action-buttons[data-v-4265236a]{flex:1;min-width:0}.send-button-container[data-v-4265236a]{flex:none}.action-button[data-v-4265236a]{padding:6px 8px;font-size:13px}}.danger[data-v-4265236a]{--ion-color-base: #b42318 !important;--ion-color-contrast: #ffffff !important}\n/*$vite$:1*/',document.head.appendChild(Te);const Ye=[{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Is the pregnancy confirmed?*",class:"bold",selectedValue:"",name:"Pregnancy confirmed"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Was the pregnancy planned?*",selectedValue:"",class:"bold",name:"Pregnancy planned"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}}],Ge=e("u",t("ANCEnrollmentStore",{state:()=>({ConfirmPregnancy:[...Ye]}),actions:{setConfirmPregnancy(e){this.ConfirmPregnancy=e},getInitial:()=>[...Ee.cloneDeep(Ye)]}})),We={key:0,class:"ion-padding"},qe={key:1,class:"ion-padding"},$e=n({__name:"ArtFormWrapper",props:{title:{type:String,required:!0},useComponent:{required:!0},onClose:{required:!1}},setup(e){const a=e,t=o(null),n=o(null),P=o(!1);function A(){"function"==typeof a.onClose&&a.onClose()}function I(){if(P.value){if(!t.value)return void ce("BDE Provider component is not available");if(!t.value.isProviderSelected())return ce("Please select a provider"),void t.value.openModal()}n.value&&"function"==typeof n.value.onSubmit?n.value.onSubmit().then(e=>e&&A()).catch(e=>{ce("An error has occured while saving form"),console.error(e)}):A()}return i(()=>{var e;P.value=null!==(e=de.isBDE())&&void 0!==e&&e}),(a,o)=>(s(),l(c(D),null,{default:r(()=>[d(c(u),null,{default:r(()=>[d(c(p),null,{default:r(()=>[d(c(v),null,{default:r(()=>[m(f(e.title),1)]),_:1}),d(c(g),{slot:"end"},{default:r(()=>[d(c(x),{onClick:A},{default:r(()=>[d(c(y),{size:"large",icon:c(b)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),d(c(_),null,{default:r(()=>[P.value?(s(),h("div",We,[d(Ue,{ref_key:"bdeProviderComponent",ref:t},null,512)])):k("",!0),e.useComponent?(s(),h("div",qe,[(s(),l(w(e.useComponent),{ref_key:"formComponent",ref:n},null,512))])):k("",!0)]),_:1}),d(c(C),null,{default:r(()=>[d(c(p),null,{default:r(()=>[d(c(x),{color:"success",onClick:I,slot:"end"},{default:r(()=>o[0]||(o[0]=[m("Finish")])),_:1,__:[0]})]),_:1})]),_:1})]),_:1}))}}),Je={class:"header-content"},Ke={class:"title-section"},Xe={class:"tasks-container"},Ze=["onClick"],Qe={class:"task-icon-container"},ea={class:"task-content"},aa={key:0,class:"task-status"},ta={key:1,class:"empty-state"},na={class:"empty-icon"},oa=me(n({__name:"TaskView",props:{tasks:{type:Object,required:!0}},setup(e){const a=o([]),t=e;function n(){F.dismiss()}return i(async()=>{const e=new ue;a.value=[];const n=await new pe(e.getID()).getProgram();t.tasks.forEach(async e=>{const o={label:e.name,icon:e.icon,disabled:!1,taskCompleted:!1,task:e};var i,l;if(("string"!=typeof e.workflowID||await Le(e.workflowID))&&("function"!=typeof e.condition||await e.condition(t.tasks)))return"boolean"==typeof e.allowTaskAfterDeath&&!1===e.allowTaskAfterDeath&&/died/i.test(`${null==n||null===(i=n.program)||void 0===i?void 0:i.outcome}`)&&new Date(ue.getSessionDate())>=new Date(null==n||null===(l=n.program)||void 0===l?void 0:l.startDate)&&(o.disabled=!0),"function"==typeof e.disabled&&(o.disabled=await e.disabled(t.tasks)),a.value.push(o),e})}),(e,t)=>(s(),l(c(D),null,{default:r(()=>[d(c(u),{class:"ion-no-border"},{default:r(()=>[d(c(p),{class:"custom-header"},{default:r(()=>[P("div",Je,[P("div",Ke,[d(c(y),{icon:c(A),class:"header-icon"},null,8,["icon"]),d(c(v),{class:"custom-title"},{default:r(()=>t[0]||(t[0]=[m("Program Activities")])),_:1,__:[0]})]),d(c(x),{onClick:n,fill:"clear",shape:"round"},{default:r(()=>[d(c(y),{icon:c(I)},null,8,["icon"])]),_:1})])]),_:1})]),_:1}),d(c(_),{class:"custom-content"},{default:r(()=>[P("div",Xe,[a.value&&a.value.length>0?(s(),l(c(z),{key:0,class:"tasks-grid"},{default:r(()=>[d(c(N),{class:"ion-justify-content-center"},{default:r(()=>[(s(!0),h(j,null,S(a.value,(e,a)=>(s(),l(c(M),{size:"12","size-sm":"6","size-md":"4","size-lg":"3",key:a,class:"task-col"},{default:r(()=>[P("div",{class:O(["task-card",{"task-completed":e.taskCompleted,"task-disabled":e.disabled}]),onClick:a=>!e.disabled&&(e=>{if(!e.disabled)if(e.task.action)n(),e.task.action();else if(e.task.component&&e.task.isFormComponent)return void ve($e,{},!1,{title:e.task.name,useComponent:e.task.component,onClose:n})})(e)},[P("div",Qe,[d(c(y),{color:e.taskCompleted?"success":"primary",icon:e.taskCompleted?c(R):e.icon,class:"task-icon"},null,8,["color","icon"])]),P("div",ea,[d(c(E),{class:"task-label"},{default:r(()=>[m(f(e.label),1)]),_:2},1024),e.taskCompleted?(s(),h("div",aa,[d(c(y),{icon:c(R),color:"success"},null,8,["icon"]),t[1]||(t[1]=P("span",null,"Completed",-1))])):k("",!0)])],10,Ze)]),_:2},1024))),128))]),_:1})]),_:1})):(s(),h("div",ta,[P("div",na,[d(c(y),{icon:c(H)},null,8,["icon"])]),t[2]||(t[2]=P("h3",null,"No Activities Yet",-1)),t[3]||(t[3]=P("p",null,"Your program activities will appear here once they're available.",-1))]))])]),_:1})]),_:1}))}}),[["__scopeId","data-v-a20069d5"]]),ia={key:2,class:"content_manager"},la={style:{display:"flex","justify-content":"space-between"}},sa={class:"p_name_image"},ra={style:{width:"100%"}},da={class:"p_name"},ca={style:{display:"flex","justify-content":"space-between"}},ua={class:"start-visit"},pa={class:"button-group"},va={class:"action-buttons"},ma={class:"send-button-container"},fa={class:"send-button-container"},ga={class:"send-button-container"},xa={style:{"padding-left":"10px","padding-right":"10px"}},ya={class:"vitalsUnits"},ba={style:{width:"100%",overflow:"scroll",height:"64px"}},_a={key:0,style:{"margin-top":"1px"}},ha={key:0,class:"patient-chart"},ka={class:"patient-chart"},wa={key:1,class:"patient-chart"},Ca={key:1},Da={key:2},Pa={key:3},Aa={key:4},Ia={key:5},za={class:"rght-drpm"},Na=n({__name:"PatientProfile",setup(e,{expose:t}){const n=G(()=>re(()=>a.import("./LabTestsHistory-legacy-CSQ3WxGk.js").then(e=>e.a),void 0,a.meta.url)),u=G(()=>re(()=>a.import("./DiagnosesHistory-legacy-BxTWJeAO.js"),void 0,a.meta.url)),p=G(()=>re(()=>a.import("./AllergiesContraindication-legacy-CgR89XX9.js"),void 0,a.meta.url)),v=G(()=>re(()=>a.import("./VisitsHistory-legacy-BpGPt0qr.js"),void 0,a.meta.url)),g=G(()=>re(()=>a.import("./VitalsMeasurementsSummary-legacy-D74-c7To.js"),void 0,a.meta.url)),x=G(()=>re(()=>a.import("./PatientProfile-legacy-D8xzr034.js"),void 0,a.meta.url)),b=G(()=>re(()=>a.import("./WeightHeightChart-legacy-B1pe_iwG.js"),void 0,a.meta.url)),w=G(()=>re(()=>a.import("./index-legacy-IRc-3MMQ.js").then(e=>e.cc),void 0,a.meta.url)),C=G(()=>re(()=>a.import("./BloodPressure-legacy-CWMSBDLf.js"),void 0,a.meta.url)),A=G(()=>re(()=>a.import("./index-legacy-IRc-3MMQ.js").then(e=>e.cb),void 0,a.meta.url)),I=G(()=>re(()=>a.import("./AncEnrollmentModal-legacy-gqyb-3Vl.js"),void 0,a.meta.url)),z=G(()=>re(()=>a.import("./LabourEnrollmentModal-legacy-Bfu7udvk.js"),void 0,a.meta.url)),R=G(()=>re(()=>a.import("./PNCEnrollmentModal-legacy-vXZy4DW6.js"),void 0,a.meta.url)),H=V(),F=B(),pe=ge(),me=xe(),Ee=ye(),Ue=be(),Le=_e(),Te=Ge(),{event:Ye,popoverOpen:We,openPopover:qe,openPIM:$e,openOutCome:Je,openUpdateNCDNUmbers:Ke,printVisitSummary:Xe,printID:Ze,formatCurrentAddress:Qe}=Fe(),{screenWidth:ea}=he(),{patient:aa}=U(pe),{selectedMedicalAllergiesList:ta}=U(me),{NCDNumber:na}=U(Ee),{activeProgram:Na,authorizedPrograms:ja}=U(Ue),{vitals:Sa}=U(Le),{ConfirmPregnancy:Ma}=U(Te);o(!1),o(!1);const Oa=o(!1),Ra=o(!0),Ea=o(!1),Ha=o(!1),Fa=o(!1),Va=o("Patient Charts");o(!1);const Ba=o(null);o(null),o("+ Enroll in NCD Program"),o("+ Start New OPD consultation");const Ua=o([]);o([]);const La=o({});o([]);const Ta=o(!1),Ya=o(!1),Ga=o(!1),Wa=o(!1),qa=o(!1),$a=o(!1),Ja=o([]),Ka=o(0),Xa=o(),Za=o("");o([]),o();const Qa=o(!1),et=L(()=>{try{var e;const a=null===(e=aa.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender;return"Male"===a||"M"===a?ja.value.filter(e=>"ANC PROGRAM"!==e.name&&"LABOUR AND DELIVERY PROGRAM"!==e.name&&"PNC PROGRAM"!==e.name):ja.value.map(e=>{if("ANC PROGRAM"===e.name||"LABOUR AND DELIVERY PROGRAM"===e.name||"PNC PROGRAM"===e.name){const a=Ja.value.some(a=>a.id===e.program_id);return{...e,actionName:a?`Start ${e.name}`:`Enroll in ${e.name}`}}return e})}catch(a){}});L(()=>ke(Ma.value,"Pregnancy confirmed")),L(()=>ke(Ma.value,"Pregnancy planned"));const at=L(()=>!Ga.value&&14==Na.value.program_id),tt=L(()=>Ga.value&&14==Na.value.program_id),nt=e=>{Va.value=e},ot=()=>[{backgroundColor:"#B9E6FE",status:"",icon:Ae(["#B9E6FE","#026AA2","#9ADBFE"]),textColor:"#026AA2",value:"No further action is required.",name:"",index:"Blood sugar is normal"},{backgroundColor:"#FEDF89",status:"",icon:Ae(["#FEDF89","#B54708","#FED667"]),textColor:"#B54708",value:"Please call or follow up!",name:"",index:"Patient Defaulted"},{backgroundColor:"#FECDCA",status:"",icon:Ae(["#FECDCA","#B42318","#FDA19B"]),textColor:"#B42318",value:"Administer medications!",name:"",index:"Patient is hypertensive"}],it=()=>{Ta.value=!1},lt=()=>{Ya.value=!1},st=()=>{Ta.value=!Ta.value},rt=()=>{Ya.value=!Ya.value},dt=async()=>{try{const e=await Ie(),a=e?e.code:null;if(!a)return void ce("Location ID could not be found. Please check your settings.");await ze.checkInPatient(aa.value.patientID,Pe.todayDateFormatted(),a),await ze.addPatientToStage(aa.value.patientID,Pe.todayDateFormatted(),"VITALS",a),await Ne().refresh(a),st(),Ga.value=!0,je("The patient's visit is now active. Patient is on the waiting list for vitals")}catch(e){ce("An error occurred while attempting to check in the patient. Please try again.")}},ct=async()=>{try{const e=await ze.getCheckInStatus(aa.value.patientID);await ze.checkOutPatient(e[0].id,Pe.todayDateFormatted());const a=await Ie(),t=a?a.code:null;await Ne().refresh(t),Ga.value=!1,rt(),je("The patient's visit is now closed")}catch(e){console.error(e)}},ut=async()=>{if(14==Na.value.program_id)try{const e=await ze.getCheckInStatus(aa.value.patientID);Ga.value=e.length>0}catch(e){console.error(e)}},pt=()=>{st()},vt=()=>{rt()},mt=(e="tasks")=>async function(e,a="tasks"){var t,n;const o=null!==(t={1:fe}[e])&&void 0!==t?t:{};ve(oa,{},!0,{tasks:null!==(n=null==o?void 0:o[a])&&void 0!==n?n:[]})}(Na.value.program_id,e),ft=async e=>{if(!(await ht(),e.program_id!=Se.ANC_PROGRAM&&e.program_id!=Se.PNC_PROGRAM&&e.program_id!=Se.LABOUR_AND_DELIVERY_PROGRAM||Ja.value.find(a=>a.id==e.program_id))){if(e.program_id==Se.ANC_PROGRAM)return Wa.value=!0,void(Ka.value=e.program_id);var a,t;if(e.program_id==Se.LABOUR_AND_DELIVERY_PROGRAM)return qa.value=!0,Za.value=`Are you sure you want to enroll ${null===(a=aa.value)||void 0===a||null===(a=a.personInformation)||void 0===a?void 0:a.given_name.toUpperCase()} in this program?`,void(Ka.value=e.program_id);if(e.program_id==Se.PNC_PROGRAM)return $a.value=!0,Za.value=`Are you sure you want to enroll ${null===(t=aa.value)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.given_name.toUpperCase()} in this program?`,void(Ka.value=e.program_id)}return await we.userProgramData(aa.value.patientID,e),H.push(e.url)},gt=()=>{Wa.value=!1},xt=()=>{Wa.value=!Wa.value},yt=async()=>{const e=de.getUserID(),a=new He(aa.value.patientID,e);if(!(await a.createEncounter()))return Me("Unable to create quick check encounter");const t=await a.saveObservationList(await Ct());return await Oe.enrollProgram(aa.value.patientID,Ka.value,(new Date).toString()),t?(je("Enrollment is successful"),await ht(),xt(),H.push("ANCHome")):Me("Unable to create quick check details!")},bt=async()=>(await Oe.enrollProgram(aa.value.patientID,Ka.value,(new Date).toString()),await ht(),je("Enrollment is successful"),H.push("LabourHome")),_t=async()=>(await Oe.enrollProgram(aa.value.patientID,Ka.value,(new Date).toString()),await ht(),je("Enrollment is successful"),H.push("PNCHome")),ht=async()=>{const e=aa.activePrograms;Ja.value=null==e?void 0:e.map(e=>({name:e.program.name,id:e.program_id}))},kt=()=>{xt()},wt=async()=>{const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","Respiratory rate"].map(async e=>{const a=await Re.getFirstValueNumber(aa.value.patientID,e);return{[e]:a}});Xa.value=(new ue).getBloodGlucose(aa.value);const a=await Promise.all(e);La.value=Object.assign({},...a)},Ct=async()=>[...await Ve(Ma)];return i(async()=>{var e;await we.userProgramData(aa.value.patientID),null!==(e=aa.value)&&void 0!==e&&null!==(e=e.personInformation)&&void 0!==e&&e.birthdate&&(Ra.value=Pe.getAgeInYears(aa.value.personInformation.birthdate)>=14,Ea.value=Pe.ageInMonths(aa.value.personInformation.birthdate)<9,Ha.value=Pe.getAgeInYears(aa.value.personInformation.birthdate)<5,Fa.value=Pe.dateDiffInDays(Pe.sessionDate(),aa.value.personInformation.birthdate)<42);const a=new ue;Ua.value=await ue.getPatientVisits(a.getID(),!1),await ht(),ot(),await wt(),await ut()}),T(()=>aa.value.patientID,async e=>{e&&(await we.userProgramData(e),await ht())},{immediate:!0}),T(()=>aa,async()=>{await we.userProgramData(aa.value.patientID),await wt(),await ut(),await(async()=>{if(14==Na.value.program_id)try{const e=await ze.getCheckInStatus(aa.value.patientID);Ga.value=!!e.length}catch(e){console.error(e)}})()},{deep:!0}),T(F,async e=>{await we.userProgramData(aa.value.patientID)},{deep:!0}),T(()=>aa.value,()=>{(()=>{var e;if(null!==(e=aa.value)&&void 0!==e&&null!==(e=e.personInformation)&&void 0!==e&&e.birthdate){const e=Pe.getAgeInYears(aa.value.personInformation.birthdate);Qa.value=e<9}})()},{immediate:!0,deep:!0}),t({showUnderageWarning:Qa}),(e,a)=>{const t=Y("ion-list"),o=Y("ion-popover");return s(),l(c(D),null,{default:r(()=>[d(Ce),d(c(_),{fullscreen:!0},{default:r(()=>[33!==c(Na).program_id&&""!=c(Na).program_id&&c(ea)<1120?(s(),l(Be,{key:0,onOpenPopover:a[0]||(a[0]=e=>c(qe)(e))})):k("",!0),d(c(A),{closeModalFunc:it,onYes:dt,onNo:pt,isOpen:Ta.value,title:"Are you sure you want to create the visit?"},null,8,["isOpen"]),d(c(A),{closeModalFunc:lt,onYes:ct,onNo:vt,isOpen:Ya.value,title:"Are you sure you want to close the visit?"},null,8,["isOpen"]),d(c(I),{closeModalFunc:gt,onYes:yt,onNo:kt,isOpen:Wa.value,title:Za.value,showUnderageWarning:Qa.value},null,8,["isOpen","title","showUnderageWarning"]),d(c(z),{closeModalFunc:gt,onYes:bt,onNo:kt,isOpen:qa.value,title:Za.value},null,8,["isOpen","title"]),d(c(R),{closeModalFunc:gt,onYes:_t,onNo:kt,isOpen:$a.value,title:Za.value},null,8,["isOpen","title"]),33==c(Na).program_id?(s(),l(c(x),{key:1,updateData:c(aa)},null,8,["updateData"])):k("",!0),33!==c(Na).program_id&&""!=c(Na).program_id?(s(),h("div",ia,[d(c(N),{class:"content_width"},{default:r(()=>[d(c(M),{size:"2.5","size-lg":"2.6","size-md":"3",class:"displayNoneLeftPanel"},{default:r(()=>[d(c(W),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:r(()=>[d(c(q),null,{default:r(()=>{var e,t,n,o;return[P("div",la,[a[22]||(a[22]=P("div",null,null,-1)),P("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:a[1]||(a[1]=e=>c(qe)(e))},[d(c(y),{icon:c($),style:{"font-size":"2.2rem"}},null,8,["icon"])])]),P("div",sa,[P("div",{class:O("M"==(null===(e=c(aa))||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender)?"initialsBox maleColor":"initialsBox femaleColor"),onClick:a[2]||(a[2]=e=>c($e)())},[d(c(y),{style:{color:"#fff","font-size":"70px"},icon:c(J)},null,8,["icon"])],2),P("div",ra,[P("div",da,f(null===(t=c(aa))||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.given_name)+" "+f(null===(n=c(aa))||void 0===n||null===(n=n.personInformation)||void 0===n?void 0:n.middle_name)+" "+f(null===(o=c(aa))||void 0===o||null===(o=o.personInformation)||void 0===o?void 0:o.family_name),1)])]),d(c(N),null,{default:r(()=>[d(c(M),{size:"4"},{default:r(()=>a[23]||(a[23]=[m("MRN:")])),_:1,__:[23]}),d(c(M),{class:"demoContent"},{default:r(()=>[m(f(c(aa).ID),1)]),_:1})]),_:1}),32===c(Na).program_id?(s(),l(c(N),{key:0},{default:r(()=>[d(c(M),{size:"4"},{default:r(()=>a[24]||(a[24]=[m("NCDNumber:")])),_:1,__:[24]}),d(c(M),{class:"demoContent"},{default:r(()=>[m(f(c(aa).NcdID),1)]),_:1})]),_:1})):k("",!0),d(c(N),null,{default:r(()=>[d(c(M),{size:"4"},{default:r(()=>a[25]||(a[25]=[m("Gender:")])),_:1,__:[25]}),d(c(M),{class:"demoContent"},{default:r(()=>{var e,a;return[m(f((a=null===(e=c(aa))||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender,["Male","M"].includes(a)?"Male":["Female","F"].includes(a)?"Female":"")),1)]}),_:1})]),_:1}),d(c(N),null,{default:r(()=>[d(c(M),{size:"4"},{default:r(()=>a[26]||(a[26]=[m("Age:")])),_:1,__:[26]}),d(c(M),{class:"demoContent"},{default:r(()=>{return[m(f(Pe.getBirthdateAge(null===(e=aa.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)),1)];var e}),_:1})]),_:1}),d(c(N),null,{default:r(()=>[d(c(M),{size:"4"},{default:r(()=>a[27]||(a[27]=[m("Address:")])),_:1,__:[27]}),d(c(M),{class:"demoContent"},{default:r(()=>[m(f(c(Qe)(c(aa))),1)]),_:1})]),_:1})]}),_:1})]),_:1}),d(c(W),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:r(()=>[d(c(K),{value:["first"]},{default:r(()=>[d(c(X),{value:"first",style:{"background-color":"#fff"},"toggle-icon-slot":"start"},{default:r(()=>[d(c(Z),{slot:"header",color:"white"},{default:r(()=>[d(c(E),{class:"side_title"},{default:r(()=>a[28]||(a[28]=[m("Alerts & Reminders ")])),_:1,__:[28]})]),_:1}),d(c(q),{slot:"content"},{default:r(()=>[(s(!0),h(j,null,S(ot(),(e,a)=>(s(),h("span",{key:a},[e.value?(s(),l(c(N),{key:0,style:Q("border-radius: 5px;  margin-top:10px; margin-bottom:10px;background-color:"+e.backgroundColor)},null,8,["style"])):k("",!0)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d(c(M),{"size-sm":"12","size-md":"12","size-lg":c(ea)>1120?"9.4":"12"},{default:r(()=>[d(c(W),{style:{"background-color":"#fff","margin-inline":"0px",contain:"unset",overflow:"unset"}},{default:r(()=>[P("div",null,[P("div",ca,[a[29]||(a[29]=P("div",{class:"vitalsTitle"},"Most recent Vitals & Biometrics",-1)),P("div",ua,[P("div",pa,[P("div",va,[at.value?(s(),l(De,{key:0,name:"Activate visit",onClick:a[3]||(a[3]=e=>st()),fill:"clear",iconSlot:"start",icon:c(ee),class:"action-button"},null,8,["icon"])):k("",!0),tt.value?(s(),l(De,{key:1,name:"Deactivate visit",onClick:a[4]||(a[4]=e=>rt()),fill:"clear",iconSlot:"start",icon:c(ee),class:"action-button danger"},null,8,["icon"])):k("",!0)]),P("div",ma,[P("button",{class:"send-text",onClick:a[5]||(a[5]=e=>mt())},"Tasks")]),P("div",fa,[P("button",{class:"send-text",onClick:a[6]||(a[6]=e=>mt("other"))},"Printout/Other")]),P("div",ga,[P("button",{class:"send-text",onClick:a[7]||(a[7]=e=>ft(c(Na)))},"Start visit"),P("button",{class:"send-arrow",onClick:a[8]||(a[8]=e=>{return a=e,Ba.value=a,void(Oa.value=!Oa.value);var a})})])])])])]),P("div",xa,[d(c(N),null,{default:r(()=>[d(c(M),{class:"vitalsHeading"},{default:r(()=>a[30]||(a[30]=[m("Weight")])),_:1,__:[30]}),d(c(M),{class:"vitalsHeading"},{default:r(()=>a[31]||(a[31]=[m("Height")])),_:1,__:[31]}),d(c(M),{class:"vitalsHeading"},{default:r(()=>a[32]||(a[32]=[m("Temperature")])),_:1,__:[32]}),d(c(M),{class:"vitalsHeading"},{default:r(()=>a[33]||(a[33]=[m("Blood glucose")])),_:1,__:[33]}),d(c(M),{class:"vitalsHeading"},{default:r(()=>a[34]||(a[34]=[m("Pulse Rate")])),_:1,__:[34]}),d(c(M),{class:"vitalsHeading"},{default:r(()=>a[35]||(a[35]=[m("Blood pressure")])),_:1,__:[35]})]),_:1}),d(c(N),null,{default:r(()=>[d(c(M),{class:"vitalsValue"},{default:r(()=>[m(f(La.value.Weight)+" ",1),a[36]||(a[36]=P("span",{class:"vitalsUnits"},"kg",-1))]),_:1,__:[36]}),d(c(M),{class:"vitalsValue"},{default:r(()=>[m(f(La.value["Height (cm)"])+" ",1),a[37]||(a[37]=P("span",{class:"vitalsUnits"},"cm",-1))]),_:1,__:[37]}),d(c(M),{class:"vitalsValue"},{default:r(()=>[m(f(La.value.Temperature)+" ",1),a[38]||(a[38]=P("span",{class:"vitalsUnits"},"°C",-1))]),_:1,__:[38]}),d(c(M),{class:"vitalsValue"},{default:r(()=>{var e,a;return[m(f(null===(e=Xa.value)||void 0===e?void 0:e.value)+" ",1),P("span",ya,f(null===(a=Xa.value)||void 0===a?void 0:a.unit),1)]}),_:1}),d(c(M),{class:"vitalsValue"},{default:r(()=>[m(f(La.value.Pulse)+" ",1),a[39]||(a[39]=P("span",{class:"vitalsUnits"},"bpm ",-1))]),_:1,__:[39]}),d(c(M),{class:"vitalsValue"},{default:r(()=>[m(f(La.value.Systolic)+"/"+f(La.value.Diastolic),1),a[40]||(a[40]=P("span",{class:"vitalsUnits"},"mmhg",-1))]),_:1,__:[40]})]),_:1})])]),_:1}),P("div",ba,[d(c(ae),{value:Va.value,style:{"margin-top":"5px","min-width":"540px"}},{default:r(()=>[d(c(te),{value:"Patient Charts",onClick:a[9]||(a[9]=e=>nt("Patient Charts"))},{default:r(()=>[d(c(E),null,{default:r(()=>a[41]||(a[41]=[m("Patient Charts")])),_:1,__:[41]})]),_:1}),d(c(te),{value:"Visits History",onClick:a[10]||(a[10]=e=>nt("Visits History"))},{default:r(()=>[d(c(E),null,{default:r(()=>a[42]||(a[42]=[m("Visits History")])),_:1,__:[42]})]),_:1}),d(c(te),{value:"Vitals & Measurements Summary",onClick:a[11]||(a[11]=e=>nt("Vitals & Measurements Summary"))},{default:r(()=>[d(c(E),null,{default:r(()=>a[43]||(a[43]=[m("Vitals & Measurements Summary")])),_:1,__:[43]})]),_:1}),d(c(te),{value:"Lab Tests History",onClick:a[12]||(a[12]=e=>nt("Lab Tests History"))},{default:r(()=>[d(c(E),null,{default:r(()=>a[44]||(a[44]=[m("Lab Tests History")])),_:1,__:[44]})]),_:1}),d(c(te),{value:"Diagnosis History",onClick:a[13]||(a[13]=e=>nt("Diagnosis History"))},{default:r(()=>[d(c(E),null,{default:r(()=>a[45]||(a[45]=[m("Diagnosis History")])),_:1,__:[45]})]),_:1}),d(c(te),{value:"Allergies & Contraindication",onClick:a[14]||(a[14]=e=>nt("Allergies & Contraindication"))},{default:r(()=>[d(c(E),null,{default:r(()=>a[46]||(a[46]=[m("Allergies & Contraindication")])),_:1,__:[46]})]),_:1})]),_:1},8,["value"])]),"Patient Charts"==Va.value?(s(),h("div",_a,[P("div",{style:Q(c(ea)>826?"display: flex;":"display: block;")},[Ha.value?(s(),h("div",ha,[d(c(b))])):k("",!0),P("div",ka,[d(c(C))]),Ha.value?k("",!0):(s(),h("div",wa,[d(c(w))]))],4)])):k("",!0),"Visits History"==Va.value?(s(),h("div",Ca,[d(c(v))])):k("",!0),"Vitals & Measurements Summary"==Va.value?(s(),h("div",Da,[d(c(g))])):k("",!0),"Lab Tests History"==Va.value?(s(),h("div",Pa,[d(c(n))])):k("",!0),"Diagnosis History"==Va.value?(s(),h("div",Aa,[d(c(u))])):k("",!0),"Allergies & Contraindication"==Va.value?(s(),h("div",Ia,[d(c(p))])):k("",!0)]),_:1},8,["size-lg"])]),_:1})])):k("",!0)]),_:1}),d(o,{style:{"--offset-x":"-10px"},"is-open":c(We),"show-backdrop":!1,"dismiss-on-select":!0,event:c(Ye),onDidDismiss:a[20]||(a[20]=e=>We.value=!1)},{default:r(()=>[P("div",null,[d(t,{style:{"--ion-background-color":"#fff","--offset-x":"-30px"}},{default:r(()=>[d(c(Z),{button:!0,detail:!1,onClick:a[15]||(a[15]=e=>c($e)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(y),{icon:c(ne),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),a[47]||(a[47]=P("span",{class:"sub-menu-txt"},"Update demographics",-1))]),_:1,__:[47]}),d(c(Z),{button:!0,detail:!1,onClick:a[16]||(a[16]=e=>c(Je)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(y),{icon:c(oe),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),a[48]||(a[48]=P("span",{class:"sub-menu-txt"},"Update outcome",-1))]),_:1,__:[48]}),32==c(de).getProgramID()?(s(),l(c(Z),{key:0,button:!0,detail:!1,onClick:a[17]||(a[17]=e=>c(Ke)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(y),{icon:c(ie),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),a[49]||(a[49]=P("span",{class:"sub-menu-txt"},"Update NCD Number",-1))]),_:1,__:[49]})):k("",!0),d(c(Z),{button:!0,detail:!1,onClick:a[18]||(a[18]=e=>c(Xe)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(y),{icon:c(le),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),a[50]||(a[50]=P("span",{class:"sub-menu-txt"},"Print visit summary",-1))]),_:1,__:[50]}),d(c(Z),{button:!0,detail:!1,onClick:a[19]||(a[19]=e=>c(Ze)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(y),{icon:c(le),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),a[51]||(a[51]=P("span",{class:"sub-menu-txt"},"Print client identifier",-1))]),_:1,__:[51]})]),_:1})])]),_:1},8,["is-open","event"]),d(o,{"is-open":Oa.value,"show-backdrop":!1,"dismiss-on-select":!0,event:Ba.value,onDidDismiss:a[21]||(a[21]=e=>Oa.value=!1),style:{"--width":"350px"}},{default:r(()=>[d(c(_),null,{default:r(()=>[d(t,null,{default:r(()=>[(s(!0),h(j,null,S(et.value,(e,a)=>(s(),l(c(Z),{button:!0,detail:!1,style:{cursor:"pointer"},key:a,onClick:a=>ft(e)},{default:r(()=>[d(c(y),{slot:"start",icon:c(se)},null,8,["icon"]),P("span",za,f(null==e?void 0:e.actionName),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["is-open","event"])]),_:1})}}}),ja=me(Na,[["__scopeId","data-v-4265236a"]]),Sa=Object.freeze(Object.defineProperty({__proto__:null,default:ja},Symbol.toStringTag,{value:"Module"}));e("P",Sa)}}});
