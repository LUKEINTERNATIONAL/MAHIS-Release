import{bV as c,bT as m,bR as i,bS as u,ay as s,ax as f}from"./index-DCWnu0_u.js";import{V as b}from"./viral_load_report_service-EbCM2jbX.js";import{d as g,r,N as h,f as _}from"./vendor-DCnJ0kVy.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-CF_BFQqr.js";import"./age_groups-BkW1n_F5.js";import"./regimens-Dknk55PA.js";const S=g({__name:"ClinicVlCollection",setup(v){const o=r(""),e=new b,t=r(!1),l=r([]),p=[t.value?{label:"Filing#",path:"identifier"}:{label:"ARV#",path:"identifier",preSort:c,initialSort:!0},{label:"First name",path:"given_name",exportable:!1},{label:"Last name",path:"family_name",exportable:!1},{label:"Gender",path:"gender",formatter:m},{label:"DOB",path:"birthdate",formatter:i},{label:"Date of VL Order",path:"order_date",formatter:i}];async function d(a){await s.show(),e.setStartDate(a.dateRange.startDate),e.setEndDate(a.dateRange.endDate),e.setOccupation(a.occupation),o.value=e.getDateIntervalPeriod();try{l.value=await e.getVlCollection(),t.value=a.filingNumberEnabled}catch(n){f("Unable to load report data"),console.error(n)}await s.hide()}return(a,n)=>(_(),h(u,{"report-prefix":"Clinic",title:"VL Collection","default-sort-order":"asc","default-sorted-column":"identifier",columns:p,period:o.value,rows:l.value,"filing-number-enabled":t.value,"use-date-range-filter":"","use-secure-export":"",onGenerate:d},null,8,["period","rows","filing-number-enabled"]))}});export{S as default};
