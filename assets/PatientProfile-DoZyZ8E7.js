const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LabTestsHistory-wKAwfu6_.js","./vendor-BzS-GRGX.js","./lodash-Dt8AsbQm.js","./vendor-DbFgDcHS.css","./index-TGgrguwo.js","./index-D6REMbYN.css","./lab_order-NrQAVix-.js","./BasicForm-D1bDQLWE.js","./DateInputField-Dk6pJa3t.js","./DateInputField-BYUMEomf.css","./BasicForm-DLYO1R_3.css","./DashBox-CGjCuPOh.js","./SvgDynamicColor-CKO9UwFV.js","./SvgDynamicColor-B6V07T2v.css","./group_validation-BR-lnozB.js","./Outcome-D9fRV7Q5.js","./app_encounter_service-1D5RNuZY.js","./SelectFacility-BV6O3A7t.js","./SelectFacility-DSRLpBbj.css","./Outcome-DzI2d280.css","./lab_order-CiOWJpkg.css","./patient_lab_service-BfByiNeD.js","./LabTestsHistory-Bv6PRJJZ.css","./DiagnosesHistory-C_aZU2lK.js","./previousDiagnosis-DKQR1IJI.js","./previousDiagnosis-BDQ84dq0.css","./DiagnosesHistory-D-RA57sf.css","./AllergiesContraindication-dv_JCHBZ.js","./UpcomingFeature-Bvn9ojTK.js","./UpcomingFeature-DBJv9ELz.css","./AllergiesContraindication-DSdMoqwN.css","./VisitsHistory-BoyYY4H2.js","./ARTConsultation-CWPmCftL.js","./prescription_service-CnvIlSpr.js","./BasicYesNoSelect-BKFG_D_s.js","./BasicYesNoSelect-DGYtztsf.css","./BasicRadioSelect-DByUV3Lx.js","./BasicRadioSelect-DPSSyycU.css","./Arrays-CfBll-2n.js","./patient_type_service-Ce6rxhGj.js","./apexcharts-C_xTRKVr.js","./ARTConsultation-DOKtDOLI.css","./VisitsHistory-D_NLbMOz.css","./VitalsMeasurementsSummary-BNcOGl9H.js","./VitalsMeasurementsSummary-DXkTttBJ.css","./PatientProfile-SCbATouk.js","./DemographicBar-DB-sZp69.js","./DemographicBar-CasBJ2RP.css","./SaveProgressModal-QbFr6zQH.js","./SaveProgressModal-DLXC0SP6.css","./Stepper-BODpR4NH.js","./patient_complaints_service-BUXSMcg_.js","./StandardForm.vue_vue_type_script_setup_true_lang-Ci0rxMn0.js","./StandardForm-BNcR9uev.css","./useExposeFromStandardForm-A_pabvEL.js","./NextAppointment-BQXxObMi.js","./formatServerData-D-j-MK35.js","./drug_prescription_service-FUoKWuPH.js","./drug_service-CM40nAlw.js","./appointment_service-B7NjCYmj.js","./clinicalDaysStore-Ca2J5cRy.js","./ncd_appointment_service-P9JEcsdW.js","./ncd_appointment_service-CLPwwedX.css","./NextAppointment-CDXsHEfG.css","./previousVitals-xflsCnCt.js","./previousVitals-BGyZoFyl.css","./FeatusModal-TMtKyehf.js","./FeatusModal-N0BJZpLu.css","./PastObstreticHistoryStore-BA3iimgf.js","./vitals_service-D9OoNF_j.js","./Stepper-B05G7JEn.css","./WeightHeightChart-fx2jZloE.js","./chartjs-Dmv9s1B0.js","./WeightHeightChart-BsHx4np1.css","./customDatePicker.vue_vue_type_style_index_0_lang-BfW0K90s.js","./customDatePicker-DtlAxo2Q.css","./vaccines_service-DZwrlLWa.js","./sms_service-Dj8-Xq0b.js","./EIRreportsStore-Cr6DfNx4.js","./Export-D7Q3vXJj.js","./vaccines_service-hTg9m7NE.css","./barcode-qrcode-reader-2t8x-LKr.js","./stock_service-bhvexC_p.js","./SetRelationship.vue_vue_type_script_lang-YQwhcUZv.js","./relations_service-BY3rtYb7.js","./patient_registration_service-BiwtrJOO.js","./relationship_service-BYB0SxIY.js","./AdministerOtherVaccinesStore-myMDl10h.js","./usePatientProfile-BOp2dHIo.js","./Registration-BLVRHeh6.js","./useLocation-jmj4JAkN.js","./Registration-ChgOZqkc.css","./index-CAuEhCSj.js","./index-DEFQwBeD.css","./usePatientProfile-j9SjgVPM.css","./confirm_pregnancy_service-CweEJmUe.js","./Reception-D8nNIDaz.js","./identifier_service-BacoQ5di.js","./Reception-C-kfxzen.css","./Vitals.vue_vue_type_script_setup_true_lang-hLVWw94x.js","./useVitals-D7196IQa.js","./encounter_type-DKqnJe-w.js","./Staging-F9yEJ1kj.js","./Staging-T6Jlb5dR.css","./ARTAdherence-DqiwjXik.js","./adherence_service-BpVO49c1.js","./ARTAdherence-B8uvff9k.css","./Prescription-BRwmlyp2.js","./Prescription-eAcim8VQ.css","./ARTAppointment-BZ_-_IhL.js","./ARTAppointment-BIwX_dyU.css","./ARTPatientType-_BhJl3cS.js","./ARTPatientType-DokMITEU.css","./EmergencyRefill--WvUl-eC.js","./LocationFieldOptions-B_ZZvrKY.js","./EmergencyRefill-C5p0BOKy.css","./ArtDispensation.vue_vue_type_script_setup_true_lang-s-graVDG.js","./ArtClinicRegistration-7_mknElu.js","./ArtClinicRegistration--KIJsfKm.css","./PatientProfile-D4rrQUSM.css","./BloodPressure-WhwT0uNV.js","./BloodPressure-SJ33o6fB.css","./AncEnrollmentModal-BsiwdWOV.js","./AncEnrollmentModal-CwwpjVN2.css","./LabourEnrollmentModal-BkBns2Af.js","./LabourEnrollmentModal-CAuOWOSv.css","./PNCEnrollmentModal-CMP3JX3O.js","./PNCEnrollmentModal-DMTlAqcf.css"])))=>i.map(i=>d[i]);
var Ca=Object.defineProperty;var Pa=(f,g,o)=>g in f?Ca(f,g,{enumerable:!0,configurable:!0,writable:!0,value:o}):f[g]=o;var re=(f,g,o)=>Pa(f,typeof g!="symbol"?g+"":g,o);import{R as Sa,d as Oe,r as b,y as P,f as u,z as a,l as t,u as e,S as Lt,U as tt,T as Ut,A as d,B as I,aU as wa,W as de,I as U,b1 as Aa,a9 as Me,e as O,m as A,cs as Oa,V as Ea,af as st,c as te,O as Z,a as ot,k as s,J as xe,G as z,D as M,b0 as oe,aZ as ce,d0 as ie,bh as $e,aa as x,ab as k,ct as Le,F as j,L as J,cu as Ue,d1 as Ra,bK as Va,M as lt,d2 as Ht,aI as Ta,d3 as Bt,d4 as Na,aS as Ft,bJ as Ma,a3 as wt,d5 as xa,d6 as $a,aL as at,d7 as La,d8 as Ua,aJ as rt,az as He,d9 as Ha,cW as Be,aE as Ba,da as Fa,c7 as zt,db as Te,dc as za,a8 as Ya,p as Yt,dd as At,X as Ga,au as Wa,bQ as qa,b2 as ye,w as Ne,E as Ot,bS as Y,de as ja,cb as Ja,$ as Et,df as Rt,dg as Ka,dh as Ie,ap as Xa,bd as Za,an as G}from"./vendor-BzS-GRGX.js";import{l as ue,W as L,X as Qa,u as Gt,Y as Wt,H as F,t as Fe,_ as ze,P as ae,j as De,S as nt,Z as en,$ as Vt,f as qt,s as tn,a0 as an,d as nn,o as sn,a1 as on,c as ln,a2 as Tt,a3 as Ae,T as rn,D as Nt,g as Mt,h as be,k as xt,p as he,a4 as un}from"./index-TGgrguwo.js";import{l as ne}from"./lodash-Dt8AsbQm.js";import{C as dn}from"./confirm_pregnancy_service-CweEJmUe.js";import{u as cn}from"./usePatientProfile-BOp2dHIo.js";import{i as et}from"./SvgDynamicColor-CKO9UwFV.js";import{f as mn}from"./formatServerData-D-j-MK35.js";import{D as pn}from"./DemographicBar-DB-sZp69.js";import fn from"./Reception-D8nNIDaz.js";import{_ as vn}from"./Vitals.vue_vue_type_script_setup_true_lang-hLVWw94x.js";import _n from"./Staging-F9yEJ1kj.js";import gn from"./ARTAdherence-DqiwjXik.js";import yn from"./Prescription-BRwmlyp2.js";import In from"./ARTAppointment-BZ_-_IhL.js";import jt from"./ARTPatientType-_BhJl3cS.js";import bn from"./EmergencyRefill--WvUl-eC.js";import{_ as hn}from"./ArtDispensation.vue_vue_type_script_setup_true_lang-s-graVDG.js";import Dn from"./ArtClinicRegistration-7_mknElu.js";import{A as kn}from"./app_encounter_service-1D5RNuZY.js";import{p as Cn,A as Pn,a as Sn}from"./ARTConsultation-CWPmCftL.js";import{S as wn}from"./SelectFacility-BV6O3A7t.js";import{L as An}from"./Outcome-D9fRV7Q5.js";import{p as On,a as En,b as Rn}from"./index-CAuEhCSj.js";const $t=[{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Is the pregnancy confirmed?*",class:"bold",selectedValue:"",name:"Pregnancy confirmed"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Was the pregnancy planned?*",selectedValue:"",class:"bold",name:"Pregnancy planned"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}}],Vn=Sa("ANCEnrollmentStore",{state:()=>({ConfirmPregnancy:[...$t]}),actions:{setConfirmPregnancy(f){this.ConfirmPregnancy=f},getInitial(){return[...ne.cloneDeep($t)]}}}),Tn={key:0,class:"ion-padding"},Nn=Oe({__name:"ArtFormWrapper",props:{title:{type:String,required:!0},useComponent:{required:!0},onClose:{required:!1}},setup(f){const g=f,o=b(null);function c(){typeof g.onClose=="function"&&g.onClose()}function S(){o.value&&typeof o.value.onSubmit=="function"?o.value.onSubmit().then(w=>w&&c()).catch(w=>{ue("An error has occured while saving form"),console.error(w)}):c()}return(w,h)=>(u(),P(e(st),null,{default:a(()=>[t(e(Lt),null,{default:a(()=>[t(e(tt),null,{default:a(()=>[t(e(Ut),null,{default:a(()=>[d(I(f.title),1)]),_:1}),t(e(wa),{slot:"end"},{default:a(()=>[t(e(de),{onClick:c},{default:a(()=>[t(e(U),{size:"large",icon:e(Aa)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),t(e(Me),null,{default:a(()=>[f.useComponent?(u(),O("div",Tn,[(u(),P(Oa(f.useComponent),{ref_key:"formComponent",ref:o},null,512))])):A("",!0)]),_:1}),t(e(Ea),null,{default:a(()=>[t(e(tt),null,{default:a(()=>[t(e(de),{color:"success",onClick:S,slot:"end"},{default:a(()=>h[0]||(h[0]=[d("Finish")])),_:1,__:[0]})]),_:1})]),_:1})]),_:1}))}});class Mn extends L{constructor(o){super();re(this,"patientId");re(this,"programId");re(this,"stateId");re(this,"patientProgramId");re(this,"programDate");re(this,"stateDate");this.patientId=o,this.patientProgramId=-1,this.programId=L.getProgramID(),this.stateId=-1,this.programDate=L.getSessionDate(),this.stateDate=""}getProgramId(){return this.programId}getStateDate(){return this.stateDate}getProgramDate(){return this.programDate}getPatientProgramId(){return this.patientProgramId}getPrograms(){return L.getPatientPrograms(this.patientId)}async getProgram(){const o={patientID:-1,programID:-1,program:"N/A",outcome:"N/A",startDate:"",endDate:""},c=await this.getPrograms();if(ne.isEmpty(c))return o;const S=c.filter(w=>w.program.program_id===L.getProgramID()).map(w=>{const h=w.patient_states;let l="",R="",B="N/A";if(!ne.isEmpty(h)){const K=h.length-1;l=h[K].start_date,R=h[K].end_date,B=h[K].name}return{patientID:w.patient_id,programID:w.program_id,program:w.program.name,outcome:B,startDate:l,endDate:R}});return ne.isEmpty(S)?o:S[0]}getProgramStates(){return L.getPatientStates(this.patientId,this.programId)}getProgramCurrentStates(){return L.getPatientCurrentStates(this.patientId,this.programId)}voidProgram(o){return L.voidProgram(this.patientProgramId,o)}voidState(o){return L.voidState(this.patientId,this.programId,this.stateId,o)}enrollProgram(){return L.enrollProgram(this.patientId,this.programId,this.programDate)}printTransferout(o){return new Qa().printLbl("/programs/".concat(this.programId,"/patients/").concat(this.patientId,"/labels/transfer_out?date=").concat(o))}async transferOutEncounter(o,c=""){const S=new kn(this.patientId,119);if(S.setDate(this.stateDate),!await S.createEncounter())throw"Unable to transfer out encounter";return c&&await S.saveValueTextObs("Reason for transfer out",c),S.saveValueTextObs("Transfer to",o.name)}updateState(){return L.createState(this.patientId,this.programId,{state:this.stateId,date:this.stateDate})}setProgramDate(o){this.programDate=o}setStateDate(o){this.stateDate=o}setPatientProgramId(o){this.patientProgramId=o}setProgramId(o){this.programId=o}setStateId(o){this.stateId=o}}const xn={class:"ion-padding"},$n={slot:"content"},Ln={class:"ion-padding"},Un={slot:"content"},Hn={key:0,class:"ion-text-center ion-padding"},Bn={key:1,class:"table-container"},Fn={class:"outcomes-table"},zn=Oe({__name:"ArtOutcome",setup(f){const g=b(""),o=Gt(),c=te(()=>o.patient.patientID),S=new Mn(c.value);S.setProgramId(1);const w=b(!1),h=b(""),l=b({isEnrolled:!1,programState:"",startDate:"",reason:"",otherReason:"",transfer_location:{},programEnrollmentDate:"",activeState:""}),R=b([]),B=b([]),K=["Workplace transfer/lost job-related reasons","Relocation to another place/home village","Transport due to long distance","School","Business","Marriage","Unknown","Clinic not helping","Other"],me=te(()=>ne.isPlainObject(l.value.startDate)?l.value.startDate:{day:Z(l.value.startDate).day(),month:Z(l.value.startDate).month()+1,year:Z(l.value.startDate).year(),formattedDate:Z(l.value.startDate).format("DD/MMM/YYYY"),standardDate:Z(l.value.startDate).format("YYYY-MM-DD")}),r=te(()=>B.value.filter(N=>N.label!==l.value.activeState)),v=()=>(R.value=[],S.getPrograms().then(N=>{N.forEach(m=>{m.program_id===1&&(l.value.isEnrolled=!0,g.value="outcome-history",l.value.programEnrollmentDate=F.toStandardHisFormat(m.date_enrolled),m.patient_states.length===0&&(g.value="change-outcome"),m.patient_states.forEach(p=>{R.value.push({id:p.patient_state_id,stateName:p.name,startDate:p.start_date?F.toStandardHisDisplayFormat(p.start_date):"N/A",endDate:p.end_date?F.toStandardHisDisplayFormat(p.end_date):"N/A",_raw:p}),p.end_date||(l.value.activeState=p.name,g.value="outcome-history")}))})})),E=()=>{if(h.value="",!l.value.programState)return h.value="Program state is required",!1;if(l.value.programState==="Patient transferred out"){if(!l.value.reason)return h.value="Reason is required",!1;if(l.value.reason==="Other"&&!l.value.otherReason)return h.value="Other reason is required",!1;if(ne.isEmpty(l.value.transfer_location))return h.value="Transfer location is required",!1}return l.value.startDate?l.value.programEnrollmentDate&&new Date(l.value.startDate)<new Date(l.value.programEnrollmentDate)?(h.value="Start date cannot be before program enrollment date",!1):!0:(h.value="Start date is required",!1)},_=async()=>{var N,m;h.value="";try{const p=await L.getProgramWorkflows(1);B.value=((m=(N=p==null?void 0:p[0])==null?void 0:N.states)!=null?m:[]).map(pe=>({value:pe.program_workflow_state_id,label:pe.name}))}catch(p){console.error("Error loading program data:",p),h.value="Failed to load program data"}},V=()=>v().then(_),Q=N=>S.printTransferout(N),C=N=>Cn(async m=>{S.setStateId(N),await S.voidState(m),R.value=R.value.filter(p=>p.id!==N),await V()}),H=async()=>{if(h.value="",!E()){Fe("An error has occured!");return}w.value=!0;try{await S.enrollProgram()}catch(N){console.log(N),console.log("probably already enrolled role!")}try{const N=B.value.find(m=>m.label===l.value.programState).value;S.setStateId(N),S.setStateDate(l.value.startDate.standardDate),await S.updateState(),l.value.programState==="Patient transferred out"&&await S.transferOutEncounter(l.value.transfer_location,l.value.otherReason||l.value.reason),g.value="outcome-history",await V(),w.value=!1}catch(N){console.error("Error saving outcome:",N),h.value="Failed to save outcome. Please try again.",Fe("Failed to save outcome")}finally{w.value=!1}};return ot(()=>V()),(N,m)=>(u(),O("div",xn,[t(e(lt),{value:g.value},{default:a(()=>[t(e(xe),{value:"change-outcome"},{default:a(()=>[t(e(z),{slot:"header"},{default:a(()=>[t(e(M),{style:{"font-weight":"bold","font-size":"1.2em"}},{default:a(()=>m[7]||(m[7]=[d("Change outcome")])),_:1,__:[7]})]),_:1}),s("div",$n,[t(e(oe),null,{default:a(()=>[t(e(ce),null,{default:a(()=>[h.value?(u(),P(e(ie),{key:0,style:{color:"red","font-weight":"bold","font-style":"italic"},color:"danger",class:"ion-margin-bottom"},{default:a(()=>[d(" Error: "+I(h.value),1)]),_:1})):A("",!0),t(e($e),null,{default:a(()=>[t(e(x),null,{default:a(()=>[t(e(k),null,{default:a(()=>[t(e(z),null,{default:a(()=>[t(e(M),{position:"stacked"},{default:a(()=>m[8]||(m[8]=[d("Program State *")])),_:1,__:[8]}),t(e(Le),{onIonChange:m[0]||(m[0]=()=>E),modelValue:l.value.programState,"onUpdate:modelValue":m[1]||(m[1]=p=>l.value.programState=p),placeholder:"Select program state",interface:"popover",disabled:w.value},{default:a(()=>[(u(!0),O(j,null,J(r.value,p=>(u(),P(e(Ue),{key:p.value,value:p.label},{default:a(()=>[d(I(p.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),l.value.programState?(u(),P(e(x),{key:0},{default:a(()=>[t(e(k),{size:"12"},{default:a(()=>[t(e(M),{position:"stacked"},{default:a(()=>m[9]||(m[9]=[d("Start Date")])),_:1,__:[9]}),t(Wt,{place_holder:"Start date",date_prop:me.value,onDateUpDated:m[2]||(m[2]=p=>{l.value.startDate=p,E()})},null,8,["date_prop"])]),_:1})]),_:1})):A("",!0),l.value.programState==="Patient transferred out"?(u(),P(e(x),{key:1},{default:a(()=>[t(e(k),{size:"12"},{default:a(()=>[t(e(z),null,{default:a(()=>[t(e(M),{position:"stacked"},{default:a(()=>m[10]||(m[10]=[d("Reason (Optional)")])),_:1,__:[10]}),t(e(Le),{modelValue:l.value.reason,"onUpdate:modelValue":m[3]||(m[3]=p=>l.value.reason=p),placeholder:"Select reason for transferout",interface:"popover",onIonChange:m[4]||(m[4]=p=>{l.value.otherReason="",E()}),disabled:w.value},{default:a(()=>[(u(),O(j,null,J(K,p=>t(e(Ue),{key:p,value:p},{default:a(()=>[d(I(p),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),l.value.reason==="Other"?(u(),P(e(k),{key:0,size:"12"},{default:a(()=>[t(e(z),null,{default:a(()=>[t(e(M),{position:"stacked"},{default:a(()=>m[11]||(m[11]=[d("Reason (Optional)")])),_:1,__:[11]}),t(e(Ra),{onIonChange:E,modelValue:l.value.otherReason,"onUpdate:modelValue":m[5]||(m[5]=p=>l.value.otherReason=p),placeholder:"Enter reason for state change",disabled:w.value,rows:3},null,8,["modelValue","disabled"])]),_:1})]),_:1})):A("",!0),t(e(k),{size:"12"},{default:a(()=>[t(wn,{show_error:!1,selected_district_ids:[],selected_location:l.value.transfer_location,onFacilitySelected:m[6]||(m[6]=p=>{l.value.transfer_location=p.selected_location})},null,8,["selected_location"])]),_:1})]),_:1})):A("",!0)]),_:1}),s("div",Ln,[t(e(de),{onClick:H,disabled:w.value,color:"primary"},{default:a(()=>[w.value?(u(),P(e(Va),{key:0,name:"crescent",slot:"start"})):A("",!0),d(" "+I(w.value?"Saving...":"Save Outcome"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})])]),_:1}),t(e(xe),{value:"outcome-history"},{default:a(()=>[t(e(z),{slot:"header"},{default:a(()=>[t(e(M),{style:{"font-weight":"bold","font-size":"1.2em"}},{default:a(()=>m[12]||(m[12]=[d("Outcome history")])),_:1,__:[12]})]),_:1}),s("div",Un,[t(e(oe),{class:"ion-padding"},{default:a(()=>[t(e(ce),null,{default:a(()=>[R.value.length===0?(u(),O("div",Hn,[t(e(ie),null,{default:a(()=>m[13]||(m[13]=[d("No previous outcomes found")])),_:1,__:[13]})])):(u(),O("div",Bn,[s("table",Fn,[m[16]||(m[16]=s("thead",null,[s("tr",null,[s("th",null,"State"),s("th",null,"Start Date"),s("th",null,"End Date"),s("th",null,"Actions")])],-1)),s("tbody",null,[(u(!0),O(j,null,J(R.value,p=>(u(),O("tr",{key:p.id},[s("td",null,I(p.stateName),1),s("td",null,I(p.startDate),1),s("td",null,I(p.endDate),1),s("td",null,[t(e(de),{slot:"start",onClick:pe=>C(p.id),color:"danger"},{default:a(()=>m[14]||(m[14]=[d("Void")])),_:2,__:[14]},1032,["onClick"]),p.stateName==="Patient transferred out"?(u(),P(e(de),{key:0,style:{padding:"10px"},onClick:pe=>Q(p._raw.start_date)},{default:a(()=>m[15]||(m[15]=[d(" Print ")])),_:2,__:[15]},1032,["onClick"])):A("",!0)])]))),128))])])]))]),_:1})]),_:1})])]),_:1})]),_:1},8,["value"]),m[17]||(m[17]=s("p",null,null,-1))]))}}),Yn=ze(zn,[["__scopeId","data-v-af6478e6"]]),Gn={class:"ion-text-center",style:{"margin-top":"8%"}},Wn={key:2},qn={style:{padding:"2px"}},jn={slot:"content",style:{"margin-bottom":"125px"}},Jn={class:"ion-padding"},Kn={style:{"font-weight":"bold"}},Xn=Oe({__name:"LabResults",setup(f){const g=b(!1),o=b([]),c=b({}),S=new ae,w=new An(S.getID(),-1,""),h=["=","<",">"],l={result:{buildResult:r=>({indicator:{concept_id:r.concept_id},value:r.input.result,value_modifier:r.input.result_modifier?r.input.result_modifier:"=",value_type:r.input.isNumericTest?"numeric":"text"}),validation:r=>{if(r.error.text_result="",r.error.numeric_result="",r.input.isNumericTest){if(!r.input.result){r.error.numeric_result="Result is required";return}if(isNaN(r.input.result)){r.error.numeric_result="Result must be a number";return}}else if(!r.input.result){r.error.text_result="Result is required";return}}},result_date:{formatDate:r=>F.toStandardHisFormat(r),validation:r=>{var E;if(c.value[r].error.result_date="",!c.value[r].result_date){c.value[r].error.result_date="Result date is required";return}const v=(E=o.value.find(_=>_.id===r))==null?void 0:E.order_date;if(v&&Z(c.value[r].result_date).isBefore(Z(v))){const _=l.result_date.formatDate(v);c.value[r].error.result_date="Result date cannot be before order date ".concat(_);return}if(Z(c.value[r].result_date).isAfter(Z(ae.getSessionDate()))){c.value[r].error.result_date="Result date cannot be in the future";return}}},result_modifier:{validation:r=>{if(r.error.result_modifier="",r.input.isNumericTest&&!r.input.result_modifier){r.error.result_modifier="Result modifier is required";return}}},result_indicators:{validation:(r,v)=>{if(c.value[r].error.result_indicators="",c.value[r].tests[v].selectedIndicators.length===0){c.value[r].error.result_indicators="Please select at least one result indicator";return}},load:async r=>{var v,E,_,V;g.value=!0;try{if(!r.concept_id)return;const Q=(V=(_=(E=(v=c.value)==null?void 0:v[r.order.id])==null?void 0:E.tests)==null?void 0:_[r.id])==null?void 0:V.allIndicators;if(!ne.isEmpty(Q))return;c.value[r.order.id].tests[r.id].allIndicators=(await w.getTestIndicators(r.concept_id)).map(C=>({...C,input:{result:"",result_modifier:"",isNumericTest:!0},error:{numeric_result:"",text_result:"",result_modifier:""}}))}catch(Q){console.log(Q),ue("unable to load indicators")}finally{g.value=!1}}},isNumericTest:{onChange:r=>{r.error.numeric_result="",r.error.text_result="",r.error.result_modifier="",r.input.result="",r.input.result_modifier=""}}};async function R(){g.value=!0;try{c.value={};const r=await w.getTestsWithoutResults();r.forEach(v=>{c.value[v.id]={result_date:"",tests:{},error:{result_indicators:"",result_date:""}},v.tests.forEach(E=>{c.value[v.id].tests[E.id]={selectedIndicators:[],allIndicators:[]}})}),o.value=r.filter(v=>v.tests.some(E=>ne.isEmpty(E.result)))}catch(r){ue("Error loading orders")}finally{g.value=!1}}function B(r,v){let E=!0;return l.result_date.validation(r),l.result_indicators.validation(r,v),E=Object.keys(c.value[r].error).every(_=>!c.value[r].error[_]),c.value[r].tests[v].selectedIndicators.forEach(_=>{l.result.validation(_),l.result_modifier.validation(_),E=Object.keys(_.error).every(V=>!_.error[V])}),E}function K(r,v){return c.value[r].tests[v].selectedIndicators.map(E=>l.result.buildResult(E))}async function me(r,v){if(!B(r,v))return ue("Please fix the validation errors before submitting"),!1;const E=K(r,v);try{await w.createEncounter(),await w.createLabResult(E,v,c.value[r].result_date),o.value=o.value.filter(_=>_.id!==r),De("Lab results saved successfully")}catch(_){return console.error(_),ue("Error saving lab results"),!1}return!0}return ot(()=>{R()}),(r,v)=>{var E;return u(),O("div",null,[g.value?(u(),P(e(Ht),{key:0,type:"indeterminate"})):A("",!0),((E=o.value)!=null?E:[]).length<=0?(u(),P(e(oe),{key:1,style:{height:"40vh"}},{default:a(()=>[t(e(ce),null,{default:a(()=>[s("div",Gn,[t(e(U),{style:{"font-size":"5rem!important"},icon:e(Ta)},null,8,["icon"]),v[0]||(v[0]=s("h1",null,"No tests found",-1))])]),_:1})]),_:1})):(u(),O("div",Wn,[(u(!0),O(j,null,J(o.value,_=>(u(),P(e(lt),{onIonChange:V=>l.result_indicators.load({...V.detail.value,order:_}),key:_.id,ref_for:!0,ref:"accordionGroup",class:"previousView"},{default:a(()=>[(u(!0),O(j,null,J(_.tests,(V,Q)=>(u(),P(e(xe),{value:V,key:Q,"toggle-icon-slot":"start",class:"custom_card"},{default:a(()=>[t(e(z),{slot:"header",color:"light"},{default:a(()=>[t(e(M),{class:"ion-padding"},{default:a(()=>[s("div",null,[s("b",null,[d(I(V.name)+" ",1),t(e(Bt),{color:"success"},{default:a(()=>[d(I(_.accession_number),1)]),_:2},1024)])]),s("div",null,[v[1]||(v[1]=d(" Specimen: ")),s("b",null,I(_.specimen.name),1)]),s("div",null,[v[2]||(v[2]=d(" Result: ")),s("b",null,I(e(ne.isEmpty)(V.result)?"N/A":V.result),1)])]),_:2},1024),t(e(Na),{style:{background:"green",color:"white"}},{default:a(()=>[t(e(U),{color:"light",icon:e(Ft)},null,8,["icon"]),s("b",qn,I(e(Z)(_.order_date).format("DD/MMM/YYYY ")),1)]),_:2},1024)]),_:2},1024),s("div",jn,[t(e(oe),{style:{margin:"0px auto",width:"80%"}},{default:a(()=>[t(e(ce),null,{default:a(()=>[t(e($e),null,{default:a(()=>[t(e(x),null,{default:a(()=>[t(e(k),null,{default:a(()=>[t(e(M),null,{default:a(()=>v[3]||(v[3]=[d("Result date")])),_:1,__:[3]}),t(Wt,{onDateUpDated:C=>{c.value[_.id].result_date=C.value.standardDate,l.result_date.validation(_.id)},place_holder:"Enter result date",date_prop:""},null,8,["onDateUpDated"]),c.value[_.id].error.result_date?(u(),P(e(ie),{key:0},{default:a(()=>[d(I(c.value[_.id].error.result_date),1)]),_:2},1024)):A("",!0)]),_:2},1024),c.value[_.id].tests[V.id].allIndicators.length>0?(u(),P(e(k),{key:0},{default:a(()=>[t(e(M),null,{default:a(()=>v[4]||(v[4]=[d("Result indicators")])),_:1,__:[4]}),t(e(Le),{onIonChange:()=>l.result_indicators.validation(_.id),modelValue:c.value[_.id].tests[V.id].selectedIndicators,"onUpdate:modelValue":C=>c.value[_.id].tests[V.id].selectedIndicators=C,multiple:!0,fill:"outline",interface:"popover",placeholder:"Select result indicator"},{default:a(()=>[(u(!0),O(j,null,J(c.value[_.id].tests[V.id].allIndicators,C=>(u(),P(e(Ue),{key:C.id,value:C},{default:a(()=>[d(I(C.name),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["onIonChange","modelValue","onUpdate:modelValue"]),c.value[_.id].error.result_indicators?(u(),P(e(ie),{key:0},{default:a(()=>[d(I(c.value[_.id].error.result_indicators),1)]),_:2},1024)):A("",!0)]),_:2},1024)):A("",!0)]),_:2},1024)]),_:2},1024),s("div",Jn,[(u(!0),O(j,null,J(c.value[_.id].tests[V.id].selectedIndicators,C=>(u(),P(e(oe),{style:{margin:"10px"},key:C.concept_id},{default:a(()=>[t(e(ce),null,{default:a(()=>[t(e($e),null,{default:a(()=>[t(e(x),null,{default:a(()=>[t(e(k),null,{default:a(()=>[s("h2",Kn,I(C.name)+" result:",1)]),_:2},1024),t(e(k),null,{default:a(()=>[t(e(z),{lines:"none"},{default:a(()=>[t(e(Ma),{slot:"start",onIonChange:()=>l.isNumericTest.onChange(C),modelValue:C.input.isNumericTest,"onUpdate:modelValue":H=>C.input.isNumericTest=H},null,8,["onIonChange","modelValue","onUpdate:modelValue"]),t(e(M),{style:{"margin-left":"10px"}},{default:a(()=>v[5]||(v[5]=[d(" Numeric result? ")])),_:1,__:[5]})]),_:2},1024)]),_:2},1024)]),_:2},1024),C.input.isNumericTest?(u(),P(e(x),{key:0},{default:a(()=>[t(e(k),{size:"4"},{default:a(()=>[t(e(Le),{onIonChange:()=>l.result_modifier.validation(C),modelValue:C.input.result_modifier,"onUpdate:modelValue":H=>C.input.result_modifier=H,interface:"popover","label-placement":"stacked",label:"Result modifier",fill:"outline",placeholder:"Select Modifier"},{default:a(()=>[(u(),O(j,null,J(h,H=>t(e(Ue),{key:H,value:H},{default:a(()=>[d(I(H),1)]),_:2},1032,["value"])),64))]),_:2},1032,["onIonChange","modelValue","onUpdate:modelValue"]),C.error.result_modifier?(u(),P(e(ie),{key:0},{default:a(()=>[d(I(C.error.result_modifier),1)]),_:2},1024)):A("",!0)]),_:2},1024),t(e(k),{size:"8"},{default:a(()=>[t(e(wt),{type:"number",onIonInput:()=>l.result.validation(C),modelValue:C.input.result,"onUpdate:modelValue":H=>C.input.result=H,"label-placement":"stacked",label:"Result Value",fill:"outline",placeholder:"Enter result value"},null,8,["onIonInput","modelValue","onUpdate:modelValue"]),C.error.numeric_result?(u(),P(e(ie),{key:0},{default:a(()=>[d(I(C.error.numeric_result),1)]),_:2},1024)):A("",!0)]),_:2},1024)]),_:2},1024)):(u(),P(e(x),{key:1},{default:a(()=>[t(e(k),null,{default:a(()=>[t(e(M),null,{default:a(()=>v[6]||(v[6]=[d("Alphanumeric result")])),_:1,__:[6]}),t(e(wt),{onIonInput:()=>l.result.validation(C),modelValue:C.input.result,"onUpdate:modelValue":H=>C.input.result=H,placeholder:"Enter result",fill:"outline"},null,8,["onIonInput","modelValue","onUpdate:modelValue"]),C.error.text_result?(u(),P(e(ie),{key:0},{default:a(()=>[d(I(C.error.text_result),1)]),_:2},1024)):A("",!0)]),_:2},1024)]),_:2},1024))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),t(e(de),{onClick:C=>me(_.id,V.id),class:"ion-padding"},{default:a(()=>v[7]||(v[7]=[d("Save result(s)")])),_:2,__:[7]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1032,["value"]))),128))]),_:2},1032,["onIonChange"]))),128))]))])}}}),Zn=ze(Xn,[["__scopeId","data-v-646aa47c"]]),Jt=async()=>{try{return(await nt.getJson("user_properties",{property:"activities"})).property_value.split(",")}catch(f){return[]}},Qn=async()=>{try{return(await L.getJson("user_properties",{property:"lock_user_to_art_activities"})).property_value}catch(f){return f instanceof en?"Yes":"_error_"}};async function ee(f){const g=await Jt(),o=await Qn();return!(!/yes/i.test(o)&&!g.includes(f))}function X(f){var g,o;return/died/i.test("".concat((g=f==null?void 0:f.program)==null?void 0:g.outcome))&&new Date(ae.getSessionDate())>=new Date((o=f==null?void 0:f.program)==null?void 0:o.startDate)}function ke(f,g,o){return{icon:o,label:g,action:()=>{qt(Nn,{},!1,{title:g,useComponent:f,onClose:tn.hide})}}}const es={"hiv clinic registration":Dn,"hiv reception":fn,vitals:vn,"hiv staging":_n,"hiv clinic consultation":Pn,"art adherence":gn,treatment:yn,dispensing:hn,appointment:In,"patient type":jt},ts={"hiv clinic registration":zt,"hiv reception":Fa,vitals:Ba,"hiv staging":Be,"hiv clinic consultation":Be,"art adherence":Ha,treatment:He,dispensing:He,appointment:Ft,"patient type":rt};async function as(f){const g=await Jt();return f.filter(o=>{if(o.availableOnActivitySelection===!1)return!1;const c=o.workflowID||o.name;return!(!g.some(w=>w.toLowerCase()===c.toLowerCase())||o.condition&&!o.condition()||o.disabled&&o.disabled())}).map(o=>{const c=es[o.id],S=ts[o.id];if(c&&S)return ke(c,o.name,S);switch(o.id){case"fast track assesment":return{label:o.name,icon:Be,action:()=>{console.log("Fast track assessment action")}};case"bp_management":return{label:o.name,icon:He,action:()=>{console.log("BP management action")}};case"bp_alert":return{label:o.name,icon:He,action:()=>{console.log("BP alert action")}};default:return null}}).filter(Boolean)}const ns=[{id:"hiv clinic registration",name:"Hiv clinic registration",workflowID:"HIV first visits",icon:"registration.png",disabled:X,condition:()=>ee("HIV first visits")},{id:"hiv reception",name:"HIV reception",workflowID:"HIV reception visits",icon:"reception.png",disabled:X,condition:()=>ee("HIV reception visits")},{id:"vitals",name:"Vitals",icon:"vitals.png",taskCompletionChecklist:["Weight"],disabled:X,condition:()=>ee("Vitals")},{id:"hiv staging",name:"HIV staging",workflowID:"HIV staging visits",icon:"hiv-staging.png",disabled:X,condition:()=>ee("HIV staging visits")},{id:"hiv clinic consultation",name:"HIV clinic consultation",workflowID:"HIV clinic consultations",taskCompletionChecklist:["Medication orders"],icon:"consultation.png",disabled:X,condition:()=>ee("HIV clinic consultations")},{id:"art adherence",name:"ART adherence",workflowID:"ART adherence",icon:"adherence.png",disabled:X,condition:()=>ee("ART adherence")},{id:"treatment",name:"Treatment",workflowID:"Prescriptions",icon:"prescription.png",disabled:X,condition:()=>ee("Prescriptions")},{id:"dispensing",name:"Drug Dispensations",encounterTypeName:"DISPENSING",workflowID:"Drug Dispensations",icon:"dispensing.png",disabled:X,condition:()=>ee("Drug Dispensations")},{id:"appointment",name:"Manage Appointments",encounterTypeName:"APPOINTMENT",workflowID:"Manage Appointments",icon:"appointment.png",disabled:X,condition:()=>ee("Manage Appointments")},{id:"patient type",name:"Patient Type",encounterTypeName:"Registration",icon:"patient-type.png",disabled:X,availableOnActivitySelection:!1}];async function ss(){const f=await as(ns);return{tasks:[{label:"Start ART Workflow",icon:Ua,iconColor:"warning",action:()=>{Vt.push("/ARTVisit")}},ke(jt,"Patient type",rt),...f],other:[{label:"Mastercard",icon:xa,action:()=>Vt.push("/art/mastercard")},ke(Sn,"Lab Activities",Te),ke(Zn,"Lab Results",Te),ke(bn,"Emergency Refill",Te),ke(Yn,"Program outcome",Te),{label:"NATIONAL HEALTH ID (PRINT)",icon:$a,action:async()=>{await On(new ae().getID())}},{label:"DEMOGRAPHICS (PRINT)",icon:at,action:()=>{En(new ae().getID())}},{label:"VISIT SUMMARY (PRINT)",icon:La,action:()=>{Rn(new ae().getID())}}]}}const os=ss(),ls={class:"header-content"},rs={class:"title-section"},is={key:0,class:"progress-overview"},us={class:"progress-header"},ds={class:"progress-stats"},cs={class:"progress-badge"},ms={class:"tasks-container"},ps=["onClick"],fs={class:"task-icon-container"},vs={class:"task-content"},_s={key:0,class:"task-status"},gs={key:1,class:"empty-state"},ys={class:"empty-icon"},Is=Oe({__name:"TaskView",props:{tasks:{type:Object,required:!0}},setup(f){const g=f,o=te(()=>{if(!g.tasks||g.tasks.length===0)return{completed:0,total:0,percentage:0};const h=g.tasks.length,l=g.tasks.filter(B=>B.taskCompleted).length,R=h>0?Math.round(l/h*100):0;return{completed:l,total:h,percentage:R}});function c(){Ga.dismiss()}function S(h){return typeof h=="function"?h(g.tasks):!1}const w=h=>{h.action&&typeof h.action=="function"?h.action():console.warn("No action defined for task: ".concat(h.label))};return(h,l)=>(u(),P(e(st),null,{default:a(()=>[t(e(Lt),{class:"ion-no-border"},{default:a(()=>[t(e(tt),{class:"custom-header"},{default:a(()=>[s("div",ls,[s("div",rs,[t(e(U),{icon:e(za),class:"header-icon"},null,8,["icon"]),t(e(Ut),{class:"custom-title"},{default:a(()=>l[0]||(l[0]=[d("Program Activities")])),_:1,__:[0]})]),t(e(de),{onClick:c,fill:"clear",shape:"round"},{default:a(()=>[t(e(U),{icon:e(Ya)},null,8,["icon"])]),_:1})])]),_:1})]),_:1}),t(e(Me),{class:"custom-content"},{default:a(()=>[f.tasks&&f.tasks.length>0?(u(),O("div",is,[s("div",us,[s("div",ds,[s("h3",null,I(o.value.completed)+"/"+I(o.value.total),1),l[1]||(l[1]=s("p",null,"Tasks Completed",-1))]),s("div",cs,[t(e(Bt),{color:o.value.percentage===100?"success":"primary",class:"completion-badge"},{default:a(()=>[d(I(o.value.percentage)+"% ",1)]),_:1},8,["color"])])]),t(e(Ht),{value:o.value.percentage/100,class:"custom-progress",color:o.value.percentage===100?"success":"primary"},null,8,["value","color"])])):A("",!0),s("div",ms,[f.tasks&&f.tasks.length>0?(u(),P(e($e),{key:0,class:"tasks-grid"},{default:a(()=>[t(e(x),{class:"ion-justify-content-center"},{default:a(()=>[(u(!0),O(j,null,J(f.tasks,(R,B)=>(u(),P(e(k),{size:"12","size-sm":"6","size-md":"4","size-lg":"3",key:B,class:"task-col"},{default:a(()=>[s("div",{class:Yt(["task-card",{"task-completed":R.taskCompleted,"task-disabled":S(R.disabled)}]),onClick:K=>!S(R.disabled)&&w(R)},[s("div",fs,[t(e(U),{color:R.taskCompleted?"success":R.iconColor||"primary",icon:R.taskCompleted?e(At):R.icon,class:"task-icon"},null,8,["color","icon"])]),s("div",vs,[t(e(M),{class:"task-label"},{default:a(()=>[d(I(R.label),1)]),_:2},1024),R.taskCompleted?(u(),O("div",_s,[t(e(U),{icon:e(At),color:"success"},null,8,["icon"]),l[2]||(l[2]=s("span",null,"Completed",-1))])):A("",!0)])],10,ps)]),_:2},1024))),128))]),_:1})]),_:1})):(u(),O("div",gs,[s("div",ys,[t(e(U),{icon:e(zt)},null,8,["icon"])]),l[3]||(l[3]=s("h3",null,"No Activities Yet",-1)),l[4]||(l[4]=s("p",null,"Your program activities will appear here once they're available.",-1))]))])]),_:1})]),_:1}))}}),bs=ze(Is,[["__scopeId","data-v-bd203ba3"]]),hs={1:os};async function Ds(f,g="tasks"){var c,S;const o=(c=hs[f])!=null?c:{};qt(bs,{},!0,{tasks:(S=o==null?void 0:o[g])!=null?S:[]})}const ks={key:2,class:"content_manager"},Cs={style:{display:"flex","justify-content":"space-between"}},Ps={class:"p_name_image"},Ss={style:{width:"100%"}},ws={class:"p_name"},As={style:{display:"flex","justify-content":"space-between"}},Os={class:"start-visit"},Es={class:"button-group"},Rs={class:"action-buttons"},Vs={class:"send-button-container"},Ts={class:"send-button-container"},Ns={class:"send-button-container"},Ms={style:{"padding-left":"10px","padding-right":"10px"}},xs={class:"vitalsUnits"},$s={style:{width:"100%",overflow:"scroll",height:"64px"}},Ls={key:0,style:{"margin-top":"1px"}},Us={key:0,class:"patient-chart"},Hs={class:"patient-chart"},Bs={key:1,class:"patient-chart"},Fs={key:1},zs={key:2},Ys={key:3},Gs={key:4},Ws={key:5},qs={class:"rght-drpm"},js=Oe({__name:"PatientProfile",setup(f,{expose:g}){const o=Y(()=>G(()=>import("./LabTestsHistory-wKAwfu6_.js").then(i=>i.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),c=Y(()=>G(()=>import("./DiagnosesHistory-C_aZU2lK.js"),__vite__mapDeps([23,1,2,3,4,5,11,12,13,7,8,9,10,24,25,26]),import.meta.url)),S=Y(()=>G(()=>import("./AllergiesContraindication-dv_JCHBZ.js"),__vite__mapDeps([27,1,2,3,4,5,28,29,30]),import.meta.url)),w=Y(()=>G(()=>import("./VisitsHistory-BoyYY4H2.js"),__vite__mapDeps([31,1,2,3,4,5,32,33,16,34,35,36,37,38,39,17,18,21,40,41,42]),import.meta.url)),h=Y(()=>G(()=>import("./VitalsMeasurementsSummary-BNcOGl9H.js"),__vite__mapDeps([43,1,2,3,4,5,11,12,13,7,8,9,10,24,25,44]),import.meta.url)),l=Y(()=>G(()=>import("./PatientProfile-SCbATouk.js"),__vite__mapDeps([45,1,2,3,4,5,46,47,48,49,50,16,6,7,8,9,10,11,12,13,14,15,17,18,19,20,51,52,53,54,21,0,22,55,24,25,56,57,58,59,60,61,62,63,28,29,64,40,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,34,35,39,98,99,100,101,102,103,104,105,106,107,33,38,108,109,110,111,36,37,112,113,114,115,116,117,118,32,41,119]),import.meta.url)),R=Y(()=>G(()=>import("./WeightHeightChart-fx2jZloE.js"),__vite__mapDeps([71,1,2,3,4,5,12,13,72,64,40,65,73]),import.meta.url)),B=Y(()=>G(()=>import("./previousVitals-xflsCnCt.js").then(i=>i.p),__vite__mapDeps([64,1,2,3,40,12,4,5,13,65]),import.meta.url)),K=Y(()=>G(()=>import("./BloodPressure-WhwT0uNV.js"),__vite__mapDeps([120,1,2,3,40,12,4,5,13,121]),import.meta.url)),me=Y(()=>G(()=>import("./index-TGgrguwo.js").then(i=>i.bT),__vite__mapDeps([4,1,2,3,5]),import.meta.url)),r=Y(()=>G(()=>import("./AncEnrollmentModal-BsiwdWOV.js"),__vite__mapDeps([122,1,2,3,4,5,7,8,9,10,95,16,88,89,52,53,90,54,76,77,59,78,79,80,84,91,15,17,18,19,92,93,94,12,13,56,46,47,96,85,97,34,35,39,98,99,100,64,40,65,101,102,103,104,105,106,107,33,38,108,109,60,110,111,36,37,112,113,114,115,116,117,69,118,32,21,41,123]),import.meta.url)),v=Y(()=>G(()=>import("./LabourEnrollmentModal-BkBns2Af.js"),__vite__mapDeps([124,1,2,3,4,5,89,52,53,90,54,76,16,77,59,78,79,80,84,91,7,8,9,10,95,88,15,17,18,19,92,93,94,12,13,56,46,47,96,85,97,34,35,39,98,99,100,64,40,65,101,102,103,104,105,106,107,33,38,108,109,60,110,111,36,37,112,113,114,115,116,117,69,118,32,21,41,125]),import.meta.url)),E=Y(()=>G(()=>import("./PNCEnrollmentModal-CMP3JX3O.js"),__vite__mapDeps([126,1,2,3,4,5,89,52,53,90,54,76,16,77,59,78,79,80,84,91,7,8,9,10,95,88,15,17,18,19,92,93,94,12,13,56,46,47,96,85,97,34,35,39,98,99,100,64,40,65,101,102,103,104,105,106,107,33,38,108,109,60,110,111,36,37,112,113,114,115,116,117,69,118,32,21,41,127]),import.meta.url)),_=Wa(),V=qa(),Q=Gt(),C=an(),H=nn(),N=sn(),m=on(),p=Vn(),{event:pe,popoverOpen:it,openPopover:ut,openPIM:dt,openOutCome:Kt,openUpdateNCDNUmbers:Xt,printVisitSummary:Zt,printID:Qt,formatCurrentAddress:ea}=cn(),{screenWidth:Ye}=ln(),{patient:D}=ye(Q),{selectedMedicalAllergiesList:Ks}=ye(C),{NCDNumber:Xs}=ye(H),{activeProgram:W,authorizedPrograms:ct}=ye(N),{vitals:Zs}=ye(m),{ConfirmPregnancy:Ge}=ye(p);b(!1),b(!1);const Ee=b(!1),ta=b(!0),aa=b(!1),We=b(!1),na=b(!1),se=b("Patient Charts");b(!1);const mt=b(null);b(null),b("+ Enroll in NCD Program"),b("+ Start New OPD consultation");const sa=b([]);b([]);const le=b({});b([]);const Re=b(!1),Ve=b(!1),fe=b(!1),Ce=b(!1),pt=b(!1),ft=b(!1),qe=b([]),ve=b(0),je=b(),Pe=b("");b([]),b();const Je=b(!1),oa=te(()=>{var i,n;try{const $=(n=(i=D.value)==null?void 0:i.personInformation)==null?void 0:n.gender;return $==="Male"||$==="M"?ct.value.filter(T=>T.name!=="ANC PROGRAM"&&T.name!=="LABOUR AND DELIVERY PROGRAM"&&T.name!=="PNC PROGRAM"):ct.value.map(T=>{if(T.name==="ANC PROGRAM"||T.name==="LABOUR AND DELIVERY PROGRAM"||T.name==="PNC PROGRAM"){const y=qe.value.some(q=>q.id===T.program_id);return{...T,actionName:y?"Start ".concat(T.name):"Enroll in ".concat(T.name)}}return T})}catch($){}});te(()=>Tt(Ge.value,"Pregnancy confirmed")),te(()=>Tt(Ge.value,"Pregnancy planned"));const la=te(()=>!fe.value&&W.value.program_id==14),ra=te(()=>fe.value&&W.value.program_id==14),ia=()=>{var i,n;if((n=(i=D.value)==null?void 0:i.personInformation)!=null&&n.birthdate){const $=F.getAgeInYears(D.value.personInformation.birthdate);Je.value=$<9}},ua=()=>{var i,n;(n=(i=D.value)==null?void 0:i.personInformation)!=null&&n.birthdate&&(ta.value=F.getAgeInYears(D.value.personInformation.birthdate)>=14,aa.value=F.ageInMonths(D.value.personInformation.birthdate)<9,We.value=F.getAgeInYears(D.value.personInformation.birthdate)<5,na.value=F.dateDiffInDays(F.sessionDate(),D.value.personInformation.birthdate)<42)},_e=i=>{se.value=i},vt=()=>[{backgroundColor:"#B9E6FE",status:"",icon:et(["#B9E6FE","#026AA2","#9ADBFE"]),textColor:"#026AA2",value:"No further action is required.",name:"",index:"Blood sugar is normal"},{backgroundColor:"#FEDF89",status:"",icon:et(["#FEDF89","#B54708","#FED667"]),textColor:"#B54708",value:"Please call or follow up!",name:"",index:"Patient Defaulted"},{backgroundColor:"#FECDCA",status:"",icon:et(["#FECDCA","#B42318","#FDA19B"]),textColor:"#B42318",value:"Administer medications!",name:"",index:"Patient is hypertensive"}],da=async()=>{if(W.value.program_id==14)try{const i=await be.getCheckInStatus(D.value.patientID);fe.value=!!i.length}catch(i){console.error(i)}},ca=()=>{Re.value=!1},ma=()=>{Ve.value=!1},Ke=()=>{Re.value=!Re.value},Xe=()=>{Ve.value=!Ve.value},pa=async()=>{try{const i=await Mt(),n=i?i.code:null;if(!n){ue("Location ID could not be found. Please check your settings.");return}await be.checkInPatient(D.value.patientID,F.todayDateFormatted(),n),await be.addPatientToStage(D.value.patientID,F.todayDateFormatted(),"VITALS",n),await xt().refresh(n),Ke(),fe.value=!0,De("The patient's visit is now active. Patient is on the waiting list for vitals")}catch(i){ue("An error occurred while attempting to check in the patient. Please try again.")}},fa=async()=>{try{const i=await be.getCheckInStatus(D.value.patientID);await be.checkOutPatient(i[0].id,F.todayDateFormatted());const n=await Mt(),$=n?n.code:null;await xt().refresh($),fe.value=!1,Xe(),De("The patient's visit is now closed")}catch(i){console.error(i)}},_t=async()=>{if(W.value.program_id==14)try{const i=await be.getCheckInStatus(D.value.patientID);fe.value=i.length>0}catch(i){console.error(i)}},va=()=>{Ke()},_a=()=>{Xe()},ga=i=>{mt.value=i,Ee.value=!Ee.value},gt=(i="tasks")=>Ds(W.value.program_id,i),yt=async i=>{var n,$,T,y;if(await ge(),(i.program_id==he.ANC_PROGRAM||i.program_id==he.PNC_PROGRAM||i.program_id==he.LABOUR_AND_DELIVERY_PROGRAM)&&!qe.value.find(Se=>Se.id==i.program_id)){if(i.program_id==he.ANC_PROGRAM){Ce.value=!0,ve.value=i.program_id;return}else if(i.program_id==he.LABOUR_AND_DELIVERY_PROGRAM){pt.value=!0,Pe.value="Are you sure you want to enroll ".concat(($=(n=D.value)==null?void 0:n.personInformation)==null?void 0:$.given_name.toUpperCase()," in this program?"),ve.value=i.program_id;return}else if(i.program_id==he.PNC_PROGRAM){ft.value=!0,Pe.value="Are you sure you want to enroll ".concat((y=(T=D.value)==null?void 0:T.personInformation)==null?void 0:y.given_name.toUpperCase()," in this program?"),ve.value=i.program_id;return}}return await Ae.userProgramData(D.value.patientID,i),_.push(i.url)},Ze=()=>{Ce.value=!1},It=()=>{Ce.value=!Ce.value},ya=async()=>{const i=nt.getUserID(),n=new dn(D.value.patientID,i);if(!await n.createEncounter())return Fe("Unable to create quick check encounter");const T=await n.saveObservationList(await ka());return await L.enrollProgram(D.value.patientID,ve.value,new Date().toString()),T?(De("Enrollment is successful"),await ge(),It(),_.push("ANCHome")):Fe("Unable to create quick check details!")},Ia=async()=>(await L.enrollProgram(D.value.patientID,ve.value,new Date().toString()),await ge(),De("Enrollment is successful"),_.push("LabourHome")),ba=async()=>(await L.enrollProgram(D.value.patientID,ve.value,new Date().toString()),await ge(),De("Enrollment is successful"),_.push("PNCHome")),ge=async()=>{const i=D.activePrograms;qe.value=i==null?void 0:i.map(n=>({name:n.program.name,id:n.program_id}))},Qe=()=>{It()},bt=async()=>{const n=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","Respiratory rate"].map(async T=>{const y=await un.getFirstValueNumber(D.value.patientID,T);return{[T]:y}});je.value=new ae().getBloodGlucose(D.value);const $=await Promise.all(n);le.value=Object.assign({},...$)},ha=i=>["Male","M"].includes(i)?"Male":["Female","F"].includes(i)?"Female":"",Da=()=>{var i,n;return F.getBirthdateAge((n=(i=D.value)==null?void 0:i.personInformation)==null?void 0:n.birthdate)},ka=async()=>[...await mn(Ge)];return ot(async()=>{await Ae.userProgramData(D.value.patientID),ua();const i=new ae;sa.value=await ae.getPatientVisits(i.getID(),!1),await ge(),vt(),await bt(),await _t()}),Ne(()=>D.value.patientID,async i=>{i&&(await Ae.userProgramData(i),await ge())},{immediate:!0}),Ne(()=>D,async()=>{await Ae.userProgramData(D.value.patientID),await bt(),await _t(),await da()},{deep:!0}),Ne(V,async i=>{await Ae.userProgramData(D.value.patientID)},{deep:!0}),Ne(()=>D.value,()=>{ia()},{immediate:!0,deep:!0}),g({showUnderageWarning:Je}),(i,n)=>{const $=Ot("ion-list"),T=Ot("ion-popover");return u(),P(e(st),null,{default:a(()=>[t(rn),t(e(Me),{fullscreen:!0},{default:a(()=>[e(W).program_id!==33&&e(W).program_id!=""&&e(Ye)<1120?(u(),P(pn,{key:0,onOpenPopover:n[0]||(n[0]=y=>e(ut)(y))})):A("",!0),t(e(me),{closeModalFunc:ca,onYes:pa,onNo:va,isOpen:Re.value,title:"Are you sure you want to create the visit?"},null,8,["isOpen"]),t(e(me),{closeModalFunc:ma,onYes:fa,onNo:_a,isOpen:Ve.value,title:"Are you sure you want to close the visit?"},null,8,["isOpen"]),t(e(r),{closeModalFunc:Ze,onYes:ya,onNo:Qe,isOpen:Ce.value,title:Pe.value,showUnderageWarning:Je.value},null,8,["isOpen","title","showUnderageWarning"]),t(e(v),{closeModalFunc:Ze,onYes:Ia,onNo:Qe,isOpen:pt.value,title:Pe.value},null,8,["isOpen","title"]),t(e(E),{closeModalFunc:Ze,onYes:ba,onNo:Qe,isOpen:ft.value,title:Pe.value},null,8,["isOpen","title"]),e(W).program_id==33?(u(),P(e(l),{key:1,updateData:e(D)},null,8,["updateData"])):A("",!0),e(W).program_id!==33&&e(W).program_id!=""?(u(),O("div",ks,[t(e(x),{class:"content_width"},{default:a(()=>[t(e(k),{size:"2.5","size-lg":"2.6","size-md":"3",class:"displayNoneLeftPanel"},{default:a(()=>[t(e(oe),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:a(()=>[t(e(ce),null,{default:a(()=>{var y,q,Se,ht,Dt,kt,Ct,Pt;return[s("div",Cs,[n[22]||(n[22]=s("div",null,null,-1)),s("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:n[1]||(n[1]=we=>e(ut)(we))},[t(e(U),{icon:e(ja),style:{"font-size":"2.2rem"}},null,8,["icon"])])]),s("div",Ps,[s("div",{class:Yt(((q=(y=e(D))==null?void 0:y.personInformation)==null?void 0:q.gender)=="M"?"initialsBox maleColor":"initialsBox femaleColor"),onClick:n[2]||(n[2]=we=>e(dt)())},[t(e(U),{style:{color:"#fff","font-size":"70px"},icon:e(Ja)},null,8,["icon"])],2),s("div",Ss,[s("div",ws,I((ht=(Se=e(D))==null?void 0:Se.personInformation)==null?void 0:ht.given_name)+" "+I((kt=(Dt=e(D))==null?void 0:Dt.personInformation)==null?void 0:kt.middle_name)+" "+I((Pt=(Ct=e(D))==null?void 0:Ct.personInformation)==null?void 0:Pt.family_name),1)])]),t(e(x),null,{default:a(()=>[t(e(k),{size:"4"},{default:a(()=>n[23]||(n[23]=[d("MRN:")])),_:1,__:[23]}),t(e(k),{class:"demoContent"},{default:a(()=>[d(I(e(D).ID),1)]),_:1})]),_:1}),e(W).program_id===32?(u(),P(e(x),{key:0},{default:a(()=>[t(e(k),{size:"4"},{default:a(()=>n[24]||(n[24]=[d("NCDNumber:")])),_:1,__:[24]}),t(e(k),{class:"demoContent"},{default:a(()=>[d(I(e(D).NcdID),1)]),_:1})]),_:1})):A("",!0),t(e(x),null,{default:a(()=>[t(e(k),{size:"4"},{default:a(()=>n[25]||(n[25]=[d("Gender:")])),_:1,__:[25]}),t(e(k),{class:"demoContent"},{default:a(()=>{var we,St;return[d(I(ha((St=(we=e(D))==null?void 0:we.personInformation)==null?void 0:St.gender)),1)]}),_:1})]),_:1}),t(e(x),null,{default:a(()=>[t(e(k),{size:"4"},{default:a(()=>n[26]||(n[26]=[d("Age:")])),_:1,__:[26]}),t(e(k),{class:"demoContent"},{default:a(()=>[d(I(Da()),1)]),_:1})]),_:1}),t(e(x),null,{default:a(()=>[t(e(k),{size:"4"},{default:a(()=>n[27]||(n[27]=[d("Address:")])),_:1,__:[27]}),t(e(k),{class:"demoContent"},{default:a(()=>[d(I(e(ea)(e(D))),1)]),_:1})]),_:1})]}),_:1})]),_:1}),t(e(oe),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:a(()=>[t(e(lt),{value:["first"]},{default:a(()=>[t(e(xe),{value:"first",style:{"background-color":"#fff"},"toggle-icon-slot":"start"},{default:a(()=>[t(e(z),{slot:"header",color:"white"},{default:a(()=>[t(e(M),{class:"side_title"},{default:a(()=>n[28]||(n[28]=[d("Alerts & Reminders ")])),_:1,__:[28]})]),_:1}),t(e(ce),{slot:"content"},{default:a(()=>[(u(!0),O(j,null,J(vt(),(y,q)=>(u(),O("span",{key:q},[y.value?(u(),P(e(x),{key:0,style:Et("border-radius: 5px;  margin-top:10px; margin-bottom:10px;background-color:"+y.backgroundColor)},null,8,["style"])):A("",!0)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(e(k),{"size-sm":"12","size-md":"12","size-lg":e(Ye)>1120?"9.4":"12"},{default:a(()=>[t(e(oe),{style:{"background-color":"#fff","margin-inline":"0px",contain:"unset",overflow:"unset"}},{default:a(()=>[s("div",null,[s("div",As,[n[29]||(n[29]=s("div",{class:"vitalsTitle"},"Most recent Vitals & Biometrics",-1)),s("div",Os,[s("div",Es,[s("div",Rs,[la.value?(u(),P(Nt,{key:0,name:"Activate visit",onClick:n[3]||(n[3]=y=>Ke()),fill:"clear",iconSlot:"start",icon:e(Rt),class:"action-button"},null,8,["icon"])):A("",!0),ra.value?(u(),P(Nt,{key:1,name:"Deactivate visit",onClick:n[4]||(n[4]=y=>Xe()),fill:"clear",iconSlot:"start",icon:e(Rt),class:"action-button danger"},null,8,["icon"])):A("",!0)]),s("div",Vs,[s("button",{class:"send-text",onClick:n[5]||(n[5]=y=>gt())},"Tasks")]),s("div",Ts,[s("button",{class:"send-text",onClick:n[6]||(n[6]=y=>gt("other"))},"Printout/Other")]),s("div",Ns,[s("button",{class:"send-text",onClick:n[7]||(n[7]=y=>yt(e(W)))},"Start visit"),s("button",{class:"send-arrow",onClick:n[8]||(n[8]=y=>ga(y))})])])])])]),s("div",Ms,[t(e(x),null,{default:a(()=>[t(e(k),{class:"vitalsHeading"},{default:a(()=>n[30]||(n[30]=[d("Weight")])),_:1,__:[30]}),t(e(k),{class:"vitalsHeading"},{default:a(()=>n[31]||(n[31]=[d("Height")])),_:1,__:[31]}),t(e(k),{class:"vitalsHeading"},{default:a(()=>n[32]||(n[32]=[d("Temperature")])),_:1,__:[32]}),t(e(k),{class:"vitalsHeading"},{default:a(()=>n[33]||(n[33]=[d("Blood glucose")])),_:1,__:[33]}),t(e(k),{class:"vitalsHeading"},{default:a(()=>n[34]||(n[34]=[d("Pulse Rate")])),_:1,__:[34]}),t(e(k),{class:"vitalsHeading"},{default:a(()=>n[35]||(n[35]=[d("Blood pressure")])),_:1,__:[35]})]),_:1}),t(e(x),null,{default:a(()=>[t(e(k),{class:"vitalsValue"},{default:a(()=>[d(I(le.value.Weight)+" ",1),n[36]||(n[36]=s("span",{class:"vitalsUnits"},"kg",-1))]),_:1,__:[36]}),t(e(k),{class:"vitalsValue"},{default:a(()=>[d(I(le.value["Height (cm)"])+" ",1),n[37]||(n[37]=s("span",{class:"vitalsUnits"},"cm",-1))]),_:1,__:[37]}),t(e(k),{class:"vitalsValue"},{default:a(()=>[d(I(le.value.Temperature)+" ",1),n[38]||(n[38]=s("span",{class:"vitalsUnits"},"°C",-1))]),_:1,__:[38]}),t(e(k),{class:"vitalsValue"},{default:a(()=>{var y,q;return[d(I((y=je.value)==null?void 0:y.value)+" ",1),s("span",xs,I((q=je.value)==null?void 0:q.unit),1)]}),_:1}),t(e(k),{class:"vitalsValue"},{default:a(()=>[d(I(le.value.Pulse)+" ",1),n[39]||(n[39]=s("span",{class:"vitalsUnits"},"bpm ",-1))]),_:1,__:[39]}),t(e(k),{class:"vitalsValue"},{default:a(()=>[d(I(le.value.Systolic)+"/"+I(le.value.Diastolic),1),n[40]||(n[40]=s("span",{class:"vitalsUnits"},"mmhg",-1))]),_:1,__:[40]})]),_:1})])]),_:1}),s("div",$s,[t(e(Ka),{value:se.value,style:{"margin-top":"5px","min-width":"540px"}},{default:a(()=>[t(e(Ie),{value:"Patient Charts",onClick:n[9]||(n[9]=y=>_e("Patient Charts"))},{default:a(()=>[t(e(M),null,{default:a(()=>n[41]||(n[41]=[d("Patient Charts")])),_:1,__:[41]})]),_:1}),t(e(Ie),{value:"Visits History",onClick:n[10]||(n[10]=y=>_e("Visits History"))},{default:a(()=>[t(e(M),null,{default:a(()=>n[42]||(n[42]=[d("Visits History")])),_:1,__:[42]})]),_:1}),t(e(Ie),{value:"Vitals & Measurements Summary",onClick:n[11]||(n[11]=y=>_e("Vitals & Measurements Summary"))},{default:a(()=>[t(e(M),null,{default:a(()=>n[43]||(n[43]=[d("Vitals & Measurements Summary")])),_:1,__:[43]})]),_:1}),t(e(Ie),{value:"Lab Tests History",onClick:n[12]||(n[12]=y=>_e("Lab Tests History"))},{default:a(()=>[t(e(M),null,{default:a(()=>n[44]||(n[44]=[d("Lab Tests History")])),_:1,__:[44]})]),_:1}),t(e(Ie),{value:"Diagnosis History",onClick:n[13]||(n[13]=y=>_e("Diagnosis History"))},{default:a(()=>[t(e(M),null,{default:a(()=>n[45]||(n[45]=[d("Diagnosis History")])),_:1,__:[45]})]),_:1}),t(e(Ie),{value:"Allergies & Contraindication",onClick:n[14]||(n[14]=y=>_e("Allergies & Contraindication"))},{default:a(()=>[t(e(M),null,{default:a(()=>n[46]||(n[46]=[d("Allergies & Contraindication")])),_:1,__:[46]})]),_:1})]),_:1},8,["value"])]),se.value=="Patient Charts"?(u(),O("div",Ls,[s("div",{style:Et(e(Ye)>826?"display: flex;":"display: block;")},[We.value?(u(),O("div",Us,[t(e(R))])):A("",!0),s("div",Hs,[t(e(K))]),We.value?A("",!0):(u(),O("div",Bs,[t(e(B))]))],4)])):A("",!0),se.value=="Visits History"?(u(),O("div",Fs,[t(e(w))])):A("",!0),se.value=="Vitals & Measurements Summary"?(u(),O("div",zs,[t(e(h))])):A("",!0),se.value=="Lab Tests History"?(u(),O("div",Ys,[t(e(o))])):A("",!0),se.value=="Diagnosis History"?(u(),O("div",Gs,[t(e(c))])):A("",!0),se.value=="Allergies & Contraindication"?(u(),O("div",Ws,[t(e(S))])):A("",!0)]),_:1},8,["size-lg"])]),_:1})])):A("",!0)]),_:1}),t(T,{style:{"--offset-x":"-10px"},"is-open":e(it),"show-backdrop":!1,"dismiss-on-select":!0,event:e(pe),onDidDismiss:n[20]||(n[20]=y=>it.value=!1)},{default:a(()=>[s("div",null,[t($,{style:{"--ion-background-color":"#fff","--offset-x":"-30px"}},{default:a(()=>[t(e(z),{button:!0,detail:!1,onClick:n[15]||(n[15]=y=>e(dt)()),style:{cursor:"pointer"},class:"list-content"},{default:a(()=>[t(e(U),{icon:e(rt),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),n[47]||(n[47]=s("span",{class:"sub-menu-txt"},"Update demographics",-1))]),_:1,__:[47]}),t(e(z),{button:!0,detail:!1,onClick:n[16]||(n[16]=y=>e(Kt)()),style:{cursor:"pointer"},class:"list-content"},{default:a(()=>[t(e(U),{icon:e(Be),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),n[48]||(n[48]=s("span",{class:"sub-menu-txt"},"Update outcome",-1))]),_:1,__:[48]}),e(nt).getProgramID()==32?(u(),P(e(z),{key:0,button:!0,detail:!1,onClick:n[17]||(n[17]=y=>e(Xt)()),style:{cursor:"pointer"},class:"list-content"},{default:a(()=>[t(e(U),{icon:e(Xa),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),n[49]||(n[49]=s("span",{class:"sub-menu-txt"},"Update NCD Number",-1))]),_:1,__:[49]})):A("",!0),t(e(z),{button:!0,detail:!1,onClick:n[18]||(n[18]=y=>e(Zt)()),style:{cursor:"pointer"},class:"list-content"},{default:a(()=>[t(e(U),{icon:e(at),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),n[50]||(n[50]=s("span",{class:"sub-menu-txt"},"Print visit summary",-1))]),_:1,__:[50]}),t(e(z),{button:!0,detail:!1,onClick:n[19]||(n[19]=y=>e(Qt)()),style:{cursor:"pointer"},class:"list-content"},{default:a(()=>[t(e(U),{icon:e(at),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),n[51]||(n[51]=s("span",{class:"sub-menu-txt"},"Print client identifier",-1))]),_:1,__:[51]})]),_:1})])]),_:1},8,["is-open","event"]),t(T,{"is-open":Ee.value,"show-backdrop":!1,"dismiss-on-select":!0,event:mt.value,onDidDismiss:n[21]||(n[21]=y=>Ee.value=!1),style:{"--width":"350px"}},{default:a(()=>[t(e(Me),null,{default:a(()=>[t($,null,{default:a(()=>[(u(!0),O(j,null,J(oa.value,(y,q)=>(u(),P(e(z),{button:!0,detail:!1,style:{cursor:"pointer"},key:q,onClick:Se=>yt(y)},{default:a(()=>[t(e(U),{slot:"start",icon:e(Za)},null,8,["icon"]),s("span",qs,I(y==null?void 0:y.actionName),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["is-open","event"])]),_:1})}}}),Js=ze(js,[["__scopeId","data-v-02ce2cd2"]]),Co=Object.freeze(Object.defineProperty({__proto__:null,default:Js},Symbol.toStringTag,{value:"Module"}));export{Mn as P,Co as a,Vn as u};
