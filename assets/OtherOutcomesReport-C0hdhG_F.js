import{bV as _,bW as b,bS as c,bU as h,c7 as v,bT as D,aA as i,az as O}from"./index-DFcl-g6z.js";import{P as g}from"./program_report_service-IDvX-snx.js";import{d as w,r,c as l,O as R,f as S}from"./vendor-BOD1af1U.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-DLDowtkW.js";const x=w({__name:"OtherOutcomesReport",setup(y){const s=r("-"),a=r(""),n=r([]),u=l(()=>"".concat(a.value||"Other Outcomes"," Clinic Report")),p=[_("patient_id")],m=l(()=>{const t=[{path:"identifier",label:"ARV Number",preSort:b,initialSort:!0},{path:"given_name",label:"First Name"},{path:"family_name",label:"Last Name"},{path:"birthdate",label:"Date of Birth",formatter:c},{path:"gender",label:"Gender",formatter:h},{path:"outcome_date",label:"Outcome Date",formatter:c}];return/transfer/i.test(a.value)&&t.push({path:"transferred_out_to",label:"TO Location"}),t}),d=[{id:"outcome",label:"Select Outcome",type:"select",options:v(["Transfer Out","Died","Stopped"])}];async function f(t){var o;await i.show();try{const e=new g;a.value=t.outcome,e.setStartDate(t.dateRange.startDate),e.setEndDate(t.dateRange.endDate),e.setOccupation(t.occupation),s.value=e.getDateIntervalPeriod(),n.value=(o=await e.getReport("patient_outcome_list",{outcome:a.value}))!=null?o:[]}catch(e){O("Unable to load report data"),console.error(e)}await i.hide()}return(t,o)=>(S(),R(D,{"report-type":"Clinic",title:u.value,columns:m.value,rows:n.value,period:s.value,"row-action-buttons":p,"custom-filters":d,"use-date-range-filter":"","use-secure-export":"",onGenerate:f},null,8,["title","columns","rows","period"]))}});export{x as default};
