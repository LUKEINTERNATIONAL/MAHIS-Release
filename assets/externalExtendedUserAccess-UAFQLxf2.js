import{d as y,e as n,f as t,k as b,cu as N,aO as R,r as l,c as m,a as x,w as _,O as i,J as v,l as h,u as c,an as g,a4 as w,m as D,a7 as C}from"./vendor-D0D29_A_.js";import{N as E}from"./NavigationMenu-B_mQ8Uwm.js";import{E as I}from"./EIRreportsStore-B8oLXCLf.js";import{T as U}from"./TableSkeletonLoader-rGQdC-NK.js";import{_ as k}from"./index-DCLdamj5.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-yV10MRMc.js";const B={class:"report-dashboard"},L={key:0,class:"no-url-message"},$=["src","title"],O=y({__name:"reportDashboard",props:{url:{default:""},title:{default:"Report Dashboard"}},setup(o){return(r,e)=>(t(),n("div",B,[o.url?(t(),n("iframe",{key:1,src:o.url,title:o.title||"Report Dashboard",class:"report-iframe",frameborder:"0",allowfullscreen:""},null,8,$)):(t(),n("div",L,[...e[0]||(e[0]=[b("p",null,"No report URL provided",-1)])]))]))}}),T=k(O,[["__scopeId","data-v-098b07ed"]]),V={key:2,class:"no-facility-message"},A="https://mahistest.health.gov.mw/reports/home",M=y({__name:"externalExtendedUserAccess",setup(o){const r=N();R(),l(!1);const e=l(!0);l(""),l([]);const s=m(()=>r.params.facility_code||r.query.facility_code||""),u=m(()=>s.value?"".concat(A,"?Location=").concat(s.value):"");x(async()=>{p(),d()});async function d(){if(!s.value){console.warn("No facility_code provided in route"),e.value=!1;return}setTimeout(()=>{e.value=!1},500)}function p(){I().setNavigationPayload("Reports Dashboard",!0,!1,"/","/home","view mahis reports")}return _(()=>r.name,async a=>{a==="ReportDashboard"&&p()},{deep:!0}),_(()=>s.value,a=>{a&&(e.value=!0,d())}),(a,f)=>(t(),i(c(C),null,{default:v(()=>[h(E,{"title-icon":c(g)},null,8,["title-icon"]),h(c(w),{fullscreen:!0},{default:v(()=>[e.value?(t(),i(U,{key:0})):D("",!0),u.value?(t(),i(T,{key:1,url:u.value},null,8,["url"])):(t(),n("div",V,[...f[0]||(f[0]=[b("p",null,"No facility code provided",-1)])]))]),_:1})]),_:1}))}}),G=k(M,[["__scopeId","data-v-d9a964dc"]]);export{G as default};
