!function(){function e(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}System.register(["./app_encounter_service-legacy-Baw1OfAK.js","./index-legacy-CIih74IA.js","./LocationFieldOptions-legacy-VfL3UGkp.js","./DatePicker.vue_vue_type_script_setup_true_lang-legacy-p5z8iY0q.js","./SelectFacility-legacy-lqNaEgh4.js","./vendor-legacy-CCRc-I5f.js","./Staging-legacy-CIk--PmN.js","./patient_registration_service-legacy-CX4EaNam.js","./vitals_service-legacy-DJ2UWOB_.js","./BasicYesNoSelect-legacy-BRpsmE3M.js","./BasicRadioSelect-legacy-DOhLVHDL.js","./lodash-legacy-pOOc9Efu.js"],function(t,a){"use strict";var i,r,l,n,o,u,_,s,d,c,v,h,m,p,b,f,g,y,w,k,V,D,q,C,T,A,I,O,N,R,z,U,S,H,F,P,$,x,E,j,Y,B,L;return{setters:[e=>{i=e.A},e=>{r=e.J,l=e.Q,n=e.S,o=e.P,u=e.i,_=e.cr,s=e.e,d=e.cp,c=e.aB,v=e.u,h=e.a0,m=e.k,p=e.m,b=e.t,f=e._},e=>{g=e.g},e=>{y=e._},e=>{w=e.S},e=>{k=e.d,V=e.r,D=e.y,q=e.f,C=e.z,T=e.l,A=e.u,I=e.ad,O=e.bq,N=e.m,R=e.ac,z=e.ab,U=e.D,S=e.A,H=e.k,F=e.B,P=e.d7,$=e.ag,x=e.O},e=>{E=e.default},e=>{j=e.P},e=>{Y=e.V},e=>{B=e.B},e=>{L=e.B},null],execute:function(){var a=document.createElement("style");a.textContent=".form-label[data-v-dc061c59]{font-weight:600;color:#333;margin-bottom:8px;display:block}.form-label span[data-v-dc061c59]{color:#eb445a}ion-item[data-v-dc061c59]{--padding-start: 0;--inner-padding-end: 0}ion-radio[data-v-dc061c59]{margin-right:8px}ion-note[data-v-dc061c59]{padding:12px;border-radius:8px;margin-bottom:16px;display:block;color:#eb445a!important;font-weight:700;font-style:italic}\n/*$vite$:1*/",document.head.appendChild(a);class W extends i{constructor(e,t){super(e,9,t)}}class M extends i{constructor(t,a){super(t,9,a),e(this,"registration",void 0),e(this,"computeFollowupAgreements",async e=>({tag:"reg",obs:await this.registration.buildValueCoded("Agrees to followup",e.value)})),e(this,"computeHTCSerialNumber",async e=>({tag:"reg",obs:await this.registration.buildValueText("HTC Serial number",e.value)})),e(this,"computeEverReceivedART",async({value:e})=>({tag:"reg",obs:await this.registration.buildValueCoded("Ever received ART",e)})),e(this,"computeARTLastTakenDate",async(e,t)=>({date:e,tag:"reg",isEstimate:t,obs:await this.buildDateObs("Date ART last taken",e,t)})),e(this,"computeARTInitiationLocation",async({label:e})=>({tag:"reg",obs:await this.registration.buildValueText("Location of ART initiation",e)})),e(this,"computeARTNumberAtPreviousLocation",async e=>({tag:"reg",obs:await this.registration.buildValueText("ART number at previous location",e.value)})),e(this,"computeHasTransferLetter",async({value:e})=>({tag:"reg",obs:await this.registration.buildValueCoded("Has transfer letter",e)})),e(this,"computeConfirmatoryHIVTestType",async({value:e})=>({tag:"reg",obs:await this.registration.buildValueCoded("Confirmatory hiv test type",e)})),e(this,"computeConfirmatoryHIVTestLocation",async e=>({tag:"reg",obs:await this.registration.buildValueText("Confirmatory HIV test location",e.label)})),e(this,"computeConfirmatoryHIVTestDate",async(e,t)=>({date:e,tag:"reg",isEstimate:t,obs:await this.buildDateObs("Confirmatory HIV test date",e,t)})),e(this,"computeARTRegistrationDate",async(e,t)=>({date:e,tag:"reg",isEstimate:t,obs:await this.buildDateObs("ART initiation date",e,t)})),e(this,"computeARTStartDate",async(e,t)=>({date:e,tag:"reg",isEstimate:t,obs:await this.buildDateObs("Contact date ART started",e,t)})),e(this,"computeInitialWeight",async e=>({tag:"reg",obs:await G(await this.registration.buildValueNumber("weight",e,null,null))})),e(this,"computeInitialHeight",async e=>({tag:"reg",obs:await G(await this.registration.buildValueNumber("height",e,null,null))})),e(this,"computeTBStatus",async e=>{const t=r();return{tag:"reg",obs:{concept_id:await i.getConceptID("TB treatment start date"),value_datetime:l.getSessionDate(),obs_datetime:l.getSessionDate(),providerID:n.getUserID(),programID:l.getProgramID(),location_id:t.facilityLocation.code,value_coded:await i.getConceptID(e)}}}),e(this,"buildDateObs",async(e,t,a)=>/unknown/i.test(t)?this.buildValueText(e,"Unknown"):a?this.buildValueDateEstimated(e,t):await this.buildValueDate(e,t)),this.registration=new W(t,a)}async onSubmit(e){const t=await this.registration.createEncounter();if(!t)throw new Error("Failed to create encounter");this.encounterID=t.encounter_id,this.saveObservationList(e)}}function G(e){return console.log("fixValueNumericStructureInPlace",e),e.value_numeric.value&&(e.value_numeric=e.value_numeric.value),e}const J={B:0,F:1,G:2,H:3,J:4,P:5,V:6,W:7,X:8,Z:9},K=[[0,3,1,7,5,9,8,6,4,2],[7,0,9,2,1,5,4,8,6,3],[4,2,0,6,8,7,1,3,5,9],[1,7,5,0,9,8,3,4,2,6],[6,1,2,3,0,4,5,9,7,8],[3,6,7,4,2,0,9,5,8,1],[5,8,6,9,7,2,0,1,3,4],[8,9,4,5,3,6,2,0,1,7],[9,4,3,8,6,1,7,2,0,5],[2,5,8,1,4,3,6,7,9,0]];function Q(e,t){const a=t-`${e}`.length;return a<=0?`${e}`:`${Array.from({length:a}).map(()=>0).join("")}${e}`}function X(e){const[t,a,i,r]=e.split("-");if(!(t&&a&&i&&r))return!1;const l=Q(parseInt(a),3),n=Q(parseInt(i),2),o=J[r.toUpperCase()];return function(e){e.match(/^\d+$/)||(e=e.replace(/\D/g,""));let t=0;for(let a=0;a<e.length;a++){let i=e.charAt(a);t=K[t][i]}return`${t}`}(`${t}-${l}-${n}`)===`${o}`}t("default",f(k({__name:"ArtClinicRegistration",setup(e,{expose:t}){const a=new o,i=new M(a.getID(),-1),r=V(),l=V({phone_followup:"",phone_number:"",home_visit_followup:"",has_linkage:"",linkage_number:"",received_arvs:"",date_last_taken_arvs:"",taken_last_two_months:"",taken_last_two_weeks:"",ever_registered_at_art_clinic:"",location_of_art_initialization:"",art_number_at_previous_location:"",confirmatory_hiv_test_type:"",confirmatory_hiv_test_location:"",confirmatory_hiv_test_date:"",has_transfer_letter:"",art_start_date:"",initial_weight:"",initial_height:"",cd4_available:"",cd4_percent:""}),n=V([]),f=V({}),k=V([{dialCode:"265",iso2:"MW",name:"Malawi"}]),W=V({inputHeader:"Phone number *",icon:u.phone,value:"",name:"phoneNumber",InnerBtn:"",popOverData:{filterData:!1,data:[]}}),G={phone_followup:{label:"Phone followup",required:()=>!0,buildObs:()=>[i.buildValueCoded("Phone",l.value.phone_followup),i.buildValueCoded("Agrees to followup","Phone")],validation:()=>K("phone_followup")},phone_number:{required:()=>"Yes"===l.value.phone_followup&&(!a.getPhoneNumber()||/unknown|n\/a/i.test(`${a.getPhoneNumber()}`)),label:"Phone number",onSubmit:async()=>{try{const e=`+${k.value[0].dialCode}${l.value.phone_number}`,t=new j;t.setPersonID(a.getID()),await t.updatePerson({cell_phone_number:e});const i=v().getPatient();i&&i.personInformation&&(i.personInformation.cell_phone_number=e,await h(i)),m("Phone number updated successfully")}catch(e){console.error("Error updating phone number:",e),p("Failed to update phone number")}},formatValue:()=>`+${k.value[0].dialCode}${l.value.phone_number}`,onFormUpdate:(e,t)=>{"phone_followup"===e&&"No"===t&&(l.value.phone_number="",f.value.phone_number="")},validation:()=>{f.value.phone_number="";const e=G.phone_number.required();if(e&&!l.value.phone_number)return void(f.value.phone_number="Phone number is required");const t=c.isMWPhoneNumber(G.phone_number.formatValue());e&&"string"==typeof t&&t.length>0&&(f.value.phone_number="Not a valid Malawi phone number")}},home_visit_followup:{label:"Home visit followup",required:()=>!0,buildObs:()=>[i.buildValueCoded("Home visit",l.value.home_visit_followup),i.buildValueCoded("Agrees to followup","Home visit")],validation:()=>K("home_visit_followup")},has_linkage:{label:"Has linkage number",required:()=>!0,validation:()=>K("has_linkage")},linkage_number:{label:"Linkage number",required:()=>"Yes"===l.value.has_linkage,onFormUpdate:(e,t)=>{"has_linkage"===e&&"Yes"===t&&(l.value.linkage_number="",f.value.linkage_number="")},buildObs:()=>i.buildValueText("HTC Serial number",l.value.linkage_number),validation:()=>{if(f.value.linkage_number="",K("linkage_number"))try{X(l.value.linkage_number)||(f.value.linkage_number="Invalid linkage number")}catch(e){f.value.linkage_number='Invalid linkage number. please follow format "1234-002-01-A" '}}},received_arvs:{label:"Received ARVs",required:()=>!0,buildObs:()=>i.buildValueCoded("Ever received ART",l.value.received_arvs),validation:()=>K("received_arvs")},date_last_taken_arvs:{label:"Date last taken ARVs",required:()=>"Yes"===l.value.received_arvs,onFormUpdate:(e,t)=>{"received_arvs"===e&&"No"===t&&(l.value.date_last_taken_arvs="",f.value.date_last_taken_arvs="")},validation:()=>{f.value.date_last_taken_arvs="",!K("date_last_taken_arvs")||Q("date_last_taken_arvs")},buildObs:()=>i.buildValueDate("Date ART last taken",l.value.date_last_taken_arvs.standardDate)},ever_registered_at_art_clinic:{label:"Ever registered at ART clinic",required:()=>"Yes"===l.value.received_arvs,onFormUpdate:(e,t)=>{"received_arvs"===e&&"No"===t&&(l.value.ever_registered_at_art_clinic="",f.value.ever_registered_at_art_clinic="")},validation:()=>K("ever_registered_at_art_clinic"),buildObs:()=>i.buildValueCoded("Ever registered at ART clinic",l.value.ever_registered_at_art_clinic)},location_of_art_initialization:{label:"Location of ART initialization",required:()=>"Yes"===l.value.ever_registered_at_art_clinic,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"ever_registered_at_art_clinic"===e&&"No"===t)&&(l.value.location_of_art_initialization="",f.value.location_of_art_initialization="")},buildObs:()=>{var e,t;return i.buildValueText("Location of ART initialization",null!==(e=null===(t=l.value.location_of_art_initialization)||void 0===t?void 0:t.name)&&void 0!==e?e:l.value.location_of_art_initialization)},validation:()=>K("location_of_art_initialization"),searchFacilities:e=>g(e).then(e=>n.value=e)},art_start_date:{label:"ART start date",required:()=>"Yes"===l.value.ever_registered_at_art_clinic,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"ever_registered_at_art_clinic"===e&&"No"===t)&&(l.value.art_start_date="",f.value.art_start_date="")},buildObs:()=>Z("Date ART started",l.value.art_start_date.standardDate),validation:()=>{f.value.art_start_date="",!K("art_start_date")||Q("art_start_date")}},art_number_at_previous_location:{label:"ART number at previous location",required:()=>"Yes"===l.value.ever_registered_at_art_clinic,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"ever_registered_at_art_clinic"===e&&"No"===t)&&(l.value.art_number_at_previous_location="",f.value.art_number_at_previous_location="")},validation:()=>K("art_number_at_previous_location"),buildObs:()=>{var e,t;return i.buildValueText("ART number at previous location",null!==(e=null===(t=l.value.art_number_at_previous_location)||void 0===t?void 0:t.name)&&void 0!==e?e:l.value.art_number_at_previous_location)}},has_transfer_letter:{required:()=>"Yes"===l.value.ever_registered_at_art_clinic,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"ever_registered_at_art_clinic"===e&&"No"===t)&&(l.value.has_transfer_letter="",f.value.has_transfer_letter="")},label:"Has stage information?",validation:()=>K("has_transfer_letter"),buildObs:()=>i.buildValueCoded("Has transfer letter",l.value.has_transfer_letter)},initial_height:{label:"Initial height",required:()=>"Yes"===l.value.has_transfer_letter,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"has_transfer_letter"===e&&"No"===t)&&(l.value.initial_height="",f.value.initial_height="")},buildVitalsObs:e=>e.buildValueNumber("Height",l.value.initial_height),validation:()=>{f.value.initial_height="",K("initial_height")&&(/^\d+$/i.test(`${l.value.initial_height}`)||(f.value.initial_height="Initial height must be a number"),parseInt(l.value.initial_height)<40&&(f.value.initial_height="Initial height cannot be less than 40"),parseInt(l.value.initial_height)>220&&(f.value.initial_height="Initial height cannot be greater than 220"))}},initial_weight:{label:"Initial weight",required:()=>"Yes"===l.value.has_transfer_letter,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"has_transfer_letter"===e&&"No"===t)&&(l.value.initial_weight="",f.value.initial_weight="")},buildVitalsObs:e=>e.buildValueNumber("Weight",l.value.initial_weight),validation:()=>{f.value.initial_weight="",K("initial_weight")&&(/^\d{1,3}\.\d{1}$/i.test(`${l.value.initial_weight}`)||(f.value.initial_weight="Initial weight must be a valid decimal number.. i.e. 40.0"),parseInt(l.value.initial_weight)<.5&&(f.value.initial_weight="Initial weight cannot be less than 0.5"),parseInt(l.value.initial_weight)>250&&(f.value.initial_weight="Initial weight cannot be greater than 250"))}},vitals:{onSubmit:async()=>{if(G.initial_height.required()&&G.initial_weight.required()){const e=new Y(a.getID(),-1);e.setDate(l.value.art_start_date.standardDate);const t=[G.initial_height.buildVitalsObs(e),G.initial_weight.buildVitalsObs(e)];await e.createEncounter(),await e.saveObservationList(await Promise.all(t))}}},cd4_available:{required:()=>"Yes"===l.value.has_transfer_letter,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"has_transfer_letter"===e&&"No"===t)&&(l.value.cd4_available="",f.value.cd4_available="")},label:"CD4 available",validation:()=>K("cd4_available")},cd4_percent:{required:()=>"Yes"===l.value.cd4_available,onFormUpdate:(e,t)=>{("received_arvs"===e&&"No"===t||"cd4_available"===e&&"No"===t)&&(l.value.cd4_percent="",f.value.cd4_percent="")},label:"CD4 percent",buildObs:()=>i.buildValueNumber("CD4 percent",parseInt(l.value.cd4_percent.substring(1)),"%"),validation:()=>{f.value.cd4_percent="",K("cd4_percent")&&(/^\d+$/i.test(`${l.value.cd4_percent}`)||(f.value.cd4_percent="CD4 percent must be a number"),parseInt(l.value.cd4_percent)<0&&(f.value.cd4_percent="CD4 percent cannot be less than 0"),parseInt(l.value.cd4_percent)>100&&(f.value.cd4_percent="CD4 percent cannot be greater than 100"))}},confirmatory_hiv_test_type:{label:"Confirmatory hiv test type",required:()=>!0,options:()=>[{label:"Rapid antibody test",value:"HIV rapid test"},{label:"DNA PCR",value:"HIV DNA polymerase chain reaction"},{label:"Not done",value:"Not done"}],disableOption:()=>"Yes"===l.value.has_linkage?"Not done":"",buildObs:()=>i.buildValueCoded("Confirmatory hiv test type",l.value.confirmatory_hiv_test_type),validation:()=>{f.value.confirmatory_hiv_test_type="",K("confirmatory_hiv_test_type")&&"Not done"===l.value.confirmatory_hiv_test_type&&"Yes"===l.value.has_linkage&&(f.value.confirmatory_hiv_test_type="Linkage number detected, please select a confirmatory hiv test type")}},confirmatory_hiv_test_location:{label:"Confirmatory hiv test location",required:()=>l.value.confirmatory_hiv_test_type&&"Not done"!==l.value.confirmatory_hiv_test_type,onFormUpdate:(e,t)=>{"confirmatory_hiv_test_type"===e&&"Not done"===t&&(l.value.confirmatory_hiv_test_location="",f.value.confirmatory_hiv_test_location="")},validation:()=>K("confirmatory_hiv_test_location"),searchFacilities:e=>g(e).then(e=>n.value=e),buildObs:()=>{var e,t;return i.buildValueText("Confirmatory hiv test location",null!==(e=null===(t=l.value.confirmatory_hiv_test_location)||void 0===t?void 0:t.name)&&void 0!==e?e:l.value.confirmatory_hiv_test_location)}},confirmatory_hiv_test_date:{label:"Confirmatory hiv test date",required:()=>l.value.confirmatory_hiv_test_type&&"Not done"!==l.value.confirmatory_hiv_test_type,confirmFirmWithArtStartDateValue:()=>{var e;return f.value.confirmatory_hiv_test_date="",!G.art_start_date.required()||(null===(e=l.value.confirmatory_hiv_test_date)||void 0===e||!e.standardDate||!x(l.value.confirmatory_hiv_test_date.standardDate).isAfter(x(l.value.art_start_date.standardDate))||(f.value.confirmatory_hiv_test_date="Confirmatory hiv test date cannot be after ART start date",!1))},onFormUpdate:(e,t)=>{if("confirmatory_hiv_test_type"===e&&"Not done"===t&&(l.value.confirmatory_hiv_test_date="",f.value.confirmatory_hiv_test_date=""),"confirmatory_hiv_test_date"===e){var a;const e=null==t||null===(a=t.value)||void 0===a?void 0:a.standardDate;if(e){var r,n;const t=null!==(r=null===(n=l.value.art_start_date)||void 0===n?void 0:n.standardDate)&&void 0!==r?r:i.getDate(),a=x(t).diff(e,"days");a>=20&&d("Data inconsistency warning",`Confirmatory Date for newly initiated ART patient is ${a} days ago`,"Are you sure this is accurate?",[{name:"No, Re-enter date",slot:"start",color:"success"},{name:"Yes, its accurate",slot:"end",color:"danger"}]).then(e=>{"No, Re-enter date"===e&&(l.value.confirmatory_hiv_test_date={},f.value.confirmatory_hiv_test_date="Re-enter a valid confirmatory date")})}}"art_start_date"!==e&&"ever_registered_at_art_clinic"!==e||G.confirmatory_hiv_test_date.confirmFirmWithArtStartDateValue()},buildObs:()=>Z("Confirmatory hiv test date",l.value.confirmatory_hiv_test_date.standardDate),validation:()=>{if(f.value.confirmatory_hiv_test_date="",K("confirmatory_hiv_test_date")){if(!Q("confirmatory_hiv_test_date"))return;if(!G.confirmatory_hiv_test_date.confirmFirmWithArtStartDateValue())return}}}};function J(e,t){ee(e),Object.keys(G).forEach(a=>{var i;return(null===(i=G[a])||void 0===i?void 0:i.onFormUpdate)&&G[a].onFormUpdate(e,t)})}function K(e){f.value[e]="";const t=G[e],a=!(null==t||!t.required)&&t.required();return a&&!l.value[e]?(f.value[e]="This field is required",!1):a}function Q(e){var t;f.value[e]="";const i="string"==typeof l.value[e]?l.value[e]:null===(t=l.value[e])||void 0===t?void 0:t.standardDate,r=x(i),n=x(o.getSessionDate());return r.isAfter(n)?(f.value[e]=`${G[e].label} cannot be in the future`,!1):!r.isBefore(x(a.getBirthdate()))||(f.value[e]=`${G[e].label} cannot be before birthdate`,!1)}function Z(e,t,a){let r={};return r=t.match(/unknown/i)?i.buildValueText(e,"Unknown"):i.buildValueDate(e,t),r}function ee(e){if(f.value[e]="","function"==typeof G[e].required){if(G[e].required()&&e in l.value&&!l.value[e])return void(f.value[e]="This field is required")}"function"==typeof G[e].validation&&G[e].validation()}return t({onSubmit:async function(){const e="Yes"!==l.value.has_transfer_letter||r.value.validateStagingForm(),t=(Object.keys(G).forEach(e=>ee(e)),Object.keys(f.value).every(e=>`${f.value[e]}`.length<=0));if(!e||!t)return b("Please review form for errors"),!1;try{await i.createEncounter();const e=await Promise.all(Object.keys(G).reduce((e,t)=>{if(t in G&&"function"==typeof G[t].required&&G[t].required()&&"function"==typeof G[t].buildObs){const a=G[t].buildObs();return Array.isArray(a)?[...e,...a]:[...e,a]}return e},[]));return await i.onSubmit(e),await function(){const e=Object.keys(G).filter(e=>"function"==typeof G[e].onSubmit).map(e=>G[e].onSubmit&&G[e].onSubmit());return Promise.all(e)}(),"Yes"!==l.value.has_transfer_letter||await r.value.onSubmit()?(m("ART Clinic Registration saved successfully"),!0):(p("Unable to save Staging information!"),!1)}catch(a){return console.error(a),p("Error has occured while saving observations"),!1}}}),(e,t)=>(q(),D(A($),{style:{margin:"0px auto",width:"80%"}},{default:C(()=>[T(A(I),null,{default:C(()=>[T(A(O),null,{default:C(()=>[T(A(R),null,{default:C(()=>[T(A(z),{size:"12","size-md":"6"},{default:C(()=>[T(B,{required:"",label:"Phone followup?",modelValue:l.value.phone_followup,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value.phone_followup=e),onOnChange:t[1]||(t[1]=e=>J("phone_followup",e)),"error-message":f.value.phone_followup},null,8,["modelValue","error-message"])]),_:1}),T(A(z),{size:"12","size-md":"6"},{default:C(()=>[T(B,{required:"",label:"Home visit followup?",modelValue:l.value.home_visit_followup,"onUpdate:modelValue":t[2]||(t[2]=e=>l.value.home_visit_followup=e),onOnChange:t[3]||(t[3]=e=>J("home_visit_followup",e)),"error-message":f.value.home_visit_followup},null,8,["modelValue","error-message"])]),_:1})]),_:1}),G.phone_number.required()?(q(),D(A(R),{key:0},{default:C(()=>[T(A(z),null,{default:C(()=>[T(A(U),{class:"form-label"},{default:C(()=>[S(F(G.phone_number.label)+" ",1),t[28]||(t[28]=H("span",{style:{color:"red"}},"*",-1))]),_:1,__:[28]}),T(_,{inputHeader:"",sectionHeaderFontWeight:"20",bold:"",unit:"",input:"input",disabled:!1,icon:W.value.icon,placeholder:"Enter phone",iconRight:"",leftText:"",inputWidth:"100%",inputValue:l.value.phone_number,eventType:"input",p_country:k.value,"onUpdate:phone":t[4]||(t[4]=e=>{l.value.phone_number=e,J("phone_number",e)}),onCountryChanged:()=>null,popOverData:W.value.popOverData,onHandleInnerActionBtnPropetiesFn:t[5]||(t[5]=t=>e.$emit("click:innerBtn",W.value)),InnerActionBtnPropeties:W.value.InnerBtn},null,8,["icon","inputValue","p_country","popOverData","InnerActionBtnPropeties"]),f.value.phone_number?(q(),D(A(P),{key:0,color:"danger"},{default:C(()=>[S(F(f.value.phone_number),1)]),_:1})):N("",!0)]),_:1})]),_:1})):N("",!0),G.has_linkage.required()?(q(),D(A(R),{key:1},{default:C(()=>[T(A(z),null,{default:C(()=>[T(B,{required:"",label:"Has linkage number?",modelValue:l.value.has_linkage,"onUpdate:modelValue":t[6]||(t[6]=e=>l.value.has_linkage=e),onOnChange:t[7]||(t[7]=e=>J("has_linkage",e)),"error-message":f.value.has_linkage},null,8,["modelValue","error-message"])]),_:1})]),_:1})):N("",!0),G.linkage_number.required()?(q(),D(A(R),{key:2},{default:C(()=>[T(A(z),null,{default:C(()=>[T(A(U),{class:"form-label"},{default:C(()=>[S(F(G.linkage_number.label)+" ",1),t[29]||(t[29]=H("span",{style:{color:"red"}},"*",-1))]),_:1,__:[29]}),T(s,{inputHeader:"",placeholder:"e.g 1234-002-01-A",inputValue:l.value.linkage_number,"onUpdate:inputValue":t[8]||(t[8]=e=>{l.value.linkage_number=e.target.value,J("linkage_number",e.target.value)}),error:!!f.value.linkage_number},{end:C(()=>[T(A(U),null,{default:C(()=>t[30]||(t[30]=[S("set_site_prefix")])),_:1,__:[30]})]),_:1},8,["inputValue","error"]),f.value.linkage_number?(q(),D(A(P),{key:0,color:"danger"},{default:C(()=>[S(F(f.value.linkage_number),1)]),_:1})):N("",!0)]),_:1})]),_:1})):N("",!0),G.received_arvs.required()?(q(),D(A(R),{key:3},{default:C(()=>[T(A(z),null,{default:C(()=>[T(B,{required:"",label:"Received ARVs?",modelValue:l.value.received_arvs,"onUpdate:modelValue":t[9]||(t[9]=e=>l.value.received_arvs=e),onOnChange:t[10]||(t[10]=e=>J("received_arvs",e)),"error-message":f.value.received_arvs},null,8,["modelValue","error-message"])]),_:1})]),_:1})):N("",!0),G.date_last_taken_arvs.required()?(q(),D(A(R),{key:4},{default:C(()=>[T(A(z),{size:"12","size-md":"6"},{default:C(()=>[T(A(U),{class:"form-label"},{default:C(()=>[S(F(G.date_last_taken_arvs.label)+" ",1),t[31]||(t[31]=H("span",{style:{color:"red"}},"*",-1))]),_:1,__:[31]}),T(y,{place_holder:"",date_prop:l.value.date_last_taken_arvs,onDateUpDated:t[11]||(t[11]=e=>{l.value.date_last_taken_arvs=e,J("date_last_taken_arvs",e)}),error:!!f.value.date_last_taken_arvs},null,8,["date_prop","error"]),f.value.date_last_taken_arvs?(q(),D(A(P),{key:0,color:"danger"},{default:C(()=>[S(F(f.value.date_last_taken_arvs),1)]),_:1})):N("",!0)]),_:1})]),_:1})):N("",!0),G.ever_registered_at_art_clinic.required()?(q(),D(A(R),{key:5},{default:C(()=>[T(A(z),null,{default:C(()=>[T(B,{required:"",label:"Ever registered at ART clinic?",modelValue:l.value.ever_registered_at_art_clinic,"onUpdate:modelValue":t[12]||(t[12]=e=>l.value.ever_registered_at_art_clinic=e),onOnChange:t[13]||(t[13]=e=>J("ever_registered_at_art_clinic",e)),"error-message":f.value.ever_registered_at_art_clinic},null,8,["modelValue","error-message"])]),_:1})]),_:1})):N("",!0),G.location_of_art_initialization.required()?(q(),D(A(R),{key:6},{default:C(()=>[T(A(z),{size:"12","size-md":"6"},{default:C(()=>[T(A(U),{class:"form-label"},{default:C(()=>[S(F(G.location_of_art_initialization.label)+" ",1),t[32]||(t[32]=H("span",{style:{color:"red"}},"*",-1))]),_:1,__:[32]}),T(w,{show_error:!!f.value.location_of_art_initialization,selected_district_ids:[],selected_location:l.value.location_of_art_initialization,onFacilitySelected:t[14]||(t[14]=e=>{l.value.location_of_art_initialization=e.selected_location,J("location_of_art_initialization",e.selected_location)})},null,8,["show_error","selected_location"]),f.value.location_of_art_initialization?(q(),D(A(P),{key:0,color:"danger"},{default:C(()=>[S(F(f.value.location_of_art_initialization),1)]),_:1})):N("",!0)]),_:1}),G.art_number_at_previous_location.required()?(q(),D(A(z),{key:0,size:"12","size-md":"6"},{default:C(()=>[T(A(U),{class:"form-label"},{default:C(()=>[S(F(G.art_number_at_previous_location.label)+" ",1),t[33]||(t[33]=H("span",{style:{color:"red"}},"*",-1))]),_:1,__:[33]}),T(s,{inputHeader:"",placeholder:"Enter previous ART number",inputValue:l.value.art_number_at_previous_location,"onUpdate:inputValue":t[15]||(t[15]=e=>{l.value.art_number_at_previous_location=e.target.value,J("art_number_at_previous_location",e.target.value)}),error:!!f.value.art_number_at_previous_location},null,8,["inputValue","error"]),f.value.art_number_at_previous_location?(q(),D(A(P),{key:0,color:"danger"},{default:C(()=>[S(F(f.value.art_number_at_previous_location),1)]),_:1})):N("",!0)]),_:1})):N("",!0)]),_:1})):N("",!0),G.art_start_date.required()?(q(),D(A(R),{key:7},{default:C(()=>[T(A(z),{size:"12","size-md":"6"},{default:C(()=>[T(A(U),{class:"form-label"},{default:C(()=>[S(F(G.art_start_date.label)+" ",1),t[34]||(t[34]=H("span",{style:{color:"red"}},"*",-1))]),_:1,__:[34]}),T(y,{place_holder:G.art_start_date.label+(G.art_start_date.required()?"*":""),date_prop:l.value.art_start_date,onDateUpDated:t[16]||(t[16]=e=>{l.value.art_start_date=e,J("art_start_date",e)}),error:!!f.value.art_start_date},null,8,["place_holder","date_prop","error"]),f.value.art_start_date?(q(),D(A(P),{key:0,color:"danger"},{default:C(()=>[S(F(f.value.art_start_date),1)]),_:1})):N("",!0)]),_:1})]),_:1})):N("",!0),G.has_transfer_letter.required()?(q(),D(A(R),{key:8},{default:C(()=>[T(A(z),null,{default:C(()=>[T(B,{required:"",label:"Has transfer letter?",modelValue:l.value.has_transfer_letter,"onUpdate:modelValue":t[17]||(t[17]=e=>l.value.has_transfer_letter=e),onOnChange:t[18]||(t[18]=e=>J("has_transfer_letter",e)),"error-message":f.value.has_transfer_letter},null,8,["modelValue","error-message"])]),_:1})]),_:1})):N("",!0),T(A(R),null,{default:C(()=>[G.initial_weight.required()?(q(),D(A(z),{key:0,size:"12","size-md":"6"},{default:C(()=>[T(A(U),{class:"form-label"},{default:C(()=>[S(F(G.initial_weight.label)+" ",1),t[35]||(t[35]=H("span",{style:{color:"red"}},"*",-1))]),_:1,__:[35]}),T(s,{inputHeader:"",placeholder:"1",inputType:"number",inputValue:l.value.initial_weight,"onUpdate:inputValue":t[19]||(t[19]=e=>{l.value.initial_weight=e.target.value,J("initial_weight",e.target.value)}),error:!!f.value.initial_weight,unit:"KG"},null,8,["inputValue","error"]),f.value.initial_weight?(q(),D(A(P),{key:0,color:"danger"},{default:C(()=>[S(F(f.value.initial_weight),1)]),_:1})):N("",!0)]),_:1})):N("",!0),G.initial_height.required()?(q(),D(A(z),{key:1,size:"12","size-md":"6"},{default:C(()=>[T(A(U),{class:"form-label"},{default:C(()=>[S(F(G.initial_height.label)+" ",1),t[36]||(t[36]=H("span",{style:{color:"red"}},"*",-1))]),_:1,__:[36]}),T(s,{inputHeader:"",placeholder:"1",inputType:"number",inputValue:l.value.initial_height,"onUpdate:inputValue":t[20]||(t[20]=e=>{l.value.initial_height=e.target.value,J("initial_height",e.target.value)}),error:!!f.value.initial_height,unit:"CM"},null,8,["inputValue","error"]),f.value.initial_height?(q(),D(A(P),{key:0,color:"danger"},{default:C(()=>[S(F(f.value.initial_height),1)]),_:1})):N("",!0)]),_:1})):N("",!0)]),_:1}),"Yes"===l.value.has_transfer_letter?(q(),D(A(R),{key:9},{default:C(()=>[T(A(z),null,{default:C(()=>[(q(),D(E,{key:l.value.art_start_date,date:l.value.art_start_date,ref_key:"stagingRef",ref:r},null,8,["date"]))]),_:1})]),_:1})):N("",!0),G.cd4_available.required()?(q(),D(A(R),{key:10},{default:C(()=>[T(A(z),null,{default:C(()=>[T(B,{required:"",label:"CD4 available?",modelValue:l.value.cd4_available,"onUpdate:modelValue":t[21]||(t[21]=e=>l.value.cd4_available=e),onOnChange:t[22]||(t[22]=e=>J("cd4_available",e)),"error-message":f.value.cd4_available},null,8,["modelValue","error-message"])]),_:1})]),_:1})):N("",!0),G.cd4_percent.required()?(q(),D(A(R),{key:11},{default:C(()=>[T(A(z),null,{default:C(()=>[T(A(U),{class:"form-label"},{default:C(()=>[S(F(G.cd4_percent.label)+" ",1),t[37]||(t[37]=H("span",{style:{color:"red"}},"*",-1))]),_:1,__:[37]}),T(s,{inputHeader:"",placeholder:"Enter CD4 percent",inputType:"number",inputValue:l.value.cd4_percent,"onUpdate:inputValue":t[23]||(t[23]=e=>{l.value.cd4_percent=e.target.value,J("cd4_percent",e.target.value)}),error:!!f.value.cd4_percent,unit:"%"},null,8,["inputValue","error"]),f.value.cd4_percent?(q(),D(A(P),{key:0,color:"danger"},{default:C(()=>[S(F(f.value.cd4_percent),1)]),_:1})):N("",!0)]),_:1})]),_:1})):N("",!0),G.confirmatory_hiv_test_type.required()?(q(),D(A(R),{key:12},{default:C(()=>[T(A(z),null,{default:C(()=>[T(L,{required:"",label:"Confirmatory hiv test type",modelValue:l.value.confirmatory_hiv_test_type,"onUpdate:modelValue":[t[24]||(t[24]=e=>l.value.confirmatory_hiv_test_type=e),t[25]||(t[25]=e=>J("confirmatory_hiv_test_type",e))],options:G.confirmatory_hiv_test_type.options(),"disable-value":G.confirmatory_hiv_test_type.disableOption(),"error-message":f.value.confirmatory_hiv_test_type},null,8,["modelValue","options","disable-value","error-message"])]),_:1})]),_:1})):N("",!0),G.confirmatory_hiv_test_location.required()?(q(),D(A(R),{key:13},{default:C(()=>[T(A(z),{size:"12","size-md":"6"},{default:C(()=>[T(A(U),{class:"form-label"},{default:C(()=>[S(F(G.confirmatory_hiv_test_location.label)+" ",1),t[38]||(t[38]=H("span",{style:{color:"red"}},"*",-1))]),_:1,__:[38]}),T(w,{show_error:!!f.value.confirmatory_hiv_test_location,selected_district_ids:[],selected_location:l.value.confirmatory_hiv_test_location,onFacilitySelected:t[26]||(t[26]=e=>{l.value.confirmatory_hiv_test_location=e.selected_location,J("confirmatory_hiv_test_location",e.selected_location)})},null,8,["show_error","selected_location"]),f.value.confirmatory_hiv_test_location?(q(),D(A(P),{key:0,color:"danger"},{default:C(()=>[S(F(f.value.confirmatory_hiv_test_location),1)]),_:1})):N("",!0)]),_:1}),G.confirmatory_hiv_test_date.required()?(q(),D(A(z),{key:0,size:"12","size-md":"6"},{default:C(()=>[T(A(U),{class:"form-label"},{default:C(()=>[S(F(G.confirmatory_hiv_test_date.label)+" ",1),t[39]||(t[39]=H("span",{style:{color:"red"}},"*",-1))]),_:1,__:[39]}),T(y,{place_holder:G.confirmatory_hiv_test_date.label+(G.confirmatory_hiv_test_date.required()?"*":""),date_prop:l.value.confirmatory_hiv_test_date,onDateUpDated:t[27]||(t[27]=e=>{l.value.confirmatory_hiv_test_date=e,J("confirmatory_hiv_test_date",e)}),error:!!f.value.confirmatory_hiv_test_date},null,8,["place_holder","date_prop","error"]),f.value.confirmatory_hiv_test_date?(q(),D(A(P),{key:0,color:"danger"},{default:C(()=>[S(F(f.value.confirmatory_hiv_test_date),1)]),_:1})):N("",!0)]),_:1})):N("",!0)]),_:1})):N("",!0)]),_:1})]),_:1})]),_:1}))}}),[["__scopeId","data-v-dc061c59"]]))}}})}();
