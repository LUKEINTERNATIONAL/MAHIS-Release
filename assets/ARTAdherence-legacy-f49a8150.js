System.register(["./vendor-legacy-b155b5ab.js","./lodash-legacy-78c9f2a0.js","./index-legacy-d7d54202.js","./adherence_service-legacy-c26089ae.js","./apexcharts-legacy-d546c9db.js","./chartjs-legacy-11371d29.js","./barcode-qrcode-reader-legacy-b9a6bf31.js"],(function(e,a){"use strict";var t,n,l,o,i,d,c,r,s,u,p,v,m,g,h,f,b,x,w,y,_,I,C,A,S,k,D,V,T,j,E,R,O,P,G;return{setters:[e=>{t=e.Q,n=e.d,l=e.b5,o=e.aa,i=e.aH,d=e.aI,c=e.aJ,r=e.aK,s=e.L,u=e.M,p=e.G,v=e.D,m=e.b7,g=e.bq,h=e.br,f=e.V,b=e.I,x=e.ae,w=e.a,y=e.bx,_=e.cT,I=e.E,C=e.e,A=e.f,S=e.l,k=e.z,D=e.A,V=e.j,T=e.F,j=e.J,E=e.B},e=>{R=e.l},e=>{O=e.u,P=e._},e=>{G=e.A},null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".container[data-v-caa1807f]{display:flex;flex-direction:column;padding:20px;max-width:1200px;margin:0 auto}.back_profile[data-v-caa1807f]{display:flex;align-items:center;margin-bottom:20px;cursor:pointer}.back_profile ion-icon[data-v-caa1807f]{margin-right:5px;font-size:20px}.adherence-card[data-v-caa1807f]{width:100%;margin-bottom:20px}.medication-section[data-v-caa1807f]{margin-bottom:20px}.medication-header[data-v-caa1807f]{font-weight:700;margin-bottom:10px}.medication-inputs[data-v-caa1807f]{display:flex;flex-direction:column;gap:10px}.medication-row[data-v-caa1807f]{display:flex;justify-content:space-between;align-items:center}.medication-name[data-v-caa1807f]{flex:1}.pill-input[data-v-caa1807f]{width:100px;border:1px solid #ccc;border-radius:4px;--padding-start: 10px}.last-visit[data-v-caa1807f]{margin-bottom:20px;font-weight:700}.adherence-table[data-v-caa1807f]{width:100%;border-collapse:collapse;margin-bottom:20px}.table-header[data-v-caa1807f]{display:grid;grid-template-columns:1fr 1fr 1fr;background-color:#f0f0f0;font-weight:700;padding:10px 0}.header-cell[data-v-caa1807f]{padding:8px;text-align:center}.table-row[data-v-caa1807f]{display:grid;grid-template-columns:1fr 1fr 1fr;border-bottom:1px solid #eee}.header-row[data-v-caa1807f]{background-color:#f0f0f0;font-weight:700}.row-label[data-v-caa1807f]{padding:8px}.row-value[data-v-caa1807f]{padding:8px;text-align:center}.adherence-input[data-v-caa1807f]{width:80px;margin:0 auto;border:1px solid #ccc;border-radius:4px;--padding-start: 10px}.error-text[data-v-caa1807f]{color:red}.agree-section[data-v-caa1807f]{display:flex;align-items:center;margin-top:20px}.agree-label[data-v-caa1807f]{margin-right:20px}.required[data-v-caa1807f]{color:red}.radio-options[data-v-caa1807f]{display:flex}.radio-options ion-item[data-v-caa1807f]{--padding-start: 0;--inner-padding-end: 0;margin-right:20px}.save-button-container[data-v-caa1807f]{display:flex;justify-content:flex-start;margin-top:20px}.save-button[data-v-caa1807f]{--background: #006400;--color: white}\n",document.head.appendChild(a);const M={lastVisitDate:"29/Apr/2023",daysElapsed:40,medications:[{name:"Cotrimoxazole (960mg)",remaining:0,tabsGiven:184,tabsPer:"1 OOD",expected:0,actual:0,dosesMissed:100,dosesConsumed:65,adherenceStatus:"Explore problem"},{name:"TDF300/3TC300/DTG50",remaining:0,tabsGiven:184,tabsPer:"1 OOD",expected:0,actual:0,dosesMissed:100,dosesConsumed:65,adherenceStatus:"Explore problem"}],agreeWithCalculation:!0},U=t("ARTAdherence",{state:()=>R.cloneDeep(M),actions:{updateMedicationRemaining(e,a){e>=0&&e<this.medications.length&&(this.medications[e].remaining=a)},updateExpected(e,a){e>=0&&e<this.medications.length&&(this.medications[e].expected=a)},updateActual(e,a){e>=0&&e<this.medications.length&&(this.medications[e].actual=a)},setAgreeWithCalculation(e){this.agreeWithCalculation=e},resetState(){Object.assign(this,R.cloneDeep(M))},calculateAdherence(){}}}),W=n({name:"ARTAdherence",components:{IonPage:l,IonContent:o,IonCard:i,IonCardHeader:d,IonCardTitle:c,IonCardContent:r,IonAccordion:s,IonAccordionGroup:u,IonItem:p,IonLabel:v,IonInput:m,IonRadio:g,IonRadioGroup:h,IonButton:f,IonIcon:b},setup(){const e=x(),a=U(),t=O();return w((async()=>{try{var e;const a=null===(e=t.patient)||void 0===e?void 0:e.patient_id;if(a){const e=new G(a,1);await e.loadPreviousDrugs(),e.receivedDrugsBefore()}}catch(a){console.error("Error initializing adherence data:",a)}})),{adherenceStore:a,chevronBackOutline:y,chevronDownOutline:_,goBackToProfile:()=>{e.push("/patientProfile")},updateRemaining:(e,t)=>{const n=t.detail.value?parseInt(t.detail.value):0;a.updateMedicationRemaining(e,n)},updateExpected:(e,t)=>{const n=t.detail.value?parseInt(t.detail.value):0;a.updateExpected(e,n)},updateActual:(e,t)=>{const n=t.detail.value?parseInt(t.detail.value):0;a.updateActual(e,n)},updateAgreeWithCalculation:e=>{a.setAgreeWithCalculation("yes"===e.detail.value)},saveAdherence:()=>{console.log("Adherence data saved:",a.$state)}}}}),B={class:"container"},q={class:"ion-padding",slot:"content"},z={class:"medication-section"},L={class:"medication-inputs"},F={class:"medication-name"},H={class:"ion-padding",slot:"content"},J={class:"last-visit"},K={class:"adherence-table"},N={class:"table-header"},Q={class:"table-row"},Y={class:"table-row"},$={class:"table-row header-row"},X={class:"table-row"},Z={class:"table-row"},ee={class:"table-row header-row"},ae={class:"table-row"},te={class:"table-row"},ne={class:"table-row"},le={class:"agree-section"},oe={class:"radio-options"},ie={class:"save-button-container"};e("default",P(W,[["render",function(e,a,t,n,l,o){const i=I("ion-card-title"),d=I("ion-card-header"),c=I("ion-label"),r=I("ion-item"),s=I("ion-input"),u=I("ion-accordion"),p=I("ion-radio"),v=I("ion-radio-group"),m=I("ion-accordion-group"),g=I("ion-button"),h=I("ion-card-content"),f=I("ion-card");return C(),A("div",B,[S(f,{class:"adherence-card"},{default:k((()=>[S(d,null,{default:k((()=>[S(i,null,{default:k((()=>a[1]||(a[1]=[D("ART adherence")]))),_:1,__:[1]})])),_:1}),S(h,null,{default:k((()=>[S(m,null,{default:k((()=>[S(u,{value:"pills","toggle-icon":e.chevronDownOutline},{default:k((()=>[S(r,{slot:"header",color:"light"},{default:k((()=>[S(c,null,{default:k((()=>a[2]||(a[2]=[D("Pills remaining (brought to clinic)")]))),_:1,__:[2]})])),_:1}),V("div",q,[V("div",z,[a[3]||(a[3]=V("div",{class:"medication-header"},"Medication (enter amount remaining for each drug)",-1)),V("div",L,[(C(!0),A(T,null,j(e.adherenceStore.medications,((a,t)=>(C(),A("div",{class:"medication-row",key:t},[V("div",F,E(a.name),1),S(s,{type:"number",placeholder:"0",class:"pill-input",modelValue:a.remaining,"onUpdate:modelValue":e=>a.remaining=e,onIonChange:a=>e.updateRemaining(t,a)},null,8,["modelValue","onUpdate:modelValue","onIonChange"])])))),128))])])])])),_:1},8,["toggle-icon"]),S(u,{value:"arv","toggle-icon":e.chevronDownOutline},{default:k((()=>[S(r,{slot:"header",color:"light"},{default:k((()=>[S(c,null,{default:k((()=>a[4]||(a[4]=[D("ARV adherence")]))),_:1,__:[4]})])),_:1}),V("div",H,[V("div",J,"Last visit: "+E(e.adherenceStore.lastVisitDate)+" ("+E(e.adherenceStore.daysElapsed)+" days elapsed)",1),V("div",K,[V("div",N,[a[5]||(a[5]=V("div",{class:"header-cell"},"Prescription",-1)),(C(!0),A(T,null,j(e.adherenceStore.medications,((e,a)=>(C(),A("div",{class:"header-cell",key:a},E(e.name),1)))),128))]),V("div",Q,[a[6]||(a[6]=V("div",{class:"row-label"},"Tabs given",-1)),(C(!0),A(T,null,j(e.adherenceStore.medications,((e,a)=>(C(),A("div",{class:"row-value",key:a},E(e.tabsGiven),1)))),128))]),V("div",Y,[a[7]||(a[7]=V("div",{class:"row-label"},"Tabs per",-1)),(C(!0),A(T,null,j(e.adherenceStore.medications,((e,a)=>(C(),A("div",{class:"row-value",key:a},E(e.tabsPer),1)))),128))]),V("div",$,[a[8]||(a[8]=V("div",{class:"row-label"},"Tabs remaining",-1)),(C(!0),A(T,null,j(e.adherenceStore.medications,((e,a)=>(C(),A("div",{class:"row-value",key:a})))),128))]),V("div",X,[a[9]||(a[9]=V("div",{class:"row-label"},"Expected",-1)),(C(!0),A(T,null,j(e.adherenceStore.medications,((a,t)=>(C(),A("div",{class:"row-value",key:t},[S(s,{type:"number",placeholder:"0",class:"adherence-input",modelValue:a.expected,"onUpdate:modelValue":e=>a.expected=e,onIonChange:a=>e.updateExpected(t,a)},null,8,["modelValue","onUpdate:modelValue","onIonChange"])])))),128))]),V("div",Z,[a[10]||(a[10]=V("div",{class:"row-label"},"Actual (counted)",-1)),(C(!0),A(T,null,j(e.adherenceStore.medications,((a,t)=>(C(),A("div",{class:"row-value",key:t},[S(s,{type:"number",placeholder:"0",class:"adherence-input",modelValue:a.actual,"onUpdate:modelValue":e=>a.actual=e,onIonChange:a=>e.updateActual(t,a)},null,8,["modelValue","onUpdate:modelValue","onIonChange"])])))),128))]),V("div",ee,[a[11]||(a[11]=V("div",{class:"row-label"},"Adherence",-1)),(C(!0),A(T,null,j(e.adherenceStore.medications,((e,a)=>(C(),A("div",{class:"row-value",key:a})))),128))]),V("div",ae,[a[12]||(a[12]=V("div",{class:"row-label"},"Doses missed / Unaccounted for",-1)),(C(!0),A(T,null,j(e.adherenceStore.medications,((e,a)=>(C(),A("div",{class:"row-value",key:a},E(e.dosesMissed)+" missed ",1)))),128))]),V("div",te,[a[13]||(a[13]=V("div",{class:"row-label"},"Doses consumed",-1)),(C(!0),A(T,null,j(e.adherenceStore.medications,((e,a)=>(C(),A("div",{class:"row-value",key:a},E(e.dosesConsumed)+"% ",1)))),128))]),V("div",ne,[a[14]||(a[14]=V("div",{class:"row-label"},"ARTadherence",-1)),(C(!0),A(T,null,j(e.adherenceStore.medications,((e,a)=>(C(),A("div",{class:"row-value error-text",key:a},E(e.adherenceStatus),1)))),128))])]),V("div",le,[a[17]||(a[17]=V("div",{class:"agree-label"},[D("Agree with adherence calculation "),V("span",{class:"required"},"*")],-1)),V("div",oe,[S(v,{value:e.adherenceStore.agreeWithCalculation?"yes":"no",onIonChange:a[0]||(a[0]=a=>e.updateAgreeWithCalculation(a))},{default:k((()=>[S(r,{lines:"none"},{default:k((()=>[S(c,null,{default:k((()=>a[15]||(a[15]=[D("Yes")]))),_:1,__:[15]}),S(p,{slot:"start",value:"yes"})])),_:1}),S(r,{lines:"none"},{default:k((()=>[S(c,null,{default:k((()=>a[16]||(a[16]=[D("No")]))),_:1,__:[16]}),S(p,{slot:"start",value:"no"})])),_:1})])),_:1},8,["value"])])])])])),_:1},8,["toggle-icon"])])),_:1}),V("div",ie,[S(g,{class:"save-button",onClick:e.saveAdherence},{default:k((()=>a[18]||(a[18]=[D("Save")]))),_:1,__:[18]},8,["onClick"])])])),_:1})])),_:1})])}],["__scopeId","data-v-caa1807f"]]))}}}));
