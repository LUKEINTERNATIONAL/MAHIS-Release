System.register(["./StandardForm.vue_vue_type_script_setup_true_lang-legacy-D-vg-ICH.js","./index-legacy-C4TpyYf0.js","./useVitals-legacy-DG9eVQUB.js","./vendor-legacy-CJZC4Dfn.js","./previousVitals-legacy-DGNFHZt3.js","./encounter_type-legacy-DEmN7Jhn.js"],function(e,t){"use strict";var r,i,a,n,o,s,u,l,c,d,p,g,m,y,v,h,f,R,T,S,P,F,b;return{setters:[e=>{r=e._},e=>{i=e.i,a=e.ak,n=e.t,o=e.P,s=e.j,u=e.Q},e=>{l=e.u},e=>{c=e.r,d=e.c,p=e.d,g=e.a,m=e.E,y=e.e,v=e.f,h=e.l,f=e.z,R=e.k,T=e.A,S=e.F},e=>{P=e.P},e=>{F=e.s,b=e.E}],execute:function(){const t={class:"ion-padding",slot:"content"};e("_",p({__name:"Vitals",setup(e,{expose:p}){const _=(()=>{const e=l(),t=c(""),r=d(()=>[{componentType:"Heading",name:"Height and weight",grid:{s:"3"}},{componentType:"inputField",name:"Height (cm)",header:"Height",unit:"cm",type:"number",icon:i.height,value:t.value||"",grid:{s:"4.5"},validation:e=>a.vitalsHeight(e),disabled:()=>t.value},{componentType:"inputField",name:"Weight",header:"Weight",unit:"kg",icon:i.weight,type:"number",grid:{s:"4.5"},validation:e=>a.vitalsWeight(e)},{grid:{s:"3"}},{componentType:"Alert",grid:{s:"9"},condition:async t=>null==a.vitalsWeight(t.Weight)&&null==a.vitalsHeight(t["Height (cm)"])&&await e.setBMI(t["Height (cm)"],t.Weight)}]);return{height:t,loadHeight:async()=>{t.value=await e.checkHeightServer()},heightWeightFormSection:r}})(),w=(()=>{const e=l();return{bloodPressureFormSection:d(()=>[{componentType:"Heading",name:"Blood pressure",grid:{s:"3"}},{componentType:"inputField",name:"Systolic",header:"Systolic Pressure",unit:"mmHg",type:"number",icon:i.systolicPressure,grid:{s:"4.5"},validation:e=>a.notRequiredVitalsSystolicPressure(e)},{componentType:"inputField",name:"Diastolic",header:"Diastolic pressure",unit:"mmHg",icon:i.diastolicPressure,type:"number",grid:{s:"4.5"},validation:e=>a.notRequiredVitalsDiastolicPressure(e)},{grid:{s:"3"}},{componentType:"Alert",grid:{s:"9"},condition:async t=>null==a.vitalsSystolic(t.Systolic)&&null==a.vitalsDiastolic(t.Diastolic)&&await e.updateBP(t.Systolic,t.Diastolic)}])}})(),H=(()=>{const e=l();return{temperaturePulseRateForm:d(()=>[{componentType:"Heading",name:"Temperature and rates",grid:{s:"3"}},{componentType:"inputField",name:"Temperature",header:"Temperature",unit:"°C",type:"number",icon:i.temprature,grid:{s:"4.5"},validation:e=>a.notRequiredVitalsTemperature(e)},{componentType:"inputField",name:"Pulse",header:"Pulse rate",unit:"BMP",icon:i.pulse,type:"number",grid:{s:"4.5"},validation:e=>a.notRequiredVitalsPulseRate(e)},{grid:{s:"3"}},{componentType:"Alert",grid:{s:"9"},condition:async t=>{if(null==a.vitalsTemperature(t.Temperature)){const r=e.getTemperatureStatus(t.Temperature);return await e.updateRate("temp",t.Temperature,"°C",r,4)}return!1}},{grid:{s:"3"}},{componentType:"Alert",grid:{s:"9"},condition:async t=>{if(null==a.vitalsPulseRate(t.Pulse)){const r=e.getPulseRateStatus(t.Pulse);return await e.updateRate("pulse",t.Pulse,"BMP",r,4)}return!1}}])}})(),V=(()=>{const e=l();return{respiratoryRateOxygenForm:d(()=>[{grid:{s:"3"}},{componentType:"inputField",name:"Respiratory rate",header:"Respiratory rate",unit:"BMP",icon:i.respiratory,type:"number",grid:{s:"4.5"},validation:e=>a.notRequiredVitalsRespiratoryRate(e)},{componentType:"inputField",name:"SAO2",header:"Oxygen saturation",unit:"%",icon:i.oxgenStaturation,type:"number",grid:{s:"4.5"},validation:e=>a.notRequiredVitalsOxygenSaturation(e)},{grid:{s:"3"}},{componentType:"Alert",grid:{s:"9"},condition:async t=>{if(null==a.vitalsRespiratoryRate(t["Respiratory rate"])){const r=e.getRespiratoryRateStatus(t["Respiratory rate"]);return await e.updateRate("respiratory",t["Respiratory rate"],"BMP",r,4)}return!1}},{grid:{s:"3"}},{componentType:"Alert",grid:{s:"9"},condition:async t=>{if(null==a.vitalsOxygenSaturation(t.SAO2)){const r=e.getOxygenSaturationStatus(t.SAO2);return await e.updateRate("oxygen",t.SAO2,"%",r,4)}return!1}}])}})(),x=c(null),A=async e=>{const t=[];for(const[r,i]of Object.entries(e))("string"==typeof i&&i||"number"==typeof i)&&t.push(await u.buildValueNumber(r,parseInt(String(i))));return t};g(async()=>{await _.loadHeight()});const O=d(()=>[..._.heightWeightFormSection.value,{grid:{s:"3"}},{grid:{s:"9"},componentType:"Dashes"},...w.bloodPressureFormSection.value,{grid:{s:"3"}},{grid:{s:"9"},componentType:"Dashes"},...H.temperaturePulseRateForm.value,...V.respiratoryRateOxygenForm.value]);return p({validateForm:()=>{var e;return null===(e=x.value)||void 0===e?void 0:e.validateForm()},onSubmit:async()=>{if(!x.value)return console.error("Form reference is not available"),!1;const e=x.value.getFormValues(),t=await A(e);if(x.value.validateForm()||!t.length)return n("Vitals not saved"),!1;const r=(new o).getObj();return await F(r.patientID,b.VITALS,t),x.value.resetForm(),s("Vitals saved successful"),!0}}),(e,i)=>{const a=m("ion-label"),n=m("ion-item"),o=m("ion-accordion"),s=m("ion-accordion-group"),u=m("ion-row");return v(),y(S,null,[h(r,{formData:O.value,ref_key:"formRef",ref:x},null,8,["formData"]),h(u,null,{default:f(()=>[h(s,{ref:"accordionGroup",class:"previousView"},{default:f(()=>[h(o,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:f(()=>[h(n,{slot:"header",color:"light"},{default:f(()=>[h(a,{class:"previousLabel"},{default:f(()=>i[0]||(i[0]=[T("Previous measurements")])),_:1,__:[0]})]),_:1}),R("div",t,[h(P)])]),_:1})]),_:1},512)]),_:1})],64)}}}))}}});
