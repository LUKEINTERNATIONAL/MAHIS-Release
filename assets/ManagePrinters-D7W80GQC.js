import{d as D,c5 as M,r as c,a as b,y as L,E as C,f,z as a,e as y,m as h,l as s,k as v,u as n,ai as B,ah as N,F as S,P as T,L as z,K as V,A as p,J as A,I as k,p as E,b8 as F}from"./vendor-D-WLeKlv.js";import{P as J,T as K,_ as $}from"./index-DTI-7xDn.js";import"./lodash-Dt8AsbQm.js";import"./apexcharts-Da_cQd7P.js";import"./chartjs-B18ZUGfB.js";import"./barcode-qrcode-reader-CaMS9KfR.js";const O={key:0,class:"spinner-overlay"},R={class:"container"},j=D({__name:"ManagePrinters",setup(q){M();const o=c(!1),_=c(Math.random()),m=c([]),u=c({}),d=new J;async function P(){if(o.value)return;o.value=!0;const t=await d.getAllPrinters();console.log("Discovered printers",JSON.stringify(t)),m.value=w(t),o.value=!1,_.value=Math.random()}function g(t,e){return(t.name||t.address).localeCompare(e.name||e.address)}function I(t){d.setDefaultPrinter(t),u.value=t,_.value=Math.random(),P()}function r(t){return g(t,u.value)===0}function w(t){return t.sort((e,l)=>r(e)&&!r(l)?-1:!r(e)&&r(l)?1:g(e,l))}return b(async()=>{u.value=await d.getDefaultPrinter()||{},m.value.push(u.value),P()}),(t,e)=>{const l=L("ion-spinner");return f(),C(n(F),{class:E({loading:o.value})},{default:a(()=>[o.value?(f(),y("div",O,[s(l,{name:"bubbles"}),e[0]||(e[0]=v("div",{class:"loading-text"},"Please wait...",-1))])):h("",!0),s(K),s(n(B),null,{default:a(()=>[v("div",R,[e[3]||(e[3]=v("h4",{style:{width:"100%","text-align":"center","font-weight":"700"}},"Printer Management",-1)),s(n(N),null,{default:a(()=>[(f(!0),y(S,null,T(m.value,i=>(f(),C(n(z),null,{default:a(()=>[s(n(V),null,{default:a(()=>[p(A(i.name),1)]),_:2},1024),s(n(k),{size:"small",color:r(i)?"success":"primary",onClick:x=>I(i),disabled:r(i)},{default:a(()=>e[1]||(e[1]=[p(" Set as Default ")])),_:2,__:[1]},1032,["color","onClick","disabled"]),s(n(k),{onClick:x=>n(d).printTestLbl(i),size:"small"},{default:a(()=>e[2]||(e[2]=[p(" Test Print ")])),_:2,__:[2]},1032,["onClick"])]),_:2},1024))),256))]),_:1})])]),_:1})]),_:1},8,["class"])}}}),Y=$(j,[["__scopeId","data-v-136c2001"]]);export{Y as default};
