System.register(["./vendor-legacy-DG-htyL-.js","./index-legacy-CgRFaIIG.js","./Img-legacy-BpF9IlgC.js","./lodash-legacy-C-x9g9Na.js"],(function(e,a){"use strict";var t,l,n,o,i,s,d,r,u,c,p,g,f,v,m,y,b,x,_,w,h,k,I,z,S,j,C,E,F,P,U,H,L,M,N,R,$;return{setters:[e=>{t=e.d,l=e.r,n=e.ae,o=e.a,i=e.E,s=e.y,d=e.f,r=e.z,u=e.l,c=e.u,p=e.ad,g=e.k,f=e.aQ,v=e.aN,m=e.c_,y=e.T,b=e.e,x=e.A,_=e.B,w=e.b6,h=e.D,k=e.c7,I=e.c$,z=e.bH,S=e.d0,j=e.W,C=e.b8},e=>{E=e.n,F=e.K,P=e.m,U=e.t,H=e.J,L=e.M,M=e.p,N=e.N,R=e._},e=>{$=e.i},null],execute:function(){var a=document.createElement("style");a.textContent=".login-page[data-v-6ed0b483]{background-color:#fff}.login-container[data-v-6ed0b483]{display:flex;justify-content:center;align-items:center;text-align:center;height:90vh}.login-title[data-v-6ed0b483]{font-size:24px;margin-bottom:30px;font-weight:700;margin-top:20px}.input-fields[data-v-6ed0b483]{margin-bottom:35px}.password-toggle[data-v-6ed0b483]{cursor:pointer;position:absolute;margin-top:-73px;margin-left:130px;z-index:1000}.login-button[data-v-6ed0b483]{color:#fff;margin-top:30px}.signup-link[data-v-6ed0b483]{margin-top:50px}.signup-link a[data-v-6ed0b483]{text-decoration:underline}.password-toggle[data-v-6ed0b483]{font-size:20px}.login_img[data-v-6ed0b483]{width:90px;margin:auto}ion-card[data-v-6ed0b483]{min-width:330px}@media (max-width: 902px){.login-page[data-v-6ed0b483]{--ion-background-color: #ffffff}ion-card[data-v-6ed0b483]{box-shadow:unset}}\n/*$vite$:1*/",document.head.appendChild(a);const A={class:"login-container"},K={key:0,style:{"justify-content":"center",display:"block"}},q={style:{"font-size":"15px"}},D={style:{"font-size":"12px",color:"#34af4d"}},O={key:1},T={style:{"font-size":"15px"}},B={style:{"text-align":"left"}};e("default",R(t({__name:"Login",setup(e){const a=l(""),t=l(""),R=l(""),G=l(!1),J=l("test"),Q=l(new N),W=n(),V=E(),X=async()=>{if(a.value&&t.value){Q.value.setUsername(a.value);try{await Q.value.login(t.value),await(async()=>{const e=H(),a=await L();a&&(e.setUserFacilityName(a.name),e.setFacilityLocation(a),localStorage.setItem("facility_code",a.code))})(),await(async()=>{const e=await Q.value.checkUserPrograms(void 0);null!=e&&e.programs&&M().setAuthorizedPrograms(null==e?void 0:e.programs)})(),W.push("/home")}catch(e){e instanceof F?P("Invalid username or password"):P(`${e}`,5e4)}}else U("Complete form to log in")};return o((async()=>{localStorage.setItem("apiKey",""),await Q.value.loadConfig(),R.value=localStorage.getItem("core_version")||"",await(async()=>{V.terminate(),await E().postData("SET_OFFLINE_PROGRAMS")})()})),(e,l)=>{const n=i("ion-icon");return d(),s(c(C),null,{default:r((()=>[u(c(p),{class:"ion-padding login-page"},{default:r((()=>[g("div",A,[u(c(f),{style:{"background-color":"#fff"}},{default:r((()=>[u(c(v),null,{default:r((()=>[u(c(m),{class:"login_img",src:c($)("mw.png"),id:"logo"},null,8,["src"]),u(c(y),{class:"login-title"},{default:r((()=>["development"===J.value||"test"===J.value?(d(),b("span",K,[g("div",null,[l[3]||(l[3]=x(" MaHIS ")),g("small",q,"(v"+_(R.value)+")",1)]),g("div",D,"("+_(J.value)+")",1)])):(d(),b("span",O,[l[4]||(l[4]=x(" MaHIS ")),g("small",T,"(v"+_(R.value)+")",1)]))])),_:1}),g("span",B,[u(c(w),{value:a.value,onIonInput:l[0]||(l[0]=e=>a.value=e.target.value||""),type:"text",label:"Username",ref:"usernameRef","label-placement":"floating",fill:"outline",placeholder:"Enter Username",class:"input-fields",required:""},{default:r((()=>[u(c(h),{slot:"end"},{default:r((()=>[u(n,{icon:c(k)},null,8,["icon"])])),_:1})])),_:1},8,["value"]),u(c(w),{value:t.value,onIonInput:l[2]||(l[2]=e=>t.value=e.target.value||""),type:G.value?"text":"password",label:"Password",ref:"passwordRef","label-placement":"floating",fill:"outline",placeholder:"Enter Password",class:"input-fields",required:"",onKeydown:I(X,["enter"])},{default:r((()=>[u(c(h),{slot:"end"},{default:r((()=>[u(n,{icon:G.value?c(z):c(S),onClick:l[1]||(l[1]=e=>G.value=!G.value)},null,8,["icon"])])),_:1})])),_:1},8,["value","type"])]),u(c(j),{expand:"block",style:{"--background":"var(--ion-color-primary)","font-size":"var(--ion-button-font)"},onClick:X,class:"login-button"},{default:r((()=>l[5]||(l[5]=[x(" Login ")]))),_:1,__:[5]}),l[6]||(l[6]=g("p",{class:"signup-link"},[x("For help click "),g("a",{href:"#"},"Here")],-1))])),_:1,__:[6]})])),_:1})])])),_:1})])),_:1})}}}),[["__scopeId","data-v-6ed0b483"]]))}}}));
