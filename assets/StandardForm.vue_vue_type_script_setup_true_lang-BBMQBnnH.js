import{d as L,e as h,m as c,f as o,$ as q,B as F,r as z,w as E,a as ne,c as I,k as N,p as S,A as D,l as A,y as m,u as g,a3 as oe,z as w,D as J,I as R,cy as ue,F as j,L as G,cz as se,W as te,d9 as W,bO as ee,E as Z,b0 as K,ad as ae,ae as le,bR as Y,bn as re,br as ce,d0 as de,n as fe,bm as ve,aa as ge,ab as he}from"./vendor-CIegBHSo.js";import{_ as X,H as ie}from"./index-CUlU9rSI.js";const pe=L({__name:"Heading",props:{config:{}},setup(H){return(O,$)=>O.config.name!="null"?(o(),h("div",{key:0,style:q("font-weight:700; width:100%; text-align:"+O.config.position+";"),class:"item_header"},F(O.config.name),5)):c("",!0)}}),ye={key:0,class:"required"},be={key:1,class:"left-text"},me={key:1,class:"static-unit"},ke=L({__name:"InputField",props:{config:{},allFormValues:{}},emits:["update:value","field-changed","update:unit"],setup(H,{expose:O,emit:$}){const e=H,k=$,n=z(e.config.initialValue||e.config.value||""),d=z(e.config.initialUnit||(e.config.unitOptions?null:"")),p=z(!1),y=z(!1);E(()=>e.config.initialValue||e.config.value,l=>{l!==void 0&&(n.value=l)}),E(()=>e.config.initialUnit,l=>{l!==void 0&&l!==d.value&&(d.value=l)}),ne(()=>{e.config.unitOptions&&e.config.initialUnit!==void 0&&e.config.initialUnit!==null&&(k("update:unit",e.config.initialUnit),k("field-changed",{fieldName:"".concat(e.config.name||e.config.header,"_unit"),value:e.config.initialUnit,config:e.config}))});const V=I(()=>{if(typeof e.config.disabled=="boolean")return e.config.disabled;if(typeof e.config.disabled=="function")try{return e.config.disabled(e.allFormValues)}catch(l){return console.warn("Disabled function error:",l),!1}return!1}),u=I(()=>{if(e.config.condition&&typeof e.config.condition=="function")try{return e.config.condition(e.allFormValues)}catch(l){return console.warn("Condition function error:",l),!1}return!0}),b=I(()=>{var l,v;return!u.value||V.value?null:((v=(l=e.config).validation)==null?void 0:v.call(l,n.value))||null}),r=I(()=>V.value?!1:e.config.error||b.value!==null&&p.value),_=I(()=>{var l,v;return!u.value||V.value?null:e.config.unitOptions&&((v=(l=e.config).unitValidation)==null?void 0:v.call(l,d.value))||null}),T=I(()=>V.value?!1:_.value!==null&&y.value),U=l=>{var v,s;p.value=!0,(s=(v=e.config).onBlur)==null||s.call(v,n.value,l.detail)},f=l=>{var v,s;p.value=!0,(s=(v=e.config).onInput)==null||s.call(v,n.value,l)},t=l=>{var v,s;(s=(v=e.config).onClick)==null||s.call(v,n.value,l)},i=l=>{var v,s;(s=(v=e.config).onActionClick)==null||s.call(v,n.value,l)},a=()=>{y.value=!0};return E(V,l=>{l&&(n.value&&(n.value=""),d.value&&(d.value=e.config.unitOptions&&e.config.unitOptions.length>0?e.config.unitOptions[0].value:null))}),E(n,l=>{var v,s;(s=(v=e.config).onChange)==null||s.call(v,l),k("update:value",l),k("field-changed",{fieldName:e.config.name||e.config.header,value:l,config:e.config})}),E(d,l=>{k("update:unit",l),k("field-changed",{fieldName:"".concat(e.config.name||e.config.header,"_unit"),value:l,config:e.config})}),O({getValue:()=>n.value,getUnit:()=>d.value,setValue:l=>n.value=l,setUnit:l=>d.value=l,isValid:I(()=>V.value||b.value===null&&_.value===null),validate:()=>V.value?null:(p.value=!0,y.value=!0,b.value&&_.value?"".concat(b.value,"\n").concat(_.value):b.value?b.value:_.value?_.value:null),shouldShow:u,markAsTouched:()=>{p.value=!0,y.value=!0},resetTouched:()=>{p.value=!1,y.value=!1}}),(l,v)=>{var s,B;return o(),h("div",null,[l.config.header?(o(),h("h6",{key:0,class:S(l.config.bold)},[D(F(l.config.header)+" ",1),((B=(s=l.config).validation)==null?void 0:B.call(s,""))!=null?(o(),h("span",ye,"*")):c("",!0)],2)):c("",!0),N("div",{style:q({width:l.config.width||"100%"})},[A(g(oe),{modelValue:n.value,"onUpdate:modelValue":v[1]||(v[1]=M=>n.value=M),onIonBlur:U,onIonInput:f,onClick:t,fill:"outline",placeholder:l.config.placeholder,inputmode:l.config.type==="number"?"numeric":"text",disabled:V.value,class:S(["custom-input",{error:r.value}]),style:q({minHeight:(l.config.minHeight||56)+"px"})},{default:w(()=>{var M;return[l.config.icon||l.config.leftText?(o(),m(g(J),{key:0,slot:"start",class:"start-content"},{default:w(()=>[l.config.icon?(o(),m(g(R),{key:0,icon:l.config.icon},null,8,["icon"])):c("",!0),l.config.leftText?(o(),h("span",be,F(l.config.leftText),1)):c("",!0)]),_:1})):c("",!0),l.config.unitOptions||l.config.unit||l.config.rightIcon?(o(),m(g(J),{key:1,slot:"end",class:"end-content"},{default:w(()=>[l.config.rightIcon&&!l.config.unitOptions?(o(),m(g(R),{key:0,icon:l.config.rightIcon},null,8,["icon"])):c("",!0),l.config.unit&&!l.config.unitOptions?(o(),h("span",me,F(l.config.unit),1)):c("",!0),l.config.unitOptions?(o(),m(g(ue),{key:2,modelValue:d.value,"onUpdate:modelValue":v[0]||(v[0]=P=>d.value=P),interface:"popover",placeholder:l.config.unitPlaceholder,class:S(["unit-dropdown unit-select-popover",{error:T.value}]),"aria-label":"Select Unit",onIonBlur:a},{default:w(()=>[(o(!0),h(j,null,G(l.config.unitOptions,P=>(o(),m(g(se),{key:P.value,value:P.value},{default:w(()=>[D(F(P.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","placeholder","class"])):c("",!0)]),_:1})):c("",!0),(M=l.config.actionButton)!=null&&M.show?(o(),m(g(te),{key:2,slot:"end",onClick:i,size:"small"},{default:w(()=>[l.config.actionButton.icon?(o(),m(g(R),{key:0,icon:l.config.actionButton.icon,slot:"start"},null,8,["icon"])):c("",!0),D(" "+F(l.config.actionButton.text),1)]),_:1})):c("",!0)]}),_:1},8,["modelValue","placeholder","inputmode","disabled","class","style"]),b.value&&p.value?(o(),m(g(W),{key:0,class:"error-note"},{default:w(()=>[D(F(b.value),1)]),_:1})):c("",!0),_.value&&y.value?(o(),m(g(W),{key:1,class:"error-note unit-error-note"},{default:w(()=>[D(F(_.value),1)]),_:1})):c("",!0)],4)])}}}),Ve=X(ke,[["__scopeId","data-v-d77064ec"]]),Fe={key:0,class:"required"},Ie={key:1,class:"checkbox-group"},Ce={key:2,class:"checkbox-list"},we={class:"list-item-content"},_e={class:"list-item-left"},Se={class:"list-item-text"},Te=L({__name:"CheckboxField",props:{config:{},allFormValues:{}},emits:["update:value","field-changed"],setup(H,{expose:O,emit:$}){const e=H,k=$,n=z(y()),d=z(V()),p=z(!1);function y(){return e.config.type==="single"&&(e.config.initialValue||e.config.value)||!1}function V(){if(e.config.type==="multiple"||e.config.type==="list"){const s=e.config.initialValue||e.config.value;return Array.isArray(s)?[...s]:[]}return[]}E(()=>e.config.initialValue||e.config.value,s=>{e.config.type==="single"?n.value=s||!1:(e.config.type==="multiple"||e.config.type==="list")&&(d.value=Array.isArray(s)?[...s]:[])});const u=I(()=>{if(typeof e.config.disabled=="boolean")return e.config.disabled;if(typeof e.config.disabled=="function")try{return e.config.disabled(e.allFormValues)}catch(s){return console.warn("Disabled function error:",s),!1}return!1});E(u,s=>{s&&(e.config.type==="single"?n.value&&(n.value=!1):d.value.length>0&&(d.value=[]))});const b=I(()=>{if(e.config.condition&&typeof e.config.condition=="function")try{return e.config.condition(e.allFormValues)}catch(s){return console.warn("Condition function error:",s),!1}return!0}),r=I(()=>{var s,B;return!b.value||u.value?null:((B=(s=e.config).validation)==null?void 0:B.call(s,T()))||null}),_=I(()=>u.value?!1:e.config.error||r.value!==null&&p.value);function T(){return e.config.type==="single"?n.value:d.value}function U(s){return d.value.includes(s)}function f(s){u.value||(p.value=!0,n.value=s.detail.checked,l())}function t(){u.value||(p.value=!0,n.value=!n.value,l())}function i(s,B){if(!u.value){if(p.value=!0,B.detail.checked)d.value.includes(s)||d.value.push(s);else{const M=d.value.indexOf(s);M>-1&&d.value.splice(M,1)}l()}}function a(s){var M;if(u.value)return;const B=(M=e.config.options)==null?void 0:M.find(P=>P.value===s);if(!(B!=null&&B.disabled)){if(p.value=!0,d.value.includes(s)){const P=d.value.indexOf(s);d.value.splice(P,1)}else d.value.push(s);l()}}function l(){var B,M;const s=T();(M=(B=e.config).onChange)==null||M.call(B,s),k("update:value",s),k("field-changed",{fieldName:e.config.name||e.config.header,value:s,config:e.config})}function v(s){var B,M;u.value||(p.value=!0,(M=(B=e.config).onBlur)==null||M.call(B,T(),s))}return O({getValue:()=>T(),setValue:s=>{e.config.type==="single"?n.value=!!s:d.value=Array.isArray(s)?[...s]:[]},isValid:I(()=>u.value||r.value===null),validate:()=>u.value?null:(p.value=!0,r.value),shouldShow:b,selectAll:()=>{var s;u.value||(e.config.type==="multiple"||e.config.type==="list")&&(p.value=!0,d.value=((s=e.config.options)==null?void 0:s.map(B=>B.value))||[],l())},deselectAll:()=>{u.value||(e.config.type==="multiple"||e.config.type==="list")&&(p.value=!0,d.value=[],l())},markAsTouched:()=>p.value=!0,resetTouched:()=>p.value=!1}),(s,B)=>{var M,P;return o(),h("div",null,[s.config.header?(o(),h("h6",{key:0,class:S(s.config.bold)},[D(F(s.config.header)+" ",1),((P=(M=s.config).validation)==null?void 0:P.call(M,""))!=null?(o(),h("span",Fe,"*")):c("",!0)],2)):c("",!0),N("div",{style:q({width:s.config.width||"100%"})},[s.config.type==="single"?(o(),h("div",{key:0,class:S(["checkbox-container",{disabled:u.value}])},[A(g(ee),{modelValue:n.value,"onUpdate:modelValue":B[0]||(B[0]=C=>n.value=C),onIonChange:f,onIonBlur:v,disabled:u.value,class:S(["custom-checkbox",{error:_.value}])},null,8,["modelValue","disabled","class"]),A(g(J),{class:S(["checkbox-label",{disabled:u.value}]),onClick:t},{default:w(()=>[D(F(s.config.label),1)]),_:1},8,["class"])],2)):s.config.type==="multiple"?(o(),h("div",Ie,[(o(!0),h(j,null,G(s.config.options,(C,Q)=>(o(),h("div",{key:typeof C.value=="string"||typeof C.value=="number"?C.value:String(Q),class:S(["checkbox-item",{disabled:u.value||C.disabled}])},[A(g(ee),{checked:U(C.value),onIonChange:x=>i(C.value,x),onIonBlur:v,disabled:u.value||C.disabled,class:S(["custom-checkbox",{error:_.value}])},null,8,["checked","onIonChange","disabled","class"]),A(g(J),{class:S(["checkbox-label",{disabled:u.value||C.disabled}]),onClick:()=>a(C.value)},{default:w(()=>[D(F(C.label)+" ",1),C.description?(o(),h("span",{key:0,class:S(["option-description",{disabled:u.value||C.disabled}])},F(C.description),3)):c("",!0)]),_:2},1032,["class","onClick"])],2))),128))])):s.config.type==="list"?(o(),h("div",Ce,[(o(!0),h(j,null,G(s.config.options,(C,Q)=>(o(),h("div",{key:typeof C.value=="string"||typeof C.value=="number"?C.value:String(Q),class:S(["checkbox-list-item",{selected:U(C.value),disabled:u.value||C.disabled}])},[N("div",we,[N("div",_e,[C.icon?(o(),m(g(R),{key:0,icon:C.icon,class:S(["list-item-icon",{disabled:u.value||C.disabled}])},null,8,["icon","class"])):c("",!0),N("div",Se,[N("div",{class:S(["list-item-title",{disabled:u.value||C.disabled}])},F(C.label),3),C.description?(o(),h("div",{key:0,class:S(["list-item-description",{disabled:u.value||C.disabled}])},F(C.description),3)):c("",!0)])]),A(g(ee),{checked:U(C.value),onIonChange:x=>i(C.value,x),onIonBlur:v,disabled:u.value||C.disabled,class:S(["custom-checkbox",{error:_.value}])},null,8,["checked","onIonChange","disabled","class"])])],2))),128))])):c("",!0),r.value&&p.value?(o(),m(g(W),{key:3,class:"error-note"},{default:w(()=>[D(F(r.value),1)]),_:1})):c("",!0),s.config.helperText&&!r.value?(o(),m(g(W),{key:4,class:"helper-note"},{default:w(()=>[D(F(s.config.helperText),1)]),_:1})):c("",!0)],4)])}}}),Be=X(Te,[["__scopeId","data-v-02ffa1b1"]]),De={key:0},$e={class:"position_content alert_content"},Oe=L({__name:"Alert",props:{config:{},allFormValues:{}},setup(H){const O=H,$=z(null),e=async()=>{var k;if(O.config.condition&&typeof O.config.condition=="function")try{const n=await O.config.condition((k=O.allFormValues)!=null?k:[]);$.value=n}catch(n){console.error("Error evaluating alert condition:",n),$.value=null}else $.value=O.config};return E(()=>O.allFormValues,async()=>{await e()},{deep:!0}),ne(async()=>{await e()}),(k,n)=>{const d=Z("ion-icon"),p=Z("ion-row");return $.value?(o(),h("span",De,[A(p,{style:q("border-radius: 5px; margin-top:10px; margin-bottom:10px; background-color:"+($.value.backgroundColor||k.config.backgroundColor||"#f0f0f0"))},{default:w(()=>[N("span",$e,[A(d,{slot:"start",icon:$.value.icon||k.config.icon,"aria-hidden":"true"},null,8,["icon"]),N("span",{style:q("color:"+($.value.textColor||k.config.textColor||"#000")+"; font-weight:600; margin: 0px 20px;")},F($.value.index||k.config.index),5),N("span",{style:q("color:"+($.value.textColor||k.config.textColor||"#000")+";")},F($.value.value||$.value.message||k.config.value),5)])]),_:1},8,["style"])])):c("",!0)}}}),Ae=X(Oe,[["__scopeId","data-v-b0008027"]]),Me={key:0},Ne={class:"field-header"},ze={key:0,class:"required"},Ue=["disabled"],Ee=["disabled"],He={key:1,class:"option-description"},Re={key:1,class:"radio-list"},Pe=["onClick"],qe={class:"list-item-left"},We={class:"list-item-text"},Le={class:"list-item-title"},je=["disabled"],Ge={key:0,class:"list-item-description"},Je={class:"list-item-right"},Ke=["disabled"],Xe=["disabled"],Ye={key:3,class:"radio-button-group"},Ze=["onClick","disabled"],Qe={key:6,class:"clear-section"},xe=["disabled"],el=L({__name:"RadioButtonField",props:{config:{},allFormValues:{}},emits:["update:value","field-changed","cleared"],setup(H,{expose:O,emit:$}){const e=H,k=$,n=z(p()),d=z(!1);function p(){return e.config.initialValue||e.config.value||null}E(()=>e.config.initialValue||e.config.value,f=>{n.value=f||null});const y=I(()=>{if(typeof e.config.disabled=="boolean")return e.config.disabled;if(typeof e.config.disabled=="function")try{return e.config.disabled(e.allFormValues)}catch(f){return console.warn("Disabled function error:",f),!1}return!1}),V=I(()=>{if(e.config.condition&&typeof e.config.condition=="function")try{return e.config.condition(e.allFormValues)}catch(f){return console.warn("Condition function error:",f),!1}return!0}),u=I(()=>{var f,t;return!V.value||y.value?null:((t=(f=e.config).validation)==null?void 0:t.call(f,n.value))||null}),b=I(()=>y.value?!1:e.config.error||u.value!==null&&d.value);function r(f){d.value=!0,f.detail.value===!1?n.value=null:n.value=f.detail.value,U()}function _(f){var i;if(y.value)return;const t=(i=e.config.options)==null?void 0:i.find(a=>a.value===f);if(!(t!=null&&t.disabled)){if(e.config.allowDeselect&&n.value===f){T();return}d.value=!0,f===!1?n.value=null:n.value=f,U()}}function T(){var t,i;if(y.value)return;const f=n.value;n.value=null,d.value=!0,U(),k("cleared",{previousValue:f,fieldName:e.config.name||e.config.header,config:e.config}),(i=(t=e.config).onClear)==null||i.call(t,f)}function U(){var t,i;const f=n.value;(i=(t=e.config).onChange)==null||i.call(t,f),k("update:value",f),k("field-changed",{fieldName:e.config.name||e.config.header,value:f,config:e.config})}return E(y,f=>{f&&n.value&&(n.value=null,U())}),O({getValue:()=>n.value,setValue:f=>{f===!1?n.value=null:n.value=f},isValid:I(()=>y.value||u.value===null),validate:()=>y.value?null:(d.value=!0,u.value),shouldShow:V,clearSelection:T,getSelectedOption:()=>{var f;return((f=e.config.options)==null?void 0:f.find(t=>t.value===n.value))||null},markAsTouched:()=>d.value=!0,resetTouched:()=>d.value=!1,hasSelection:I(()=>n.value!==null),canClear:I(()=>!y.value&&n.value!==null)}),(f,t)=>{var i,a;return V.value?(o(),h("div",Me,[N("div",Ne,[f.config.header?(o(),h("h6",{key:0,class:S(f.config.bold)},[D(F(f.config.header)+" ",1),((a=(i=f.config).validation)==null?void 0:a.call(i,""))!=null?(o(),h("span",ze,"*")):c("",!0)],2)):c("",!0),f.config.showClearButton&&n.value!==null?(o(),h("button",{key:1,type:"button",class:"clear-button",onClick:T,disabled:y.value,title:"Clear selection"},[A(g(R),{icon:g(K)},null,8,["icon"]),t[0]||(t[0]=D(" Clear "))],8,Ue)):c("",!0)]),N("div",{style:q({width:f.config.width||"100%"})},[f.config.type==="standard"||!f.config.type?(o(),m(g(ae),{key:0,value:n.value,onIonChange:r,class:"radio-group"},{default:w(()=>[(o(!0),h(j,null,G(f.config.options,(l,v)=>(o(),h("div",{key:typeof l.value=="string"||typeof l.value=="number"?l.value:v,class:"radio-item"},[A(g(le),{value:l.value,disabled:y.value||l.disabled,class:S(["custom-radio",{error:b.value}])},null,8,["value","disabled","class"]),A(g(J),{class:"radio-label",onClick:()=>_(l.value)},{default:w(()=>[D(F(l.label)+" ",1),n.value===l.value&&f.config.showOptionClear!==!1?(o(),h("button",{key:0,type:"button",class:"option-clear-icon",onClick:Y(T,["stop"]),disabled:y.value,title:"Clear this option"},[A(g(R),{icon:g(K)},null,8,["icon"])],8,Ee)):c("",!0),l.description?(o(),h("span",He,F(l.description),1)):c("",!0)]),_:2},1032,["onClick"])]))),128))]),_:1},8,["value"])):f.config.type==="list"?(o(),h("div",Re,[(o(!0),h(j,null,G(f.config.options,(l,v)=>(o(),h("div",{key:typeof l.value=="string"||typeof l.value=="number"?l.value:String(v),class:S(["radio-list-item",{selected:n.value===l.value,disabled:y.value||l.disabled}])},[N("div",{class:"list-item-content",onClick:()=>_(l.value)},[N("div",qe,[l.icon?(o(),m(g(R),{key:0,icon:l.icon,class:"list-item-icon"},null,8,["icon"])):c("",!0),N("div",We,[N("div",Le,[D(F(l.label)+" ",1),n.value===l.value&&f.config.showOptionClear!==!1?(o(),h("button",{key:0,type:"button",class:"option-clear-icon inline",onClick:Y(T,["stop"]),disabled:y.value,title:"Clear this option"},[A(g(R),{icon:g(K)},null,8,["icon"])],8,je)):c("",!0)]),l.description?(o(),h("div",Ge,F(l.description),1)):c("",!0)])]),N("div",Je,[A(g(le),{value:l.value,checked:n.value===l.value,onIonSelect:r,disabled:y.value||l.disabled,class:S(["custom-radio",{error:b.value}])},null,8,["value","checked","disabled","class"]),f.config.showIndividualClear&&n.value===l.value?(o(),h("button",{key:0,type:"button",class:"item-clear-button",onClick:Y(T,["stop"]),disabled:y.value,title:"Clear this selection"},[A(g(R),{icon:g(K)},null,8,["icon"])],8,Ke)):c("",!0)])],8,Pe)],2))),128))])):f.config.type==="inline"?(o(),m(g(ae),{key:2,value:n.value,onIonChange:r,class:"radio-inline"},{default:w(()=>[(o(!0),h(j,null,G(f.config.options,(l,v)=>(o(),h("div",{key:typeof l.value=="string"||typeof l.value=="number"?l.value:v,class:"radio-inline-item"},[A(g(le),{value:l.value,disabled:y.value||l.disabled,class:S(["custom-radio",{error:b.value}])},null,8,["value","disabled","class"]),A(g(J),{class:"radio-label",onClick:()=>_(l.value)},{default:w(()=>[D(F(l.label)+" ",1),n.value===l.value&&f.config.showOptionClear!==!1?(o(),h("button",{key:0,type:"button",class:"option-clear-icon inline",onClick:Y(T,["stop"]),disabled:y.value,title:"Clear this option"},[A(g(R),{icon:g(K)},null,8,["icon"])],8,Xe)):c("",!0)]),_:2},1032,["onClick"])]))),128))]),_:1},8,["value"])):f.config.type==="button"?(o(),h("div",Ye,[(o(!0),h(j,null,G(f.config.options,(l,v)=>(o(),h("button",{key:typeof l.value=="string"||typeof l.value=="number"?l.value:String(v),type:"button",class:S(["radio-button",{selected:n.value===l.value,disabled:y.value||l.disabled,error:b.value}]),onClick:()=>_(l.value),disabled:y.value||l.disabled},[l.icon?(o(),m(g(R),{key:0,icon:l.icon,class:"button-icon"},null,8,["icon"])):c("",!0),D(" "+F(l.label)+" ",1),f.config.showButtonClear!==!1&&n.value===l.value?(o(),m(g(R),{key:1,icon:g(K),class:"button-clear-icon",onClick:Y(T,["stop"])},null,8,["icon"])):c("",!0)],10,Ze))),128))])):c("",!0),u.value&&d.value?(o(),m(g(W),{key:4,class:"error-note"},{default:w(()=>[D(F(u.value),1)]),_:1})):c("",!0),f.config.helperText&&!u.value?(o(),m(g(W),{key:5,class:"helper-note"},{default:w(()=>[D(F(f.config.helperText),1)]),_:1})):c("",!0),f.config.showClearButtonBottom&&n.value!==null?(o(),h("div",Qe,[N("button",{type:"button",class:"clear-button-bottom",onClick:T,disabled:y.value},[A(g(R),{icon:g(K)},null,8,["icon"]),t[1]||(t[1]=D(" Clear Selection "))],8,xe)])):c("",!0)],4)])):c("",!0)}}}),ll=X(el,[["__scopeId","data-v-13e69e96"]]),nl={key:0},al={key:0,class:"required"},il={key:1,class:"left-text"},ol={key:1},tl=L({__name:"DateInputField",props:{config:{},allFormValues:{}},emits:["update:value","update:rawValue","field-changed"],setup(H,{expose:O,emit:$}){const e=H,k=$,n=z(e.config.initialValue||e.config.value||""),d=z(null),p=z(!1),y=z(["year","month","calendar"]);E(()=>e.config.initialValue||e.config.value,a=>{a!==void 0&&(n.value=a)});const V=I(()=>{if(typeof e.config.disabled=="boolean")return e.config.disabled;if(typeof e.config.disabled=="function")try{return e.config.disabled(e.allFormValues)}catch(a){return console.warn("Disabled function error:",a),!1}return!1}),u=I(()=>{if(e.config.condition&&typeof e.config.condition=="function")try{return e.config.condition(e.allFormValues)}catch(a){return console.warn("Condition function error:",a),!1}return!0}),b=I(()=>{var a,l;return!u.value||V.value?null:((l=(a=e.config).validation)==null?void 0:l.call(a,n.value))||null}),r=I(()=>V.value?!1:e.config.error||b.value!==null&&p.value),_=a=>ie.toStandardHisDisplayFormat(a),T=a=>{var v,s;const l=_(a);n.value=l,d.value=a,p.value=!0,k("update:value",l),k("update:rawValue",a),k("field-changed",{fieldName:e.config.name||e.config.header,value:l,rawValue:a,config:e.config}),(s=(v=e.config).onChange)==null||s.call(v,l,a)},U=a=>{var l,v;p.value=!0,(v=(l=e.config).onBlur)==null||v.call(l,n.value,a)},f=a=>{var l,v;p.value=!0,(v=(l=e.config).onInput)==null||v.call(l,n.value,a)},t=a=>{var l,v;(v=(l=e.config).onClick)==null||v.call(l,n.value,a)},i=a=>{var l,v;(v=(l=e.config).onActionClick)==null||v.call(l,n.value,a)};return E(V,a=>{a&&n.value&&(n.value="",d.value=null)}),O({getValue:()=>n.value,getRawValue:()=>d.value,setValue:a=>n.value=a,setRawValue:a=>d.value=a,isValid:I(()=>V.value||b.value===null),validate:()=>V.value?null:(p.value=!0,b.value),shouldShow:u,markAsTouched:()=>p.value=!0,resetTouched:()=>p.value=!1}),(a,l)=>{var s,B;const v=Z("VueDatePicker");return u.value?(o(),h("div",nl,[a.config.header?(o(),h("h6",{key:0,class:S(a.config.bold)},[D(F(a.config.header)+" ",1),((B=(s=a.config).validation)==null?void 0:B.call(s,""))!=null?(o(),h("span",al,"*")):c("",!0)],2)):c("",!0),N("div",{style:q({width:a.config.width||"100%"})},[A(v,{onDateUpdate:T,"auto-apply":"",flow:y.value,vertical:"","enable-time-picker":!1,"auto-position":!0,"min-date":a.config.minDate,"max-date":a.config.maxDate||g(ie).sessionDate(),"prevent-min-max-navigation":""},{trigger:w(()=>[A(g(oe),{value:n.value,onIonBlur:U,onIonInput:f,onClick:t,fill:"outline",placeholder:a.config.placeholder,disabled:V.value,class:S(["custom-input",{error:r.value}]),style:q({minHeight:(a.config.minHeight||56)+"px","--placeholder-font-size":a.config.placeholderFontSize||"14px","--placeholder-font-weight":a.config.placeholderFontWeight||"600"})},{default:w(()=>{var M;return[a.config.icon||a.config.leftText?(o(),m(g(J),{key:0,slot:"start",class:"start-content"},{default:w(()=>[a.config.icon?(o(),m(g(R),{key:0,icon:a.config.icon},null,8,["icon"])):c("",!0),a.config.leftText?(o(),h("span",il,F(a.config.leftText),1)):c("",!0)]),_:1})):c("",!0),a.config.unit||a.config.rightIcon?(o(),m(g(J),{key:1,slot:"end",class:"end-content"},{default:w(()=>[a.config.rightIcon?(o(),m(g(R),{key:0,icon:a.config.rightIcon},null,8,["icon"])):c("",!0),a.config.unit?(o(),h("span",ol,F(a.config.unit),1)):c("",!0)]),_:1})):c("",!0),(M=a.config.actionButton)!=null&&M.show?(o(),m(g(te),{key:2,slot:"end",onClick:i,size:"small"},{default:w(()=>[a.config.actionButton.icon?(o(),m(g(R),{key:0,icon:a.config.actionButton.icon,slot:"start"},null,8,["icon"])):c("",!0),D(" "+F(a.config.actionButton.text),1)]),_:1})):c("",!0)]}),_:1},8,["value","placeholder","disabled","class","style"])]),_:1},8,["flow","min-date","max-date"]),b.value&&p.value?(o(),m(g(W),{key:0,class:"error-note"},{default:w(()=>[D(F(b.value),1)]),_:1})):c("",!0)],4)])):c("",!0)}}}),ul=X(tl,[["__scopeId","data-v-53cd851f"]]),sl={key:0},rl={key:0,class:"required"},cl=L({__name:"PhoneInputField",props:{config:{},allFormValues:{}},emits:["update:value","field-changed","country-changed"],setup(H,{expose:O,emit:$}){const e=H,k=$,n=z(e.config.initialValue||e.config.value||""),d=z(!1),p=z({dialCode:"265",iso2:"MW",name:"Malawi"}),y=I(()=>{var t;return{phoneNumber:(t=n==null?void 0:n.value)!=null&&t.target?n.value.target.value:n.value,countryCode:p.value.dialCode,countryIso:p.value.iso2,countryName:p.value.name}});E(()=>e.config.initialValue||e.config.value,t=>{t!==void 0&&(typeof t=="string"?n.value=t:typeof t=="object"&&t.phoneNumber&&(n.value=t.phoneNumber,t.countryIso&&(p.value={dialCode:t.countryCode||p.value.dialCode,iso2:t.countryIso,name:t.countryName||p.value.name})))});const V=I(()=>{if(typeof e.config.disabled=="boolean")return e.config.disabled;if(typeof e.config.disabled=="function")try{return e.config.disabled(e.allFormValues)}catch(t){return console.warn("Disabled function error:",t),!1}return!1}),u=I(()=>{if(e.config.condition&&typeof e.config.condition=="function")try{return e.config.condition(e.allFormValues)}catch(t){return console.warn("Condition function error:",t),!1}return!0}),b=I(()=>{var t,i;return!u.value||V.value?null:((i=(t=e.config).validation)==null?void 0:i.call(t,y.value))||null}),r=I(()=>V.value?!1:e.config.error||b.value!==null&&d.value),_=t=>{var i,a;d.value=!0,(a=(i=e.config).onBlur)==null||a.call(i,y.value,t)},T=()=>{d.value=!0},U=t=>{var i,a;(a=(i=e.config).onClick)==null||a.call(i,y.value,t)},f=t=>{var i,a;p.value=t,k("country-changed",t),(a=(i=e.config).onCountryChanged)==null||a.call(i,t)};return E(V,t=>{t&&n.value&&(n.value="")}),E(y,t=>{var i,a;(a=(i=e.config).onChange)==null||a.call(i,t),k("update:value",t),k("field-changed",{fieldName:e.config.name||e.config.header,value:t,config:e.config,country:p.value})},{deep:!0}),O({getValue:()=>y.value,getPhoneObject:()=>y.value,getPhoneNumber:()=>n.value,setValue:t=>{typeof t=="string"?n.value=t:typeof t=="object"&&t.phoneNumber&&(n.value=t.phoneNumber)},getCountry:()=>p.value,isValid:I(()=>V.value||b.value===null),validate:()=>V.value?null:(d.value=!0,b.value),shouldShow:u,markAsTouched:()=>d.value=!0,resetTouched:()=>d.value=!1}),(t,i)=>{var a,l;return u.value?(o(),h("div",sl,[t.config.header?(o(),h("h6",{key:0,class:S(t.config.bold)},[D(F(t.config.header)+" ",1),((l=(a=t.config).validation)==null?void 0:l.call(a,""))!=null?(o(),h("span",rl,"*")):c("",!0)],2)):c("",!0),N("div",{style:q({width:t.config.width||"100%"})},[A(g(re),{class:S(["custom-phone-input",{error:r.value}]),modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=v=>n.value=v),onInput:T,onBlur:_,onClick:U,onCountryChanged:f,placeholder:t.config.placeholder,disabled:V.value,preferredCountries:t.config.preferredCountries||["MW"],defaultCountry:t.config.defaultCountry||"MW",initialCountry:t.config.initialCountry||"MW",inputOptions:{showDialCode:!0,placeholder:t.config.placeholder,...t.config.inputOptions},dropdownOptions:{showDialCodeInSelection:!0,showSearchBox:!0,showFlags:!0,showDialCodeInList:!0,searchBoxPlaceholder:"Search here...",...t.config.dropdownOptions},mode:t.config.mode||"international",autoFormat:t.config.autoFormat!==void 0?t.config.autoFormat:!1},null,8,["modelValue","placeholder","disabled","class","preferredCountries","defaultCountry","initialCountry","inputOptions","dropdownOptions","mode","autoFormat"]),b.value&&d.value?(o(),m(g(W),{key:0,class:"error-note"},{default:w(()=>[D(F(b.value),1)]),_:1})):c("",!0)],4)])):c("",!0)}}}),dl=X(cl,[["__scopeId","data-v-96234fe8"]]),fl={key:0},vl={key:0,class:"required"},gl={key:1,class:"disabled-overlay"},hl=L({__name:"MultiSelectInput",props:{config:{},allFormValues:{}},emits:["update:value","field-changed","search-change"],setup(H,{expose:O,emit:$}){const e=H,k=$,n=z(e.config.initialValue||e.config.value||(e.config.isMultiple?[]:null)),d=z(!1);E(()=>e.config.initialValue||e.config.value,i=>{i!==void 0&&(n.value=i)});const p=I(()=>{if(typeof e.config.options=="function")try{const i=e.config.options(e.allFormValues);return Array.isArray(i)?i:[]}catch(i){return console.warn("Options function error:",i),[]}return Array.isArray(e.config.options)?e.config.options:[]});E(p,i=>{if(n.value&&i.length>0){const a=e.config.trackBy||"concept_id";if(e.config.isMultiple&&Array.isArray(n.value)){const l=n.value.filter(v=>i.some(s=>s[a]===v[a]));l.length!==n.value.length&&(n.value=l,t())}else!e.config.isMultiple&&n.value&&(i.some(v=>v[a]===n.value[a])||(n.value=null,t()))}},{deep:!0});const y=I(()=>{if(typeof e.config.disabled=="boolean")return e.config.disabled;if(typeof e.config.disabled=="function")try{return e.config.disabled(e.allFormValues)}catch(i){return console.warn("Disabled function error:",i),!1}return!1}),V=I(()=>{if(e.config.condition&&typeof e.config.condition=="function")try{return e.config.condition(e.allFormValues)}catch(i){return console.warn("Condition function error:",i),!1}return!0}),u=I(()=>{var i,a;return!V.value||y.value?null:((a=(i=e.config).validation)==null?void 0:a.call(i,n.value))||null}),b=I(()=>y.value?!1:e.config.error||u.value!==null&&d.value),r=i=>{y.value||(d.value=!0,n.value=i,t())},_=()=>{var i,a;y.value||(d.value=!0,(a=(i=e.config).onOpen)==null||a.call(i,n.value))},T=()=>{var i,a;(a=(i=e.config).onClose)==null||a.call(i,n.value)},U=i=>{var a,l;y.value||(d.value=!0,(l=(a=e.config).onSearchChange)==null||l.call(a,i),k("search-change",i))},f=i=>{var a,l;y.value||(d.value=!0,(l=(a=e.config).onTag)==null||l.call(a,i))},t=()=>{var i,a;(a=(i=e.config).onChange)==null||a.call(i,n.value),k("update:value",n.value),k("field-changed",{fieldName:e.config.name||e.config.header,value:n.value,config:e.config})};return E(y,i=>{i&&n.value&&(n.value=e.config.isMultiple?[]:null,t())}),O({getValue:()=>n.value,setValue:i=>{n.value=i},isValid:I(()=>y.value||u.value===null),validate:()=>y.value?null:(d.value=!0,u.value),shouldShow:V,markAsTouched:()=>d.value=!0,resetTouched:()=>d.value=!1,clearSelection:()=>{n.value=e.config.isMultiple?[]:null,t()},getOptions:()=>p.value}),(i,a)=>{var v,s;const l=Z("ion-icon");return V.value?(o(),h("div",fl,[i.config.header?(o(),h("h6",{key:0,class:S(i.config.bold)},[D(F(i.config.header)+" ",1),((s=(v=i.config).validation)==null?void 0:s.call(v,""))!=null?(o(),h("span",vl,"*")):c("",!0)],2)):c("",!0),N("div",{style:q({width:i.config.width||"100%"}),class:S(["multiselect-wrapper",{disabled:y.value}])},[i.config.icon?(o(),m(l,{key:0,class:"left-icon",icon:i.config.icon},null,8,["icon"])):c("",!0),A(g(ce),{modelValue:n.value,"onUpdate:modelValue":[a[0]||(a[0]=B=>n.value=B),r],onOpen:_,onClose:T,onSearchChange:U,onTag:f,multiple:i.config.isMultiple||!1,taggable:i.config.taggable||!1,"hide-selected":i.config.hideSelected||!1,"close-on-select":i.config.closeOnSelect!==!1,"open-direction":i.config.openDirection||"bottom","prevent-autofocus":i.config.preventAutofocus||!0,loading:i.config.loading||!1,searchable:i.config.searchable!==!1,disabled:y.value,placeholder:i.config.placeholder||"","select-label":i.config.selectLabel||"","tag-placeholder":i.config.tagPlaceholder||"",label:i.config.label||"name","track-by":i.config.trackBy||"concept_id",options:p.value,class:S([["custom-multiselect",{error:b.value,"disabled-field":y.value}],"no-focus"]),tabindex:"-1"},null,8,["modelValue","multiple","taggable","hide-selected","close-on-select","open-direction","prevent-autofocus","loading","searchable","disabled","placeholder","select-label","tag-placeholder","label","track-by","options","class"]),y.value?(o(),h("div",gl)):c("",!0),u.value&&d.value?(o(),m(g(W),{key:2,class:"error-note"},{default:w(()=>[D(F(u.value),1)]),_:1})):c("",!0),i.config.helperText&&!u.value?(o(),m(g(W),{key:3,class:"helper-note"},{default:w(()=>[D(F(i.config.helperText),1)]),_:1})):c("",!0)],6)])):c("",!0)}}}),pl=X(hl,[["__scopeId","data-v-60bb8e55"]]),yl={key:8,class:"dashed_bottom_border"},kl=L({__name:"StandardForm",props:{formData:{}},setup(H,{expose:O}){const $=H,e=de({}),k=z(new Map),n=I(()=>({...e})),d=u=>{if(u.condition&&typeof u.condition=="function")try{return u.condition(e)}catch(b){return console.warn("Condition function error for field:",u.name||u.header,b),!1}return!0},p=(u,b)=>{if(u){const r=b.name||b.header||"field_".concat(Math.random());k.value.set(r,u)}},y=()=>{$.formData.forEach(u=>{var b,r;if(u.componentType==="inputField"){const _=u.name||u.header||"field_".concat(Math.random()),T=(r=(b=u.value)!=null?b:u.initialValue)!=null?r:"";e[_]=T}})},V=u=>{e[u.fieldName]=u.value,u.config.onChange&&u.config.onChange(u.value,{...e})};return ne(async()=>{y(),await fe()}),O({getFormValues:()=>({...e}),formValues:n,setFormValue:(u,b)=>{e[u]=b;const r=k.value.get(u);r&&r.setValue&&r.setValue(b)},resetForm:()=>{Object.keys(e).forEach(u=>{e[u]=""}),k.value.forEach(u=>{u&&u.setValue&&u.setValue("")})},validateForm:()=>{const u={};return k.value.forEach((b,r)=>{if(b&&b.validate){const _=b.validate();_&&(u[r]=_)}}),Object.keys(u).length===0?null:u}}),(u,b)=>(o(),m(g(ve),null,{default:w(()=>[A(g(ge),null,{default:w(()=>[(o(!0),h(j,null,G(u.formData,(r,_)=>{var T,U,f,t,i,a;return o(),m(g(he),{key:_,size:((T=r==null?void 0:r.grid)==null?void 0:T.s)||"12","size-xs":(U=r==null?void 0:r.grid)==null?void 0:U.xs,"size-sm":(f=r==null?void 0:r.grid)==null?void 0:f.sm,"size-md":(t=r==null?void 0:r.grid)==null?void 0:t.md,"size-lg":(i=r==null?void 0:r.grid)==null?void 0:i.lg,"size-xl":(a=r==null?void 0:r.grid)==null?void 0:a.xl},{default:w(()=>[r.componentType==="Heading"?(o(),m(pe,{key:0,config:r},null,8,["config"])):c("",!0),r.componentType==="inputField"&&d(r)?(o(),m(Ve,{key:1,config:r,allFormValues:e,onFieldChanged:V,ref_for:!0,ref:l=>p(l,r)},null,8,["config","allFormValues"])):c("",!0),r.componentType==="multiSelectInputField"&&d(r)?(o(),m(pl,{key:2,config:r,allFormValues:e,onFieldChanged:V,ref_for:!0,ref:l=>p(l,r)},null,8,["config","allFormValues"])):c("",!0),r.componentType==="checkboxField"&&d(r)?(o(),m(Be,{key:3,config:r,allFormValues:e,onFieldChanged:V,ref_for:!0,ref:l=>p(l,r)},null,8,["config","allFormValues"])):c("",!0),r.componentType==="radioButtonField"&&d(r)?(o(),m(ll,{key:4,config:r,allFormValues:e,onFieldChanged:V,ref_for:!0,ref:l=>p(l,r)},null,8,["config","allFormValues"])):c("",!0),r.componentType==="dateInputField"&&d(r)?(o(),m(ul,{key:5,config:r,allFormValues:e,onFieldChanged:V,ref_for:!0,ref:l=>p(l,r)},null,8,["config","allFormValues"])):c("",!0),r.componentType==="phoneInputField"&&d(r)?(o(),m(dl,{key:6,config:r,allFormValues:e,onFieldChanged:V,ref_for:!0,ref:l=>p(l,r)},null,8,["config","allFormValues"])):c("",!0),r.componentType==="Alert"&&d(r)?(o(),m(Ae,{key:7,config:r},null,8,["config"])):c("",!0),r.componentType==="Dashes"?(o(),h("div",yl)):c("",!0)]),_:2},1032,["size","size-xs","size-sm","size-md","size-lg","size-xl"])}),128))]),_:1})]),_:1}))}});export{kl as _};
