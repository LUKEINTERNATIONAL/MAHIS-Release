import{l as i,a as m}from"./index-CD20pX6K.js";import{R as u}from"./ReportTable-BFSN7Z3n.js";import{R as d}from"./regimens-C9nA2WnN.js";import{V as v}from"./viral_load_report_service-28q6HH-v.js";import{d as f,r as o,c as V,y as L,f as h}from"./vendor-BEKTmkXc.js";import"./lodash-Dt8AsbQm.js";import"./apexcharts-BW0LSm5R.js";import"./chartjs-Cd7EKH6q.js";import"./barcode-qrcode-reader-o0mSiBQi.js";import"./report_service-B12If2MG.js";import"./age_groups-BkW1n_F5.js";const S=f({__name:"ViralLoadReport",setup(w){const l=o([]),t=o(),r=o(),n=o("-"),p=[{path:"ageGroup",label:"Age Group"},...d.map(a=>({path:a,label:a})),{path:"N/A",label:"Uknown"}],s=V(()=>[{id:"minVL",placeholder:"Min Viral Load",type:"number",value:t.value,required:!1},{id:"maxVL",placeholder:"Max Viral Load",type:"number",value:r.value,required:!1}]);async function c(a){await i.show();try{t.value=a.minVL,r.value=a.maxVL;const e=new v;e.setStartDate(a.dateRange.startDate),e.setEndDate(a.dateRange.endDate),e.setOccupation(a.occupation),n.value=e.getDateIntervalPeriod(),l.value=await e.getViralLoad({from:t.value,to:r.value})}catch(e){m("Unable to load report data"),console.error(e)}await i.hide()}return(a,e)=>(h(),L(u,{title:"MoH Viral Load Report","report-type":"MoH",columns:p,rows:l.value,period:n.value,"show-indices":"","use-date-range-filter":"","custom-filters":s.value,onGenerate:c},null,8,["rows","period","custom-filters"]))}});export{S as default};
