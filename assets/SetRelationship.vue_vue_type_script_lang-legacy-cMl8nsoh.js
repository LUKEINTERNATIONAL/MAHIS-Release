System.register(["./index-legacy-Bv9RyvRz.js","./vendor-legacy-COMGl7lq.js","./relations_service-legacy-BrAoCvy9.js"],(function(t,e){"use strict";var i,a,s,n,r,o,h,l;return{setters:[t=>{i=t.A,a=t.b,s=t.aa,n=t.u,r=t.ah},t=>{o=t.d,h=t.al},t=>{l=t.R}],execute:function(){t("_",o({data:()=>({relationships:[],relationshipsData:[],patientGender:"male",filteredRelationships:[]}),computed:{...h(r,["guardianInformation","personInformation"]),...h(n,["patient"]),...h(a,["apiStatus"]),gender(){var t;return s(this.personInformation,"gender")||(null===(t=this.patient)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.gender)}},watch:{$route:{async handler(t){await this.getRelationships()},immediate:!0,deep:!0}},methods:{async getRelationships(){var t;this.gender&&(this.relationshipsData=await i("relationship"),this.apiStatus&&this.relationshipsData.length!=(null===(t=a().offlineRelationshipStatus)||void 0===t?void 0:t.total)&&(this.relationshipsData=await l.getRelations()),this.filterRelationships(),this.relationships=this.filteredRelationships.map((t=>[{name:t.b_is_to_a,id:t.relationship_type_id,trackByID:t.relationship_type_id+t.b_is_to_a}])).reduce(((t,e)=>t.concat(e)),[]))},filterRelationships(){var t;const e=["Brother","Father","Son","Grandfather","Grandson","Boyfriend","Stepfather","Stepson"],i=["Sister","Mother","Daughter","Grandmother","Granddaughter","Girlfriend","Stepmother","Stepdaughter"],a=["Spouse/Partner","Aunt/Uncle","Niece/Nephew","Doctor","Other","Patient","TB Contact Person","TB Patient","treatment suporter"];(null===(t=this.relationshipsData)||void 0===t?void 0:t.length)>0&&(this.filteredRelationships=this.relationshipsData.filter((t=>"M"===this.gender?e.includes(t.a_is_to_b)||a.includes(t.a_is_to_b):"F"===this.gender&&(i.includes(t.a_is_to_b)||a.includes(t.a_is_to_b)))))}}}))}}}));
