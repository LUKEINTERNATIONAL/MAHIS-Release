import{d as ie,e as b,m as p,f as s,B as T,r as z,w as q,c as w,k as O,p as N,A as E,l as R,y as V,z as A,u as S,D as K,I as J,W as ve,ak as W,ar as ge,d7 as j,ay as te,F as _,L as U,a as fe,E as ue,ax as ae,aw as oe,av as he,c_ as me,n as pe,bq as ye,ac as be,ab as ke,R as De,O as se}from"./vendor-Ddb6Z0_s.js";import{_ as X,i as M,u as xe,Q as Z,P as G,$ as re,aC as L,Y as ce,H as Y,a_ as ee,x as Q}from"./index-DuNDgd8X.js";import{c as Se}from"./SvgDynamicColor-qIuj6E_F.js";import{l as de}from"./lodash-Dt8AsbQm.js";const Fe={key:0,class:"item_header",style:"font-weight:700"},Be=ie({__name:"LeftInputHeader",props:{config:{}},setup(t){return(F,x)=>F.config.sectionHeader!="null"?(s(),b("span",Fe,T(F.config.sectionHeader),1)):p("",!0)}}),Te={key:0,class:"required"},Ve={key:1,class:"left-text"},Ie={key:1},Ce={__name:"InputField",props:{config:{type:Object,default:()=>({})},allFormValues:{type:Object,default:()=>({})}},emits:["update:value","field-changed"],setup(t,{expose:F,emit:x}){const e=t,y=x,u=z(e.config.initialValue||e.config.value||""),h=z(!1);q(()=>e.config.initialValue||e.config.value,r=>{r!==void 0&&(u.value=r)});const k=w(()=>{if(typeof e.config.disabled=="boolean")return e.config.disabled;if(typeof e.config.disabled=="function")try{return e.config.disabled(e.allFormValues)}catch(r){return console.warn("Disabled function error:",r),!1}return!1}),B=w(()=>{if(e.config.condition&&typeof e.config.condition=="function")try{return e.config.condition(e.allFormValues)}catch(r){return console.warn("Condition function error:",r),!1}return!0}),f=w(()=>{var r,m;return!B.value||k.value?null:((m=(r=e.config).validation)==null?void 0:m.call(r,u.value))||null}),v=w(()=>k.value?!1:e.config.error||f.value!==null&&h.value),o=r=>{var m,a;h.value=!0,(a=(m=e.config).onBlur)==null||a.call(m,u.value,r)},I=r=>{var m,a;h.value=!0,(a=(m=e.config).onInput)==null||a.call(m,u.value,r)},H=r=>{var m,a;(a=(m=e.config).onClick)==null||a.call(m,u.value,r)},P=r=>{var m,a;(a=(m=e.config).onActionClick)==null||a.call(m,u.value,r)};return q(k,r=>{r&&u.value&&(u.value="")}),q(u,r=>{var m,a;(a=(m=e.config).onChange)==null||a.call(m,r),y("update:value",r),y("field-changed",{fieldName:e.config.name||e.config.header,value:r,config:e.config})}),F({getValue:()=>u.value,setValue:r=>u.value=r,isValid:w(()=>k.value||f.value===null),validate:()=>k.value?null:(h.value=!0,f.value),shouldShow:B,markAsTouched:()=>h.value=!0,resetTouched:()=>h.value=!1}),(r,m)=>(s(),b("div",null,[t.config.header?(s(),b("h6",{key:0,class:N(t.config.bold)},[E(T(t.config.header.replace("*",""))+" ",1),t.config.header.includes("*")?(s(),b("span",Te,"*")):p("",!0)],2)):p("",!0),O("div",{style:W({width:t.config.width||"100%"})},[R(S(ge),{modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=a=>u.value=a),onIonBlur:o,onIonInput:I,onClick:H,fill:"outline",placeholder:t.config.placeholder,inputmode:t.config.type==="number"?"numeric":"text",disabled:k.value,class:N(["custom-input",{error:v.value}]),style:W({minHeight:(t.config.minHeight||56)+"px"})},{default:A(()=>{var a;return[t.config.icon||t.config.leftText?(s(),V(S(K),{key:0,slot:"start",class:"start-content"},{default:A(()=>[t.config.icon?(s(),V(S(J),{key:0,icon:t.config.icon},null,8,["icon"])):p("",!0),t.config.leftText?(s(),b("span",Ve,T(t.config.leftText),1)):p("",!0)]),_:1})):p("",!0),t.config.unit||t.config.rightIcon?(s(),V(S(K),{key:1,slot:"end",class:"end-content"},{default:A(()=>[t.config.rightIcon?(s(),V(S(J),{key:0,icon:t.config.rightIcon},null,8,["icon"])):p("",!0),t.config.unit?(s(),b("span",Ie,T(t.config.unit),1)):p("",!0)]),_:1})):p("",!0),(a=t.config.actionButton)!=null&&a.show?(s(),V(S(ve),{key:2,slot:"end",onClick:P,size:"small"},{default:A(()=>[t.config.actionButton.icon?(s(),V(S(J),{key:0,icon:t.config.actionButton.icon,slot:"start"},null,8,["icon"])):p("",!0),E(" "+T(t.config.actionButton.text),1)]),_:1})):p("",!0)]}),_:1},8,["modelValue","placeholder","inputmode","disabled","class","style"]),f.value&&h.value?(s(),V(S(j),{key:0,class:"error-note"},{default:A(()=>[E(T(f.value),1)]),_:1})):p("",!0)],4)]))}},Ne=X(Ce,[["__scopeId","data-v-614807e0"]]),we={key:0,class:"required"},Ae={key:1,class:"checkbox-group"},He={key:2,class:"checkbox-list"},Pe={class:"list-item-content"},Ee={class:"list-item-left"},Me={class:"list-item-text"},Oe={__name:"CheckboxField",props:{config:{type:Object,default:()=>({})},allFormValues:{type:Object,default:()=>({})}},emits:["update:value","field-changed"],setup(t,{expose:F,emit:x}){const e=t,y=x,u=z(B()),h=z(f()),k=z(!1);function B(){return e.config.type==="single"&&(e.config.initialValue||e.config.value)||!1}function f(){if(e.config.type==="multiple"||e.config.type==="list"){const n=e.config.initialValue||e.config.value;return Array.isArray(n)?[...n]:[]}return[]}q(()=>e.config.initialValue||e.config.value,n=>{e.config.type==="single"?u.value=n||!1:(e.config.type==="multiple"||e.config.type==="list")&&(h.value=Array.isArray(n)?[...n]:[])});const v=w(()=>{if(typeof e.config.disabled=="boolean")return e.config.disabled;if(typeof e.config.disabled=="function")try{return e.config.disabled(e.allFormValues)}catch(n){return console.warn("Disabled function error:",n),!1}return!1});q(v,n=>{n&&(e.config.type==="single"?u.value&&(u.value=!1):h.value.length>0&&(h.value=[]))});const o=w(()=>{if(e.config.condition&&typeof e.config.condition=="function")try{return e.config.condition(e.allFormValues)}catch(n){return console.warn("Condition function error:",n),!1}return!0}),I=w(()=>{var n,g;return!o.value||v.value?null:((g=(n=e.config).validation)==null?void 0:g.call(n,P()))||null}),H=w(()=>v.value?!1:e.config.error||I.value!==null&&k.value);function P(){return e.config.type==="single"?u.value:h.value}function r(n){return h.value.includes(n)}function m(n){v.value||(k.value=!0,u.value=n.detail.checked,c())}function a(){v.value||(k.value=!0,u.value=!u.value,c())}function i(n,g){if(!v.value){if(k.value=!0,g.detail.checked)h.value.includes(n)||h.value.push(n);else{const d=h.value.indexOf(n);d>-1&&h.value.splice(d,1)}c()}}function l(n){var d;if(v.value)return;const g=(d=e.config.options)==null?void 0:d.find(C=>C.value===n);if(!(g!=null&&g.disabled)){if(k.value=!0,h.value.includes(n)){const C=h.value.indexOf(n);h.value.splice(C,1)}else h.value.push(n);c()}}function c(){var g,d;const n=P();(d=(g=e.config).onChange)==null||d.call(g,n),y("update:value",n),y("field-changed",{fieldName:e.config.name||e.config.header,value:n,config:e.config})}function D(n){var g,d;v.value||(k.value=!0,(d=(g=e.config).onBlur)==null||d.call(g,P(),n))}return F({getValue:()=>P(),setValue:n=>{e.config.type==="single"?u.value=!!n:h.value=Array.isArray(n)?[...n]:[]},isValid:w(()=>v.value||I.value===null),validate:()=>v.value?null:(k.value=!0,I.value),shouldShow:o,selectAll:()=>{var n;v.value||(e.config.type==="multiple"||e.config.type==="list")&&(k.value=!0,h.value=((n=e.config.options)==null?void 0:n.map(g=>g.value))||[],c())},deselectAll:()=>{v.value||(e.config.type==="multiple"||e.config.type==="list")&&(k.value=!0,h.value=[],c())},markAsTouched:()=>k.value=!0,resetTouched:()=>k.value=!1}),(n,g)=>(s(),b("div",null,[t.config.header?(s(),b("h6",{key:0,class:N(t.config.bold)},[E(T(t.config.header.replace("*",""))+" ",1),t.config.header.includes("*")?(s(),b("span",we,"*")):p("",!0)],2)):p("",!0),O("div",{style:W({width:t.config.width||"100%"})},[t.config.type==="single"?(s(),b("div",{key:0,class:N(["checkbox-container",{disabled:v.value}])},[R(S(te),{modelValue:u.value,"onUpdate:modelValue":g[0]||(g[0]=d=>u.value=d),onIonChange:m,onIonBlur:D,disabled:v.value,class:N(["custom-checkbox",{error:H.value}])},null,8,["modelValue","disabled","class"]),R(S(K),{class:N(["checkbox-label",{disabled:v.value}]),onClick:a},{default:A(()=>[E(T(t.config.label||t.config.placeholder),1)]),_:1},8,["class"])],2)):t.config.type==="multiple"?(s(),b("div",Ae,[(s(!0),b(_,null,U(t.config.options,(d,C)=>(s(),b("div",{key:d.value||C,class:N(["checkbox-item",{disabled:v.value||d.disabled}])},[R(S(te),{checked:r(d.value),onIonChange:$=>i(d.value,$),onIonBlur:D,disabled:v.value||d.disabled,class:N(["custom-checkbox",{error:H.value}])},null,8,["checked","onIonChange","disabled","class"]),R(S(K),{class:N(["checkbox-label",{disabled:v.value||d.disabled}]),onClick:()=>l(d.value)},{default:A(()=>[E(T(d.label)+" ",1),d.description?(s(),b("span",{key:0,class:N(["option-description",{disabled:v.value||d.disabled}])},T(d.description),3)):p("",!0)]),_:2},1032,["class","onClick"])],2))),128))])):t.config.type==="list"?(s(),b("div",He,[(s(!0),b(_,null,U(t.config.options,(d,C)=>(s(),b("div",{key:d.value||C,class:N(["checkbox-list-item",{selected:r(d.value),disabled:v.value||d.disabled}])},[O("div",Pe,[O("div",Ee,[d.icon?(s(),V(S(J),{key:0,icon:d.icon,class:N(["list-item-icon",{disabled:v.value||d.disabled}])},null,8,["icon","class"])):p("",!0),O("div",Me,[O("div",{class:N(["list-item-title",{disabled:v.value||d.disabled}])},T(d.label),3),d.description?(s(),b("div",{key:0,class:N(["list-item-description",{disabled:v.value||d.disabled}])},T(d.description),3)):p("",!0)])]),R(S(te),{checked:r(d.value),onIonChange:$=>i(d.value,$),onIonBlur:D,disabled:v.value||d.disabled,class:N(["custom-checkbox",{error:H.value}])},null,8,["checked","onIonChange","disabled","class"])])],2))),128))])):p("",!0),I.value&&k.value?(s(),V(S(j),{key:3,class:"error-note"},{default:A(()=>[E(T(I.value),1)]),_:1})):p("",!0),t.config.helperText&&!I.value?(s(),V(S(j),{key:4,class:"helper-note"},{default:A(()=>[E(T(t.config.helperText),1)]),_:1})):p("",!0)],4)]))}},Re=X(Oe,[["__scopeId","data-v-baa3f6e6"]]),ze={key:0},$e={class:"position_content alert_content"},qe=ie({__name:"Alert",props:{config:{},allFormValues:{}},setup(t){const F=t,x=z(null),e=async()=>{if(F.config.condition&&typeof F.config.condition=="function")try{const y=await F.config.condition(F.allFormValues);x.value=y}catch(y){console.error("Error evaluating alert condition:",y),x.value=null}else x.value=F.config};return q(()=>F.allFormValues,async()=>{await e()},{deep:!0}),fe(async()=>{await e()}),(y,u)=>{const h=ue("ion-icon"),k=ue("ion-row");return x.value?(s(),b("span",ze,[R(k,{style:W("border-radius: 5px; margin-top:10px; margin-bottom:10px; background-color:"+(x.value.backgroundColor||y.config.backgroundColor||"#f0f0f0"))},{default:A(()=>[O("span",$e,[R(h,{slot:"start",icon:x.value.icon||y.config.icon,"aria-hidden":"true"},null,8,["icon"]),O("span",{style:W("color:"+(x.value.textColor||y.config.textColor||"#000")+"; font-weight:600; margin: 0px 20px;")},T(x.value.index||y.config.index),5),O("span",{style:W("color:"+(x.value.textColor||y.config.textColor||"#000")+";")},T(x.value.value||x.value.message||y.config.value),5)])]),_:1},8,["style"])])):p("",!0)}}}),Le=X(qe,[["__scopeId","data-v-05796869"]]),We={key:0},_e={key:0,class:"required"},Ue={key:0,class:"option-description"},je={key:1,class:"radio-list"},Ge=["onClick"],Ye={class:"list-item-left"},Je={class:"list-item-text"},Ke={class:"list-item-title"},Qe={key:0,class:"list-item-description"},Xe={key:3,class:"radio-button-group"},Ze=["onClick","disabled"],et={__name:"RadioButtonField",props:{config:{type:Object,default:()=>({})},allFormValues:{type:Object,default:()=>({})}},emits:["update:value","field-changed"],setup(t,{expose:F,emit:x}){const e=t,y=x,u=z(k()),h=z(!1);function k(){return e.config.initialValue||e.config.value||null}q(()=>e.config.initialValue||e.config.value,r=>{u.value=r||null});const B=w(()=>{if(typeof e.config.disabled=="boolean")return e.config.disabled;if(typeof e.config.disabled=="function")try{return e.config.disabled(e.allFormValues)}catch(r){return console.warn("Disabled function error:",r),!1}return!1}),f=w(()=>{if(e.config.condition&&typeof e.config.condition=="function")try{return e.config.condition(e.allFormValues)}catch(r){return console.warn("Condition function error:",r),!1}return!0}),v=w(()=>{var r,m;return!f.value||B.value?null:((m=(r=e.config).validation)==null?void 0:m.call(r,u.value))||null}),o=w(()=>B.value?!1:e.config.error||v.value!==null&&h.value);function I(r){h.value=!0,u.value=r.detail.value,P()}function H(r){var a;if(B.value)return;const m=(a=e.config.options)==null?void 0:a.find(i=>i.value===r);m!=null&&m.disabled||(h.value=!0,u.value=r,P())}function P(){var m,a;const r=u.value;(a=(m=e.config).onChange)==null||a.call(m,r),y("update:value",r),y("field-changed",{fieldName:e.config.name||e.config.header,value:r,config:e.config})}return q(B,r=>{r&&u.value&&(u.value=null,P())}),F({getValue:()=>u.value,setValue:r=>{u.value=r},isValid:w(()=>B.value||v.value===null),validate:()=>B.value?null:(h.value=!0,v.value),shouldShow:f,clearSelection:()=>{u.value=null,P()},getSelectedOption:()=>{var r;return((r=e.config.options)==null?void 0:r.find(m=>m.value===u.value))||null},markAsTouched:()=>h.value=!0,resetTouched:()=>h.value=!1}),(r,m)=>f.value?(s(),b("div",We,[t.config.header?(s(),b("h6",{key:0,class:N(t.config.bold)},[E(T(t.config.header.replace("*",""))+" ",1),t.config.header.includes("*")?(s(),b("span",_e,"*")):p("",!0)],2)):p("",!0),O("div",{style:W({width:t.config.width||"100%"})},[t.config.type==="standard"||!t.config.type?(s(),V(S(oe),{key:0,value:u.value,onIonChange:I,class:"radio-group"},{default:A(()=>[(s(!0),b(_,null,U(t.config.options,(a,i)=>(s(),b("div",{key:a.value||i,class:"radio-item"},[R(S(ae),{value:a.value,disabled:B.value||a.disabled,class:N(["custom-radio",{error:o.value}])},null,8,["value","disabled","class"]),R(S(K),{class:"radio-label",onClick:()=>H(a.value)},{default:A(()=>[E(T(a.label)+" ",1),a.description?(s(),b("span",Ue,T(a.description),1)):p("",!0)]),_:2},1032,["onClick"])]))),128))]),_:1},8,["value"])):t.config.type==="list"?(s(),b("div",je,[(s(!0),b(_,null,U(t.config.options,(a,i)=>(s(),b("div",{key:a.value||i,class:N(["radio-list-item",{selected:u.value===a.value,disabled:B.value||a.disabled}])},[O("div",{class:"list-item-content",onClick:()=>H(a.value)},[O("div",Ye,[a.icon?(s(),V(S(J),{key:0,icon:a.icon,class:"list-item-icon"},null,8,["icon"])):p("",!0),O("div",Je,[O("div",Ke,T(a.label),1),a.description?(s(),b("div",Qe,T(a.description),1)):p("",!0)])]),R(S(ae),{value:a.value,checked:u.value===a.value,onIonSelect:I,disabled:B.value||a.disabled,class:N(["custom-radio",{error:o.value}])},null,8,["value","checked","disabled","class"])],8,Ge)],2))),128))])):t.config.type==="inline"?(s(),V(S(oe),{key:2,value:u.value,onIonChange:I,class:"radio-inline"},{default:A(()=>[(s(!0),b(_,null,U(t.config.options,(a,i)=>(s(),b("div",{key:a.value||i,class:"radio-inline-item"},[R(S(ae),{value:a.value,disabled:B.value||a.disabled,class:N(["custom-radio",{error:o.value}])},null,8,["value","disabled","class"]),R(S(K),{class:"radio-label",onClick:()=>H(a.value)},{default:A(()=>[E(T(a.label),1)]),_:2},1032,["onClick"])]))),128))]),_:1},8,["value"])):t.config.type==="button"?(s(),b("div",Xe,[(s(!0),b(_,null,U(t.config.options,(a,i)=>(s(),b("button",{key:a.value||i,type:"button",class:N(["radio-button",{selected:u.value===a.value,disabled:B.value||a.disabled,error:o.value}]),onClick:()=>H(a.value),disabled:B.value||a.disabled},[a.icon?(s(),V(S(J),{key:0,icon:a.icon,class:"button-icon"},null,8,["icon"])):p("",!0),E(" "+T(a.label),1)],10,Ze))),128))])):p("",!0),v.value&&h.value?(s(),V(S(j),{key:4,class:"error-note"},{default:A(()=>[E(T(v.value),1)]),_:1})):p("",!0),t.config.helperText&&!v.value?(s(),V(S(j),{key:5,class:"helper-note"},{default:A(()=>[E(T(t.config.helperText),1)]),_:1})):p("",!0)],4)])):p("",!0)}},tt=X(et,[["__scopeId","data-v-9306e1df"]]),at={key:0},nt={key:0,class:"required"},it={__name:"MultiSelectInput",props:{config:{type:Object,default:()=>({})},allFormValues:{type:Object,default:()=>({})}},emits:["update:value","field-changed","search-change"],setup(t,{expose:F,emit:x}){const e=t,y=x,u=z(e.config.initialValue||e.config.value||(e.config.isMultiple?[]:null)),h=z(!1);q(()=>e.config.initialValue||e.config.value,a=>{a!==void 0&&(u.value=a)});const k=w(()=>{if(typeof e.config.disabled=="boolean")return e.config.disabled;if(typeof e.config.disabled=="function")try{return e.config.disabled(e.allFormValues)}catch(a){return console.warn("Disabled function error:",a),!1}return!1}),B=w(()=>{if(e.config.condition&&typeof e.config.condition=="function")try{return e.config.condition(e.allFormValues)}catch(a){return console.warn("Condition function error:",a),!1}return!0}),f=w(()=>{var a,i;return!B.value||k.value?null:((i=(a=e.config).validation)==null?void 0:i.call(a,u.value))||null}),v=w(()=>k.value?!1:e.config.error||f.value!==null&&h.value),o=a=>{k.value||(h.value=!0,u.value=a,m())},I=()=>{var a,i;k.value||(h.value=!0,(i=(a=e.config).onOpen)==null||i.call(a,u.value))},H=()=>{var a,i;(i=(a=e.config).onClose)==null||i.call(a,u.value)},P=a=>{var i,l;k.value||(h.value=!0,(l=(i=e.config).onSearchChange)==null||l.call(i,a),y("search-change",a))},r=a=>{var i,l;k.value||(h.value=!0,(l=(i=e.config).onTag)==null||l.call(i,a))},m=()=>{var a,i;(i=(a=e.config).onChange)==null||i.call(a,u.value),y("update:value",u.value),y("field-changed",{fieldName:e.config.name||e.config.header,value:u.value,config:e.config})};return q(k,a=>{a&&u.value&&(u.value=e.config.isMultiple?[]:null,m())}),F({getValue:()=>u.value,setValue:a=>{u.value=a},isValid:w(()=>k.value||f.value===null),validate:()=>k.value?null:(h.value=!0,f.value),shouldShow:B,markAsTouched:()=>h.value=!0,resetTouched:()=>h.value=!1,clearSelection:()=>{u.value=e.config.isMultiple?[]:null,m()}}),(a,i)=>B.value?(s(),b("div",at,[t.config.header?(s(),b("h6",{key:0,class:N(t.config.bold)},[E(T(t.config.header.replace("*",""))+" ",1),t.config.header.includes("*")?(s(),b("span",nt,"*")):p("",!0)],2)):p("",!0),O("div",{style:W({width:t.config.width||"100%"})},[R(S(he),{modelValue:u.value,"onUpdate:modelValue":[i[0]||(i[0]=l=>u.value=l),o],onOpen:I,onClose:H,onSearchChange:P,onTag:r,multiple:t.config.isMultiple||!1,taggable:t.config.taggable||!1,"hide-selected":t.config.hideSelected||!1,"close-on-select":t.config.closeOnSelect!==!1,"open-direction":t.config.openDirection||"bottom","prevent-autofocus":t.config.preventAutofocus||!0,loading:t.config.loading||!1,searchable:t.config.searchable!==!1,disabled:k.value,placeholder:t.config.placeholder||"","select-label":t.config.selectLabel||"","tag-placeholder":t.config.tagPlaceholder||"",label:t.config.label||"name","track-by":t.config.trackBy||"concept_id",options:t.config.options||[],class:N([["custom-multiselect",{error:v.value}],"no-focus"]),tabindex:"-1"},null,8,["modelValue","multiple","taggable","hide-selected","close-on-select","open-direction","prevent-autofocus","loading","searchable","disabled","placeholder","select-label","tag-placeholder","label","track-by","options","class"]),f.value&&h.value?(s(),V(S(j),{key:0,class:"error-note"},{default:A(()=>[E(T(f.value),1)]),_:1})):p("",!0),t.config.helperText&&!f.value?(s(),V(S(j),{key:1,class:"helper-note"},{default:A(()=>[E(T(t.config.helperText),1)]),_:1})):p("",!0)],4)])):p("",!0)}},lt=X(it,[["__scopeId","data-v-142a8b10"]]),ut={key:6,class:"dashed_bottom_border"},ft=ie({__name:"StandardForm",props:{formData:{}},setup(t,{expose:F}){const x=t,e=me({}),y=z(new Map),u=f=>{if(f.condition&&typeof f.condition=="function")try{return f.condition(e)}catch(v){return console.warn("Condition function error for field:",f.name||f.header,v),!1}return!0},h=(f,v)=>{if(f){const o=v.name||v.header||"field_".concat(Math.random());y.value.set(o,f)}},k=()=>{x.formData.forEach(f=>{var v,o;if(f.componentType==="inputField"){const I=f.name||f.header||"field_".concat(Math.random()),H=(o=(v=f.value)!=null?v:f.initialValue)!=null?o:"";e[I]=H}})},B=f=>{e[f.fieldName]=f.value,f.config.onChange&&f.config.onChange(f.value,{...e})};return fe(async()=>{k(),await pe()}),F({getFormValues:()=>({...e}),setFormValue:(f,v)=>{e[f]=v;const o=y.value.get(f);o&&o.setValue&&o.setValue(v)},resetForm:()=>{Object.keys(e).forEach(f=>{e[f]=""}),y.value.forEach(f=>{f&&f.setValue&&f.setValue("")})},validateForm:()=>{const f={};return y.value.forEach((v,o)=>{if(v&&v.validate){const I=v.validate();I&&(f[o]=I)}}),Object.keys(f).length===0?null:f}}),(f,v)=>(s(),V(S(ye),null,{default:A(()=>[R(S(be),null,{default:A(()=>[(s(!0),b(_,null,U(f.formData,(o,I)=>{var H,P,r,m,a,i;return s(),V(S(ke),{key:I,size:((H=o==null?void 0:o.grid)==null?void 0:H.s)||"12","size-xs":(P=o==null?void 0:o.grid)==null?void 0:P.xs,"size-sm":(r=o==null?void 0:o.grid)==null?void 0:r.sm,"size-md":(m=o==null?void 0:o.grid)==null?void 0:m.md,"size-lg":(a=o==null?void 0:o.grid)==null?void 0:a.lg,"size-xl":(i=o==null?void 0:o.grid)==null?void 0:i.xl},{default:A(()=>[o.componentType==="LeftInputHeader"?(s(),V(Be,{key:0,config:o},null,8,["config"])):p("",!0),o.componentType==="inputField"&&u(o)?(s(),V(Ne,{key:1,config:o,allFormValues:e,onFieldChanged:B,ref_for:!0,ref:l=>h(l,o)},null,8,["config","allFormValues"])):p("",!0),o.componentType==="multiSelectInputField"&&u(o)?(s(),V(lt,{key:2,config:o,allFormValues:e,onFieldChanged:B,ref_for:!0,ref:l=>h(l,o)},null,8,["config","allFormValues"])):p("",!0),o.componentType==="checkboxField"&&u(o)?(s(),V(Re,{key:3,config:o,allFormValues:e,onFieldChanged:B,ref_for:!0,ref:l=>h(l,o)},null,8,["config","allFormValues"])):p("",!0),o.componentType==="radioButtonField"&&u(o)?(s(),V(tt,{key:4,config:o,allFormValues:e,onFieldChanged:B,ref_for:!0,ref:l=>h(l,o)},null,8,["config","allFormValues"])):p("",!0),o.componentType==="Alert"&&u(o)?(s(),V(Le,{key:5,config:o,allFormValues:e},null,8,["config","allFormValues"])):p("",!0),o.componentType==="Dashes"?(s(),b("div",ut)):p("",!0)]),_:2},1032,["size","size-xs","size-sm","size-md","size-lg","size-xl"])}),128))]),_:1})]),_:1}))}}),ne=[{isFinishBtn:!1,validationStatus:"",sectionHeader:"Height and weight",actionBtn:"Finish and Save",data:{rowData:[{colData:[{inputHeader:"Height*",unit:"cm",icon:M.height,value:"",name:"Height (cm)",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1,valueType:"number",inputType:"number",validationFunctionName:"vitalsHeight"},{inputHeader:"Weight*",unit:"kg",icon:M.weight,value:"",name:"Weight",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1,valueType:"number",inputType:"number",validationFunctionName:"vitalsWeight"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"bmi",index:""}],previousView:{name:"vitals"}},{classDash:"",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",displayNone:!1,name:"Height Not Done"},data:[{colSize:"5.8",name:"Height Not Done",value:"Height Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:M.search,isMultiSelect:!0,isCheckboxInputField:!0,popOver:!0,value:"",name:"Height (cm)",valueType:"text",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,id:"",idName:"district_id",displayNone:!0}]}},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" "},data:[{colSize:"5.8",name:"Weight Not Done",value:"Weight Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:M.search,isMultiSelect:!0,isCheckboxInputField:!0,popOver:!0,value:"",name:"Weight",valueType:"text",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"Blood pressure",data:{rowData:[{colData:[{inputHeader:"Systolic Pressure*",unit:"mmHg",icon:M.systolicPressure,value:"",name:"Systolic",required:!0,eventType:"input",disabled:!1,valueType:"number",inputType:"number",validationFunctionName:"vitalsSystolic"},{inputHeader:"Diastolic pressure*",unit:"mmHg",icon:M.diastolicPressure,value:"",name:"Diastolic",required:!0,eventType:"input",disabled:!1,valueType:"number",inputType:"number",validationFunctionName:"vitalsDiastolic"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"bp",index:""}],previousView:{name:"vitals"}},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",name:"Primary diagnosis"},data:[{colSize:"5.8",name:"Blood Pressure Not Done",value:"Blood Pressure Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:M.search,isMultiSelect:!0,isCheckboxInputField:!0,popOver:!0,value:"",name:"Blood Pressure",valueType:"text",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"Temperature and rates",data:{rowData:[{colData:[{inputHeader:"Temperature*",unit:"C",icon:M.temprature,value:"",name:"Temperature",eventType:"input",valueType:"number",inputType:"number",validationFunctionName:"vitalsTemperature"},{inputHeader:"Pulse rate*",unit:"BMP",icon:M.pulse,value:"",name:"Pulse",eventType:"input",valueType:"number",inputType:"number",validationFunctionName:"vitalsPulseRate"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"temp",index:""},{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"pulse",index:""}]},{selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",name:"Primary diagnosis"},data:[{colSize:"5.8",name:"Pulse Rate Not Done",value:"Pulse Rate Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:M.search,isMultiSelect:!0,isCheckboxInputField:!0,popOver:!0,value:"",name:"Pulse",valueType:"text",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id",displayNone:!0}]}},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",name:"Primary diagnosis"},data:[{colSize:"5.8",name:"Temperature Not Done",value:"Temperature Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:M.search,isMultiSelect:!0,isCheckboxInputField:!0,popOver:!0,value:"",name:"Temperature",valueType:"text",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"null",data:{rowData:[{colData:[{inputHeader:"Respiratory rate*",unit:"BMP",icon:M.respiratory,value:"",name:"Respiratory rate",eventType:"input",valueType:"number",inputType:"number",validationFunctionName:"vitalsRespiratoryRate"},{inputHeader:"Oxygen saturation*",unit:"%",icon:M.oxgenStaturation,value:"",name:"SAO2",eventType:"input",valueType:"number",inputType:"number",validationFunctionName:"vitalsOxygenSaturation"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"respiratory",index:""},{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"oxygen",index:""}]},{selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",name:"Primary diagnosis"},data:[{colSize:"5.8",name:"Respiratory rate Not Done",value:"Respiratory rate Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:M.search,isMultiSelect:!0,isCheckboxInputField:!0,popOver:!0,value:"",name:"Respiratory rate",valueType:"text",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id",displayNone:!0}]}},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",name:"Primary diagnosis"},data:[{colSize:"5.8",name:"Oxygen saturation Not Done",value:"Oxygen saturation Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:M.search,isMultiSelect:!0,isCheckboxInputField:!0,popOver:!0,value:"",name:"SAO2",valueType:"text",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id",displayNone:!0}]}}],ot=De("NCDVitalsStore",{state:()=>({vitals:[...ne],current_patient:{}}),actions:{setVitals(t){this.vitals=t},getInitialVitals(t){var F;return(F=this.current_patient)!=null&&F.ID&&this.current_patient.ID!==t?de.cloneDeep(ne):de.cloneDeep(ne)},setCurrentPatient(t){this.current_patient=t}},persist:!0});function vt(){const t=z({}),F=z({});let x=z({});const e=xe(),y=w(()=>e.patient),u=ot();x=w(()=>u.vitals);const h=async()=>{const i=await Z.getFirstValueNumber(y.value.patientID,"Height (cm)"),l=await Z.getFirstObsDatetime(y.value.patientID,"Height (cm)"),c=new G;if(i&&!(se(l).diff(c.getBirthdate(),"year")<18||c.getAge()<18))return i},k=async()=>{var n,g,d,C;const i=[...((g=(n=y.value)==null?void 0:n.vitals)==null?void 0:g.saved)||[],...((C=(d=y.value)==null?void 0:d.vitals)==null?void 0:C.unsaved)||[]],l=await re(i,"value_numeric",5090),c=await re(i,"obs_datetime",5090),D=new G;if(l&&!(se(c).diff(D.getBirthdate(),"year")<18||D.getAge()<18))return l},B=async()=>{var D,n;const i=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","SAO2","Respiratory rate"],l=Y.getAgeInYears((n=(D=y.value)==null?void 0:D.personInformation)==null?void 0:n.birthdate),c=i.map(async g=>{const d=await Z.getFirstObsDatetime(y.value.patientID,g);d&&Y.toStandardHisFormat(d)==Y.sessionDate()?(g=="Weight"&&ee(x.value,"Height And Weight Not Done","displayNone",!0),g=="Systolic"&&ee(x.value,"Blood Pressure Not Done","displayNone",!0),g=="Pulse"&&ee(x.value,"Pulse Rate Not Done","displayNone",!0),g=="Respiratory rate"&&ee(x.value,"Respiratory rate Not Done","displayNone",!0),Q(x.value,g,"value",await Z.getFirstValueNumber(y.value.patientID,g,Y.sessionDate())),Q(x.value,g,"disabled",!0)):Q(x.value,g,"value",""),g==="Respiratory rate"&&l<=5&&(Q(x.value,g,"required",!0),Q(x.value,g,"inputHeader","Respiratory rate*"))});await Promise.all(c)},f=async(i,l)=>{var c,D,n,g,d,C,$,le;return(D=(c=y.value)==null?void 0:c.personInformation)!=null&&D.gender&&((g=(n=y.value)==null?void 0:n.personInformation)!=null&&g.birthdate)&&L.vitalsHeight(i)==null&&L.vitalsWeight(l)==null?t.value=await ce.getBMI(parseInt(l),parseInt(i),(C=(d=y.value)==null?void 0:d.personInformation)==null?void 0:C.gender,Y.calculateAge((le=($=y.value)==null?void 0:$.personInformation)==null?void 0:le.birthdate,Y.sessionDate())):t.value={},await v()},v=async()=>{var l,c,D,n,g,d;if(!x.value[0])return;const i=(c=(l=t.value)==null?void 0:l.color)!=null?c:[];return I("bmi","BMI "+((n=(D=t.value)==null?void 0:D.index)!=null?n:""),"",{colors:i,value:(d=(g=t.value)==null?void 0:g.result)!=null?d:""},ce.iconBMI(i))},o=async(i,l)=>{var D,n,g,d;F.value=H(i,l),L.vitalsSystolic(i)==null&&L.vitalsDiastolic(l)==null||(F.value={});const c=(n=(D=F.value)==null?void 0:D.colors)!=null?n:[];return I("bp",i+"/"+l,"mmHg",{colors:c,value:(d=(g=F.value)==null?void 0:g.value)!=null?d:""},Se(c))},I=async(i,l,c,D,n="")=>{var C,$;if(!l)return;const g=l+" "+c,d=(C=D==null?void 0:D.colors)!=null?C:[];return{icon:n||"",textColor:d[1],index:g,backgroundColor:d[0],value:($=D==null?void 0:D.value)!=null?$:""}},H=(i,l)=>{if(i&&l){let c,D,n,g;const C=new G().getAge();return C<1?(c=75,D=100,n=50,g=70):C>=1&&C<6?(c=80,D=110,n=50,g=80):C>=6&&C<13?(c=85,D=120,n=55,g=80):C>=13&&C<18?(c=95,D=140,n=60,g=90):(c=100,D=130,n=60,g=90),i<c&&l<n?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP "}:i>=c&&i<=D&&l>=n&&l<=g?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP "}:i>140&&l>90?{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP"}:i<c?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP (Using Systolic Only)"}:i>=c&&i<=D?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP (Using Systolic Only)"}:{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP (Using Systolic Only)"}}return{}};return{BMI:t,BPStatus:F,vitalsData:x,patient:y,setTodayVitals:B,setBMI:f,updateBMI:v,updateBP:o,updateRate:I,getBloodPressureStatus:H,getTemperatureStatus:i=>{if(i&&L.vitalsTemperature(i)==null){let l,c;const n=new G().getAge();if(n<=1)l=35.5,c=37.4;else if(n>=1&&n<=18)l=35.5,c=37.4;else if(n>=19&&n<=64)l=35.5,c=37.4;else if(n>=65)l=35.5,c=37.4;else return{};if(i<l)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Temperature "};if(i>=l&&i<=c)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Temperature "};if(i>c)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Temperature "}}return{}},getPulseRateStatus:i=>{if(L.vitalsPulseRate(i)==null){let l,c;const n=new G().getAge();if(n<=.25)l=100,c=160;else if(n>=.25&&n<=1)l=80,c=120;else if(n>=1&&n<=2)l=80,c=120;else if(n>=6&&n<=12)l=70,c=100;else if(n>=13&&n<=18)l=55,c=90;else if(n>=18)l=60,c=100;else return{};if(i<l)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Pulse Rate "};if(i>=l&&i<=c)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Pulse Rate "};if(i>c)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Pulse Rate "}}return{}},getOxygenSaturationStatus:i=>{if(i&&L.vitalsOxygenSaturation(i)==null){if(i<95)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low oxygen saturation"};if(i>=95&&i<=100)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal oxygen saturation"}}return{}},getRespiratoryRateStatus:i=>{if(L.vitalsRespiratoryRate(i)==null){let l,c;const n=new G().getAge();if(n<=1)l=30,c=60;else if(n>=1&&n<3)l=24,c=40;else if(n>=3&&n<=6)l=22,c=34;else if(n>=6&&n<=12)l=18,c=30;else if(n>=12&&n<=18)l=12,c=16;else if(n>=19)l=12,c=20;else return{};if(i<l)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low respiratory rate"};if(i>=l&&i<=c)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal respiratory rate"};if(i>c)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High respiratory rate"}}return{}},checkHeight:k,checkHeightServer:h}}export{ft as _,ot as a,vt as u};
