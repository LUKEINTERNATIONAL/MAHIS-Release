System.register(["./vendor-legacy-B___aDYJ.js","./index-legacy-j08XV7Kh.js","./lodash-legacy-pOOc9Efu.js","./confirm_pregnancy_service-legacy-DoohWxxV.js","./usePatientProfile-legacy-BHMXW-V-.js","./formatServerData-legacy-CCypIMXV.js","./DemographicBar-legacy-Dn9kcWR-.js","./tasks-legacy-dEM00ANI.js"],function(a,e){"use strict";var t,n,o,i,l,s,r,d,c,u,p,v,m,f,g,b,x,y,h,_,k,w,C,D,P,A,I,z,N,j,M,O,R,S,E,H,V,B,F,U,L,T,Y,G,W,$,q,J,Z,K,X,Q,aa,ea,ta,na,oa,ia,la,sa,ra,da,ca,ua,pa,va,ma,fa,ga,ba,xa,ya,ha,_a,ka,wa,Ca,Da,Pa,Aa,Ia,za,Na,ja,Ma,Oa,Ra,Sa,Ea,Ha,Va;return{setters:[a=>{t=a.R,n=a.d,o=a.r,i=a.a,l=a.y,s=a.f,r=a.z,d=a.l,c=a.u,u=a.S,p=a.U,v=a.k,m=a.I,f=a.dv,g=a.T,b=a.A,x=a.W,y=a.ag,h=a.ah,_=a.e,k=a.bp,w=a.ai,C=a.F,D=a.L,P=a.aj,A=a.p,I=a.dw,z=a.m,N=a.D,j=a.B,M=a.bT,O=a.an,R=a.X,S=a.ar,E=a.cm,H=a.a$,V=a.c,B=a.w,F=a.E,U=a.co,L=a.aZ,T=a.aW,Y=a.dx,G=a.cG,W=a.M,$=a.J,q=a.G,J=a.a7,Z=a.cZ,K=a.cY,X=a.aG,Q=a.bV,aa=a.a5,ea=a.aI,ta=a.bd,na=a.a3},a=>{oa=a.P,ia=a.a0,la=a.N,sa=a.j,ra=a.a1,da=a._,ca=a.a2,ua=a.u,pa=a.a3,va=a.f,ma=a.q,fa=a.a4,ga=a.e,ba=a.a5,xa=a.a6,ya=a.T,ha=a.D,_a=a.S,ka=a.H,wa=a.a7,Ca=a.m,Da=a.k,Pa=a.C,Aa=a.a8,Ia=a.a9,za=a.r,Na=a.t,ja=a.aa,Ma=a.ab},a=>{Oa=a.l},a=>{Ra=a.C},a=>{Sa=a.u},a=>{Ea=a.f},a=>{Ha=a.D},a=>{Va=a.i}],execute:function(){var Ba=document.createElement("style");Ba.textContent='.custom-header[data-v-d2a6d356]{--color: white;padding:8px 16px}.header-content[data-v-d2a6d356]{display:flex;align-items:center;justify-content:space-between;width:100%}.title-section[data-v-d2a6d356]{display:flex;align-items:center;gap:12px}.header-icon[data-v-d2a6d356]{font-size:24px;color:#fff}.custom-title[data-v-d2a6d356]{font-size:20px;font-weight:600;color:#fff;margin:0}.custom-content[data-v-d2a6d356]{--background: #fff}.progress-overview[data-v-d2a6d356]{background:#fff;margin:16px 16px 8px;padding:20px;border-radius:8px;border:1px solid #e2e8f0}.progress-header[data-v-d2a6d356]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.progress-stats h3[data-v-d2a6d356]{margin:0;font-size:24px;font-weight:700;color:#1e293b}.progress-stats p[data-v-d2a6d356]{margin:4px 0 0;font-size:14px;color:#64748b}.completion-badge[data-v-d2a6d356]{font-size:14px;font-weight:600;padding:8px 12px}.custom-progress[data-v-d2a6d356]{height:8px;border-radius:4px;--background: #e2e8f0}.tasks-container[data-v-d2a6d356]{padding:8px}.tasks-grid[data-v-d2a6d356]{padding:0}.task-col[data-v-d2a6d356]{padding:8px}.task-card[data-v-d2a6d356]{background:#fff;border-radius:16px;padding:20px;border:1px solid #e2e8f0;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 4px rgba(0,0,0,.05);height:100%;display:flex;flex-direction:column;align-items:center;text-align:center;min-height:140px}.task-card[data-v-d2a6d356]:hover:not(.task-disabled){transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,.15);border-color:#3b82f6}.task-completed[data-v-d2a6d356]{border-color:#10b981;background:linear-gradient(135deg,#f0fdf4,#dcfce7)}.task-disabled[data-v-d2a6d356]{opacity:.5;cursor:not-allowed}.task-icon-container[data-v-d2a6d356]{margin-bottom:12px;padding:16px;border-radius:50%;background:#f1f5f9;display:flex;align-items:center;justify-content:center}.task-completed .task-icon-container[data-v-d2a6d356]{background:#d1fae5}.task-icon[data-v-d2a6d356]{font-size:32px}.task-content[data-v-d2a6d356]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center}.task-label[data-v-d2a6d356]{font-size:16px;font-weight:600;color:#1e293b;margin-bottom:8px;text-align:center}.task-status[data-v-d2a6d356]{display:flex;align-items:center;gap:4px;font-size:12px;color:#10b981;font-weight:500}.empty-state[data-v-d2a6d356]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center;background:#fff;border-radius:16px;margin:8px;box-shadow:0 2px 8px rgba(0,0,0,.1)}.empty-icon[data-v-d2a6d356]{width:80px;height:80px;border-radius:50%;background:#f1f5f9;display:flex;align-items:center;justify-content:center;margin-bottom:24px}.empty-icon ion-icon[data-v-d2a6d356]{font-size:40px;color:#64748b}.empty-state h3[data-v-d2a6d356]{margin:0 0 12px;font-size:20px;font-weight:600;color:#1e293b}.empty-state p[data-v-d2a6d356]{margin:0 0 24px;font-size:16px;color:#64748b;max-width:300px;line-height:1.5}.empty-action[data-v-d2a6d356]{--border-radius: 8px;height:44px;font-weight:500}@media (max-width: 768px){.progress-header[data-v-d2a6d356]{flex-direction:column;gap:12px;text-align:center}.task-card[data-v-d2a6d356]{min-height:120px;padding:16px}.task-icon[data-v-d2a6d356]{font-size:28px}.task-label[data-v-d2a6d356]{font-size:14px}}.start-visit{margin-top:5px;margin-right:5px}.send-button-container{display:inline-flex;border-radius:9999px;overflow:hidden;min-width:130px}.send-text{background-color:#006401;color:#fff;border:none;font-family:system-ui,-apple-system,sans-serif;cursor:pointer;flex-grow:1;transition:background-color .2s;font-size:14px}.send-arrow{background-color:green;color:#fff;border:none;border-left:1px solid #135a14;font-size:14px;cursor:pointer;display:flex;align-items:center;transition:background-color .2s;padding:8px 14px}.send-text:hover{background-color:#004d00}.send-arrow:hover{background-color:#006b00}.send-arrow:after{content:"â–¾";font-size:18px}@media (max-width: 1120px){.regDisplayFlex{display:flex;justify-content:space-between}.displayNoneLeftPanel{display:none!important}}.patient-chart[data-v-075bd49a]{width:100%;background-color:#fff;border-radius:5px;margin-right:5px;margin-bottom:10px}.vitalsHeading[data-v-075bd49a]{font-style:normal;font-weight:300;font-size:14px;display:flex;align-items:center;color:#636363}.vitalsUnits[data-v-075bd49a]{font-style:normal;font-weight:400;font-size:16px;color:#636363}.vitalsValue[data-v-075bd49a]{font-style:normal;font-weight:600;font-size:30px;display:flex;align-items:center;color:#00190e}.vitalsTitle[data-v-075bd49a]{font-style:normal;font-weight:600;font-size:16px;color:#00190e;padding:10px}.dateClass[data-v-075bd49a]{font-style:normal;font-weight:400;font-size:12px;display:flex;align-items:center;color:#016302;padding:10px}#container[data-v-075bd49a]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-075bd49a]{font-size:20px;line-height:26px}#container p[data-v-075bd49a]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-075bd49a]{text-decoration:none}.centered-content[data-v-075bd49a]{display:flex;justify-content:center;align-items:center}ion-item[slot=header][data-v-075bd49a]{font-size:20px;padding-top:25px;font-weight:600}.first_letter[data-v-075bd49a]{background-color:#e6e6e6;padding:20px;margin-right:20px;font-size:24px;border-radius:4px;color:#636363!important}.p_name_image[data-v-075bd49a]{font-size:24px;color:#00190e;display:flex;font-weight:700;overflow:hidden}.p_name[data-v-075bd49a]{max-width:210px;margin-left:20px;height:25px}.p_dash_header[data-v-075bd49a]{display:flex;justify-content:space-between;padding:20px;border-bottom:solid #cccccc 1px}.p_title[data-v-075bd49a]{font-weight:700;font-size:24px;color:#00190e}.col[data-v-075bd49a]{border:solid 1px #ccc;padding:20px;width:600px;height:37.4vh}.row[data-v-075bd49a]{border-radius:4px;border:solid 1px #ccc}.grid[data-v-075bd49a]{padding:20px}.date[data-v-075bd49a]{display:flex;font-weight:600;color:#00190e;align-items:center;justify-content:space-between;width:200px}ion-item[slot=header][data-v-075bd49a]{padding-top:1px}.side_title[data-v-075bd49a]{font-size:14px}.form_list[data-v-075bd49a]{display:flex}.form_list_content[data-v-075bd49a]{padding-left:10px;color:#00190e;font-size:14px;font-weight:500;padding-bottom:15px}.start_new_co[data-v-075bd49a]{background-color:#ded;color:#006401;padding:15px;border-radius:4px;margin-bottom:20px;margin-left:7px;font-weight:500;cursor:pointer}.allergies[data-v-075bd49a]{background:#fecdca;color:#b42318;padding:1px 8px;border-radius:4px;margin-right:5px;display:inline-block;margin-bottom:5px}.segment-button-checked[data-v-075bd49a]{background:#ded!important}ion-segment-button[data-v-075bd49a]{background:#fff;margin-right:1px;font-size:12px;text-transform:unset}.bottomSummary[data-v-075bd49a]{margin-top:20px;max-width:600px}.bottomSummary .segment-button-checked[data-v-075bd49a]{background:#fff!important;--indicator-color: none}.bottomSummary ion-segment-button[data-v-075bd49a]{background:#e6e6e6;margin-right:5px;border-top-right-radius:10px;border-top-left-radius:10px;text-transform:unset;font-style:normal;font-weight:700;font-size:12px}.bottomSummaryContent[data-v-075bd49a]{background:#fff}.initialsBox[data-v-075bd49a]{min-width:85px;height:90px;left:31px;top:122px;border-radius:10px;align-items:center;display:flex;justify-content:center;margin-top:10px}.maleColor[data-v-075bd49a]{background:#5983ba}.femaleColor[data-v-075bd49a]{background:#876d9b}.demoContent[data-v-075bd49a]{font-weight:700}.alert_content[data-v-075bd49a]{padding:10px 10px 0;width:100%}.bottom_text[data-v-075bd49a]{padding-bottom:10px;width:100%}.sub-menu-icon[data-v-075bd49a]{margin-right:12px}.sub-menu-txt[data-v-075bd49a]{font-weight:600;font-size:17px;color:gray}ion-item.list-content.selected[data-v-075bd49a]{--background: #e8f0fe;--color: #1a73e8}.button-group[data-v-075bd49a]{display:flex;justify-content:space-between;align-items:center;gap:10px;width:100%}.action-buttons[data-v-075bd49a]{display:flex;gap:8px;align-items:center}.action-button[data-v-075bd49a]{display:inline-flex;align-items:center;padding:6px 12px;height:32px;border-radius:9999px;font-family:system-ui,-apple-system,sans-serif;cursor:pointer;font-size:14px;border:none;background-color:#e6e6e6;color:#636363!important;transition:all .2s;white-space:nowrap}.action-button[data-v-075bd49a]:hover{background-color:#d0d0d0}.action-button.danger[data-v-075bd49a]{background-color:#fecdca;color:#b42318!important}.action-button.danger[data-v-075bd49a]:hover{background-color:#f9a8a4}.send-button-container[data-v-075bd49a]{display:inline-flex;border-radius:9999px;overflow:hidden;min-width:130px;height:32px}@media (max-width: 768px){.button-group[data-v-075bd49a]{flex-wrap:wrap}.action-buttons[data-v-075bd49a]{flex:1;min-width:0}.send-button-container[data-v-075bd49a]{flex:none}.action-button[data-v-075bd49a]{padding:6px 8px;font-size:13px}}.danger[data-v-075bd49a]{--ion-color-base: #b42318 !important;--ion-color-contrast: #ffffff !important}\n/*$vite$:1*/',document.head.appendChild(Ba);const Fa=[{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Is the pregnancy confirmed?*",class:"bold",selectedValue:"",name:"Pregnancy confirmed"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Was the pregnancy planned?*",selectedValue:"",class:"bold",name:"Pregnancy planned"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}}],Ua=a("u",t("ANCEnrollmentStore",{state:()=>({ConfirmPregnancy:[...Fa]}),actions:{setConfirmPregnancy(a){this.ConfirmPregnancy=a},getInitial:()=>[...Oa.cloneDeep(Fa)]}})),La={class:"header-content"},Ta={class:"title-section"},Ya={class:"tasks-container"},Ga=["onClick"],Wa={class:"task-icon-container"},$a={class:"task-content"},qa={key:0,class:"task-status"},Ja={key:1,class:"empty-state"},Za={class:"empty-icon"},Ka=da(n({__name:"TaskView",props:{tasks:{type:Object,required:!0}},setup(a){const e=o([]),t=a;function n(){R.dismiss()}return i(async()=>{const a=new oa;e.value=[];const n=await new ia(a.getID()).getProgram();t.tasks.forEach(async a=>{const o={label:a.name,icon:a.icon,disabled:!1,taskCompleted:!1,task:a};if(("string"!=typeof a.workflowID||await Va(a.workflowID))&&("function"!=typeof a.condition||await a.condition(t.tasks))){if("string"==typeof a.globalProperty&&!(await la.isProp(`${a.globalProperty}=true`)))return;var i,l;return"boolean"==typeof a.allowTaskAfterDeath&&!1===a.allowTaskAfterDeath&&/died/i.test(`${null==n||null===(i=n.program)||void 0===i?void 0:i.outcome}`)&&new Date(oa.getSessionDate())>=new Date(null==n||null===(l=n.program)||void 0===l?void 0:l.startDate)&&(o.disabled=!0),"function"==typeof a.disabled&&(o.disabled=await a.disabled(t.tasks)),e.value.push(o),a}})}),(a,t)=>(s(),l(c(O),null,{default:r(()=>[d(c(u),{class:"ion-no-border"},{default:r(()=>[d(c(p),{class:"custom-header"},{default:r(()=>[v("div",La,[v("div",Ta,[d(c(m),{icon:c(f),class:"header-icon"},null,8,["icon"]),d(c(g),{class:"custom-title"},{default:r(()=>t[0]||(t[0]=[b("Program Activities")])),_:1,__:[0]})]),d(c(x),{onClick:n,fill:"clear",shape:"round"},{default:r(()=>[d(c(m),{icon:c(y)},null,8,["icon"])]),_:1})])]),_:1})]),_:1}),d(c(h),{class:"custom-content"},{default:r(()=>[v("div",Ya,[e.value&&e.value.length>0?(s(),l(c(k),{key:0,class:"tasks-grid"},{default:r(()=>[d(c(w),{class:"ion-justify-content-center"},{default:r(()=>[(s(!0),_(C,null,D(e.value,(a,e)=>(s(),l(c(P),{size:"12","size-sm":"6","size-md":"4","size-lg":"3",key:e,class:"task-col"},{default:r(()=>[v("div",{class:A(["task-card",{"task-completed":a.taskCompleted,"task-disabled":a.disabled}]),onClick:e=>!a.disabled&&(a=>{if(!a.disabled)if(a.task.action)n(),a.task.action();else if(a.task.component&&a.task.isFormComponent)return void sa(ra,{},!1,{title:a.task.name,useComponent:a.task.component,onClose:n})})(a)},[v("div",Wa,[d(c(m),{color:a.taskCompleted?"success":"primary",icon:a.taskCompleted?c(I):a.icon,class:"task-icon"},null,8,["color","icon"])]),v("div",$a,[d(c(N),{class:"task-label"},{default:r(()=>[b(j(a.label),1)]),_:2},1024),a.taskCompleted?(s(),_("div",qa,[d(c(m),{icon:c(I),color:"success"},null,8,["icon"]),t[1]||(t[1]=v("span",null,"Completed",-1))])):z("",!0)])],10,Ga)]),_:2},1024))),128))]),_:1})]),_:1})):(s(),_("div",Ja,[v("div",Za,[d(c(m),{icon:c(M)},null,8,["icon"])]),t[2]||(t[2]=v("h3",null,"No Activities Yet",-1)),t[3]||(t[3]=v("p",null,"Your program activities will appear here once they're available.",-1))]))])]),_:1})]),_:1}))}}),[["__scopeId","data-v-d2a6d356"]]),Xa={key:2,class:"content_manager"},Qa={style:{display:"flex","justify-content":"space-between"}},ae={class:"p_name_image"},ee={style:{width:"100%"}},te={class:"p_name"},ne={style:{display:"flex","justify-content":"space-between"}},oe={class:"start-visit"},ie={class:"button-group"},le={class:"action-buttons"},se={class:"send-button-container"},re={class:"send-button-container"},de={class:"send-button-container"},ce={style:{"padding-left":"10px","padding-right":"10px"}},ue={class:"vitalsUnits"},pe={style:{width:"100%",overflow:"scroll",height:"64px"}},ve={key:0,style:{"margin-top":"1px"}},me={key:0,class:"patient-chart"},fe={class:"patient-chart"},ge={key:1,class:"patient-chart"},be={key:1},xe={key:2},ye={key:3},he={key:4},_e={key:5},ke={class:"rght-drpm"},we=n({__name:"PatientProfile",setup(a,{expose:t}){const n=U(()=>na(()=>e.import("./LabTestsHistory-legacy-hDeq7K7M.js"),void 0,e.meta.url)),u=U(()=>na(()=>e.import("./DiagnosesHistory-legacy-DmqlI-wK.js"),void 0,e.meta.url)),p=U(()=>na(()=>e.import("./AllergiesContraindication-legacy-CAefWxCW.js"),void 0,e.meta.url)),f=U(()=>na(()=>e.import("./VisitsHistory-legacy-Usxfgfxh.js"),void 0,e.meta.url)),g=U(()=>na(()=>e.import("./VitalsMeasurementsSummary-legacy-BAg9et_-.js"),void 0,e.meta.url)),x=U(()=>na(()=>e.import("./PatientProfile-legacy-PWF5GaGH.js"),void 0,e.meta.url)),k=U(()=>na(()=>e.import("./WeightHeightChart-legacy-DOmHpgm9.js"),void 0,e.meta.url)),I=U(()=>na(()=>e.import("./index-legacy-j08XV7Kh.js").then(a=>a.cd),void 0,e.meta.url)),M=U(()=>na(()=>e.import("./BloodPressure-legacy-Bxzq1EIb.js"),void 0,e.meta.url)),R=U(()=>na(()=>e.import("./index-legacy-j08XV7Kh.js").then(a=>a.cc),void 0,e.meta.url)),ia=U(()=>na(()=>e.import("./AncEnrollmentModal-legacy-CzvkjYAh.js"),void 0,e.meta.url)),la=U(()=>na(()=>e.import("./LabourEnrollmentModal-legacy-RwAHf82F.js"),void 0,e.meta.url)),ra=U(()=>na(()=>e.import("./PNCEnrollmentModal-legacy-zLO3xQbm.js"),void 0,e.meta.url)),da=S(),Oa=E(),Va=ua(),Ba=pa(),Fa=va(),La=ma(),Ta=fa(),Ya=Ua(),{event:Ga,popoverOpen:Wa,openPopover:$a,openPIM:qa,openOutCome:Ja,openUpdateNCDNUmbers:Za,printVisitSummary:we,printID:Ce,formatCurrentAddress:De}=Sa(),{screenWidth:Pe}=ga(),{patient:Ae}=H(Va),{selectedMedicalAllergiesList:Ie}=H(Ba),{NCDNumber:ze}=H(Fa),{activeProgram:Ne,authorizedPrograms:je}=H(La),{vitals:Me}=H(Ta),{ConfirmPregnancy:Oe}=H(Ya);o(!1),o(!1);const Re=o(!1),Se=o(!0),Ee=o(!1),He=o(!1),Ve=o(!1),Be=o("Patient Charts");o(!1);const Fe=o(null);o(null),o("+ Enroll in NCD Program"),o("+ Start New OPD consultation");const Ue=o([]);o([]);const Le=o({});o([]);const Te=o(!1),Ye=o(!1),Ge=o(!1),We=o(!1),$e=o(!1),qe=o(!1),Je=o([]),Ze=o(0),Ke=o(),Xe=o("");o([]),o();const Qe=o(!1),at=V(()=>{try{var a;const e=null===(a=Ae.value)||void 0===a||null===(a=a.personInformation)||void 0===a?void 0:a.gender;return"Male"===e||"M"===e?je.value.filter(a=>"ANC PROGRAM"!==a.name&&"LABOUR AND DELIVERY PROGRAM"!==a.name&&"PNC PROGRAM"!==a.name):je.value.map(a=>{if("ANC PROGRAM"===a.name||"LABOUR AND DELIVERY PROGRAM"===a.name||"PNC PROGRAM"===a.name){const e=Je.value.some(e=>e.id===a.program_id);return{...a,actionName:e?`Start ${a.name}`:`Enroll in ${a.name}`}}return a})}catch(e){}});V(()=>ba(Oe.value,"Pregnancy confirmed")),V(()=>ba(Oe.value,"Pregnancy planned"));const et=V(()=>!Ge.value&&14==Ne.value.program_id),tt=V(()=>Ge.value&&14==Ne.value.program_id),nt=a=>{Be.value=a},ot=()=>[{backgroundColor:"#B9E6FE",status:"",icon:wa(["#B9E6FE","#026AA2","#9ADBFE"]),textColor:"#026AA2",value:"No further action is required.",name:"",index:"Blood sugar is normal"},{backgroundColor:"#FEDF89",status:"",icon:wa(["#FEDF89","#B54708","#FED667"]),textColor:"#B54708",value:"Please call or follow up!",name:"",index:"Patient Defaulted"},{backgroundColor:"#FECDCA",status:"",icon:wa(["#FECDCA","#B42318","#FDA19B"]),textColor:"#B42318",value:"Administer medications!",name:"",index:"Patient is hypertensive"}],it=()=>{Te.value=!1},lt=()=>{Ye.value=!1},st=()=>{Te.value=!Te.value},rt=()=>{Ye.value=!Ye.value},dt=async()=>{try{const a=localStorage.getItem("locationID");if(!a)return void Ca("Location ID could not be found. Please check your settings.");await Da().refresh(a),st(),Ge.value=!0,Pa("The patient's visit is now active. Patient is on the waiting list for vitals")}catch(a){Ca("An error occurred while attempting to check in the patient. Please try again.")}},ct=async()=>{try{const a=await Aa.getCheckInStatus(Ae.value.patientID);await Aa.checkOutPatient(a[0].id,ka.todayDateFormatted());const e=await Ia(),t=e?e.code:null;await Da().refresh(t),Ge.value=!1,rt(),Pa("The patient's visit is now closed")}catch(a){console.error(a)}},ut=async()=>{if(14==Ne.value.program_id)try{const a=await Aa.getCheckInStatus(Ae.value.patientID);Ge.value=a.length>0}catch(a){console.error(a)}},pt=()=>{st()},vt=()=>{rt()},mt=(a="tasks")=>async function(a,e="tasks"){var t,n;const o=null!==(t={1:ca}[a])&&void 0!==t?t:{};sa(Ka,{},!0,{tasks:null!==(n=null==o?void 0:o[e])&&void 0!==n?n:[]})}(Ne.value.program_id,a),ft=async a=>{if(!(await _t(),a.program_id!=za.ANC_PROGRAM&&a.program_id!=za.PNC_PROGRAM&&a.program_id!=za.LABOUR_AND_DELIVERY_PROGRAM||Je.value.find(e=>e.id==a.program_id))){if(a.program_id==za.ANC_PROGRAM)return We.value=!0,void(Ze.value=a.program_id);var e,t;if(a.program_id==za.LABOUR_AND_DELIVERY_PROGRAM)return $e.value=!0,Xe.value=`Are you sure you want to enroll ${null===(e=Ae.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.given_name.toUpperCase()} in this program?`,void(Ze.value=a.program_id);if(a.program_id==za.PNC_PROGRAM)return qe.value=!0,Xe.value=`Are you sure you want to enroll ${null===(t=Ae.value)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.given_name.toUpperCase()} in this program?`,void(Ze.value=a.program_id)}const n=await xa.userProgramData(Ae.value.patientID,a);return 14===a.program_id?null!=n&&n.canProceed&&n.url?da.push(n.url):void(null!=n&&n.showWarning&&Na("The patient's visit is not activated or you don't have permissions for the current stage")):null!=n&&n.url?da.push(n.url):void 0},gt=()=>{We.value=!1},bt=()=>{We.value=!We.value},xt=async()=>{const a=_a.getUserID(),e=new Ra(Ae.value.patientID,a);if(!(await e.createEncounter()))return Na("Unable to create quick check encounter");const t=await e.saveObservationList(await Ct());return await ja.enrollProgram(Ae.value.patientID,Ze.value,(new Date).toString()),t?(Pa("Enrollment is successful"),await _t(),bt(),da.push("ANCHome")):Na("Unable to create quick check details!")},yt=async()=>(await ja.enrollProgram(Ae.value.patientID,Ze.value,(new Date).toString()),await _t(),Pa("Enrollment is successful"),da.push("LabourHome")),ht=async()=>(await ja.enrollProgram(Ae.value.patientID,Ze.value,(new Date).toString()),await _t(),Pa("Enrollment is successful"),da.push("PNCHome")),_t=async()=>{const a=Ae.activePrograms;Je.value=null==a?void 0:a.map(a=>({name:a.program.name,id:a.program_id}))},kt=()=>{bt()},wt=async()=>{const a=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","Respiratory rate"].map(async a=>{const e=await Ma.getFirstValueNumber(Ae.value.patientID,a);return{[a]:e}});Ke.value=(new oa).getBloodGlucose(Ae.value);const e=await Promise.all(a);Le.value=Object.assign({},...e)},Ct=async()=>[...await Ea(Oe)];return i(async()=>{var a;await xa.userProgramData(Ae.value.patientID),null!==(a=Ae.value)&&void 0!==a&&null!==(a=a.personInformation)&&void 0!==a&&a.birthdate&&(Se.value=ka.getAgeInYears(Ae.value.personInformation.birthdate)>=14,Ee.value=ka.ageInMonths(Ae.value.personInformation.birthdate)<9,He.value=ka.getAgeInYears(Ae.value.personInformation.birthdate)<5,Ve.value=ka.dateDiffInDays(ka.sessionDate(),Ae.value.personInformation.birthdate)<42);const e=new oa;Ue.value=await oa.getPatientVisits(e.getID(),!1),await _t(),ot(),await wt(),await ut()}),B(()=>Ae.value.patientID,async a=>{a&&(await xa.userProgramData(a),await _t())},{immediate:!0}),B(()=>Ae,async()=>{await xa.userProgramData(Ae.value.patientID),await wt(),await ut(),await(async()=>{if(14==Ne.value.program_id)try{const a=await Aa.getCheckInStatus(Ae.value.patientID);Ge.value=!!a.length}catch(a){console.error(a)}})()},{deep:!0}),B(Oa,async a=>{await xa.userProgramData(Ae.value.patientID)},{deep:!0}),B(()=>Ae.value,()=>{(()=>{var a;if(null!==(a=Ae.value)&&void 0!==a&&null!==(a=a.personInformation)&&void 0!==a&&a.birthdate){const a=ka.getAgeInYears(Ae.value.personInformation.birthdate);Qe.value=a<9}})()},{immediate:!0,deep:!0}),t({showUnderageWarning:Qe}),(a,e)=>{const t=F("ion-list"),o=F("ion-popover");return s(),l(c(O),null,{default:r(()=>[d(ya),d(c(h),{fullscreen:!0},{default:r(()=>[33!==c(Ne).program_id&&""!=c(Ne).program_id&&c(Pe)<1120?(s(),l(Ha,{key:0,onOpenPopover:e[0]||(e[0]=a=>c($a)(a))})):z("",!0),d(c(R),{closeModalFunc:it,onYes:dt,onNo:pt,isOpen:Te.value,title:"Are you sure you want to create the visit?"},null,8,["isOpen"]),d(c(R),{closeModalFunc:lt,onYes:ct,onNo:vt,isOpen:Ye.value,title:"Are you sure you want to close the visit?"},null,8,["isOpen"]),d(c(ia),{closeModalFunc:gt,onYes:xt,onNo:kt,isOpen:We.value,title:Xe.value,showUnderageWarning:Qe.value},null,8,["isOpen","title","showUnderageWarning"]),d(c(la),{closeModalFunc:gt,onYes:yt,onNo:kt,isOpen:$e.value,title:Xe.value},null,8,["isOpen","title"]),d(c(ra),{closeModalFunc:gt,onYes:ht,onNo:kt,isOpen:qe.value,title:Xe.value},null,8,["isOpen","title"]),33==c(Ne).program_id?(s(),l(c(x),{key:1,updateData:c(Ae)},null,8,["updateData"])):z("",!0),33!==c(Ne).program_id&&""!=c(Ne).program_id?(s(),_("div",Xa,[d(c(w),{class:"content_width"},{default:r(()=>[d(c(P),{size:"2.5","size-lg":"2.6","size-md":"3",class:"displayNoneLeftPanel"},{default:r(()=>[d(c(L),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:r(()=>[d(c(T),null,{default:r(()=>{var a,t,n,o;return[v("div",Qa,[e[22]||(e[22]=v("div",null,null,-1)),v("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:e[1]||(e[1]=a=>c($a)(a))},[d(c(m),{icon:c(Y),style:{"font-size":"2.2rem"}},null,8,["icon"])])]),v("div",ae,[v("div",{class:A("M"==(null===(a=c(Ae))||void 0===a||null===(a=a.personInformation)||void 0===a?void 0:a.gender)?"initialsBox maleColor":"initialsBox femaleColor"),onClick:e[2]||(e[2]=a=>c(qa)())},[d(c(m),{style:{color:"#fff","font-size":"70px"},icon:c(G)},null,8,["icon"])],2),v("div",ee,[v("div",te,j(null===(t=c(Ae))||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.given_name)+" "+j(null===(n=c(Ae))||void 0===n||null===(n=n.personInformation)||void 0===n?void 0:n.middle_name)+" "+j(null===(o=c(Ae))||void 0===o||null===(o=o.personInformation)||void 0===o?void 0:o.family_name),1)])]),d(c(w),null,{default:r(()=>[d(c(P),{size:"4"},{default:r(()=>e[23]||(e[23]=[b("MRN:")])),_:1,__:[23]}),d(c(P),{class:"demoContent"},{default:r(()=>[b(j(c(Ae).ID),1)]),_:1})]),_:1}),32===c(Ne).program_id?(s(),l(c(w),{key:0},{default:r(()=>[d(c(P),{size:"4"},{default:r(()=>e[24]||(e[24]=[b("NCDNumber:")])),_:1,__:[24]}),d(c(P),{class:"demoContent"},{default:r(()=>[b(j(c(Ae).NcdID),1)]),_:1})]),_:1})):z("",!0),d(c(w),null,{default:r(()=>[d(c(P),{size:"4"},{default:r(()=>e[25]||(e[25]=[b("Gender:")])),_:1,__:[25]}),d(c(P),{class:"demoContent"},{default:r(()=>{var a,e;return[b(j((e=null===(a=c(Ae))||void 0===a||null===(a=a.personInformation)||void 0===a?void 0:a.gender,["Male","M"].includes(e)?"Male":["Female","F"].includes(e)?"Female":"")),1)]}),_:1})]),_:1}),d(c(w),null,{default:r(()=>[d(c(P),{size:"4"},{default:r(()=>e[26]||(e[26]=[b("Age:")])),_:1,__:[26]}),d(c(P),{class:"demoContent"},{default:r(()=>{return[b(j(ka.getBirthdateAge(null===(a=Ae.value)||void 0===a||null===(a=a.personInformation)||void 0===a?void 0:a.birthdate)),1)];var a}),_:1})]),_:1}),d(c(w),null,{default:r(()=>[d(c(P),{size:"4"},{default:r(()=>e[27]||(e[27]=[b("Address:")])),_:1,__:[27]}),d(c(P),{class:"demoContent"},{default:r(()=>[b(j(c(De)(c(Ae))),1)]),_:1})]),_:1})]}),_:1})]),_:1}),d(c(L),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:r(()=>[d(c(W),{value:["first"]},{default:r(()=>[d(c($),{value:"first",style:{"background-color":"#fff"},"toggle-icon-slot":"start"},{default:r(()=>[d(c(q),{slot:"header",color:"white"},{default:r(()=>[d(c(N),{class:"side_title"},{default:r(()=>e[28]||(e[28]=[b("Alerts & Reminders ")])),_:1,__:[28]})]),_:1}),d(c(T),{slot:"content"},{default:r(()=>[(s(!0),_(C,null,D(ot(),(a,e)=>(s(),_("span",{key:e},[a.value?(s(),l(c(w),{key:0,style:J("border-radius: 5px;  margin-top:10px; margin-bottom:10px;background-color:"+a.backgroundColor)},null,8,["style"])):z("",!0)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d(c(P),{"size-sm":"12","size-md":"12","size-lg":c(Pe)>1120?"9.4":"12"},{default:r(()=>[d(c(L),{style:{"background-color":"#fff","margin-inline":"0px",contain:"unset",overflow:"unset"}},{default:r(()=>[v("div",null,[v("div",ne,[e[29]||(e[29]=v("div",{class:"vitalsTitle"},"Most recent Vitals & Biometrics",-1)),v("div",oe,[v("div",ie,[v("div",le,[et.value?(s(),l(ha,{key:0,name:"Activate visit",onClick:e[3]||(e[3]=a=>st()),fill:"clear",iconSlot:"start",icon:c(y),class:"action-button"},null,8,["icon"])):z("",!0),tt.value?(s(),l(ha,{key:1,name:"Deactivate visit",onClick:e[4]||(e[4]=a=>rt()),fill:"clear",iconSlot:"start",icon:c(y),class:"action-button danger"},null,8,["icon"])):z("",!0)]),v("div",se,[v("button",{class:"send-text",onClick:e[5]||(e[5]=a=>mt())},"Tasks")]),v("div",re,[v("button",{class:"send-text",onClick:e[6]||(e[6]=a=>mt("other"))},"Printout/Other")]),v("div",de,[v("button",{class:"send-text",onClick:e[7]||(e[7]=a=>ft(c(Ne)))},"Start visit"),v("button",{class:"send-arrow",onClick:e[8]||(e[8]=a=>{return e=a,Fe.value=e,void(Re.value=!Re.value);var e})})])])])])]),v("div",ce,[d(c(w),null,{default:r(()=>[d(c(P),{class:"vitalsHeading"},{default:r(()=>e[30]||(e[30]=[b("Weight")])),_:1,__:[30]}),d(c(P),{class:"vitalsHeading"},{default:r(()=>e[31]||(e[31]=[b("Height")])),_:1,__:[31]}),d(c(P),{class:"vitalsHeading"},{default:r(()=>e[32]||(e[32]=[b("Temperature")])),_:1,__:[32]}),d(c(P),{class:"vitalsHeading"},{default:r(()=>e[33]||(e[33]=[b("Blood glucose")])),_:1,__:[33]}),d(c(P),{class:"vitalsHeading"},{default:r(()=>e[34]||(e[34]=[b("Pulse Rate")])),_:1,__:[34]}),d(c(P),{class:"vitalsHeading"},{default:r(()=>e[35]||(e[35]=[b("Blood pressure")])),_:1,__:[35]})]),_:1}),d(c(w),null,{default:r(()=>[d(c(P),{class:"vitalsValue"},{default:r(()=>[b(j(Le.value.Weight)+" ",1),e[36]||(e[36]=v("span",{class:"vitalsUnits"},"kg",-1))]),_:1,__:[36]}),d(c(P),{class:"vitalsValue"},{default:r(()=>[b(j(Le.value["Height (cm)"])+" ",1),e[37]||(e[37]=v("span",{class:"vitalsUnits"},"cm",-1))]),_:1,__:[37]}),d(c(P),{class:"vitalsValue"},{default:r(()=>[b(j(Le.value.Temperature)+" ",1),e[38]||(e[38]=v("span",{class:"vitalsUnits"},"Â°C",-1))]),_:1,__:[38]}),d(c(P),{class:"vitalsValue"},{default:r(()=>{var a,e;return[b(j(null===(a=Ke.value)||void 0===a?void 0:a.value)+" ",1),v("span",ue,j(null===(e=Ke.value)||void 0===e?void 0:e.unit),1)]}),_:1}),d(c(P),{class:"vitalsValue"},{default:r(()=>[b(j(Le.value.Pulse)+" ",1),e[39]||(e[39]=v("span",{class:"vitalsUnits"},"bpm ",-1))]),_:1,__:[39]}),d(c(P),{class:"vitalsValue"},{default:r(()=>[b(j(Le.value.Systolic)+"/"+j(Le.value.Diastolic),1),e[40]||(e[40]=v("span",{class:"vitalsUnits"},"mmhg",-1))]),_:1,__:[40]})]),_:1})])]),_:1}),v("div",pe,[d(c(Z),{value:Be.value,style:{"margin-top":"5px","min-width":"540px"}},{default:r(()=>[d(c(K),{value:"Patient Charts",onClick:e[9]||(e[9]=a=>nt("Patient Charts"))},{default:r(()=>[d(c(N),null,{default:r(()=>e[41]||(e[41]=[b("Patient Charts")])),_:1,__:[41]})]),_:1}),d(c(K),{value:"Visits History",onClick:e[10]||(e[10]=a=>nt("Visits History"))},{default:r(()=>[d(c(N),null,{default:r(()=>e[42]||(e[42]=[b("Visits History")])),_:1,__:[42]})]),_:1}),d(c(K),{value:"Vitals & Measurements Summary",onClick:e[11]||(e[11]=a=>nt("Vitals & Measurements Summary"))},{default:r(()=>[d(c(N),null,{default:r(()=>e[43]||(e[43]=[b("Vitals & Measurements Summary")])),_:1,__:[43]})]),_:1}),d(c(K),{value:"Lab Tests History",onClick:e[12]||(e[12]=a=>nt("Lab Tests History"))},{default:r(()=>[d(c(N),null,{default:r(()=>e[44]||(e[44]=[b("Lab Tests History")])),_:1,__:[44]})]),_:1}),d(c(K),{value:"Diagnosis History",onClick:e[13]||(e[13]=a=>nt("Diagnosis History"))},{default:r(()=>[d(c(N),null,{default:r(()=>e[45]||(e[45]=[b("Diagnosis History")])),_:1,__:[45]})]),_:1}),d(c(K),{value:"Allergies & Contraindication",onClick:e[14]||(e[14]=a=>nt("Allergies & Contraindication"))},{default:r(()=>[d(c(N),null,{default:r(()=>e[46]||(e[46]=[b("Allergies & Contraindication")])),_:1,__:[46]})]),_:1})]),_:1},8,["value"])]),"Patient Charts"==Be.value?(s(),_("div",ve,[v("div",{style:J(c(Pe)>826?"display: flex;":"display: block;")},[He.value?(s(),_("div",me,[d(c(k))])):z("",!0),v("div",fe,[d(c(M))]),He.value?z("",!0):(s(),_("div",ge,[d(c(I))]))],4)])):z("",!0),"Visits History"==Be.value?(s(),_("div",be,[d(c(f))])):z("",!0),"Vitals & Measurements Summary"==Be.value?(s(),_("div",xe,[d(c(g))])):z("",!0),"Lab Tests History"==Be.value?(s(),_("div",ye,[d(c(n))])):z("",!0),"Diagnosis History"==Be.value?(s(),_("div",he,[d(c(u))])):z("",!0),"Allergies & Contraindication"==Be.value?(s(),_("div",_e,[d(c(p))])):z("",!0)]),_:1},8,["size-lg"])]),_:1})])):z("",!0)]),_:1}),d(o,{style:{"--offset-x":"-10px"},"is-open":c(Wa),"show-backdrop":!1,"dismiss-on-select":!0,event:c(Ga),onDidDismiss:e[20]||(e[20]=a=>Wa.value=!1)},{default:r(()=>[v("div",null,[d(t,{style:{"--ion-background-color":"#fff","--offset-x":"-30px"}},{default:r(()=>[d(c(q),{button:!0,detail:!1,onClick:e[15]||(e[15]=a=>c(qa)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(m),{icon:c(X),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),e[47]||(e[47]=v("span",{class:"sub-menu-txt"},"Update demographics",-1))]),_:1,__:[47]}),d(c(q),{button:!0,detail:!1,onClick:e[16]||(e[16]=a=>c(Ja)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(m),{icon:c(Q),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),e[48]||(e[48]=v("span",{class:"sub-menu-txt"},"Update outcome",-1))]),_:1,__:[48]}),32==c(_a).getProgramID()?(s(),l(c(q),{key:0,button:!0,detail:!1,onClick:e[17]||(e[17]=a=>c(Za)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(m),{icon:c(aa),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),e[49]||(e[49]=v("span",{class:"sub-menu-txt"},"Update NCD Number",-1))]),_:1,__:[49]})):z("",!0),d(c(q),{button:!0,detail:!1,onClick:e[18]||(e[18]=a=>c(we)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(m),{icon:c(ea),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),e[50]||(e[50]=v("span",{class:"sub-menu-txt"},"Print visit summary",-1))]),_:1,__:[50]}),d(c(q),{button:!0,detail:!1,onClick:e[19]||(e[19]=a=>c(Ce)()),style:{cursor:"pointer"},class:"list-content"},{default:r(()=>[d(c(m),{icon:c(ea),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),e[51]||(e[51]=v("span",{class:"sub-menu-txt"},"Print client identifier",-1))]),_:1,__:[51]})]),_:1})])]),_:1},8,["is-open","event"]),d(o,{"is-open":Re.value,"show-backdrop":!1,"dismiss-on-select":!0,event:Fe.value,onDidDismiss:e[21]||(e[21]=a=>Re.value=!1),style:{"--width":"350px"}},{default:r(()=>[d(c(h),null,{default:r(()=>[d(t,null,{default:r(()=>[(s(!0),_(C,null,D(at.value,(a,e)=>(s(),l(c(q),{button:!0,detail:!1,style:{cursor:"pointer"},key:e,onClick:e=>ft(a)},{default:r(()=>[d(c(m),{slot:"start",icon:c(ta)},null,8,["icon"]),v("span",ke,j(null==a?void 0:a.actionName),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["is-open","event"])]),_:1})}}}),Ce=da(we,[["__scopeId","data-v-075bd49a"]]),De=Object.freeze(Object.defineProperty({__proto__:null,default:Ce},Symbol.toStringTag,{value:"Module"}));a("P",De)}}});
