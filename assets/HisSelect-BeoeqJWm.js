import{_ as y}from"./KbHandler-Afr-bvnV.js";import{_ as k,y as w}from"./index-EBUpS4L5.js";import V from"./SelectMixin-CCO-DsWr.js";import{l}from"./lodash-Dt8AsbQm.js";import{d as v,y as o,e as r,f as i,l as n,E as d,m as C,z as a,F as c,P as g,A as K,J as $}from"./vendor-BZmhsiOO.js";import"./apexcharts-qhsxYq_s.js";import"./chartjs-DNDlIUTq.js";import"./barcode-qrcode-reader-B_Xr9wLp.js";import"./BaseTextInput-Mpb2dhvQ.js";import"./FieldMixin.vue_vue_type_script_lang-CCX2z382.js";const D=v({name:"HisSelect",mixins:[V],data:()=>({isInit:!1}),watch:{clear(){this.clearSelection()}},mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.isInit||await this.setDefaultValue(),this.isInit=!0},async setDefaultValue(){if(this.defaultValue){const e=await this.defaultValue(this.fdata,this.cdata,this.selected);if(e){const s=l.find(this.listData,{label:e})||l.find(this.listData,{value:e});s?this.onselect(s):(this.selected=e,this.filter=e)}}},async onselect(e){if(this.selected=e.label,this.onValue&&!await this.onValue(e,this)){this.selected="";return}this.$emit("onValue",e)}}});function F(e,s,S,I,B,E){const u=o("his-text-input"),h=o("ion-label"),f=o("ion-item"),p=o("ion-list"),m=w,_=y;return i(),r(c,null,[n(m,{showFull:!e.showKeyboard},{default:a(()=>[n(u,{readonly:!e.showKeyboard,value:e.selected,onOnValue:s[0]||(s[0]=t=>e.onKbValue(t,e.showKeyboard))},null,8,["readonly","value"]),n(p,{class:"view-port-content"},{default:a(()=>[(i(!0),r(c,null,g(e.filtered,(t,b)=>(i(),d(f,{class:"his-md-text",button:"",color:t.label===e.selected?"lightblue":"",lines:t.isChecked?"none":"",key:b,disabled:!!("disabled"in t&&t.disabled),onClick:N=>e.onselect(t)},{default:a(()=>[n(h,null,{default:a(()=>[K($(t.label),1)]),_:2},1024)]),_:2},1032,["color","lines","disabled","onClick"]))),128))]),_:1})]),_:1},8,["showFull"]),e.showKeyboard?(i(),d(_,{key:0,kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])):C("",!0)],64)}const q=k(D,[["render",F],["__scopeId","data-v-99e4c817"]]);export{q as default};
