import{d as u,ah as l,b6 as p,b5 as b,b2 as h,G as D,E as f,ai as g,aj as I,$ as _,I as v,a4 as w,cR as y,bf as S,aU as B,H as C,e as o,f as n,l as L,J as T,k as c,F as $,P as k,K as H}from"./vendor-Cz4Jol8q.js";import{K as P,b8 as E,B as F,bh as O,ag as s,H as x,W as N,u as R,aI as A,l as M,_ as V}from"./index-CabMHQ-Y.js";import{D as j}from"./DashBox-Dh0Sx6OS.js";import{B as J}from"./BasicForm-BmuKi20D.js";import{p as K}from"./previousDiagnosis-zg4sm3hz.js";import"./lodash-Dt8AsbQm.js";import"./apexcharts-Qw5Ia0w3.js";import"./DateInputField-Dch5mdJF.js";const G=u({name:"Menu",components:{IonContent:w,IonHeader:v,IonItem:_,IonList:I,IonMenu:g,IonTitle:f,IonToolbar:D,IonInput:h,IonPopover:b,DashBox:j,SelectionPopover:O,BasicInputField:F,List:E,BasicForm:J,DynamicButton:P,previousDiagnosis:K,DataTable:p},data(){return{iconsContent:M,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],diagnosisData:[],popoverOpen:!1,event:"",selectedCondition:"",tableData:[],options:{responsive:!0,select:!1,layout:{topStart:"",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},ordering:!1},header:["Diagnosis","Date"]}},setup(){return{checkmark:B,pulseOutline:S}},computed:{...l(A,["diagnosis"]),...l(R,["patient"])},watch:{$route:{async handler(){await this.setListData()},deep:!0}},async mounted(){await this.setListData(),this.$nextTick(()=>{const t=this.$refs.dataTable.dt;t.columns.adjust().draw(),t.on("click",".delete-btn",a=>{const e=a.target.getAttribute("data-id");this.voidDiagnosis(JSON.parse(e),a)})})},methods:{async voidDiagnosis(t,a){await N("Do you want to delete ".concat(t.name," ?"),a)&&(await s.voidObs(t.id),await this.setListData())},async openEnterResultModal(){await this.setListData()},async setListData(){const t=await s.getAll(this.patient.patientID,"Primary diagnosis"),a=await s.getAll(this.patient.patientID,"Secondary diagnosis"),e=[...t||[],...a||[]];this.tableData=await this.generateListItems(e),p.use(y)},async generateListItems(t){return t.length>0?await Promise.all(t.map(async e=>{const i=await s.getConceptName(e.value_coded),r=e.obs_datetime;return[i,x.toStandardHisFormat(r)]})):[]}}}),U={class:"table-responsive"};function W(t,a,e,i,r,q){const m=C("DataTable");return n(),o("div",U,[L(m,{ref:"dataTable",options:t.options,data:t.tableData,class:"display nowrap",width:"100%"},{default:T(()=>[c("thead",null,[c("tr",null,[(n(!0),o($,null,k(t.header,d=>(n(),o("th",{key:d},H(d),1))),128))])])]),_:1},8,["options","data"])])}const st=V(G,[["render",W],["__scopeId","data-v-6dbe57db"]]);export{st as default};
