System.register(["./vendor-legacy-FCLUfW7v.js","./index-legacy-D173WeVu.js","./BasicForm-legacy-CeSK8VIg.js","./lodash-legacy-pOOc9Efu.js","./patient_complaints_service-legacy-CbaOsidu.js","./DashBox-legacy-CYC8Olhf.js","./useExposeFromStandardForm-legacy-CpKPjRrd.js","./NextAppointment-legacy-T5QByWAm.js","./BasicCard-legacy-BECPz8CI.js","./lab_order-legacy-CDfBccL8.js","./LabTestsHistory-legacy-9so4YyhL.js","./group_validation-legacy-BITnQEJ5.js","./drug_prescription_service-legacy-CD1H9wsT.js","./drug_service-legacy-DhfIV0i_.js","./Outcome-legacy-CbXtJ4XN.js"],function(e,a){"use strict";var t,n,i,o,l,s,d,r,c,u,m,p,h,v,g,f,y,b,_,x,k,D,w,I,C,S,E,O,L,M,B,P,A,H,N,T,F,V,R,z,U,q,W,j,$,Y,G,K,J,X,Z,Q,ee,ae,te,ne,ie,oe,le,se,de,re,ce,ue,me,pe,he,ve,ge,fe,ye,be,_e,xe,ke,De,we,Ie,Ce,Se,Ee,Oe,Le,Me,Be,Pe,Ae,He,Ne,Te,Fe,Ve,Re,ze,Ue,qe,We,je,$e,Ye,Ge,Ke,Je,Xe,Ze,Qe,ea,aa,ta,na,ia,oa,la,sa,da,ra,ca,ua,ma,pa,ha,va,ga,fa,ya,ba,_a,xa,ka,Da,wa,Ia,Ca,Sa,Ea,Oa,La,Ma,Ba,Pa,Aa,Ha,Na,Ta,Fa,Va,Ra,za,Ua,qa,Wa,ja,$a,Ya,Ga,Ka,Ja,Xa,Za,Qa,et,at,tt,nt,it,ot,lt;return{setters:[e=>{t=e.d,n=e.ar,i=e.U,o=e.T,l=e.as,s=e.ac,d=e.G,r=e.S,c=e.a9,u=e.a1,m=e.a2,p=e.E,h=e.e,v=e.f,g=e.k,f=e.l,y=e.b2,b=e.r,_=e.c,x=e.a,k=e.m,D=e.y,w=e.z,I=e.u,C=e.A,S=e.F,E=e.W,O=e.I,L=e.e1,M=e.be,B=e.e2,P=e.cQ,A=e.e3,H=e.e4,N=e.e5,T=e.e6,F=e.c$,V=e.e7,R=e.e8,z=e.az,U=e.aD,q=e.bU,W=e.aB,j=e.aS,$=e.B,Y=e.L,G=e.w,K=e.ad,J=e.ae,X=e.a3,Z=e.bv,Q=e.bu,ee=e.d3,ae=e.M,te=e.J,ne=e.D,ie=e.bx,oe=e.aa,le=e.X,se=e.a0,de=e.V,re=e.af,ce=e.dr,ue=e.dy,me=e.b8,pe=e.aU,he=e.R,ve=e.i,ge=e.e9,fe=e.v,ye=e.bo,be=e.bq,_e=e.a8,xe=e.bS,ke=e.bI,De=e.ab,we=e.aK,Ie=e.bX,Ce=e.bw,Se=e.ea,Ee=e.dB},e=>{Oe=e.aE,Le=e.H,Me=e.a8,Be=e.aB,Pe=e.aC,Ae=e.aV,He=e.u,Ne=e._,Te=e.i,Fe=e.ar,Ve=e.as,Re=e.D,ze=e.x,Ue=e.S,qe=e.E,We=e.t,je=e.z,$e=e.ay,Ye=e.aK,Ge=e.bc,Ke=e.bv,Je=e.aM,Xe=e.aY,Ze=e.a3,Qe=e.bw,ea=e.bx,aa=e.by,ta=e.bz,na=e.bA,ia=e.bB,oa=e.bC,la=e.aW,sa=e.b0,da=e.ba,ra=e.b1,ca=e.aX,ua=e.B,ma=e.aZ,pa=e.P,ha=e.aP,va=e.aF,ga=e.F,fa=e.aT,ya=e.n,ba=e.y,_a=e.aw,xa=e.az,ka=e.k,Da=e.l,wa=e.ao,Ia=e.aA,Ca=e.aD,Sa=e.p,Ea=e.m,Oa=e.a1,La=e.bf,Ma=e.ah,Ba=e.al,Pa=e.aJ,Aa=e.ak},e=>{Ha=e.B},e=>{Na=e.l},e=>{Ta=e.P},e=>{Fa=e.D},e=>{Va=e.u},e=>{Ra=e.A,za=e._,Ua=e.P,qa=e.D,Wa=e.n},e=>{ja=e.B},e=>{$a=e.S,Ya=e.a,Ga=e.P,Ka=e.u,Ja=e.b},e=>{Xa=e.default},e=>{Za=e.v},e=>{Qa=e.D,et=e.b},e=>{at=e.D},e=>{tt=e._,nt=e.D,it=e.A,ot=e.R,lt=e.a}],execute:function(){var a=document.createElement("style");a.textContent=".bmi_blood[data-v-30434e22]{font-size:14px;font-weight:500;border:1px solid #ddeedd;border-radius:4px;padding:4px;min-width:190px}.graphBtn[data-v-30434e22]{font-size:14px;font-weight:500;border:1px solid #ddeedd;border-radius:4px;padding:4px;min-width:90px}._active[data-v-30434e22]{background-color:#ded;color:#006401;padding:5px;border-radius:4px}.iconBg[data-v-30434e22]{background:#ded;padding:2px;border-radius:5px}.vitals_title[data-v-54a39f14]{border-bottom:1px solid #b3b3b3;margin-bottom:50px}.input-with-icon[data-v-54a39f14]{position:relative}.input-icon[data-v-54a39f14]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-54a39f14]{padding-bottom:15px}h5[data-v-54a39f14]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.previousView[data-v-54a39f14]{margin-top:70px;margin-bottom:20px}.visit-container[data-v-8f0a8a33]{background:#fff;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.05);padding:24px;margin:16px;font-family:Segoe UI,Roboto,Helvetica Neue,sans-serif}.visit-header[data-v-8f0a8a33]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid #f0f0f0}.visit-header h2[data-v-8f0a8a33]{margin:0;font-size:1.5rem;font-weight:600;color:#2d3748}.visit-date[data-v-8f0a8a33]{display:flex;align-items:center;gap:8px;color:#4a5568;font-size:.9rem}.visit-sections[data-v-8f0a8a33]{display:flex;flex-direction:column;gap:20px}.visit-section[data-v-8f0a8a33]{background:#f8fafc;border-radius:12px;padding:16px;transition:all .2s ease}.visit-section[data-v-8f0a8a33]:hover{box-shadow:0 2px 8px rgba(0,0,0,.08);transform:translateY(-2px)}.section-header[data-v-8f0a8a33]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.section-header h3[data-v-8f0a8a33]{margin:0;font-size:1.1rem;font-weight:500;color:#2d3748}.section-icon[data-v-8f0a8a33]{color:#4299e1;font-size:1.4rem}.section-content[data-v-8f0a8a33]{display:flex;flex-direction:column;gap:12px}.info-item[data-v-8f0a8a33]{display:flex;gap:8px}.info-label[data-v-8f0a8a33]{font-weight:500;color:#4a5568}.info-value[data-v-8f0a8a33]{color:#2d3748}.highlight[data-v-8f0a8a33]{font-weight:600;color:#3182ce}.tags-container[data-v-8f0a8a33]{display:flex;flex-wrap:wrap;gap:8px}.complaint-tag[data-v-8f0a8a33]{background:#ebf8ff;color:#3182ce;padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:500}.medical-tag[data-v-8f0a8a33]{background:#f0fff4;color:#38a169;padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:500}.allergy-tag[data-v-8f0a8a33]{background:#fff5f5;color:#e53e3e;padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:500}.exam-section[data-v-8f0a8a33]{display:flex;flex-direction:column;gap:16px}.exam-category[data-v-8f0a8a33]{background:#fff;border-radius:8px;padding:12px;box-shadow:0 1px 3px rgba(0,0,0,.05)}.exam-category.normal[data-v-8f0a8a33]{background:#f0fff4}.exam-category-header[data-v-8f0a8a33]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.exam-category-header h4[data-v-8f0a8a33]{margin:0;font-size:.95rem;font-weight:500;color:#4a5568}.exam-category-header ion-icon[data-v-8f0a8a33]{color:#718096;font-size:1.1rem}.exam-items[data-v-8f0a8a33]{display:flex;flex-wrap:wrap;gap:8px}.exam-item[data-v-8f0a8a33]{background:#f7fafc;padding:6px 10px;border-radius:6px;font-size:.85rem;color:#4a5568}.exam-item.normal[data-v-8f0a8a33]{background:#e6ffed;color:#38a169}.empty-section[data-v-8f0a8a33]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;padding:24px;background:#f8fafc;border-radius:12px;color:#a0aec0;text-align:center}.empty-section ion-icon[data-v-8f0a8a33]{font-size:2rem;opacity:.5}.empty-section p[data-v-8f0a8a33]{margin:0;font-size:.9rem}@media (max-width: 768px){.visit-container[data-v-8f0a8a33]{padding:16px;margin:8px}.visit-header[data-v-8f0a8a33]{flex-direction:column;align-items:flex-start;gap:8px}.tags-container[data-v-8f0a8a33]{gap:6px}.complaint-tag[data-v-8f0a8a33],.medical-tag[data-v-8f0a8a33],.allergy-tag[data-v-8f0a8a33]{padding:4px 10px;font-size:.8rem}}.modal_wrapper[data-v-7182bbbd]{padding:10px}.modal_wrapper[data-v-2b756eeb]{display:flex;flex-direction:column;width:100%;max-width:1200px;margin:0 auto}@media (max-width: 768px){.modal_wrapper[data-v-2b756eeb]{max-width:100%}}@media (max-width: 480px){.modal_wrapper[data-v-2b756eeb]{flex-direction:column}}.container[data-v-c1d7fdd5]{display:flex;flex-direction:column;align-items:center}.section[data-v-c1d7fdd5]{width:100%;max-width:1300px;margin-bottom:20px}ion-card[data-v-c1d7fdd5]{box-shadow:none;background-color:inherit;width:100%;color:#000}.navigation-buttons[data-v-c1d7fdd5]{display:flex;justify-content:space-between;width:100%;max-width:500px}@media (max-width: 1500px){.container[data-v-c1d7fdd5]{padding:10px}}.sub_item_header[data-v-c1d7fdd5]{font-weight:700;font-size:14px}._card[data-v-6ecd9cf6]{border-radius:5px;background-color:#fff;box-shadow:rgba(0,0,0,.2) 0 3px 1px -2px,rgba(0,0,0,.14) 0 2px 2px,rgba(0,0,0,.12) 0 1px 5px;margin-bottom:10px}ion-item[data-v-6ecd9cf6]::part(native){border:none}.previousView[data-v-6ecd9cf6]{margin-top:10px}.previousLabel[data-v-6ecd9cf6]{font-weight:700;font-size:1rem}.nav-buttons[data-v-6ecd9cf6]{display:flex;justify-content:flex-start;gap:10px;margin-top:10px}ion-accordion[data-v-6ecd9cf6]::part(header){padding:8px}ion-accordion[data-v-6ecd9cf6]::part(content){padding:0 8px 8px}.bmi_blood[data-v-88580898]{font-size:14px;font-weight:500;border:1px solid #ddeedd;border-radius:4px;padding:4px;min-width:190px}.graphBtn[data-v-88580898]{font-size:14px;font-weight:500;border:1px solid #ddeedd;border-radius:4px;padding:4px;min-width:90px}._active[data-v-88580898]{background-color:#ded;color:#006401;padding:5px;border-radius:4px}.iconBg[data-v-88580898]{background:#ded;padding:2px;border-radius:5px}#container[data-v-e7cfdc2c]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-e7cfdc2c]{font-size:20px;line-height:26px}#container p[data-v-e7cfdc2c]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-e7cfdc2c]{text-decoration:none}.action_buttons[data-v-e7cfdc2c]{color:var(--ion-color-primary);display:flex;align-items:center;float:right;max-width:70px}.modify_buttons[data-v-e7cfdc2c]{padding-left:20px}.item_no_border[data-v-e7cfdc2c]{--border-color: transparent}.search_result[data-v-e7cfdc2c]{padding:10px}.previousView[data-v-e7cfdc2c]{margin-top:70px;margin-bottom:20px}ion-footer[data-v-c2390e89]{--ion-toolbar-background: #f4f4f4f4}ion-modal[data-v-c2390e89]{--width: 90%;--height: 94%}.bmi_blood[data-v-cd58a077]{font-size:14px;font-weight:500;border:1px solid #ddeedd;border-radius:4px;padding:4px;min-width:190px}.graphBtn[data-v-cd58a077]{font-size:14px;font-weight:500;border:1px solid #ddeedd;border-radius:4px;padding:4px;min-width:90px}._active[data-v-cd58a077]{background-color:#ded;color:#006401;padding:5px;border-radius:4px}.iconBg[data-v-cd58a077]{background:#ded;padding:2px;border-radius:5px}.show_more[data-v-cd58a077]{color:#006401;padding:10px}.no-margin-left[data-v-cd58a077]{margin:0;display:flex;justify-content:flex-start;background:#e0ffff}.scrollable-container[data-v-cd58a077]{overflow-x:auto;-webkit-overflow-scrolling:touch;width:100%;white-space:nowrap}#ABDOMEN-2,#SPINE{display:none}.white-fill{fill:#fff!important}.dark-green-stroke{stroke:#006401!important}.dark-green-fill{fill:#006401!important}.bright-green-fill{fill:#ded!important}ion-footer[data-v-4e8419f9]{--ion-toolbar-background: #f4f4f4f4}ion-modal[data-v-4e8419f9]{--width: 90%;--height: 94%}.form-column[data-v-4e8419f9]{border-left:1px solid #a3a1a1;max-height:600px;display:flex;flex-direction:column}.scrollable-container[data-v-4e8419f9]{overflow-y:auto;max-height:100%;padding-right:10px;padding-left:10px}.form-section[data-v-4e8419f9]{margin-bottom:20px}.form-section h6[data-v-4e8419f9]{margin-top:0;margin-bottom:10px;padding-bottom:5px;border-bottom:1px solid #eaeaea;font-weight:600}#container[data-v-1ea6464c]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-1ea6464c]{font-size:20px;line-height:26px}#container p[data-v-1ea6464c]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-1ea6464c]{text-decoration:none}.action_buttons[data-v-1ea6464c]{color:var(--ion-color-primary);display:flex;align-items:center;float:right;max-width:70px}.modify_buttons[data-v-1ea6464c]{padding-left:20px}.item_no_border[data-v-1ea6464c]{--border-color: transparent}.search_result[data-v-1ea6464c]{padding:10px}.action_buttons[data-v-1ea6464c]{opacity:0;transition:opacity .3s}.dashed_bottom_border:hover .action_buttons[data-v-1ea6464c]{opacity:1}.dashed_bottom_border[data-v-1ea6464c]{font-weight:700}.sub_item_body[data-v-1ea6464c]{margin-left:45px}#container[data-v-4ccce574]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-4ccce574]{font-size:20px;line-height:26px}#container p[data-v-4ccce574]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-4ccce574]{text-decoration:none}ion-item.medicalAl[data-v-4ccce574]{--background: #fff;--border-radius: 5px}ion-button.medicalAlBtn[data-v-4ccce574]{--background: #fecdca;--color: #b42318;text-transform:none}.error-label[data-v-4ccce574]{background:#fecdca;color:#b42318;text-transform:none;padding:2%;border-radius:10px;margin-top:7px;display:flex;text-align:center}ion-button.addMedicalTpBtn[data-v-4ccce574]{--background: #ddeedd;--color: #006401;text-transform:none;font-weight:600;font-size:16px}ion-button.medicalAlAddBtn[data-v-4ccce574]{font-size:large}ion-icon.icon-al[data-v-4ccce574]{font-size:x-large;margin-bottom:-5px}.item-al[data-v-4ccce574]{cursor:pointer;padding:5px;background-color:#ebebeb;margin-top:8px}.item-al[data-v-4ccce574]:hover{background-color:rgba(85,81,81,.282);padding:5px;border-radius:3px}ion-popover.popover-al[data-v-4ccce574]{--background: #fff}ion-content.content-al[data-v-4ccce574]{--background: #fff}ion-list.list-al[data-v-4ccce574]{--background: #fff;-ion-item-background:#fff}.checkLbltp[data-v-4ccce574]{border-bottom:2px dotted var(--ion-color-medium);--inner-border-width: 0}.tpStndCls[data-v-4ccce574]{font-size:16px;font-weight:600;line-height:24px}.action_buttons[data-v-4ccce574]{color:var(--ion-color-primary);display:flex;align-items:center;float:right}.action_buttons[data-v-4ccce574]:hover{cursor:pointer}.spcls[data-v-4ccce574]{display:flex;align-items:center}.previousView[data-v-4ccce574]{width:100%;border-radius:10px;margin-top:10px}.previousLabel[data-v-4ccce574]{font-weight:600;color:#000}.previousLabelDate[data-v-4ccce574]{font-weight:600;color:#000;margin:2%}.previousSecDrgs[data-v-4ccce574]{margin:2%}.notes_p[data-v-4ccce574]{margin:4%}.qaws[data-v-4ccce574]{margin-top:-27px}.allergies-section[data-v-4ccce574]{padding:16px;background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.05);margin-bottom:16px}.section-title[data-v-4ccce574]{display:flex;align-items:center;font-size:18px;font-weight:700;color:#1f2937;letter-spacing:-.01em;margin-bottom:16px}.alert-icon[data-v-4ccce574]{font-size:20px;color:#dc2626;margin-right:8px}.allergies-container[data-v-4ccce574]{min-height:48px}.allergies-grid[data-v-4ccce574]{display:flex;flex-wrap:wrap;gap:8px}.allergy-chip[data-v-4ccce574]{--background: #fee2e2;--color: #dc2626;font-size:14px;font-weight:500}.allergy-chip ion-icon[data-v-4ccce574]{color:#dc2626}.no-allergies[data-v-4ccce574]{display:flex;align-items:center;justify-content:center;height:48px;background:#f9fafb;border-radius:6px;font-size:15px;font-weight:500;color:#9c8011}.medication-section[data-v-4ccce574]{background:#fff;border-radius:8px;padding:16px;margin:16px 0;box-shadow:0 1px 3px rgba(0,0,0,.1)}.section-header[data-v-4ccce574]{margin-bottom:16px;--background: transparent}.section-icon[data-v-4ccce574]{font-size:22px;margin-right:10px;color:var(--ion-color-primary)}.medication-content[data-v-4ccce574]{padding:0 16px}.add-medication-form[data-v-4ccce574]{background:#f9fafb;border-radius:8px;padding:20px;margin-top:16px}.form-group[data-v-4ccce574]{margin-bottom:16px}.form-row[data-v-4ccce574]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:16px}.input-label[data-v-4ccce574]{display:block;font-size:16px;font-weight:600;color:#374151;margin-bottom:10px}.error-message[data-v-4ccce574]{color:#dc2626;font-size:15px;font-weight:600;margin-top:4px}.action-buttons[data-v-4ccce574]{display:flex;gap:8px;justify-content:flex-end;margin-top:16px}.save-button[data-v-4ccce574]{--background: var(--ion-color-primary);--color: #ffffff;font-size:16px;font-weight:600}.cancel-button[data-v-4ccce574]{--background: #e5e7eb;--color: #374151;font-size:16px;font-weight:600}.add-new-button[data-v-4ccce574]{width:100%;margin-top:16px;--background: var(--ion-color-primary-tint);--color: var(--ion-color-primary);font-size:16px;font-weight:600}.notes-section[data-v-4ccce574]{background:#fff;border-radius:8px;padding:16px;margin:16px 0;box-shadow:0 1px 3px rgba(0,0,0,.1)}.notes-content[data-v-4ccce574]{padding:0 16px}.intervention-component[data-v-4ccce574],.notes-input-container[data-v-4ccce574]{margin-bottom:16px}.notes-input-item[data-v-4ccce574]{--background: #f9fafb;--border-radius: 8px;--padding-start: 12px;--padding-end: 12px;min-height:120px}.edit-icon[data-v-4ccce574]{color:var(--ion-color-medium);font-size:20px;margin-right:8px}.notes-textarea[data-v-4ccce574]{--padding-top: 12px;--padding-bottom: 12px;--placeholder-color: #9ca3af;--placeholder-opacity: 1;font-size:16px;font-weight:600;line-height:1.6}.previous-notes[data-v-4ccce574]{background:#fff;border-radius:8px;overflow:hidden}.previous-notes-header[data-v-4ccce574]{--background: #f9fafb;font-weight:600}.notes-timeline[data-v-4ccce574]{padding:8px 0}.note-entry[data-v-4ccce574]{padding:12px 16px;border-bottom:1px solid #e5e7eb}.note-entry[data-v-4ccce574]:last-child{border-bottom:none}.note-date[data-v-4ccce574]{font-size:14px;font-weight:600;color:#374151;margin-bottom:8px}.note-content[data-v-4ccce574]{font-size:16px;font-weight:600;line-height:1.6;color:#4b5563;white-space:pre-wrap}.show-more-header[data-v-4ccce574]{--background: transparent;font-size:16px;font-weight:600}[data-v-4ccce574] ion-accordion{margin:0}[data-v-4ccce574] ion-accordion-group{background:#fff}[data-v-4ccce574] ion-accordion.accordion-expanding,[data-v-4ccce574] ion-accordion.accordion-expanded{--background: #ffffff}[data-v-4ccce574]{transition:font-size .2s ease,font-weight .2s ease}.initTxt[data-v-0aad2f08]{text-align:center}.item-al[data-v-0aad2f08]{cursor:pointer;padding:5px;background-color:#ebebeb;margin-top:8px}.item-al[data-v-0aad2f08]:hover{background-color:rgba(85,81,81,.282);padding:5px;border-radius:3px}ion-popover.popover-al[data-v-0aad2f08]{--background: #fff}ion-list.list-al[data-v-0aad2f08]{--background: #fff;-ion-item-background:#fff}.saveContainer[data-v-0aad2f08]{display:flex;align-items:flex-end}.action_buttons[data-v-0aad2f08]{margin-top:5px}.error-label[data-v-0aad2f08]{background:#fecdca;color:#b42318;text-transform:none;padding:6%;border-radius:10px;margin-top:7px;display:flex;text-align:center}.spc_btwn[data-v-0aad2f08]{margin-top:2%}.ion-lblCls[data-v-0aad2f08]{font-weight:700}.initTxt[data-v-80c43a7c]{text-align:center}.spc_btwn[data-v-80c43a7c]{margin-top:2%}.item-al[data-v-80c43a7c]{cursor:pointer;padding:5px;background-color:#ebebeb;margin-top:8px}.item-al[data-v-80c43a7c]:hover{background-color:rgba(85,81,81,.282);padding:5px;border-radius:3px}ion-popover.popover-al[data-v-80c43a7c]{--background: #fff}ion-list.list-al[data-v-80c43a7c]{--background: #fff;-ion-item-background:#fff}.saveContainer[data-v-80c43a7c]{display:flex;align-items:flex-end}.action_buttons[data-v-80c43a7c]{margin-top:5px}.error-label[data-v-80c43a7c]{background:#fecdca;color:#b42318;text-transform:none;padding:6%;border-radius:10px;margin-top:7px;display:flex;text-align:center}\n/*$vite$:1*/",document.head.appendChild(a);const st=t({name:"Menu",components:{IonContent:c,IonHeader:r,IonItem:d,IonList:s,IonMenu:l,IonTitle:o,IonToolbar:i,List:Oe},computed:{...n(He,["patient"]),...n(Ae,["presentingComplaints"])},data:()=>({valueNumericArray:[],obsDatetime:[],graphIcon:Pe(["#006401"]),listIcon:Be(["#636363"]),displayGraph:!0,orders:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],series:[{name:"",data:[]}]}),setup:()=>({checkmark:m,pulseOutline:u}),watch:{$router:{async handler(){await this.updateList()},immediate:!0,deep:!0},patient:{async handler(){await this.updateList()},deep:!0}},async mounted(){await this.updateList()},methods:{async updateList(){const e=await Me.getAll(this.patient.patientID,"Presenting complaint"),a=Na.isEmpty(e)?[]:Promise.all(e.map(async e=>e.value_coded?{name:await Me.getConceptName(e.value_coded),obs_date:e.obs_datetime,duration:e.children[0].value_text}:[]));this.setListData(await a)},setListData(e){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 20px;",containSize:4,display:["Date","Presenting Complains","Duration"]}),e.forEach(e=>{this.list.push({actionBtn:!1,minHeight:"--min-height:20px;",class:"col_background",containSize:4,display:[Le.toStandardHisFormat(e.obs_date),e.name,e.duration]})})}}}),dt={class:"modal_wrapper"},rt=Ne(st,[["render",function(e,a,t,n,i,o){const l=p("list");return v(),h("div",dt,[g("div",null,[f(l,{listData:e.list},null,8,["listData"])])])}],["__scopeId","data-v-30434e22"]]),ct={key:0},ut={style:{"align-content":"center"}},mt={class:"ion-padding",slot:"content"},pt=e("c",Ne(t({__name:"PresentingComplaints",setup(e,{expose:a}){const t=Ae(),{presentingComplaints:n}=y(t),i=b(Te),o=b(!0),l=b(!1),s=b(!0),r=b(!1),c=b([]),u=b([]),m=b(),E=_(()=>[{componentType:"multiSelectInputField",header:"Presenting Complaints",name:"PresentingComplaints",trackBy:"concept_id",icon:Te.search,hideSelected:!0,validation:e=>M(null==e?void 0:e.name,c.value)?"Presenting complaint already added":Fe.required(e),options:u.value,grid:{s:"6"}},{componentType:"inputField",header:"Duration",name:"duration",icon:Te.time,validation:e=>Fe.isNotEmptyandNumber(e),grid:{s:"6"},unitOptions:[{label:"Hours",value:"Hours"},{label:"Days",value:"Days"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],unitValidation:e=>e&&""!==e?null:"Please select a unit."},{componentType:"inputField",header:"Specify the presenting complaint(s)",name:"Other (specify)",icon:Te.editPen,validation:e=>M(e,c.value)?"Presenting complaint already added":Fe.required(e),condition:e=>{var a;return"Other"===(null==e||null===(a=e.PresentingComplaints)||void 0===a?void 0:a.name)}},{componentType:"Alert",condition:e=>{var a;return!(null==Fe.required(null==e||null===(a=e.PresentingComplaints)||void 0===a?void 0:a.name))},backgroundColor:"lightyellow",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}]),{formRef:O}=Va(),L=e=>{var a;const t=e.duration+" "+e.duration_unit,n=e.PresentingComplaints,i="Other"===n.name?e["Other (specify)"]:n.name;c.value.push({actionBtn:!0,btn:["delete"],name:i,concept_id:n.concept_id,duration:n.duration,durationUnits:n.duration_unit,display:[i,t],data:[{concept_id:8578,value_coded:n.concept_id,obs_datetime:Ue.getSessionDate(),child:[{concept_id:n.concept_id,value_text:t,obs_datetime:Ue.getSessionDate()}]}]}),null===(a=O.value)||void 0===a||a.resetForm(),r.value=!0},M=(e,a)=>a.some(a=>a.name===e),B=e=>{c.value=c.value.filter(a=>a.display[0]!==e.name)};return x(async()=>{await(async()=>{u.value=await Ta.getComplaintsList("Presenting complaint"),ze(n.value,"PresentingComplaints","multiSelectData",u.value)})()}),a({onSubmit:async()=>{const e=await Me.getLatestObs(qe.PRESENTING_COMPLAINTS),a=c.value.flatMap(e=>e.data);if(a.length<=0&&e.length<=0)return We("Presenting complaints is required");if(a.length<=0)return;const t=await Me.obsValuesWithEncounterType(a,qe.PRESENTING_COMPLAINTS);await Me.buildObs(t),je("Presenting complaints saved successful"),c.value=[]}}),(e,a)=>{const t=p("ion-row"),n=p("ion-label"),u=p("ion-accordion"),y=p("ion-accordion-group");return v(),h(S,null,[f(Fa,{status:o.value,content:"No presenting complaints added"},null,8,["status"]),r.value?(v(),h("span",ct,[f(Oe,{listData:c.value,"onClicked:delete":B},null,8,["listData"])])):k("",!0),l.value?(v(),D(t,{key:1},{default:w(()=>[f(Ve,{formData:E.value,ref_key:"formRef",ref:O},null,8,["formData"]),g("div",ut,[f(Re,{fill:"clear",icon:i.value.plus,iconSlot:"icon-only","onClicked:btn":a[0]||(a[0]=e=>(async()=>{var e,a;const t=null===(e=O.value)||void 0===e?void 0:e.getFormValues();null==(null===(a=O.value)||void 0===a?void 0:a.validateForm())&&(L(t),l.value=!1,s.value=!0)})()),name:"Save"},null,8,["icon"])])]),_:1})):k("",!0),s.value?(v(),D(t,{key:2,style:{"margin-top":"10px"}},{default:w(()=>[f(Re,{fill:"clear",icon:i.value.plus,iconSlot:"icon-only","onClicked:btn":a[1]||(a[1]=e=>(o.value=!1,s.value=!1,void(l.value=!0))),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):k("",!0),f(t,null,{default:w(()=>[f(y,{ref_key:"accordionGroup",ref:m,class:"previousView"},{default:w(()=>[f(u,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:w(()=>[f(I(d),{slot:"header",color:"light"},{default:w(()=>[f(n,{class:"previousLabel"},{default:w(()=>a[2]||(a[2]=[C("Previous presenting complaints")])),_:1,__:[2]})]),_:1}),g("div",mt,[f(rt)])]),_:1})]),_:1},512)]),_:1})],64)}}}),[["__scopeId","data-v-54a39f14"]])),ht=t({name:"VisitHistory",components:{IonIcon:O,IonButton:E},setup(){const e=Je();return{selectedAllergiesList2:_(()=>e.selectedMedicalAllergiesList),calendarOutline:j,alertCircleOutline:W,documentTextOutline:q,femaleOutline:U,medicalOutline:z,warningOutline:R,bodyOutline:V,eyeOutline:F,nutritionOutline:T,fitnessOutline:N,pulseOutline:u,earOutline:H,happyOutline:A,manOutline:P,moveOutline:B,addOutline:M,scanOutline:L}},data:()=>({visits:[],visitDate:null,presentingComplaint:[],pastMedicalHistory:[],levelOfConsciousness:{eyeResponse:null,verbalResponse:null,motorResponse:null},pregnancy:{patientPregnant:null,breastFeeding:null},eyesAbnormal:[],mouthAbnormal:[],earsAbnormal:[],faceAbnormal:[],neckAbnormal:[],chestAbnormal:[],chestMovementAbnormal:[],heartSoundsAbnormal:[],breathSoundsAbnormal:[],addedBreathSoundsAbnormal:[],abdominalInspectionAbnormal:[],eyesExamined:!1,mouthExamined:!1,earsExamined:!1,faceExamined:!1,neckExamined:!1,chestExamined:!1,chestMovementExamined:!1,heartSoundsExamined:!1,breathSoundsExamined:!1,addedBreathSoundsExamined:!1,abdominalInspectionExamined:!1}),computed:{...n(He,["patient"]),hasLevelOfConsciousness(){return this.levelOfConsciousness.eyeResponse||this.levelOfConsciousness.verbalResponse||this.levelOfConsciousness.motorResponse},hasPresentingComplaints(){var e;return(null===(e=this.uniquePresentingComplaints)||void 0===e?void 0:e.length)>0},hasPregnancyData(){return this.pregnancy.patientPregnant||this.pregnancy.breastFeeding},hasPastMedicalHistory(){var e;return(null===(e=this.uniquePastMedicalHistory)||void 0===e?void 0:e.length)>0},hasAllergies(){var e;return(null===(e=this.selectedAllergiesList2)||void 0===e||null===(e=e.filter(e=>e.selected))||void 0===e?void 0:e.length)>0},hasPhysicalExam(){var e,a,t,n,i,o,l,s,d,r,c;return(null===(e=this.eyesAbnormal)||void 0===e?void 0:e.length)>0||this.eyesExamined||(null===(a=this.mouthAbnormal)||void 0===a?void 0:a.length)>0||this.mouthExamined||(null===(t=this.earsAbnormal)||void 0===t?void 0:t.length)>0||this.earsExamined||(null===(n=this.faceAbnormal)||void 0===n?void 0:n.length)>0||this.faceExamined||(null===(i=this.neckAbnormal)||void 0===i?void 0:i.length)>0||this.neckExamined||(null===(o=this.chestAbnormal)||void 0===o?void 0:o.length)>0||this.chestExamined||(null===(l=this.chestMovementAbnormal)||void 0===l?void 0:l.length)>0||this.chestMovementExamined||(null===(s=this.heartSoundsAbnormal)||void 0===s?void 0:s.length)>0||this.heartSoundsExamined||(null===(d=this.breathSoundsAbnormal)||void 0===d?void 0:d.length)>0||this.breathSoundsExamined||(null===(r=this.addedBreathSoundsAbnormal)||void 0===r?void 0:r.length)>0||this.addedBreathSoundsExamined||(null===(c=this.abdominalInspectionAbnormal)||void 0===c?void 0:c.length)>0||this.abdominalInspectionExamined},uniquePastMedicalHistory(){return[...new Map(this.pastMedicalHistory.map(e=>[e,e])).values()]},uniquePresentingComplaints(){return[...new Map(this.presentingComplaint.map(e=>[e,e])).values()]}},methods:{formatVisitDate:e=>e?Le.toStandardHisDisplayFormat(e):"No visit date",async updateData(){var e;if(null===(e=this.patient)||void 0===e||!e.patientID)return;const a=await Ke(this.patient.patientID);var t;a&&(this.visits=(null===(t=a.visits)||void 0===t?void 0:t.visitsDates)||[],this.visits.length>0&&await this.loadSavedEncounters(this.visits[0]))},async loadSavedEncounters(e){this.visitDate=e;const a=Ye("presentingComplaints"),t=Ye("pastMedicalHistory"),n=Ye("levelOfConsciousness"),i=Ye("pregnancy"),o=Ye("physicalExam"),l=Ge(a),s=Ge(t),d=Ge(n),r=Ge(i),c=Ge(o);await this.setPresentingComplainsEncounters(l),await this.setPastMedicalHistoryEncounters(s),await this.setLevelOfConsciousnessEncounters(d),await this.setPregnancyStatusEncounters(r),await this.setPhysicalExamEncounters(c)},filterObs:(e,a)=>e?e.filter(e=>{var t;return(null===(t=e.concept)||void 0===t||null===(t=t.concept_names)||void 0===t?void 0:t.some(e=>e.name===a))||e.concept_name===a}):[],getConceptValues:async(e,a)=>e?await Promise.all(e.map(async e=>e.value_coded?await $e.getConceptName(e.value_coded):e.concept_name||e.name)):[],async setPresentingComplainsEncounters(e){this.presentingComplaint=await this.getConceptValues(this.filterObs(e,"Presenting complaint"),"coded")},async setLevelOfConsciousnessEncounters(e){if(e&&Array.isArray(e)){const a=this.filterObs(e,"Eye opening response");this.levelOfConsciousness.eyeResponse=a.length>0?await $e.getConceptName(a[0].value_coded):null;const t=this.filterObs(e,"Best verbal response");this.levelOfConsciousness.verbalResponse=t.length>0?await $e.getConceptName(t[0].value_coded):null;const n=this.filterObs(e,"Best motor response");this.levelOfConsciousness.motorResponse=n.length>0?await $e.getConceptName(n[0].value_coded):null}},async setPregnancyStatusEncounters(e){if(e&&Array.isArray(e)){const a=this.filterObs(e,"Patient pregnant");this.pregnancy.patientPregnant=a.length>0?await $e.getConceptName(a[0].value_coded):null;const t=this.filterObs(e,"Is patient breast feeding?");this.pregnancy.breastFeeding=t.length>0?await $e.getConceptName(t[0].value_coded):null}},async setPhysicalExamEncounters(e){if(e&&Array.isArray(e)){this.eyesAbnormal=[],this.mouthAbnormal=[],this.earsAbnormal=[],this.faceAbnormal=[],this.neckAbnormal=[],this.chestAbnormal=[],this.chestMovementAbnormal=[],this.heartSoundsAbnormal=[],this.breathSoundsAbnormal=[],this.addedBreathSoundsAbnormal=[],this.abdominalInspectionAbnormal=[],this.eyesExamined=!1,this.mouthExamined=!1,this.earsExamined=!1,this.faceExamined=!1,this.neckExamined=!1,this.chestExamined=!1,this.chestMovementExamined=!1,this.heartSoundsExamined=!1,this.breathSoundsExamined=!1,this.addedBreathSoundsExamined=!1,this.abdominalInspectionExamined=!1;for(const n of e){var a,t;if(!(n.concept_name||null!==(a=n.concept)&&void 0!==a&&a.concept_names))continue;const e=n.concept_name||(null===(t=n.concept)||void 0===t||null===(t=t.concept_names)||void 0===t||null===(t=t.find(e=>"FULLY_SPECIFIED"===e.concept_name_type))||void 0===t?void 0:t.name);e&&(e.includes("normal")||e.includes("Normal"))&&1065===n.value_coded&&(e.includes("Eyes normal")?this.eyesExamined=!0:e.includes("Mouth normal")?this.mouthExamined=!0:e.includes("Ears normal")?this.earsExamined=!0:e.includes("Face normal")?this.faceExamined=!0:e.includes("Neck normal")?this.neckExamined=!0:e.includes("Chest inspection normal")?this.chestExamined=!0:e.includes("Heart sounds normal")?this.heartSoundsExamined=!0:e.includes("Breath sounds normal")?this.breathSoundsExamined=!0:e.includes("Abdominal inspection normal")&&(this.abdominalInspectionExamined=!0))}for(const a of e){var n,i;if(!(a.concept_name||null!==(n=a.concept)&&void 0!==n&&n.concept_names))continue;const e=a.concept_name||(null===(i=a.concept)||void 0===i||null===(i=i.concept_names)||void 0===i||null===(i=i.find(e=>"FULLY_SPECIFIED"===e.concept_name_type))||void 0===i?void 0:i.name);if(e&&!e.includes("normal")&&!e.includes("Normal"))if(e.includes("Abnormality for eyes"))if(this.eyesExamined=!0,a.value_coded){const e=await $e.getConceptName(a.value_coded);e&&"no"!==e.toLowerCase()&&"normal"!==e.toLowerCase()&&this.eyesAbnormal.push(e)}else a.value_text&&this.eyesAbnormal.push(a.value_text);else if(e.includes("Abnormality for mouth"))if(this.mouthExamined=!0,a.value_coded){const e=await $e.getConceptName(a.value_coded);e&&"no"!==e.toLowerCase()&&"normal"!==e.toLowerCase()&&this.mouthAbnormal.push(e)}else a.value_text&&this.mouthAbnormal.push(a.value_text);else if(e.includes("Abnormality for ears"))if(this.earsExamined=!0,a.value_coded){const e=await $e.getConceptName(a.value_coded);e&&"no"!==e.toLowerCase()&&"normal"!==e.toLowerCase()&&this.earsAbnormal.push(e)}else a.value_text&&this.earsAbnormal.push(a.value_text);else if(e.includes("Abnormality for face"))if(this.faceExamined=!0,a.value_coded){const e=await $e.getConceptName(a.value_coded);e&&"no"!==e.toLowerCase()&&"normal"!==e.toLowerCase()&&this.faceAbnormal.push(e)}else a.value_text&&this.faceAbnormal.push(a.value_text);else if(e.includes("Abnormality for neck"))if(this.neckExamined=!0,a.value_coded){const e=await $e.getConceptName(a.value_coded);e&&"no"!==e.toLowerCase()&&"normal"!==e.toLowerCase()&&this.neckAbnormal.push(e)}else a.value_text&&this.neckAbnormal.push(a.value_text);else if(e.includes("Abnormality for chest inspection"))if(this.chestExamined=!0,a.value_coded){const e=await $e.getConceptName(a.value_coded);e&&"no"!==e.toLowerCase()&&"normal"!==e.toLowerCase()&&this.chestAbnormal.push(e)}else a.value_text&&this.chestAbnormal.push(a.value_text);else if(e.includes("Chest movements"))if(this.chestMovementExamined=!0,a.value_coded){const e=await $e.getConceptName(a.value_coded);e&&"no"!==e.toLowerCase()&&"normal"!==e.toLowerCase()&&this.chestMovementAbnormal.push(e)}else a.value_text&&this.chestMovementAbnormal.push(a.value_text);else if(e.includes("Heart sounds abnormality"))if(this.heartSoundsExamined=!0,a.value_coded){const e=await $e.getConceptName(a.value_coded);e&&"no"!==e.toLowerCase()&&"normal"!==e.toLowerCase()&&this.heartSoundsAbnormal.push(e)}else a.value_text&&this.heartSoundsAbnormal.push(a.value_text);else if(e.includes("Breath sounds abnormality"))if(this.breathSoundsExamined=!0,a.value_coded){const e=await $e.getConceptName(a.value_coded);e&&"no"!==e.toLowerCase()&&"normal"!==e.toLowerCase()&&this.breathSoundsAbnormal.push(e)}else a.value_text&&this.breathSoundsAbnormal.push(a.value_text);else if(e.includes("Abnormalities when added"))if(this.addedBreathSoundsExamined=!0,a.value_coded){const e=await $e.getConceptName(a.value_coded);e&&"no"!==e.toLowerCase()&&"normal"!==e.toLowerCase()&&this.addedBreathSoundsAbnormal.push(e)}else a.value_text&&this.addedBreathSoundsAbnormal.push(a.value_text);else if(e.includes("Abdominal inspection abnormality"))if(this.abdominalInspectionExamined=!0,a.value_coded){const e=await $e.getConceptName(a.value_coded);e&&"no"!==e.toLowerCase()&&"normal"!==e.toLowerCase()&&this.abdominalInspectionAbnormal.push(e)}else a.value_text&&this.abdominalInspectionAbnormal.push(a.value_text)}}},async setPastMedicalHistoryEncounters(e){this.pastMedicalHistory=await this.getConceptValues(this.filterObs(e,"Chronic disease"),"coded")}},watch:{patient:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()}}),vt={class:"visit-container"},gt={class:"visit-header"},ft={class:"visit-date"},yt={class:"visit-sections"},bt={key:0,class:"visit-section"},_t={class:"section-header"},xt={class:"section-content"},kt={key:0,class:"info-item"},Dt={class:"info-value"},wt={key:1,class:"info-item"},It={class:"info-value"},Ct={key:2,class:"info-item"},St={class:"info-value"},Et={key:1,class:"empty-section"},Ot={key:2,class:"visit-section"},Lt={class:"section-header"},Mt={class:"tags-container"},Bt={key:3,class:"empty-section"},Pt={key:4,class:"visit-section"},At={class:"section-header"},Ht={class:"section-content"},Nt={key:0,class:"info-item"},Tt={class:"info-value highlight"},Ft={key:1,class:"info-item"},Vt={class:"info-value highlight"},Rt={key:5,class:"empty-section"},zt={key:6,class:"visit-section"},Ut={class:"section-header"},qt={class:"tags-container"},Wt={key:7,class:"empty-section"},jt={key:8,class:"visit-section"},$t={class:"section-header"},Yt={class:"tags-container"},Gt={key:9,class:"empty-section"},Kt={key:10,class:"visit-section"},Jt={class:"section-header"},Xt={class:"exam-section"},Zt={key:0,class:"exam-category"},Qt={class:"exam-category-header"},en={class:"exam-items"},an={key:1,class:"exam-category normal"},tn={class:"exam-category-header"},nn={key:2,class:"exam-category"},on={class:"exam-category-header"},ln={class:"exam-items"},sn={key:3,class:"exam-category normal"},dn={class:"exam-category-header"},rn={key:4,class:"exam-category"},cn={class:"exam-category-header"},un={class:"exam-items"},mn={key:5,class:"exam-category normal"},pn={class:"exam-category-header"},hn={key:6,class:"exam-category"},vn={class:"exam-category-header"},gn={class:"exam-items"},fn={key:7,class:"exam-category normal"},yn={class:"exam-category-header"},bn={key:8,class:"exam-category"},_n={class:"exam-category-header"},xn={class:"exam-items"},kn={key:9,class:"exam-category normal"},Dn={class:"exam-category-header"},wn={key:10,class:"exam-category"},In={class:"exam-category-header"},Cn={class:"exam-items"},Sn={key:11,class:"exam-category normal"},En={class:"exam-category-header"},On={key:12,class:"exam-category"},Ln={class:"exam-category-header"},Mn={class:"exam-items"},Bn={key:13,class:"exam-category normal"},Pn={class:"exam-category-header"},An={key:14,class:"exam-category"},Hn={class:"exam-category-header"},Nn={class:"exam-items"},Tn={key:15,class:"exam-category normal"},Fn={class:"exam-category-header"},Vn={key:16,class:"exam-category"},Rn={class:"exam-items"},zn={key:17,class:"exam-category normal"},Un={key:18,class:"exam-category"},qn={class:"exam-category-header"},Wn={class:"exam-items"},jn={key:19,class:"exam-category normal"},$n={class:"exam-category-header"},Yn={key:20,class:"exam-category"},Gn={class:"exam-category-header"},Kn={class:"exam-items"},Jn={key:21,class:"exam-category normal"},Xn={class:"exam-category-header"},Zn={key:11,class:"empty-section"},Qn=Ne(ht,[["render",function(e,a,t,n,i,o){const l=p("ion-icon");return v(),h("div",vt,[g("div",gt,[a[0]||(a[0]=g("h5",null,"Patient's Clinical Assessment Summary",-1)),g("div",ft,[f(l,{icon:e.calendarOutline},null,8,["icon"]),g("span",null,$(e.formatVisitDate(e.visitDate)),1)])]),g("div",yt,[e.hasLevelOfConsciousness?(v(),h("div",bt,[g("div",_t,[f(l,{icon:e.alertCircleOutline,class:"section-icon"},null,8,["icon"]),a[1]||(a[1]=g("h3",null,"Level of Consciousness",-1))]),g("div",xt,[e.levelOfConsciousness.eyeResponse?(v(),h("div",kt,[a[2]||(a[2]=g("span",{class:"info-label"},"Eye Response:",-1)),g("span",Dt,$(e.levelOfConsciousness.eyeResponse),1)])):k("",!0),e.levelOfConsciousness.verbalResponse?(v(),h("div",wt,[a[3]||(a[3]=g("span",{class:"info-label"},"Verbal Response:",-1)),g("span",It,$(e.levelOfConsciousness.verbalResponse),1)])):k("",!0),e.levelOfConsciousness.motorResponse?(v(),h("div",Ct,[a[4]||(a[4]=g("span",{class:"info-label"},"Motor Response:",-1)),g("span",St,$(e.levelOfConsciousness.motorResponse),1)])):k("",!0)])])):(v(),h("div",Et,[f(l,{icon:e.alertCircleOutline},null,8,["icon"]),a[5]||(a[5]=g("p",null,"No level of consciousness recorded",-1))])),e.hasPresentingComplaints?(v(),h("div",Ot,[g("div",Lt,[f(l,{icon:e.documentTextOutline,class:"section-icon"},null,8,["icon"]),a[6]||(a[6]=g("h3",null,"Presenting Complaints",-1))]),g("div",Mt,[(v(!0),h(S,null,Y(e.uniquePresentingComplaints,(e,a)=>(v(),h("div",{class:"complaint-tag",key:a},$(e),1))),128))])])):(v(),h("div",Bt,[f(l,{icon:e.documentTextOutline},null,8,["icon"]),a[7]||(a[7]=g("p",null,"No presenting complaints recorded",-1))])),e.hasPregnancyData?(v(),h("div",Pt,[g("div",At,[f(l,{icon:e.femaleOutline,class:"section-icon"},null,8,["icon"]),a[8]||(a[8]=g("h3",null,"Pregnancy Status",-1))]),g("div",Ht,[e.pregnancy.patientPregnant?(v(),h("div",Nt,[a[9]||(a[9]=g("span",{class:"info-label"},"Pregnant:",-1)),g("span",Tt,$(e.pregnancy.patientPregnant),1)])):k("",!0),e.pregnancy.breastFeeding?(v(),h("div",Ft,[a[10]||(a[10]=g("span",{class:"info-label"},"Breastfeeding:",-1)),g("span",Vt,$(e.pregnancy.breastFeeding),1)])):k("",!0)])])):(v(),h("div",Rt,[f(l,{icon:e.femaleOutline},null,8,["icon"]),a[11]||(a[11]=g("p",null,"No pregnancy status recorded",-1))])),e.hasPastMedicalHistory?(v(),h("div",zt,[g("div",Ut,[f(l,{icon:e.medicalOutline,class:"section-icon"},null,8,["icon"]),a[12]||(a[12]=g("h3",null,"Medical History",-1))]),g("div",qt,[(v(!0),h(S,null,Y(e.uniquePastMedicalHistory,(e,a)=>(v(),h("div",{class:"medical-tag",key:a},$(e),1))),128))])])):(v(),h("div",Wt,[f(l,{icon:e.medicalOutline},null,8,["icon"]),a[13]||(a[13]=g("p",null,"No medical history recorded",-1))])),e.hasAllergies?(v(),h("div",jt,[g("div",$t,[f(l,{icon:e.warningOutline,class:"section-icon"},null,8,["icon"]),a[14]||(a[14]=g("h3",null,"Allergies",-1))]),g("div",Yt,[e.item.selected?(v(!0),h(S,{key:0},Y(e.selectedAllergiesList2,(e,a)=>(v(),h("div",{class:"allergy-tag",key:a},$(e.name),1))),128)):k("",!0)])])):(v(),h("div",Gt,[f(l,{icon:e.warningOutline},null,8,["icon"]),a[15]||(a[15]=g("p",null,"No allergies recorded",-1))])),e.hasPhysicalExam?(v(),h("div",Kt,[g("div",Jt,[f(l,{icon:e.bodyOutline,class:"section-icon"},null,8,["icon"]),a[16]||(a[16]=g("h3",null,"Physical Examination",-1))]),g("div",Xt,[e.eyesAbnormal.length?(v(),h("div",Zt,[g("div",Qt,[f(l,{icon:e.eyeOutline},null,8,["icon"]),a[17]||(a[17]=g("h4",null,"Eyes",-1))]),g("div",en,[(v(!0),h(S,null,Y(e.eyesAbnormal,(e,a)=>(v(),h("div",{class:"exam-item",key:"eyes-"+a},$(e),1))),128))])])):e.eyesExamined?(v(),h("div",an,[g("div",tn,[f(l,{icon:e.eyeOutline},null,8,["icon"]),a[18]||(a[18]=g("h4",null,"Eyes",-1))]),a[19]||(a[19]=g("div",{class:"exam-items"},[g("div",{class:"exam-item normal"}," Normal examination ")],-1))])):k("",!0),e.mouthAbnormal.length?(v(),h("div",nn,[g("div",on,[f(l,{icon:e.nutritionOutline},null,8,["icon"]),a[20]||(a[20]=g("h4",null,"Mouth",-1))]),g("div",ln,[(v(!0),h(S,null,Y(e.mouthAbnormal,(e,a)=>(v(),h("div",{class:"exam-item",key:"mouth-"+a},$(e),1))),128))])])):e.mouthExamined?(v(),h("div",sn,[g("div",dn,[f(l,{icon:e.nutritionOutline},null,8,["icon"]),a[21]||(a[21]=g("h4",null,"Mouth",-1))]),a[22]||(a[22]=g("div",{class:"exam-items"},[g("div",{class:"exam-item normal"}," Normal examination ")],-1))])):k("",!0),e.earsAbnormal.length?(v(),h("div",rn,[g("div",cn,[f(l,{icon:e.earOutline},null,8,["icon"]),a[23]||(a[23]=g("h4",null,"Ears",-1))]),g("div",un,[(v(!0),h(S,null,Y(e.earsAbnormal,(e,a)=>(v(),h("div",{class:"exam-item",key:"ears-"+a},$(e),1))),128))])])):e.earsExamined?(v(),h("div",mn,[g("div",pn,[f(l,{icon:e.earOutline},null,8,["icon"]),a[24]||(a[24]=g("h4",null,"Ears",-1))]),a[25]||(a[25]=g("div",{class:"exam-items"},[g("div",{class:"exam-item normal"}," Normal examination ")],-1))])):k("",!0),e.faceAbnormal.length?(v(),h("div",hn,[g("div",vn,[f(l,{icon:e.happyOutline},null,8,["icon"]),a[26]||(a[26]=g("h4",null,"Face",-1))]),g("div",gn,[(v(!0),h(S,null,Y(e.faceAbnormal,(e,a)=>(v(),h("div",{class:"exam-item",key:"face-"+a},$(e),1))),128))])])):e.faceExamined?(v(),h("div",fn,[g("div",yn,[f(l,{icon:e.happyOutline},null,8,["icon"]),a[27]||(a[27]=g("h4",null,"Face",-1))]),a[28]||(a[28]=g("div",{class:"exam-items"},[g("div",{class:"exam-item normal"}," Normal examination ")],-1))])):k("",!0),e.neckAbnormal.length?(v(),h("div",bn,[g("div",_n,[f(l,{icon:e.manOutline},null,8,["icon"]),a[29]||(a[29]=g("h4",null,"Neck",-1))]),g("div",xn,[(v(!0),h(S,null,Y(e.neckAbnormal,(e,a)=>(v(),h("div",{class:"exam-item",key:"neck-"+a},$(e),1))),128))])])):e.neckExamined?(v(),h("div",kn,[g("div",Dn,[f(l,{icon:e.manOutline},null,8,["icon"]),a[30]||(a[30]=g("h4",null,"Neck",-1))]),a[31]||(a[31]=g("div",{class:"exam-items"},[g("div",{class:"exam-item normal"}," Normal examination ")],-1))])):k("",!0),e.chestAbnormal.length?(v(),h("div",wn,[g("div",In,[f(l,{icon:e.fitnessOutline},null,8,["icon"]),a[32]||(a[32]=g("h4",null,"Chest",-1))]),g("div",Cn,[(v(!0),h(S,null,Y(e.chestAbnormal,(e,a)=>(v(),h("div",{class:"exam-item",key:"chest-"+a},$(e),1))),128))])])):e.chestExamined?(v(),h("div",Sn,[g("div",En,[f(l,{icon:e.fitnessOutline},null,8,["icon"]),a[33]||(a[33]=g("h4",null,"Chest",-1))]),a[34]||(a[34]=g("div",{class:"exam-items"},[g("div",{class:"exam-item normal"}," Normal examination ")],-1))])):k("",!0),e.chestMovementAbnormal.length?(v(),h("div",On,[g("div",Ln,[f(l,{icon:e.moveOutline},null,8,["icon"]),a[35]||(a[35]=g("h4",null,"Chest Movement",-1))]),g("div",Mn,[(v(!0),h(S,null,Y(e.chestMovementAbnormal,(e,a)=>(v(),h("div",{class:"exam-item",key:"chest-move-"+a},$(e),1))),128))])])):e.chestMovementExamined?(v(),h("div",Bn,[g("div",Pn,[f(l,{icon:e.moveOutline},null,8,["icon"]),a[36]||(a[36]=g("h4",null,"Chest Movement",-1))]),a[37]||(a[37]=g("div",{class:"exam-items"},[g("div",{class:"exam-item normal"}," Normal movement ")],-1))])):k("",!0),e.heartSoundsAbnormal.length?(v(),h("div",An,[g("div",Hn,[f(l,{icon:e.pulseOutline},null,8,["icon"]),a[38]||(a[38]=g("h4",null,"Heart Sounds",-1))]),g("div",Nn,[(v(!0),h(S,null,Y(e.heartSoundsAbnormal,(e,a)=>(v(),h("div",{class:"exam-item",key:"heart-"+a},$(e),1))),128))])])):e.heartSoundsExamined?(v(),h("div",Tn,[g("div",Fn,[f(l,{icon:e.pulseOutline},null,8,["icon"]),a[39]||(a[39]=g("h4",null,"Heart Sounds",-1))]),a[40]||(a[40]=g("div",{class:"exam-items"},[g("div",{class:"exam-item normal"}," Normal heart sounds ")],-1))])):k("",!0),e.breathSoundsAbnormal.length?(v(),h("div",Vn,[a[41]||(a[41]=g("div",{class:"exam-category-header"},[g("h4",null,"Breath Sounds")],-1)),g("div",Rn,[(v(!0),h(S,null,Y(e.breathSoundsAbnormal,(e,a)=>(v(),h("div",{class:"exam-item",key:"breath-"+a},$(e),1))),128))])])):e.breathSoundsExamined?(v(),h("div",zn,a[42]||(a[42]=[g("div",{class:"exam-category-header"},[g("h4",null,"Breath Sounds")],-1),g("div",{class:"exam-items"},[g("div",{class:"exam-item normal"}," Normal breath sounds ")],-1)]))):k("",!0),e.addedBreathSoundsAbnormal.length?(v(),h("div",Un,[g("div",qn,[f(l,{icon:e.addOutline},null,8,["icon"]),a[43]||(a[43]=g("h4",null,"Added Breath Sounds",-1))]),g("div",Wn,[(v(!0),h(S,null,Y(e.addedBreathSoundsAbnormal,(e,a)=>(v(),h("div",{class:"exam-item",key:"added-breath-"+a},$(e),1))),128))])])):e.addedBreathSoundsExamined?(v(),h("div",jn,[g("div",$n,[f(l,{icon:e.addOutline},null,8,["icon"]),a[44]||(a[44]=g("h4",null,"Added Breath Sounds",-1))]),a[45]||(a[45]=g("div",{class:"exam-items"},[g("div",{class:"exam-item normal"}," No abnormal added sounds ")],-1))])):k("",!0),e.abdominalInspectionAbnormal.length?(v(),h("div",Yn,[g("div",Gn,[f(l,{icon:e.scanOutline},null,8,["icon"]),a[46]||(a[46]=g("h4",null,"Abdominal Inspection",-1))]),g("div",Kn,[(v(!0),h(S,null,Y(e.abdominalInspectionAbnormal,(e,a)=>(v(),h("div",{class:"exam-item",key:"abdomen-"+a},$(e),1))),128))])])):e.abdominalInspectionExamined?(v(),h("div",Jn,[g("div",Xn,[f(l,{icon:e.scanOutline},null,8,["icon"]),a[47]||(a[47]=g("h4",null,"Abdominal Inspection",-1))]),a[48]||(a[48]=g("div",{class:"exam-items"},[g("div",{class:"exam-item normal"}," Normal abdominal inspection ")],-1))])):k("",!0)])])):(v(),h("div",Zn,[f(l,{icon:e.bodyOutline},null,8,["icon"]),a[49]||(a[49]=g("p",null,"No physical exam recorded",-1))]))])])}],["__scopeId","data-v-8f0a8a33"]]),ei=t({name:"LevelOfConsciousness",components:{IonContent:c,IonHeader:r,IonItem:d,IonList:s,IonMenu:l,IonTitle:o,IonToolbar:i,BasicForm:Ha},props:{isActive:Boolean},emits:["closeAccordion"],setup(e,{emit:a}){var t;const{adult:n,minor:i}=Xe(),{patient:o}=He(),l=b(""),s=b(Le.getAgeInYears(null==o||null===(t=o.personInformation)||void 0===t?void 0:t.birthdate)),d=b(!1),r=(t,n)=>{var i,o,s;const r=Ze(t,Qe.EYE_OPENING_RESPONSE),c=Ze(t,Qe.BEST_MOTOR_RESPONSE),u=Ze(t,Qe.BEST_VERBAL_RESPONSE),m=null!==(i=(n?ia:oa)[r])&&void 0!==i?i:0,p=null!==(o=(n?ea:aa)[c])&&void 0!==o?o:0,h=null!==(s=(n?ta:na)[u])&&void 0!==s?s:0,v=m+p+h;l.value=`(M ${p} V ${h} E ${m}) ${v}/${n?5:15}`;const g=r&&c&&u;g&&!d.value?(d.value=!0,e.isActive&&setTimeout(()=>a("closeAccordion"),1e3)):g||(d.value=!1)};return G(n,e=>r(e,!1),{deep:!0}),G(i,e=>r(e,!0),{deep:!0}),{gcs:l,patientAge:s,adult:n,minor:i,handleAdultUpdate:e=>r(e,!1),handleMinorUpdate:e=>r(e,!0)}}}),ai={class:"modal_wrapper"},ti=e("L",Ne(ei,[["render",function(e,a,t,n,i,o){const l=p("basic-form");return v(),h("div",ai,[e.patientAge<18?(v(),D(l,{key:0,contentData:e.minor,"onUpdate:modelValue":e.handleMinorUpdate},null,8,["contentData","onUpdate:modelValue"])):(v(),D(l,{key:1,contentData:e.adult,"onUpdate:modelValue":e.handleAdultUpdate},null,8,["contentData","onUpdate:modelValue"])),g("h5",null,$(e.gcs),1)])}],["__scopeId","data-v-7182bbbd"]])),ni=t({name:"Menu",components:{IonContent:c,IonHeader:r,IonItem:d,IonList:s,IonMenu:l,IonTitle:o,IonToolbar:i,BasicForm:Ha},data:()=>({}),computed:{...n(la,["pregnancy"])},methods:{handleInputData(){}}}),ii={class:"modal_wrapper"},oi=e("d",Ne(ni,[["render",function(e,a,t,n,i,o){const l=p("basic-form");return v(),h("div",ii,[f(l,{contentData:e.pregnancy,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])}]])),li=t({name:"Menu",components:{IonContent:c,IonHeader:r,IonItem:d,IonList:s,IonMenu:l,IonTitle:o,IonToolbar:i,BasicForm:Ha},data:()=>({initialData:[]}),computed:{...n(ca,["pastMedicalHistory"])},mounted(){const e=ca();this.initialData=e.getInitial(),this.handleChronicConditions()},watch:{pastMedicalHistory:{handler(){this.handleChronicConditions()},deep:!0}},methods:{handleChronicConditions(){var e;const a=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];null!==(e=sa(this.pastMedicalHistory,"None"))&&void 0!==e&&e.checked?a.forEach(e=>{da(this.pastMedicalHistory,"TB treatment","displayNone",!0),ze(this.pastMedicalHistory,"TB drugs","displayNone",!0),ze(this.pastMedicalHistory,"TB drug start date","displayNone",!0),da(this.pastMedicalHistory,"Hypertension medication","displayNone",!0),ze(this.pastMedicalHistory,"Current hypertension treatment regimen","displayNone",!0),da(this.pastMedicalHistory,"HIV status","displayNone",!0),ze(this.pastMedicalHistory,"ARV start date","displayNone",!0),da(this.pastMedicalHistory,"Diabetes","displayNone",!0),da(this.pastMedicalHistory,"Controlled by","displayNone",!0),ra(this.pastMedicalHistory,e,"checked",!1),ra(this.pastMedicalHistory,e,"disabled",!0)}):a.forEach(e=>{ra(this.pastMedicalHistory,e,"disabled",!1)})},handleInputData(e){ze(this.pastMedicalHistory,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine O (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),ze(this.pastMedicalHistory,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})}}}),si={class:"modal_wrapper"},di={class:"uniform_columns"},ri=Ne(li,[["render",function(e,a,t,n,i,o){const l=p("basic-form");return v(),h("div",si,[g("div",di,[f(l,{contentData:e.pastMedicalHistory,initialData:e.initialData,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue","onUpdate:selected"])])])}],["__scopeId","data-v-2b756eeb"]]),ci=t({name:"immidiatePostnatalChecksForChild",components:{BasicCard:ja,IonContent:c,IonHeader:r,IonItem:d,IonList:s,IonMenu:l,IonTitle:o,IonToolbar:i,IonToggle:ee,IonSelect:Q,IonSelectOption:Z,IonInput:X,BasicInputField:ua,BasicForm:Ha,IonRadio:J,IonRadioGroup:K},data:()=>({initialData:[],iconsContent:Te,vValidations:"",hasValidationErrors:[],inputField:""}),computed:{...n(ma,["physicalExam"]),...n(He,["patient"])},mounted(){const e=ma();this.initialData=e.getInitial(),this.handlePhysicalExam(),this.handleGenitalExam()},watch:{physicalExam:{handler(){this.handlePhysicalExam(),this.handleGenitalExam()},deep:!0}},setup:()=>({checkmark:m,pulseOutline:u}),methods:{handlePhysicalExam(){"No"==Ze(this.physicalExam,"Physical examination")?da(this.physicalExam,"Reason why physical examination not done","displayNone",!1):(da(this.physicalExam,"Reason why physical examination not done","displayNone",!0),da(this.physicalExam,"Reason why physical examination not done","selectedValue",""))},handleGenitalExam(){var e;const a=null===(e=this.patient)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender;"M"==a&&(ra(this.physicalExam,"Vulva examination","disabled",!0),ra(this.physicalExam,"Visible bleeding","disabled",!0)),"F"==a&&(ra(this.physicalExam,"Urethral meatus abnormal","disabled",!0),ra(this.physicalExam,"Scrotal swelling","disabled",!0),ra(this.physicalExam,"Tastes swelling","disabled",!0))}}}),ui={class:"container"},mi=e("e",Ne(ci,[["render",function(e,a,t,n,i,o){const l=p("basic-form"),s=p("ion-card-content"),d=p("ion-card");return v(),h("div",ui,[f(d,{class:"section"},{default:w(()=>[f(s,null,{default:w(()=>[f(l,{contentData:e.physicalExam,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}],["__scopeId","data-v-c1d7fdd5"]])),pi={key:0},hi={class:"ion-padding",slot:"content"},vi={class:"nav-buttons"},gi={class:"ion-padding",slot:"content"},fi={class:"nav-buttons"},yi={class:"ion-padding",slot:"content"},bi={class:"nav-buttons"},_i={class:"ion-padding",slot:"content"},xi={class:"nav-buttons"},ki={class:"ion-padding",slot:"content"},Di={class:"nav-buttons"},wi={class:"ion-padding",slot:"content"},Ii={class:"nav-buttons"};e("C",Ne(t({__name:"ClinicalAssessment",setup(e,{expose:a}){const t=b("loc"),n=b(0),i=new pa,o=He(),l=()=>{n.value++},s=b(null),r=[{id:"loc",label:"Level of consciousness",show:!0},{id:"pc",label:"Presenting complaints",show:!0},{id:"pbs",label:"Pregnancy and breastfeeding status",show:()=>i.isChildBearing()},{id:"pmh",label:"Past medical history",show:!0},{id:"al",label:"Allergies",show:!0},{id:"pe",label:"Physical examination",show:!0}],c=_(()=>{const e=o.patient;if(!e)return!1;const a=(new Date).toISOString().split("T")[0];return["levelOfConsciousness","presentingComplaints","pastMedicalHistory","physicalExam","allergies","pregnancy"].some(t=>{var n,i;return[...(null===(n=e[t])||void 0===n?void 0:n.saved)||[],...(null===(i=e[t])||void 0===i?void 0:i.unsaved)||[]].some(e=>!!e.obs_datetime&&new Date(e.obs_datetime).toISOString().split("T")[0]===a)})}),u=_(()=>r.filter(e=>"function"==typeof e.show?e.show():e.show)),m=e=>{const a=r.find(a=>a.id===e);return!!a&&("function"==typeof a.show?a.show():a.show)},p=e=>u.value.findIndex(a=>a.id===e),y=e=>{const a=p(e);a>0&&(t.value=u.value[a-1].id)},x=e=>{const a=p(e)+1;a<u.value.length?t.value=u.value[a].id:(t.value="",l())};return a({onSubmit:()=>{var e;null===(e=s.value)||void 0===e||e.onSubmit()}}),(e,a)=>c.value?(v(),h("div",pi,[(v(),D(Qn,{key:n.value}))])):(v(),D(I(oe),{key:1,style:{width:"100%"}},{default:w(()=>[f(I(ae),{value:t.value,"onUpdate:value":a[12]||(a[12]=e=>t.value=e),ref:"accordionGroup",class:"previousView"},{default:w(()=>[m("loc")?(v(),D(I(te),{key:0,value:"loc",class:"_card"},{default:w(()=>[f(I(d),{slot:"header",color:"light"},{default:w(()=>[f(I(ne),{class:"previousLabel"},{default:w(()=>a[13]||(a[13]=[C("Level of consciousness")])),_:1,__:[13]})]),_:1}),g("div",hi,[f(ti,{"is-active":"loc"===t.value,onDataSaved:l},null,8,["is-active"]),g("div",vi,[p("loc")>0?(v(),D(I(E),{key:0,fill:"outline",onClick:a[0]||(a[0]=ie(e=>y("loc"),["stop"]))},{default:w(()=>a[14]||(a[14]=[C(" Back ")])),_:1,__:[14]})):k("",!0),f(I(E),{fill:"outline",onClick:a[1]||(a[1]=ie(e=>x("loc"),["stop"]))},{default:w(()=>[C($(p("loc")<u.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):k("",!0),m("pc")?(v(),D(I(te),{key:1,value:"pc",class:"_card"},{default:w(()=>[f(I(d),{slot:"header",color:"light"},{default:w(()=>[f(I(ne),{class:"previousLabel"},{default:w(()=>a[15]||(a[15]=[C("Presenting complaints")])),_:1,__:[15]})]),_:1}),g("div",gi,[f(pt,{"is-active":"pc"===t.value,onDataSaved:l,ref_key:"presentingComplaintsFormRef",ref:s},null,8,["is-active"]),g("div",fi,[p("pc")>0?(v(),D(I(E),{key:0,fill:"outline",onClick:a[2]||(a[2]=ie(e=>y("pc"),["stop"]))},{default:w(()=>a[16]||(a[16]=[C(" Back ")])),_:1,__:[16]})):k("",!0),f(I(E),{fill:"outline",onClick:a[3]||(a[3]=ie(e=>x("pc"),["stop"]))},{default:w(()=>[C($(p("pc")<u.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):k("",!0),m("pbs")?(v(),D(I(te),{key:2,value:"pbs",class:"_card"},{default:w(()=>[f(I(d),{slot:"header",color:"light"},{default:w(()=>[f(I(ne),{class:"previousLabel"},{default:w(()=>a[17]||(a[17]=[C("Pregnancy and breastfeeding status")])),_:1,__:[17]})]),_:1}),g("div",yi,[f(oi,{"is-active":"pbs"===t.value,onDataSaved:l},null,8,["is-active"]),g("div",bi,[p("pbs")>0?(v(),D(I(E),{key:0,fill:"outline",onClick:a[4]||(a[4]=ie(e=>y("pbs"),["stop"]))},{default:w(()=>a[18]||(a[18]=[C(" Back ")])),_:1,__:[18]})):k("",!0),f(I(E),{fill:"outline",onClick:a[5]||(a[5]=ie(e=>x("pbs"),["stop"]))},{default:w(()=>[C($(p("pbs")<u.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):k("",!0),m("pmh")?(v(),D(I(te),{key:3,value:"pmh",class:"_card"},{default:w(()=>[f(I(d),{slot:"header",color:"light"},{default:w(()=>[f(I(ne),{class:"previousLabel"},{default:w(()=>a[19]||(a[19]=[C("Past medical history")])),_:1,__:[19]})]),_:1}),g("div",_i,[f(ri,{"is-active":"pmh"===t.value,onDataSaved:l},null,8,["is-active"]),g("div",xi,[p("pmh")>0?(v(),D(I(E),{key:0,fill:"outline",onClick:a[6]||(a[6]=ie(e=>y("pmh"),["stop"]))},{default:w(()=>a[20]||(a[20]=[C(" Back ")])),_:1,__:[20]})):k("",!0),f(I(E),{fill:"outline",onClick:a[7]||(a[7]=ie(e=>x("pmh"),["stop"]))},{default:w(()=>[C($(p("pmh")<u.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):k("",!0),m("al")?(v(),D(I(te),{key:4,value:"al",class:"_card"},{default:w(()=>[f(I(d),{slot:"header",color:"light"},{default:w(()=>[f(I(ne),{class:"previousLabel"},{default:w(()=>a[21]||(a[21]=[C("Allergies")])),_:1,__:[21]})]),_:1}),g("div",ki,[f(Ra,{"is-active":"al"===t.value,onDataSaved:l},null,8,["is-active"]),g("div",Di,[p("al")>0?(v(),D(I(E),{key:0,fill:"outline",onClick:a[8]||(a[8]=ie(e=>y("al"),["stop"]))},{default:w(()=>a[22]||(a[22]=[C(" Back ")])),_:1,__:[22]})):k("",!0),f(I(E),{fill:"outline",onClick:a[9]||(a[9]=ie(e=>x("al"),["stop"]))},{default:w(()=>[C($(p("al")<u.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):k("",!0),m("pe")?(v(),D(I(te),{key:5,value:"pe",class:"_card"},{default:w(()=>[f(I(d),{slot:"header",color:"light"},{default:w(()=>[f(I(ne),{class:"previousLabel"},{default:w(()=>a[23]||(a[23]=[C("Physical examination")])),_:1,__:[23]})]),_:1}),g("div",wi,[f(mi,{"is-active":"pe"===t.value,onDataSaved:l},null,8,["is-active"]),g("div",Ii,[p("pe")>0?(v(),D(I(E),{key:0,fill:"outline",onClick:a[10]||(a[10]=ie(e=>y("pe"),["stop"]))},{default:w(()=>a[24]||(a[24]=[C(" Back ")])),_:1,__:[24]})):k("",!0),f(I(E),{fill:"outline",onClick:a[11]||(a[11]=ie(e=>x("pe"),["stop"]))},{default:w(()=>[C($(p("pe")<u.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):k("",!0)]),_:1},8,["value"])]),_:1}))}}),[["__scopeId","data-v-6ecd9cf6"]]));class Ci extends ha{constructor(e,a){super(e,8,a)}static async getDiagnosis(e="",a=1,t=10){const n=await $e.getConceptID("Qech outpatient diagnosis list");return ha.getJson("diagnosis",{id:n,name:e,page:a,page_size:t})}}e("P",Ci);const Si=t({name:"Menu",components:{IonContent:c,IonHeader:r,IonItem:d,IonList:s,IonMenu:l,IonTitle:o,IonToolbar:i,List:Oe},computed:{...n(He,["patient"])},data:()=>({valueNumericArray:[],obsDatetime:[],graphIcon:Pe(["#006401"]),listIcon:Be(["#636363"]),displayGraph:!0,orders:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],series:[{name:"",data:[]}]}),setup:()=>({checkmark:m,pulseOutline:u}),async mounted(){const e=[...await Me.getAll(this.patient.patientID,"Primary diagnosis")||[],...await Me.getAll(this.patient.patientID,"Secondary diagnosis")||[],...await Me.getAll(this.patient.patientID,"Attempted/ Differential diagnosis")||[]],a=Na.isEmpty(e)?[]:Promise.all(e.map(async e=>({name:await Me.getConceptName(e.value_coded),obs_date:e.obs_datetime})));this.setListData(await a)},methods:{dismiss(){le.dismiss()},handleIcon(){},setActivClass(e){this.activeHeight="",this.activeBMI="",this.activeWeight="","height"==e?this.activeHeight="_active":"weight"==e?this.activeWeight="_active":"BMI"==e&&(this.activeBMI="_active")},setListData(e){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 25px;",display:["Date","Diagnosis","Notes"]}),e.forEach(e=>{this.list.push({actionBtn:!1,minHeight:"--min-height: 25px;",class:"col_background",display:[Le.toStandardHisFormat(e.obs_date),e.name,""]})})}}}),Ei={class:"modal_wrapper"},Oi=t({name:"Menu",components:{IonContent:c,IonHeader:r,IonItem:d,IonList:s,IonMenu:l,IonTitle:o,IonToolbar:i,IonInput:X,IonPopover:se,DashBox:Fa,SelectionPopover:va,BasicInputField:ua,List:Oe,BasicForm:Ha,DynamicButton:Re,previousDiagnosis:Ne(Si,[["render",function(e,a,t,n,i,o){const l=p("list");return v(),h("div",Ei,[g("div",null,[f(l,{listData:e.list},null,8,["listData"])])])}],["__scopeId","data-v-88580898"]])},data:()=>({iconsContent:Te,no_item:!1,search_item:!1,display_primary:!0,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],diagnosisData:[],popoverOpen:!1,event:"",selectedCondition:"",selected:null,diagnoses:[],initialData:[]}),setup:()=>({checkmark:m,pulseOutline:u}),computed:{...n(fa,["OPDdiagnosis"]),primaryDiagnosisExists(){return this.OPDdiagnosis[0].selectedData.some(e=>6542===e.data.concept_id)},primaryInputField(){return this.OPDdiagnosis[0].data.rowData[0].colData},secondaryInputField(){return this.OPDdiagnosis[2].data.rowData[0].colData},differentialInputField(){return this.OPDdiagnosis[3].data.rowData[0].colData}},watch:{OPDdiagnosis:{handler(){this.setDashedBox()},deep:!0},patient:{handler(e){e&&this.resetDiagnosisList()},immediate:!0,deep:!0}},async mounted(){this.updateDiagnosisStores();const e=fa();this.initialData=e.getInitial(),this.setDashedBox(),await this.getDiagnosis("")},methods:{resetDiagnosisList(){this.OPDdiagnosis[0].selectedData=[],this.updateDiagnosisStores()},displayInputFields(){this.conditionStatus="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validaterowData(e={name:"secondaryDiagnosis"}){ze(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage",""),ze(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage",""),ze(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage","");const a=ba(this.OPDdiagnosis,"primaryDiagnosis","value"),t=ba(this.OPDdiagnosis,"secondaryDiagnosis","value"),n=ba(this.OPDdiagnosis,"differentialDiagnosis","value");if(a.name&&this.OPDdiagnosis[0].selectedData.some(e=>6542===e.data.concept_id))return ze(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage","Only one primary diagnosis can be added. Delete the existing one to change."),ya("Only one primary diagnosis is allowed. Delete one added if you want to change"),!1;const i=t&&t.length>0,o=n&&n.length>0;return i&&t.some(e=>e.name===a.name)?(ze(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage",`${a.name} is already selected as primary diagnosis.`),!1):o&&n.some(e=>e.name===a.name)?(ze(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage",`${a.name} is already selected as primary diagnosis.`),!1):i&&o&&t.some(e=>n.some(a=>a.name===e.name))?(ze(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage","Secondary and differential diagnoses cannot overlap."),!1):!(null==a||!a.name)||(ze(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage","Primary diagnosis is required."),!1)},async addNewRow(){await this.validaterowData()&&(this.buildDiagnosis(),this.search_item=!1,this.display_item=!0,this.addItemButton=!0,this.display_primary=!1,this.OPDdiagnosis[0].data.rowData[0].colData[0].value="",this.OPDdiagnosis[2].data.rowData[0].colData[0].value="",this.OPDdiagnosis[3].data.rowData[0].colData[0].value="",ze(this.OPDdiagnosis,"primaryDiagnosis","inputFieldDisplayNone",!1),ze(this.OPDdiagnosis,"primaryDiagnosis","colSize",""))},buildDiagnosis(){var e;const a=[],t=this.OPDdiagnosis[0].selectedData.map(e=>e.name);if(null!==(e=this.primaryInputField[0])&&void 0!==e&&null!==(e=e.value)&&void 0!==e&&e.name&&!t.includes(this.primaryInputField[0].value.name)){if(this.OPDdiagnosis[0].selectedData.some(e=>6542===e.data.concept_id))return ya("Only one primary diagnosis is allowed"),!1;a.push({actionBtn:!0,btn:["delete"],name:this.primaryInputField[0].value.name,id:this.primaryInputField[0].value.concept_id,display:[this.primaryInputField[0].value.name,"Primary diagnosis"],data:{concept_id:6542,value_coded:this.primaryInputField[0].value.concept_id,obs_datetime:Ue.getSessionDate()}})}return this.secondaryInputField[0].value&&this.secondaryInputField[0].value.forEach(e=>{t.includes(e.name)||a.push({actionBtn:!0,btn:["delete"],name:e.name,id:e.concept_id,display:[e.name,"Secondary diagnosis"],data:{concept_id:6543,value_coded:e.concept_id,obs_datetime:Ue.getSessionDate()}})}),this.differentialInputField[0].value&&this.differentialInputField[0].value.forEach(e=>{t.includes(e.name)||a.push({actionBtn:!0,btn:["delete"],name:e.name,id:e.concept_id,display:[e.name,"Differential diagnosis"],data:{concept_id:10201,value_coded:e.concept_id,obs_datetime:Ue.getSessionDate()}})}),a.length>0&&(this.OPDdiagnosis[0].selectedData=[...this.OPDdiagnosis[0].selectedData,...a]),!0},compareArrays:(e,a)=>e.reduce((e,t)=>{const n=a.find(e=>e.name===t.name);return n&&e.push(n.display[1]),e},[]),updateDiagnosisStores(){fa().setOPDDiagnosis(this.OPDdiagnosis)},openPopover(e){this.event=e,this.popoverOpen=!0},async handleInputData(e){ze(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage",""),ze(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage",""),ze(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage",""),await this.getDiagnosis(e.value),this.validaterowData(e)},async getDiagnosis(e){return this.diagnoses=await Ci.getDiagnosis(e,1,5),ze(this.OPDdiagnosis,"primaryDiagnosis","multiSelectData",this.diagnoses),ze(this.OPDdiagnosis,"secondaryDiagnosis","multiSelectData",this.diagnoses),ze(this.OPDdiagnosis,"differentialDiagnosis","multiSelectData",this.diagnoses),this.diagnoses},async onRefresh(e){(await this.getDiagnosis(e)).length>0&&je("Diagnoses selection list has been updated")},editDiagnosis(e){this.deleteDiagnosis(e),this.selectedText=e.name,this.OPDdiagnosis[0].data.rowData[0].colData[0].value=e.name,this.addItemButton=!1,this.search_item=!0,this.updateDiagnosisStores()},async openDeletePopover(e){await ga(`Do you want to delete ${e.name} ?`,e.event)&&this.deleteDiagnosis(e.name)},deleteDiagnosis(e){const a=this.OPDdiagnosis[0].selectedData,t=e.name,n=a.filter(e=>e.display[0]!==t),i=a.filter(e=>e.display[0]===t);this.OPDdiagnosis[0].selectedData=n,6542==i[0].data.concept_id&&(ze(this.OPDdiagnosis,"primaryDiagnosis","inputFieldDisplayNone",!1),ze(this.OPDdiagnosis,"primaryDiagnosis","colSize",""))},setDashedBox(){var e,a;(null!==(e=this.primaryInputField[0])&&void 0!==e&&null!==(e=e.value)&&void 0!==e&&e.name||null!==(a=this.primaryInputField[1])&&void 0!==a&&null!==(a=a.value)&&void 0!==a&&a.name)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.OPDdiagnosis[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0),this.addItemButton=!this.primaryDiagnosisExists}}}),Li={class:"custom_card",style:{padding:"10px"}},Mi={key:0},Bi={key:0,style:{color:"red","margin-top":"10px",background:"lightgoldenrodyellow"}},Pi={class:"ion-padding",slot:"content"};e("O",Ne(Oi,[["render",function(e,a,t,n,i,o){const l=p("DashBox"),s=p("list"),d=p("basic-form"),r=p("ion-row"),c=p("DynamicButton"),u=p("ion-label"),m=p("ion-item"),y=p("previousDiagnosis"),b=p("ion-accordion"),_=p("ion-accordion-group");return v(),h(S,null,[g("div",Li,[f(l,{status:e.no_item,content:"No Diagnosis added"},null,8,["status"]),e.display_item?(v(),h("span",Mi,[f(s,{listData:e.OPDdiagnosis[0].selectedData,"onClicked:edit":a[0]||(a[0]=a=>e.editDiagnosis(a)),"onClicked:delete":e.deleteDiagnosis},null,8,["listData","onClicked:delete"]),e.primaryDiagnosisExists?(v(),h("div",Bi," In order to update the diagnosis list, please remove/delete the primary diagnosis only and then re-add or change it along with the secondary and differential diagnoses. ")):k("",!0)])):k("",!0),e.search_item?(v(),D(r,{key:1},{default:w(()=>[f(d,{initialData:e.initialData,contentData:e.OPDdiagnosis,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,disabled:e.primaryDiagnosisExists,"onClicked:button":e.addNewRow,onSearchChange:e.getDiagnosis,onRefresh:a[1]||(a[1]=a=>e.onRefresh("a"))},null,8,["initialData","contentData","onUpdate:selected","onUpdate:inputValue","disabled","onClicked:button","onSearchChange"])]),_:1})):k("",!0),e.addItemButton?(v(),D(r,{key:2,style:{"margin-top":"10px"}},{default:w(()=>[f(c,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":a[2]||(a[2]=a=>e.displayInputFields()),name:"Add new Diagnosis"},null,8,["icon"])]),_:1})):k("",!0)]),f(r,null,{default:w(()=>[f(_,{ref:"accordionGroup",class:"previousView"},{default:w(()=>[f(b,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:w(()=>[f(m,{slot:"header",color:"light"},{default:w(()=>[f(u,{class:"previousLabel"},{default:w(()=>a[3]||(a[3]=[C("Previous Diagnosis")])),_:1,__:[3]})]),_:1}),g("div",Pi,[f(y)])]),_:1})]),_:1},512)]),_:1})],64)}],["__scopeId","data-v-e7cfdc2c"]]));const Ai=t({components:{IonButtons:pe,IonButton:E,IonModal:me,IonHeader:r,IonContent:c,IonToolbar:i,IonTitle:o,IonItem:d,IonList:s,IonAvatar:ue,IonImg:ce,IonLabel:ne,IonPage:re,IonMenu:l,BasicForm:Ha,IonFooter:de,DynamicButton:Re},data:()=>({popoverStatus:null}),props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{default:[]},popoverOpen:{type:Boolean,default:!1},event:{type:Event,default:""},title:{type:String,default:""}},methods:{dismiss(){le.dismiss()},nav(e,a){this.dismiss(),this.$router.push(e)}}}),Hi={class:"modal_wrapper"},Ni={class:"center text_12"},Ti=t({name:"Menu",components:{LabTestsHistory:Xa,CheckInConfirmationModal:_a,IonContent:c,IonHeader:r,IonItem:d,IonList:s,IonMenu:l,IonTitle:o,IonToolbar:i,List:Oe,DynamicButton:Re,DashBox:Fa,LabModal:Ya,LabViewResultsModal:Ne(Ai,[["render",function(e,a,t,n,i,o){const l=p("ion-title"),s=p("ion-button"),d=p("ion-buttons"),r=p("ion-toolbar"),c=p("ion-header"),u=p("ion-col"),m=p("ion-row"),y=p("ion-content"),b=p("ion-modal");return v(),D(b,{"is-open":e.popoverOpen,"show-backdrop":!0,onDidDismiss:a[1]||(a[1]=a=>e.$emit("closePopoover",!1)),"keyboard-close":e.keyboardClose},{default:w(()=>[f(c,null,{default:w(()=>[f(r,null,{default:w(()=>[f(l,null,{default:w(()=>[g("b",null,"Lab results for ("+$(e.content.item.name)+") test",1)]),_:1}),f(d,{slot:"end"},{default:w(()=>[f(s,{onClick:a[0]||(a[0]=a=>e.$emit("closeModal"))},{default:w(()=>a[2]||(a[2]=[C("Close")])),_:1,__:[2]})]),_:1})]),_:1})]),_:1}),f(y,{class:"ion-padding"},{default:w(()=>[g("div",Hi,[g("div",Ni,[f(m,null,{default:w(()=>[(v(!0),h(S,null,Y(e.content.item.item.result,(e,t)=>(v(),D(u,{size:"4",key:t},{default:w(()=>[f(m,null,{default:w(()=>[f(u,{size:"8"},{default:w(()=>[C($(e.indicator.name),1)]),_:2},1024),f(u,{class:"bold",size:"0.5"},{default:w(()=>a[3]||(a[3]=[C(":")])),_:1,__:[3]}),f(u,{class:"bold",size:"2"},{default:w(()=>[C($(e.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])])]),_:1})]),_:1},8,["is-open","keyboard-close"])}],["__scopeId","data-v-c2390e89"]]),SendToLabConfirmationModal:$a},computed:{...n(He,["patient"]),...n(Ka,["labResults"]),...n(Sa,["activeProgram"]),...n(Ca,["investigations"]),...n(Da,["patientsWaitingForVitals","patientsWaitingForConsultation","patientsWaitingForLab","patientsWaitingForDispensation"]),hasEnterResults(){return this.listOrders.some(e=>e.btn&&e.btn.includes("enter_results"))},hasPatientsWaitingForLab(){return Array.isArray(this.patientsWaitingForLab)&&this.patientsWaitingForLab.length>0}},props:{propOrders:{default:[]}},data:()=>({iconsContent:Te,valueNumericArray:[],obsDatetime:[],graphIcon:Pe(["#006401"]),listIcon:Be(["#636363"]),displayGraph:!0,sendToLabModalOpen:!1,orders:[],userRoles:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],listOrders:[],listResults:[],hasPatientsWaitingForLab:!1,listSeeMoreOrders:[],listSeeLessOrders:[],listSeeMoreResults:[],listSeeLessResults:[],listHeaderResults:"",labResultsContent:"",listHeaderOrders:"",service:"",openModal:!1,openResultsModal:!1,series:[{name:"",data:[]}]}),setup:()=>({checkmark:m,pulseOutline:u}),async mounted(){this.orders=this.propOrders,this.setListData(this.orders),this.service=new Ia(this.patient.patientID),this.userRoles=await Ue.getUserRoles()},watch:{patientsWaitingForLab(e){this.hasPatientsWaitingForLab=e.some(e=>e.patient_id===this.patient.patientID)},propOrders:{handler(){this.orders=this.propOrders,this.setListData(this.orders)},deep:!0},$route:{immediate:!0,handler(){this.updateLabList(),this.fetchPatientLabStageData()}}},methods:{toggleSendToLabModal(){this.sendToLabModalOpen=!this.sendToLabModalOpen},async fetchPatientLabStageData(){var e;const a=localStorage.getItem("locationID");if(!a)return void ya("Location ID could not be found. Please check your settings.");const t=Da();t.patientsWaitingForLab.length>=0&&await t.refresh(a),null!==(e=this.patient)&&void 0!==e&&e.patientID&&(this.hasPatientsWaitingForLab=t.patientsWaitingForLab.some(e=>e.patient_id===this.patient.patientID))},async handleSendToLabYes(){const e=localStorage.getItem("locationID");e?(await ka.movePatientToNextStage(this.patient.patientID,"CONSULTATION","LAB",e,this.patient.visitID||this.patient.visit_id),await Da().refresh(e),this.closeSendToLabModal(),await wa.push("home"),je("Lab orders submitted successfully. You may now attend to other patients.")):ya("Location ID could not be found. Please check your settings.")},async handleSendToLabNo(){this.toggleSendToLabModal()},closeSendToLabModal(){this.sendToLabModalOpen=!1},async updateLabList(){this.openModal=!1,this.orders=await xa.getOrders(this.patient.patientID),this.setListData(this.orders),this.updateInvestigationWizard()},async updateInvestigationWizard(){this.orders=await xa.getOrders(this.patient.patientID);const e=await this.orders.filter(e=>Le.toStandardHisFormat(Le.sessionDate())===Le.toStandardHisFormat(e.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},dismiss(){le.dismiss()},async voidLabOrder(e){await this.service.voidOrder(e.id,"Mistake entry"),this.updateLabList()},handleIcon(){},async openResultsForm(e){console.log(e.item.concept_id);const a=await Ga.getTestIndicatorsWithID(e.item.concept_id);console.log({testIndicators:a});const t=[e.item,{validationStatus:"",data:{rowData:[{colData:[]}]}}];a.forEach(e=>{let a={inputHeader:e.name,value:"",colSize:3,id:e.concept_id,name:e.name,required:!0,eventType:"input",alertsErrorMassage:""};if("RBS"==e.name&&(a={inputHeader:e.name,value:"",colSize:3,id:e.concept_id,name:e.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateRBS",unit:"mg/dL"}),"FBS"==e.name&&(a={inputHeader:e.name,value:"",colSize:3,id:e.concept_id,name:e.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateFBS",unit:"mg/dL"}),"MRDT"==e.name||"Tuberculosis program"==e.name||"Vdrl"==e.name||"Hepatitis B"==e.name||"Lam"==e.name||"CrAg"==e.name||"CD4 count"==e.name||"Leukocytes"==e.name||"Protein"==e.name||"Nitrite"==e.name||"Urine Ketones"==e.name||"HIV test"==e.name){let t=[];"MRDT"!=e.name&&"Vdrl"!=e.name&&"Hepatitis B"!=e.name&&"CrAg"!=e.name&&"Lam"!=e.name||(t=[{id:"1",name:"Positive"},{id:"2",name:"Negative"},{id:"3",name:"Invalid"}]),"Tuberculosis program"==e.name&&(t=[{id:"1",name:"Scanty"},{id:"2",name:"Negative"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"}]),"CD4 count"==e.name&&(t=[{id:"1",name:"below reference line"},{id:"2",name:"above reference line"}]),"Leukocytes"!=e.name&&"Protein"!=e.name&&"Nitrite"!=e.name&&"Ketones"!=e.name&&"Urine Ketones"!=e.name||(t=[{id:"2",name:"Negative"},{id:"1",name:"Trace"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"},{id:"6",name:"4+"}]),"HIV test"==e.name&&(t=[{id:"2",name:"Positive"},{id:"1",name:"Negative"},{id:"3",name:"Invalid"}]),a={inputHeader:e.name,icon:Te.search,value:"",name:"units",eventType:"input",alertsErrorMassage:"",isSingleSelect:!0,trackBy:"id",multiSelectData:t,id:e.concept_id,idName:"district_id"}}t[1].data.rowData[0].colData.push(a)}),Ka().setLabResults(t),this.openModal=!0,this.orders=await xa.getOrders(this.patient.patientID)},async viewLabOrder(e){console.log(" ~ openResultsForm ~ labResults:",e),this.labResultsContent=e,this.openResultsModal=!0},setActivClass(e){this.activeHeight="",this.activeBMI="",this.activeWeight="","height"==e?this.activeHeight="_active":"weight"==e?this.activeWeight="_active":"BMI"==e&&(this.activeBMI="_active")},setListData(e){const a={containSize:2.1,btnSize:1};this.listHeaderResults=this.generateListHeader(["Date","Accession Number","Lab Test","Specimen","Result"],a),this.listHeaderOrders=this.generateListHeader(["Date","Accession Number","Lab Test","Specimen"]),this.listSeeMoreResults=this.generateListItems(e,"result",!0,a),this.listSeeLessResults=this.generateListItems(e,"result",!1,a),this.listSeeMoreOrders=this.generateListItems(e,"order",!0),this.listSeeLessOrders=this.generateListItems(e,"order",!1),this.listResults=[this.listHeaderResults,...this.listSeeLessResults],this.listOrders=[this.listHeaderOrders,...this.listSeeLessOrders]},generateListHeader:(e,a={})=>({containSize:null==a?void 0:a.containSize,btnSize:null==a?void 0:a.btnSize,class:"",header:!0,minHeight:"--min-height: 25px;",display:e}),generateListItems(e,a,t,n={}){let i=0;return e.length>0?e.flatMap(e=>e.tests.flatMap(o=>{var l,s;let d=null;var r,c;if(1==(null==o||null===(l=o.result)||void 0===l?void 0:l.length)?d=null!=(null==o?void 0:o.result)?(null==o||null===(r=o.result[0])||void 0===r?void 0:r.value_modifier)+(null==o||null===(c=o.result[0])||void 0===c?void 0:c.value):null:(null==o||null===(s=o.result)||void 0===s?void 0:s.length)>1&&(d=null==o?void 0:o.result),""==d&&console.log(" ~ returnitem.tests.flatMap ~ result:",o),"result"===a&&null!==d||"order"===a&&null===d){const l={containSize:null==n?void 0:n.containSize,btnSize:null==n?void 0:n.btnSize,btn:"order"===a?["enter_results","attach","print","delete"]:["print","delete"],minHeight:"--min-height: 25px;",class:"",id:e.order_id,name:o.name,item:o,display:"order"==a?[Le.toStandardHisFormat(e.order_date),e.accession_number,o.name,e.specimen.name]:[Le.toStandardHisFormat(e.order_date),e.accession_number,o.name,e.specimen.name,d]};if(t||i<2)return i++,[l]}return[]})):[]},seeOrderStatus(e){"more"==e?this.listResults=[this.listHeaderResults,...this.listSeeMoreResults]:"less"==e&&(this.listResults=[this.listHeaderResults,...this.listSeeLessResults])},seeResultsStatus(e){"more"==e?this.listOrders=[this.listHeaderOrders,...this.listSeeMoreOrders]:"less"==e&&(this.listOrders=[this.listHeaderOrders,...this.listSeeLessOrders])}}}),Fi={key:1,class:"modal_wrapper"},Vi={style:{"--background":"#fff"}},Ri={key:0,style:{"margin-top":"5px"}},zi={key:1,style:{"margin-top":"5px"}},Ui={key:2,class:"modal_wrapper"},qi={class:"scrollable-container"},Wi={key:0,style:{"margin-top":"5px"}},ji={key:1,style:{"margin-top":"5px"}},$i={key:3},Yi={key:0},Gi={key:1},Ki=e("l",Ne(Ti,[["render",function(e,a,t,n,i,o){const l=p("SendToLabConfirmationModal"),s=p("DashBox"),d=p("LabTestsHistory"),r=p("DynamicButton"),c=p("list"),u=p("LabModal"),m=p("LabViewResultsModal");return v(),h(S,null,[f(l,{closeModalFunc:e.closeSendToLabModal,onYes:e.handleSendToLabYes,onNo:e.handleSendToLabNo,isOpen:e.sendToLabModalOpen,title:"Confirm sending patient to lab"},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.listResults.length<1&&e.listOrders.length<1?(v(),D(s,{key:0,content:"No Investigations added "})):k("",!0),e.listResults.length>1?(v(),h("div",Fi,[a[7]||(a[7]=g("div",{style:{"font-weight":"1000"}},"Lab investigations history",-1)),g("div",Vi,[f(d)]),e.listResults.length<=4&&e.listSeeMoreResults.length>=4?(v(),h("div",Ri,[f(r,{onClick:a[0]||(a[0]=a=>e.seeOrderStatus("more")),name:"Show More Lab Results",fill:"clear",iconSlot:"icon-only"})])):e.listResults.length>=5?(v(),h("div",zi,[f(r,{onClick:a[1]||(a[1]=a=>e.seeOrderStatus("less")),name:"Show Less Lab Results",fill:"clear",iconSlot:"icon-only"})])):k("",!0)])):k("",!0),e.listOrders.length>1?(v(),h("div",Ui,[a[8]||(a[8]=g("div",{style:{"font-weight":"700"}},"Lab Orders",-1)),g("div",qi,[f(c,{listData:e.listOrders.map(a=>({...a,disabledEnterResults:e.hasPatientsWaitingForLab&&14===e.activeProgram.program_id&&("Clinician"===e.userRoles||"Superuser"===e.userRoles)})),"onClicked:delete":e.voidLabOrder,"onClicked:results":e.openResultsForm},null,8,["listData","onClicked:delete","onClicked:results"])]),e.listOrders.length<=4&&e.listSeeMoreOrders.length>=4?(v(),h("div",Wi,[f(r,{onClick:a[2]||(a[2]=a=>e.seeResultsStatus("more")),name:"Show More Lab Orders",fill:"clear",iconSlot:"icon-only"})])):k("",!0),e.listOrders.length>=5?(v(),h("div",ji,[f(r,{onClick:a[3]||(a[3]=a=>e.seeResultsStatus("less")),name:"Show Less Lab Orders",fill:"clear",iconSlot:"icon-only"})])):k("",!0)])):k("",!0),14==e.activeProgram.program_id&&e.hasEnterResults?(v(),h("div",$i,[e.hasPatientsWaitingForLab?(v(),h("div",Yi,[f(r,{class:"no-margin-left",fill:"solid",color:"danger",icon:"notification_icon",iconSlot:"icon-only",name:"Please enter the results once done, then send the patient back to consultation by clicking Finish button below."})])):(v(),h("div",Gi,[f(r,{fill:"solid",color:"success",icon:e.iconsContent.plus,iconSlot:"icon-only",onClick:a[4]||(a[4]=a=>e.toggleSendToLabModal()),name:"Send to Lab"},null,8,["icon"])]))])):k("",!0),f(u,{popoverOpen:e.openModal,onSaved:e.updateLabList,onCloseModal:a[5]||(a[5]=a=>e.openModal=!1)},null,8,["popoverOpen","onSaved"]),f(m,{popoverOpen:e.openResultsModal,content:e.labResultsContent,onCloseModal:a[6]||(a[6]=a=>e.openResultsModal=!1)},null,8,["popoverOpen","content"])],64)}],["__scopeId","data-v-cd58a077"]])),Ji=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Skull",value:"Skull",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Mastoid",value:"Mastoid",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"ParaSinuses",value:"ParaSinuses",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Optic Foramen",value:"PVD",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Orbits",value:"Orbits",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Nasal Bone",value:"Nasal Bone",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Mandible",value:"Mandible",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"TMJs",value:"TMJs",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Zygomatic",value:"Zygomatic",checked:!1}]}}],Xi=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Neck",value:"Neck",checked:!1}]}}],Zi=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Chest",value:"Chest",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Heart",value:"Heart",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Sternum",value:"Sternum",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Ribs",value:"Ribs",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"SCJ",value:"SCJ",checked:!1}]}}],Qi=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Abdomen",value:"Abdomen",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"IVP",value:"IVP",checked:!1}]}}],eo=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Clavicle",value:"Clavicle",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Shoulder",value:"Shoulder",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Scapula",value:"Scapula",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Humerus",value:"Humerus",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Elbow",value:"Elbow",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Forearm",value:"Forearm",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Wrist",value:"Wrist",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Hand",value:"Hand",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Phalanges",value:"Phalanges",checked:!1}]}}],ao=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"CSpine",value:"CSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"TSpine",value:"TSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"LSpine",value:"LSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"SSpine",value:"SSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Coccyx",value:"Coccyx",checked:!1}]}}],to=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Pelvis",value:"Pelvis",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Sacroillac Joints",value:"Sacroillac Joints",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Hip",value:"Hip",checked:!1}]}}],no=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Femur",value:"Femur",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Knee",value:"Knee",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Patella",value:"Patella",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Leg",value:"Leg",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Ankle",value:"Ankle",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Calcaneus",value:"Calcaneus",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Foot",value:"Foot",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Toe",value:"Toe",checked:!1}]}}],io=he("RadiologyStore",{state:()=>({head:[...Ji],neck:[...Xi],chest:[...Zi],abdomen:[...Qi],upper_extremity:[...eo],spine:[...ao],pelvis:[...to],lower_extremity:[...no]}),actions:{setOPDDiagnosis(e){this.head=e},getInitial:()=>[...Na.cloneDeep(Ji)]}}),oo=["innerHTML"],lo={class:"scrollable-container"},so={key:0,class:"form-section"},ro={key:1,class:"form-section"},co={key:2,class:"form-section"},uo={key:3,class:"form-section"},mo={key:4,class:"form-section"},po={key:5,class:"form-section"},ho={key:6,class:"form-section"},vo={key:7,class:"form-section"},go=t({name:"Menu",mixins:[za],components:{IonContent:c,IonHeader:r,IonItem:d,IonList:s,IonMenu:l,IonTitle:o,IonToolbar:i,IonInput:X,IonPopover:se,DashBox:Fa,SelectionPopover:va,BasicInputField:ua,BasicForm:Ha,List:Oe,DynamicButton:Re,labOrderResults:Ki,RadiologyInvestigation:Ne(t({__name:"RadiologyInvestigation",setup(e){const a=io(),{head:t,neck:n,chest:i,abdomen:o,upper_extremity:l,spine:s,pelvis:d,lower_extremity:r}=y(a),c=b(Te),u=b([]),m=(e,a,t)=>{document.querySelectorAll(`#${e} path`).forEach(e=>{e.classList.toggle("white-fill")}),document.querySelectorAll(`#${a} line`).forEach(e=>{e.classList.toggle("dark-green-stroke")}),document.querySelectorAll(`#${a} rect`).forEach(e=>{e.classList.toggle("bright-green-fill"),e.classList.toggle("dark-green-stroke")}),document.querySelectorAll(`#${a} path`).forEach(e=>{e.classList.toggle("dark-green-fill")}),document.querySelectorAll(`#${a} circle`).forEach(e=>{e.classList.toggle("bright-green-fill")});const n=u.value.findIndex(e=>e.id===t);n>=0?u.value.splice(n,1):u.value.unshift({id:t,active:!0})},_=()=>{const e=document.getElementById("SPINE");"none"===e.style.display||""==e.style.display?e.style.display="block":e.style.display="none",m("SPINE","SPINE_LABEL-2","spine")};return x(()=>{const e=document.getElementById("HEAD");e&&e.addEventListener("click",()=>{m("HEAD","LABEL-6","head")});const a=document.getElementById("NECK");a&&a.addEventListener("click",()=>{m("NECK","LABEL-5","neck")});const t=document.getElementById("CHEST");t&&t.addEventListener("click",()=>{m("CHEST","LABEL-4","chest")});const n=document.getElementById("ABDOMEN_LABEL");n&&n.addEventListener("click",()=>{const e=document.getElementById("ABDOMEN-2");"none"===e.style.display||""==e.style.display?e.style.display="block":e.style.display="none",m("ABDOMEN","ABDOMEN_LABEL-2","abdomen")});const i=document.getElementById("UPPER_EXTRMITY");i&&i.addEventListener("click",()=>{m("UPPER_EXTRMITY","LABEL-3","upper_extremity")});const o=document.getElementById("SPINE"),l=document.getElementById("SPINE_LABEL"),s=document.getElementById("LOWER_SPINE_INACTIVE");o&&o.addEventListener("click",()=>{_()}),l&&l.addEventListener("click",()=>{_()}),s&&s.addEventListener("click",()=>{_()});const d=document.getElementById("PELVIS");d&&d.addEventListener("click",()=>{m("PELVIS","LABEL-2","pelvis")});const r=document.getElementById("LOWER_EXTREMITY");r&&r.addEventListener("click",()=>{m("LOWER_EXTREMITY","LABEL","lower_extremity")})}),(e,a)=>{const m=p("ion-col"),y=p("ion-row");return v(),D(y,null,{default:w(()=>[f(m,{size:"7"},{default:w(()=>[g("div",{innerHTML:c.value.full_body_sk},null,8,oo)]),_:1}),f(m,{size:"5",class:"form-column"},{default:w(()=>[g("div",lo,[(v(!0),h(S,null,Y(u.value,e=>(v(),h(S,null,["head"===e.id?(v(),h("div",so,[a[0]||(a[0]=g("h6",null,"Body Part: Head",-1)),f(Ha,{contentData:I(t)},null,8,["contentData"])])):"neck"===e.id?(v(),h("div",ro,[a[1]||(a[1]=g("h6",null,"Body Part: Neck",-1)),f(Ha,{contentData:I(n)},null,8,["contentData"])])):"chest"===e.id?(v(),h("div",co,[a[2]||(a[2]=g("h6",null,"Body Part: Chest",-1)),f(Ha,{contentData:I(i)},null,8,["contentData"])])):"abdomen"===e.id?(v(),h("div",uo,[a[3]||(a[3]=g("h6",null,"Body Part: Abdomen",-1)),f(Ha,{contentData:I(o)},null,8,["contentData"])])):"upper_extremity"===e.id?(v(),h("div",mo,[a[4]||(a[4]=g("h6",null,"Body Part: Upper Extremity",-1)),f(Ha,{contentData:I(l)},null,8,["contentData"])])):"spine"===e.id?(v(),h("div",po,[a[5]||(a[5]=g("h6",null,"Body Part: Spine",-1)),f(Ha,{contentData:I(s)},null,8,["contentData"])])):"pelvis"===e.id?(v(),h("div",ho,[a[6]||(a[6]=g("h6",null,"Body Part: Pelvis",-1)),f(Ha,{contentData:I(d)},null,8,["contentData"])])):"lower_extremity"===e.id?(v(),h("div",vo,[a[7]||(a[7]=g("h6",null,"Body Part: Lower Extremity",-1)),f(Ha,{contentData:I(r)},null,8,["contentData"])])):k("",!0)],64))),256))])]),_:1})]),_:1})}}}),[["__scopeId","data-v-4e8419f9"]])},data:()=>({iconsContent:Te,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",labOrders:"",filteredSpecimen:"",testData:[],popoverOpen:!1,labOrderStatus:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}),setup:()=>({checkmark:m,pulseOutline:u}),computed:{...n(Ca,["investigations"]),...n(He,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0},patient:{async handler(){this.labOrders=await xa.getOrders(this.patient.patientID)},deep:!0},$route:{async handler(){await this.getTests()},deep:!0}},async mounted(){await this.getTests(),this.updateInvestigationsStores(),this.setDashedBox(),this.updateInvestigationWizard()},methods:{async getTests(){let e;e=Ue.getUseIndexDBStatus()&&Ue.getModsStatus()?await Ea("testTypes"):await xa.getTestTypes(),ze(this.investigations,"test","multiSelectData",e)},async onRefresh(){try{const e=await xa.getTestTypesViaDirectAPICall();ze(this.investigations,"test","multiSelectData",e),je("Test Types Selection list has been updated")}catch(e){ya("Could not fetch test types")}},toggleLabOrderStatus(){this.labOrderStatus=!this.labOrderStatus},async updateInvestigationWizard(){this.labOrders=await xa.getOrders(this.patient.patientID);const e=await this.labOrders.filter(e=>Le.toStandardHisFormat(Le.sessionDate())===Le.toStandardHisFormat(e.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},async updateInvestigationsStores(){await this.updateInvestigationWizard(),Ca().setInvestigations(this.investigations)},displayInputFields(e=!0){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!e,this.search_item=e},async validateRowData(){return Za(this.investigations)},async checkTest(){return await this.isNameInData(this.inputFields[0].value.name,await this.investigations[0].selectedData)?(ze(this.investigations,"test","alertsErrorMassage","Lab order already selected"),!1):(ze(this.investigations,"test","alertsErrorMassage",""),!0)},async addNewRow(){Za(this.investigations)&&await this.checkTest()&&(await this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.updateInvestigationWizard()},isNameInData(e,a){for(let t of a)for(let a of t.tests)if(a.name===e)return!0;return!1},async saveTest(){const e=new Ja;await e.postActivities(this.patient.patientID,[{concept_id:this.inputFields[0].value.concept_id,name:this.inputFields[0].value.name,specimen:this.inputFields[1].value.name,reason:"Routine",specimenConcept:await $e.getConceptID(this.inputFields[1].value.name,!0)}]),ze(this.investigations,"specimen","disabled",!0),this.labOrders=await xa.getOrders(this.patient.patientID)},async handleInputData(e){"Test"==e.inputHeader&&this.checkTest(),ze(this.investigations,"specimen","alertsErrorMassage",""),"Test"==e.inputHeader&&e.value&&(this.specimen=await xa.getSpecimens(e.value.name),1==this.specimen.length?(ze(this.investigations,"specimen","value",this.specimen[0]),ze(this.investigations,"specimen","disabled",!0)):(ze(this.investigations,"specimen","value",""),ze(this.investigations,"specimen","disabled",!1)),ze(this.investigations,"specimen","multiSelectData",this.specimen))},async filterTest(e){return await this.labOrders.filter(a=>a.name.toLowerCase().includes(e.toLowerCase()))},async filterSpecimen(e){var a;return null!==(a=this.specimen[0])&&void 0!==a&&a.name&&e?await this.specimen.filter(a=>null==a?void 0:a.name.toLowerCase().includes(e.toLowerCase())):[]},setTest(e){this.selectedText=e.name,"Test"==this.inputFields[1].inputHeader?this.investigations[0].data.rowData[0].colData[0].value=e.name:this.investigations[0].data.rowData[0].colData[1].value=e.name,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[1].value||this.inputFields[0].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),fo={class:"ion-padding",slot:"content",style:{"margin-bottom":"125px"}},yo={key:0},bo={class:"ion-padding",slot:"content"};e("I",Ne(go,[["render",function(e,a,t,n,i,o){const l=p("ion-label"),s=p("ion-item"),d=p("labOrderResults"),r=p("basic-form"),c=p("DynamicButton"),u=p("ion-row"),m=p("ion-accordion"),y=p("ion-accordion-group"),b=p("RadiologyInvestigation");return v(),h(S,null,[f(y,{ref:"accordionGroup",class:"previousView",value:"first"},{default:w(()=>[f(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:w(()=>[f(s,{slot:"header",color:"light"},{default:w(()=>[f(l,{class:"previousLabel"},{default:w(()=>a[2]||(a[2]=[C("Lab Investigations")])),_:1,__:[2]})]),_:1}),g("div",fo,[g("span",null,[f(d,{propOrders:e.labOrders},null,8,["propOrders"])]),e.search_item?(v(),h("span",yo,[f(r,{contentData:e.investigations,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,"onClicked:button":e.addNewRow,onRefresh:e.onRefresh},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","onClicked:button","onRefresh"])])):k("",!0),e.addItemButton&&"Lab"!=e.userRole?(v(),D(u,{key:1,style:{"margin-top":"10px"}},{default:w(()=>[f(c,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":a[0]||(a[0]=a=>e.displayInputFields()),name:"Add new test"},null,8,["icon"])]),_:1})):k("",!0),e.search_item?(v(),D(u,{key:2},{default:w(()=>[f(c,{fill:"clear",icon:e.iconsContent.redXclose,iconSlot:"icon-only","onClicked:btn":a[1]||(a[1]=a=>e.displayInputFields(!1)),name:"cancel"},null,8,["icon"])]),_:1})):k("",!0)])]),_:1})]),_:1},512),"Lab"!=e.userRole?(v(),D(y,{key:0,ref:"accordionGroup",class:"previousView"},{default:w(()=>[f(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:w(()=>[f(s,{slot:"header",color:"light"},{default:w(()=>[f(l,{class:"previousLabel"},{default:w(()=>a[3]||(a[3]=[C("Radiology Investigation")])),_:1,__:[3]})]),_:1}),g("div",bo,[f(b)])]),_:1})]),_:1},512)):k("",!0),"Lab"!=e.userRole?(v(),D(y,{key:1,ref:"accordionGroup",class:"previousView"},{default:w(()=>[f(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:w(()=>[f(s,{slot:"header",color:"light"},{default:w(()=>[f(l,{class:"previousLabel"},{default:w(()=>a[4]||(a[4]=[C("Other Investigation")])),_:1,__:[4]})]),_:1}),a[5]||(a[5]=g("div",{class:"ion-padding",slot:"content"},null,-1))]),_:1,__:[5]})]),_:1},512)):k("",!0)],64)}],["__scopeId","data-v-1ea6464c"]]));const _o={class:"allergies-section"},xo={class:"allergies-container"},ko={key:0,class:"allergies-grid"},Do={key:1,class:"no-allergies"},wo={class:"ion-padding",slot:"content"},Io={key:0},Co={class:"previousSecDrgs"},So={class:"ion-padding",slot:"content"},Eo={class:"previousSecDrgs"},Oo={class:"medication-section"},Lo={class:"medication-content"},Mo={key:0,class:"add-medication-form"},Bo={class:"form-group"},Po={class:"option-label"},Ao={key:0,class:"error-message"},Ho={class:"form-row"},No={class:"form-group"},To={key:0,class:"error-message"},Fo={class:"form-group"},Vo={key:0,class:"error-message"},Ro={class:"form-group"},zo={key:0,class:"error-message"},Uo={class:"action-buttons"},qo={class:"notes-section"},Wo={class:"notes-content"},jo={class:"notes-input-container"},$o={class:"ion-padding",slot:"content"},Yo={class:"notes-timeline"},Go={class:"note-date"},Ko={class:"note-content"},Jo={class:"ion-padding",slot:"content"},Xo={class:"note-date"},Zo={class:"note-content"},Qo=t({watch:{},name:"xxxComponent"}),el=t({...Qo,setup(e){const a=Te,t=Qa,n=b(!1),i=b(!1),o=b(!0),l=b(0),r=b(""),c=b(!1),u=b(""),m=b(!1),y=b(),E=b(!1),L=b(""),B=b(""),P=b(""),A=b(""),H=b(""),N=b("");b(!1),b("Show more medications");const T=Oa(),F=Je(),V=_(()=>F.selectedMedicalAllergiesList),R=_(()=>T.selectedMedicalDrugsList),U=_(()=>T.partialOPDdrugList),q=_(()=>T.nonPharmalogicalTherapyAndOtherNotes),j=["first","second","third"],K=b(),J=b(),Z=b(),Q=b(!1),ee=b(!1),ie=b(!1),oe=b("Show more notes"),le=b("Show more allergies"),se=b(),de=b(),re=b(),ce=_(()=>T.editingDrugItem),ue=b("Select a route"),me=b(!1),pe=b("Select frequency"),he=b(!1),De=b("Select drug"),we=b(!1),Ie=b(),Ce=b(),Se=b(),Ee=b([]),Oe=b([{concept_id:11797,name:"Buccal",concept_name_id:null,id:1769},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:6284},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:6285},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:6286},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:6295},{concept_id:3327,name:"Oral",concept_name_id:null,id:8686},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:8920},{concept_id:11792,name:"Rectally",concept_name_id:null,id:10785},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:12342},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:12344},{concept_id:11792,name:"Rectally",concept_name_id:null,id:14078},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:14079},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:14080},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:14081},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:14082},{concept_id:11797,name:"Buccal",concept_name_id:null,id:14083},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:14084},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:14085},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:14086}]),Le=_(()=>Ee.value.length?Ee.value:Oe.value);async function Me(){return await et()}function Be(){o.value=!o.value,n.value=!0,m.value=!1,E.value=!1}async function Pe(){const e=await async function(){return(await async function(e){let a;a=void 0===e.target?e:e.target.value;const t=1,n=10,i=await at.getOPDDrugs({name:encodeURIComponent(a),page:t,page_size:n});return i.map(e=>({label:e.name,value:e.name,other:e})),i}(L.value)).length>0&&0!=L.value.length}();return console.log({drugNameExists:e}),e?c.value=!1:(r.value="please select a valid drug name",c.value=!0),c.value}async function Ae(){return $e(P.value)?E.value=!1:(y.value="please enter a number",E.value=!0),E.value}async function He(){const e=await Pe(),a=await Ae(),t=1==Na.isEmpty(Ce.value)?(he.value=!0,!1):0==Na.isEmpty(Ce.value)?(he.value=!1,!0):void 0,n=1==Na.isEmpty(Se.value)?(we.value=!0,!1):0==Na.isEmpty(Se.value)?(we.value=!1,!0):void 0,i=1==Na.isEmpty(Ie.value)?(me.value=!0,!1):0==Na.isEmpty(Ie.value)?(me.value=!1,!0):void 0;return!e&&!a&&1==t&&1==n&&1==i}async function Ne(){const e=()=>null!=re.value.dose_strength&&re.value.dose_strength?Math.trunc(re.value.dose_strength):1;if(null!==ce.value){if(!(await He()))return void We("Please enter correct data values",4e3);const a=Ye(Ue.getSessionDate(),parseInt(P.value));let t=!1;1==Fe(re.value)&&(t=!0);const n={drugName:L.value,dose:e(),frequency:Ce.value.label,frequency_code:Ce.value.code,duration:P.value,prescription:a,drug_id:N.value,units:H.value,route_concept_id:Ie.value.concept_id,route_name:Ie.value.name,highlightbackground:t},i=Oa();console.log(i.setSelectedMedicalDrugsList([n])),i.editingDrugItem=null,o.value=!0}else{if(!(await He()))return void We("Please enter correct data values",4e3);n.value=!1,i.value=!0,o.value=!0;const a=Ye(Ue.getSessionDate(),parseInt(P.value));let t=!1;1==Fe(re.value)&&(t=!0);const l={drugName:L.value,dose:e(),frequency:Ce.value.label,frequency_code:Ce.value.code,duration:P.value,prescription:a,drug_id:N.value,units:H.value,route_concept_id:Ie.value.concept_id,route_name:Ie.value.name,highlightbackground:t};Oa().setSelectedMedicalDrugsList([l])}N.value="",L.value="",B.value="",Ce.value=null,P.value="",A.value="",l.value++,Se.value=null,Ie.value=null}function Fe(e){const a=[];return V.value.forEach(e=>{e.selected&&a.push(e.concept_id)}),1==function(e,a){try{return e.some(e=>a.includes(e.concept_id))}catch(t){return!1}}([e],a)&&(We("Client is allergic to the selected medication",4e3),!0)}function Ve(e){const a=R.value[e],t=Oa();t.removeDrugById(a.drug_id),t.editingDrugItem=a,N.value="",L.value="",B.value="",Ce.value=null,P.value="",A.value="",Se.value=null,Ie.value=null,N.value=a.drug_id,L.value=a.drugName,B.value=a.dose,Ce.value={label:a.frequency,code:a.frequency_code},P.value=a.duration,A.value=a.prescription;const n=U.value.find(e=>e.name===a.drugName);n&&(Se.value=n),Ie.value={concept_id:a.route_concept_id,name:a.route_name},o.value=!1,l.value++}function ze(){if(null!==ce.value){N.value="",L.value="",B.value="",Ce.value=null,P.value="",A.value="",Se.value=null,Ie.value=null;const e=Oa();e.setSelectedMedicalDrugsList([ce.value]),e.editingDrugItem=null}o.value=!0,l.value++}function qe(e){R.value.splice(e,1),l.value++,We("you have removed a drug from list",6e3)}function je(e){!function(e){Oa().setNonPharmalogicalTherapyAndOtherNotes(e)}(e.target.value)}function $e(e){return/^[0-9]+$/.test(e)}function Ye(e,a){const t=new Date(e);return t.setDate(t.getDate()+a),`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function Ge(e){j.filter(a=>a!==e.detail.value);const a=e.detail.value;void 0!==a?"third"==a&&(oe.value="Show less notes",ee.value=!Q.value):(oe.value="Show more notes",ee.value=!Q.value)}function Ke(e){j.filter(a=>a!==e.detail.value);const a=e.detail.value;void 0!==a?"fith"==a&&(le.value="Show less allegies",ie.value=!Q.value):(le.value="Show more allegies",ie.value=!Q.value)}function Xe(e){return e[1]}function Ze(e){"Enter"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),Ne())}x(async()=>{const e=new Ua,{previousDrugPrescriptions:a,previousClinicalNotes:t,previousDrugAllergies:n}=await e.getPatientEncounters();K.value=a,J.value=Object.entries(t)[0];const[,...i]=Object.entries(t);Z.value=i,se.value=Object.entries(n)[0];const[,...o]=Object.entries(n);de.value=o,await async function(e=5,a=1e3){let t=0;for(;t<e&&(Ee.value=await Me(),!(Ee.value.length>0));)t++,await new Promise(e=>setTimeout(e,a));0===Ee.value.length&&console.warn("Failed to fetch route list after maximum retries.")}()}),G(()=>L.value,async e=>{Pe()}),G(()=>B.value,async e=>{!async function(){$e(B.value)?m.value=!1:(u.value="please enter a number",m.value=!0),m.value}()}),G(()=>P.value,async e=>{Ae()});const Qe=_(()=>[{showAddItemButton:!0,addItemButton:!0,name:null!==ce.value?"Update":"ADD",btnFill:"clear",fn:Ne},{showAddItemButton:!0,addItemButton:!0,name:"CANCEL",btnFill:"clear",fn:ze}]);return(e,n)=>{const i=p("ion-chip"),r=p("ion-text");return v(),D(I(s),null,{default:w(()=>[g("div",_o,[f(I(ne),{class:"section-title"},{default:w(()=>[f(I(O),{icon:I(W),class:"alert-icon"},null,8,["icon"]),f(I(ne),null,{default:w(()=>n[9]||(n[9]=[C("Allergies (Medication, Healthcare items, Environment and Food)")])),_:1,__:[9]})]),_:1}),g("div",xo,[V.value.some(e=>e.selected)?(v(),h("div",ko,[(v(!0),h(S,null,Y(V.value,(e,a)=>ve((v(),h("div",{key:a,class:"allergy-item"},[f(i,{class:"allergy-chip",color:"danger"},{default:w(()=>[f(I(ne),null,{default:w(()=>[C($(e.name),1)]),_:2},1024),f(I(O),{icon:I(ge)},null,8,["icon"])]),_:2},1024)])),[[fe,e.selected]])),128))])):(v(),h("div",Do,[f(r,{style:{"font-size":"16px","font-weight":"600",color:"#9c8011"}},{default:w(()=>n[10]||(n[10]=[C("No allergies recorded")])),_:1,__:[10]})])),f(I(ae),{ref:"accordionGroup",class:"previousView"},{default:w(()=>[f(I(te),{value:"fourth","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:w(()=>[f(I(d),{slot:"header",color:"light"},{default:w(()=>[f(I(ne),{class:"previousLabel"},{default:w(()=>n[11]||(n[11]=[C("Documented allergies timeline")])),_:1,__:[11]})]),_:1}),g("div",wo,[(v(!0),h(S,null,Y(se.value,(e,a)=>(v(),h("div",{class:"ionLbltp",key:a},[1==a?(v(),h("div",Io,[g("div",null,[f(I(ne),{class:"previousLabelDate"},{default:w(()=>[C($(e[0].date),1)]),_:2},1024)]),(v(!0),h(S,null,Y(e,(e,a)=>(v(),h("div",{key:a},[g("div",Co,[f(I(s),null,{default:w(()=>[f(I(ne),{class:"notes_p"},{default:w(()=>[C($(e.value),1)]),_:2},1024)]),_:2},1024)])]))),128))])):k("",!0)]))),128)),f(I(ae),{onIonChange:Ke},{default:w(()=>[f(I(te),{value:"fith","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:w(()=>[f(I(d),{slot:"header",color:"light"},{default:w(()=>[f(I(ne),{class:"",color:"primary"},{default:w(()=>[C($(le.value),1)]),_:1})]),_:1}),g("div",So,[(v(!0),h(S,null,Y(de.value,(e,a)=>(v(),h("div",{class:"ionLbltp",key:a},[g("div",null,[f(I(ne),{class:"previousLabelDate"},{default:w(()=>[C($(e[0]),1)]),_:2},1024)]),(v(!0),h(S,null,Y(Xe(e),(e,a)=>(v(),h("div",{key:a},[g("div",Eo,[f(I(s),null,{default:w(()=>[f(I(ne),{class:"notes_p"},{default:w(()=>[C($(e.value),1)]),_:2},1024)]),_:2},1024)])]))),128))]))),128))])]),_:1})]),_:1})])]),_:1})]),_:1},512)])]),g("div",Oo,[f(I(d),{lines:"none",class:"section-header"},{default:w(()=>[f(I(O),{icon:I(z),class:"section-icon"},null,8,["icon"]),f(I(ne),{class:"section-title",style:{"margin-top":"12px"}},{default:w(()=>n[12]||(n[12]=[C("Medication")])),_:1,__:[12]})]),_:1}),g("div",Lo,[(v(),D(qa,{_selectedMedicalDrugsList:R.value,onEditItem:Ve,onRemoveItem:qe,key:l.value,class:"medication-list"},null,8,["_selectedMedicalDrugsList"])),o.value?k("",!0):(v(),h("div",Mo,[g("div",Bo,[n[13]||(n[13]=g("label",{class:"input-label"},"Medication",-1)),f(I(ye),{modelValue:Se.value,"onUpdate:modelValue":[n[0]||(n[0]=e=>Se.value=e),n[1]||(n[1]=e=>{var a;(a=e)&&(L.value=a.name,N.value=a.drug_id,H.value=a.units,re.value=a,Fe(a))})],options:U.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select medication",label:"name","track-by":"drug_id",onSearchChange:n[2]||(n[2]=e=>async function(e){const a=e,t=await at.getOfflineOPDDrugs({name:a,page:1,page_size:10});t.map(e=>({label:e.name,value:e.name,other:e})),T.setPartialOPDdrugList(t)}(e))},{option:w(e=>[g("div",Po,$(e.option.name),1)]),_:1},8,["modelValue","options"]),we.value?(v(),h("div",Ao,$(De.value),1)):k("",!0)]),g("div",Ho,[g("div",No,[n[14]||(n[14]=g("label",{class:"input-label"},"Route",-1)),f(I(ye),{modelValue:Ie.value,"onUpdate:modelValue":[n[3]||(n[3]=e=>Ie.value=e),n[4]||(n[4]=e=>{return a=e,void(Ie.value=a);var a})],options:Le.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select route",label:"name","track-by":"concept_id"},null,8,["modelValue","options"]),me.value?(v(),h("div",To,$(ue.value),1)):k("",!0)]),g("div",Fo,[n[15]||(n[15]=g("label",{class:"input-label"},"Frequency",-1)),f(I(ye),{modelValue:Ce.value,"onUpdate:modelValue":[n[5]||(n[5]=e=>Ce.value=e),n[6]||(n[6]=e=>{return a=e,void(Ce.value=a);var a})],options:I(t),searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select frequency",label:"label","track-by":"code"},null,8,["modelValue","options"]),he.value?(v(),h("div",Vo,$(pe.value),1)):k("",!0)]),g("div",Ro,[n[16]||(n[16]=g("label",{class:"input-label"},"Duration (days)",-1)),f(I(X),{modelValue:P.value,"onUpdate:modelValue":n[7]||(n[7]=e=>P.value=e),type:"number",inputmode:"numeric",pattern:"[0-9]*",fill:"outline",placeholder:"Enter duration",onKeydown:Ze},null,8,["modelValue"]),E.value?(v(),h("div",zo,$(y.value),1)):k("",!0)])]),g("div",Uo,[Qe.value[0].addItemButton?(v(),D(Re,{key:0,name:Qe.value[0].name,fill:Qe.value[0].btnFill,icon:I(be),"onClicked:btn":Qe.value[0].fn,class:"save-button"},null,8,["name","fill","icon","onClicked:btn"])):k("",!0),Qe.value[1].addItemButton?(v(),D(Re,{key:1,name:Qe.value[1].name,fill:Qe.value[1].btnFill,icon:I(_e),"onClicked:btn":Qe.value[1].fn,class:"cancel-button"},null,8,["name","fill","icon","onClicked:btn"])):k("",!0)])])),o.value?(v(),D(Re,{key:1,name:"Add new medication",fill:"clear",icon:I(M),"onClicked:btn":Be,class:"add-new-button"},null,8,["icon"])):k("",!0)])]),g("div",qo,[f(I(d),{lines:"none",class:"section-header"},{default:w(()=>[f(I(O),{icon:I(xe),class:"section-icon"},null,8,["icon"]),f(I(ne),{class:"section-title"},{default:w(()=>n[17]||(n[17]=[C("Non-pharmacological therapy and other notes")])),_:1,__:[17]})]),_:1}),g("div",Wo,[f(Wa,{class:"intervention-component"}),g("div",jo,[f(I(d),{class:"notes-input-item"},{default:w(()=>[f(I(O),{slot:"start",icon:I(a).editPen,class:"edit-icon","aria-hidden":"true"},null,8,["icon"]),f(I(ke),{modelValue:q.value,"onUpdate:modelValue":n[8]||(n[8]=e=>q.value=e),onIonInput:je,placeholder:"Enter notes here...","auto-grow":!0,class:"notes-textarea",fill:"outline",style:{"--padding-start":"16px"}},null,8,["modelValue"])]),_:1})]),f(I(ae),{ref:"accordionGroup",class:"previous-notes"},{default:w(()=>[f(I(te),{value:"fourth","toggle-icon-slot":"start"},{default:w(()=>[f(I(d),{slot:"header",color:"light",class:"previous-notes-header"},{default:w(()=>[f(I(ne),null,{default:w(()=>n[18]||(n[18]=[C("Previous visit notes")])),_:1,__:[18]})]),_:1}),g("div",$o,[g("div",Yo,[1===e.index?(v(!0),h(S,{key:0},Y(J.value,(e,a)=>(v(),h("div",{key:a,class:"note-entry"},[(v(!0),h(S,null,Y(e,(e,a)=>(v(),h("div",{key:a},[g("div",Go,$(e.date),1),g("div",Ko,$(e.notes),1)]))),128))]))),128)):k("",!0),f(I(ae),{onIonChange:Ge},{default:w(()=>[f(I(te),{value:"third","toggle-icon-slot":"start"},{default:w(()=>[f(I(d),{slot:"header",color:"light",class:"show-more-header"},{default:w(()=>[f(I(ne),{color:"primary"},{default:w(()=>[C($(oe.value),1)]),_:1})]),_:1}),g("div",Jo,[(v(!0),h(S,null,Y(Z.value,(e,a)=>(v(),h("div",{key:a,class:"note-entry"},[(v(!0),h(S,null,Y(Xe(e),(e,a)=>(v(),h("div",{key:a},[g("div",Xo,$(e.date),1),g("div",Zo,$(e.notes),1)]))),128))]))),128))])]),_:1})]),_:1})])])]),_:1})]),_:1},512)])])]),_:1})}}}),al=(e("a",Ne(el,[["__scopeId","data-v-4ccce574"]])),t({name:"xxxComponent"})),tl=t({...al,emits:["dataSaved"],setup(e,{emit:a}){const t=b(),n=b("gurdian phone number");b(!0),b(!0);const i=b(!0),o=b(),l=b();x(async()=>{!function(){const e=(new pa).isChildBearing;1==e&&(r[0].disable_checkbox.value=!1),0==e&&(r[0].disable_checkbox.value=!0)}()});const s=[{placeHolder:{default:"Enter time of death if known"},property_name:"timeOfDeath",dataHandler:function(e){s[0].dataValue.value=e},dataValue:b(),show_error:b(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time arrived"},property_name:"timeArrived",dataHandler:function(e){s[1].dataValue.value=e},dataValue:b(),show_error:b(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time confirming death"},property_name:"timeOfDeathConfirmation",dataHandler:function(e){s[2].dataValue.value=e},dataValue:b(),show_error:b(!1),error_message:"Time required",skip_validation:!1}],d=[{placeHolder:{default:"Enter date of death"},property_name:"dateOfDeath",dataHandler:function(e){const a={day:e.value.day,month:e.value.month,year:e.value.year,formattedDate:e.value.formattedDate};d[0].dataValue.value=a},dataValue:b(),show_error:b(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date arrived"},property_name:"dateArrived",dataHandler:function(e){const a={day:e.value.day,month:e.value.month,year:e.value.year,formattedDate:e.value.formattedDate};d[1].dataValue.value=a,console.log(d[2].dataValue.value)},dataValue:b(),show_error:b(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date confirming death"},property_name:"dateOfDeathConfirmation",dataHandler:function(e){const a={day:e.value.day,month:e.value.month,year:e.value.year,formattedDate:e.value.formattedDate};d[2].dataValue.value=a,console.log(d[2].dataValue.value)},dataValue:b(),show_error:b(!1),error_message:"Date required",type:"date",skip_validation:!1}],r=[{lblTxt:"Was the individual pregnant at the time of death?",value:b(!1),disable_checkbox:b(!0)}],c=[{placeHolder:"Enter place of death",property_name:"placeOfDeath",dataHandler:function(e){const a=e.target.value;c[0].dataValue.value=a},dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of guardian",property_name:"nameOfGuardian",dataHandler:function(e){const a=e.target.value;c[1].dataValue.value=a},dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of person confirming death",property_name:"nameOfPersonConfirmindDeath",dataHandler:function(e){const a=e.target.value;c[2].dataValue.value=a},dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter position of the person confirming death",property_name:"positionOfthePersonConfirmingDeath",dataHandler:function(e){const a=e.target.value;c[3].dataValue.value=a},dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter medical council registration number of the person confirming death",property_name:"medicalConcilRegistrationNumberOfThePersonConfirmingDeath",dataHandler:function(e){const a=e.target.value;c[4].dataValue.value=a},dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters and numbers are allowed",type:"alphanumeric",skip_validation:!1},{placeHolder:"Other (specify)",property_name:"otherNotes",dataHandler:function(e){const a=e.target.value;c[5].dataValue.value=a},dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",dissabled:i.value,type:"text",skip_validation:!0}],u=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:function(){Ma(c),Ma(d),Ma(s),function(){const e=m.value.filter(e=>e.selected);if(0==e.length)_[0].show_error.value=!0;else if(_[0].show_error.value=!1,"Accident"==e[0].name){const e=y.value.filter(e=>e.selected);_[1].show_error.value=0==e.length}}();const e=Na.merge(Ba(c),Ba(d),Ba(s),M(_[0]),M(_[1]));console.log(e)}},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:function(){!function(e={dataSaved:!0}){E("dataSaved",e)}()}}],m=b([{id:1,name:"Natural",selected:!1},{id:2,name:"Accident",selected:!1},{id:3,name:"Homicide",selected:!1},{id:4,name:"Suicide",selected:!1},{id:5,name:"Pending investigation",selected:!1},{id:6,name:"Could not be determined",selected:!1},{id:7,name:"Other - specify",selected:!1}]),y=b([{id:1,name:"Motor vehicle (passenger)",selected:!1},{id:2,name:"Motor vehicle (pedestrian)",selected:!1},{id:3,name:"Drowning",selected:!1},{id:4,name:"Other - specify",selected:!1}]),_=[{multi_Selection:!1,manner_of_death_Selection_value:b(),show_list_label:!0,unqueId:"qwerty",name_of_list:"Manner of death ",property_name:"mannerOfDeath",placeHolder:"Choose one",items:m.value,listUpdatedFN:O,listFilteredFN:()=>{},use_internal_filter:!0,disabled:b(!1),show_error:b(!1),error_message:"selection required"},{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty1hjkn",name_of_list:"How did it occur?",property_name:"howDiditOccur",placeHolder:"Choose one",items:y.value,listUpdatedFN:L,listFilteredFN:()=>{},use_internal_filter:!0,disabled:b(!0),show_error:b(!1),error_message:"selection required"}],E=a;function O(e){m.value.forEach(e=>e.selected=!1);const a=m.value.find(a=>a.id==e.id);_[1].disabled.value="Accident"!=e.name,a.selected=!0}function L(e){console.log("listUpdated",e),y.value.forEach(e=>e.selected=!1),y.value.find(a=>a.id==e.id).selected=!0}function M(e){const a=[];let t={};return e.items.forEach(t=>{1==t.selected&&a.push({property_name:e.property_name,name:t.name})}),a.length>0?(t[a[0].property_name]=a[0].name,t):t}return(e,a)=>{const b=p("ion-label");return v(),h(S,null,[f(I(oe),{class:"checkbox_content md"},{default:w(()=>[f(I(De),null,{default:w(()=>[f(ua,{placeholder:c[0].placeHolder,icon:I(we),inputValue:c[0].dataValue.value,"onUpdate:inputValue":c[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),g("div",null,[c[0].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(c[0].error_message),1)]),_:1})):k("",!0)])]),_:1}),f(I(De),null,{default:w(()=>[f(La,{place_holder:d[0].placeHolder,onDateUpDated:d[0].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),g("div",null,[d[0].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(d[0].error_message),1)]),_:1})):k("",!0)])]),_:1})]),_:1}),f(I(oe),null,{default:w(()=>[f(I(De),null,{default:w(()=>[f(tt,{place_holder:s[0].placeHolder,onTimeUpDated:s[0].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),g("div",null,[s[0].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(s[0].error_message),1)]),_:1})):k("",!0)])]),_:1}),f(I(De))]),_:1}),f(I(oe),{class:"checkbox_content md"},{default:w(()=>[f(I(De),null,{default:w(()=>[f(ua,{placeholder:c[1].placeHolder,icon:I(Ie),inputValue:c[1].dataValue.value,"onUpdate:inputValue":c[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),g("div",null,[c[1].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(c[1].error_message),1)]),_:1})):k("",!0)])]),_:1}),f(I(De),null,{default:w(()=>[f(I(Ce),{value:r[0].value,alignment:"start",class:"ion-lblCls",disabled:r[0].disable_checkbox.value},{default:w(()=>[C($(r[0].lblTxt),1)]),_:1},8,["value","disabled"])]),_:1})]),_:1}),f(I(oe),null,{default:w(()=>[f(I(De),null,{default:w(()=>[f(ua,{placeholder:n.value,icon:I(Se),inputValue:t.value},null,8,["placeholder","icon","inputValue"])]),_:1}),f(I(De))]),_:1}),f(I(oe),null,{default:w(()=>[f(I(De),null,{default:w(()=>[f(La,{place_holder:d[1].placeHolder,onDateUpDated:d[1].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),g("div",null,[d[1].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(d[1].error_message),1)]),_:1})):k("",!0)])]),_:1}),f(I(De),null,{default:w(()=>[f(tt,{place_holder:s[1].placeHolder,onTimeUpDated:s[1].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),g("div",null,[s[1].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(s[1].error_message),1)]),_:1})):k("",!0)])]),_:1})]),_:1}),f(I(oe),null,{default:w(()=>[f(I(De),null,{default:w(()=>[f(I(ye),{modelValue:o.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>o.value=e),a[1]||(a[1]=e=>O(e))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Manner of death",placeholder:"Manner of death",selectLabel:"",label:"name",searchable:!0,"track-by":"id",options:m.value},null,8,["modelValue","options"]),g("div",null,[_[0].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(_[0].error_message),1)]),_:1})):k("",!0)])]),_:1}),f(I(De),null,{default:w(()=>[f(I(ye),{modelValue:l.value,"onUpdate:modelValue":[a[2]||(a[2]=e=>l.value=e),a[3]||(a[3]=e=>L(e))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"How did it occur?",placeholder:"How did it occur?",selectLabel:"",label:"name",disabled:_[1].disabled.value,searchable:!0,"track-by":"id",options:y.value},null,8,["modelValue","disabled","options"]),g("div",null,[_[1].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(_[1].error_message),1)]),_:1})):k("",!0)])]),_:1})]),_:1}),f(I(oe),null,{default:w(()=>[f(I(De),null,{default:w(()=>[f(ua,{placeholder:c[5].placeHolder,icon:I(Ee),inputValue:c[5].dataValue.value,disabled:i.value,"onUpdate:inputValue":c[5].dataHandler},null,8,["placeholder","icon","inputValue","disabled","onUpdate:inputValue"]),g("div",null,[c[5].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(c[5].error_message),1)]),_:1})):k("",!0)])]),_:1})]),_:1}),f(I(oe),null,{default:w(()=>[f(I(De),null,{default:w(()=>[f(tt,{place_holder:s[2].placeHolder,onTimeUpDated:s[2].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),g("div",null,[s[2].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(s[2].error_message),1)]),_:1})):k("",!0)])]),_:1}),f(I(De),null,{default:w(()=>[f(ua,{placeholder:c[2].placeHolder,icon:I(Ie),inputValue:c[2].dataValue.value,"onUpdate:inputValue":c[2].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),g("div",null,[c[2].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(c[2].error_message),1)]),_:1})):k("",!0)])]),_:1})]),_:1}),f(I(oe),null,{default:w(()=>[f(I(De),null,{default:w(()=>[f(ua,{placeholder:c[3].placeHolder,icon:I(z),inputValue:c[3].dataValue.value,"onUpdate:inputValue":c[3].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),g("div",null,[c[3].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(c[3].error_message),1)]),_:1})):k("",!0)])]),_:1}),f(I(De),null,{default:w(()=>[f(ua,{placeholder:c[4].placeHolder,icon:I(Ee),inputValue:c[4].dataValue.value,"onUpdate:inputValue":c[4].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),g("div",null,[c[4].show_error.value?(v(),D(b,{key:0,class:"error-label"},{default:w(()=>[C($(c[4].error_message),1)]),_:1})):k("",!0)])]),_:1})]),_:1}),(v(),D(I(oe),{key:0,class:"spc_btwn"},{default:w(()=>[u[0].addItemButton?(v(),D(Re,{key:0,name:u[0].name,fill:u[0].btnFill,icon:I(be),"onClicked:btn":u[0].fn},null,8,["name","fill","icon","onClicked:btn"])):k("",!0),u[1].addItemButton?(v(),D(Re,{key:1,name:u[1].name,fill:u[1].btnFill,icon:I(_e),"onClicked:btn":u[1].fn},null,8,["name","fill","icon","onClicked:btn"])):k("",!0)]),_:1}))],64)}}}),nl=Ne(tl,[["__scopeId","data-v-0aad2f08"]]),il={class:"dash_box"},ol={key:1},ll=t({name:"xxxComponent"}),sl=t({...ll,setup(e){const a=b("No outcome created yet"),t=b(!1),n=b("please select a type");b("Add new outcome"),b(!0);const i=b(!0),o=b(""),l=b(!0),d=b(!1),r=Pa(),c=_(()=>r.outcomes),u=b(!1),m=b(!1),y=b(!1),S=b(!1),E=b(!1);b(null),b(null);const O=b([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1},{name:"Death",selected:!1}]),L=[{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty2",name_of_list:"Add new outcome",placeHolder:"Choose one",items:O.value,listUpdatedFN:function(e){O.value=e,O.value.forEach(e=>{1==e.selected&&(o.value=e.name)})},listFilteredFN:()=>{},use_internal_filter:!0,disabled:b(!1)}];function M(){c.value.length>0?l.value=!1:0==c.value.length&&0==d.value&&(l.value=!0)}function B(e){c.value.splice(e,1)}x(async()=>{M()}),G(()=>o.value,async e=>{1==u.value?u.value=!1:async function(){const e=o.value;console.log(e),o.value=e;const a=o.value;a==O.value[0].name?y.value=!0:y.value=!1,a==O.value[1].name?(S.value=!0,console.log("show_discharged_options is set to true")):S.value=!1,a==O.value[2].name?(E.value=!0,console.log("show_discharged_options is set to true")):E.value=!1,a==O.value[3].name?m.value=!0:m.value=!1}()}),G(()=>c.value.length,async e=>{M()});const P=e=>{};function A(){m.value=!1,y.value=!1,S.value=!1,E.value=!1,O.value.forEach(e=>{e.selected=!1}),o.value=""}return(e,o)=>{const d=p("ion-row");return v(),D(I(s),null,{default:w(()=>[f(d,null,{default:w(()=>[f(I(De),null,{default:w(()=>[(v(),D(nt,{key:0,"onUpdate:removeItem":B,"onUpdate:editItem":P,displayData:c.value},null,8,["displayData"]))]),_:1})]),_:1}),l.value?(v(),D(d,{key:0},{default:w(()=>[g("span",il,$(a.value),1)]),_:1})):k("",!0),i.value?(v(),h("div",ol,[f(d,null,{default:w(()=>[f(I(De),null,{default:w(()=>[f(Aa,{multiSelection:L[0].multi_Selection,show_label:L[0].show_list_label,uniqueId:L[0].unqueId,name_of_list:L[0].name_of_list,choose_place_holder:L[0].placeHolder,"items_-list":L[0].items,use_internal_filter:L[0].use_internal_filter,disabled:L[0].disabled.value,onItemListUpDated:L[0].listUpdatedFN,onItemListFiltered:L[0].listFilteredFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered"]),g("div",null,[t.value?(v(),D(I(ne),{key:0,class:"error-label"},{default:w(()=>[C($(n.value),1)]),_:1})):k("",!0)])]),_:1})]),_:1})])):k("",!0),y.value?(v(),D(it,{key:2,onDataSaved:A,selected_ward_prop:"",admitted_other_props:""})):k("",!0),S.value?(v(),D(ot,{key:3,onDataSaved:A,selected_referral_data:"",selected_other_referral_data:""})):k("",!0),E.value?(v(),D(lt,{key:4,onDataSaved:A,selected_discharged_prop:"",selected_discharged_data:""})):k("",!0),m.value?(v(),D(nl,{key:5,onDataSaved:A})):k("",!0)]),_:1})}}});e("b",Ne(sl,[["__scopeId","data-v-80c43a7c"]]))}}});
