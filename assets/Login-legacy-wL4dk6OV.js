System.register(["./vendor-legacy-COMGl7lq.js","./index-legacy-Bv9RyvRz.js","./Img-legacy-BpF9IlgC.js","./lodash-legacy-C-x9g9Na.js"],(function(e,a){"use strict";var t,l,n,o,i,s,d,r,u,c,g,p,f,v,m,y,b,x,_,w,h,k,I,z,S,j,C,E,F,P,U,L,M,R,A,H,K;return{setters:[e=>{t=e.d,l=e.r,n=e.b1,o=e.a,i=e.E,s=e.y,d=e.f,r=e.z,u=e.l,c=e.u,g=e.ao,p=e.k,f=e.ag,v=e.ad,m=e.d0,y=e.T,b=e.e,x=e.A,_=e.B,w=e.ar,h=e.D,k=e.cb,I=e.d1,z=e.bG,S=e.d2,j=e.W,C=e.au},e=>{E=e.n,F=e.K,P=e.m,U=e.t,L=e.J,M=e.M,R=e.p,A=e.N,H=e._},e=>{K=e.i},null],execute:function(){var a=document.createElement("style");a.textContent=".login-page[data-v-6ed0b483]{background-color:#fff}.login-container[data-v-6ed0b483]{display:flex;justify-content:center;align-items:center;text-align:center;height:90vh}.login-title[data-v-6ed0b483]{font-size:24px;margin-bottom:30px;font-weight:700;margin-top:20px}.input-fields[data-v-6ed0b483]{margin-bottom:35px}.password-toggle[data-v-6ed0b483]{cursor:pointer;position:absolute;margin-top:-73px;margin-left:130px;z-index:1000}.login-button[data-v-6ed0b483]{color:#fff;margin-top:30px}.signup-link[data-v-6ed0b483]{margin-top:50px}.signup-link a[data-v-6ed0b483]{text-decoration:underline}.password-toggle[data-v-6ed0b483]{font-size:20px}.login_img[data-v-6ed0b483]{width:90px;margin:auto}ion-card[data-v-6ed0b483]{min-width:330px}@media (max-width: 902px){.login-page[data-v-6ed0b483]{--ion-background-color: #ffffff}ion-card[data-v-6ed0b483]{box-shadow:unset}}\n/*$vite$:1*/",document.head.appendChild(a);const N={class:"login-container"},$={key:0,style:{"justify-content":"center",display:"block"}},q={style:{"font-size":"15px"}},D={style:{"font-size":"12px",color:"#34af4d"}},G={key:1},O={style:{"font-size":"15px"}},T={style:{"text-align":"left"}};e("default",H(t({__name:"Login",setup(e){const a=l(""),t=l(""),H=l(""),B=l(!1),J=l("test"),W=l(new A),Q=n(),V=E(),X=async()=>{if(a.value&&t.value){W.value.setUsername(a.value);try{await W.value.login(t.value),await(async()=>{const e=L(),a=await M();a&&(e.setUserFacilityName(a.name),e.setFacilityLocation(a),localStorage.setItem("facility_code",a.code))})(),await(async()=>{const e=await W.value.checkUserPrograms(void 0);null!=e&&e.programs&&R().setAuthorizedPrograms(null==e?void 0:e.programs)})(),Q.push("/home")}catch(e){e instanceof F?P("Invalid username or password"):P(`${e}`,5e4)}}else U("Complete form to log in")};return o((async()=>{localStorage.setItem("apiKey",""),await W.value.loadConfig(),H.value=localStorage.getItem("core_version")||"",await(async()=>{V.terminate(),await E().postData("SET_OFFLINE_PROGRAMS")})()})),(e,l)=>{const n=i("ion-icon");return d(),s(c(C),null,{default:r((()=>[u(c(g),{class:"ion-padding login-page"},{default:r((()=>[p("div",N,[u(c(f),{style:{"background-color":"#fff"}},{default:r((()=>[u(c(v),null,{default:r((()=>[u(c(m),{class:"login_img",src:c(K)("mw.png"),id:"logo"},null,8,["src"]),u(c(y),{class:"login-title"},{default:r((()=>["development"===J.value||"test"===J.value?(d(),b("span",$,[p("div",null,[l[3]||(l[3]=x(" MaHIS ")),p("small",q,"(v"+_(H.value)+")",1)]),p("div",D,"("+_(J.value)+")",1)])):(d(),b("span",G,[l[4]||(l[4]=x(" MaHIS ")),p("small",O,"(v"+_(H.value)+")",1)]))])),_:1}),p("span",T,[u(c(w),{value:a.value,onIonInput:l[0]||(l[0]=e=>a.value=e.target.value||""),type:"text",label:"Username",ref:"usernameRef","label-placement":"floating",fill:"outline",placeholder:"Enter Username",class:"input-fields",required:""},{default:r((()=>[u(c(h),{slot:"end"},{default:r((()=>[u(n,{icon:c(k)},null,8,["icon"])])),_:1})])),_:1},8,["value"]),u(c(w),{value:t.value,onIonInput:l[2]||(l[2]=e=>t.value=e.target.value||""),type:B.value?"text":"password",label:"Password",ref:"passwordRef","label-placement":"floating",fill:"outline",placeholder:"Enter Password",class:"input-fields",required:"",onKeydown:I(X,["enter"])},{default:r((()=>[u(c(h),{slot:"end"},{default:r((()=>[u(n,{icon:B.value?c(z):c(S),onClick:l[1]||(l[1]=e=>B.value=!B.value)},null,8,["icon"])])),_:1})])),_:1},8,["value","type"])]),u(c(j),{expand:"block",style:{"--background":"var(--ion-color-primary)","font-size":"var(--ion-button-font)"},onClick:X,class:"login-button"},{default:r((()=>l[5]||(l[5]=[x(" Login ")]))),_:1,__:[5]}),l[6]||(l[6]=p("p",{class:"signup-link"},[x("For help click "),p("a",{href:"#"},"Here")],-1))])),_:1,__:[6]})])),_:1})])])),_:1})])),_:1})}}}),[["__scopeId","data-v-6ed0b483"]]))}}}));
