import{d as C,a0 as y,M as h,aa as v,a9 as w,bh as A,aO as R,aR as I,Q as b,d0 as z,b_ as D,bx as M,aI as P,H as a,N as V,f as O,J as t,l as e,k as i,P as l,K as p}from"./vendor-BZ7g1BTw.js";import{n as c,P as k,u as x,_ as N}from"./index-B6K7paAL.js";import{a as S,u as B,v as $,n as T}from"./vaccines_service-ChflsepH.js";import{v as G}from"./voidReason-DLQW1mm6.js";import{S as j}from"./sms_service-nSGteSPV.js";const q=C({name:"PersonCard",components:{IonCard:I,IonCardContent:R,IonGrid:A,IonRow:w,IonCol:v,IonButton:h,IonIcon:y},data(){return{}},props:{person:{type:Object,required:!0}},setup(){return{calendarOutline:P,trashOutline:M,personCircleOutline:D,eyeOutline:z}},methods:{handleReschedule(){this.openNextVaccineAppoinment(this.person.person_id,this.person.encounter_id)},handleRemove(){this.voidAppoinment()},openNextVaccineAppoinment(o,n){c(T,{class:"otherVitalsModal"},!1,{patient_Id:o,encounter_Id:n})},async openClientProfile(o){const n=await k.findByNpid(o);await x().setPatientRecord(n[0]),this.$router.push("patientProfile")},async voidAppoinment(){await this.openVoidModal()},async openVoidModal(){const o=await b.create({component:G,cssClass:"otherVitalsModal",componentProps:{}});o.onDidDismiss().then(async n=>{if(n&&n.data)try{await $(this.person.encounter_id,n.data.name),(await j.getConfigurations()).show_sms_popup?await this.smsmodal(this.person):this.setAppointmentMentsReload()}catch(d){this.setAppointmentMentsReload()}}),await o.present()},async setAppointmentMentsReload(){const o=B();o.setAppointmentsReload(!o.getAppointmentsReload())},async smsmodal(o){(await c(S,{componentProps:{patient:o.person_id,date:o.appointmentDate},class:"smsConfirmation"})).onDidDismiss().then(async d=>{this.setAppointmentMentsReload()})}}}),E={class:"button-container"};function H(o,n,d,J,K,Q){const m=a("ion-icon"),u=a("ion-button"),s=a("ion-col"),r=a("ion-row"),_=a("ion-grid"),f=a("ion-card-content"),g=a("ion-card");return O(),V(g,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(f,{style:{padding:"2px"}},{default:t(()=>[e(u,{style:{position:"absolute",top:"10px",right:"10px","--padding-start":"8px","--padding-end":"8px","--padding-top":"4px","--padding-bottom":"4px","--box-shadow":"none"},onClick:n[0]||(n[0]=F=>o.openClientProfile(o.person.npid)),color:"primary",fill:"clear",size:"small"},{default:t(()=>[e(m,{icon:o.eyeOutline,style:{"font-size":"24px"}},null,8,["icon"])]),_:1}),e(_,null,{default:t(()=>[e(r,null,{default:t(()=>[e(s,{size:"6"},{default:t(()=>[n[1]||(n[1]=i("strong",null,"Name:",-1)),l(" "+p(o.person.name),1)]),_:1,__:[1]}),e(s,{size:"5"},{default:t(()=>[n[2]||(n[2]=i("strong",null,"Gender:",-1)),l(" "+p(o.person.gender),1)]),_:1,__:[2]})]),_:1}),e(r,null,{default:t(()=>[e(s,{size:"6"},{default:t(()=>[n[3]||(n[3]=i("strong",null,"Age/DOB:",-1)),l(" "+p(o.person.ageDob),1)]),_:1,__:[3]}),e(s,{size:"6"},{default:t(()=>[n[4]||(n[4]=i("strong",null,"Village:",-1)),l(" "+p(o.person.village),1)]),_:1,__:[4]})]),_:1}),e(r,null,{default:t(()=>[e(s,{size:"12"},{default:t(()=>[n[5]||(n[5]=i("strong",null,"Appointment Date:",-1)),l(" "+p(o.person.appointmentDate),1)]),_:1,__:[5]})]),_:1}),e(r,{class:"divider"},{default:t(()=>[e(s,{size:"12"},{default:t(()=>n[6]||(n[6]=[i("div",{class:"line"},null,-1)])),_:1,__:[6]})]),_:1}),e(r,{class:"actions"},{default:t(()=>[e(s,{size:"12"},{default:t(()=>[i("div",E,[e(u,{onClick:o.handleReschedule,color:"primary",fill:"outline",size:"small"},{default:t(()=>[e(m,{icon:o.calendarOutline,slot:"start"},null,8,["icon"]),n[7]||(n[7]=l(" Reschedule ",-1))]),_:1,__:[7]},8,["onClick"]),e(u,{onClick:o.handleRemove,color:"danger",fill:"outline",size:"small"},{default:t(()=>[e(m,{icon:o.trashOutline,slot:"start"},null,8,["icon"]),n[8]||(n[8]=l(" Cancel ",-1))]),_:1,__:[8]},8,["onClick"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Z=N(q,[["render",H],["__scopeId","data-v-6257a72e"]]);export{Z as n};
