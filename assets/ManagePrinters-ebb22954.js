import{d as M,c2 as w,r as c,a as b,E as B,e as f,y,z as a,f as C,l as s,j as _,m as L,x as n,a7 as N,J as S,G as T,D as V,A as v,B as h,V as x,F as z,a6 as A,p as E,b5 as F}from"./vendor-56655788.js";import{P as J,T as $,_ as j}from"./index-69058aed.js";import"./lodash-7be49fbd.js";import"./apexcharts-596a411b.js";import"./chartjs-2546faf2.js";import"./barcode-qrcode-reader-b9310fb7.js";const G={key:0,class:"spinner-overlay"},K={class:"container"},O=M({__name:"ManagePrinters",setup(R){w();const o=c(!1),p=c(Math.random()),m=c([]),u=c({}),d=new J;async function P(){if(o.value)return;o.value=!0;const t=await d.getAllPrinters();console.log("Discovered printers",JSON.stringify(t)),m.value=D(t),o.value=!1,p.value=Math.random()}function g(t,e){return(t.name||t.address).localeCompare(e.name||e.address)}function k(t){d.setDefaultPrinter(t),u.value=t,p.value=Math.random(),P()}function r(t){return g(t,u.value)===0}function D(t){return t.sort((e,l)=>r(e)&&!r(l)?-1:!r(e)&&r(l)?1:g(e,l))}return b(async()=>{u.value=await d.getDefaultPrinter()||{},m.value.push(u.value),P()}),(t,e)=>{const l=B("ion-spinner");return f(),y(n(F),{class:E({loading:o.value})},{default:a(()=>[o.value?(f(),C("div",G,[s(l,{name:"bubbles"}),e[0]||(e[0]=_("div",{class:"loading-text"},"Please wait...",-1))])):L("",!0),s($),s(n(A),null,{default:a(()=>[_("div",K,[e[3]||(e[3]=_("h4",{style:{width:"100%","text-align":"center","font-weight":"700"}},"Printer Management",-1)),s(n(N),null,{default:a(()=>[(f(!0),C(z,null,S(m.value,i=>(f(),y(n(T),null,{default:a(()=>[s(n(V),null,{default:a(()=>[v(h(i.name),1)]),_:2},1024),s(n(x),{size:"small",color:r(i)?"success":"primary",onClick:I=>k(i),disabled:r(i)},{default:a(()=>e[1]||(e[1]=[v(" Set as Default ")])),_:2},1032,["color","onClick","disabled"]),s(n(x),{onClick:I=>n(d).printTestLbl(i),size:"small"},{default:a(()=>e[2]||(e[2]=[v(" Test Print ")])),_:2},1032,["onClick"])]),_:2},1024))),256))]),_:1})])]),_:1})]),_:1},8,["class"])}}});const Y=j(O,[["__scopeId","data-v-136c2001"]]);export{Y as default};
