import{H as o,e as f,f as c,l as n,J as s,Q as d,F as E,P as ne,k as i,K as b,d as U,ab as M,M as $e,b0 as Ne,G as j,E as K,ac as Be,ad as Pe,a2 as Q,I as J,a7 as Y,R as z,bd as et,aR as Te,O as N,m as D,_ as q,bi as tt,a8 as Z,a9 as se,r as ee,i as Ce,v as Ie,N as ie,d3 as nt,d4 as st,d5 as it,d6 as at,bg as Oe,af as Ee,ae as Ge,aN as Fe,ck as Ue,aO as Re,aM as Le,aP as He,aa as We,cb as ze,cN as ot,dD as lt,bD as rt,p as ct}from"./vendor-CwRShy1a.js";import{_ as R,aM as G,J as je,i as ae,B as Ke,M as P,H as A,S as O,t as H,c9 as dt,b8 as ut,G as Qe,K as T,bJ as pt,u as X,k as W,s as mt,j as w,l as k,ca as ke,P as Je,N as ht,T as _t,by as ft,aV as gt,a7 as vt,aI as yt,aH as bt,aR as St}from"./index-Dxep0tg5.js";import{D as Dt}from"./DemographicBar-COOGLEhV.js";import{S as Vt}from"./SaveProgressModal-DuChkjq3.js";import{S as wt}from"./Stepper-FGBokQe8.js";import{T as Ct}from"./NextAppointment-C4j-P7QF.js";import{l as F}from"./lodash-Dt8AsbQm.js";import{a as Ae,D as It}from"./drug_prescription_service-DtmFSVu0.js";import kt from"./WeightHeightChart-uSnuYu3z.js";import{_ as At,l as Mt,a as $t,Q as Nt,c as oe,b as Bt,w as Pt,O as Tt}from"./weightAndHeight-yO8RNP51.js";import{_ as Ot,u as te}from"./SetRelationship.vue_vue_type_script_lang-b2w-1uif.js";import{B as Ye}from"./BasicForm--1-sfsO7.js";import{c as qe}from"./customDatePicker-DLzZNdrY.js";import{v as Et}from"./group_validation-C76G7a9T.js";import{u as Gt}from"./AdministerOtherVaccinesStore-CG_-m6dt.js";import{s as Ft,i as Me,A as Ut,n as Rt}from"./vaccines_service-C_Zodmo_.js";import{S as Lt}from"./stock_service-CmnNf9QA.js";import{_ as Ht}from"./usePatientProfile-CaSwZb0E.js";import{O as Wt}from"./Outcome-m6tE6HTx.js";import"./apexcharts-B7MGi37O.js";import"./OPDOutcome-WTPZ0mE3.js";import"./patient_complaints_service-di6as6j_.js";import"./DashBox-BhJ9LbXS.js";import"./formatServerData-lOuD_sH6.js";import"./drug_service-BQdAoscq.js";import"./VitalsMixin.vue_vue_type_script_lang-BQeaBYxy.js";import"./TreatmentPlan-B-MqwmAR.js";import"./previousDiagnosis-B0lIHFeb.js";import"./FeatusModal--IIt_WdR.js";import"./BasicCard-C6G6VBfA.js";import"./PastObstreticHistoryStore-Dki1lwFW.js";import"./lab_order-gVzJs4Hu.js";import"./UpcomingFeature-svio3jTB.js";import"./ncd_appointment_service-BF0KT24t.js";import"./DateInputField-Ci2QHCNv.js";import"./chartjs-DGnudQuQ.js";import"./barcode-qrcode-reader-Bb9ke-1k.js";import"./sms_service-2nY7J6R1.js";import"./EIRreportsStore-DBHm-0sE.js";import"./Export-CfpNFDac.js";import"./Registration-Dw4rZz5d.js";import"./useLocation-CKTjPdTh.js";const zt={style:{color:"#016302"}},jt={style:{color:"#316CBA","margin-left":"10%"}};function Kt(e,t,a,l,r,S){const u=o("ion-title"),h=o("ion-header"),m=o("ion-icon"),p=o("row"),y=o("customVaccine"),v=o("ion-content"),_=o("ion-button"),V=o("ion-col"),C=o("ion-row"),I=o("ion-footer");return c(),f(E,null,[n(h,null,{default:s(()=>[n(u,{style:{"margin-bottom":"20px"},class:"modalTitle OtherVitalsTitle"},{default:s(()=>t[1]||(t[1]=[d("Vaccination History")])),_:1,__:[1]})]),_:1}),n(v,{fullscreen:!0,class:"ion-padding"},{default:s(()=>[(c(!0),f(E,null,ne(e.vaccineSchedule.vaccine_schedule,(g,B)=>(c(),f("div",{class:"mod-ls",key:B},[n(p,null,{default:s(()=>[n(m,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),i("span",null,[t[2]||(t[2]=d(" at ")),i("span",zt,b(g.age),1)]),i("span",jt,b(e.vaccinesGivenCount(g))+"/"+b(g.antigens.length)+" vaccine(s) given",1)]),_:2},1024),n(p,null,{default:s(()=>[n(y,{vaccines:g.antigens,milestone_status:g.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),n(I,{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(C,null,{default:s(()=>[n(V,null,{default:s(()=>[n(_,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:t[0]||(t[0]=g=>e.dismiss())},{default:s(()=>t[3]||(t[3]=[d(" Cancel ")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1})],64)}const Qt=R(At,[["render",Kt],["__scopeId","data-v-59edb4e4"]]),Jt=U({mixins:[Ot],components:{IonContent:Y,IonHeader:J,IonItem:Q,IonList:Pe,IonMenu:Be,IonTitle:K,IonToolbar:j,IonInput:Ne,BasicInputField:Ke,BasicForm:Ye,PreviousVitals:ae,customDatePicker:qe,DynamicButton:je,IonFooter:$e},data(){return{iconsContent:W,BMI:{},BPStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1},showPD:!1,initialSeriousData:[],initialFirstDecisionData:[],initialOutcomeData:[]}},props:{protectedStatus:String,lastVaccinesGiven:Array},watch:{personInformation:{async handler(){await this.setRelationShip()},deep:!0}},computed:{...M(X,["patient"]),...M(te,["changeGuardianInfo","vaccineAdverseEffects","protectedAtBirth","serious","outcome","firstDecision"]),guardianFirstname(){return P(this.changeGuardianInfo,"guardianFirstname","value")},guardianLastname(){return P(this.changeGuardianInfo,"guardianLastname","value")},guardianMiddleName(){return P(this.changeGuardianInfo,"guardianMiddleName","value")},guardianPhoneNumber(){return P(this.changeGuardianInfo,"guardianPhoneNumber","value")},relationship(){return P(this.changeGuardianInfo,"relationship","value")}},async mounted(){await this.setupData()},setup(){return{checkmark:Te,pulseOutline:et}},methods:{async setupData(){var a,l,r,S,u,h,m,p,y,v;const e=te();this.initialSeriousData=e.getInitialSerious(),this.initialFirstDecisionData=e.getInitialFirstDecision(),this.initialOutcomeData=e.getInitialOutcome();const t=await pt.getRelationships(this.patient.patientID);(t==null?void 0:t.length)>0&&(T(this.changeGuardianInfo,"guardianNationalID","value",this.setAttribute("Regiment ID",(a=t[0])==null?void 0:a.relation)),T(this.changeGuardianInfo,"guardianFirstname","value",(r=(l=t[0])==null?void 0:l.relation.names[0])==null?void 0:r.given_name),T(this.changeGuardianInfo,"guardianLastname","value",(u=(S=t[0])==null?void 0:S.relation.names[0])==null?void 0:u.family_name),T(this.changeGuardianInfo,"guardianMiddleName","value",(m=(h=t[0])==null?void 0:h.relation.names[0])==null?void 0:m.middle_name),T(this.changeGuardianInfo,"guardianPhoneNumber","value",this.setAttribute("Cell Phone Number",(p=t[0])==null?void 0:p.relation)),T(this.changeGuardianInfo,"relationship","value",{id:(y=t[0])==null?void 0:y.type.relationship_type_id,name:(v=t[0])==null?void 0:v.type.b_is_to_a}),await this.setRelationShip()),this.resetData()},async setRelationShip(){this.gender?(await this.getRelationships(),T(this.changeGuardianInfo,"relationship","displayNone",!1),T(this.changeGuardianInfo,"relationship","multiSelectData",this.relationships)):T(this.changeGuardianInfo,"relationship","displayNone",!0)},setAttribute(e,t){if(!t||Object.keys(t).length===0)return;let a=t.person_attributes.find(l=>l.type.name==e);if(a!=null)return a.value},resetData(){const e=te();e.setProtectedAtBirth(e.getInitialProtectedAtBirth()),e.setVaccineAdverseEffects(e.getInitialVaccineAdverseEffects())},async createGuardian(){const e=await this.guardianData();if(Et(this.changeGuardianInfo)){const t=new dt;await t.registerGuardian(e);const a=t.getPersonID(),l=P(this.changeGuardianInfo,"relationship","value").id;return l&&await ut.createRelation(this.patient.patientID,a,l),Qe("Guarding information save successfully",3e3),!0}else return H("Guarding Information not save",3e3),!1},async saveData(){const e=await this.createGuardian(),t=await this.saveVaccineAdverseEffects();e&&t&&z.dismiss()},async saveVaccineAdverseEffects(){if(this.patient.patientID){const e=P(this.outcome,"Date of death","value")||A.sessionDate(),t=await this.formatCheckBoxData(this.serious,A.sessionDate(),this.lastVaccinesGiven),a=await this.formatRadioButtonData(this.outcome,e,this.lastVaccinesGiven),l=await this.formatCheckBoxData(this.vaccineAdverseEffects,A.sessionDate(),this.lastVaccinesGiven),r=P(this.firstDecision,"Investigation needed","value");let S=[];return r&&(S=[{concept_id:11887,value_text:r,obs_datetime:A.sessionDate()}]),[...t,...a,...l,...S].filter(u=>u!==void 0),O.getUserID(),l.length>0?!0:(H("Vaccine adverse effects not saved",1500),!1)}},async formatCheckBoxData(e,t=G.getSessionDate(),a){return Array.isArray(e)?(await Promise.all(e.map(async r=>{var u,h;if(!((h=(u=r==null?void 0:r.checkboxBtnContent)==null?void 0:u.data)!=null&&h.length))return[];const S=r.checkboxBtnContent.data.map(async m=>{if(!(m!=null&&m.checked)||m!=null&&m.buildConceptIgnore)return null;try{const p=await G.getConceptID(m.value,!0),y=await G.getConceptID(r.checkboxBtnContent.header.name,!0);if(t=P(e,m.name+" date","value")||t,!p||!y)return null;const _={concept_id:y,value_coded:p,obs_datetime:t};if(a.length>0){const V=a.map(C=>({concept_id:p,value_coded:C.drug_id,obs_datetime:t}));return{..._,child:V}}return _}catch(p){return console.error("Error processing checkbox data:",p),null}});return(await Promise.all(S)).filter(Boolean)}))).flat().filter(Boolean):[]},async formatRadioButtonData(e,t=G.getSessionDate(),a){const l=e.map(async r=>{if(r&&r.radioBtnContent&&r.radioBtnContent.header&&r.radioBtnContent.header.selectedValue){const S=await G.getConceptID(r.radioBtnContent.header.selectedValue,!0),u=await G.getConceptID(r.radioBtnContent.header.name,!0),h=t||G.getSessionDate(),m=a.map(p=>({concept_id:S,value_coded:p.drug_id,obs_datetime:h}));return a?{concept_id:u,value_coded:S,obs_datetime:h,child:m}:{concept_id:u,value_coded:S,obs_datetime:h}}else return null});return(await Promise.all(l)).filter(r=>r!==null)},async guardianData(){return{person_id:this.patient.patientID,given_name:this.guardianFirstname,family_name:this.guardianLastname,middle_name:this.guardianMiddleName,gender:"",birthdate:"",cell_phone_number:this.guardianPhoneNumber,birthdate_estimated:!1,home_district:"",home_traditional_authority:"",home_village:"",current_district:"",current_traditional_authority:"",current_village:"",landmark:"",occupation:"",facility_name:"",patient_type:"",national_id:P(this.changeGuardianInfo,"guardianNationalID","value")}},async handleInputData(e){},dismiss(){z.dismiss()}}}),Yt={class:""},qt={class:"ion-padding",slot:"content",style:{"padding-bottom":"200px"}},Zt={class:""},Xt={class:"ion-padding",slot:"content"},xt={slot:"content"},en={slot:"content"},tn={slot:"content"},nn={slot:"content"},sn={class:"ion-padding",slot:"content",style:{"padding-bottom":"120px"}};function an(e,t,a,l,r,S){const u=o("ion-title"),h=o("ion-icon"),m=o("ion-header"),p=o("ion-label"),y=o("ion-item"),v=o("basic-form"),_=o("ion-accordion"),V=o("ion-accordion-group"),C=o("ion-content"),I=o("DynamicButton"),g=o("ion-col"),B=o("ion-row"),L=o("ion-footer");return c(),f(E,null,[n(m,{style:{display:"flex","justify-content":"space-between"}},{default:s(()=>[n(u,{class:"modalTitle"},{default:s(()=>t[2]||(t[2]=[d("Follow up visits")])),_:1,__:[2]}),n(h,{onClick:t[0]||(t[0]=x=>e.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:e.iconsContent.cancel},null,8,["icon"])]),_:1}),n(C,{fullscreen:!0,class:"ion-padding",style:{"--background":"#fff"}},{default:s(()=>[i("div",Yt,[n(V,{ref:"accordionGroup",class:""},{default:s(()=>[n(_,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(y,{slot:"header",color:"light"},{default:s(()=>[n(p,{class:"previousLabel"},{default:s(()=>t[3]||(t[3]=[d("Change Guardian")])),_:1,__:[3]})]),_:1}),i("div",qt,[i("div",Zt,[n(v,{contentData:e.changeGuardianInfo,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])])]),_:1}),n(_,{value:"second","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(y,{slot:"header",color:"light"},{default:s(()=>[n(p,{class:"previousLabel"},{default:s(()=>t[4]||(t[4]=[d("Vaccine adverse effects")])),_:1,__:[4]})]),_:1}),i("div",Xt,[i("div",null,[i("div",xt,[n(v,{contentData:e.vaccineAdverseEffects,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])]),i("div",null,[i("div",en,[n(v,{contentData:e.serious,initialData:e.initialSeriousData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])]),i("div",null,[i("div",tn,[n(v,{contentData:e.outcome,initialData:e.initialOutcomeData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])]),i("div",null,[i("div",nn,[n(v,{contentData:e.firstDecision,initialData:e.initialFirstDecisionData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])])])]),_:1}),e.protectedStatus!="Yes"?(c(),N(_,{key:0,value:"third","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(y,{slot:"header",color:"light"},{default:s(()=>[n(p,{class:"previousLabel"},{default:s(()=>t[5]||(t[5]=[d("Child protected at birth")])),_:1,__:[5]})]),_:1}),i("div",sn,[n(v,{contentData:e.protectedAtBirth,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])]),_:1})):D("",!0)]),_:1},512)])]),_:1}),n(L,{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(B,null,{default:s(()=>[n(g,null,{default:s(()=>[n(I,{onClick:t[1]||(t[1]=x=>e.saveData()),name:"Save",fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})],64)}const on=R(Jt,[["render",an],["__scopeId","data-v-4497bb3f"]]),ln=U({components:{IonContent:Y,IonHeader:J,IonItem:Q,IonList:Pe,IonMenu:Be,IonTitle:K,IonToolbar:j,IonInput:Ne,BasicInputField:Ke,BasicForm:Ye,PreviousVitals:ae,customDatePicker:qe,IonCol:se,IonRow:Z,VueMultiselect:tt,IonLabel:q,lotNumberList:Mt},data(){const e=ee(0),t=ee([]);return{iconsContent:W,showPD:!1,batchNumber:"",vaccineName:"",currentDrugOb:{},comp_key:e,otherVaccinesList:t,is_batch_number_valid:!1,vaccineDate:"",is_vaccine_name_valid:!1,drugErrMsg:"",batch_number_error_message:"Enter a valid batch number",vaccine_name_error_message:"Enter a valid valid vaccine name",sessionDate:A.toStandardHisDisplayFormat(O.getSessionDate()),InnerActionBtnPropeties:{name:"Scan",show:!0,fn:()=>{k(Nt,{class:"otherVitalsModal qr_code_modal"},!1)},icon:"",show_icon:!1},showDateBtns:!0,selected_date_:"",show_select_batch:!1,skip_validation:!1,antigens:t}},computed:{...M(Gt,["administerOtherVaccine"]),...M(w,["tempScannedBatchNumber","vaccineSchedule"]),...M(X,["patient"])},async mounted(){this.vaccineSchedule.vaccine_schedule.forEach(e=>{this.antigens.push(...e.antigens)})},watch:{batchNumber:{handler(){this.validateBatchNumber()},deep:!0},tempScannedBatchNumber:{handler(){this.tempScannedBatchNumber!=null&&(this.batchNumber=this.tempScannedBatchNumber.text,this.validateBatchNumber())}},vaccineName:{handler(){this.validateVaccineName()}}},setup(){const e=ee(null);return{childComponentRef:e,triggerChildAction:()=>{e.value&&e.value.performAction()}}},methods:{showCPD(){this.showPD=!0,this.showDateBtns=!1},updateBatchNumber(e){var a;const t=e.target.value;this.batchNumber=t||((a=this.tempScannedBatchNumber)==null?void 0:a.text)||""},saveBatchWithTodayDate(){let e=O.getSessionDate();this.saveDta(e)},dismiss(){z.dismiss()},saveBatch(){let e;F.isEmpty(this.vaccineDate)==!0?e=O.getSessionDate():e=this.vaccineDate,this.saveDta(e)},validateVaccineName(){if(F.isEmpty(this.vaccineName)==!0)return this.is_vaccine_name_valid=!0,!1;if(F.isEmpty(this.vaccineName)==!1)return this.is_vaccine_name_valid=!1,!0},updateVaccineName(e){this.currentDrugOb=e,console.log(this.currentDrugOb),w().setCurrentSelectedDrug(e),this.pullLotNumbersForVaccine(this.currentDrugOb)},async pullLotNumbersForVaccine(e){this.show_select_batch=!1;const t=w(),l=await new Lt().getDrugBatches(e.drug_id);t.setLotNumberData(l),l.length==0&&(Me(e)==!1&&k($t,{class:"otherVitalsModal"}),Me(e)==!0&&(this.show_select_batch=!1,this.skip_validation=!0)),l.length>0&&(this.comp_key=this.comp_key+1,this.show_select_batch=!0)},isAlphaNumeric(e){return/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/.test(e)},validateBatchNumber(){this.isAlphaNumeric(this.batchNumber)==!0&&(this.is_batch_number_valid=!1),this.isAlphaNumeric(this.batchNumber)==!1&&(this.is_batch_number_valid=!0)},updateBatchNumberByPassValue(e){this.batchNumber=e},ActionTriggered(e){const t={batch_number:e.lotNumber,date_administered:this.selected_date_,drug_id:this.currentDrugOb.drug_id,drug_:this.currentDrugOb},a=w();a.setAdministeredVaccine(t),Ft(this.patient),a.setTempScannedBatchNumber(null),this.dismiss()},saveDta(e){this.validateVaccineName()==!0&&(this.selected_date_=e,this.triggerChildAction(),this.show_select_batch==!1&&this.skip_validation==!1&&mt("Please Update Stock for Selected Vaccine"))},childAction(){}}}),rn={class:"modal_wrapper"},cn={class:"lbl-ct"},dn={style:{"margin-top":"30px"}},un={class:"btnContent"},pn={key:0,class:"saveBtn"},mn={key:1,class:"saveBtn"};function hn(e,t,a,l,r,S){const u=o("ion-col"),h=o("ion-label"),m=o("ion-row"),p=o("VueMultiselect"),y=o("lotNumberList"),v=o("customDatePicker"),_=o("ion-icon"),V=o("ion-button");return c(),f("div",rn,[n(m,{style:{"margin-top":"10px"}},{default:s(()=>[n(u,{style:{"margin-left":"-3px"}},{default:s(()=>t[3]||(t[3]=[i("div",{class:"om"},"Add Other Vaccine",-1)])),_:1,__:[3]}),n(u,{size:"6",style:{"text-align":"right"}},{default:s(()=>[n(h,{class:"lbl-tl",style:{"font-size":"13"}},{default:s(()=>[t[4]||(t[4]=d(" Todays Date: ")),i("span",cn,b(e.sessionDate),1)]),_:1,__:[4]})]),_:1})]),_:1}),i("div",dn,[n(m,null,{default:s(()=>[n(h,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:s(()=>t[5]||(t[5]=[d("Vaccine name"),i("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[5]})]),_:1}),n(p,{modelValue:e.vaccineName,"onUpdate:modelValue":[t[0]||(t[0]=C=>e.vaccineName=C),t[1]||(t[1]=C=>e.updateVaccineName(C))],multiple:!1,taggable:!1,"hide-selected":!1,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"select vaccine",placeholder:"select vaccine",selectLabel:"",label:"drug_name",searchable:!0,onSearchChange:t[2]||(t[2]=C=>e.$emit("search-change",C)),"track-by":"drug_id",options:e.otherVaccinesList},null,8,["modelValue","options"]),i("div",null,[e.is_vaccine_name_valid?(c(),N(h,{key:0,style:{padding:"3%"},class:"error-label"},{default:s(()=>[d(b(e.vaccine_name_error_message),1)]),_:1})):D("",!0)])]),Ce(n(m,null,{default:s(()=>[n(h,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:s(()=>t[6]||(t[6]=[d("Batch numbers"),i("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[6]})]),_:1},512),[[Ie,e.show_select_batch]]),Ce(i("div",null,[(c(),N(y,{action:e.childAction,retro:e.showPD,ref:"childComponentRef",onActionTriggered:e.ActionTriggered,key:e.comp_key},null,8,["action","retro","onActionTriggered"]))],512),[[Ie,e.show_select_batch]]),e.showPD?(c(),N(v,{key:0})):D("",!0),i("div",un,[e.showDateBtns?(c(),f("div",pn,[i("div",null,[n(V,{onClick:e.saveBatchWithTodayDate,class:"btnText",fill:"solid"},{default:s(()=>[t[7]||(t[7]=d(" Done today ")),n(_,{slot:"end",size:"small",icon:e.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1,__:[7]},8,["onClick"])]),t[9]||(t[9]=i("div",{style:{"margin-bottom":"20px"}},null,-1)),i("div",null,[n(V,{class:"btnText",fill:"solid",onClick:e.showCPD},{default:s(()=>[t[8]||(t[8]=d(" Done earlier ")),n(_,{slot:"end",size:"small",icon:e.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1,__:[8]},8,["onClick"])])])):D("",!0),e.showDateBtns?D("",!0):(c(),f("div",mn,[n(m,{class:"ion-justify-content-between"},{default:s(()=>[n(u,{size:"auto"},{default:s(()=>[n(V,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:s(()=>t[10]||(t[10]=[d(" Cancel ")])),_:1,__:[10]},8,["onClick"])]),_:1}),n(u,{size:"auto"},{default:s(()=>[n(V,{onClick:e.saveBatch,class:"btnText",fill:"solid",style:{width:"130px"}},{default:s(()=>t[11]||(t[11]=[d(" Save ")])),_:1,__:[11]},8,["onClick"])]),_:1})]),_:1})]))])])}const Ze=R(ln,[["render",hn],["__scopeId","data-v-eb04f444"]]),_n=U({name:"xxxComponent",components:{Carousel:at,Slide:it,Pagination:st,Navigation:nt,customVaccine:oe,IonButton:ie,IonCol:se,IonRow:Z,IonLabel:q},data(){return{vaccine_schArray:[],vaccineSchudulesCount:0,milestones:[],iconsContent:W,showCurrentMilestoneAlert:!1,landingSlide:0,msg:"Upcoming Vaccines",current_milestone:"",componentKey:0}},computed:{...M(w,["vaccineReload"]),...M(X,["patient"])},async mounted(){await this.loadVaccineSchedule()},watch:{vaccineReload:{async handler(){await this.loadVaccineSchedule()},deep:!0},patient:{async handler(){await this.loadVaccineSchedule()},deep:!0},vaccine_schArray:{handler(){this.reloadVaccines()}}},methods:{openAdministerOtherVaccineModal(){k(Ze,{class:"otherVitalsModal"})},async loadVaccineSchedule(){var l,r,S,u,h,m,p,y,v;await this.setAppointmentDate();const e=this.patient.vaccineSchedule,t=w();t.setVaccineSchedule(e),t.setLastVaccinesGiven([]),this.vaccineSchudulesCount=(r=(l=t.getVaccineSchedule())==null?void 0:l.vaccine_schedule)==null?void 0:r.length,t.resetMissedVaccineSchedules(),this.vaccine_schArray=[],this.vaccine_schArray.push((S=t.getVaccineSchedule())==null?void 0:S.vaccine_schedule),(h=(u=t.getVaccineSchedule())==null?void 0:u.vaccine_schedule)==null||h.forEach(_=>{this.findMissingVaccines(_),this.findPreviouslyAdministeredVaccineSchedule(_),this.handleSchedule(_);const V={visit:_.visit,age:_.age};this.milestones=this.appendUniqueObject(this.milestones,V)});let a=!1;(p=(m=t.getVaccineSchedule())==null?void 0:m.vaccine_schedule)==null||p.forEach(_=>{if(!a&&this.findSingleUpcomingMilestone(_)==!0){a=!0;return}}),(v=(y=t.getVaccineSchedule())==null?void 0:y.vaccine_schedule)==null||v.forEach(_=>{this.findCurrentMilestone(_)})},setSB(e){const t=w();t.setCurrentMilestoneToAdminister({currentMilestone:e.age}),this.landingSlide=e.visit-1,this.current_milestone=e.age,t.setCurrentMilestone(e.age)},handleSchedule(e){e.milestone_status=="upcoming"?(w().setCurrentSchedFound(!1),this.msg="Upcoming Vaccines",this.showCurrentMilestoneAlert=!0,this.setSB(e)):(this.setSB(e),w().setCurrentSchedFound(!1))},findSingleUpcomingMilestone(e){return e.milestone_status=="upcoming"?(this.setSB(e),!0):!1},findCurrentMilestone(e){e.milestone_status=="current"&&(this.msg="Vaccines due today",w().setCurrentSchedFound(!0),this.showCurrentMilestoneAlert=!0,this.setSB(e))},slideEvent(e){const t=w(),a=t.getCurrentMilestoneToAdminister();this.milestones.forEach(r=>{r.visit-1==e.currentSlideIndex&&(t.setCurrentMilestone(r.age),this.current_milestone=r.age)});const l=t.getCurrentMilestone();if(l==a.currentMilestone){t.getCurrentSchedFound()==!1&&(this.msg="Upcoming Vaccines"),t.getCurrentSchedFound()==!0&&(this.msg="Vaccines due today"),this.showCurrentMilestoneAlert=!0;return}l.age!=a.currentMilestone&&(this.showCurrentMilestoneAlert=!1)},appendUniqueObject(e,t){return e.some(l=>l.visit===t.visit&&l.age===t.age)||e.push(t),e},isListEmpty(e){if(e.length>0)return!0;if(e.length==0)return!1},findMissingVaccines(e){const t={age:e.age,antigens:[]};e.milestone_status=="passed"&&e.antigens.forEach(l=>{l.status=="pending"&&t.antigens.push(l)});const a=w();t.antigens.length>0&&a.setMissedVaccineSchedules(t)},findPreviouslyAdministeredVaccineSchedule(e){const t=[];e.antigens.forEach(a=>{a.status=="administered"&&t.push(a)}),t.length>0&&w().setLastVaccinesGiven(t)},reloadVaccines(){this.componentKey+=1},openNextVaccineAppoinment(){k(Rt,{class:"otherVitalsModal"},!1)},async setAppointmentDate(){const e=w(),a=await new Ut().getNextAppointment();a!=null&&a.next_appointment_date&&e.setNextAppointMentDate(a.next_appointment_date)}}}),fn={key:0,class:"alert_banner"},gn={key:1,class:"alert_banner",style:{background:"inherit"}},vn={class:"container"},yn={class:"center-content"},bn={class:"centerBtns"},Sn={class:"otherVaccine center-content"},Dn={class:"centerBtns"};function Vn(e,t,a,l,r,S){const u=o("apan"),h=o("customVaccine"),m=o("ion-button"),p=o("ion-row"),y=o("slide"),v=o("navigation"),_=o("pagination"),V=o("carousel");return c(),f(E,null,[e.showCurrentMilestoneAlert?(c(),f("div",fn,[n(u,null,{default:s(()=>[d(b(e.msg),1)]),_:1})])):D("",!0),e.showCurrentMilestoneAlert?D("",!0):(c(),f("div",gn)),e.vaccineSchudulesCount>0?(c(),N(V,{key:2,"items-to-show":1,modelValue:e.landingSlide,onSlideEnd:e.slideEvent},{addons:s(()=>[n(v),n(_)]),default:s(()=>[(c(!0),f(E,null,ne(e.vaccineSchudulesCount,(C,I)=>(c(),N(y,{key:C},{default:s(()=>[n(p,{class:""},{default:s(()=>[i("div",vn,[(c(),N(h,{vaccines:e.vaccine_schArray[0][I].antigens,milestone_status:e.vaccine_schArray[0][I].milestone_status,key:e.componentKey},null,8,["vaccines","milestone_status"]))]),n(p,{class:"bottom-row"},{default:s(()=>[i("div",yn,[i("div",bn,[n(m,{onClick:t[0]||(t[0]=g=>e.openNextVaccineAppoinment()),class:"btnText",fill:"solid"},{default:s(()=>t[1]||(t[1]=[d("Set Next Appointment Date")])),_:1,__:[1]})])])]),_:1})]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue","onSlideEnd"])):D("",!0),n(p,{class:"bottom-row"},{default:s(()=>[i("div",Sn,[i("div",Dn,[n(m,{onClick:e.openAdministerOtherVaccineModal,class:"btnText",fill:"solid"},{default:s(()=>t[2]||(t[2]=[d(" Add Other Vaccines ")])),_:1,__:[2]},8,["onClick"])])])]),_:1})],64)}const wn=R(_n,[["render",Vn],["__scopeId","data-v-2fd0d538"]]),Cn=U({name:"Home",components:{IonHeader:J,IonMenuButton:ze,IonPage:We,IonTitle:K,IonToolbar:j,IonButton:ie,IonCard:He,IonCardContent:Le,IonCardHeader:Re,IonCardSubtitle:Ue,IonCardTitle:Fe,IonAccordion:Ge,IonAccordionGroup:Ee,IonItem:Q,IonLabel:q,IonModal:Oe,IonRow:Z,customVaccine:oe,IonCol:se,IonFooter:$e,IonContent:Y},data(){return{iconsContent:W}},computed:{...M(w,["currentMilestone","missedVaccineSchedules"])},methods:{vaccinesGivenCount(e){const t=[];return e.antigens.forEach(a=>{a.status=="administered"&&t.push(a)}),t.length},dismiss(){z.dismiss()}}}),In={style:{color:"#016302"}},kn={style:{color:"#316CBA","margin-left":"10%"}};function An(e,t,a,l,r,S){const u=o("ion-title"),h=o("ion-header"),m=o("ion-icon"),p=o("row"),y=o("customVaccine"),v=o("ion-content"),_=o("ion-button"),V=o("ion-col"),C=o("ion-row"),I=o("ion-footer");return c(),f(E,null,[n(h,null,{default:s(()=>[n(u,{style:{"margin-bottom":"20px"},class:"modalTitle"},{default:s(()=>t[1]||(t[1]=[d("Missed Vaccines")])),_:1,__:[1]})]),_:1}),n(v,{fullscreen:!0,class:"ion-padding"},{default:s(()=>[(c(!0),f(E,null,ne(e.missedVaccineSchedules,(g,B)=>(c(),f("div",{key:B},[n(p,{style:{width:"90%"}},{default:s(()=>[n(m,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),i("span",null,[t[2]||(t[2]=d(" at ")),i("span",In,b(g.age),1)]),i("span",kn,b(e.vaccinesGivenCount(g))+"/"+b(g.antigens.length)+" vaccine(s) given",1)]),_:2},1024),n(p,{style:{"text-align":"center"},class:"mod-ls"},{default:s(()=>[n(y,{vaccines:g.antigens,milestone_status:g.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),n(I,{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(C,null,{default:s(()=>[n(V,null,{default:s(()=>[n(_,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:t[0]||(t[0]=g=>e.dismiss())},{default:s(()=>t[3]||(t[3]=[d(" Cancel ")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1})],64)}const Mn=R(Cn,[["render",An],["__scopeId","data-v-3ba5e9df"]]),$n=U({name:"Menu",data(){return{isMobile:!1,visits:[],event:null,popoverOpen:!1,program:null}},mounted(){},computed:{...M(X,["patient"])},methods:{openPopover(e){this.event=e,this.popoverOpen=!0},openPIM(){k(Ht,{class:"otherVitalsModal largeModal"})},openOutCome(){k(Wt,{class:"otherVitalsModal largeModal"})},async printVisitSummary(){if(this.visits=await Je.getPatientVisits(this.patient.patientID,!1),this.visits.length)return new ke(this.patient.patientID).printVisitSummaryLbl(this.visits[0]);H("No visits available")},printID(){new ke(this.patient.patientID).printNidLbl()},formatCurrentAddress(e){var a,l,r;return[(a=e==null?void 0:e.personInformation)==null?void 0:a.current_district,(l=e==null?void 0:e.personInformation)==null?void 0:l.current_traditional_authority,(r=e==null?void 0:e.personInformation)==null?void 0:r.current_village].filter(Boolean).join(",")}}}),Nn=U({mixins:[$n],name:"Home",components:{IonContent:Y,IonHeader:J,IonMenuButton:ze,IonPage:We,IonTitle:K,IonToolbar:j,Toolbar:_t,ToolbarSearch:ht,DemographicBar:Dt,IonButton:ie,IonCard:He,IonCardContent:Le,IonCardHeader:Re,IonCardSubtitle:Ue,IonCardTitle:Fe,IonAccordion:Ge,IonAccordionGroup:Ee,IonItem:Q,IonLabel:q,IonModal:Oe,Stepper:wt,DynamicButton:je,WeightHeightChart:kt,PreviousVitals:ae,customSlider:wn,IonRow:Z,customVaccine:oe},data(){return{wizardData:[],StepperData:[],isOpen:!1,iconsContent:W,current_milestone:"",checkUnderSixWeeks:!1,unprotected_at_birth:"",protectedStatus:"",todays_date:A.toStandardHisDisplayFormat(O.getSessionDate()),lastVaccine:[],visits:[],selectedStatus:7}},computed:{...M(St,["vitals"]),...M(bt,["selectedMedicalDrugsList","nonPharmalogicalTherapyAndOtherNotes","selectedMedicalAllergiesList"]),...M(yt,["outcomes"]),...M(w,["currentMilestone","missedVaccineSchedules","overDueVaccinesCount","lastVaccinesGiven","lastVaccineGievenDate","nextAppointMentDate"])},async mounted(){this.loadCurrentMilestone(),this.checkAge(),await this.checkProtectedStatus(),await this.openFollowModal(),await this.programEnrollment()},watch:{currentMilestone:{handler(){this.loadCurrentMilestone()}},$route:{async handler(e){e.name=="patientProfile"&&this.patient.patientID&&(await this.checkProtectedStatus(),await this.programEnrollment())}},patient:{async handler(){this.patient&&(await this.checkProtectedStatus(),await this.programEnrollment(),this.checkAge(),this.setMilestoneReload())}}},setup(){return{chevronBackOutline:rt,checkmark:Te,ellipsisVerticalSharp:lt,person:ot}},methods:{handleChange(e){this.selectedStatus=e},async programEnrollment(){if(this.patient.patientID){this.program=new vt(this.patient.patientID);const e=await this.program.getProgramCurrentStates();if(e)this.selectedStatus=e.state;else{try{await this.program.enrollProgram(),await this.program.setStateId(7)}catch(t){await this.program.setStateId(7)}await this.program.updateState(),this.selectedStatus=7}}},async updateState(e){this.selectedStatus=e,await this.program.setStateId(e),await this.program.updateState()},getAge(e){return A.calculateDisplayAge(A.toStandardHisFormat(e))},async checkProtectedStatus(){this.protectedStatus=this.getData(this.patient.birthRegistration,11759)[0]},getData(e,t){return e?e.filter(a=>a.concept_id==t).map(a=>a.value_text):""},checkAge(){var e,t,a,l;F.isEmpty((t=(e=this.patient)==null?void 0:e.personInformation)==null?void 0:t.birthdate)||(this.checkUnderSixWeeks=A.dateDiffInDays(A.sessionDate(),(l=(a=this.patient)==null?void 0:a.personInformation)==null?void 0:l.birthdate)<42)},openVitalsModal(){k(Tt,{class:"otherVitalsModal"})},openWH(){k(Pt,{class:"otherVitalsModal"})},openVH(){k(Qt,{class:"otherVitalsModal vaccineHistoryModal"})},async openFollowModal(){var e;if((e=this.patient)!=null&&e.patientID){this.lastVaccine=await gt.getLastDrugsReceived(this.patient.patientID);const t={protectedStatus:this.protectedStatus,lastVaccinesGiven:this.lastVaccinesGiven};this.lastVaccinesGiven.length>0&&k(on,{class:"fullScreenModal"},!0,t)}},openAdministerVaccineModal(){k(Bt,{class:"otherVitalsModal"})},openAdministerOtherVaccineModal(){k(Ze,{class:"otherVitalsModal"})},isChild(){return!!new Je().isUnderFive()},getFormatedData(e){return e.map(t=>t==null?void 0:t.data)},async saveVitals(){if(this.vitals.validationStatus){const e=O.getUserID();new ft(this.patient.patientID,e).onFinish(this.vitals)}},async saveTreatmentPlan(){const e=O.getUserID(),t=this.patient.patientID,a=new Ct;if(!F.isEmpty(this.selectedMedicalAllergiesList)){const l=this.mapToAllergies();a.onSubmitAllergies(t,e,l)}if(!F.isEmpty(this.nonPharmalogicalTherapyAndOtherNotes)){const l=[{concept_id:2688,obs_datetime:O.getSessionDate(),value_text:this.nonPharmalogicalTherapyAndOtherNotes}];a.onSubmitNotes(t,e,l)}if(!F.isEmpty(this.selectedMedicalDrugsList)){const l=this.mapToOrders(),r=new Ae(t,e);if(!await r.createEncounter())return H("Unable to create treatment encounter");if(!await r.createDrugOrder(l))return H("Unable to create drug orders!");Qe("Drug order has been created")}},openModal(){k(Vt)},mapToOrders(){return this.selectedMedicalDrugsList.map(e=>{const t=Ae.getSessionDate(),a=It.find(l=>l.label===e.frequency)||{};return{drug_inventory_id:e.drug_id,equivalent_daily_dose:e.dose=="Unknown"?0:e.dose*(a==null?void 0:a.value)||0,start_date:t,auto_expire_date:this.calculateExpireDate(t,e.duration),units:e.units,instructions:"".concat(e.drugName,": ").concat(e.dose," ").concat(e.units," ").concat((a==null?void 0:a.code)||""," for ").concat(e.duration," days"),dose:e.dose,frequency:(a==null?void 0:a.code)||""}})},formatBirthdate(){var e,t;return A.toStandardHisDisplayFormat((t=(e=this.patient)==null?void 0:e.personInformation)==null?void 0:t.birthdate)},calculateExpireDate(e,t){const a=new Date(e);return a.setDate(a.getDate()+parseInt(t)),A.toStandardHisFormat(a)},mapToAllergies(){return this.selectedMedicalAllergiesList.map(e=>({concept_id:985,obs_datetime:O.getSessionDate(),value_coded:e.concept_id}))},loadCurrentMilestone(){const e=w();this.current_milestone=e.getCurrentMilestone()},showMissedVaccines(){this.missedVaccineSchedules.length>0&&k(Mn,{class:"otherVitalsModal vaccineHistoryModal"})},setMilestoneReload(){const e=w();e.setVaccineReload(!e.getVaccineReload())},getLastVaccinesGivenDisplayDate(){return A.toStandardHisDisplayFormat(this.lastVaccineGievenDate)}}}),Bn={fullscreen:!0,style:{"--background":"#fff"}},Pn={class:"demographics"},Tn={style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},On={style:{display:"flex","justify-content":"space-between","align-content":"center","padding-bottom":"5px","padding-top":"5px","padding-left":"5px"}},En={style:{"margin-right":"5px"}},Gn={class:"demographicsFirstRow"},Fn={class:"name"},Un={class:"demographicsOtherRow",style:{"margin-top":"10px"}},Rn={class:"demographicsText"},Ln={key:0,class:"demographicsOtherRow"},Hn={class:"demographicsText mediumFontColor"},Wn={key:1,class:"demographicsOtherRow"},zn={class:"demographicsText mediumFontColor"},jn={class:"demographicsOtherRow"},Kn={class:"demographicsText smallFont"},Qn={class:"mediumFontColor"},Jn={class:"demographicsOtherRow"},Yn={key:0,class:"demographicsText smallFont"},qn={key:1,class:"demographicsText smallFont"},Zn={key:2,class:"demographicsText smallFont"},Xn={class:"demographicsOtherRow",style:{"margin-bottom":"10px"}},xn={class:"demographicsText smallFont"},es={key:0,style:{background:"#fedf89",color:"#b54708"},class:"protectedStatus"},ts={key:1,style:{background:"#ddeedd"},class:"protectedStatus"},ns={key:2,class:"protectedStatus",style:{background:"#fecdca",color:"#b42318"}},ss={class:"graphSection"},is={class:"graphBtn",style:{"margin-bottom":"5px"}},as={class:"weightHeightGraphBtns"},os={key:0},ls={key:1},rs={key:0,class:"graphBtn"},cs={class:"dueAlert"},ds={class:"missed_vaccine_alert"},us={style:{"margin-right":"5px"}},ps={class:"vaccinesTitle"},ms={style:{width:"100%",display:"flex","justify-content":"space-between","align-content":"center"}},hs={class:"vaccinesTitleDate"},_s={class:"milestone"},fs={style:{display:"flex","justify-content":"space-between","align-content":"center"}},gs={style:{color:"#636363","margin-left":"5px","margin-top":"-4px"}},vs={style:{color:"#636363","font-weight":"bold","font-size":"14px"}},ys={class:"lastVaccine"},bs={class:"lastVaccineTitle"},Ss={key:0,class:"lastVaccineText"},Ds={class:"seeFullList"},Vs={style:{color:"#316cba","margin-left":"1%"}},ws={class:"ion-padding",slot:"content"};function Cs(e,t,a,l,r,S){var le,re,ce,de,ue,pe,me,he,_e,fe,ge,ve,ye,be,Se,De,Ve,we;const u=o("ion-icon"),h=o("WeightHeightChart"),m=o("PreviousVitals"),p=o("ion-button"),y=o("ion-col"),v=o("ion-row"),_=o("customSlider"),V=o("row"),C=o("customVaccine"),I=o("ion-label"),g=o("ion-item"),B=o("ion-accordion"),L=o("ion-toggle"),x=o("ion-list"),Xe=o("ion-accordion-group"),xe=o("ion-popover");return c(),f(E,null,[i("div",Bn,[i("div",Pn,[i("div",Tn,[i("div",On,[i("div",En,[i("div",{class:ct(((re=(le=e.patient)==null?void 0:le.personInformation)==null?void 0:re.gender)=="M"?"initialsBox maleColor":"initialsBox femaleColor")},[n(u,{style:{color:"#fff","font-size":"100px"},icon:e.person},null,8,["icon"])],2)]),i("div",null,[i("div",Gn,[i("div",Fn,b((de=(ce=e.patient)==null?void 0:ce.personInformation)==null?void 0:de.given_name)+" "+b((pe=(ue=e.patient)==null?void 0:ue.personInformation)==null?void 0:pe.middle_name)+" "+b((he=(me=e.patient)==null?void 0:me.personInformation)==null?void 0:he.family_name),1)]),i("div",Un,[i("div",Rn,[d(b(((fe=(_e=e.patient)==null?void 0:_e.personInformation)==null?void 0:fe.gender)=="M"?"Male":"Female")+" ",1),t[12]||(t[12]=i("span",{class:"dot"},".",-1)),d(" "+b(e.getAge((ve=(ge=e.patient)==null?void 0:ge.personInformation)==null?void 0:ve.birthdate))+" ("+b(e.formatBirthdate())+") ",1)])]),(be=(ye=e.patient)==null?void 0:ye.personInformation)!=null&&be.current_district?(c(),f("div",Ln,[t[13]||(t[13]=i("div",{class:"demographicsText"},"Current Address:",-1)),i("div",Hn,b(e.formatCurrentAddress(e.patient)),1)])):D("",!0),(De=(Se=e.patient)==null?void 0:Se.personInformation)!=null&&De.country?(c(),f("div",Wn,[t[14]||(t[14]=i("div",{class:"demographicsText"},"Country:",-1)),i("div",zn,b((we=(Ve=e.patient)==null?void 0:Ve.personInformation)==null?void 0:we.country),1)])):D("",!0),i("div",jn,[i("div",Kn,[t[15]||(t[15]=d(" MRN: ")),i("span",Qn,b(e.patient.ID),1)])]),i("div",Jn,[e.selectedStatus==7?(c(),f("div",Yn,t[16]||(t[16]=[d(" Outcome: "),i("span",{class:"outcomeStatus"}," Active",-1)]))):D("",!0),e.selectedStatus==6?(c(),f("div",qn,t[17]||(t[17]=[d(" Outcome: "),i("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Inactive",-1)]))):D("",!0),e.selectedStatus==3?(c(),f("div",Zn,t[18]||(t[18]=[d(" Outcome: "),i("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Died",-1)]))):D("",!0)]),i("div",Xn,[i("div",xn,[t[19]||(t[19]=d(" Status: ")),e.protectedStatus=="No"?(c(),f("span",es,"Unprotected at birth")):e.protectedStatus=="Yes"?(c(),f("span",ts,"Protected at birth")):(c(),f("span",ns,"Unknown protection at birth"))])])])])]),i("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:t[0]||(t[0]=$=>e.openPopover($))},[n(u,{icon:e.ellipsisVerticalSharp},null,8,["icon"])])]),i("div",ss,[i("div",null,[e.isChild()?(c(),N(h,{key:0,checkUnderSixWeeks:e.checkUnderSixWeeks,showHeightWeight:!0},null,8,["checkUnderSixWeeks"])):D("",!0),e.isChild()?D("",!0):(c(),N(m,{key:1}))]),i("div",is,[i("div",as,[i("div",null,[n(p,{class:"btnText",fill:"solid",onClick:t[1]||(t[1]=$=>e.openWH())},{default:s(()=>[e.checkUnderSixWeeks?(c(),f("span",ls," Enter Weight")):(c(),f("span",os," Enter Weight/Height")),n(u,{slot:"end",size:"small",icon:e.iconsContent.whiteHeightWeight},null,8,["icon"])]),_:1})]),i("div",null,[n(p,{class:"btnText",fill:"solid",onClick:t[2]||(t[2]=$=>e.openVitalsModal())},{default:s(()=>[t[20]||(t[20]=d(" Enter Other Vitals ")),n(u,{slot:"end",size:"small",icon:e.iconsContent.whiteVitals},null,8,["icon"])]),_:1,__:[20]})])])])]),i("div",null,[e.overDueVaccinesCount>0?(c(),f("div",rs,[i("div",cs,[n(v,null,{default:s(()=>[e.overDueVaccinesCount>0?(c(),N(y,{key:0,style:{display:"flex","justify-content":"center",cursor:"pointer"},onClick:e.showMissedVaccines},{default:s(()=>[i("div",ds,[n(u,{slot:"start",icon:e.iconsContent.alertDangerRed},null,8,["icon"]),i("span",us,b(e.overDueVaccinesCount)+" vaccine(s) overdue",1)])]),_:1},8,["onClick"])):D("",!0)]),_:1})])])):D("",!0),i("div",ps,[i("div",ms,[t[22]||(t[22]=i("div",{class:"vaccinesTitleText"},"Administer Vaccines",-1)),i("div",hs,[t[21]||(t[21]=i("span",{style:{"font-size":"13px"}},"Next Appt. Date: ",-1)),i("b",null,b(e.nextAppointMentDate),1)])])]),i("div",_s,[i("div",fs,[n(u,{size:"small",icon:e.iconsContent.greenCalender},null,8,["icon"]),i("div",gs,[t[23]||(t[23]=d(" at ")),i("span",vs,b(e.current_milestone),1)])]),t[24]||(t[24]=i("div",{class:"vaccinesTitleDate"},"(Swipe left or right for other milestones)",-1))]),n(_),i("div",ys,[i("div",bs,[e.lastVaccinesGiven.length>0?(c(),f("div",Ss,"Last vaccines given")):D("",!0),i("div",Ds,[n(p,{onClick:t[3]||(t[3]=$=>e.openVH()),style:{color:"#016302"},class:"btnText btnTextWeight",size:"small",fill:"clear"},{default:s(()=>t[25]||(t[25]=[i("span",null,"See full History",-1)])),_:1,__:[25]})])]),e.lastVaccinesGiven.length>0?(c(),N(V,{key:0},{default:s(()=>[n(u,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),i("span",Vs,b(e.getLastVaccinesGivenDisplayDate()),1)]),_:1})):D("",!0),e.lastVaccinesGiven.length>0?(c(),N(V,{key:1},{default:s(()=>[n(C,{vaccines:e.lastVaccinesGiven,milestone_status:""},null,8,["vaccines"])]),_:1})):D("",!0)])])]),n(xe,{style:{"--offset-x":"-10px"},"is-open":e.popoverOpen,"show-backdrop":!1,event:e.event,onDidDismiss:t[11]||(t[11]=$=>e.popoverOpen=!1)},{default:s(()=>[i("div",null,[n(Xe,{multiple:!0},{default:s(()=>[n(B,{value:"first","toggle-icon":"",onClick:t[4]||(t[4]=$=>e.openPIM())},{default:s(()=>[n(g,{slot:"header",color:"light"},{default:s(()=>[n(I,null,{default:s(()=>t[26]||(t[26]=[d("Update demographics")])),_:1,__:[26]})]),_:1})]),_:1}),n(B,{value:"first","toggle-icon":"",onClick:t[5]||(t[5]=$=>e.openFollowModal())},{default:s(()=>[n(g,{slot:"header",color:"light"},{default:s(()=>[n(I,null,{default:s(()=>t[27]||(t[27]=[d("Follow up visits")])),_:1,__:[27]})]),_:1})]),_:1}),n(B,{value:"second","toggle-icon":"",onClick:t[6]||(t[6]=$=>e.printVisitSummary())},{default:s(()=>[n(g,{slot:"header",color:"light"},{default:s(()=>[n(I,null,{default:s(()=>t[28]||(t[28]=[d("Print visit summary")])),_:1,__:[28]})]),_:1})]),_:1}),n(B,{value:"third","toggle-icon":"",onClick:t[7]||(t[7]=$=>e.printID())},{default:s(()=>[n(g,{slot:"header",color:"light"},{default:s(()=>[n(I,null,{default:s(()=>t[29]||(t[29]=[d("Print client identifier")])),_:1,__:[29]})]),_:1})]),_:1}),n(B,{value:"fourth"},{default:s(()=>[n(g,{slot:"header",color:"light"},{default:s(()=>[n(I,null,{default:s(()=>t[30]||(t[30]=[d("Update outcome")])),_:1,__:[30]})]),_:1}),i("div",ws,[n(x,null,{default:s(()=>[n(g,null,{default:s(()=>[n(L,{checked:e.selectedStatus==7,value:"active",onIonChange:t[8]||(t[8]=$=>e.updateState(7))},{default:s(()=>t[31]||(t[31]=[d(" Active ")])),_:1,__:[31]},8,["checked"])]),_:1}),n(g,null,{default:s(()=>[n(L,{checked:e.selectedStatus==6,value:"inactive",onIonChange:t[9]||(t[9]=$=>e.updateState(6))},{default:s(()=>t[32]||(t[32]=[d(" Inactive ")])),_:1,__:[32]},8,["checked"])]),_:1}),n(g,null,{default:s(()=>[n(L,{checked:e.selectedStatus==3,value:"died",onIonChange:t[10]||(t[10]=$=>e.updateState(3))},{default:s(()=>t[33]||(t[33]=[d(" Died ")])),_:1,__:[33]},8,["checked"])]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1},8,["is-open","event"])],64)}const hi=R(Nn,[["render",Cs],["__scopeId","data-v-029f1008"]]);export{hi as default};
