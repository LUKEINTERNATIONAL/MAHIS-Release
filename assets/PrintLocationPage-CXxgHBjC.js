import{d as p,r as _,a as y,bb as L,d8 as v,e as I,f as m,k as i,K as C,O as b,u as e,aP as P,J as l,l as a,aN as N,Q as u,aO as x,_ as F,N as O,L as S,az as k,aM as B,a7 as h,aa as w}from"./vendor-CwRShy1a.js";import{N as E}from"./NavigationMenu-BwBqNqWf.js";import{_ as g,E as V,F as $,s as f,G as D}from"./index-Dxep0tg5.js";import"./lodash-Dt8AsbQm.js";import"./EIRreportsStore-DBHm-0sE.js";import"./apexcharts-B7MGi37O.js";const M=p({__name:"LocationLbl",props:{imageOut:{type:Object},location_id:{type:Number,required:!0},location_name:{type:String,required:!0}},emits:["label-out"],setup(s,{emit:c}){const o=c,d=_(null),r=s;return y(()=>{L("#location-barcode","".concat(r.location_id),{height:70,width:3,displayValue:!1,format:"CODE128"}),v.toPng(d.value,{width:500,height:250}).then(n=>{o("label-out",n),typeof r.imageOut=="function"&&r.imageOut([n])})}),(n,t)=>(m(),I("div",{ref_key:"labelComponent",ref:d,id:"container"},[i("div",null,C(s.location_name),1),t[0]||(t[0]=i("div",{style:{padding:"1%"}},null,-1)),t[1]||(t[1]=i("svg",{id:"location-barcode"},null,-1))],512))}}),q=g(M,[["__scopeId","data-v-be7e2966"]]);async function H(s){return V(q,{scaleHeight:280,useImage:!1,lblUrl:"labels/location?location_id=".concat(s)})}const J={class:"ion-margin-top"},T=p({__name:"PrintLocation",setup(s){const c=_(""),o=_(null);function d(n){var t;o.value=n.selected_location,c.value=((t=n.selected_location)==null?void 0:t.name)||""}async function r(){if(!o.value){f("Please select a facility first");return}try{H(o.value.location_id),D("Location label sent to printer")}catch(n){console.error("Error printing location:",n),f("Failed to print location label")}}return(n,t)=>(m(),b(e(P),null,{default:l(()=>[a(e(x),null,{default:l(()=>[a(e(N),null,{default:l(()=>t[0]||(t[0]=[u("Select Facility to Print")])),_:1,__:[0]})]),_:1}),a(e(B),null,{default:l(()=>[a(e(F),null,{default:l(()=>t[1]||(t[1]=[i("h3",null,[u("Select Facility "),i("span",{style:{color:"red"}},"*")],-1)])),_:1,__:[1]}),a($,{show_error:!1,selected_district_ids:[],selected_location:null,onFacilitySelected:d}),i("div",J,[a(e(O),{expand:"block",disabled:!o.value,onClick:r,color:"primary"},{default:l(()=>[a(e(S),{icon:e(k),slot:"start"},null,8,["icon"]),t[2]||(t[2]=u(" Print Location "))]),_:1,__:[2]},8,["disabled"])])]),_:1})]),_:1}))}}),j=g(T,[["__scopeId","data-v-ad44e450"]]),U=p({__name:"PrintLocationPage",setup(s){return(c,o)=>(m(),b(e(w),null,{default:l(()=>[a(E,{title:"Print location"}),o[0]||(o[0]=i("p",{class:"ion-padding"},null,-1)),a(e(h),null,{default:l(()=>[a(j)]),_:1})]),_:1,__:[0]}))}});export{U as default};
