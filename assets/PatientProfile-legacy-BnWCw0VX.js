System.register(["./vendor-legacy-Doqs4mMk.js","./index-legacy-C6zVHlum.js","./DemographicBar-legacy-zc24Sq-L.js","./SaveProgressModal-legacy-CQn8Y0NI.js","./Stepper-legacy-B_cNF5RJ.js","./NextAppointment-legacy-CH-k5xDm.js","./lodash-legacy-pOOc9Efu.js","./drug_prescription_service-legacy-JBhCwTUg.js","./WeightHeightChart-legacy-D2vq9D_Z.js","./BasicForm-legacy-DUmyWzPC.js","./customDatePicker.vue_vue_type_style_index_0_lang-legacy-DvdwB5VW.js","./formatServerData-legacy-VfGj6NG_.js","./vaccines_service-legacy-DdqIRuyY.js","./barcode-qrcode-reader-legacy-CrwoJlIo.js","./stock_service-legacy-Ddpul23L.js","./SetRelationship.vue_vue_type_script_lang-legacy-Cy6Ml1Ef.js","./group_validation-legacy-yOZT8eA7.js","./relationship_service-legacy-DzIiXjx9.js","./AdministerOtherVaccinesStore-legacy-Chmfp9C_.js","./usePatientProfile-legacy-BtKShDR-.js","./Outcome-legacy-DjwkO5kP.js","./apexcharts-legacy-C_rQ_hcj.js","./OPDOutcome-legacy-D-JSCERY.js","./patient_complaints_service-legacy-D1nUaROj.js","./DashBox-legacy-DkIbK-8L.js","./useExposeFromStandardForm-legacy-tDnUeBSh.js","./drug_service-legacy-CvXLeWXT.js","./TreatmentPlan-legacy-CCPOeSMQ.js","./previousDiagnosis-legacy-CSkthHd1.js","./FeatusModal-legacy-DtRFXVz8.js","./BasicCard-legacy-Ch0lL_nz.js","./PastObstreticHistoryStore-legacy-B_Nv6jkU.js","./lab_order-legacy-DOSR-6iU.js","./UpcomingFeature-legacy-CxzzY45c.js","./ncd_appointment_service-legacy-BIl0P5Xw.js","./DateInputField-legacy-Bb6D3WSO.js","./chartjs-legacy-DN4TnB17.js","./sms_service-legacy-C45D8DlM.js","./EIRreportsStore-legacy-DKcg0qLS.js","./Export-legacy-Nzgo0Y8G.js","./Registration-legacy-ByaqP_Yq.js","./useLocation-legacy-Dt7qWBXS.js"],function(t,e){"use strict";var a,n,i,o,s,l,r,c,d,u,p,h,m,g,v,f,b,x,_,y,w,D,I,C,k,S,V,B,T,A,M,N,P,j,O,H,z,F,R,E,W,L,G,U,$,q,Y,K,Q,J,Z,X,tt,et,at,nt,it,ot,st,lt,rt,ct,dt,ut,pt,ht,mt,gt,vt,ft,bt,xt,_t,yt,wt,Dt,It,Ct,kt,St,Vt,Bt,Tt,At,Mt,Nt,Pt,jt,Ot,Ht,zt,Ft,Rt,Et,Wt,Lt,Gt,Ut,$t,qt,Yt,Kt,Qt,Jt,Zt,Xt,te,ee,ae,ne,ie,oe,se,le,re,ce,de,ue,pe,he,me,ge;return{setters:[t=>{a=t.D,n=t.d,i=t.af,o=t.a2,s=t.G,l=t.E,r=t.ag,c=t.ab,d=t.a1,u=t.I,p=t.a8,h=t.Q,m=t.aj,g=t._,v=t.$,f=t.H,b=t.e,x=t.m,_=t.f,y=t.k,w=t.N,D=t.P,I=t.K,C=t.l,k=t.J,S=t.a,V=t.r,B=t.u,T=t.b1,A=t.b8,M=t.M,N=t.F,P=t.eI,j=t.ad,O=t.ac,H=t.O,z=t.i,F=t.v,R=t.a9,E=t.aa,W=t.be,L=t.ai,G=t.ah,U=t.aP,$=t.cb,q=t.aQ,Y=t.aO,K=t.aR,Q=t.ae,J=t.c0,Z=t.L,X=t.a0,tt=t.b7,et=t.a7,at=t.bg,nt=t.d1,it=t.d2,ot=t.d3,st=t.d4,lt=t.cM,rt=t.dA,ct=t.bC,dt=t.p},t=>{ut=t.l,pt=t.j,ht=t.B,mt=t.aH,gt=t.M,vt=t.u,ft=t.H,bt=t._,xt=t.k,_t=t.t,yt=t.$,wt=t.S,Dt=t.o,It=t.N,Ct=t.s,kt=t.aI,St=t.J,Vt=t.c9,Bt=t.b6,Tt=t.K,At=t.bi,Mt=t.bB,Nt=t.ca,Pt=t.v,jt=t.cb,Ot=t.P,Ht=t.Q,zt=t.T,Ft=t.aR,Rt=t.a6,Et=t.aE,Wt=t.aD,Lt=t.aN},t=>{Gt=t.D},t=>{Ut=t.S},t=>{$t=t.az,qt=t.S},t=>{Yt=t.T},t=>{Kt=t.l},t=>{Qt=t.a,Jt=t.D},t=>{Zt=t.default},t=>{Xt=t.B},t=>{te=t._},t=>{ee=t.a},t=>{ae=t.i,ne=t.s,ie=t.j,oe=t.A,se=t.n},t=>{le=t.I},t=>{re=t.S},t=>{ce=t._,de=t.u},t=>{ue=t.v},t=>{pe=t.R},t=>{he=t.u},t=>{me=t._},t=>{ge=t.O},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent=".vitals_title[data-v-d7374316]{margin-bottom:50px}.input-with-icon[data-v-d7374316]{position:relative}.input-icon[data-v-d7374316]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-d7374316]{padding-bottom:15px}h5[data-v-d7374316]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-d7374316]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.OtherVitalsHeading[data-v-d7374316]{display:flex;justify-content:space-between;margin:20px;line-height:60px;flex-direction:column}.vitalsContent[data-v-d7374316]{height:500px}.saveBtn[data-v-d7374316]{display:flex;justify-content:space-between;margin:20px;width:330px;align-items:center}.btnContent[data-v-d7374316]{display:flex;justify-content:center;line-height:60px}.modal_wrapper[data-v-d7374316]{padding:0 10px;background:#fff}.TodaysDate[data-v-d7374316]{display:flex;align-items:center}.TodaysDate span[data-v-d7374316]{margin-left:5px}.scanner__container .content{min-height:inherit!important;background:#a9a9a9!important}.overlay{position:relative}.focus-frame{position:absolute;top:50%;left:50%;width:60%;height:60%;box-sizing:border-box;transform:translate(-50%,-50%);pointer-events:none;z-index:2}.dark-overlay{position:absolute;background:rgba(0,0,0,.5);pointer-events:none;z-index:1}.dark-overlay.top{top:0;left:0;right:0;height:20%}.dark-overlay.bottom{bottom:0;left:0;right:0;height:20%}.dark-overlay.left{top:20%;bottom:20%;left:0;width:20%}.dark-overlay.right{top:20%;bottom:20%;right:0;width:20%}.my-custom-alert[data-v-cf655518]{--background: #ffffff;--color: #cf4a4a !important}[data-v-cf655518] .alert-button-group{padding:8px}[data-v-cf655518] .alert-danger-button{background-color:#cf4a4a!important;color:var(--ion-color-light)!important}.alert-message-red[data-v-cf655518]{color:#cf4a4a!important}.shadowless-card[data-v-039b66ba]{box-shadow:none;border:none;background:none}.vitals_title[data-v-58aa351e]{margin-bottom:50px}.input-with-icon[data-v-58aa351e]{position:relative}.input-icon[data-v-58aa351e]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-58aa351e]{padding-bottom:15px}h5[data-v-58aa351e]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-58aa351e]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.OtherVitalsHeading[data-v-58aa351e]{display:flex;justify-content:space-between;margin:20px;line-height:60px}.vitalsContent[data-v-58aa351e]{height:500px}.saveBtn[data-v-58aa351e]{display:flex;justify-content:space-between;margin:20px;align-items:center}.btnContent[data-v-58aa351e]{justify-content:center;line-height:60px}.advac[data-v-58aa351e]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.lbl-ct[data-v-58aa351e]{white-space:nowrap;color:#08475e;font-size:14px}.om[data-v-58aa351e]{font-size:10;font-weight:600px}.lbl-tl[data-v-58aa351e]{min-width:20px;color:#b3b3b3!important;white-space:nowrap}.error-label[data-v-58aa351e]{background:#fecdca;color:#b42318;text-transform:none;padding:6%;border-radius:10px;margin-top:7px;display:flex;text-align:center}.modal_wrapper[data-v-58aa351e]{background:inherit}.client_admi[data-v-58aa351e]{display:flex;flex-direction:row;align-items:flex-start;padding:10px 10px 0;gap:5px;width:363px;height:28px;flex:none;order:2;align-self:stretch;flex-grow:0}.client_admi_sub[data-v-58aa351e]{font-weight:400;font-size:15px;color:#636363}.client_admin_sub_x[data-v-58aa351e]{font-weight:500;font-size:16px;color:#454545}.saveBtn[data-v-ea212a62]{display:flex;justify-content:space-between;margin:20px;align-items:center}ion-row.centered-content[data-v-ea212a62]{display:flex;justify-content:center;align-items:center}.text-container[data-v-ea212a62]{text-align:center;padding:20px;border-radius:10px}.text-container div[data-v-ea212a62]{margin-bottom:10px;font-family:Arial,sans-serif;color:#333}.text-container div[data-v-ea212a62]:last-child{margin-bottom:0}.administerVac .button-content[data-v-90bda1b0]{display:flex;flex-direction:column;text-align:center;width:100%;gap:15px}.demographics[data-v-90bda1b0]{box-sizing:border-box;width:95vw;height:92px;left:calc(50% - 203px);margin-top:10px;background:#fff;border:1px solid #d9d9d9;border-radius:7px}.demographicsFirstRow[data-v-90bda1b0]{display:flex;flex-direction:row;align-items:center;padding:10px 5px;gap:15px;height:24px;justify-content:space-between}.name[data-v-90bda1b0]{height:24px;font-style:normal;font-weight:700;font-size:20px;line-height:24px;color:#00190e;flex:none;order:0;flex-grow:0}.demographicsText[data-v-90bda1b0]{font-style:normal;font-weight:400;font-size:14px;line-height:5px;color:#636363;flex:none;order:0;flex-grow:0}.demographicsOtherRow[data-v-90bda1b0]{display:flex;flex-direction:row;align-items:center;padding:1px 5px;gap:10px;height:18px;left:calc(50% - 95px);top:calc(50% - 467px)}.smallFont[data-v-90bda1b0]{font-size:14px}.mediumFontColor[data-v-90bda1b0]{color:#00190e}.weightHeightGraphBtns[data-v-90bda1b0]{display:flex;justify-content:space-between;margin-top:8px}.btnText[data-v-90bda1b0]{font-style:normal;font-weight:500;font-size:14px}.btnTextWeight[data-v-90bda1b0]{color:#000;--border-width: 1px;margin-right:15px}.dot[data-v-90bda1b0]{font-size:25px}.initialsBox[data-v-90bda1b0]{width:80px;height:80px;left:31px;top:122px;background:#5983ba;border-radius:10px;align-items:center;display:flex}.initialsText[data-v-90bda1b0]{width:100%;font-style:normal;font-weight:800;font-size:40px;display:flex;align-items:center;text-align:center;justify-content:center;align-content:center;color:#fff}.outcomeStatus[data-v-90bda1b0]{padding:2px 7px;width:50px;height:18px;background:#ded;border-radius:22px;font-style:normal;font-weight:700;font-size:14px;align-items:center;text-align:center}.graphSection[data-v-90bda1b0]{box-sizing:border-box;background:#f7f7f7;border:1px solid #d9d9d9;border-radius:3px;margin-top:7px}.graphBtn[data-v-90bda1b0]{display:flex;justify-content:center}.dueAlert[data-v-90bda1b0]{display:flex;justify-content:space-between;border:solid 1px #ccc;border-style:dashed;margin-top:10px;padding:5px}.dueAlertText[data-v-90bda1b0]{font-style:normal;font-weight:500;font-size:14px;color:#b42318;padding:10px}.vaccinesTitle[data-v-90bda1b0]{display:flex;justify-content:space-around;padding:15px}.vaccinesTitleText[data-v-90bda1b0]{font-style:normal;font-weight:600;font-size:17px;color:#00190e}.vaccinesTitleDate[data-v-90bda1b0]{font-style:normal;font-weight:400;font-size:14px;color:#636363}.milestone[data-v-90bda1b0]{display:flex;justify-content:space-between;padding-left:15px;padding-right:15px}.arrowBtns[data-v-90bda1b0]{position:absolute;top:30px}.vaccinesList[data-v-90bda1b0]{margin-top:8px}.seeFullList[data-v-90bda1b0]{font-style:normal;font-weight:500;font-size:14px;line-height:24px;display:flex;align-items:center;text-align:center;color:#316cba;float:right}.warningText[data-v-90bda1b0]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:6px;gap:1px;background:#fedf89;border-radius:4px;font-size:13px;margin-right:10px;color:#636363}.successText[data-v-90bda1b0]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:6px;gap:1px;background:#ded;border-radius:4px;font-size:13px;color:#636363}.centerBtns[data-v-90bda1b0]{display:flex;justify-content:center;margin-bottom:10px}.otherVaccine[data-v-90bda1b0]{padding:10px;margin-bottom:10px}.dotsWizard[data-v-90bda1b0]{display:flex;justify-content:space-between;width:150px;margin:0 auto;align-items:center}.dotBig[data-v-90bda1b0]{font-size:.7rem!important}.dotStatus[data-v-90bda1b0]{font-size:.4rem!important}.lastVaccineTitle[data-v-90bda1b0]{display:flex;justify-content:space-between}.lastVaccine[data-v-90bda1b0]{padding-left:20px;padding-right:20px;padding-top:10px}.lastVaccineText[data-v-90bda1b0]{font-style:normal;font-weight:600;font-size:18px;line-height:150%;color:#00190e}.lastVaccineList[data-v-90bda1b0]{display:flex;justify-content:space-between;width:210px;margin-bottom:20px}.lastVaccineDate[data-v-90bda1b0]{display:flex;justify-content:space-between;width:210px;margin-bottom:10px;align-items:center}.administerVac[data-v-90bda1b0]{height:78px;min-width:160px;max-width:100%;width:auto;margin:7px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vitals_title[data-v-59edb4e4]{border-bottom:1px solid #b3b3b3;margin-bottom:50px}.input-with-icon[data-v-59edb4e4]{position:relative}.input-icon[data-v-59edb4e4]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-59edb4e4]{padding-bottom:15px}h5[data-v-59edb4e4]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-59edb4e4]{font-style:normal;font-weight:600;font-size:20px;color:rgba(31,34,33,.83)!important}.OtherVitalsHeading[data-v-59edb4e4]{display:flex;justify-content:space-between;margin:20px;border-bottom:1px solid #ccc;line-height:60px}.mod-ls[data-v-59edb4e4]{border-bottom:1px solid #ccc;line-height:60px}.saveBtn[data-v-59edb4e4]{display:flex;justify-content:space-between;margin:20px;width:330px;align-items:center}.btnContent[data-v-59edb4e4]{display:flex;justify-content:center;border-top:1px solid #ccc;line-height:60px}.dotStatus[data-v-59edb4e4]{font-size:.5rem!important}ion-button.medicalAlBtn[data-v-59edb4e4]{--background: #fecdca;--color: #b42318;text-transform:none;font-size:large}ion-button.medicalAlBtn-2[data-v-59edb4e4]{--background: #DDEEDD;--color: #016302;text-transform:none;font-size:large}.otherVitalsModal[data-v-59edb4e4]{--height: 530px}.vitals_title[data-v-4497bb3f]{margin-bottom:50px}.input-with-icon[data-v-4497bb3f]{position:relative}.input-icon[data-v-4497bb3f]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-4497bb3f]{padding-bottom:15px}h5[data-v-4497bb3f]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-4497bb3f]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.OtherVitalsHeading[data-v-4497bb3f]{display:flex;justify-content:space-between;margin:10px}.vitalsContent[data-v-4497bb3f]{height:500px}.saveBtn[data-v-4497bb3f]{display:flex;justify-content:space-between;margin:20px;width:330px;align-items:center}.btnContent[data-v-4497bb3f]{display:flex;justify-content:center;line-height:60px}.custom_card[data-v-4497bb3f]{margin-bottom:20px}.lbl-tl[data-v-7b242731]{min-width:20px;color:#b3b3b3!important;white-space:nowrap}.lbl-ct[data-v-7b242731]{white-space:nowrap;color:#08475e}.pim-cls-1[data-v-7b242731]{--background: #ffff}ion-footer[data-v-7b242731]{--ion-toolbar-background: #fff}.dashed-hr[data-v-7b242731]{border:none;border-top:2px dashed #b3b3b3;margin:20px 0}.modal_wrapper[data-v-7b242731]{padding:0 10px;background:#fff}.OtherVitalsTitle[data-v-7b242731]{font-style:normal;font-weight:600;font-size:16px;color:#00190e}.OtherVitalsHeading[data-v-7b242731]{display:flex;justify-content:space-between;margin:10px;line-height:40px;flex-direction:column}.vitalsContent[data-v-7b242731]{height:500px;margin:10px}.saveBtn[data-v-7b242731]{display:flex;justify-content:space-between;margin:20px;width:330px;align-items:center}.btnContent[data-v-7b242731]{display:flex;justify-content:center;line-height:60px}.TodaysDate[data-v-7b242731]{display:flex;align-items:center}.TodaysDate span[data-v-7b242731]{margin-left:5px}.vitals_title[data-v-eb04f444]{margin-bottom:50px}.input-with-icon[data-v-eb04f444]{position:relative}.input-icon[data-v-eb04f444]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-eb04f444]{padding-bottom:15px}h5[data-v-eb04f444]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-eb04f444]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.OtherVitalsHeading[data-v-eb04f444]{display:flex;justify-content:space-between;margin:20px;line-height:60px}.vitalsContent[data-v-eb04f444]{height:500px}.saveBtn[data-v-eb04f444]{display:flex;justify-content:space-between;margin:20px;align-items:center}.btnContent[data-v-eb04f444]{justify-content:center;line-height:60px}.om[data-v-eb04f444]{font-size:10;font-weight:600px}.lbl-tl[data-v-eb04f444]{min-width:20px;color:#b3b3b3!important;white-space:nowrap}.lbl-ct[data-v-eb04f444]{white-space:nowrap;color:#08475e;font-size:14px}.error-label[data-v-eb04f444]{background:#fecdca;color:#b42318;text-transform:none;padding:6%;border-radius:10px;margin-top:7px;display:flex;text-align:center}.btnText[data-v-eb04f444]{font-style:normal;font-weight:500;font-size:14px}.carousel__icon{width:var(--vc-icn-width);height:var(--vc-icn-width);fill:currentColor;background:none;color:#016302}.carousel__pagination-button--active{background-color:#016302}.carousel__pagination-button:after .carousel__pagination-button--active{background-color:#ff69b4}.otherVaccine{padding:10px;margin-bottom:10px}.centerBtns{display:flex;justify-content:center;margin-bottom:10px}.btnText{font-style:normal;font-weight:500;font-size:14px}.container{display:flex;flex-direction:column}.btnTextWeight{color:#000;--border-width: 1px;margin-right:0}ion-row{width:100%}.bottom-row{margin-top:20px;justify-content:center;align-items:center}.center-content{display:flex;justify-content:center;align-items:center;width:100%}.alert_banner{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0 30px;gap:9px;height:33px;background:#ded;flex:none;order:1;align-self:stretch;flex-grow:0}.swipe_msg{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0;gap:10px;flex:none;order:3;flex-grow:0}.vaccinesTitleDate{font-style:normal;font-weight:400;font-size:14px;color:#636363}.btnText[data-v-3ba5e9df]{font-style:normal;font-weight:500;font-size:14px}.btnTextWeight[data-v-3ba5e9df]{color:#000;--border-width: 1px;margin-right:15px}.dueAlert[data-v-3ba5e9df]{justify-content:space-between;margin-top:10px;padding:5px}.dueAlertText[data-v-3ba5e9df]{font-style:normal;font-weight:500;font-size:14px;color:#b42318;padding:10px}.mod-ls[data-v-3ba5e9df]{border-bottom:1px solid #ccc;line-height:60px}ion-accordion[data-v-029f1008]{background:#fff}ion-list[data-v-029f1008]{--ion-background-color: #fff}.demographics[data-v-029f1008]{box-sizing:border-box;width:98vw;left:calc(50% - 203px);margin-top:10px;background:#fff;border:1px solid #d9d9d9;border-radius:7px;display:flex;justify-content:space-between;margin-left:1vw}.demographicsFirstRow[data-v-029f1008]{display:flex;flex-direction:row;align-items:center;padding:10px 5px;gap:15px;height:24px;justify-content:space-between}.name[data-v-029f1008]{height:24px;font-style:normal;font-weight:700;font-size:20px;line-height:24px;color:#00190e;flex:none;order:0;flex-grow:0}.demographicsText[data-v-029f1008]{font-style:normal;font-weight:400;font-size:14px;line-height:5px;color:#636363;flex:none;order:0;flex-grow:0}.demographicsOtherRow[data-v-029f1008]{display:flex;gap:10px;margin-top:20px;margin-left:5px}.smallFont[data-v-029f1008]{font-size:14px}.mediumFontColor[data-v-029f1008]{color:#00190e}.weightHeightGraphBtns[data-v-029f1008]{display:flex;justify-content:space-around;margin-top:8px;width:100%;max-width:500px}.btnText[data-v-029f1008]{font-style:normal;font-weight:500;font-size:14px}.btnTextWeight[data-v-029f1008]{color:#000;--border-width: 1px;margin-right:15px}.dot[data-v-029f1008]{font-size:25px}.initialsBox[data-v-029f1008]{width:95px;height:115px;left:31px;top:122px;border-radius:10px;align-items:center;display:flex;justify-content:center}.maleColor[data-v-029f1008]{background:#5983ba}.femaleColor[data-v-029f1008]{background:#876d9b}.initialsText[data-v-029f1008]{width:100%;font-style:normal;font-weight:800;font-size:40px;display:flex;align-items:center;text-align:center;justify-content:center;align-content:center;color:#fff}.outcomeStatus[data-v-029f1008]{padding:2px 7px;width:50px;height:18px;background:#ded;border-radius:22px;font-style:normal;font-weight:700;font-size:14px;align-items:center;text-align:center}.protectedStatus[data-v-029f1008]{padding:2px 7px;width:50px;height:18px;border-radius:22px;font-style:normal;font-weight:400;font-size:14px;align-items:center;color:#006401;text-align:center}.graphSection[data-v-029f1008]{box-sizing:border-box;background:#f7f7f7;border:1px solid #d9d9d9;border-radius:3px;margin-top:7px}.graphBtn[data-v-029f1008]{display:flex;justify-content:center}.dueAlert[data-v-029f1008]{justify-content:space-between;border:solid 1px #ccc;border-style:dashed;border-left:none;border-right:none;margin-top:10px;padding:5px;width:100%}.dueAlertText[data-v-029f1008]{font-style:normal;font-weight:500;font-size:14px;color:#b42318;padding:10px}.vaccinesTitle[data-v-029f1008]{display:flex;justify-content:space-around;padding:15px}.vaccinesTitleText[data-v-029f1008]{font-style:normal;margin-top:-7px;font-weight:600;font-size:18px;color:#00190e}.vaccinesTitleDate[data-v-029f1008]{font-style:normal;font-weight:400;font-size:14px;color:#636363}.milestone[data-v-029f1008]{display:flex;justify-content:space-between;padding-left:15px;padding-right:15px}.arrowBtns[data-v-029f1008]{position:absolute;top:30px}.vaccinesList[data-v-029f1008]{margin-top:8px}.seeFullList[data-v-029f1008]{font-style:normal;font-weight:500;font-size:14px;line-height:24px;display:flex;align-items:center;text-align:center;color:#316cba;float:right}.warningText[data-v-029f1008]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:6px;gap:1px;background:#fedf89;border-radius:4px;font-size:13px;margin-right:10px;color:#636363}.successText[data-v-029f1008]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:6px;gap:1px;background:#ded;border-radius:4px;font-size:13px;color:#636363}.centerBtns[data-v-029f1008]{display:flex;justify-content:center;margin-bottom:10px}.otherVaccine[data-v-029f1008]{padding:10px;margin-bottom:10px}.dotsWizard[data-v-029f1008]{display:flex;justify-content:space-between;width:150px;margin:0 auto;align-items:center}.dotBig[data-v-029f1008]{font-size:.7rem!important}.dotStatus[data-v-029f1008]{font-size:.4rem!important}.lastVaccineTitle[data-v-029f1008]{display:flex;justify-content:space-between}.lastVaccine[data-v-029f1008]{padding-left:20px;padding-right:20px;padding-top:10px}.lastVaccineText[data-v-029f1008]{font-style:normal;font-weight:600;font-size:18px;line-height:150%;color:#00190e}.lastVaccineList[data-v-029f1008]{display:flex;justify-content:space-between;width:210px;margin-bottom:20px}.lastVaccineDate[data-v-029f1008]{display:flex;justify-content:space-between;width:210px;margin-bottom:10px;align-items:center}.administerVac[data-v-029f1008]{height:58px;width:150px}.dashed-hr[data-v-029f1008]{border:none;border-top:1px dashed #b3b3b3;margin:20px 0}.missed_vaccine_alert[data-v-029f1008]{display:flex;flex-direction:row;align-items:center;padding-top:12px;padding-bottom:12px;color:#b42318;width:content;height:25px;background:#fecdca;border:1px solid #fda19b;box-shadow:0 4px 5px rgba(189,13,0,.1);border-radius:8px;flex:none;order:0;flex-grow:0}.missed_vaccine_alert_txt[data-v-029f1008]{height:17px;font-weight:500;font-size:14px;line-height:17px;color:#b42318;flex:none;order:1;flex-grow:0}.box-line[data-v-029f1008]{width:100%;height:0px;border:1px dashed #b3b3b3;flex:none;order:0;flex-grow:0}\n/*$vite$:1*/",document.head.appendChild(e);const ve=[{data:{rowData:[{colData:[{inputHeader:"Systolic Pressure",unit:"mmHg",icon:ut.systolicPressure,value:"",name:"Systolic",required:!0,eventType:"input",disabled:!1,valueType:"number",validationFunctionName:"vitalsSystolic"},{inputHeader:"Diastolic pressure",unit:"mmHg",icon:ut.diastolicPressure,value:"",name:"Diastolic",required:!0,eventType:"input",disabled:!1,valueType:"number",validationFunctionName:"vitalsDiastolic"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"bp",index:""}],previousView:{name:"vitals"}},{data:{rowData:[{colData:[{inputHeader:"Temperature",unit:"C",icon:ut.temprature,value:"",name:"Temperature",eventType:"input",validationFunctionName:"vitalsTemperature",valueType:"number"},{inputHeader:"Pulse rate",unit:"BMP",icon:ut.pulse,value:"",name:"Pulse",eventType:"input",validationFunctionName:"vitalsPulseRate",valueType:"number"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"temp",index:""},{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"pulse",index:""}]},{data:{rowData:[{colData:[{inputHeader:"Respiratory rate",unit:"BMP",icon:ut.respiratory,value:"",name:"Respiratory rate",eventType:"input",validationFunctionName:"vitalsRespiratoryRate",valueType:"number"},{inputHeader:"Oxygen saturation",unit:"%",icon:ut.oxgenStaturation,value:"",name:"SAO2",eventType:"input",validationFunctionName:"vitalsOxygenSaturation",valueType:"number"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"respiratory",index:""},{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"oxygen",index:""}]}],fe=a("immunizationVitalsStore",{state:()=>({vitals:[...ve]}),actions:{setVitals(t){this.vitals=t},getInitialVitals:()=>[...Kt.cloneDeep(ve)]},persist:!0}),be=n({mixins:[$t],components:{IonContent:p,IonHeader:u,IonItem:d,IonList:c,IonMenu:r,IonTitle:l,IonToolbar:s,IonInput:o,BasicInputField:ht,BasicForm:Xt,PreviousVitals:pt,customDatePicker:te},data:()=>({iconsContent:ut,vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1,pulseRate:!1},showPD:!1,todays_date:ft.sessionDate(),formOpen:!0}),computed:{...i(vt,["patient"]),...i(fe,["vitals"])},async serverPrefetch(){this.updateVitalsStores()},async mounted(){this.cleanVitalForm(),this.vitalsData=this.vitals,await this.setTodayVitals(),await this.validateRowData()},watch:{vitals:{handler(){this.vitalsData=this.vitals},deep:!0},$route:{handler(){this.cleanVitalForm(),this.vitalsData=this.vitals}}},setup:()=>({checkmark:v,pulseOutline:g}),methods:{cleanVitalForm(){const t=fe();t.setVitals(t.getInitialVitals())},navigationMenu(t){m.close(),this.$router.push(t)},updateVitalsStores(){fe().setVitals(this.vitals)},async validateRowData(){const t=gt(this.vitals,"Height (cm)","value"),e=gt(this.vitals,"Weight","value"),a=gt(this.vitals,"Systolic","value"),n=gt(this.vitals,"Diastolic","value"),i=gt(this.vitals,"Temperature","value"),o=gt(this.vitals,"Pulse","value"),s=gt(this.vitals,"Respiratory rate","value"),l=gt(this.vitals,"SAO2","value");await this.setBMI(t,e),await this.updateBP(a,n);const r=this.getPulseRateStatus(o);await this.updateRate("pulse",o," BMP",r,4);const c=this.getTemperatureStatus(i);this.updateRate("temp",i,"Â°C",c,4);const d=this.getRespiratoryRateStatus(s);this.updateRate("respiratory",s,"BMP",d,6);const u=this.getOxygenSaturationStatus(l);this.updateRate("oxygen",l,"%",u,6)},showCPD(){this.showPD=!0},closeForm(){this.formOpen=!1},async saveVitals(){h.dismiss();const t=await ee(this.vitals);if(t.length>0){var e;let a=null===(e=this.patient)||void 0===e?void 0:e.vitals;a.unsaved=[...a.unsaved,...t],await mt(this.patient)}}}}),xe={key:0,class:"modal_wrapper"},_e={class:"OtherVitalsHeading"},ye={class:"TodaysDate"},we={class:""},De={class:"btnContent"},Ie={class:"saveBtn"},Ce=bt(be,[["render",function(t,e,a,n,i,o){const s=f("basic-form"),l=f("customDatePicker"),r=f("ion-icon"),c=f("ion-button");return t.formOpen?(_(),b("div",xe,[y("div",_e,[e[3]||(e[3]=y("div",{class:"OtherVitalsTitle"},"OTHER VITALS",-1)),y("div",ye,[e[1]||(e[1]=D("Todays Date: ",-1)),e[2]||(e[2]=y("span",null,null,-1)),D(" "+I(t.todays_date),1)])]),y("div",we,[C(s,{contentData:t.vitals,"onUpdate:inputValue":e[0]||(e[0]=e=>t.validateRowData())},null,8,["contentData"])]),t.showPD?(_(),w(l,{key:0})):x("",!0),y("div",De,[y("div",Ie,[y("div",null,[C(c,{class:"btnText",fill:"solid",onClick:t.saveVitals},{default:k(()=>[e[4]||(e[4]=D(" Done today ",-1)),C(r,{slot:"end",size:"small",icon:t.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1,__:[4]},8,["onClick"])]),e[6]||(e[6]=y("div",null,null,-1)),y("div",null,[C(c,{class:"btnText",fill:"solid",onClick:t.showCPD},{default:k(()=>[e[5]||(e[5]=D(" Done earlier ",-1)),C(r,{slot:"end",size:"small",icon:t.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1,__:[5]},8,["onClick"])])])])])):x("",!0)}],["__scopeId","data-v-d7374316"]]),ke={class:"flex flex-col items-center justify-center mt-6"},Se={class:"phone mt-6"},Ve={class:"content"},Be={class:"overlay"},Te={style:{"margin-top":"20px"}},Ae=n({__name:"QRCodeReader",emits:["scanresult"],setup(t,{emit:e}){S(async()=>{var t;null===(t=s.value)||void 0===t||t.onCanPlay()});const a=V(void 0),n=V(!1);function i(t){a.value=t,null!=a.value&&(xt().setTempScannedBatchNumber(a.value),function(t){r("scanresult",t),l()}(a.value))}function o(t){n.value=t}const s=V(null);function l(){h.dismiss()}const r=e;return(t,e)=>(_(),b(N,null,[y("div",ke,[y("div",Se,[C(B(T),null,{default:k(()=>[D(I(a.value),1)]),_:1}),y("div",Ve,[y("div",Be,[C(B(le),{ref_key:"refCamera",ref:s,capture:"shoot","show-on-stream":"",onOnloading:o,onResult:i},null,512),e[0]||(e[0]=A('<div class="focus-frame"></div><div class="dark-overlay top"></div><div class="dark-overlay bottom"></div><div class="dark-overlay left"></div><div class="dark-overlay right"></div>',5))])])])]),y("div",Te,[C(B(M),{onClick:l,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"99%"}},{default:k(()=>e[1]||(e[1]=[D(" Cancel ",-1)])),_:1,__:[1]})])],64))}}),Me=n({name:"MyComponent",components:{IonAlert:P},data:()=>({isOpen:!1,alertButtons:[{text:"Close",role:"cancel",cssClass:"alert-danger-button"}],messageContent:"No available batches/lot numbers"}),methods:{setOpen(t){this.isOpen=t},handleDismiss(){this.setOpen(!1),this.$emit("alertClosed"),this.dismiss()},dismiss(){h.dismiss()}},mounted(){this.setOpen(!0)}}),Ne=bt(Me,[["render",function(t,e,a,n,i,o){const s=f("ion-alert");return _(),w(s,{"is-open":t.isOpen,header:"Please update stock","sub-header":"",message:t.messageContent,buttons:t.alertButtons,"css-class":"my-custom-alert",onDidDismiss:t.handleDismiss},null,8,["is-open","message","buttons","onDidDismiss"])}],["__scopeId","data-v-cf655518"]]),Pe=n({components:{IonRadioGroup:O,IonRadio:j,IonItem:d,IonList:c},props:{action:{type:Function,required:!0},retro:{type:Boolean,required:!0}},async mounted(){this.loadCurrentSelectedDrug()},watch:{retro:{handler(){this.checkToShow()},deep:!0}},data:()=>({lotNumbers:[],selectedOption:{}}),methods:{compareWith:(t,e)=>t.id===e.id,handleChange(t){this.selectedOption=t.detail.value},checkIfSelected(){return!!Kt.has(this.selectedOption,"lotNumber")||1==this.checkDrugNameInt()||(_t("Select a batch number!"),!1)},performAction(){1==this.checkIfSelected()&&this.$emit("actionTriggered",this.selectedOption)},async loadCurrentSelectedDrug(){try{const t=xt().getCurrentSelectedDrug();await this.formBatchList(t.drug.drug_id)}catch(t){}},async formBatchList(t){try{const t=xt().getLotNumberData();0==t.length&&this.$emit("emptyList",""),t.forEach(t=>{const e={id:t.id,lotNumber:t.batch_number};this.lotNumbers.push(e)}),this.checkToShow()}catch(e){}},addUnkownLotNumberOption(){const t=xt().getCurrentSelectedDrug();this.lotNumbers.push({id:t.drug.drug_id,lotNumber:"Unknown"})},checkToShow(){1==this.$props.retro&&this.addUnkownLotNumberOption(),this.checkDrugNameInt()},checkDrugNameInt(){const t=xt().getCurrentSelectedDrug();return 1==ae(t.drug)&&(this.lotNumbers=[],this.lotNumbers.push({id:t.drug.drug_id,lotNumber:"Unknown"}),!0)}}}),je=bt(Pe,[["render",function(t,e,a,n,i,o){const s=f("ion-radio"),l=f("ion-item"),r=f("ion-radio-group"),c=f("ion-list"),d=f("ion-card"),u=f("ion-row");return _(),w(u,null,{default:k(()=>[C(d,{class:"shadowless-card",style:{width:"100%",padding:"0"}},{default:k(()=>[C(c,null,{default:k(()=>[C(r,{compareWith:t.compareWith,onIonChange:e[0]||(e[0]=e=>t.handleChange(e)),value:"start"},{default:k(()=>[(_(!0),b(N,null,H(t.lotNumbers,t=>(_(),w(l,{key:t.id},{default:k(()=>[C(s,{value:t},{default:k(()=>[D(I(t.lotNumber),1)]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["compareWith"])]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-039b66ba"]]),Oe=n({components:{IonContent:p,IonHeader:u,IonItem:d,IonList:c,IonMenu:r,IonTitle:l,IonToolbar:s,IonInput:o,BasicInputField:ht,PreviousVitals:pt,customDatePicker:te,lotNumberList:je,alert:Ne},data:()=>({iconsContent:ut,showPD:!1,showDateBtns:!0,vaccineDate:"",batchNumber:"",drugName:"",currentDrug:"",is_batch_number_valid:!1,batch_number_error_message:"Enter a valid batch number",full_name:"",sessionDate:ft.toStandardHisDisplayFormat(wt.getSessionDate()),InnerActionBtnPropeties:{name:"Scan",show:!0,fn:()=>{Dt(Ae,{class:"otherVitalsModal qr_code_modal"},!1)},icon:"",show_icon:!1},selected_date_:"",is_a_vaccine:!0}),computed:{...i(xt,["tempScannedBatchNumber"]),...i(vt,["patient"])},setup(){const t=V(null);return{childComponentRef:t,triggerChildAction:()=>{t.value&&t.value.performAction()}}},async mounted(){this.loadCurrentSelectedDrug(),this.displayUserNames();const t=xt();this.showPD=t.isVaccinePassed(),this.showDateBtns=!this.showPD},props:{customSchedule:{type:[],default:[]}},watch:{batchNumber:{handler(){this.validateBatchNumber()},deep:!0},tempScannedBatchNumber:{handler(){null!=this.tempScannedBatchNumber&&(this.batchNumber=this.tempScannedBatchNumber.text,this.validateBatchNumber())}}},methods:{loadCurrentSelectedDrug(){const t=xt();this.currentDrug=t.getCurrentSelectedDrug(),this.drugName=this.currentDrug.drug.drug_name,this.batchNumber=this.currentDrug.drug.vaccine_batch_number?this.currentDrug.drug.vaccine_batch_number:"",1==ae(this.currentDrug.drug)&&(this.is_a_vaccine=!1,this.batchNumber="unknown")},showCPD(){this.showPD=!0,this.showDateBtns=!1},dismiss(){h.dismiss()},updateDate(t){this.vaccineDate=ft.toStandardHisFormat(t)},saveBatchWithTodayDate(){let t=wt.getSessionDate();this.saveDta(t)},saveBatch(){let t;t=1==Kt.isEmpty(this.vaccineDate)?wt.getSessionDate():this.vaccineDate,this.saveDta(t)},updateBatchNumber(t){var e;const a=t.target.value;this.batchNumber=a||(null===(e=this.tempScannedBatchNumber)||void 0===e?void 0:e.text)||""},async ActionTriggered(t){const e={batch_number:t.lotNumber,date_administered:this.selected_date_,drug_id:this.currentDrug.drug.drug_id,drug_:this.currentDrug},a=xt();a.setAdministeredVaccine(e),await ne(this.patient),a.setTempScannedBatchNumber(null),this.dismiss()},saveDta(t){this.selected_date_=t,this.triggerChildAction()},isAlphaNumeric:t=>/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/.test(t),validateBatchNumber(){1==this.isAlphaNumeric(this.batchNumber)&&(this.is_batch_number_valid=!1),0==this.isAlphaNumeric(this.batchNumber)&&(this.is_batch_number_valid=!0)},updateBatchNumberByPassValue(t){this.batchNumber=t},displayUserNames(){const t=yt().getUser(),e=t.person.names[0].given_name,a=t.person.names[0].family_name;this.full_name=e+" "+a},childAction(){},ShowAlert(){}}}),He={class:"modal_wrapper"},ze={class:"lbl-ct"},Fe={class:"client_admi"},Re={class:"client_admin_sub_x"},Ee={class:"btnContent"},We={key:0,class:"saveBtn"},Le={key:1,class:"saveBtn"},Ge=bt(Oe,[["render",function(t,e,a,n,i,o){const s=f("ion-col"),l=f("ion-label"),r=f("ion-row"),c=f("lotNumberList"),d=f("customDatePicker"),u=f("ion-icon"),p=f("ion-button");return _(),b("div",He,[C(r,{style:{"margin-top":"10px"}},{default:k(()=>[C(s,{style:{"margin-left":"-3px"}},{default:k(()=>e[0]||(e[0]=[y("div",{class:"om"},"Administer Vaccine",-1)])),_:1,__:[0]}),C(s,{size:"6",style:{"text-align":"right"}},{default:k(()=>[C(l,{class:"lbl-tl",style:{"font-size":"13"}},{default:k(()=>[e[1]||(e[1]=D(" Todays Date: ",-1)),y("span",ze,I(t.sessionDate),1)]),_:1,__:[1]})]),_:1})]),_:1}),C(r,null,{default:k(()=>[C(l,{style:{"font-weight":"600px","font-size":"20px",margin:"10px","margin-left":"0px"}},{default:k(()=>[D(I(t.drugName),1)]),_:1})]),_:1}),z(C(r,null,{default:k(()=>[C(l,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:k(()=>e[2]||(e[2]=[D("Select Batch number",-1),y("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[2]})]),_:1},512),[[F,t.is_a_vaccine]]),z(y("div",null,[C(c,{action:t.childAction,retro:t.showPD,ref:"childComponentRef",onActionTriggered:t.ActionTriggered,onEmptyList:t.ShowAlert},null,8,["action","retro","onActionTriggered","onEmptyList"])],512),[[F,t.is_a_vaccine]]),y("div",Fe,[e[3]||(e[3]=y("span",{class:"client_admi_sub"},"Vaccination done by: ",-1)),y("span",Re,I(t.full_name),1)]),t.showPD?(_(),w(d,{key:0,onDateChange:t.updateDate},null,8,["onDateChange"])):x("",!0),y("div",Ee,[t.showDateBtns?(_(),b("div",We,[y("div",null,[C(p,{onClick:t.saveBatchWithTodayDate,class:"btnText",fill:"solid"},{default:k(()=>[e[4]||(e[4]=D(" Done today ",-1)),C(u,{slot:"end",size:"small",icon:t.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1,__:[4]},8,["onClick"])]),e[6]||(e[6]=y("div",{style:{"margin-bottom":"20px"}},null,-1)),y("div",null,[C(p,{class:"btnText",fill:"solid",onClick:t.showCPD},{default:k(()=>[e[5]||(e[5]=D(" Done earlier ",-1)),C(u,{slot:"end",size:"small",icon:t.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1,__:[5]},8,["onClick"])])])):x("",!0),t.showDateBtns?x("",!0):(_(),b("div",Le,[C(r,{"justify-content-between":""},{default:k(()=>[C(s,{size:"auto"},{default:k(()=>[C(p,{onClick:t.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:k(()=>e[7]||(e[7]=[D(" Cancel ",-1)])),_:1,__:[7]},8,["onClick"])]),_:1}),C(s,{size:"auto",class:"ion-text-end",style:{"margin-left":"auto"}},{default:k(()=>[C(p,{onClick:t.saveBatch,class:"btnText",fill:"solid",style:{width:"130px"}},{default:k(()=>e[8]||(e[8]=[D(" Save ",-1)])),_:1,__:[8]},8,["onClick"])]),_:1})]),_:1})]))])])}],["__scopeId","data-v-58aa351e"]]),Ue=n({components:{IonRow:R,IonItem:d,IonList:c,IonRadio:j,IonRadioGroup:O},data:()=>({reasons:[{id:1,name:"Mistake/ Wrong Entry",type:"Mistake/ Wrong Entry"},{id:2,name:"Duplicate",type:"Duplicate"},{id:3,name:"System Error",type:"System Error"}],selectedOption:{}}),computed:{...i(vt,["patient"])},async mounted(){},props:{},methods:{compareWith:(t,e)=>t.id===e.id,handleChange(t){this.selectedOption=t.detail.value},dismiss(){try{h.dismiss()}catch(t){}},checkIfSelected(){return 1==Kt.has(this.selectedOption,"name")||(_t("Select a reason!"),!1)},async voidVaccine1(){if(1==this.checkIfSelected())try{const t=xt(),e=t.getVaccineToBeVoided();await ie(this.patient,e,this.selectedOption.name),It("Vaccine was successfully voided!"),t.setVaccineReload(!t.getVaccineReload()),h.dismiss({voided:!0})}catch(t){}}}}),$e={class:"saveBtn"},qe=bt(Ue,[["render",function(t,e,a,n,i,o){const s=f("ion-row"),l=f("ion-radio"),r=f("ion-item"),c=f("ion-radio-group"),d=f("ion-list"),u=f("ion-button"),p=f("ion-col");return _(),b(N,null,[C(s,{class:"centered-content"},{default:k(()=>e[1]||(e[1]=[y("div",{class:"text-container"},[y("div",null,"Do you want to void this vaccine?"),y("div",null,"Please specify reason for voiding this administered vaccine?")],-1)])),_:1,__:[1]}),C(s,null,{default:k(()=>[C(d,{style:{width:"100%"}},{default:k(()=>[C(c,{compareWith:t.compareWith,onIonChange:e[0]||(e[0]=e=>t.handleChange(e)),value:"start"},{default:k(()=>[(_(!0),b(N,null,H(t.reasons,t=>(_(),w(r,null,{default:k(()=>[C(l,{value:t},{default:k(()=>[D(I(t.name),1)]),_:2},1032,["value"])]),_:2},1024))),256))]),_:1},8,["compareWith"])]),_:1})]),_:1}),y("div",$e,[C(s,{class:"ion-justify-content-between"},{default:k(()=>[C(p,{size:"auto"},{default:k(()=>[C(u,{onClick:t.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:k(()=>e[2]||(e[2]=[D(" Cancel ",-1)])),_:1,__:[2]},8,["onClick"])]),_:1}),C(p,{size:"auto"},{default:k(()=>[C(u,{onClick:t.voidVaccine1,class:"btnText",fill:"solid",style:{width:"130px"}},{default:k(()=>e[3]||(e[3]=[D(" Void ",-1)])),_:1,__:[3]},8,["onClick"])]),_:1})]),_:1})])],64)}],["__scopeId","data-v-ea212a62"]]),Ye=n({name:"Home",components:{IonContent:p,IonHeader:u,IonMenuButton:J,IonPage:Q,IonTitle:l,IonToolbar:s,IonButton:M,IonCard:K,IonCardContent:Y,IonCardHeader:q,IonCardSubtitle:$,IonCardTitle:U,IonAccordion:G,IonAccordionGroup:L,IonItem:d,IonLabel:T,IonModal:W,IonCol:E,IonRow:R,alert:Ne},data:()=>({iconsContent:ut,fowardData:{}}),computed:{},created(){},mounted(){},props:{vaccines:{type:{},default:{}},milestone_status:{type:String,default:0}},watch:{},setup(){let t=!1;return{isModalOpening:t,cleanupModal:()=>{t=!1;const e=document.querySelector(".pr_o");e&&e.remove()}}},methods:{covertToDate:t=>ft.toStandardHisDisplayFormat(t),getColorForVaccine(t){return"administered"==t.status?"success":"administered"!=t.status?"upcoming"==this.milestone_status?"medium":"current"==this.milestone_status?"success":"danger":void 0},getInjectSignForVaccine(t){return"administered"==t.status?this.iconsContent.greenInjection:"administered"!=t.status?"upcoming"==this.milestone_status?"":this.iconsContent.fadedGreenIjection:void 0},getCheckBoxForVaccine(t){return"administered"==t.status?this.iconsContent.improvedGreenTick:"administered"!=t.status?"upcoming"==this.milestone_status?"":this.iconsContent.whiteCheckbox:void 0},async openAdministerVaccineModal(t){const e=document.querySelector(".pr_o");if(this.isModalOpening||e)console.log("Modal already open or opening, current state:",{isModalOpening:this.isModalOpening,modalExists:!!e});else try{this.isModalOpening=!0;const e=xt();e.setCurrentSelectedDrug(t),new re;const a=await Ct("stock",{whereClause:{drug_id:t.drug_id}});e.setLotNumberData(a),this.checkIfAdminstredAndAskToVoid()||(0===a.length?ae(t)?Dt(Ge,{class:"otherVitalsModal pr_o"}):Dt(Ne,{class:"otherVitalsModal pr_o"}):Dt(Ge,{class:"otherVitalsModal pr_o"}))}catch(a){throw console.error("Error opening modal:",a),a}finally{this.isModalOpening=!1,console.log("Modal open process completed")}},disableVaccine:t=>(null==t.status||"administered"!=t.status)&&(null!=t.can_administer&&0==t.can_administer||(null==t.can_administer||1!=t.can_administer)&&void 0),checkVaccineName:t=>t.replace(/Pentavalent/g,"Penta"),checkIfAdminstredAndAskToVoid(){const t=xt(),e=t.getCurrentSelectedDrug();return"administered"==e.drug.status&&(t.setVaccineToBeVoided(e),Dt(qe,{class:"otherVitalsModal"},!1),!0)}}}),Ke={class:"vaccinesList"},Qe={class:"button-content"},Je={style:{"margin-top":"20px"}},Ze=bt(Ye,[["render",function(t,e,a,n,i,o){const s=f("ion-icon"),l=f("ion-button"),r=f("ion-col"),c=f("ion-row");return _(),b("div",Ke,[C(c,null,{default:k(()=>[C(r,null,{default:k(()=>[(_(!0),b(N,null,H(t.vaccines,e=>(_(),w(l,{disabled:t.disableVaccine(e),class:"administerVac",key:e,onClick:a=>t.openAdministerVaccineModal(e),fill:"solid",color:t.getColorForVaccine(e),style:{background:"#ddeedd","border-radius":"8px",color:"#636363"}},{default:k(()=>[C(s,{slot:"start",icon:t.getInjectSignForVaccine(e)},null,8,["icon"]),y("div",Qe,[y("div",Je,I(t.checkVaccineName(e.drug_name)),1),y("div",null,I(t.covertToDate(e.date_administered)),1)]),C(s,{slot:"end",icon:t.getCheckBoxForVaccine(e)},null,8,["icon"])]),_:2},1032,["disabled","onClick","color"]))),128))]),_:1})]),_:1})])}],["__scopeId","data-v-90bda1b0"]]),Xe=n({name:"Home",components:{IonIcon:X,IonButton:M,customVaccine:Ze,IonHeader:u,IonTitle:l,IonFooter:Z,IonCol:E,IonRow:R,IonContent:p},data:()=>({iconsContent:ut,vaccineHistory:[]}),setup:()=>({closeCircleOutline:et,checkmarkOutline:tt}),computed:{...i(xt,["vaccineReload","vaccineSchedule"])},methods:{vaccinesGivenCount(t){const e=[];return t.antigens.forEach(t=>{"administered"==t.status&&e.push(t)}),e.length},dismiss(){h.dismiss()}}}),ta={style:{color:"#016302"}},ea={style:{color:"#316CBA","margin-left":"10%"}},aa=bt(Xe,[["render",function(t,e,a,n,i,o){const s=f("ion-title"),l=f("ion-header"),r=f("ion-icon"),c=f("row"),d=f("customVaccine"),u=f("ion-content"),p=f("ion-button"),h=f("ion-col"),m=f("ion-row"),g=f("ion-footer");return _(),b(N,null,[C(l,null,{default:k(()=>[C(s,{style:{"margin-bottom":"20px"},class:"modalTitle OtherVitalsTitle"},{default:k(()=>e[1]||(e[1]=[D("Vaccination History",-1)])),_:1,__:[1]})]),_:1}),C(u,{fullscreen:!0,class:"ion-padding"},{default:k(()=>[(_(!0),b(N,null,H(t.vaccineSchedule.vaccine_schedule,(a,n)=>(_(),b("div",{class:"mod-ls",key:n},[C(c,null,{default:k(()=>[C(r,{size:"medium",style:{"margin-bottom":"-6px"},icon:t.iconsContent.calendar},null,8,["icon"]),y("span",null,[e[2]||(e[2]=D(" at ",-1)),y("span",ta,I(a.age),1)]),y("span",ea,I(t.vaccinesGivenCount(a))+"/"+I(a.antigens.length)+" vaccine(s) given",1)]),_:2},1024),C(c,null,{default:k(()=>[C(d,{vaccines:a.antigens,milestone_status:a.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),C(g,{collapse:"fade",class:"ion-no-border"},{default:k(()=>[C(m,null,{default:k(()=>[C(h,null,{default:k(()=>[C(p,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:e[0]||(e[0]=e=>t.dismiss())},{default:k(()=>e[3]||(e[3]=[D(" Cancel ",-1)])),_:1,__:[3]})]),_:1})]),_:1})]),_:1})],64)}],["__scopeId","data-v-59edb4e4"]]),na=n({mixins:[ce],components:{IonContent:p,IonHeader:u,IonItem:d,IonList:c,IonMenu:r,IonTitle:l,IonToolbar:s,IonInput:o,BasicInputField:ht,BasicForm:Xt,PreviousVitals:pt,customDatePicker:te,DynamicButton:St,IonFooter:Z},data:()=>({iconsContent:ut,BMI:{},BPStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1},showPD:!1,initialSeriousData:[],initialFirstDecisionData:[],initialOutcomeData:[]}),props:{protectedStatus:String,lastVaccinesGiven:Array},watch:{personInformation:{async handler(){await this.setRelationShip()},deep:!0}},computed:{...i(vt,["patient"]),...i(de,["changeGuardianInfo","vaccineAdverseEffects","protectedAtBirth","serious","outcome","firstDecision"]),guardianFirstname(){return gt(this.changeGuardianInfo,"guardianFirstname","value")},guardianLastname(){return gt(this.changeGuardianInfo,"guardianLastname","value")},guardianMiddleName(){return gt(this.changeGuardianInfo,"guardianMiddleName","value")},guardianPhoneNumber(){return gt(this.changeGuardianInfo,"guardianPhoneNumber","value")},relationship(){return gt(this.changeGuardianInfo,"relationship","value")}},async mounted(){await this.setupData()},setup:()=>({checkmark:v,pulseOutline:g}),methods:{async setupData(){const t=de();this.initialSeriousData=t.getInitialSerious(),this.initialFirstDecisionData=t.getInitialFirstDecision(),this.initialOutcomeData=t.getInitialOutcome();const e=await pe.getRelationships(this.patient.patientID);var a,n,i,o,s,l,r;(null==e?void 0:e.length)>0&&(Tt(this.changeGuardianInfo,"guardianNationalID","value",this.setAttribute("Regiment ID",null===(a=e[0])||void 0===a?void 0:a.relation)),Tt(this.changeGuardianInfo,"guardianFirstname","value",null===(n=e[0])||void 0===n||null===(n=n.relation.names[0])||void 0===n?void 0:n.given_name),Tt(this.changeGuardianInfo,"guardianLastname","value",null===(i=e[0])||void 0===i||null===(i=i.relation.names[0])||void 0===i?void 0:i.family_name),Tt(this.changeGuardianInfo,"guardianMiddleName","value",null===(o=e[0])||void 0===o||null===(o=o.relation.names[0])||void 0===o?void 0:o.middle_name),Tt(this.changeGuardianInfo,"guardianPhoneNumber","value",this.setAttribute("Cell Phone Number",null===(s=e[0])||void 0===s?void 0:s.relation)),Tt(this.changeGuardianInfo,"relationship","value",{id:null===(l=e[0])||void 0===l?void 0:l.type.relationship_type_id,name:null===(r=e[0])||void 0===r?void 0:r.type.b_is_to_a}),await this.setRelationShip()),this.resetData()},async setRelationShip(){this.gender?(await this.getRelationships(),Tt(this.changeGuardianInfo,"relationship","displayNone",!1),Tt(this.changeGuardianInfo,"relationship","multiSelectData",this.relationships)):Tt(this.changeGuardianInfo,"relationship","displayNone",!0)},setAttribute(t,e){if(!e||0===Object.keys(e).length)return;let a=e.person_attributes.find(e=>e.type.name==t);return null==a?void 0:a.value},resetData(){const t=de();t.setProtectedAtBirth(t.getInitialProtectedAtBirth()),t.setVaccineAdverseEffects(t.getInitialVaccineAdverseEffects())},async createGuardian(){const t=await this.guardianData();if(ue(this.changeGuardianInfo)){const e=new Vt;await e.registerGuardian(t);const a=e.getPersonID(),n=gt(this.changeGuardianInfo,"relationship","value").id;return n&&await Bt.createRelation(this.patient.patientID,a,n),It("Guarding information save successfully",3e3),!0}return _t("Guarding Information not save",3e3),!1},async saveData(){const t=await this.createGuardian(),e=await this.saveVaccineAdverseEffects();t&&e&&h.dismiss()},async saveVaccineAdverseEffects(){if(this.patient.patientID){const t=gt(this.outcome,"Date of death","value")||ft.sessionDate(),e=await this.formatCheckBoxData(this.serious,ft.sessionDate(),this.lastVaccinesGiven),a=await this.formatRadioButtonData(this.outcome,t,this.lastVaccinesGiven),n=await this.formatCheckBoxData(this.vaccineAdverseEffects,ft.sessionDate(),this.lastVaccinesGiven),i=gt(this.firstDecision,"Investigation needed","value");let o=[];return i&&(o=[{concept_id:11887,value_text:i,obs_datetime:ft.sessionDate()}]),[...e,...a,...n,...o].filter(t=>void 0!==t),wt.getUserID(),n.length>0||(_t("Vaccine adverse effects not saved",1500),!1)}},formatCheckBoxData:async(t,e=kt.getSessionDate(),a)=>Array.isArray(t)?(await Promise.all(t.map(async n=>{var i;if(null==n||null===(i=n.checkboxBtnContent)||void 0===i||null===(i=i.data)||void 0===i||!i.length)return[];const o=n.checkboxBtnContent.data.map(async i=>{if(null==i||!i.checked||null!=i&&i.buildConceptIgnore)return null;try{const o=await kt.getConceptID(i.value,!0),s=await kt.getConceptID(n.checkboxBtnContent.header.name,!0),l=gt(t,i.name+" date","value");if(e=l||e,!o||!s)return null;const r={concept_id:s,value_coded:o,obs_datetime:e};if(a.length>0){const t=a.map(t=>({concept_id:o,value_coded:t.drug_id,obs_datetime:e}));return{...r,child:t}}return r}catch(o){return console.error("Error processing checkbox data:",o),null}});return(await Promise.all(o)).filter(Boolean)}))).flat().filter(Boolean):[],async formatRadioButtonData(t,e=kt.getSessionDate(),a){const n=t.map(async t=>{if(t&&t.radioBtnContent&&t.radioBtnContent.header&&t.radioBtnContent.header.selectedValue){const n=await kt.getConceptID(t.radioBtnContent.header.selectedValue,!0),i=await kt.getConceptID(t.radioBtnContent.header.name,!0),o=e||kt.getSessionDate(),s=a.map(t=>({concept_id:n,value_coded:t.drug_id,obs_datetime:o}));return a?{concept_id:i,value_coded:n,obs_datetime:o,child:s}:{concept_id:i,value_coded:n,obs_datetime:o}}return null});return(await Promise.all(n)).filter(t=>null!==t)},async guardianData(){return{person_id:this.patient.patientID,given_name:this.guardianFirstname,family_name:this.guardianLastname,middle_name:this.guardianMiddleName,gender:"",birthdate:"",cell_phone_number:this.guardianPhoneNumber,birthdate_estimated:!1,home_district:"",home_traditional_authority:"",home_village:"",current_district:"",current_traditional_authority:"",current_village:"",landmark:"",occupation:"",facility_name:"",patient_type:"",national_id:gt(this.changeGuardianInfo,"guardianNationalID","value")}},async handleInputData(t){},dismiss(){h.dismiss()}}}),ia={class:""},oa={class:"ion-padding",slot:"content",style:{"padding-bottom":"200px"}},sa={class:""},la={class:"ion-padding",slot:"content"},ra={slot:"content"},ca={slot:"content"},da={slot:"content"},ua={slot:"content"},pa={class:"ion-padding",slot:"content",style:{"padding-bottom":"120px"}},ha=bt(na,[["render",function(t,e,a,n,i,o){const s=f("ion-title"),l=f("ion-icon"),r=f("ion-header"),c=f("ion-label"),d=f("ion-item"),u=f("basic-form"),p=f("ion-accordion"),h=f("ion-accordion-group"),m=f("ion-content"),g=f("DynamicButton"),v=f("ion-col"),I=f("ion-row"),S=f("ion-footer");return _(),b(N,null,[C(r,{style:{display:"flex","justify-content":"space-between"}},{default:k(()=>[C(s,{class:"modalTitle"},{default:k(()=>e[2]||(e[2]=[D("Follow up visits",-1)])),_:1,__:[2]}),C(l,{onClick:e[0]||(e[0]=e=>t.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:t.iconsContent.cancel},null,8,["icon"])]),_:1}),C(m,{fullscreen:!0,class:"ion-padding",style:{"--background":"#fff"}},{default:k(()=>[y("div",ia,[C(h,{ref:"accordionGroup",class:""},{default:k(()=>[C(p,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:k(()=>[C(d,{slot:"header",color:"light"},{default:k(()=>[C(c,{class:"previousLabel"},{default:k(()=>e[3]||(e[3]=[D("Change Guardian",-1)])),_:1,__:[3]})]),_:1}),y("div",oa,[y("div",sa,[C(u,{contentData:t.changeGuardianInfo,"onUpdate:inputValue":t.handleInputData},null,8,["contentData","onUpdate:inputValue"])])])]),_:1}),C(p,{value:"second","toggle-icon-slot":"start",class:"custom_card"},{default:k(()=>[C(d,{slot:"header",color:"light"},{default:k(()=>[C(c,{class:"previousLabel"},{default:k(()=>e[4]||(e[4]=[D("Vaccine adverse effects",-1)])),_:1,__:[4]})]),_:1}),y("div",la,[y("div",null,[y("div",ra,[C(u,{contentData:t.vaccineAdverseEffects,"onUpdate:inputValue":t.handleInputData},null,8,["contentData","onUpdate:inputValue"])])]),y("div",null,[y("div",ca,[C(u,{contentData:t.serious,initialData:t.initialSeriousData,"onUpdate:inputValue":t.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])]),y("div",null,[y("div",da,[C(u,{contentData:t.outcome,initialData:t.initialOutcomeData,"onUpdate:inputValue":t.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])]),y("div",null,[y("div",ua,[C(u,{contentData:t.firstDecision,initialData:t.initialFirstDecisionData,"onUpdate:inputValue":t.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])])])]),_:1}),"Yes"!=t.protectedStatus?(_(),w(p,{key:0,value:"third","toggle-icon-slot":"start",class:"custom_card"},{default:k(()=>[C(d,{slot:"header",color:"light"},{default:k(()=>[C(c,{class:"previousLabel"},{default:k(()=>e[5]||(e[5]=[D("Child protected at birth",-1)])),_:1,__:[5]})]),_:1}),y("div",pa,[C(u,{contentData:t.protectedAtBirth,"onUpdate:inputValue":t.handleInputData},null,8,["contentData","onUpdate:inputValue"])])]),_:1})):x("",!0)]),_:1},512)])]),_:1}),C(S,{collapse:"fade",class:"ion-no-border"},{default:k(()=>[C(I,null,{default:k(()=>[C(v,null,{default:k(()=>[C(g,{onClick:e[1]||(e[1]=e=>t.saveData()),name:"Save",fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})],64)}],["__scopeId","data-v-4497bb3f"]]),ma=n({name:"Home",components:{IonContent:p,IonHeader:u,IonPage:Q,IonTitle:l,IonToolbar:s,BasicForm:Xt,customDatePicker:te},data:()=>({popoverOpen:!1,iconContent:ut,event:null,BMI:"",showPD:!1,vitals_date:ft.toStandardHisFormat(ft.sessionDate()),formOpen:!0,checkUnderSixWeeks:!1,showDateBtns:!0}),computed:{...i(vt,["patient"]),...i(Nt,["vitalsWeightHeight"])},watch:{patient:{async handler(){this.checkAge()}}},mounted(){this.checkAge()},setup(){},methods:{checkAge(){var t,e;Kt.isEmpty(null===(t=this.patient)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.birthdate)||(this.checkUnderSixWeeks=ft.dateDiffInDays(ft.sessionDate(),null===(e=this.patient)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)<42,this.controlHeight())},nav(t){this.$router.push(t)},formatBirthdate(){var t;return ft.getBirthdateAge(null===(t=this.patient)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.birthdate)},controlHeight(){this.checkUnderSixWeeks?(Tt(this.vitalsWeightHeight,"Height (cm)","inputHeader","Height"),Tt(this.vitalsWeightHeight,"Height (cm)","inputDisplayNone",!0)):Tt(this.vitalsWeightHeight,"Height (cm)","inputDisplayNone",!1)},async validaterowData(t){const e=wt.getUserID(),a=new Mt(this.patient.patientID,e),n=gt(this.vitalsWeightHeight,"weight","value"),i=gt(this.vitalsWeightHeight,"Height (cm)","value"),o=a.validator({inputHeader:"Height*",value:i}),s=a.validator({inputHeader:"Weight*",value:n});Tt(this.vitalsWeightHeight,"Height (cm)","alertsErrorMassage",o&&i?o.flat(1/0)[0]:""),Tt(this.vitalsWeightHeight,"weight","alertsErrorMassage",s&&n?s.flat(1/0)[0]:""),this.setBMI(n,i)},async saveVitals(){const t=wt.getUserID(),e=new Mt(this.patient.patientID,t),a=gt(this.vitalsWeightHeight,"weight","value"),n=gt(this.vitalsWeightHeight,"Height (cm)","value");let i=null;this.checkUnderSixWeeks||(i=e.validator({inputHeader:"Height*",value:n}));const o=e.validator({inputHeader:"Weight*",value:a}),s=await ee(this.vitalsWeightHeight);if(s.length>0&&null==o&&null==i){const t=JSON.parse(JSON.stringify(this.patient));let e=null==t?void 0:t.vitals;e.unsaved=[...e.unsaved,...s],await mt(t),It("Vitals saved successful"),this.cleanInputFields()}else _t("Please complete the form")},cleanInputFields(){Tt(this.vitalsWeightHeight,"weight","value",""),Tt(this.vitalsWeightHeight,"Height (cm)","value",""),this.dismiss()},dismiss(){h.dismiss()},async setBMI(t,e){var a,n,i,o;null!==(a=this.patient)&&void 0!==a&&null!==(a=a.personInformation)&&void 0!==a&&a.gender&&null!==(n=this.patient)&&void 0!==n&&null!==(n=n.personInformation)&&void 0!==n&&n.birthdate&&(this.BMI=await At.getBMI(parseInt(t),parseInt(e),null===(i=this.patient)||void 0===i||null===(i=i.personInformation)||void 0===i?void 0:i.gender,ft.calculateAge(null===(o=this.patient)||void 0===o||null===(o=o.personInformation)||void 0===o?void 0:o.birthdate,ft.sessionDate()))),this.updateBMI()},async updateBMI(){var t,e,a,n,i,o;const s=null!==(t=null===(e=this.BMI)||void 0===e?void 0:e.color)&&void 0!==t?t:[],l=this.vitalsWeightHeight[0].alerts[0];l.icon=At.iconBMI(s),l.backgroundColor=s[0],l.textColor=s[1],l.index="BMI "+(null!==(a=null===(n=this.BMI)||void 0===n?void 0:n.index)&&void 0!==a?a:""),l.value=null!==(i=null===(o=this.BMI)||void 0===o?void 0:o.result)&&void 0!==i?i:""},showCPD(){this.showPD=!0,this.showDateBtns=!1},updateDate(t){this.vitals_date=ft.toStandardHisFormat(t)}}}),ga={key:0,class:"pim-cls-1 modal_wrapper"},va={class:"center text_12"},fa={class:"btnContent"},ba={key:0,class:"saveBtn"},xa={key:1,class:"saveBtn"},_a=bt(ma,[["render",function(t,e,a,n,i,o){const s=f("BasicForm"),l=f("ion-row"),r=f("customDatePicker"),c=f("ion-icon"),d=f("ion-button"),u=f("ion-col");return t.formOpen?(_(),b("div",ga,[e[7]||(e[7]=y("div",{class:"OtherVitalsHeading"},[y("div",{class:"OtherVitalsTitle"},"Add Weight/Height")],-1)),y("div",null,[y("div",va,[C(l,null,{default:k(()=>[C(s,{contentData:t.vitalsWeightHeight,"onUpdate:inputValue":e[0]||(e[0]=e=>t.validaterowData(e))},null,8,["contentData"])]),_:1})])]),t.showPD?(_(),w(r,{key:0,onDateChange:t.updateDate},null,8,["onDateChange"])):x("",!0),y("div",fa,[t.showDateBtns?(_(),b("div",ba,[y("div",null,[C(d,{class:"btnText",fill:"solid",onClick:e[1]||(e[1]=e=>t.saveVitals())},{default:k(()=>[e[3]||(e[3]=D(" Done today ",-1)),C(c,{slot:"end",size:"small",icon:t.iconContent.calenderwithPlus},null,8,["icon"])]),_:1,__:[3]})]),y("div",null,[C(d,{class:"btnText",fill:"solid",onClick:t.showCPD},{default:k(()=>[e[4]||(e[4]=D(" Done earlier ",-1)),C(c,{slot:"end",size:"small",icon:t.iconContent.calenderWithPenEdit},null,8,["icon"])]),_:1,__:[4]},8,["onClick"])])])):x("",!0),t.showDateBtns?x("",!0):(_(),b("div",xa,[C(l,null,{default:k(()=>[C(u,null,{default:k(()=>[C(d,{onClick:t.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:k(()=>e[5]||(e[5]=[D(" Cancel ",-1)])),_:1,__:[5]},8,["onClick"])]),_:1}),C(u,null,{default:k(()=>[C(d,{onClick:e[2]||(e[2]=e=>t.saveVitals()),class:"btnText",fill:"solid",style:{width:"130px"}},{default:k(()=>e[6]||(e[6]=[D(" save ",-1)])),_:1,__:[6]})]),_:1})]),_:1})]))])])):x("",!0)}],["__scopeId","data-v-7b242731"]]),ya=n({components:{IonContent:p,IonHeader:u,IonItem:d,IonList:c,IonMenu:r,IonTitle:l,IonToolbar:s,IonInput:o,BasicInputField:ht,BasicForm:Xt,PreviousVitals:pt,customDatePicker:te,IonCol:E,IonRow:R,VueMultiselect:at,IonLabel:T,lotNumberList:je},data(){const t=V(0),e=V([]);return{iconsContent:ut,showPD:!1,batchNumber:"",vaccineName:"",currentDrugOb:{},comp_key:t,otherVaccinesList:e,is_batch_number_valid:!1,vaccineDate:"",is_vaccine_name_valid:!1,drugErrMsg:"",batch_number_error_message:"Enter a valid batch number",vaccine_name_error_message:"Enter a valid valid vaccine name",sessionDate:ft.toStandardHisDisplayFormat(wt.getSessionDate()),InnerActionBtnPropeties:{name:"Scan",show:!0,fn:()=>{Dt(Ae,{class:"otherVitalsModal qr_code_modal"},!1)},icon:"",show_icon:!1},showDateBtns:!0,selected_date_:"",show_select_batch:!1,skip_validation:!1,antigens:e}},computed:{...i(he,["administerOtherVaccine"]),...i(xt,["tempScannedBatchNumber","vaccineSchedule"]),...i(vt,["patient"])},async mounted(){this.vaccineSchedule.vaccine_schedule.forEach(t=>{this.antigens.push(...t.antigens)})},watch:{batchNumber:{handler(){this.validateBatchNumber()},deep:!0},tempScannedBatchNumber:{handler(){null!=this.tempScannedBatchNumber&&(this.batchNumber=this.tempScannedBatchNumber.text,this.validateBatchNumber())}},vaccineName:{handler(){this.validateVaccineName()}}},setup(){const t=V(null);return{childComponentRef:t,triggerChildAction:()=>{t.value&&t.value.performAction()}}},methods:{showCPD(){this.showPD=!0,this.showDateBtns=!1},updateBatchNumber(t){var e;const a=t.target.value;this.batchNumber=a||(null===(e=this.tempScannedBatchNumber)||void 0===e?void 0:e.text)||""},saveBatchWithTodayDate(){let t=wt.getSessionDate();this.saveDta(t)},dismiss(){h.dismiss()},saveBatch(){let t;t=1==Kt.isEmpty(this.vaccineDate)?wt.getSessionDate():this.vaccineDate,this.saveDta(t)},validateVaccineName(){return 1==Kt.isEmpty(this.vaccineName)?(this.is_vaccine_name_valid=!0,!1):0==Kt.isEmpty(this.vaccineName)?(this.is_vaccine_name_valid=!1,!0):void 0},updateVaccineName(t){this.currentDrugOb=t,console.log(this.currentDrugOb),xt().setCurrentSelectedDrug(t),this.pullLotNumbersForVaccine(this.currentDrugOb)},async pullLotNumbersForVaccine(t){this.show_select_batch=!1;const e=xt(),a=new re,n=await a.getDrugBatches(t.drug_id);e.setLotNumberData(n),0==n.length&&(0==ae(t)&&Dt(Ne,{class:"otherVitalsModal"}),1==ae(t)&&(this.show_select_batch=!1,this.skip_validation=!0)),n.length>0&&(this.comp_key=this.comp_key+1,this.show_select_batch=!0)},isAlphaNumeric:t=>/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/.test(t),validateBatchNumber(){1==this.isAlphaNumeric(this.batchNumber)&&(this.is_batch_number_valid=!1),0==this.isAlphaNumeric(this.batchNumber)&&(this.is_batch_number_valid=!0)},updateBatchNumberByPassValue(t){this.batchNumber=t},ActionTriggered(t){const e={batch_number:t.lotNumber,date_administered:this.selected_date_,drug_id:this.currentDrugOb.drug_id,drug_:this.currentDrugOb},a=xt();a.setAdministeredVaccine(e),ne(this.patient),a.setTempScannedBatchNumber(null),this.dismiss()},saveDta(t){1==this.validateVaccineName()&&(this.selected_date_=t,this.triggerChildAction(),0==this.show_select_batch&&0==this.skip_validation&&Pt("Please Update Stock for Selected Vaccine"))},childAction(){}}}),wa={class:"modal_wrapper"},Da={class:"lbl-ct"},Ia={style:{"margin-top":"30px"}},Ca={class:"btnContent"},ka={key:0,class:"saveBtn"},Sa={key:1,class:"saveBtn"},Va=bt(ya,[["render",function(t,e,a,n,i,o){const s=f("ion-col"),l=f("ion-label"),r=f("ion-row"),c=f("VueMultiselect"),d=f("lotNumberList"),u=f("customDatePicker"),p=f("ion-icon"),h=f("ion-button");return _(),b("div",wa,[C(r,{style:{"margin-top":"10px"}},{default:k(()=>[C(s,{style:{"margin-left":"-3px"}},{default:k(()=>e[3]||(e[3]=[y("div",{class:"om"},"Add Other Vaccine",-1)])),_:1,__:[3]}),C(s,{size:"6",style:{"text-align":"right"}},{default:k(()=>[C(l,{class:"lbl-tl",style:{"font-size":"13"}},{default:k(()=>[e[4]||(e[4]=D(" Todays Date: ",-1)),y("span",Da,I(t.sessionDate),1)]),_:1,__:[4]})]),_:1})]),_:1}),y("div",Ia,[C(r,null,{default:k(()=>[C(l,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:k(()=>e[5]||(e[5]=[D("Vaccine name",-1),y("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[5]})]),_:1}),C(c,{modelValue:t.vaccineName,"onUpdate:modelValue":[e[0]||(e[0]=e=>t.vaccineName=e),e[1]||(e[1]=e=>t.updateVaccineName(e))],multiple:!1,taggable:!1,"hide-selected":!1,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"select vaccine",placeholder:"select vaccine",selectLabel:"",label:"drug_name",searchable:!0,onSearchChange:e[2]||(e[2]=e=>t.$emit("search-change",e)),"track-by":"drug_id",options:t.otherVaccinesList},null,8,["modelValue","options"]),y("div",null,[t.is_vaccine_name_valid?(_(),w(l,{key:0,style:{padding:"3%"},class:"error-label"},{default:k(()=>[D(I(t.vaccine_name_error_message),1)]),_:1})):x("",!0)])]),z(C(r,null,{default:k(()=>[C(l,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:k(()=>e[6]||(e[6]=[D("Batch numbers",-1),y("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[6]})]),_:1},512),[[F,t.show_select_batch]]),z(y("div",null,[(_(),w(d,{action:t.childAction,retro:t.showPD,ref:"childComponentRef",onActionTriggered:t.ActionTriggered,key:t.comp_key},null,8,["action","retro","onActionTriggered"]))],512),[[F,t.show_select_batch]]),t.showPD?(_(),w(u,{key:0})):x("",!0),y("div",Ca,[t.showDateBtns?(_(),b("div",ka,[y("div",null,[C(h,{onClick:t.saveBatchWithTodayDate,class:"btnText",fill:"solid"},{default:k(()=>[e[7]||(e[7]=D(" Done today ",-1)),C(p,{slot:"end",size:"small",icon:t.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1,__:[7]},8,["onClick"])]),e[9]||(e[9]=y("div",{style:{"margin-bottom":"20px"}},null,-1)),y("div",null,[C(h,{class:"btnText",fill:"solid",onClick:t.showCPD},{default:k(()=>[e[8]||(e[8]=D(" Done earlier ",-1)),C(p,{slot:"end",size:"small",icon:t.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1,__:[8]},8,["onClick"])])])):x("",!0),t.showDateBtns?x("",!0):(_(),b("div",Sa,[C(r,{class:"ion-justify-content-between"},{default:k(()=>[C(s,{size:"auto"},{default:k(()=>[C(h,{onClick:t.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:k(()=>e[10]||(e[10]=[D(" Cancel ",-1)])),_:1,__:[10]},8,["onClick"])]),_:1}),C(s,{size:"auto"},{default:k(()=>[C(h,{onClick:t.saveBatch,class:"btnText",fill:"solid",style:{width:"130px"}},{default:k(()=>e[11]||(e[11]=[D(" Save ",-1)])),_:1,__:[11]},8,["onClick"])]),_:1})]),_:1})]))])])}],["__scopeId","data-v-eb04f444"]]),Ba=n({name:"xxxComponent",components:{Carousel:st,Slide:ot,Pagination:it,Navigation:nt,customVaccine:Ze,IonButton:M,IonCol:E,IonRow:R,IonLabel:T},data:()=>({vaccine_schArray:[],vaccineSchudulesCount:0,milestones:[],iconsContent:ut,showCurrentMilestoneAlert:!1,landingSlide:0,msg:"Upcoming Vaccines",current_milestone:"",componentKey:0}),computed:{...i(xt,["vaccineReload"]),...i(vt,["patient"])},async mounted(){await this.loadVaccineSchedule()},watch:{vaccineReload:{async handler(){await this.loadVaccineSchedule()},deep:!0},patient:{async handler(){await this.loadVaccineSchedule()},deep:!0},vaccine_schArray:{handler(){this.reloadVaccines()}}},methods:{openAdministerOtherVaccineModal(){Dt(Va,{class:"otherVitalsModal"})},async loadVaccineSchedule(){var t,e,a,n,i;await this.setAppointmentDate();const o=this.patient.vaccineSchedule,s=xt();s.setVaccineSchedule(o),s.setLastVaccinesGiven([]),this.vaccineSchudulesCount=null===(t=s.getVaccineSchedule())||void 0===t||null===(t=t.vaccine_schedule)||void 0===t?void 0:t.length,s.resetMissedVaccineSchedules(),this.vaccine_schArray=[],this.vaccine_schArray.push(null===(e=s.getVaccineSchedule())||void 0===e?void 0:e.vaccine_schedule),null===(a=s.getVaccineSchedule())||void 0===a||null===(a=a.vaccine_schedule)||void 0===a||a.forEach(t=>{this.findMissingVaccines(t),this.findPreviouslyAdministeredVaccineSchedule(t),this.handleSchedule(t);const e={visit:t.visit,age:t.age};this.milestones=this.appendUniqueObject(this.milestones,e)});let l=!1;null===(n=s.getVaccineSchedule())||void 0===n||null===(n=n.vaccine_schedule)||void 0===n||n.forEach(t=>{l||1!=this.findSingleUpcomingMilestone(t)||(l=!0)}),null===(i=s.getVaccineSchedule())||void 0===i||null===(i=i.vaccine_schedule)||void 0===i||i.forEach(t=>{this.findCurrentMilestone(t)})},setSB(t){const e=xt();e.setCurrentMilestoneToAdminister({currentMilestone:t.age}),this.landingSlide=t.visit-1,this.current_milestone=t.age,e.setCurrentMilestone(t.age)},handleSchedule(t){"upcoming"==t.milestone_status?(xt().setCurrentSchedFound(!1),this.msg="Upcoming Vaccines",this.showCurrentMilestoneAlert=!0,this.setSB(t)):(this.setSB(t),xt().setCurrentSchedFound(!1))},findSingleUpcomingMilestone(t){return"upcoming"==t.milestone_status&&(this.setSB(t),!0)},findCurrentMilestone(t){"current"==t.milestone_status&&(this.msg="Vaccines due today",xt().setCurrentSchedFound(!0),this.showCurrentMilestoneAlert=!0,this.setSB(t))},slideEvent(t){const e=xt(),a=e.getCurrentMilestoneToAdminister();this.milestones.forEach(a=>{a.visit-1==t.currentSlideIndex&&(e.setCurrentMilestone(a.age),this.current_milestone=a.age)});const n=e.getCurrentMilestone();if(n==a.currentMilestone)return 0==e.getCurrentSchedFound()&&(this.msg="Upcoming Vaccines"),1==e.getCurrentSchedFound()&&(this.msg="Vaccines due today"),void(this.showCurrentMilestoneAlert=!0);n.age!=a.currentMilestone&&(this.showCurrentMilestoneAlert=!1)},appendUniqueObject:(t,e)=>(t.some(t=>t.visit===e.visit&&t.age===e.age)||t.push(e),t),isListEmpty:t=>t.length>0||0!=t.length&&void 0,findMissingVaccines(t){const e={age:t.age,antigens:[]};"passed"==t.milestone_status&&t.antigens.forEach(t=>{"pending"==t.status&&e.antigens.push(t)});const a=xt();e.antigens.length>0&&a.setMissedVaccineSchedules(e)},findPreviouslyAdministeredVaccineSchedule(t){const e=[];t.antigens.forEach(t=>{"administered"==t.status&&e.push(t)}),e.length>0&&xt().setLastVaccinesGiven(e)},reloadVaccines(){this.componentKey+=1},openNextVaccineAppoinment(){Dt(se,{class:"otherVitalsModal"},!1)},async setAppointmentDate(){const t=xt(),e=new oe,a=await e.getNextAppointment();null!=a&&a.next_appointment_date&&t.setNextAppointMentDate(a.next_appointment_date)}}}),Ta={key:0,class:"alert_banner"},Aa={key:1,class:"alert_banner",style:{background:"inherit"}},Ma={class:"container"},Na={class:"center-content"},Pa={class:"centerBtns"},ja={class:"otherVaccine center-content"},Oa={class:"centerBtns"},Ha=bt(Ba,[["render",function(t,e,a,n,i,o){const s=f("apan"),l=f("customVaccine"),r=f("ion-button"),c=f("ion-row"),d=f("slide"),u=f("navigation"),p=f("pagination"),h=f("carousel");return _(),b(N,null,[t.showCurrentMilestoneAlert?(_(),b("div",Ta,[C(s,null,{default:k(()=>[D(I(t.msg),1)]),_:1})])):x("",!0),t.showCurrentMilestoneAlert?x("",!0):(_(),b("div",Aa)),t.vaccineSchudulesCount>0?(_(),w(h,{key:2,"items-to-show":1,modelValue:t.landingSlide,onSlideEnd:t.slideEvent},{addons:k(()=>[C(u),C(p)]),default:k(()=>[(_(!0),b(N,null,H(t.vaccineSchudulesCount,(a,n)=>(_(),w(d,{key:a},{default:k(()=>[C(c,{class:""},{default:k(()=>[y("div",Ma,[(_(),w(l,{vaccines:t.vaccine_schArray[0][n].antigens,milestone_status:t.vaccine_schArray[0][n].milestone_status,key:t.componentKey},null,8,["vaccines","milestone_status"]))]),C(c,{class:"bottom-row"},{default:k(()=>[y("div",Na,[y("div",Pa,[C(r,{onClick:e[0]||(e[0]=e=>t.openNextVaccineAppoinment()),class:"btnText",fill:"solid"},{default:k(()=>e[1]||(e[1]=[D("Set Next Appointment Date",-1)])),_:1,__:[1]})])])]),_:1})]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue","onSlideEnd"])):x("",!0),C(c,{class:"bottom-row"},{default:k(()=>[y("div",ja,[y("div",Oa,[C(r,{onClick:t.openAdministerOtherVaccineModal,class:"btnText",fill:"solid"},{default:k(()=>e[2]||(e[2]=[D(" Add Other Vaccines ",-1)])),_:1,__:[2]},8,["onClick"])])])]),_:1})],64)}]]),za=n({name:"Home",components:{IonHeader:u,IonMenuButton:J,IonPage:Q,IonTitle:l,IonToolbar:s,IonButton:M,IonCard:K,IonCardContent:Y,IonCardHeader:q,IonCardSubtitle:$,IonCardTitle:U,IonAccordion:G,IonAccordionGroup:L,IonItem:d,IonLabel:T,IonModal:W,IonRow:R,customVaccine:Ze,IonCol:E,IonFooter:Z,IonContent:p},data:()=>({iconsContent:ut}),computed:{...i(xt,["currentMilestone","missedVaccineSchedules"])},methods:{vaccinesGivenCount(t){const e=[];return t.antigens.forEach(t=>{"administered"==t.status&&e.push(t)}),e.length},dismiss(){h.dismiss()}}}),Fa={style:{color:"#016302"}},Ra={style:{color:"#316CBA","margin-left":"10%"}},Ea=bt(za,[["render",function(t,e,a,n,i,o){const s=f("ion-title"),l=f("ion-header"),r=f("ion-icon"),c=f("row"),d=f("customVaccine"),u=f("ion-content"),p=f("ion-button"),h=f("ion-col"),m=f("ion-row"),g=f("ion-footer");return _(),b(N,null,[C(l,null,{default:k(()=>[C(s,{style:{"margin-bottom":"20px"},class:"modalTitle"},{default:k(()=>e[1]||(e[1]=[D("Missed Vaccines",-1)])),_:1,__:[1]})]),_:1}),C(u,{fullscreen:!0,class:"ion-padding"},{default:k(()=>[(_(!0),b(N,null,H(t.missedVaccineSchedules,(a,n)=>(_(),b("div",{key:n},[C(c,{style:{width:"90%"}},{default:k(()=>[C(r,{size:"medium",style:{"margin-bottom":"-6px"},icon:t.iconsContent.calendar},null,8,["icon"]),y("span",null,[e[2]||(e[2]=D(" at ",-1)),y("span",Fa,I(a.age),1)]),y("span",Ra,I(t.vaccinesGivenCount(a))+"/"+I(a.antigens.length)+" vaccine(s) given",1)]),_:2},1024),C(c,{style:{"text-align":"center"},class:"mod-ls"},{default:k(()=>[C(d,{vaccines:a.antigens,milestone_status:a.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),C(g,{collapse:"fade",class:"ion-no-border"},{default:k(()=>[C(m,null,{default:k(()=>[C(h,null,{default:k(()=>[C(p,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:e[0]||(e[0]=e=>t.dismiss())},{default:k(()=>e[3]||(e[3]=[D(" Cancel ",-1)])),_:1,__:[3]})]),_:1})]),_:1})]),_:1})],64)}],["__scopeId","data-v-3ba5e9df"]]),Wa=n({name:"Menu",data:()=>({isMobile:!1,visits:[],event:null,popoverOpen:!1,program:null}),mounted(){},computed:{...i(vt,["patient"])},methods:{openPopover(t){this.event=t,this.popoverOpen=!0},openPIM(){Dt(me,{class:"otherVitalsModal largeModal"})},openOutCome(){Dt(ge,{class:"otherVitalsModal largeModal"})},async printVisitSummary(){if(this.visits=await Ot.getPatientVisits(this.patient.patientID,!1),this.visits.length)return new jt(this.patient.patientID).printVisitSummaryLbl(this.visits[0]);_t("No visits available")},printID(){new jt(this.patient.patientID).printNidLbl()},formatCurrentAddress(t){var e,a,n;return[null==t||null===(e=t.personInformation)||void 0===e?void 0:e.current_district,null==t||null===(a=t.personInformation)||void 0===a?void 0:a.current_traditional_authority,null==t||null===(n=t.personInformation)||void 0===n?void 0:n.current_village].filter(Boolean).join(",")}}}),La=n({mixins:[Wa],name:"Home",components:{IonContent:p,IonHeader:u,IonMenuButton:J,IonPage:Q,IonTitle:l,IonToolbar:s,Toolbar:zt,ToolbarSearch:Ht,DemographicBar:Gt,IonButton:M,IonCard:K,IonCardContent:Y,IonCardHeader:q,IonCardSubtitle:$,IonCardTitle:U,IonAccordion:G,IonAccordionGroup:L,IonItem:d,IonLabel:T,IonModal:W,Stepper:qt,DynamicButton:St,WeightHeightChart:Zt,PreviousVitals:pt,customSlider:Ha,IonRow:R,customVaccine:Ze},data:()=>({wizardData:[],StepperData:[],isOpen:!1,iconsContent:ut,current_milestone:"",checkUnderSixWeeks:!1,unprotected_at_birth:"",protectedStatus:"",todays_date:ft.toStandardHisDisplayFormat(wt.getSessionDate()),lastVaccine:[],visits:[],selectedStatus:7}),computed:{...i(Lt,["vitals"]),...i(Wt,["selectedMedicalDrugsList","nonPharmalogicalTherapyAndOtherNotes","selectedMedicalAllergiesList"]),...i(Et,["outcomes"]),...i(xt,["currentMilestone","missedVaccineSchedules","overDueVaccinesCount","lastVaccinesGiven","lastVaccineGievenDate","nextAppointMentDate"])},async mounted(){this.loadCurrentMilestone(),this.checkAge(),await this.checkProtectedStatus(),await this.openFollowModal(),await this.programEnrollment()},watch:{currentMilestone:{handler(){this.loadCurrentMilestone()}},$route:{async handler(t){"patientProfile"==t.name&&this.patient.patientID&&(await this.checkProtectedStatus(),await this.programEnrollment())}},patient:{async handler(){this.patient&&(await this.checkProtectedStatus(),await this.programEnrollment(),this.checkAge(),this.setMilestoneReload())}}},setup:()=>({chevronBackOutline:ct,checkmark:v,ellipsisVerticalSharp:rt,person:lt}),methods:{handleChange(t){this.selectedStatus=t},async programEnrollment(){if(this.patient.patientID){this.program=new Rt(this.patient.patientID);const e=await this.program.getProgramCurrentStates();if(e)this.selectedStatus=e.state;else{try{await this.program.enrollProgram(),await this.program.setStateId(7)}catch(t){await this.program.setStateId(7)}await this.program.updateState(),this.selectedStatus=7}}},async updateState(t){this.selectedStatus=t,await this.program.setStateId(t),await this.program.updateState()},getAge:t=>ft.calculateDisplayAge(ft.toStandardHisFormat(t)),async checkProtectedStatus(){this.protectedStatus=this.getData(this.patient.birthRegistration,11759)[0]},getData:(t,e)=>t?t.filter(t=>t.concept_id==e).map(t=>t.value_text):"",checkAge(){var t,e;Kt.isEmpty(null===(t=this.patient)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.birthdate)||(this.checkUnderSixWeeks=ft.dateDiffInDays(ft.sessionDate(),null===(e=this.patient)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)<42)},openVitalsModal(){Dt(Ce,{class:"otherVitalsModal"})},openWH(){Dt(_a,{class:"otherVitalsModal"})},openVH(){Dt(aa,{class:"otherVitalsModal vaccineHistoryModal"})},async openFollowModal(){var t;if(null!==(t=this.patient)&&void 0!==t&&t.patientID){this.lastVaccine=await Ft.getLastDrugsReceived(this.patient.patientID);const t={protectedStatus:this.protectedStatus,lastVaccinesGiven:this.lastVaccinesGiven};this.lastVaccinesGiven.length>0&&Dt(ha,{class:"fullScreenModal"},!0,t)}},openAdministerVaccineModal(){Dt(Ge,{class:"otherVitalsModal"})},openAdministerOtherVaccineModal(){Dt(Va,{class:"otherVitalsModal"})},isChild:()=>!!(new Ot).isUnderFive(),getFormatedData:t=>t.map(t=>null==t?void 0:t.data),async saveVitals(){if(this.vitals.validationStatus){const t=wt.getUserID();new Mt(this.patient.patientID,t).onFinish(this.vitals)}},async saveTreatmentPlan(){const t=wt.getUserID(),e=this.patient.patientID,a=new Yt;if(!Kt.isEmpty(this.selectedMedicalAllergiesList)){const n=this.mapToAllergies();a.onSubmitAllergies(e,t,n)}if(!Kt.isEmpty(this.nonPharmalogicalTherapyAndOtherNotes)){const n=[{concept_id:2688,obs_datetime:wt.getSessionDate(),value_text:this.nonPharmalogicalTherapyAndOtherNotes}];a.onSubmitNotes(e,t,n)}if(!Kt.isEmpty(this.selectedMedicalDrugsList)){const a=this.mapToOrders(),n=new Qt(e,t);if(!(await n.createEncounter()))return _t("Unable to create treatment encounter");if(!(await n.createDrugOrder(a)))return _t("Unable to create drug orders!");It("Drug order has been created")}},openModal(){Dt(Ut)},mapToOrders(){return this.selectedMedicalDrugsList.map(t=>{const e=Qt.getSessionDate(),a=Jt.find(e=>e.label===t.frequency)||{};return{drug_inventory_id:t.drug_id,equivalent_daily_dose:"Unknown"==t.dose?0:t.dose*(null==a?void 0:a.value)||0,start_date:e,auto_expire_date:this.calculateExpireDate(e,t.duration),units:t.units,instructions:`${t.drugName}: ${t.dose} ${t.units} ${(null==a?void 0:a.code)||""} for ${t.duration} days`,dose:t.dose,frequency:(null==a?void 0:a.code)||""}})},formatBirthdate(){var t;return ft.toStandardHisDisplayFormat(null===(t=this.patient)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.birthdate)},calculateExpireDate(t,e){const a=new Date(t);return a.setDate(a.getDate()+parseInt(e)),ft.toStandardHisFormat(a)},mapToAllergies(){return this.selectedMedicalAllergiesList.map(t=>({concept_id:985,obs_datetime:wt.getSessionDate(),value_coded:t.concept_id}))},loadCurrentMilestone(){const t=xt();this.current_milestone=t.getCurrentMilestone()},showMissedVaccines(){this.missedVaccineSchedules.length>0&&Dt(Ea,{class:"otherVitalsModal vaccineHistoryModal"})},setMilestoneReload(){const t=xt();t.setVaccineReload(!t.getVaccineReload())},getLastVaccinesGivenDisplayDate(){return ft.toStandardHisDisplayFormat(this.lastVaccineGievenDate)}}}),Ga={fullscreen:!0,style:{"--background":"#fff"}},Ua={class:"demographics"},$a={style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},qa={style:{display:"flex","justify-content":"space-between","align-content":"center","padding-bottom":"5px","padding-top":"5px","padding-left":"5px"}},Ya={style:{"margin-right":"5px"}},Ka={class:"demographicsFirstRow"},Qa={class:"name"},Ja={class:"demographicsOtherRow",style:{"margin-top":"10px"}},Za={class:"demographicsText"},Xa={key:0,class:"demographicsOtherRow"},tn={class:"demographicsText mediumFontColor"},en={key:1,class:"demographicsOtherRow"},an={class:"demographicsText mediumFontColor"},nn={class:"demographicsOtherRow"},on={class:"demographicsText smallFont"},sn={class:"mediumFontColor"},ln={class:"demographicsOtherRow"},rn={key:0,class:"demographicsText smallFont"},cn={key:1,class:"demographicsText smallFont"},dn={key:2,class:"demographicsText smallFont"},un={class:"demographicsOtherRow",style:{"margin-bottom":"10px"}},pn={class:"demographicsText smallFont"},hn={key:0,style:{background:"#fedf89",color:"#b54708"},class:"protectedStatus"},mn={key:1,style:{background:"#ddeedd"},class:"protectedStatus"},gn={key:2,class:"protectedStatus",style:{background:"#fecdca",color:"#b42318"}},vn={class:"graphSection"},fn={class:"graphBtn",style:{"margin-bottom":"5px"}},bn={class:"weightHeightGraphBtns"},xn={key:0},_n={key:1},yn={key:0,class:"graphBtn"},wn={class:"dueAlert"},Dn={class:"missed_vaccine_alert"},In={style:{"margin-right":"5px"}},Cn={class:"vaccinesTitle"},kn={style:{width:"100%",display:"flex","justify-content":"space-between","align-content":"center"}},Sn={class:"vaccinesTitleDate"},Vn={class:"milestone"},Bn={style:{display:"flex","justify-content":"space-between","align-content":"center"}},Tn={style:{color:"#636363","margin-left":"5px","margin-top":"-4px"}},An={style:{color:"#636363","font-weight":"bold","font-size":"14px"}},Mn={class:"lastVaccine"},Nn={class:"lastVaccineTitle"},Pn={key:0,class:"lastVaccineText"},jn={class:"seeFullList"},On={style:{color:"#316cba","margin-left":"1%"}},Hn={class:"ion-padding",slot:"content"};t("default",bt(La,[["render",function(t,e,a,n,i,o){var s,l,r,c,d,u,p,h,m;const g=f("ion-icon"),v=f("WeightHeightChart"),S=f("PreviousVitals"),V=f("ion-button"),B=f("ion-col"),T=f("ion-row"),A=f("customSlider"),M=f("row"),P=f("customVaccine"),j=f("ion-label"),O=f("ion-item"),H=f("ion-accordion"),z=f("ion-toggle"),F=f("ion-list"),R=f("ion-accordion-group"),E=f("ion-popover");return _(),b(N,null,[y("div",Ga,[y("div",Ua,[y("div",$a,[y("div",qa,[y("div",Ya,[y("div",{class:dt("M"==(null===(s=t.patient)||void 0===s||null===(s=s.personInformation)||void 0===s?void 0:s.gender)?"initialsBox maleColor":"initialsBox femaleColor")},[C(g,{style:{color:"#fff","font-size":"100px"},icon:t.person},null,8,["icon"])],2)]),y("div",null,[y("div",Ka,[y("div",Qa,I(null===(l=t.patient)||void 0===l||null===(l=l.personInformation)||void 0===l?void 0:l.given_name)+" "+I(null===(r=t.patient)||void 0===r||null===(r=r.personInformation)||void 0===r?void 0:r.middle_name)+" "+I(null===(c=t.patient)||void 0===c||null===(c=c.personInformation)||void 0===c?void 0:c.family_name),1)]),y("div",Ja,[y("div",Za,[D(I("M"==(null===(d=t.patient)||void 0===d||null===(d=d.personInformation)||void 0===d?void 0:d.gender)?"Male":"Female")+" ",1),e[12]||(e[12]=y("span",{class:"dot"},".",-1)),D(" "+I(t.getAge(null===(u=t.patient)||void 0===u||null===(u=u.personInformation)||void 0===u?void 0:u.birthdate))+" ("+I(t.formatBirthdate())+") ",1)])]),null!==(p=t.patient)&&void 0!==p&&null!==(p=p.personInformation)&&void 0!==p&&p.current_district?(_(),b("div",Xa,[e[13]||(e[13]=y("div",{class:"demographicsText"},"Current Address:",-1)),y("div",tn,I(t.formatCurrentAddress(t.patient)),1)])):x("",!0),null!==(h=t.patient)&&void 0!==h&&null!==(h=h.personInformation)&&void 0!==h&&h.country?(_(),b("div",en,[e[14]||(e[14]=y("div",{class:"demographicsText"},"Country:",-1)),y("div",an,I(null===(m=t.patient)||void 0===m||null===(m=m.personInformation)||void 0===m?void 0:m.country),1)])):x("",!0),y("div",nn,[y("div",on,[e[15]||(e[15]=D(" MRN: ",-1)),y("span",sn,I(t.patient.ID),1)])]),y("div",ln,[7==t.selectedStatus?(_(),b("div",rn,e[16]||(e[16]=[D(" Outcome: ",-1),y("span",{class:"outcomeStatus"}," Active",-1)]))):x("",!0),6==t.selectedStatus?(_(),b("div",cn,e[17]||(e[17]=[D(" Outcome: ",-1),y("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Inactive",-1)]))):x("",!0),3==t.selectedStatus?(_(),b("div",dn,e[18]||(e[18]=[D(" Outcome: ",-1),y("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Died",-1)]))):x("",!0)]),y("div",un,[y("div",pn,[e[19]||(e[19]=D(" Status: ",-1)),"No"==t.protectedStatus?(_(),b("span",hn,"Unprotected at birth")):"Yes"==t.protectedStatus?(_(),b("span",mn,"Protected at birth")):(_(),b("span",gn,"Unknown protection at birth"))])])])])]),y("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:e[0]||(e[0]=e=>t.openPopover(e))},[C(g,{icon:t.ellipsisVerticalSharp},null,8,["icon"])])]),y("div",vn,[y("div",null,[t.isChild()?(_(),w(v,{key:0,checkUnderSixWeeks:t.checkUnderSixWeeks,showHeightWeight:!0},null,8,["checkUnderSixWeeks"])):x("",!0),t.isChild()?x("",!0):(_(),w(S,{key:1}))]),y("div",fn,[y("div",bn,[y("div",null,[C(V,{class:"btnText",fill:"solid",onClick:e[1]||(e[1]=e=>t.openWH())},{default:k(()=>[t.checkUnderSixWeeks?(_(),b("span",_n," Enter Weight")):(_(),b("span",xn," Enter Weight/Height")),C(g,{slot:"end",size:"small",icon:t.iconsContent.whiteHeightWeight},null,8,["icon"])]),_:1})]),y("div",null,[C(V,{class:"btnText",fill:"solid",onClick:e[2]||(e[2]=e=>t.openVitalsModal())},{default:k(()=>[e[20]||(e[20]=D(" Enter Other Vitals ",-1)),C(g,{slot:"end",size:"small",icon:t.iconsContent.whiteVitals},null,8,["icon"])]),_:1,__:[20]})])])])]),y("div",null,[t.overDueVaccinesCount>0?(_(),b("div",yn,[y("div",wn,[C(T,null,{default:k(()=>[t.overDueVaccinesCount>0?(_(),w(B,{key:0,style:{display:"flex","justify-content":"center",cursor:"pointer"},onClick:t.showMissedVaccines},{default:k(()=>[y("div",Dn,[C(g,{slot:"start",icon:t.iconsContent.alertDangerRed},null,8,["icon"]),y("span",In,I(t.overDueVaccinesCount)+" vaccine(s) overdue",1)])]),_:1},8,["onClick"])):x("",!0)]),_:1})])])):x("",!0),y("div",Cn,[y("div",kn,[e[22]||(e[22]=y("div",{class:"vaccinesTitleText"},"Administer Vaccines",-1)),y("div",Sn,[e[21]||(e[21]=y("span",{style:{"font-size":"13px"}},"Next Appt. Date: ",-1)),y("b",null,I(t.nextAppointMentDate),1)])])]),y("div",Vn,[y("div",Bn,[C(g,{size:"small",icon:t.iconsContent.greenCalender},null,8,["icon"]),y("div",Tn,[e[23]||(e[23]=D(" at ",-1)),y("span",An,I(t.current_milestone),1)])]),e[24]||(e[24]=y("div",{class:"vaccinesTitleDate"},"(Swipe left or right for other milestones)",-1))]),C(A),y("div",Mn,[y("div",Nn,[t.lastVaccinesGiven.length>0?(_(),b("div",Pn,"Last vaccines given")):x("",!0),y("div",jn,[C(V,{onClick:e[3]||(e[3]=e=>t.openVH()),style:{color:"#016302"},class:"btnText btnTextWeight",size:"small",fill:"clear"},{default:k(()=>e[25]||(e[25]=[y("span",null,"See full History",-1)])),_:1,__:[25]})])]),t.lastVaccinesGiven.length>0?(_(),w(M,{key:0},{default:k(()=>[C(g,{size:"medium",style:{"margin-bottom":"-6px"},icon:t.iconsContent.calendar},null,8,["icon"]),y("span",On,I(t.getLastVaccinesGivenDisplayDate()),1)]),_:1})):x("",!0),t.lastVaccinesGiven.length>0?(_(),w(M,{key:1},{default:k(()=>[C(P,{vaccines:t.lastVaccinesGiven,milestone_status:""},null,8,["vaccines"])]),_:1})):x("",!0)])])]),C(E,{style:{"--offset-x":"-10px"},"is-open":t.popoverOpen,"show-backdrop":!1,event:t.event,onDidDismiss:e[11]||(e[11]=e=>t.popoverOpen=!1)},{default:k(()=>[y("div",null,[C(R,{multiple:!0},{default:k(()=>[C(H,{value:"first","toggle-icon":"",onClick:e[4]||(e[4]=e=>t.openPIM())},{default:k(()=>[C(O,{slot:"header",color:"light"},{default:k(()=>[C(j,null,{default:k(()=>e[26]||(e[26]=[D("Update demographics",-1)])),_:1,__:[26]})]),_:1})]),_:1}),C(H,{value:"first","toggle-icon":"",onClick:e[5]||(e[5]=e=>t.openFollowModal())},{default:k(()=>[C(O,{slot:"header",color:"light"},{default:k(()=>[C(j,null,{default:k(()=>e[27]||(e[27]=[D("Follow up visits",-1)])),_:1,__:[27]})]),_:1})]),_:1}),C(H,{value:"second","toggle-icon":"",onClick:e[6]||(e[6]=e=>t.printVisitSummary())},{default:k(()=>[C(O,{slot:"header",color:"light"},{default:k(()=>[C(j,null,{default:k(()=>e[28]||(e[28]=[D("Print visit summary",-1)])),_:1,__:[28]})]),_:1})]),_:1}),C(H,{value:"third","toggle-icon":"",onClick:e[7]||(e[7]=e=>t.printID())},{default:k(()=>[C(O,{slot:"header",color:"light"},{default:k(()=>[C(j,null,{default:k(()=>e[29]||(e[29]=[D("Print client identifier",-1)])),_:1,__:[29]})]),_:1})]),_:1}),C(H,{value:"fourth"},{default:k(()=>[C(O,{slot:"header",color:"light"},{default:k(()=>[C(j,null,{default:k(()=>e[30]||(e[30]=[D("Update outcome",-1)])),_:1,__:[30]})]),_:1}),y("div",Hn,[C(F,null,{default:k(()=>[C(O,null,{default:k(()=>[C(z,{checked:7==t.selectedStatus,value:"active",onIonChange:e[8]||(e[8]=e=>t.updateState(7))},{default:k(()=>e[31]||(e[31]=[D(" Active ",-1)])),_:1,__:[31]},8,["checked"])]),_:1}),C(O,null,{default:k(()=>[C(z,{checked:6==t.selectedStatus,value:"inactive",onIonChange:e[9]||(e[9]=e=>t.updateState(6))},{default:k(()=>e[32]||(e[32]=[D(" Inactive ",-1)])),_:1,__:[32]},8,["checked"])]),_:1}),C(O,null,{default:k(()=>[C(z,{checked:3==t.selectedStatus,value:"died",onIonChange:e[10]||(e[10]=e=>t.updateState(3))},{default:k(()=>e[33]||(e[33]=[D(" Died ",-1)])),_:1,__:[33]},8,["checked"])]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1},8,["is-open","event"])],64)}],["__scopeId","data-v-029f1008"]]))}}});
