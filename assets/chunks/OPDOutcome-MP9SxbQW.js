var Ha=Object.defineProperty;var Na=(n,u,m)=>u in n?Ha(n,u,{enumerable:!0,configurable:!0,writable:!0,value:m}):n[u]=m;var ft=(n,u,m)=>Na(n,typeof u!="symbol"?u+"":u,m);import{d as ce,aV as pe,r as s,a as He,w as te,e as w,f as d,k as l,l as e,u as a,ah as It,b5 as Va,b2 as rt,G as xa,E as Ma,ai as $a,aj as dt,_ as ve,I as La,a3 as aa,bf as wt,aU as Ra,H as X,m as b,J as t,Q as R,c as fe,F as de,O as T,bx as Lt,aP as Fa,bm as gt,a4 as ge,a5 as J,al as ut,P as Ee,ak as Re,W as Ce,K as V,bA as Ba,bv as na,Z as Ua,aS as qa,z as Xe,an as Ga,cE as Wa,a2 as kt,R as za,i as nt,v as st,b9 as Ke,au as Qe,es as Ya,et as ja,eu as Ka,az as Qa,aF as sa,aw as ia,bU as Ja,aN as Xa,p as Ze,bs as Za,L as ot,ev as Rt,ew as Ft,bk as lt,ex as Bt,ey as Ut,d6 as qt,ez as Gt,eA as Wt,eB as zt,db as Yt,bT as en,ay as tn,b$ as an,N as Oe,br as Pe,bl as et,bn as oa,bZ as nn,bu as sn,c5 as jt,dm as on,e5 as Kt}from"./vendor-BoKezimc.js";import{bE as la,bv as ra,a$ as we,M as ae,b1 as Ne,t as Ae,af as Se,aW as re,G as ze,_ as ke,J as xe,b5 as Ot,B as qe,bd as ln,S as Te,o as Qt,O as Jt,aQ as _e,aH as At,H as Le,u as Je,l as Ve,bF as ua,aB as We,aA as da,aC as ca,b2 as _t,L as rn,bG as un,bH as dn,bI as cn,bJ as mn,bK as pn,bL as vn,bM as fn,P as Pt,bN as ht,bO as gn,bP as _n,bQ as hn,bR as yn,s as bn,aG as Xt,aI as Dn,aJ as Ye,aK as Cn,d as Sn,aL as ma,g as In,Z as wn,e as An,N as kn,aM as it,aN as On,aO as Zt,aP as Pn,aR as Et,a0 as En,m as pa,bS as Tn,bT as Hn,aT as Nn,b8 as Vn,K as xn,aw as ea,an as yt,ar as bt,aq as Mn}from"../index-DlKPLPy4.js";import{p as va,e as $n,a as Ln,m as Rn,b as Fn,v as Bn,c as Un,_ as qn}from"./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-BpUl5rFK.js";import{P as fa}from"./patient_complaints_service-bOA37SLV.js";import{D as Tt}from"./DashBox-DJvqRhML.js";import{B as at}from"./BasicForm-DkXB-Nv8.js";import{c as Ht,f as ct,a as tt,b as Gn}from"./formatServerData-5dYc9sNk.js";import Wn from"./LabOrdersList-BDdPPK6_.js";import{R as zn,_ as Yn,L as jn,A as Kn,D as Qn,a as Jn}from"./NextAppointment-COZucuAb.js";import{v as ta}from"./group_validation-nacby9lp.js";import{u as Xn,a as Dt,_ as Zn,s as es,c as ts,b as as,P as ns}from"./useFormWizard-BSq8Rwwx.js";import{l as Ge}from"./lodash-NJiRuGo9.js";import{u as ss,_ as Ct,D as is,A as os,R as ls,a as rs,b as us}from"./usePatientProfile-ZvmGxM4g.js";import{a as ds,b as cs}from"./drug_prescription_service-BmZGaV97.js";const ms={class:"modal_wrapper"},ps={class:"uniform_columns"},vs=ce({__name:"AHDPastMedicalHistory",setup(n,{expose:u}){const m=la(),{pastMedicalHistory:c}=pe(m),f=s([]);He(()=>{f.value=m.getInitial(),g()}),te(c,()=>{g()},{deep:!0});const g=()=>{var p;const S=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];(p=ra(c.value,"None"))!=null&&p.checked?S.forEach(O=>{we(c.value,"TB treatment","displayNone",!0),ae(c.value,"TB drugs","displayNone",!0),ae(c.value,"TB drug start date","displayNone",!0),we(c.value,"Hypertension medication","displayNone",!0),ae(c.value,"Current hypertension treatment regimen","displayNone",!0),we(c.value,"HIV status","displayNone",!0),ae(c.value,"ARV start date","displayNone",!0),we(c.value,"Diabetes","displayNone",!0),we(c.value,"Controlled by","displayNone",!0),Ne(c.value,O,"checked",!1),Ne(c.value,O,"disabled",!0)}):S.forEach(O=>{Ne(c.value,O,"disabled",!1)})},A=S=>{ae(c.value,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine 'O' (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),ae(c.value,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})},r=async()=>[...await Ht(c.value),...await ct(c.value),...await tt(c.value)];return u({onSubmit:async()=>{const S=await r();if(S.length===0){Ae("No past medical history data to save");return}await Se.addObsToEncounterPatient(S,re.AHD_PAST_MEDICAL_HISTORY),ze("Past medical history saved successful")}}),(S,p)=>(d(),w("div",ms,[l("div",ps,[e(at,{contentData:a(c),initialData:f.value,"onUpdate:inputValue":A,"onUpdate:selected":A},null,8,["contentData","initialData"])])]))}}),fs=ke(vs,[["__scopeId","data-v-e5153372"]]),gs=ce({name:"Menu",mixins:[Yn],components:{IonContent:aa,IonHeader:La,IonItem:ve,IonList:dt,IonMenu:$a,IonTitle:Ma,IonToolbar:xa,IonInput:rt,IonPopover:Va,DashBox:Tt,SelectionPopover:ln,BasicInputField:qe,BasicForm:at,List:Ot,DynamicButton:xe,LabOrdersList:Wn,RadiologyInvestigation:zn},data(){return{segmentContent:"Lab Investigations",iconsContent:Ve,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",labOrders:"",filteredSpecimen:"",testData:[],popoverOpen:!1,labOrderStatus:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){return{checkmark:Ra,pulseOutline:wt}},computed:{...It(At,["investigations"]),...It(Je,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0},patient:{async handler(){var n;(n=this.patient)!=null&&n.labOrders&&(this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved])},deep:!0},$route:{async handler(){await this.getTests()},deep:!0}},async mounted(){await this.getTests(),this.updateInvestigationsStores(),this.setDashedBox(),this.updateInvestigationWizard()},methods:{setSegmentContent(n){this.segmentContent=n},async getTests(){let n;Te.getPouchDbStatus()&&Te.getLanConnectionStatus()?n=await Qt("test_types"):n=await Jt.getTestTypes(),ae(this.investigations,"test","multiSelectData",n)},toggleLabOrderStatus(){this.labOrderStatus=!this.labOrderStatus},async updateInvestigationWizard(){var u;if(!((u=this.patient)!=null&&u.labOrders))return;this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved];const n=await this.labOrders.filter(m=>Le.toStandardHisFormat(Le.sessionDate())===Le.toStandardHisFormat(m.order_date));n.length>0?this.investigations[0].selectedData=n:this.investigations[0].selectedData=""},async updateInvestigationsStores(){await this.updateInvestigationWizard(),At().setInvestigations(this.investigations)},displayInputFields(){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validateRowData(){return ta(this.investigations)},async checkTest(){return await this.isNameInData(this.inputFields[0].value.name,await this.investigations[0].selectedData)?(ae(this.investigations,"test","alertsErrorMassage","Lab order already selected"),!1):(ae(this.investigations,"test","alertsErrorMassage",""),!0)},async addNewRow(){ta(this.investigations)&&await this.checkTest()&&(await this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.updateInvestigationWizard()},isNameInData(n,u){for(let m of u)for(let c of m.tests)if(c.name===n)return!0;return!1},async saveTest(){await new jn().postAHDActivities(this.patient.patientID,[{concept_id:this.inputFields[0].value.concept_id,name:this.inputFields[0].value.name,specimen:this.inputFields[1].value.name,reason:"Routine",specimenConcept:await _e.getConceptID(this.inputFields[1].value.name,!0)}]),ae(this.investigations,"specimen","disabled",!0),this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved]},async handleInputData(n){if(n.inputHeader=="Test"&&this.checkTest(),ae(this.investigations,"specimen","alertsErrorMassage",""),n.inputHeader=="Test"&&n.value){let u;Te.getPouchDbStatus()&&Te.getLanConnectionStatus()?u=await Qt("specimens"):u=await Jt.getSpecimens("",1e3),this.specimen=await _e.getConceptSet(n.value.name,"",{names:u.map(m=>m.name)}),this.specimen.length==1?(ae(this.investigations,"specimen","value",this.specimen[0]),ae(this.investigations,"specimen","disabled",!0)):(ae(this.investigations,"specimen","value",""),ae(this.investigations,"specimen","disabled",!1)),ae(this.investigations,"specimen","multiSelectData",this.specimen)}},async filterTest(n){return await this.labOrders.filter(u=>u.name.toLowerCase().includes(n.toLowerCase()))},async filterSpecimen(n){var u;return(u=this.specimen[0])!=null&&u.name&&n?await this.specimen.filter(m=>m==null?void 0:m.name.toLowerCase().includes(n.toLowerCase())):[]},setTest(n){this.selectedText=n.name,this.inputFields[1].inputHeader=="Test"?this.investigations[0].data.rowData[0].colData[0].value=n.name:this.investigations[0].data.rowData[0].colData[1].value=n.name,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[1].value||this.inputFields[0].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),_s={class:"background"},hs={key:0},ys={key:1},bs={key:2},Ds={class:"",slot:"content",style:{"margin-bottom":"125px","margin-top":"2px"}},Cs={key:3},Ss={class:"ion-padding",slot:"content"},Is={key:4};function ws(n,u,m,c,f,g){const A=X("ion-label"),r=X("ion-segment-button"),_=X("ion-segment"),S=X("VisitsHistory"),p=X("LabOrdersList"),O=X("RadiologyInvestigation");return d(),w("div",_s,[e(_,{value:n.segmentContent,style:{"margin-top":"5px"}},{default:t(()=>[e(r,{value:"Lab Investigations",onClick:u[0]||(u[0]=G=>n.setSegmentContent("Lab Investigations"))},{default:t(()=>[e(A,null,{default:t(()=>[...u[3]||(u[3]=[R("Lab Investigations",-1)])]),_:1})]),_:1}),e(r,{value:"Radiology Investigation",onClick:u[1]||(u[1]=G=>n.setSegmentContent("Radiology Investigation"))},{default:t(()=>[e(A,null,{default:t(()=>[...u[4]||(u[4]=[R("Radiology Investigation",-1)])]),_:1})]),_:1}),e(r,{value:"Other Investigation",onClick:u[2]||(u[2]=G=>n.setSegmentContent("Other Investigation"))},{default:t(()=>[e(A,null,{default:t(()=>[...u[5]||(u[5]=[R("Other Investigation",-1)])]),_:1})]),_:1})]),_:1},8,["value"]),n.segmentContent=="Radiology Investigation"?(d(),w("div",hs,[e(S)])):b("",!0),n.segmentContent=="Other Investigation"?(d(),w("div",ys)):b("",!0),n.segmentContent=="Lab Investigations"?(d(),w("div",bs,[l("div",Ds,[l("span",null,[e(p,{propOrders:n.labOrders},null,8,["propOrders"])])])])):b("",!0),n.segmentContent=="Radiology Investigation"?(d(),w("div",Cs,[l("div",Ss,[e(O)])])):b("",!0),n.segmentContent=="Other Investigation"?(d(),w("div",Is)):b("",!0)])}const As=ke(gs,[["render",ws],["__scopeId","data-v-67ff1a61"]]),ks={key:0},Os={style:{"align-content":"center"}},Ps={class:"ion-padding",slot:"content"},Es=ce({__name:"AHDPresentingComplaints",setup(n,{expose:u}){const m=ua(),{presentingComplaints:c}=pe(m),f=s(Ve),g=s(!0),A=s(!1),r=s(!0),_=s(!1),S=s([]),p=s([]),O=s(),G=fe(()=>[{componentType:"multiSelectInputField",header:"Presenting Complaints",name:"PresentingComplaints",trackBy:"concept_id",icon:Ve.search,hideSelected:!0,validation:k=>q(k==null?void 0:k.name,S.value)?"Presenting complaint already added":We.required(k),options:p.value,grid:{s:"6"}},{componentType:"inputField",header:"Duration",name:"duration",icon:Ve.time,validation:k=>We.isNotEmptyandNumber(k),grid:{s:"6"},unitOptions:[{label:"Hours",value:"Hours"},{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],unitValidation:k=>!k||k===""?"Please select a unit.":null},{componentType:"inputField",header:"Specify the presenting complaint(s)",name:"Other (specify)",icon:Ve.editPen,validation:k=>q(k,S.value)?"Presenting complaint already added":We.required(k),condition:k=>{var B;return((B=k==null?void 0:k.PresentingComplaints)==null?void 0:B.name)==="Other"}},{componentType:"Alert",condition:k=>{var B;return We.required((B=k==null?void 0:k.PresentingComplaints)==null?void 0:B.name)!=null},backgroundColor:"lightyellow",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}]),{formRef:v}=da(),C=async()=>{p.value=await fa.getComplaintsList("Presenting complaint"),ae(c.value,"PresentingComplaints","multiSelectData",p.value)},U=()=>{g.value=!1,r.value=!1,A.value=!0},H=async()=>{var W,y;const k=(W=v.value)==null?void 0:W.getFormValues();((y=v.value)==null?void 0:y.validateForm())==null&&(F(k),A.value=!1,r.value=!0)},F=k=>{var i;const B=k.duration+" "+k.duration_unit,W=k.PresentingComplaints,y=W.name==="Other"?k["Other (specify)"]:W.name;S.value.push({actionBtn:!0,btn:["delete"],name:y,concept_id:W.concept_id,duration:W.duration,durationUnits:W.duration_unit,display:[y,B],data:[{concept_id:8578,value_coded:W.concept_id,obs_datetime:Te.getSessionDate(),child:[{concept_id:W.concept_id,value_text:B,obs_datetime:Te.getSessionDate()}]}]}),(i=v.value)==null||i.resetForm(),_.value=!0},q=(k,B)=>B.some(W=>W.name===k),$=k=>{S.value=S.value.filter(B=>B.display[0]!==k.name)},K=async()=>{const k=S.value.flatMap(B=>B.data);if(k.length<=0)return Ae("Presenting complaints is required");k.length<=0||(await Se.addObsToEncounterPatient(k,re.AHD_PRESENTING_COMPLAINTS),ze("Presenting complaints saved successful"),S.value=[])};return He(async()=>{await C()}),u({onSubmit:K}),(k,B)=>{const W=X("ion-row"),y=X("ion-label"),i=X("ion-accordion"),M=X("ion-accordion-group");return d(),w(de,null,[e(Tt,{status:g.value,content:"No presenting complaints added"},null,8,["status"]),_.value?(d(),w("span",ks,[e(Ot,{listData:S.value,"onClicked:delete":$},null,8,["listData"])])):b("",!0),A.value?(d(),T(W,{key:1},{default:t(()=>[e(ca,{formData:G.value,ref_key:"formRef",ref:v},null,8,["formData"]),l("div",Os,[e(xe,{fill:"clear",icon:f.value.plus,iconSlot:"icon-only","onClicked:btn":B[0]||(B[0]=o=>H()),name:"Save"},null,8,["icon"])])]),_:1})):b("",!0),r.value?(d(),T(W,{key:2,style:{"margin-top":"10px"}},{default:t(()=>[e(xe,{fill:"clear",icon:f.value.plus,iconSlot:"icon-only","onClicked:btn":B[1]||(B[1]=o=>U()),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):b("",!0),e(W,null,{default:t(()=>[e(M,{ref_key:"accordionGroup",ref:O,class:"previousView"},{default:t(()=>[e(i,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:t(()=>[e(a(ve),{slot:"header",color:"light"},{default:t(()=>[e(y,{class:"previousLabel"},{default:t(()=>[...B[2]||(B[2]=[R("Previous presenting complaints",-1)])]),_:1})]),_:1}),l("div",Ps,[e(va)])]),_:1})]),_:1},512)]),_:1})],64)}}}),Ts=ke(Es,[["__scopeId","data-v-04755951"]]);class St extends _t{constructor(m,c,f){super(m,re.AHD_HIV_STAGING,f);ft(this,"age");ft(this,"confirmatoryTest");this.age=c,this.confirmatoryTest=null}isAdult(){return this.age>=15}isPedaid(){return this.age<=14}setAge(m){this.age=m}getFacilities(m=""){return rn.getFacilities({name:m})}getConfirmatoryTestType(){return this.confirmatoryTest}cd4CountIsValid(m){try{return!!m.match(/^(=|<|>)([0-9]*)$/m)}catch(c){return!1}}getAlertGuidelines(){return un}getWhoStageGuidelines(){return this.isAdult()?dn:cn}getProgramEligibilityGuidelines(){return this.isAdult()?mn:pn}getRecommendedConditionGuidelines(){return this.isAdult()?vn:fn}getStagingConditions(m){const c=this.getStagingCategoryByNum(m);return _t.getConceptsByCategory(c)}buildWhoStageObs(m){return this.buildValueCoded("Who stage",m)}buildWhoCriteriaObs(m){return this.buildValueCoded("Who stages criteria present",m)}buildReasonForArtObs(m){return this.buildValueCoded("Reason for ART eligibility",m)}getStagingCategoryByNum(m){switch(m){case 1:return this.isAdult()?"stage_1_conditions_adults":"stage_1_conditions_pedaids";case 2:return this.isAdult()?"stage_2_conditions_adults":"stage_2_conditions_pedaids";case 3:return this.isAdult()?"stage_3_conditions_adults":"stage_3_conditions_pedaids";case 4:return this.isAdult()?"stage_4_conditions_adults":"stage_4_conditions_pedaids";default:return""}}async loadHivConfirmatoryTestType(){const m=await _t.getFirstValueCoded(this.patientID,"Confirmatory hiv test type");m&&(this.confirmatoryTest=m)}}const Hs={key:0,class:"ion-padding"},Ns={class:"accordion_group ion-padding"},Vs={style:{"font-weight":"bold"}},xs={class:"error"},Ms={class:"ion-padding",slot:"content"},$s={class:"ion-padding"},Ls={class:"ion-padding"},Rs={key:0,class:"ion-padding"},Fs={class:"ion-padding",style:{"border-bottom":"dashed #ccc"}},Bs=ce({__name:"AHDStaging",props:{hideSubmit:{type:Boolean,default:!1},date:{default:St.getSessionDate()}},setup(n,{expose:u}){const m=n,c=new Pt,f=s({}),g=new St(c.getID(),c.getAge(),-1);te(()=>m.date,o=>{var j;const h=(j=o==null?void 0:o.standardDate)!=null?j:St.getSessionDate(),I=Xe(h).diff(c.getBirthdate(),"years");g.setAge(I),g.setDate(h)},{deep:!0,immediate:!0});const A=Lt({stage_4_conditions:{title:"Stage 4 Conditions",options:[]},stage_3_conditions:{title:"Stage 3 Conditions",options:[]},stage_2_conditions:{title:"Stage 2 Conditions",options:[]},stage_1_conditions:{title:"Stage 1 Conditions",options:[]}}),r=Lt({cd4:"",cd4Date:"",isChildBearing:!1,reasonForArt:"",pregnant:"",breastFeeding:"",cd4Available:"",cd4Modifier:"",cd4Location:"",whoStage:"",staging:[],confirmatoryTest:""}),_={reasonForArt:{buildObs:()=>g.buildReasonForArtObs(r.reasonForArt),suggestAvalue:()=>({"PRESUMED SEVERE HIV":{priority:1,condition:()=>c.getAgeInMonths()<12&&r.confirmatoryTest==="HIV rapid test"&&_e.getConceptsByCategory("pshd_condition").some(o=>F().includes(o.name))},"WHO STAGE IV PEDS":{priority:2,condition:()=>g.isPedaid()&&p(["stage_4_conditions"])},"WHO STAGE III PEDS":{priority:3,condition:()=>g.isPedaid()&&p(["stage_3_conditions"])},"HIV DNA polymerase chain reaction":{priority:4,condition:()=>c.getAgeInMonths()<12&&r.confirmatoryTest==="HIV DNA polymerase chain reaction"},"CD4 COUNT LESS THAN OR EQUAL TO 750":{priority:5,condition:()=>U(750)&&H()&&O()&&c.ageInMonths()>=24&&c.ageInMonths()<=56},"CD4 COUNT LESS THAN OR EQUAL TO 500":{priority:6,condition:()=>g.isPedaid()&&U(500)&&H()&&O()},"HIV infected":{priority:7,condition:()=>c.getAgeInMonths()<24||c.getAge()<=5},"WHO STAGE IV ADULT":{priority:1,condition:()=>{const o=_e.getConceptsByCategory("severe_hiv_wasting_syndrome");return g.isAdult()&&(p(["stage_4_conditions"])||o.filter(h=>F().includes(h.name)).length>=2)}},"WHO STAGE III ADULT":{priority:2,condition:()=>g.isAdult()&&p(["stage_3_conditions"])},"cd4 less than or equal to 350":{priority:3,condition:()=>g.isAdult()&&U(350)&&O()},"cd4 less than or equal to 250":{priority:4,condition:()=>g.isAdult()&&U(250)&&O()},"cd4 less than or equal to 500":{priority:4,condition:()=>g.isAdult()&&U(500)&&O()},BREASTFEEDING:{priority:5,condition:()=>g.isAdult()&&r.breastFeeding==="Yes"&&H()},"PATIENT PREGNANT":{priority:6,condition:()=>g.isAdult()&&r.pregnant==="Yes"&&H()},Asymptomatic:{priority:7,condition:()=>H()}})},whoStage:{buildObs:()=>g.buildWhoStageObs(r.whoStage),suggestAvalue:()=>({"WHO STAGE IV ADULT":{priority:1,condition:()=>g.isAdult()&&p(["stage_4_conditions"])},"WHO STAGE III ADULT":{priority:2,condition:()=>g.isAdult()&&p(["stage_3_conditions"])},"WHO STAGE II ADULT":{priority:3,condition:()=>g.isAdult()&&p(["stage_2_conditions"])},"WHO STAGE I ADULT":{priority:4,condition:()=>g.isAdult()&&p(["stage_1_conditions"])},"WHO STAGE IV PEDS":{priority:1,condition:()=>g.isPedaid()&&(p(["stage_4_conditions"])||r.reasonForArt==="WHO STAGE IV PEDS")},"WHO STAGE III PEDS":{priority:2,condition:()=>g.isPedaid()&&p(["stage_3_conditions"])},"WHO STAGE II PEDS":{priority:3,condition:()=>g.isPedaid()&&p(["stage_2_conditions"])},"WHO STAGE I PEDS":{priority:4,condition:()=>g.isPedaid()&&p(["stage_1_conditions"])}})},cd4Available:{required:()=>!0,dataHandler:o=>{o!="Yes"&&(r.cd4="",r.cd4Date=""),f.value.cd4="",f.value.cd4Modifier="",f.value.cd4Date="",f.value.cd4Location=""}},pregnant:{required:()=>r.isChildBearing,buildObs:()=>g.buildValueCoded("Is patient pregnant?",r.pregnant)},breastFeeding:{required:()=>r.isChildBearing,buildObs:()=>g.buildValueCoded("Is patient breast feeding?",r.breastFeeding)},cd4:{required:()=>r.cd4Available==="Yes",validation:()=>{if(!C()){f.value.cd4="A number is required";return}v()>1e4&&(f.value.cd4="CD4 value cannot exceed 10,000")},buildObs:()=>g.buildValueNumber("CD4 count",v(),G())},cd4Modifier:{required:()=>r.cd4Available==="Yes",validation:()=>{r.cd4Modifier||(f.value.cd4Modifier="Please select modifier")},dataHandler:o=>r.cd4Modifier=o,options:[{label:"=",value:"="},{label:">",value:">"},{label:"<",value:"<"}]},cd4Date:{required:()=>r.cd4Available==="Yes",dataHandler:o=>{o&&(r.cd4Date=Xe(o).format("YYYY-MM-DD"))},validation:()=>{if(isNaN(new Date(r.cd4Date).getTime())){f.value.cd4Date="Invalid CD4 date";return}const o=Xe(r.cd4Date);if(o.isAfter(Xe(g.getDate()))){f.value.cd4Date="Cd4 result date can't be greater than ".concat(g.getDate());return}o.isBefore(Xe(c.getBirthdate()))&&(f.value.cd4Date="CD4 date must not be earlier than birthdate")},buildObs:()=>g.buildValueDate("Cd4 count datetime",r.cd4Date)},cd4Location:{required:()=>r.cd4Available==="Yes",dataHandler:o=>r.cd4Location=o,buildObs:()=>g.buildValueText("Cd4 count location",r.cd4Location)},staging:{validation:()=>{if(Object.keys(A).every(j=>k(j)<=0)){f.value.staging="Please select one or more staging conditions";return}const h=["stage_4_conditions","stage_3_conditions","stage_2_conditions"].some(j=>k(j)>0);A.stage_1_conditions.options.some(j=>/asymptomatic/i.test(j.name)&&j.checked)&&h&&(f.value.staging="Asymptomatic cannot be selected with other staging conditions")},buildObs:()=>Object.keys(A).reduce((h,I)=>(A[I].options.forEach(j=>{j.checked&&h.push(j.name)}),h),[]).map(h=>g.buildWhoCriteriaObs(h))}};function S(){Object.keys(r).forEach(o=>{typeof r[o]=="boolean"?r[o]=!1:Array.isArray(r[o])?r[o]=[]:r[o]=""}),Object.keys(f.value).forEach(o=>f.value[o]=""),y()}function p(o){return o.some(h=>k(h)>0)}function O(){return new Date(r.cd4Date)<=new Date("2016-04-30")}function G(){return r.cd4Modifier}function v(){return parseInt("".concat(r.cd4))}function C(){return/^\d+$/i.test("".concat(r.cd4))}function U(o){if(!C())return!1;const h=G(),I=v();return h==="="&&o===I||h==="<"&&I<=o||h===">"&&I>=o}function H(){return p(["stage_2_conditions","stage_1_conditions"])}function F(){return Object.keys(A).reduce((o,h)=>(A[h].options.forEach(I=>I.checked&&o.push(I.name)),o),[])}function q(o){if(f.value[o]="",typeof _[o].required=="function"&&_[o].required()&&!r[o]){f.value[o]="This field is required";return}r[o]&&typeof _[o].validation=="function"&&_[o].validation()}function $(o){var h,I,j;if(_[o]&&"suggestAvalue"in _[o]){r[o]="";const ne=_[o].suggestAvalue(),De=Object.keys(ne).reduce((z,Ie)=>{const Me=ne[Ie];return typeof Me.condition=="function"&&Me.condition()?[...z,{value:Ie,priority:Me.priority}]:z},[]);r[o]=(j=(I=(h=De.sort((z,Ie)=>z.priority-Ie.priority))==null?void 0:h[0])==null?void 0:I.value)!=null?j:""}}function K(){return Object.keys(r).reduce((o,h)=>{if(h in _&&r[h]&&typeof _[h].buildObs=="function"){const I=_[h].buildObs();return Array.isArray(I)?[...o,...I]:[...o,I]}return o},[])}function k(o){return A[o].options.filter(h=>h.checked).length}async function B(){await g.loadHivConfirmatoryTestType(),r.confirmatoryTest=g.getConfirmatoryTestType(),r.isChildBearing=c.isChildBearing()}function W(o,h){o in _&&typeof _[o].dataHandler=="function"&&_[o].dataHandler(h),q(o),Object.keys(_).forEach(I=>$(I))}function y(){Object.keys(A).forEach(o=>{var j,ne;const h=Number((ne=(j=o.match(/\d+/))==null?void 0:j[0])!=null?ne:0),I=g.getStagingConditions(h);A[o].options=I.map(De=>({checked:!1,name:De.name,concept_id:De.concept_id}))})}function i(){return Object.keys(_).forEach(o=>q(o)),Object.keys(f.value).every(o=>"".concat(f.value[o]).length<=0)}async function M(){if(console.log("Submitting staging"),!i())return Ae("Please review form for errors"),!1;try{const o=await Promise.all(K());return await g.createEncounter(),await g.saveObservationList(o),ze("Staging Observations saved!"),!0}catch(o){return console.error(o),bn("Error has occured while saving observations"),!1}}return te(()=>m.date,o=>{g.setDate(o),c.date=o,S()}),He(async()=>{await B(),y()}),u({validateStagingForm:i,buildPayload:K,onSubmit:M}),(o,h)=>(d(),T(a(qa),null,{default:t(()=>[e(a(Fa),null,{default:t(()=>[r.isChildBearing?(d(),w("div",Hs,[e(a(gt),null,{default:t(()=>[e(a(ge),null,{default:t(()=>[e(a(J),null,{default:t(()=>[e(ht,{label:"Pregnant?",modelValue:r.pregnant,"onUpdate:modelValue":h[0]||(h[0]=I=>r.pregnant=I),onIonChange:h[1]||(h[1]=I=>W("pregnant",I)),"error-message":f.value.pregnant},null,8,["modelValue","error-message"])]),_:1}),e(a(J),null,{default:t(()=>[e(ht,{label:"Breastfeeding?",modelValue:r.breastFeeding,"onUpdate:modelValue":h[2]||(h[2]=I=>r.breastFeeding=I),onOnChange:h[3]||(h[3]=I=>W("breastFeeding",I)),"error-message":f.value.breastFeeding},null,8,["modelValue","error-message"])]),_:1})]),_:1})]),_:1})])):b("",!0),l("div",Ns,[e(a(ut),{color:"light"},{default:t(()=>[(d(!0),w(de,null,Ee(A,(I,j)=>(d(),T(a(Re),{key:j},{default:t(()=>[e(a(ve),{color:"light",slot:"header"},{default:t(()=>[e(a(Ce),{style:{color:"grey","font-size":"17px"},class:"ion-padding"},{default:t(()=>[l("b",Vs,[R(V(I.title)+" ",1),e(a(Ba),{color:k("".concat(j))>0?"primary":void 0},{default:t(()=>[R(" Selected: "+V(k("".concat(j))),1)]),_:2},1032,["color"])]),l("p",xs,V(f.value.staging),1)]),_:2},1024)]),_:2},1024),l("div",Ms,[e(a(dt),null,{default:t(()=>[(d(!0),w(de,null,Ee(I.options,(ne,De)=>(d(),T(a(ve),{key:De},{default:t(()=>[e(a(na),{modelValue:ne.checked,"onUpdate:modelValue":z=>ne.checked=z,onIonChange:z=>W("staging",{stage_type:j,raw:z,option:ne})},null,8,["modelValue","onUpdate:modelValue","onIonChange"]),e(a(Ce),{style:{margin:"13px"}},{default:t(()=>[R(V(ne.name),1)]),_:2},1024),h[15]||(h[15]=l("p",null,null,-1)),ne.description?(d(),T(a(Ua),{key:0,color:ne.color},{default:t(()=>[R(V(ne.text),1)]),_:2},1032,["color"])):b("",!0)]),_:2},1024))),128))]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),l("div",$s,[l("div",Ls,[e(ht,{label:"Recent CD4 count results available?",modelValue:r.cd4Available,"onUpdate:modelValue":h[4]||(h[4]=I=>r.cd4Available=I),onOnChange:h[5]||(h[5]=I=>W("cd4Available",I)),"error-message":f.value.cd4Available},null,8,["modelValue","error-message"])]),r.cd4Available==="Yes"?(d(),w("div",Rs,[e(a(gt),{class:"ion-padding"},{default:t(()=>[e(a(ge),null,{default:t(()=>[e(a(J),null,{default:t(()=>[e(gn,{label:"CD4 Count Date",modelValue:r.cd4Date,"onUpdate:modelValue":h[6]||(h[6]=I=>r.cd4Date=I),required:r.cd4Available==="Yes","error-message":f.value.cd4Date,onOnChange:h[7]||(h[7]=I=>W("cd4Date",I))},null,8,["modelValue","required","error-message"])]),_:1})]),_:1}),e(a(ge),null,{default:t(()=>[e(a(J),{size:"2"},{default:t(()=>[e(_n,{label:"CD4 Result Modifier",required:r.cd4Available==="Yes","error-message":f.value.cd4Modifier,options:_.cd4Modifier.options,onOnChange:h[8]||(h[8]=I=>W("cd4Modifier",I.value))},null,8,["required","error-message","options"])]),_:1}),e(a(J),{size:"10"},{default:t(()=>[e(hn,{label:"CD4 Count",modelValue:r.cd4,"onUpdate:modelValue":h[9]||(h[9]=I=>r.cd4=I),type:"number",onOnChange:h[10]||(h[10]=I=>W("cd4",I)),placeholder:"Enter CD4 Count","error-message":f.value.cd4},null,8,["modelValue","error-message"])]),_:1})]),_:1}),e(a(ge),{style:{"margin-top":"15px"}},{default:t(()=>[e(a(J),null,{default:t(()=>[e(yn,{label:"CD4 Count Location",modelValue:r.cd4Location,"onUpdate:modelValue":h[11]||(h[11]=I=>r.cd4Location=I),required:r.cd4Available==="Yes","error-message":f.value.cd4Location,show_error:!1,selected_district_ids:[],selected_location:r.cd4Location,onOnChange:h[12]||(h[12]=I=>{W("cd4Location",I)})},null,8,["modelValue","required","error-message","selected_location"])]),_:1})]),_:1})]),_:1})])):b("",!0)]),l("div",Fs,[e(a(gt),null,{default:t(()=>[e(a(ge),null,{default:t(()=>[e(a(J),null,{default:t(()=>[e(a(rt),{readonly:"",placeholder:"N/A",label:"REASON FOR ART:",modelValue:r.reasonForArt,"onUpdate:modelValue":h[13]||(h[13]=I=>r.reasonForArt=I)},null,8,["modelValue"])]),_:1}),e(a(J),null,{default:t(()=>[e(a(rt),{readonly:"",placeholder:"N/A",label:"WHO STAGE:",modelValue:r.whoStage,"onUpdate:modelValue":h[14]||(h[14]=I=>r.whoStage=I)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}))}}),Us=ke(Bs,[["__scopeId","data-v-1fe6c93a"]]),qs={style:{display:"flex","align-items":"center"}},Gs={style:{width:"88vw",margin:"0 auto","margin-top":"10px"}},Ws=ce({__name:"AHDWorkflow",setup(n,{expose:u}){const{onTabBeforeChange:m,currentTabIndex:c}=Xn();ss();const f=Ga(),g=Wa();s([]),s([]),s(!1);const A=s(!0),r=s(!1),_=s(!1),S=fe(()=>({text:_.value?"Saving...":"Finish",icon:_.value?"hourglass-outline":"checkmark",hideText:!1,hideIcon:!1,disabled:r.value||_.value})),p=Xt(),O=Je(),G=At(),v=Dn();Ye();const C=Cn(),U=Sn();ma();const H=In(),F=Dt(),q=wn(),{patient:$}=pe(O),{vitals:K}=pe(p),{investigations:k}=pe(G),{diagnosis:B}=pe(v),{substance:W}=pe(H),{selectedNCDMedicationList:y}=pe(C),{FootScreening:i,visualScreening:M,cvScreening:o}=pe(F),{sessionDate:h}=pe(q),{apiStatus:I}=pe(An());te(S,(N,Y)=>{console.log("Done button options changed:",{from:Y,to:N,currentStep:c.value,tabsLength:z.value.length}),N.disabled!==(Y==null?void 0:Y.disabled)&&console.log("Done button ".concat(N.disabled?"disabled":"enabled")),N.text!==(Y==null?void 0:Y.text)&&console.log('Done button text changed from "'.concat(Y==null?void 0:Y.text,'" to "').concat(N.text,'"'))},{deep:!0}),te(_,(N,Y)=>{N!==Y&&(console.log("Saving state changed: ".concat(Y," -> ").concat(N)),console.log(N?"Starting save process...":"Save process completed"))});const j=N=>{console.log("Done button change received from wizard:",N),N.newOptions.disabled&&console.log("Done button has been disabled"),N.isLastStep&&console.log("User is on the last step, done button should be visible")},ne=()=>{let N=!1;return P(),_.value&&(N=!0),r.value=N,!N},De=()=>[{title:"Presenting Complaints",icon:""},{title:"Past Medical History",icon:""},{title:"WHO",icon:""},{title:"Investigation",icon:""}],z=s(De()),Ie=s(null),Me=s(null),P=()=>{var se;if(!z.value||z.value.length===0)return console.log("Tabs not yet initialized"),null;const N=c.value>=0&&c.value<z.value.length?c.value:0;switch((se=z.value[N])==null?void 0:se.title){case"Presenting Complaints":return"Presenting Complaints";case"Past Medical History":return"Past Medical History";case"WHO":return"WHO";case"Investigation":return"Investigation";default:if(U.NCDActivities.length>0)switch(U.NCDActivities[0]){case"Presenting Complaints":return"Presenting Complaints";case"Past Medical History":return"Past Medical History";case"WHO":return"WHO";case"Investigation":return"Investigation"}return null}},L=()=>{A.value=!1,setTimeout(()=>{c.value=0,A.value=!0},0)},Q=()=>{const N=Xt();N.setVitals(N.getInitialVitals($.value.ID))},ie=async()=>{var se,me;const N=kn(h.value,"sessionDate","value")||Le.sessionDate(),Y=it("vitals");for(let ee=0;ee<z.value.length;ee++){const ue=z.value[ee];if(ue.title==="Vital Signs")z.value[ee].icon=Fe(N,Y)?Ke:"";else if(ue.title==="Risk Assessment"){const oe=it("substanceAbuse");z.value[ee].icon=Fe(N,oe)?Ke:""}else if(ue.title==="Investigations"){const oe=(me=(se=$==null?void 0:$.value)==null?void 0:se.labOrders)==null?void 0:me.saved,Ue=oe==null?void 0:oe.filter(mt=>Le.toStandardHisFormat(N)===Le.toStandardHisFormat(mt.order_date));z.value[ee].icon=(Ue==null?void 0:Ue.length)>0?Ke:""}else if(ue.title==="Diagnosis"){const oe=it("diagnosis");z.value[ee].icon=Fe(N,oe)?Ke:""}else if(ue.title==="Complications Screening"){const oe=it("screening");z.value[ee].icon=Fe(N,oe)?Ke:""}else ue.title==="Treatment Plan"&&(y.value.length>0?z.value[ee].icon=On()?Ke:"":z.value[ee].icon="")}ne()},Fe=(N,Y)=>{const se=new Date(N);return se.setHours(0,0,0,0),Y.some(me=>{const ee=new Date(me.obs_datetime);return ee.setHours(0,0,0,0),ee.getTime()===se.getTime()})},he=async()=>{var ee,ue,oe,Ue;const N=[],Y=await tt(M.value),se=await Gn(i.value),me=await tt(o.value);Y.length>0&&N.push({concept_id:await _e.getConceptID("Visual acuity",!0),value_text:"visual acuity test",obs_datetime:_e.getSessionDate(),child:Y}),se.length>0&&N.push({concept_id:await _e.getConceptID("Foot check",!0),value_text:"foot screening",obs_datetime:_e.getSessionDate(),child:se}),me.length>0&&N.push(...me),N.length>0?((Ue=(oe=(ue=(ee=$.value).screening)!=null?ue:ee.screening={}).unsaved)!=null||(oe.unsaved=[]),$.value.screening.unsaved.push(...N),ze("Complications saved successfully")):Ae("No complications data to save")},ye=async()=>{const N=Et();if(!Ge.isEmpty(N.selectedMedicalAllergiesList)){const me=En(),ee=N.selectedMedicalAllergiesList.map(oe=>({concept_id:oe.concept_id,obs_datetime:Te.getSessionDate(),value_coded:oe.concept_id,location_id:me.facilityLocation.code,value_text:oe.name})),ue=await es(ee);$.value=Object.assign($.value,ue),console.log("Allergies staged successfully:",$.value),N.clearSelectedMedicalAllergiesList()}const Y=await ts();$.value=Object.assign($.value,Y);const se=await as().saveNonPharmaTherapyPatientData();$.value=Object.assign($.value,se)},$e=async(N,Y)=>{var me,ee,ue;const se=(me=z.value[Y])==null?void 0:me.title;N%1===0&&(c.value=N),se=="Vital Signs"&&((ee=Ie.value)==null||ee.onSubmit()),se=="Risk Assessment"&&((ue=Me.value)==null||ue.onSubmit()),se=="Complications Screening"&&await he(),se=="Treatment Plan"&&await ye(),await Zt($.value)},Be=async()=>{_.value=!0;try{await Pn(),await Zt($.value),f.push("/triageList")}catch(N){console.error("Error saving data:",N),Ae("Error occurred while saving data. Please try again.")}finally{_.value=!1}};return He(async()=>{if(U.NCDActivities.length===0){f.push("patientProfile");return}Dt().resetScreening(),z.value=De(),await ie(),(c.value===void 0||c.value<0)&&(c.value=0,console.log("Setting initial tab index to 0")),r.value=!1,_.value=!1,ne()}),te(c,async()=>{await ne()}),te(K,async()=>{await ie()},{deep:!0}),te($,async()=>{Dt().resetScreening(),await ie()},{deep:!0}),te(h,async()=>{await ie()},{deep:!0}),te(k,async()=>{await ie()},{deep:!0}),te(B,async()=>{await ie()},{deep:!0}),te(W,async()=>{await ie()},{deep:!0}),te(y,async()=>{await ie()},{deep:!0}),te(g,async N=>{L(),Q(),z.value=De()},{deep:!0}),te($,async(N,Y)=>{N.ID!=Y.ID&&(L(),Q())},{deep:!0}),u({saveData:Be,markWizard:ie,refreshWizard:L,validateDoneButtonState:ne}),(N,Y)=>{const se=X("ion-icon"),me=X("ion-title"),ee=X("ion-toolbar"),ue=X("ion-header");return d(),w(de,null,[e(ue,null,{default:t(()=>[e(ee,{class:"modal-title"},{default:t(()=>[e(me,null,{default:t(()=>[l("div",qs,[e(se,{icon:a(Ve).demographics,class:"sub-menu-icon",style:{"font-size":"1.4rem"}},null,8,["icon"]),Y[2]||(Y[2]=l("b",{style:{"margin-left":"6px"}},"Advance HIV Disease",-1))])]),_:1}),e(se,{slot:"end",onClick:Y[0]||(Y[0]=oe=>a(za).dismiss()),style:{"font-size":"30px","padding-right":"10px"},icon:a(kt)},null,8,["icon"])]),_:1})]),_:1}),e(a(aa),{class:"ion-padding"},{default:t(()=>[l("div",Gs,[A.value?(d(),T(Zn,{key:0,ref:"wizard",headingTitle:"AHD Screening","vertical-tabs":"","navigable-tabs":"","scrollable-tabs":"",startIndex:0,doneButton:S.value,"custom-tabs":z.value,beforeChange:a(m),onChange:$e,"onComplete:wizard":Y[1]||(Y[1]=oe=>Be()),onDoneButtonChanged:j},{default:t(()=>[nt(l("div",null,[e(Ts,{ref:"observationsRef"},null,512)],512),[[st,P()=="Presenting Complaints"]]),nt(l("div",null,[e(fs,{ref:"interventionsRef"},null,512)],512),[[st,P()=="Past Medical History"]]),nt(l("div",null,[e(Us,{ref:"medicationsRef"},null,512)],512),[[st,P()=="WHO"]]),nt(l("div",null,[e(As,{ref:"medicationsRef"},null,512)],512),[[st,P()=="Investigation"]])]),_:1},8,["doneButton","custom-tabs","beforeChange"])):b("",!0)])]),_:1})],64)}}}),zs={key:0},Ys={style:{"align-content":"center"}},js={class:"ion-padding",slot:"content"},Ks=ce({__name:"PresentingComplaints",setup(n,{expose:u}){const m=ua(),{presentingComplaints:c}=pe(m),f=s(Ve),g=s(!0),A=s(!1),r=s(!1),_=s(!0),S=s(!1),p=s([]),O=s([]),G=s(),v=fe(()=>[{componentType:"multiSelectInputField",header:"Presenting Complaints",name:"PresentingComplaints",trackBy:"concept_id",icon:Ve.search,hideSelected:!0,validation:y=>k(y==null?void 0:y.name,p.value)?"Presenting complaint already added":We.required(y),options:O.value,grid:{s:"6"}},{componentType:"inputField",header:"Duration",name:"duration",icon:Ve.time,validation:y=>We.isNotEmptyandNumber(y),grid:{s:"6"},unitOptions:[{label:"Hours",value:"Hours"},{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],unitValidation:y=>!y||y===""?"Please select a unit.":null},{componentType:"inputField",header:"Specify the presenting complaint(s)",name:"Other (specify)",icon:Ve.editPen,validation:y=>k(y,p.value)?"Presenting complaint already added":We.required(y),condition:y=>{var i;return((i=y==null?void 0:y.PresentingComplaints)==null?void 0:i.name)==="Other"}},{componentType:"Alert",condition:y=>{var i;return We.required((i=y==null?void 0:y.PresentingComplaints)==null?void 0:i.name)!=null},backgroundColor:"lightyellow",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}]),{formRef:C}=da(),U=async()=>{pa(Ws,{class:"fullScreenModal"})},H=async()=>{O.value=await fa.getComplaintsList("Presenting complaint"),ae(c.value,"PresentingComplaints","multiSelectData",O.value)},F=()=>{g.value=!1,_.value=!1,r.value=!0},q=async()=>{var M,o;const y=(M=C.value)==null?void 0:M.getFormValues();((o=C.value)==null?void 0:o.validateForm())==null&&($(y),r.value=!1,_.value=!0)},$=y=>{var h;const i=y.duration+" "+y.duration_unit,M=y.PresentingComplaints,o=M.name==="Other"?y["Other (specify)"]:M.name;p.value.push({actionBtn:!0,btn:["delete"],name:o,concept_id:M.concept_id,duration:M.duration,durationUnits:M.duration_unit,display:[o,i],data:[{concept_id:8578,value_coded:M.concept_id,obs_datetime:Te.getSessionDate(),child:[{concept_id:M.concept_id,value_text:i,obs_datetime:Te.getSessionDate()}]}]}),(h=C.value)==null||h.resetForm(),S.value=!0,K()},K=()=>{const y=["Cough","Convulsions"];A.value=p.value.some(i=>y.includes(i.name))},k=(y,i)=>i.some(M=>M.name===y),B=y=>{p.value=p.value.filter(i=>i.display[0]!==y.name)},W=async()=>{const y=await Se.getObsByEncounterIdAndDate(re.PRESENTING_COMPLAINTS),i=p.value.flatMap(M=>M.data);if(i.length<=0&&y.length<=0)return Ae("Presenting complaints is required");i.length<=0||(await Se.addObsToEncounterPatient(i,re.PRESENTING_COMPLAINTS),ze("Presenting complaints saved successful"),p.value=[])};return He(async()=>{await H()}),u({onSubmit:W}),(y,i)=>{const M=X("ion-row"),o=X("ion-label"),h=X("ion-accordion"),I=X("ion-accordion-group");return d(),w(de,null,[e(Tt,{status:g.value,content:"No presenting complaints added"},null,8,["status"]),S.value?(d(),w("span",zs,[e(Ot,{listData:p.value,"onClicked:delete":B},null,8,["listData"])])):b("",!0),r.value?(d(),T(M,{key:1},{default:t(()=>[e(ca,{formData:v.value,ref_key:"formRef",ref:C},null,8,["formData"]),l("div",Ys,[e(xe,{fill:"clear",icon:f.value.plus,iconSlot:"icon-only","onClicked:btn":i[0]||(i[0]=j=>q()),name:"Save"},null,8,["icon"])])]),_:1})):b("",!0),_.value?(d(),T(M,{key:2,style:{"margin-top":"10px"}},{default:t(()=>[e(xe,{fill:"clear",icon:f.value.plus,iconSlot:"icon-only","onClicked:btn":i[1]||(i[1]=j=>F()),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):b("",!0),A.value?(d(),T(M,{key:3,class:"ion-float-right"},{default:t(()=>[e(xe,{color:"danger","onClicked:btn":i[2]||(i[2]=j=>U()),name:"AHD Screening"})]),_:1})):b("",!0),e(M,null,{default:t(()=>[e(I,{ref_key:"accordionGroup",ref:G,class:"previousView"},{default:t(()=>[e(h,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:t(()=>[e(a(ve),{slot:"header",color:"light"},{default:t(()=>[e(o,{class:"previousLabel"},{default:t(()=>[...i[3]||(i[3]=[R("Previous presenting complaints",-1)])]),_:1})]),_:1}),l("div",js,[e(va)])]),_:1})]),_:1},512)]),_:1})],64)}}}),Qs=ke(Ks,[["__scopeId","data-v-0aa2f61c"]]),Js={class:"allergies-container"},Xs={key:0,class:"no-allergies"},Zs={key:1,class:"date-groups"},ei=["onClick"],ti={class:"date-info"},ai={class:"date-text"},ni={class:"allergy-count"},si={class:"card-header"},ii={class:"allergy-type"},oi={class:"card-content"},li=ce({__name:"AllergiesListing",setup(n){const u=Je(),{patient:m}=pe(u),c=s({}),f={antiviral:/abacavir|lamivudine|lopinavir|ritonavir|zidovudine|efavirenz|tenofovir/i,antibiotic:/penicillin|amoxicillin|cephalexin|azithromycin|ciprofloxacin|doxycycline/i,analgesic:/aspirin|ibuprofen|acetaminophen|morphine|codeine|tramadol/i,cardiac:/metoprolol|lisinopril|amlodipine|atorvastatin|warfarin/i,activated:/activated\s+charcoal/i},g={985:{name:"Other",icon:Qe,severity:"danger"},7759:{name:"Location/Environmental",icon:sa,severity:"info"},7579:{name:"Medical Condition",icon:Qa,severity:"warning"},drug:{name:"Drug Allergy",icon:Qe,severity:"danger"},food:{name:"Food Allergy",icon:Ka,severity:"danger"},environmental:{name:"Environmental",icon:ja,severity:"warning"},contact:{name:"Contact Allergy",icon:Ya,severity:"warning"},unknown:{name:"Drug Allergy",icon:Qe,severity:"danger"}},A=v=>{const C=v.toLowerCase();return f.antiviral.test(C)?{type:"Antiviral Medication",icon:"shield-outline"}:f.antibiotic.test(C)?{type:"Antibiotic",icon:"bandage-outline"}:f.analgesic.test(C)?{type:"Pain Medication",icon:"fitness-outline"}:f.cardiac.test(C)?{type:"Cardiac Medication",icon:"heart-outline"}:f.activated.test(C)?{type:"Detoxification Agent",icon:"flask-outline"}:{type:"Medication",icon:"medical-outline"}},r=fe(()=>{var v,C,U;return((U=(C=(v=m.value)==null?void 0:v.allergies)==null?void 0:C.saved)==null?void 0:U.length)>0}),_=fe(()=>r.value?m.value.allergies.saved.map(v=>{var $;const C=(($=v.concept_id)==null?void 0:$.toString())||"unknown";console.log("###########: ",v);const U=g[C]||g.unknown;let H="Unknown",F=null;return v.value_text&&v.value_text!=="Unknown"&&v.value_text!==""?(H=v.value_text,C==="985###"&&(F=A(v.value_text))):v.concept_name&&(H=v.concept_name),{...F?{...U,name:F.type,icon:F.icon}:U,displayValue:H,conceptId:v.concept_id,date:v.obs_datetime||v.encounter_datetime,providerId:v.provider_id,locationId:v.location_id,encounterId:v.encounter_id,isDrug:C==="985",raw:v}}):[]),S=fe(()=>{const v={};_.value.forEach(H=>{const F=H.date?O(H.date):"Unknown Date";v[F]||(v[F]=[]),v[F].push(H)});const C={};return Object.keys(v).sort((H,F)=>H==="Unknown Date"?1:F==="Unknown Date"?-1:new Date(F).getTime()-new Date(H).getTime()).forEach(H=>{C[H]=v[H]}),C}),p=v=>{c.value[v]=!c.value[v]},O=v=>{if(!v)return"Unknown Date";try{return new Date(v).toISOString().split("T")[0]}catch(C){return"Unknown Date"}},G=v=>{if(v==="Unknown Date")return"Unknown Date";try{const C=new Date(v),U=Le.sessionDate(),H=new Date(U),F=new Date(H);F.setDate(F.getDate()-1);const q=C.toDateString(),$=H.toDateString(),K=F.toDateString();return q===$?"Today":q===K?"Yesterday":C.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(C){return v}};return te(()=>S.value,v=>{const C=Object.keys(v);C.length>0&&(c.value[C[0]]=!0)},{immediate:!0}),te(()=>{var v;return(v=m.value)==null?void 0:v.allergies},v=>{console.log("Allergies updated:",v)},{deep:!0}),He(()=>{var v;console.log("Allergies component mounted",(v=m.value)==null?void 0:v.allergies)}),(v,C)=>{const U=X("ion-icon"),H=X("ion-label");return d(),w("div",Js,[e(H,{class:"section-title"},{default:t(()=>[e(U,{icon:a(ia),class:"alert-icon"},null,8,["icon"]),e(H,null,{default:t(()=>[...C[0]||(C[0]=[R("Allergies (Medication, Healthcare items, Environment and Food)",-1)])]),_:1})]),_:1}),r.value?(d(),w("div",Zs,[(d(!0),w(de,null,Ee(S.value,(F,q)=>(d(),w("div",{key:q,class:"date-group"},[l("div",{class:Ze(["date-header",{expanded:c.value[q]}]),onClick:$=>p(q)},[l("div",ti,[e(U,{icon:a(Xa),class:"date-icon"},null,8,["icon"]),l("span",ai,V(G(q)),1),l("span",ni,"("+V(F.length)+" "+V(F.length===1?"allergy":"allergies")+")",1)]),e(U,{icon:a(Za),class:Ze(["expand-icon",{rotated:c.value[q]}])},null,8,["icon","class"])],10,ei),l("div",{class:Ze(["allergies-grid",{collapsed:!c.value[q]}])},[(d(!0),w(de,null,Ee(F,($,K)=>(d(),w("div",{key:K,class:Ze(["allergy-card",$.severity])},[l("div",si,[e(U,{icon:$.icon,class:"allergy-icon"},null,8,["icon"]),l("span",ii,V($.name),1)]),l("div",oi,[l("div",{class:Ze(["allergy-value",{"drug-name":$.isDrug}])},V($.displayValue),3)])],2))),128))],2)]))),128))])):(d(),w("div",Xs,[e(U,{icon:a(Ja),class:"no-allergies-icon"},null,8,["icon"]),C[1]||(C[1]=l("p",null,"No known allergies",-1))]))])}}}),ga=ke(li,[["__scopeId","data-v-4451d7ce"]]),ri=ce({name:"VisitHistory",components:{AllergiesListing:ga,IonIcon:ot},setup(){const n=Et();return{selectedAllergiesList2:fe(()=>n.selectedMedicalAllergiesList),alertCircleOutline:ia,documentTextOutline:an,femaleOutline:tn,medicalOutline:Qe,warningOutline:en,bodyOutline:Rt,eyeOutline:Yt,nutritionOutline:zt,fitnessOutline:Ut,pulseOutline:wt,earOutline:Wt,happyOutline:Gt,manOutline:qt,moveOutline:Bt,addOutline:lt,scanOutline:Ft}},data(){return{presentingComplaintsWithDuration:[],pastMedicalHistory:[],levelOfConsciousness:{eyeResponse:null,verbalResponse:null,motorResponse:null},pregnancy:{patientPregnant:null,breastFeeding:null},physicalExamCategories:{Eyes:{icon:Yt,abnormalities:[],normal:!1},Mouth:{icon:zt,abnormalities:[],normal:!1},Ears:{icon:Wt,abnormalities:[],normal:!1},Face:{icon:Gt,abnormalities:[],normal:!1},Neck:{icon:qt,abnormalities:[],normal:!1},Chest:{icon:Ut,abnormalities:[],normal:!1},"Chest Movement":{icon:Bt,abnormalities:[],normal:!1},"Heart Sounds":{icon:wt,abnormalities:[],normal:!1},"Breath Sounds":{icon:lt,abnormalities:[],normal:!1},"Added Breath Sounds":{icon:lt,abnormalities:[],normal:!1},"Abdominal Inspection":{icon:Ft,abnormalities:[],normal:!1},"Genital Examination":{icon:Rt,abnormalities:[],normal:!1}}}},computed:{...It(Je,["patient"]),hasLevelOfConsciousness(){return this.levelOfConsciousness.eyeResponse||this.levelOfConsciousness.verbalResponse||this.levelOfConsciousness.motorResponse},hasPresentingComplaints(){var n;return((n=this.presentingComplaintsWithDuration)==null?void 0:n.length)>0},hasPregnancyData(){return this.pregnancy.patientPregnant||this.pregnancy.breastFeeding},hasPastMedicalHistory(){var n;return((n=this.uniquePastMedicalHistory)==null?void 0:n.length)>0},hasAllergies(){var n,u;return((u=(n=this.selectedAllergiesList2)==null?void 0:n.filter(m=>m.selected))==null?void 0:u.length)>0},hasPhysicalExam(){return Object.values(this.physicalExamCategories).some(n=>n.abnormalities.length>0||n.normal)},uniquePastMedicalHistory(){return[...new Set(this.pastMedicalHistory)]},uniquePresentingComplaints(){return[...new Set(this.presentingComplaintsWithDuration.map(n=>n.name))]},isMinor(){var n,u;return Le.getAgeInYears((u=(n=this.patient)==null?void 0:n.personInformation)==null?void 0:u.birthdate)<18},gcsScore(){var r,_,S;if(!this.hasLevelOfConsciousness)return null;const n=this.levelOfConsciousness.eyeResponse,u=this.levelOfConsciousness.motorResponse,m=this.levelOfConsciousness.verbalResponse,c=n&&(r=(this.isMinor?$n:Ln)[n])!=null?r:0,f=u&&(_=(this.isMinor?Rn:Fn)[u])!=null?_:0,g=m&&(S=(this.isMinor?Bn:Un)[m])!=null?S:0,A=c+f+g;return"(M ".concat(f," V ").concat(g," E ").concat(c,") ").concat(A,"/").concat(this.isMinor?5:15)}},methods:{async updateData(){var n;(n=this.patient)!=null&&n.patientID&&(await this.loadPresentingComplaints(),await this.loadPastMedicalHistory(),await this.loadLevelOfConsciousness(),await this.loadPregnancyStatus(),await this.loadPhysicalExam())},async loadPresentingComplaints(){try{const n=await Se.getObsByEncounterIdAndDate(re.PRESENTING_COMPLAINTS);this.presentingComplaintsWithDuration=[];const u=n.filter(m=>m.concept_name==="Presenting complaint");for(const m of u){const c=n.find(g=>g.concept_id===m.value_coded&&g.concept_name!=="Presenting complaint"),f=await _e.getConceptName(m.value_coded);this.presentingComplaintsWithDuration.push({name:f,duration:(c==null?void 0:c.value_text)||"Duration not specified"})}}catch(n){console.error("Error loading presenting complaints:",n)}},async loadPastMedicalHistory(){try{const u=(await Se.getObsByEncounterIdAndDate(re.PAST_MEDICAL_HISTORY)).filter(m=>m.concept_name==="Chronic disease");this.pastMedicalHistory=await Promise.all(u.map(async m=>await _e.getConceptName(m.value_coded)))}catch(n){console.error("Error loading past medical history:",n)}},async loadLevelOfConsciousness(){try{const n=await Se.getObsByEncounterIdAndDate(re.ASSESSMENT);if(n&&Array.isArray(n)){const u=n.find(f=>f.concept_name==="Eye opening response");this.levelOfConsciousness.eyeResponse=u!=null&&u.value_coded?await _e.getConceptName(u.value_coded):null;const m=n.find(f=>f.concept_name==="Best verbal response");this.levelOfConsciousness.verbalResponse=m!=null&&m.value_coded?await _e.getConceptName(m.value_coded):null;const c=n.find(f=>f.concept_name==="Best motor response");this.levelOfConsciousness.motorResponse=c!=null&&c.value_coded?await _e.getConceptName(c.value_coded):null}}catch(n){console.error("Error loading level of consciousness:",n)}},async loadPregnancyStatus(){try{const n=await Se.getObsByEncounterIdAndDate(re.PREGNANCY_STATUS);if(n&&Array.isArray(n)){const u=n.find(c=>c.concept_name==="Patient pregnant");this.pregnancy.patientPregnant=u!=null&&u.value_coded?await _e.getConceptName(u.value_coded):null;const m=n.find(c=>c.concept_name==="Is patient breast feeding?");this.pregnancy.breastFeeding=m!=null&&m.value_coded?await _e.getConceptName(m.value_coded):null}}catch(n){console.error("Error loading pregnancy status:",n)}},async loadPhysicalExam(){try{const n=await Se.getObsByEncounterIdAndDate(re.PHYSICAL_EXAMINATION);Object.values(this.physicalExamCategories).forEach(u=>{u.abnormalities=[],u.normal=!1});for(const u of n)if(u.concept_id){if(u.value_coded===1065)switch(u.concept_id){case 10837:this.physicalExamCategories.Eyes.normal=!0;break;case 10842:this.physicalExamCategories.Mouth.normal=!0;break;case 11028:this.physicalExamCategories.Ears.normal=!0;break;case 10854:this.physicalExamCategories.Face.normal=!0;break;case 10858:this.physicalExamCategories.Neck.normal=!0;break;case 10894:this.physicalExamCategories.Chest.normal=!0;break;case 10903:this.physicalExamCategories["Heart Sounds"].normal=!0;break;case 10909:this.physicalExamCategories["Breath Sounds"].normal=!0;break;case 10919:case 10928:case 10939:this.physicalExamCategories["Abdominal Inspection"].normal=!0;break;case 10803:case 10946:this.physicalExamCategories["Genital Examination"].normal=!0;break}if(u.value_coded){const m=await _e.getConceptName(u.value_coded);switch(u.concept_id){case 10838:this.physicalExamCategories.Eyes.abnormalities.push(m);break;case 10843:this.physicalExamCategories.Mouth.abnormalities.push(m);break;case 10852:this.physicalExamCategories.Ears.abnormalities.push(m);break;case 10855:this.physicalExamCategories.Face.abnormalities.push(m);break;case 10859:this.physicalExamCategories.Neck.abnormalities.push(m);break;case 10897:this.physicalExamCategories.Chest.abnormalities.push(m);break;case 10904:this.physicalExamCategories["Heart Sounds"].abnormalities.push(m);break;case 10910:this.physicalExamCategories["Breath Sounds"].abnormalities.push(m);break;case 10920:case 10929:case 10939:this.physicalExamCategories["Abdominal Inspection"].abnormalities.push(m);break;case 10797:case 10804:case 10947:this.physicalExamCategories["Genital Examination"].abnormalities.push(m);break}}}}catch(n){console.error("Error loading physical exam:",n)}}},watch:{patient:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()}}),ui={class:"visit-container"},di={class:"visit-sections"},ci={key:0,class:"visit-section"},mi={class:"section-header"},pi={class:"section-content"},vi={key:0,class:"info-item"},fi={class:"info-value"},gi={key:1,class:"info-item"},_i={class:"info-value"},hi={key:2,class:"info-item"},yi={class:"info-value"},bi={key:3,class:"info-item"},Di={class:"info-value highlight"},Ci={key:1,class:"visit-section"},Si={class:"section-header"},Ii={class:"complaints-container"},wi={class:"complaint-name"},Ai={class:"complaint-duration"},ki={key:2,class:"visit-section"},Oi={class:"section-header"},Pi={class:"section-content"},Ei={key:0,class:"info-item"},Ti={class:"info-value highlight"},Hi={key:1,class:"info-item"},Ni={class:"info-value highlight"},Vi={key:3,class:"visit-section"},xi={class:"section-header"},Mi={class:"tags-container"},$i={class:"allergies-section"},Li={class:"allergies-container"},Ri={key:4,class:"visit-section"},Fi={class:"section-header"},Bi={class:"exam-section"},Ui={key:0,class:"exam-category"},qi={class:"exam-category-header"},Gi={class:"exam-items"},Wi={key:1,class:"exam-item normal"};function zi(n,u,m,c,f,g){const A=X("ion-icon"),r=X("AllergiesListing");return d(),w("div",ui,[u[11]||(u[11]=l("div",{class:"visit-header"},[l("h5",null,"Patient's Clinical Assessment Summary")],-1)),l("div",di,[n.hasLevelOfConsciousness?(d(),w("div",ci,[l("div",mi,[e(A,{icon:n.alertCircleOutline,class:"section-icon"},null,8,["icon"]),u[0]||(u[0]=l("h3",null,"Level of Consciousness",-1))]),l("div",pi,[n.levelOfConsciousness.eyeResponse?(d(),w("div",vi,[u[1]||(u[1]=l("span",{class:"info-label"},"Eye Response:",-1)),l("span",fi,V(n.levelOfConsciousness.eyeResponse),1)])):b("",!0),n.levelOfConsciousness.verbalResponse?(d(),w("div",gi,[u[2]||(u[2]=l("span",{class:"info-label"},"Verbal Response:",-1)),l("span",_i,V(n.levelOfConsciousness.verbalResponse),1)])):b("",!0),n.levelOfConsciousness.motorResponse?(d(),w("div",hi,[u[3]||(u[3]=l("span",{class:"info-label"},"Motor Response:",-1)),l("span",yi,V(n.levelOfConsciousness.motorResponse),1)])):b("",!0),n.gcsScore?(d(),w("div",bi,[u[4]||(u[4]=l("span",{class:"info-label"},"Score:",-1)),l("span",Di,V(n.gcsScore),1)])):b("",!0)])])):b("",!0),n.hasPresentingComplaints?(d(),w("div",Ci,[l("div",Si,[e(A,{icon:n.documentTextOutline,class:"section-icon"},null,8,["icon"]),u[5]||(u[5]=l("h3",null,"Presenting Complaints",-1))]),l("div",Ii,[(d(!0),w(de,null,Ee(n.presentingComplaintsWithDuration,(_,S)=>(d(),w("div",{class:"complaint-item",key:S},[l("div",wi,V(_.name),1),l("div",Ai,V(_.duration),1)]))),128))])])):b("",!0),n.hasPregnancyData?(d(),w("div",ki,[l("div",Oi,[e(A,{icon:n.femaleOutline,class:"section-icon"},null,8,["icon"]),u[6]||(u[6]=l("h3",null,"Pregnancy Status",-1))]),l("div",Pi,[n.pregnancy.patientPregnant?(d(),w("div",Ei,[u[7]||(u[7]=l("span",{class:"info-label"},"Pregnant:",-1)),l("span",Ti,V(n.pregnancy.patientPregnant),1)])):b("",!0),n.pregnancy.breastFeeding?(d(),w("div",Hi,[u[8]||(u[8]=l("span",{class:"info-label"},"Breastfeeding:",-1)),l("span",Ni,V(n.pregnancy.breastFeeding),1)])):b("",!0)])])):b("",!0),n.hasPastMedicalHistory?(d(),w("div",Vi,[l("div",xi,[e(A,{icon:n.medicalOutline,class:"section-icon"},null,8,["icon"]),u[9]||(u[9]=l("h3",null,"Medical History",-1))]),l("div",Mi,[(d(!0),w(de,null,Ee(n.uniquePastMedicalHistory,(_,S)=>(d(),w("div",{class:"medical-tag",key:S},V(_),1))),128))])])):b("",!0),l("div",$i,[l("div",Li,[e(r)])]),n.hasPhysicalExam?(d(),w("div",Ri,[l("div",Fi,[e(A,{icon:n.bodyOutline,class:"section-icon"},null,8,["icon"]),u[10]||(u[10]=l("h3",null,"Physical Examination",-1))]),l("div",Bi,[(d(!0),w(de,null,Ee(n.physicalExamCategories,(_,S)=>(d(),w(de,{key:S},[_.abnormalities.length>0||_.normal?(d(),w("div",Ui,[l("div",qi,[e(A,{icon:_.icon},null,8,["icon"]),l("h4",null,V(S),1)]),l("div",Gi,[_.abnormalities.length>0?(d(!0),w(de,{key:0},Ee(_.abnormalities,(p,O)=>(d(),w("div",{class:"exam-item abnormal",key:O},V(p),1))),128)):_.normal?(d(),w("div",Wi," Normal examination ")):b("",!0)])])):b("",!0)],64))),128))])])):b("",!0)])])}const Yi=ke(ri,[["render",zi],["__scopeId","data-v-795e1865"]]),ji={class:"modal_wrapper"},Ki=ce({__name:"PregnancyBreastfeeding",setup(n,{expose:u}){const m=Tn(),{pregnancy:c}=pe(m),f=()=>{};return u({onSubmit:async()=>{const A=await ct(c.value);A.length>0?(await Se.addObsToEncounterPatient(A,re.PREGNANCY_STATUS),ze("Pregnancy status saved successfully")):Ae("No pregnancy status data to save ")}}),(A,r)=>(d(),w("div",ji,[e(at,{contentData:a(c),"onUpdate:inputValue":f},null,8,["contentData"])]))}}),Qi={class:"modal_wrapper"},Ji={class:"uniform_columns"},Xi=ce({__name:"PastMedicalHistory",setup(n,{expose:u}){const m=la(),{pastMedicalHistory:c}=pe(m),f=s([]);He(()=>{f.value=m.getInitial(),g()}),te(c,()=>{g()},{deep:!0});const g=()=>{var p;const S=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];(p=ra(c.value,"None"))!=null&&p.checked?S.forEach(O=>{we(c.value,"TB treatment","displayNone",!0),ae(c.value,"TB drugs","displayNone",!0),ae(c.value,"TB drug start date","displayNone",!0),we(c.value,"Hypertension medication","displayNone",!0),ae(c.value,"Current hypertension treatment regimen","displayNone",!0),we(c.value,"HIV status","displayNone",!0),ae(c.value,"ARV start date","displayNone",!0),we(c.value,"Diabetes","displayNone",!0),we(c.value,"Controlled by","displayNone",!0),Ne(c.value,O,"checked",!1),Ne(c.value,O,"disabled",!0)}):S.forEach(O=>{Ne(c.value,O,"disabled",!1)})},A=S=>{ae(c.value,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine 'O' (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),ae(c.value,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})},r=async()=>[...await Ht(c.value),...await ct(c.value),...await tt(c.value)];return u({onSubmit:async()=>{const S=await r();if(S.length===0){Ae("No past medical history data to save");return}await Se.addObsToEncounterPatient(S,re.PAST_MEDICAL_HISTORY),ze("Past medical history saved successful")}}),(S,p)=>(d(),w("div",Qi,[l("div",Ji,[e(at,{contentData:a(c),initialData:f.value,"onUpdate:inputValue":A,"onUpdate:selected":A},null,8,["contentData","initialData"])])]))}}),Zi=ke(Xi,[["__scopeId","data-v-49fdce72"]]),eo={class:"container"},to=ce({__name:"PhysicalExamination",setup(n,{expose:u}){const m=Hn(),c=Je(),{physicalExam:f}=pe(m),{patient:g}=pe(c),A=s([]);He(()=>{A.value=m.getInitial(),r(),_()}),te(f,()=>{r(),_()},{deep:!0});const r=()=>{Nn(f.value,"Physical examination")=="No"?we(f.value,"Reason why physical examination not done","displayNone",!1):(we(f.value,"Reason why physical examination not done","displayNone",!0),we(f.value,"Reason why physical examination not done","selectedValue",""))},_=()=>{var G,v;const O=(v=(G=g.value)==null?void 0:G.personInformation)==null?void 0:v.gender;O=="M"&&(Ne(f.value,"Vulva examination","disabled",!0),Ne(f.value,"Visible bleeding","disabled",!0)),O=="F"&&(Ne(f.value,"Urethral meatus abnormal","disabled",!0),Ne(f.value,"Scrotal swelling","disabled",!0),Ne(f.value,"Tastes swelling","disabled",!0))},S=async()=>[...await Ht(f.value),...await ct(f.value),...await tt(f.value)];return u({onSubmit:async()=>{const O=await S();if(console.log("Selected physical data is",O),O.length===0){Ae("No physical examination data to save");return}await Se.addObsToEncounterPatient(O,re.PHYSICAL_EXAMINATION),console.log(Se.getObsByEncounterIdAndDate(re.PHYSICAL_EXAMINATION)),ze("Physical examination saved successful")}}),(O,G)=>{const v=X("ion-card-content"),C=X("ion-card");return d(),w("div",eo,[e(C,{class:"section"},{default:t(()=>[e(v,null,{default:t(()=>[e(at,{contentData:a(f),initialData:A.value},null,8,["contentData","initialData"])]),_:1})]),_:1})])}}}),ao=ke(to,[["__scopeId","data-v-0d34c6dd"]]),no={key:0},so={class:"ion-padding",slot:"content"},io={class:"nav-buttons"},oo={class:"ion-padding",slot:"content"},lo={class:"nav-buttons"},ro={class:"ion-padding",slot:"content"},uo={class:"nav-buttons"},co={class:"ion-padding",slot:"content"},mo={class:"nav-buttons"},po={class:"ion-padding",slot:"content"},vo={class:"nav-buttons"},fo={class:"ion-padding",slot:"content"},go={class:"nav-buttons"},_o=ce({__name:"ClinicalAssessment",setup(n,{expose:u}){const m=s("loc"),c=s(0),f=s(!1),g=s(!1),A=new Pt,r=Je(),_=()=>{c.value++},S=s(null),p=s(null),O=s(null),G=s(null),v=s(null),C=s(null),U=[{id:"loc",label:"Level of consciousness",show:!0},{id:"pc",label:"Presenting complaints",show:!0},{id:"pbs",label:"Pregnancy and breastfeeding status",show:()=>A.isChildBearing()},{id:"pmh",label:"Past medical history",show:!0},{id:"al",label:"Allergies",show:!0},{id:"pe",label:"Physical examination",show:!0}];async function H(){const y=Te.getSessionDate(),i=[re.ASSESSMENT,re.PRESENTING_COMPLAINTS,re.PAST_MEDICAL_HISTORY,re.PHYSICAL_EXAMINATION,re.PREGNANCY_STATUS];let M=!1;for(const o of i)try{const h=await Se.getObsByEncounterIdAndDate(o);if(h&&h.some(I=>I.obs_datetime?Le.toStandardHisFormat(I.obs_datetime)===Le.toStandardHisFormat(y):!1)){M=!0;break}}catch(h){console.error("Error checking observations for encounter type ".concat(o,":"),h)}f.value=M}He(H),te(()=>r.patient,H);const F=fe(()=>f.value),q=fe(()=>U.filter(y=>typeof y.show=="function"?y.show():y.show)),$=y=>{const i=U.find(M=>M.id===y);return i?typeof i.show=="function"?i.show():i.show:!1},K=y=>q.value.findIndex(i=>i.id===y),k=y=>{const i=K(y);i>0&&(m.value=q.value[i-1].id)},B=y=>{const M=K(y)+1;M<q.value.length?m.value=q.value[M].id:(m.value="",_())};return u({onSubmit:async()=>{const y=[{ref:S,name:"PresentingComplaints"},{ref:p,name:"LevelOfConsciousness"},{ref:O,name:"PastMedicalHistory"},{ref:v,name:"PregnancyBreastfeeding"},{ref:C,name:"PhysicalExamination"}];for(const i of y)if(i.ref.value&&typeof i.ref.value.onSubmit=="function")try{await i.ref.value.onSubmit()}catch(M){console.error("Error calling ".concat(i.name," onSubmit:"),M)}else console.log("".concat(i.name," component ref not available or no onSubmit method"))}}),(y,i)=>{const M=X("ion-toggle");return d(),w(de,null,[F.value?(d(),w("div",no,[e(a(ve),{lines:"none"},{default:t(()=>[e(a(Ce),null,{default:t(()=>[...i[14]||(i[14]=[R("Switch between Capture Mode and Summary Mode",-1)])]),_:1}),e(M,{checked:g.value,onIonChange:i[0]||(i[0]=o=>g.value=o.detail.checked),slot:"end"},null,8,["checked"])]),_:1}),g.value?b("",!0):(d(),T(Yi,{key:c.value}))])):b("",!0),!F.value||g.value?(d(),T(a(ge),{key:1,style:{width:"100%"}},{default:t(()=>[e(a(ut),{value:m.value,"onUpdate:value":i[13]||(i[13]=o=>m.value=o),ref:"accordionGroup",class:"previousView"},{default:t(()=>[$("loc")?(d(),T(a(Re),{key:0,value:"loc",class:"_card"},{default:t(()=>[e(a(ve),{slot:"header",color:"light"},{default:t(()=>[e(a(Ce),{class:"previousLabel"},{default:t(()=>[...i[15]||(i[15]=[R("Level of consciousness",-1)])]),_:1})]),_:1}),l("div",so,[e(qn,{"is-active":m.value==="loc",ref_key:"levelOfConsciousnessFormRef",ref:p,onDataSaved:_},null,8,["is-active"]),l("div",io,[K("loc")>0?(d(),T(a(Oe),{key:0,fill:"outline",onClick:i[1]||(i[1]=Pe(o=>k("loc"),["stop"]))},{default:t(()=>[...i[16]||(i[16]=[R(" Back ",-1)])]),_:1})):b("",!0),e(a(Oe),{fill:"outline",onClick:i[2]||(i[2]=Pe(o=>B("loc"),["stop"]))},{default:t(()=>[R(V(K("loc")<q.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):b("",!0),$("pc")?(d(),T(a(Re),{key:1,value:"pc",class:"_card"},{default:t(()=>[e(a(ve),{slot:"header",color:"light"},{default:t(()=>[e(a(Ce),{class:"previousLabel"},{default:t(()=>[...i[17]||(i[17]=[R("Presenting complaints",-1)])]),_:1})]),_:1}),l("div",oo,[e(Qs,{"is-active":m.value==="pc",onDataSaved:_,ref_key:"presentingComplaintsFormRef",ref:S},null,8,["is-active"]),l("div",lo,[K("pc")>0?(d(),T(a(Oe),{key:0,fill:"outline",onClick:i[3]||(i[3]=Pe(o=>k("pc"),["stop"]))},{default:t(()=>[...i[18]||(i[18]=[R(" Back ",-1)])]),_:1})):b("",!0),e(a(Oe),{fill:"outline",onClick:i[4]||(i[4]=Pe(o=>B("pc"),["stop"]))},{default:t(()=>[R(V(K("pc")<q.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):b("",!0),$("pbs")?(d(),T(a(Re),{key:2,value:"pbs",class:"_card"},{default:t(()=>[e(a(ve),{slot:"header",color:"light"},{default:t(()=>[e(a(Ce),{class:"previousLabel"},{default:t(()=>[...i[19]||(i[19]=[R("Pregnancy and breastfeeding status",-1)])]),_:1})]),_:1}),l("div",ro,[e(Ki,{"is-active":m.value==="pbs",ref_key:"pregnancyBreastfeedingFormRef",ref:v,onDataSaved:_},null,8,["is-active"]),l("div",uo,[K("pbs")>0?(d(),T(a(Oe),{key:0,fill:"outline",onClick:i[5]||(i[5]=Pe(o=>k("pbs"),["stop"]))},{default:t(()=>[...i[20]||(i[20]=[R(" Back ",-1)])]),_:1})):b("",!0),e(a(Oe),{fill:"outline",onClick:i[6]||(i[6]=Pe(o=>B("pbs"),["stop"]))},{default:t(()=>[R(V(K("pbs")<q.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):b("",!0),$("pmh")?(d(),T(a(Re),{key:3,value:"pmh",class:"_card"},{default:t(()=>[e(a(ve),{slot:"header",color:"light"},{default:t(()=>[e(a(Ce),{class:"previousLabel"},{default:t(()=>[...i[21]||(i[21]=[R("Past medical history",-1)])]),_:1})]),_:1}),l("div",co,[e(Zi,{"is-active":m.value==="pmh",ref_key:"pastMedicalHistoryFormRef",ref:O,onDataSaved:_},null,8,["is-active"]),l("div",mo,[K("pmh")>0?(d(),T(a(Oe),{key:0,fill:"outline",onClick:i[7]||(i[7]=Pe(o=>k("pmh"),["stop"]))},{default:t(()=>[...i[22]||(i[22]=[R(" Back ",-1)])]),_:1})):b("",!0),e(a(Oe),{fill:"outline",onClick:i[8]||(i[8]=Pe(o=>B("pmh"),["stop"]))},{default:t(()=>[R(V(K("pmh")<q.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):b("",!0),$("al")?(d(),T(a(Re),{key:4,value:"al",class:"_card"},{default:t(()=>[e(a(ve),{slot:"header",color:"light"},{default:t(()=>[e(a(Ce),{class:"previousLabel"},{default:t(()=>[...i[23]||(i[23]=[R("Allergies",-1)])]),_:1})]),_:1}),l("div",po,[e(Kn,{"is-active":m.value==="al",ref_key:"allergiesFormRef",ref:G,onDataSaved:_},null,8,["is-active"]),l("div",vo,[K("al")>0?(d(),T(a(Oe),{key:0,fill:"outline",onClick:i[9]||(i[9]=Pe(o=>k("al"),["stop"]))},{default:t(()=>[...i[24]||(i[24]=[R(" Back ",-1)])]),_:1})):b("",!0),e(a(Oe),{fill:"outline",onClick:i[10]||(i[10]=Pe(o=>B("al"),["stop"]))},{default:t(()=>[R(V(K("al")<q.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):b("",!0),$("pe")?(d(),T(a(Re),{key:5,value:"pe",class:"_card"},{default:t(()=>[e(a(ve),{slot:"header",color:"light"},{default:t(()=>[e(a(Ce),{class:"previousLabel"},{default:t(()=>[...i[25]||(i[25]=[R("Physical examination",-1)])]),_:1})]),_:1}),l("div",fo,[e(ao,{"is-active":m.value==="pe",ref_key:"physicalExaminationFormRef",ref:C,onDataSaved:_},null,8,["is-active"]),l("div",go,[K("pe")>0?(d(),T(a(Oe),{key:0,fill:"outline",onClick:i[11]||(i[11]=Pe(o=>k("pe"),["stop"]))},{default:t(()=>[...i[26]||(i[26]=[R(" Back ",-1)])]),_:1})):b("",!0),e(a(Oe),{fill:"outline",onClick:i[12]||(i[12]=Pe(o=>B("pe"),["stop"]))},{default:t(()=>[R(V(K("pe")<q.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):b("",!0)]),_:1},8,["value"])]),_:1})):b("",!0)],64)}}}),vl=ke(_o,[["__scopeId","data-v-597092a6"]]),ho={class:"allergies-section"},yo={class:"allergies-container"},bo={class:"medication-section"},Do={class:"medication-content"},Co={key:0,class:"add-medication-form"},So={class:"form-group"},Io={class:"option-label"},wo={key:0,class:"error-message"},Ao={class:"form-row"},ko={class:"form-group"},Oo={key:0,class:"error-message"},Po={class:"form-group"},Eo={key:0,class:"error-message"},To={class:"form-group"},Ho={key:0,class:"error-message"},No={class:"action-buttons"},Vo={class:"notes-section"},xo={class:"notes-content"},Mo={class:"notes-input-container"},$o={class:"ion-padding",slot:"content"},Lo={class:"notes-timeline"},Ro={class:"note-date"},Fo={class:"note-content"},Bo={class:"ion-padding",slot:"content"},Uo={class:"note-date"},qo={class:"note-content"},Go=ce({watch:{},name:"xxxComponent"}),Wo=ce({...Go,setup(n){const u=Ve,m=ds,c=s(!1),f=s(!1),g=s(!0),A=s(0),r=s(""),_=s(!1),S=s(),p=s(!1),O=s(""),G=s(""),v=s(""),C=s(""),U=s(""),H=s(""),F="Add new medication",q=Ye(),$=Et(),K=fe(()=>$.selectedMedicalAllergiesList),k=fe(()=>q.selectedMedicalDrugsList),B=fe(()=>q.partialOPDdrugList),W=fe(()=>q.nonPharmalogicalTherapyAndOtherNotes),y=["first","second","third"],i=s(),M=s(),o=s(),h=s(!1),I=s(!1),j=s("Show more notes"),ne=s(),De=s(),z=s(),Ie=fe(()=>q.editingDrugItem),Me=s("Select a route"),P=s(!1),L=s("Select frequency"),Q=s(!1),ie=s("Select drug"),Fe=s(!1),he=s(),ye=s(),$e=s(),Be=s([]),N=s([{concept_id:11797,name:"Buccal",concept_name_id:null,id:1769},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:6284},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:6285},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:6286},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:6295},{concept_id:3327,name:"Oral",concept_name_id:null,id:8686},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:8920},{concept_id:11792,name:"Rectally",concept_name_id:null,id:10785},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:12342},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:12344},{concept_id:11792,name:"Rectally",concept_name_id:null,id:14078},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:14079},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:14080},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:14081},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:14082},{concept_id:11797,name:"Buccal",concept_name_id:null,id:14083},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:14084},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:14085},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:14086}]),Y=fe(()=>Be.value.length?Be.value:N.value);function se(E){he.value=E}async function me(){return await cs()}async function ee(E=5,D=1e3){let x=0;for(;x<E&&(Be.value=await me(),!(Be.value.length>0));)x++,await new Promise(Z=>setTimeout(Z,D));Be.value.length===0&&console.warn("Failed to fetch route list after maximum retries.")}He(async()=>{const E=new ns,{previousDrugPrescriptions:D,previousClinicalNotes:x,previousDrugAllergies:Z}=await E.getPatientEncounters();i.value=D,M.value=Object.entries(x)[0];const[,...le]=Object.entries(x);o.value=le,ne.value=Object.entries(Z)[0];const[,...be]=Object.entries(Z);De.value=be,await ee()}),te(()=>G.value,async E=>{_a()}),te(()=>v.value,async E=>{Nt()});function ue(){if(Ge.isEmpty(he.value)==!0)return P.value=!0,!1;if(Ge.isEmpty(he.value)==!1)return P.value=!1,!0}function oe(){if(Ge.isEmpty(ye.value)==!0)return Q.value=!0,!1;if(Ge.isEmpty(ye.value)==!1)return Q.value=!1,!0}function Ue(){if(Ge.isEmpty($e.value)==!0)return Fe.value=!0,!1;if(Ge.isEmpty($e.value)==!1)return Fe.value=!1,!0}function mt(){g.value=!g.value,c.value=!0,_.value=!1,p.value=!1}async function _a(){return Mt(G.value)?_.value=!1:(r.value="please enter a number",_.value=!0),_.value}async function Nt(){return Mt(v.value)?p.value=!1:(S.value="please enter a number",p.value=!0),p.value}async function Vt(){const E=await Nt(),D=oe(),x=Ue(),Z=ue();return!E&&D==!0&&x==!0&&Z==!0}function ha(E){ye.value=E}async function xt(){try{const E=()=>z.value.dose_strength!=null&&z.value.dose_strength?Math.trunc(z.value.dose_strength):1;if(Ie.value!==null){if(!await Vt()){Ae("Please enter correct data values",4e3);return}const x=Te.getSessionDate(),Z=$t(x,parseInt(v.value));let le=!1;pt(z.value)==!0&&(le=!0);const be={drugName:O.value,dose:E(),frequency:ye.value.label,frequency_code:ye.value.code,duration:v.value,prescription:Z,drug_id:H.value,units:U.value,route_concept_id:he.value.concept_id,route_name:he.value.name,highlightbackground:le},vt=Ye();console.log(vt.setSelectedMedicalDrugsList([be])),vt.editingDrugItem=null,g.value=!0}else{if(!await Vt()){Ae("Please enter correct data values",4e3);return}ka();const x=Te.getSessionDate(),Z=$t(x,parseInt(v.value));let le=!1;pt(z.value)==!0&&(le=!0);const be={drugName:O.value,dose:E(),frequency:ye.value.label,frequency_code:ye.value.code,duration:v.value,prescription:Z,drug_id:H.value,units:U.value,route_concept_id:he.value.concept_id,route_name:he.value.name,highlightbackground:le};Ye().setSelectedMedicalDrugsList([be])}H.value="",O.value="",G.value="",ye.value=null,v.value="",C.value="",A.value++,$e.value=null,he.value=null}catch(E){console.error("Error saving data:",E)}}async function ya(E){const D=E,le=await xn.getOfflineOPDDrugs({name:D,page:1,page_size:10});le.map(be=>({label:be.name,value:be.name,other:be})),q.setPartialOPDdrugList(le)}function pt(E){const D=[];return K.value.forEach(Z=>{Z.selected&&D.push(Z.concept_id)}),ba([E],D)==!0?(Ae("Client is allergic to the selected medication",4e6),!0):!1}function ba(E,D){try{return E.some(x=>D.includes(x.concept_id))}catch(x){return!1}}function Da(E){E&&(O.value=E.name,H.value=E.drug_id,U.value=E.units,z.value=E,pt(E))}function Ca(E){const D=k.value[E],x=Ye();x.removeDrugById(D.drug_id),x.editingDrugItem=D,H.value="",O.value="",G.value="",ye.value=null,v.value="",C.value="",$e.value=null,he.value=null,H.value=D.drug_id,O.value=D.drugName,G.value=D.dose,ye.value={label:D.frequency,code:D.frequency_code},v.value=D.duration,C.value=D.prescription;const Z=B.value.find(le=>le.name===D.drugName);Z&&($e.value=Z),he.value={concept_id:D.route_concept_id,name:D.route_name},g.value=!1,A.value++}function Sa(){if(Ie.value!==null){H.value="",O.value="",G.value="",ye.value=null,v.value="",C.value="",$e.value=null,he.value=null;const E=Ye();E.setSelectedMedicalDrugsList([Ie.value]),E.editingDrugItem=null}g.value=!0,A.value++}function Ia(E){k.value.splice(E,1),A.value++,Ae("you have removed a drug from list",6e3)}function wa(E){let D=E.target.value;Aa(D)}function Aa(E){Ye().setNonPharmalogicalTherapyAndOtherNotes(E)}function Mt(E){return/^[0-9]+$/.test(E)}function $t(E,D){const x=new Date(E);x.setDate(x.getDate()+D);const Z=x.getFullYear(),le=String(x.getMonth()+1).padStart(2,"0"),be=String(x.getDate()).padStart(2,"0");return"".concat(Z,"-").concat(le,"-").concat(be)}function ka(){c.value=!1,f.value=!0,g.value=!0}function Oa(E){y.filter(x=>x!==E.detail.value);const D=E.detail.value;D!==void 0?D=="third"&&(j.value="Show less notes",I.value=!h.value):(j.value="Show more notes",I.value=!h.value)}function Pa(E){return E[1]}function Ea(E){(E.key==="Enter"||E.key==="ArrowDown")&&(E.preventDefault(),xt())}const je=fe(()=>[{showAddItemButton:!0,addItemButton:!0,name:Ie.value!==null?"Update":"ADD",fn:xt},{showAddItemButton:!0,addItemButton:!0,name:"CANCEL",fn:Ta}]),Ta=async()=>{pa(Vn,{class:"otherVitalsModal"},!0,{message:"Are you sure you want to cancle?"},{cancel:Z=>{},confirm:async Z=>{Z.detail==!0&&Sa()}})};return(E,D)=>(d(),T(a(dt),null,{default:t(()=>[l("div",ho,[l("div",yo,[e(ga)])]),l("div",bo,[e(a(ve),{lines:"none",class:"section-header"},{default:t(()=>[e(a(ot),{icon:a(Qe),class:"section-icon"},null,8,["icon"]),e(a(Ce),{class:"section-title",style:{"margin-top":"12px"}},{default:t(()=>[...D[9]||(D[9]=[R("Medication",-1)])]),_:1})]),_:1}),l("div",Do,[(d(),T(Qn,{_selectedMedicalDrugsList:k.value,onEditItem:Ca,onRemoveItem:Ia,key:A.value,class:"medication-list"},null,8,["_selectedMedicalDrugsList"])),g.value?b("",!0):(d(),w("div",Co,[l("div",So,[D[10]||(D[10]=l("label",{class:"input-label"},"Medication",-1)),e(a(et),{modelValue:$e.value,"onUpdate:modelValue":[D[0]||(D[0]=x=>$e.value=x),D[1]||(D[1]=x=>Da(x))],options:B.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select medication",label:"name","track-by":"drug_id",onSearchChange:D[2]||(D[2]=x=>ya(x))},{option:t(x=>[l("div",Io,V(x.option.name),1)]),_:1},8,["modelValue","options"]),Fe.value?(d(),w("div",wo,V(ie.value),1)):b("",!0)]),l("div",Ao,[l("div",ko,[D[11]||(D[11]=l("label",{class:"input-label"},"Route",-1)),e(a(et),{modelValue:he.value,"onUpdate:modelValue":[D[3]||(D[3]=x=>he.value=x),D[4]||(D[4]=x=>se(x))],options:Y.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select route",label:"name","track-by":"concept_id",disabled:!1},null,8,["modelValue","options"]),P.value?(d(),w("div",Oo,V(Me.value),1)):b("",!0)]),l("div",Po,[D[12]||(D[12]=l("label",{class:"input-label"},"Frequency",-1)),e(a(et),{modelValue:ye.value,"onUpdate:modelValue":[D[5]||(D[5]=x=>ye.value=x),D[6]||(D[6]=x=>ha(x))],options:a(m),searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select frequency",label:"label","track-by":"code"},null,8,["modelValue","options"]),Q.value?(d(),w("div",Eo,V(L.value),1)):b("",!0)]),l("div",To,[D[13]||(D[13]=l("label",{class:"input-label"},"Duration (days)",-1)),e(a(rt),{modelValue:v.value,"onUpdate:modelValue":D[7]||(D[7]=x=>v.value=x),type:"number",inputmode:"numeric",pattern:"[0-9]*",fill:"outline",placeholder:"Enter duration",onKeydown:Ea},null,8,["modelValue"]),p.value?(d(),w("div",Ho,V(S.value),1)):b("",!0)])]),l("div",No,[je.value[0].addItemButton?(d(),T(xe,{key:0,name:je.value[0].name,icon:a(oa),"onClicked:btn":je.value[0].fn,class:"save-button"},null,8,["name","icon","onClicked:btn"])):b("",!0),je.value[1].addItemButton?(d(),T(xe,{key:1,name:je.value[1].name,icon:a(kt),"onClicked:btn":je.value[1].fn,class:"cancel-button"},null,8,["name","icon","onClicked:btn"])):b("",!0)])])),g.value?(d(),T(xe,{key:1,name:F,icon:a(lt),fontWeight:"600","onClicked:btn":mt,class:"add-new-button"},null,8,["icon"])):b("",!0)])]),l("div",Vo,[e(a(ve),{lines:"none",class:"section-header"},{default:t(()=>[e(a(ot),{icon:a(nn),class:"section-icon"},null,8,["icon"]),e(a(Ce),{class:"section-title"},{default:t(()=>[...D[14]||(D[14]=[R("Non-pharmacological therapy and other notes",-1)])]),_:1})]),_:1}),l("div",xo,[e(Jn,{class:"intervention-component"}),l("div",Mo,[e(a(ve),{class:"notes-input-item"},{default:t(()=>[e(a(ot),{slot:"start",icon:a(u).editPen,class:"edit-icon","aria-hidden":"true"},null,8,["icon"]),e(a(sn),{modelValue:W.value,"onUpdate:modelValue":D[8]||(D[8]=x=>W.value=x),onIonInput:wa,placeholder:"Enter notes here...","auto-grow":!0,class:"notes-textarea",fill:"outline",style:{"--padding-start":"16px"}},null,8,["modelValue"])]),_:1})]),e(a(ut),{ref:"accordionGroup",class:"previous-notes"},{default:t(()=>[e(a(Re),{value:"fourth","toggle-icon-slot":"start"},{default:t(()=>[e(a(ve),{slot:"header",color:"light",class:"previous-notes-header"},{default:t(()=>[e(a(Ce),null,{default:t(()=>[...D[15]||(D[15]=[R("Previous visit notes",-1)])]),_:1})]),_:1}),l("div",$o,[l("div",Lo,[E.index===1?(d(!0),w(de,{key:0},Ee(M.value,(x,Z)=>(d(),w("div",{key:Z,class:"note-entry"},[(d(!0),w(de,null,Ee(x,(le,be)=>(d(),w("div",{key:be},[l("div",Ro,V(le.date),1),l("div",Fo,V(le.notes),1)]))),128))]))),128)):b("",!0),e(a(ut),{onIonChange:Oa},{default:t(()=>[e(a(Re),{value:"third","toggle-icon-slot":"start"},{default:t(()=>[e(a(ve),{slot:"header",color:"light",class:"show-more-header"},{default:t(()=>[e(a(Ce),{color:"primary"},{default:t(()=>[R(V(j.value),1)]),_:1})]),_:1}),l("div",Bo,[(d(!0),w(de,null,Ee(o.value,(x,Z)=>(d(),w("div",{key:Z,class:"note-entry"},[(d(!0),w(de,null,Ee(Pa(x),(le,be)=>(d(),w("div",{key:be},[l("div",Uo,V(le.date),1),l("div",qo,V(le.notes),1)]))),128))]))),128))])]),_:1})]),_:1})])])]),_:1})]),_:1},512)])])]),_:1}))}}),fl=ke(Wo,[["__scopeId","data-v-928c62f1"]]),zo=ce({name:"xxxComponent"}),Yo=ce({...zo,emits:["dataSaved"],setup(n,{emit:u}){const m=s(),c=s("gurdian phone number");s(!0),s(!0);const f=s(!0),g=s(),A=s();He(async()=>{De()});const r=[{placeHolder:{default:"Enter time of death if known"},property_name:"timeOfDeath",dataHandler:q,dataValue:s(),show_error:s(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time arrived"},property_name:"timeArrived",dataHandler:$,dataValue:s(),show_error:s(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time confirming death"},property_name:"timeOfDeathConfirmation",dataHandler:K,dataValue:s(),show_error:s(!1),error_message:"Time required",skip_validation:!1}],_=[{placeHolder:{default:"Enter date of death"},property_name:"dateOfDeath",dataHandler:k,dataValue:s(),show_error:s(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date arrived"},property_name:"dateArrived",dataHandler:B,dataValue:s(),show_error:s(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date confirming death"},property_name:"dateOfDeathConfirmation",dataHandler:W,dataValue:s(),show_error:s(!1),error_message:"Date required",type:"date",skip_validation:!1}],S=[{lblTxt:"Was the individual pregnant at the time of death?",value:s(!1),disable_checkbox:s(!0)}],p=[{placeHolder:"Enter place of death",property_name:"placeOfDeath",dataHandler:y,dataValue:s(),show_error:s(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of guardian",property_name:"nameOfGuardian",dataHandler:i,dataValue:s(),show_error:s(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of person confirming death",property_name:"nameOfPersonConfirmindDeath",dataHandler:M,dataValue:s(),show_error:s(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter position of the person confirming death",property_name:"positionOfthePersonConfirmingDeath",dataHandler:o,dataValue:s(),show_error:s(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter medical council registration number of the person confirming death",property_name:"medicalConcilRegistrationNumberOfThePersonConfirmingDeath",dataHandler:h,dataValue:s(),show_error:s(!1),error_message:"Input required, Only letters and numbers are allowed",type:"alphanumeric",skip_validation:!1},{placeHolder:"Other (specify)",property_name:"otherNotes",dataHandler:I,dataValue:s(),show_error:s(!1),error_message:"Input required, Only letters allowed",dissabled:f.value,type:"text",skip_validation:!0}],O=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:z},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:U}],G=s([{id:1,name:"Natural",selected:!1},{id:2,name:"Accident",selected:!1},{id:3,name:"Homicide",selected:!1},{id:4,name:"Suicide",selected:!1},{id:5,name:"Pending investigation",selected:!1},{id:6,name:"Could not be determined",selected:!1},{id:7,name:"Other - specify",selected:!1}]),v=s([{id:1,name:"Motor vehicle (passenger)",selected:!1},{id:2,name:"Motor vehicle (pedestrian)",selected:!1},{id:3,name:"Drowning",selected:!1},{id:4,name:"Other - specify",selected:!1}]),C=[{multi_Selection:!1,manner_of_death_Selection_value:s(),show_list_label:!0,unqueId:"qwerty",name_of_list:"Manner of death ",property_name:"mannerOfDeath",placeHolder:"Choose one",items:G.value,listUpdatedFN:j,listFilteredFN:()=>{},use_internal_filter:!0,disabled:s(!1),show_error:s(!1),error_message:"selection required"},{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty1hjkn",name_of_list:"How did it occur?",property_name:"howDiditOccur",placeHolder:"Choose one",items:v.value,listUpdatedFN:ne,listFilteredFN:()=>{},use_internal_filter:!0,disabled:s(!0),show_error:s(!1),error_message:"selection required"}];function U(){F()}const H=u;function F(P={dataSaved:!0}){H("dataSaved",P)}function q(P){r[0].dataValue.value=P}function $(P){r[1].dataValue.value=P}function K(P){r[2].dataValue.value=P}function k(P){const L={day:P.value.day,month:P.value.month,year:P.value.year,formattedDate:P.value.formattedDate};_[0].dataValue.value=L}function B(P){const L={day:P.value.day,month:P.value.month,year:P.value.year,formattedDate:P.value.formattedDate};_[1].dataValue.value=L,console.log(_[2].dataValue.value)}function W(P){const L={day:P.value.day,month:P.value.month,year:P.value.year,formattedDate:P.value.formattedDate};_[2].dataValue.value=L,console.log(_[2].dataValue.value)}function y(P){const L=P.target.value;p[0].dataValue.value=L}function i(P){const L=P.target.value;p[1].dataValue.value=L}function M(P){const L=P.target.value;p[2].dataValue.value=L}function o(P){const L=P.target.value;p[3].dataValue.value=L}function h(P){const L=P.target.value;p[4].dataValue.value=L}function I(P){const L=P.target.value;p[5].dataValue.value=L}function j(P){G.value.forEach(Q=>Q.selected=!1);const L=G.value.find(Q=>Q.id==P.id);C[1].disabled.value=P.name!="Accident",L.selected=!0}function ne(P){console.log("listUpdated",P),v.value.forEach(Q=>Q.selected=!1);const L=v.value.find(Q=>Q.id==P.id);L.selected=!0}function De(){const L=new Pt().isChildBearing;L==!0&&(S[0].disable_checkbox.value=!1),L==!1&&(S[0].disable_checkbox.value=!0)}function z(){yt(p),yt(_),yt(r),Ie();const P=Ge.merge(bt(p),bt(_),bt(r),Me(C[0]),Me(C[1]));console.log(P)}function Ie(){const P=G.value.filter(L=>L.selected);if(P.length==0)C[0].show_error.value=!0;else if(C[0].show_error.value=!1,P[0].name=="Accident"){const L=v.value.filter(Q=>Q.selected);C[1].show_error.value=L.length==0}}function Me(P){const L=[];let Q={};return P.items.forEach(ie=>{ie.selected==!0&&L.push({property_name:P.property_name,name:ie.name})}),L.length>0&&(Q[L[0].property_name]=L[0].name),Q}return(P,L)=>{const Q=X("ion-label");return d(),w(de,null,[e(a(ge),{class:"checkbox_content md"},{default:t(()=>[e(a(J),null,{default:t(()=>[e(qe,{placeholder:p[0].placeHolder,icon:a(sa),inputValue:p[0].dataValue.value,"onUpdate:inputValue":p[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),l("div",null,[p[0].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(p[0].error_message),1)]),_:1})):b("",!0)])]),_:1}),e(a(J),null,{default:t(()=>[e(ea,{place_holder:_[0].placeHolder,onDateUpDated:_[0].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),l("div",null,[_[0].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(_[0].error_message),1)]),_:1})):b("",!0)])]),_:1})]),_:1}),e(a(ge),null,{default:t(()=>[e(a(J),null,{default:t(()=>[e(Ct,{place_holder:r[0].placeHolder,onTimeUpDated:r[0].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),l("div",null,[r[0].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(r[0].error_message),1)]),_:1})):b("",!0)])]),_:1}),e(a(J))]),_:1}),e(a(ge),{class:"checkbox_content md"},{default:t(()=>[e(a(J),null,{default:t(()=>[e(qe,{placeholder:p[1].placeHolder,icon:a(jt),inputValue:p[1].dataValue.value,"onUpdate:inputValue":p[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),l("div",null,[p[1].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(p[1].error_message),1)]),_:1})):b("",!0)])]),_:1}),e(a(J),null,{default:t(()=>[e(a(na),{value:S[0].value,alignment:"start",class:"ion-lblCls",disabled:S[0].disable_checkbox.value},{default:t(()=>[R(V(S[0].lblTxt),1)]),_:1},8,["value","disabled"])]),_:1})]),_:1}),e(a(ge),null,{default:t(()=>[e(a(J),null,{default:t(()=>[e(qe,{placeholder:c.value,icon:a(on),inputValue:m.value},null,8,["placeholder","icon","inputValue"])]),_:1}),e(a(J))]),_:1}),e(a(ge),null,{default:t(()=>[e(a(J),null,{default:t(()=>[e(ea,{place_holder:_[1].placeHolder,onDateUpDated:_[1].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),l("div",null,[_[1].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(_[1].error_message),1)]),_:1})):b("",!0)])]),_:1}),e(a(J),null,{default:t(()=>[e(Ct,{place_holder:r[1].placeHolder,onTimeUpDated:r[1].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),l("div",null,[r[1].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(r[1].error_message),1)]),_:1})):b("",!0)])]),_:1})]),_:1}),e(a(ge),null,{default:t(()=>[e(a(J),null,{default:t(()=>[e(a(et),{modelValue:g.value,"onUpdate:modelValue":[L[0]||(L[0]=ie=>g.value=ie),L[1]||(L[1]=ie=>j(ie))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Manner of death",placeholder:"Manner of death",selectLabel:"",label:"name",searchable:!0,"track-by":"id",options:G.value},null,8,["modelValue","options"]),l("div",null,[C[0].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(C[0].error_message),1)]),_:1})):b("",!0)])]),_:1}),e(a(J),null,{default:t(()=>[e(a(et),{modelValue:A.value,"onUpdate:modelValue":[L[2]||(L[2]=ie=>A.value=ie),L[3]||(L[3]=ie=>ne(ie))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"How did it occur?",placeholder:"How did it occur?",selectLabel:"",label:"name",disabled:C[1].disabled.value,searchable:!0,"track-by":"id",options:v.value},null,8,["modelValue","disabled","options"]),l("div",null,[C[1].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(C[1].error_message),1)]),_:1})):b("",!0)])]),_:1})]),_:1}),e(a(ge),null,{default:t(()=>[e(a(J),null,{default:t(()=>[e(qe,{placeholder:p[5].placeHolder,icon:a(Kt),inputValue:p[5].dataValue.value,disabled:f.value,"onUpdate:inputValue":p[5].dataHandler},null,8,["placeholder","icon","inputValue","disabled","onUpdate:inputValue"]),l("div",null,[p[5].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(p[5].error_message),1)]),_:1})):b("",!0)])]),_:1})]),_:1}),e(a(ge),null,{default:t(()=>[e(a(J),null,{default:t(()=>[e(Ct,{place_holder:r[2].placeHolder,onTimeUpDated:r[2].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),l("div",null,[r[2].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(r[2].error_message),1)]),_:1})):b("",!0)])]),_:1}),e(a(J),null,{default:t(()=>[e(qe,{placeholder:p[2].placeHolder,icon:a(jt),inputValue:p[2].dataValue.value,"onUpdate:inputValue":p[2].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),l("div",null,[p[2].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(p[2].error_message),1)]),_:1})):b("",!0)])]),_:1})]),_:1}),e(a(ge),null,{default:t(()=>[e(a(J),null,{default:t(()=>[e(qe,{placeholder:p[3].placeHolder,icon:a(Qe),inputValue:p[3].dataValue.value,"onUpdate:inputValue":p[3].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),l("div",null,[p[3].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(p[3].error_message),1)]),_:1})):b("",!0)])]),_:1}),e(a(J),null,{default:t(()=>[e(qe,{placeholder:p[4].placeHolder,icon:a(Kt),inputValue:p[4].dataValue.value,"onUpdate:inputValue":p[4].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),l("div",null,[p[4].show_error.value?(d(),T(Q,{key:0,class:"error-label"},{default:t(()=>[R(V(p[4].error_message),1)]),_:1})):b("",!0)])]),_:1})]),_:1}),(d(),T(a(ge),{key:0,class:"spc_btwn"},{default:t(()=>[O[0].addItemButton?(d(),T(xe,{key:0,name:O[0].name,fill:O[0].btnFill,icon:a(oa),"onClicked:btn":O[0].fn},null,8,["name","fill","icon","onClicked:btn"])):b("",!0),O[1].addItemButton?(d(),T(xe,{key:1,name:O[1].name,fill:O[1].btnFill,icon:a(kt),"onClicked:btn":O[1].fn},null,8,["name","fill","icon","onClicked:btn"])):b("",!0)]),_:1}))],64)}}}),jo=ke(Yo,[["__scopeId","data-v-0aad2f08"]]),Ko={class:"dash_box"},Qo={key:1},Jo=ce({name:"xxxComponent"}),Xo=ce({...Jo,setup(n){const u=s("No outcome created yet"),m=s(!1),c=s("please select a type"),f=s(!0),g=s(""),A=s(!0),r=s(!1),_=ma(),S=fe(()=>_.outcomes),p=s(!1),O=s(!1),G=s(!1),v=s(!1),C=s(!1),U=s(!1),H=s([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1},{name:"Send to Another Clinic",selected:!1}]),F=[{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty2",name_of_list:"Add new outcome",placeHolder:"Choose one",items:H.value,listUpdatedFN:q,listFilteredFN:()=>{},use_internal_filter:!0,disabled:s(!1)}];function q(i){H.value=i,H.value.forEach(M=>{M.selected==!0&&(g.value=M.name)})}He(async()=>{K()}),te(()=>g.value,async i=>{p.value==!0?p.value=!1:W()}),te(()=>S.value.length,async i=>{K()});function $(){H.value.forEach(i=>{i.selected=!1}),g.value=""}function K(){S.value.length>0?A.value=!1:S.value.length==0&&r.value==!1&&(A.value=!0)}function k(i){S.value.splice(i,1)}const B=i=>{};async function W(i=!0){const M=g.value;console.log(M),g.value=M;const o=g.value;o==H.value[0].name?G.value=!0:G.value=!1,o==H.value[1].name?(v.value=!0,console.log("show_discharged_options is set to true")):v.value=!1,o==H.value[2].name?(C.value=!0,console.log("show_discharged_options is set to true")):C.value=!1,o==H.value[3].name?U.value=!0:U.value=!1}function y(){O.value=!1,G.value=!1,v.value=!1,C.value=!1,$()}return(i,M)=>{const o=X("ion-row");return d(),T(a(dt),null,{default:t(()=>[e(o,null,{default:t(()=>[e(a(J),null,{default:t(()=>[(d(),T(is,{key:0,"onUpdate:removeItem":k,"onUpdate:editItem":B,displayData:S.value},null,8,["displayData"]))]),_:1})]),_:1}),A.value?(d(),T(o,{key:0},{default:t(()=>[l("span",Ko,V(u.value),1)]),_:1})):b("",!0),f.value?(d(),w("div",Qo,[e(o,null,{default:t(()=>[e(a(J),null,{default:t(()=>[e(Mn,{multiSelection:F[0].multi_Selection,show_label:F[0].show_list_label,uniqueId:F[0].unqueId,name_of_list:F[0].name_of_list,choose_place_holder:F[0].placeHolder,"items_-list":F[0].items,use_internal_filter:F[0].use_internal_filter,disabled:F[0].disabled.value,onItemListUpDated:F[0].listUpdatedFN,onItemListFiltered:F[0].listFilteredFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered"]),l("div",null,[m.value?(d(),T(a(Ce),{key:0,class:"error-label"},{default:t(()=>[R(V(c.value),1)]),_:1})):b("",!0)])]),_:1})]),_:1})])):b("",!0),G.value?(d(),T(os,{key:2,onDataSaved:y,selected_ward_prop:"",admitted_other_props:""})):b("",!0),v.value?(d(),T(ls,{key:3,onDataSaved:y,selected_referral_data:"",selected_other_referral_data:""})):b("",!0),C.value?(d(),T(rs,{key:4,onDataSaved:y,selected_discharged_prop:"",selected_discharged_data:""})):b("",!0),O.value?(d(),T(jo,{key:5,onDataSaved:y})):b("",!0),U.value?(d(),T(us,{key:6,onDataSaved:y})):b("",!0)]),_:1})}}}),gl=ke(Xo,[["__scopeId","data-v-fc637de7"]]);export{vl as C,gl as O,Qs as P,Ki as _,ao as a,fl as b};
