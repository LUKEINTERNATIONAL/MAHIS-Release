import{d as _,r as p,a as y,bA as L,dz as I,e as v,f as m,k as i,I as C,Q as b,u as e,bH as P,H as l,l as o,b4 as x,a3 as u,b5 as N,a5 as S,P as k,N as F,aX as B,b7 as O,L as $,bq as h}from"./vendor-CJ2tyHrn.js";import{N as w}from"./NavigationMenu-Bt5ZMl5l.js";import{_ as g,Z as H,$ as V,x as f,G as q}from"../index-CPIhguZJ.js";import"./lodash-NJiRuGo9.js";import"./EIRreportsStore-COMUTdOQ.js";import"./apexcharts-BtvCa6MI.js";const D=_({__name:"LocationLbl",props:{imageOut:{type:Object},location_id:{type:Number,required:!0},location_name:{type:String,required:!0}},emits:["label-out"],setup(s,{emit:c}){const a=c,d=p(null),r=s;return y(()=>{L("#location-barcode","".concat(r.location_id),{height:70,width:3,displayValue:!1,format:"CODE128"}),I.toPng(d.value,{width:500,height:250}).then(n=>{a("label-out",n),typeof r.imageOut=="function"&&r.imageOut([n])})}),(n,t)=>(m(),v("div",{ref_key:"labelComponent",ref:d,id:"container"},[i("div",null,C(s.location_name),1),t[0]||(t[0]=i("div",{style:{padding:"1%"}},null,-1)),t[1]||(t[1]=i("svg",{id:"location-barcode"},null,-1))],512))}}),E=g(D,[["__scopeId","data-v-be7e2966"]]);async function M(s){return H(E,{scaleHeight:280,useImage:!1,lblUrl:"labels/location?location_id=".concat(s)})}const T={class:"ion-margin-top"},j=_({__name:"PrintLocation",setup(s){const c=p(""),a=p(null);function d(n){var t;a.value=n.selected_location,c.value=((t=n.selected_location)==null?void 0:t.name)||""}async function r(){if(!a.value){f("Please select a facility first");return}try{M(a.value.location_id),q("Location label sent to printer")}catch(n){console.error("Error printing location:",n),f("Failed to print location label")}}return(n,t)=>(m(),b(e(P),null,{default:l(()=>[o(e(N),null,{default:l(()=>[o(e(x),null,{default:l(()=>[...t[0]||(t[0]=[u("Select Facility to Print",-1)])]),_:1})]),_:1}),o(e(O),null,{default:l(()=>[o(e(S),null,{default:l(()=>[...t[1]||(t[1]=[i("h3",null,[u("Select Facility "),i("span",{style:{color:"red"}},"*")],-1)])]),_:1}),o(V,{show_error:!1,selected_district_ids:[],selected_location:null,onFacilitySelected:d}),i("div",T,[o(e(k),{expand:"block",disabled:!a.value,onClick:r,color:"primary"},{default:l(()=>[o(e(F),{icon:e(B),slot:"start"},null,8,["icon"]),t[2]||(t[2]=u(" Print Location ",-1))]),_:1},8,["disabled"])])]),_:1})]),_:1}))}}),z=g(j,[["__scopeId","data-v-ad44e450"]]),K=_({__name:"PrintLocationPage",setup(s){return(c,a)=>(m(),b(e(h),null,{default:l(()=>[o(w,{title:"Print location"}),a[0]||(a[0]=i("p",{class:"ion-padding"},null,-1)),o(e($),null,{default:l(()=>[o(z)]),_:1})]),_:1}))}});export{K as default};
