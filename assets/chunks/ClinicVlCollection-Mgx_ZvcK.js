import{cq as d,cn as m,cc as i,co as u,aN as s,aM as f}from"../index-eJpzASAs.js";import{V as b}from"./viral_load_report_service-Dc2kMxId.js";import{d as g,r,O as h,f as _}from"./vendor-CAxM8KGs.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-y0ZeiY9V.js";import"./age_groups-BkW1n_F5.js";import"./regimens-Dknk55PA.js";const F=g({__name:"ClinicVlCollection",setup(v){const o=r(""),e=new b,t=r(!1),n=r([]),c=[t.value?{label:"Filing#",path:"identifier"}:{label:"ARV#",path:"identifier",preSort:d,initialSort:!0},{label:"First name",path:"given_name",exportable:!1},{label:"Last name",path:"family_name",exportable:!1},{label:"Gender",path:"gender",formatter:m},{label:"DOB",path:"birthdate",formatter:i},{label:"Date of VL Order",path:"order_date",formatter:i}];async function p(a){await s.show(),e.setStartDate(a.dateRange.startDate),e.setEndDate(a.dateRange.endDate),e.setOccupation(a.occupation),o.value=e.getDateIntervalPeriod();try{n.value=await e.getVlCollection(),t.value=a.filingNumberEnabled}catch(l){f("Unable to load report data"),console.error(l)}await s.hide()}return(a,l)=>(_(),h(u,{"report-prefix":"Clinic",title:"VL Collection","default-sort-order":"asc","default-sorted-column":"identifier",columns:c,period:o.value,rows:n.value,"filing-number-enabled":t.value,"use-date-range-filter":"","use-secure-export":"",onGenerate:p},null,8,["period","rows","filing-number-enabled"]))}});export{F as default};
