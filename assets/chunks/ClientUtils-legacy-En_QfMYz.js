!function(){function t(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}System.register(["../index-legacy-8OuuotwM.js"],function(e,r){"use strict";var n,i;return{setters:[t=>{n=t.aM,i=t.aN}],execute:function(){function r(){n().clearSelectedMedicalDrugsList(),i().clearMedicationDataStores()}class a{constructor(){t(this,"currentPatientID",null),t(this,"STORAGE_KEY","current_patient_id"),this.loadStoredPatientID()}static getInstance(){return a.instance||(a.instance=new a),a.instance}loadStoredPatientID(){try{const t=localStorage.getItem(this.STORAGE_KEY);this.currentPatientID=t}catch(t){console.error("Error loading patient ID from localStorage:",t),this.currentPatientID=null}}savePatientID(t){try{localStorage.setItem(this.STORAGE_KEY,t)}catch(e){console.error("Error saving patient ID to localStorage:",e)}}removePatientID(){try{localStorage.removeItem(this.STORAGE_KEY)}catch(t){console.error("Error removing patient ID from localStorage:",t)}}setCurrentPatientID(t){null!==this.currentPatientID&&this.currentPatientID!==t&&(console.log(`Patient changed from ${this.currentPatientID} to ${t}. Resetting medications.`),r()),this.currentPatientID=t,this.savePatientID(t)}getCurrentPatientID(){return this.currentPatientID}clearCurrentPatient(){this.currentPatientID=null,this.removePatientID(),r()}hasActiveSession(){return null!==this.currentPatientID}}t(a,"instance",void 0);e("p",a.getInstance())}}})}();
