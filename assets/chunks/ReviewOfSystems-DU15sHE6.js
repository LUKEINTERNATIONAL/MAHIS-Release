import{d as v,r as y,eN as S,w as d,e as F,f as p,l as b,u as m,c as I,O as M,m as V,a6 as z,a3 as G,an as W,aV as H,bz as j,eO as J,H as O,J as A}from"./vendor-HuFSitED.js";import{aC as k,_ as g,cg as K,ch as X,T as Z,u as ee,t as Y,G as oe,s as te}from"../index-BkhZ5sev.js";import{N as se}from"./NeonatalStepper-iABdEw4k.js";import{N as ne}from"./neonatal_service-BwKj8yDG.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-H8VlRymN.js";import"./SaveProgressModal-Bdd8rYit.js";import"./images-DopJFFEq.js";const x={within_24_hours:"Within 24 hours",more_than_24_hours:"More than 24 hours"},R={white:"White",yellow:"Yellow",yellowish_green:"Yellowish-green",green:"Green",normal:"Normal"},T={loose:"Loose",soft:"Soft",hard:"Hard"},D={clear:"Clear",cloudy:"Cloudy",bloody:"Bloody",dark:"Dark",pus:"Pus"},P={weight_loss_above_10:"Weight loss > 10%",weight_loss_below_10:"Weight loss < 10%"},C={hernia:"Hernia",swelling:"Swelling",discharge_pus_blood:"Discharge (Pus/Blood)"},c=[{title:"Review Of Systems",subtitle:"Bowel Movements",description:"Bowel movement assessment",formData:[{componentType:"yesNoQuestion",name:"is_baby_vomiting",header:"Is the baby vomiting?",validation:o=>o?null:"Please select Yes or No"},{componentType:"inputField",name:"frequency_of_vomiting",header:"Frequency of vomiting",placeholder:"Enter frequency",type:"number",unit:"minutes",condition:o=>o.is_baby_vomiting==="Yes",validation:o=>o?null:"Please enter frequency of vomiting"},{componentType:"listSelectionField",name:"passage_of_meconium",header:"Passage of meconium?",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:x.within_24_hours,value:"within_24_hours"},{label:x.more_than_24_hours,value:"more_than_24_hours"}],validation:o=>o?null:"Please select passage of meconium"},{componentType:"inputField",name:"frequency_of_stooling",header:"Frequency of stooling",placeholder:"Enter frequency",type:"number",unit:"minutes",validation:o=>o?null:"Please enter frequency of stooling"},{componentType:"listSelectionField",name:"color_of_stools",header:"Color of stools",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:R.white,value:"white"},{label:R.yellow,value:"yellow"},{label:R.yellowish_green,value:"yellowish_green"},{label:R.green,value:"green"},{label:R.normal,value:"normal"}],validation:o=>o?null:"Please select color of stools"},{componentType:"listSelectionField",name:"consistency_of_stools",header:"Consistency of stools",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:T.loose,value:"loose"},{label:T.soft,value:"soft"},{label:T.hard,value:"hard"}],validation:o=>o?null:"Please select consistency of stools"},{componentType:"yesNoQuestion",name:"blood_in_stools",header:"Any blood in stools?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"mucus_in_stools",header:"Any mucus in stools?",validation:o=>o?null:"Please select Yes or No"}]},{title:"Review Of Systems",subtitle:"Urine Output",description:"Urine output assessment",formData:[{componentType:"yesNoQuestion",name:"is_baby_passing_urine",header:"Is the baby passing urine?",validation:o=>o?null:"Please select Yes or No"},{componentType:"inputField",name:"number_of_wet_nappies",header:"Number of wet nappies per day",placeholder:"Enter number",type:"number",condition:o=>o.is_baby_passing_urine==="Yes",validation:o=>o?null:"Please enter number of wet nappies"},{componentType:"listSelectionField",name:"color_of_urine",header:"Color of urine",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:D.clear,value:"clear"},{label:D.cloudy,value:"cloudy"},{label:D.bloody,value:"bloody"},{label:D.dark,value:"dark"},{label:D.pus,value:"pus"}],validation:o=>o?null:"Please select color of urine"},{componentType:"inputField",name:"volume_ml",header:"Volume (ml)",placeholder:"Enter volume",type:"number",validation:o=>o?null:"Please enter volume"}]},{title:"Review Of Systems",subtitle:"Growth",description:"Growth assessment",formData:[{componentType:"listSelectionField",name:"weight_trend_since_birth",header:"Weight trend since birth",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:P.weight_loss_above_10,value:"weight_loss_above_10"},{label:P.weight_loss_below_10,value:"weight_loss_below_10"}],validation:o=>o?null:"Please select weight trend"}]},{title:"Review Of Systems",subtitle:"Mouth and Oropharynx",description:"Mouth and oropharynx assessment",formData:[{componentType:"yesNoQuestion",name:"does_baby_have_oral_thrush",header:"Does the baby have Oral thrush?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"does_baby_have_oral_sores",header:"Does the baby have Oral sores?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"does_baby_have_tongue_tie",header:"Does the baby have Tongue tie (Ankyloglossia)?",validation:o=>o?null:"Please select Yes or No"}]},{title:"Review Of Systems",subtitle:"Abdomen",description:"Abdominal assessment",formData:[{componentType:"yesNoQuestion",name:"abdominal_distension",header:"Abdominal distension?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"abdominal_pain",header:"Abdominal pain?",validation:o=>o?null:"Please select Yes or No"},{componentType:"listSelectionField",name:"umbilical_condition",header:"Umbilical",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:C.hernia,value:"hernia"},{label:C.swelling,value:"swelling"},{label:C.discharge_pus_blood,value:"discharge_pus_blood"}],validation:o=>o?null:"Please select umbilical condition"}]},{title:"Review Of Systems",subtitle:"Musculoskeletal",description:"Musculoskeletal system assessment",formData:[{componentType:"yesNoQuestion",name:"skin_rash",header:"Does the baby have Skin rash?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"talipes",header:"Does the baby have Talipes?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"extra_digits",header:"Does the baby have Extra-digits?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"spinal_bifida",header:"Does the baby have Spinal bifida?",validation:o=>o?null:"Please select Yes or No"}]},{title:"Summary",subtitle:"Review of Systems Summary",description:"Review all findings before proceeding",formData:[{componentType:"Alert",name:"ros_summary_alert",type:"warning",backgroundColor:"#FEDF89",textColor:"#B54708",message:"Review all findings carefully. You can go back to edit if needed."},{componentType:"summaryField",name:"reviewOfSystemsSummary",title:"Review of Systems Summary",subtitle:"Auto-generated summary from all systems reviewed",description:"Confirm that the values below match your observations before proceeding.",emptyStateMessage:"No review of systems data captured yet.",builder:o=>{const u=[],t=s=>{if(!s||typeof s!="string")return;const l=s.trim().toLowerCase();return l==="yes"?"Yes":l==="no"?"No":s},i=(s,l)=>{if(s)return(l==null?void 0:l[s])||s},r=(s,l)=>{if(s)return"".concat(s," ").concat(l)},n=(s,l,e)=>{e&&u.push({section:s,label:l,value:e})};return n("Bowel Movements","Is the baby vomiting?",t(o.is_baby_vomiting)),n("Bowel Movements","Frequency of vomiting",r(o.frequency_of_vomiting,"minutes")),n("Bowel Movements","Passage of meconium",i(o.passage_of_meconium,x)),n("Bowel Movements","Frequency of stooling",r(o.frequency_of_stooling,"minutes")),n("Bowel Movements","Color of stools",i(o.color_of_stools,R)),n("Bowel Movements","Consistency of stools",i(o.consistency_of_stools,T)),n("Bowel Movements","Blood in stools?",t(o.blood_in_stools)),n("Bowel Movements","Mucus in stools?",t(o.mucus_in_stools)),n("Urine Output","Is the baby passing urine?",t(o.is_baby_passing_urine)),n("Urine Output","Number of wet nappies",o.number_of_wet_nappies),n("Urine Output","Color of urine",i(o.color_of_urine,D)),n("Urine Output","Volume (ml)",o.volume_ml),n("Growth","Weight trend since birth",i(o.weight_trend_since_birth,P)),n("Mouth and Oropharynx","Oral thrush?",t(o.does_baby_have_oral_thrush)),n("Mouth and Oropharynx","Oral sores?",t(o.does_baby_have_oral_sores)),n("Mouth and Oropharynx","Tongue tie?",t(o.does_baby_have_tongue_tie)),n("Abdomen","Abdominal distension?",t(o.abdominal_distension)),n("Abdomen","Abdominal pain?",t(o.abdominal_pain)),n("Abdomen","Umbilical findings",i(o.umbilical_condition,C)),n("Musculoskeletal","Skin rash?",t(o.skin_rash)),n("Musculoskeletal","Talipes?",t(o.talipes)),n("Musculoskeletal","Extra digits?",t(o.extra_digits)),n("Musculoskeletal","Spinal bifida?",t(o.spinal_bifida)),u}}]}],ae={type_of_feed:"",mode_of_feeding:"",frequency_of_feeding:"",duration_of_feeding:"",effort_during_feeding:"",is_baby_vomiting:"",frequency_of_vomiting:"",passage_of_meconium:"",frequency_of_stooling:"",color_of_stools:"",consistency_of_stools:"",blood_in_stools:"",mucus_in_stools:"",is_baby_passing_urine:"",number_of_wet_nappies:"",color_of_urine:"",volume_ml:"",weight_trend_since_birth:"",does_baby_have_oral_thrush:"",does_baby_have_oral_sores:"",does_baby_have_tongue_tie:"",activity:"",hydration_urination:"",stool_passed_meconium:"",stool_passed_transitional:"",vomiting:"",vomiting_bile_stained:"",difficulty_breathing:"",bleeding:"",jaundice:"",convulsions:"",baby_grunting:"",color_of_vomit:"",gasping:"",nasal_flaring:"",cyanosis:"",size_of_uterus:"",oxygen_level_2:"",oxygen_level_value:"",birthmark_abnormalities:"",pustules:"",peeling:"",umbilical_discharge:"",swelling:"",abdominal_distension:"",abdominal_pain:"",umbilical_condition:"",mass:"",tenderness:"",organomegaly:"",skin_rash:"",talipes:"",extra_digits:"",spinal_bifida:"",reduced_movement:"",fracture:"",deformity:"",club_foot:"",other_abnormalities:""},w=Symbol("neonatalReviewOfSystemsForm"),le={class:"review-of-systems-section-wrapper"},ie=v({__name:"BowelMovementsSection",setup(o,{expose:u}){const t=y(null),i=c[0],r=i.formData,n=i.conditionalRules||[],s=S(w),l=e=>{s&&(s.is_baby_vomiting=e.is_baby_vomiting||"",s.frequency_of_vomiting=e.frequency_of_vomiting||"",s.passage_of_meconium=e.passage_of_meconium||"",s.frequency_of_stooling=e.frequency_of_stooling||"",s.color_of_stools=e.color_of_stools||"",s.consistency_of_stools=e.consistency_of_stools||"",s.blood_in_stools=e.blood_in_stools||"",s.mucus_in_stools=e.mucus_in_stools||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&l(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&l(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>t.value,validateForm:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),F("div",le,[b(k,{formData:m(r),conditionalRules:m(n),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),$=g(ie,[["__scopeId","data-v-6b71ffe3"]]),re={class:"review-of-systems-section-wrapper"},ue=v({__name:"UrineOutputSection",setup(o,{expose:u}){const t=y(null),i=c[1],r=i.formData,n=i.conditionalRules||[],s=S(w),l=e=>{s&&(s.is_baby_passing_urine=e.is_baby_passing_urine||"",s.number_of_wet_nappies=e.number_of_wet_nappies||"",s.color_of_urine=e.color_of_urine||"",s.volume_ml=e.volume_ml||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&l(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&l(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>t.value,validateForm:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),F("div",re,[b(k,{formData:m(r),conditionalRules:m(n),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),q=g(ue,[["__scopeId","data-v-ae40b2d0"]]),ce={class:"review-of-systems-section-wrapper"},me=v({__name:"GrowthSection",setup(o,{expose:u}){const t=y(null),i=c[2],r=i.formData,n=i.conditionalRules||[],s=S(w),l=e=>{s&&(s.weight_trend_since_birth=e.weight_trend_since_birth||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&l(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&l(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>t.value,validateForm:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),F("div",ce,[b(k,{formData:m(r),conditionalRules:m(n),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),B=g(me,[["__scopeId","data-v-d18b28f7"]]),_e={class:"review-of-systems-section-wrapper"},de=v({__name:"MouthOropharynxSection",setup(o,{expose:u}){const t=y(null),i=c[3],r=i.formData,n=i.conditionalRules||[],s=S(w),l=e=>{s&&(s.does_baby_have_oral_thrush=e.does_baby_have_oral_thrush||"",s.does_baby_have_oral_sores=e.does_baby_have_oral_sores||"",s.does_baby_have_tongue_tie=e.does_baby_have_tongue_tie||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&l(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&l(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>t.value,validateForm:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),F("div",_e,[b(k,{formData:m(r),conditionalRules:m(n),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),E=g(de,[["__scopeId","data-v-a2bf5654"]]),pe={class:"review-of-systems-section-wrapper"},fe=v({__name:"AbdomenSection",setup(o,{expose:u}){const t=y(null),i=c[4],r=i.formData,n=i.conditionalRules||[],s=S(w),l=e=>{s&&(s.abdominal_distension=e.abdominal_distension||"",s.abdominal_pain=e.abdominal_pain||"",s.umbilical_condition=e.umbilical_condition||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&l(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&l(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>t.value,validateForm:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),F("div",pe,[b(k,{formData:m(r),conditionalRules:m(n),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),U=g(fe,[["__scopeId","data-v-f42ebbfa"]]),ye={class:"review-of-systems-section-wrapper"},be=v({__name:"MusculoskeletalSection",setup(o,{expose:u}){const t=y(null),i=c[5],r=i.formData,n=i.conditionalRules||[],s=S(w),l=e=>{s&&(s.skin_rash=e.skin_rash||"",s.talipes=e.talipes||"",s.extra_digits=e.extra_digits||"",s.spinal_bifida=e.spinal_bifida||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&l(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&l(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>t.value,validateForm:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),F("div",ye,[b(k,{formData:m(r),conditionalRules:m(n),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),Q=g(be,[["__scopeId","data-v-d41ae811"]]),he={class:"review-of-systems-section-wrapper"},ve=v({__name:"SummarySection",setup(o,{expose:u}){const t=c[6],i=I(()=>t.formData.find(s=>s.componentType==="Alert")),r=I(()=>t.formData.find(s=>s.componentType==="summaryField")),n=S(w);return u({getFormRef:()=>null,validateForm:()=>null,getFormValues:()=>({...n||{}})}),(s,l)=>(p(),F("div",he,[i.value?(p(),M(K,{key:0,config:i.value,allFormValues:m(n)||{}},null,8,["config","allFormValues"])):V("",!0),r.value?(p(),M(X,{key:1,config:r.value,allFormValues:m(n)||{}},null,8,["config","allFormValues"])):V("",!0)]))}}),L=g(ve,[["__scopeId","data-v-fd63510d"]]),ge=v({name:"ReviewOfSystems",components:{IonContent:G,IonPage:z,Toolbar:Z,NeonatalStepper:se,BowelMovementsSection:$,UrineOutputSection:q,GrowthSection:B,MouthOropharynxSection:E,AbdomenSection:U,MusculoskeletalSection:Q,SummarySection:L},setup(){const o=W(),u=ee(),{patient:t}=H(u),i="Review Of Systems",r=y("1"),n=y(!1),s=j({...ae});J(w,s);const l=y(c.map((h,_)=>({title:h.title,number:_+1,checked:!1,class:_===0?"open_step common_step":"common_step",last_step:_===c.length-1?"last_step":""}))),e=[{title:c[0].title,value:"1",component:$,configIndex:0},{title:c[1].title,value:"2",component:q,configIndex:1},{title:c[2].title,value:"3",component:B,configIndex:2},{title:c[3].title,value:"4",component:E,configIndex:3},{title:c[4].title,value:"5",component:U,configIndex:4},{title:c[5].title,value:"6",component:Q,configIndex:5},{title:c[6].title,value:"7",component:L,configIndex:6}];return{wizardData:l,stepperData:e,stepperTitle:i,currentOpenStepper:r,updateStatus:h=>{h&&h.value&&l.value.forEach((_,N)=>{h.value===(N+1).toString()?(_.class="open_step common_step",_.checked=!1):N<parseInt(h.value)-1?(_.class="common_step color_white",_.checked=!0):(_.class="common_step",_.checked=!1)})},getSaveFunction:h=>h===e.length-1?async()=>{var _;if(!((_=t.value)!=null&&_.patientID)){Y("No patient selected");return}if(!n.value)try{if(n.value=!0,!Object.values(s).some(f=>Array.isArray(f)?f.length>0:typeof f=="boolean"?f===!0:f!=null&&f!=="")){Y("Please complete at least one section of the review"),n.value=!1;return}await ne.saveReviewOfSystemsAssessment(t.value.patientID,s),oe("Review of systems saved successfully"),await new Promise(f=>setTimeout(f,500)),o.push({path:"/neonatal/SystemicExamination"})}catch(N){console.error("Failed to save review of systems",N),te("Failed to save review of systems. Please try again."),n.value=!1}}:null,neonatalReviewOfSystemsSections:c,isSaving:n}}});function we(o,u,t,i,r,n){const s=O("Toolbar"),l=O("NeonatalStepper"),e=O("ion-content"),a=O("ion-page");return p(),M(a,{class:"review-of-systems-page"},{default:A(()=>[b(s),b(e,{fullscreen:!0},{default:A(()=>[b(l,{wizardData:o.wizardData,StepperData:o.stepperData,stepperTitle:o.stepperTitle,openStepper:o.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:o.getSaveFunction,sectionsConfig:o.neonatalReviewOfSystemsSections,flowType:"reviewOfSystems",onUpdateStatus:o.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","sectionsConfig","onUpdateStatus"])]),_:1})]),_:1})}const xe=g(ge,[["render",we],["__scopeId","data-v-145347f4"]]);export{xe as default};
