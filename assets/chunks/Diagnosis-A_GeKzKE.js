import{_ as C,T}from"../index-CZmUzLTV.js";import{d as V,bl as A,e as m,f as u,m as k,k as e,l as y,j as F,u as S,J as w,Q as $,K as D,r as I,w as W,c as _,O as x,p as P,cy as O,f8 as U,D as z,bT as H,F as N,P as R,bE as B,br as E,a3 as K,a6 as L}from"./vendor-BEL70p3B.js";import{N as Y}from"./NeonatalStepper-Cwe_4LPT.js";import{V as J}from"./VueMultiselectStaticList-ChErFZmS.js";import{I as q}from"./images-DJIykHYW.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-c-NAnVx0.js";import"./SaveProgressModal-DmZEnZWT.js";import"./enrollment-DU-PLRUa.js";const G={class:"multiselect-header-wrapper"},Q={key:0,class:"question-header"},X={class:"selection-instruction"},Z={class:"custom__tag"},ee=["onClick"],se=V({name:"VueMultiselectStyledMulti",components:{VueMultiselect:A},__name:"VueMultiselectStyledMulti",props:{options:{type:Array,required:!0,validator:s=>s.every(o=>"label"in o&&"value"in o)},modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(s,{emit:o}){const a=o,p=()=>{a("update:modelValue",[])};return(c,d)=>(u(),m("div",G,[c.$slots.header?(u(),m("div",Q,[F(c.$slots,"header",{},void 0,!0)])):k("",!0),e("div",X,[d[1]||(d[1]=e("span",null,"Select one or more.",-1)),s.modelValue.length>0?(u(),m("button",{key:0,onClick:p,class:"clear-button",type:"button"}," Clear All ")):k("",!0)]),y(S(A),{"model-value":s.modelValue,"onUpdate:modelValue":d[0]||(d[0]=l=>a("update:modelValue",l)),options:s.options,"track-by":"value",label:"label",searchable:!0,multiple:!0,"close-on-select":!1,"hide-selected":!0},{tag:w(({option:l,remove:n})=>[e("span",Z,[e("span",null,D(l.label),1),e("span",{class:"custom__remove",onClick:f=>n(l)},"âŒ",8,ee)])]),placeholder:w(()=>[...d[2]||(d[2]=[$(" Select the appropriate diagnosis... ",-1)])]),_:1},8,["model-value","options"])]))}}),te=C(se,[["__scopeId","data-v-af068e5c"]]),ie={class:"selected-diagnoses-list"},ae={key:0,class:"empty-state"},oe=["src"],le={key:1,class:"rank-number"},ne={class:"item-label"},re=["onClick","aria-label","title"],de=V({__name:"SelectedDiagnosisDisplay",props:{items:{default:()=>[]},isDifferential:{type:Boolean,default:!1},allowDragging:{type:Boolean,default:!1}},emits:["remove-item","update:items"],setup(s,{emit:o}){const a=s,p=o,c=I([]),d=I(null);W(()=>a.items,i=>{i?c.value=[...i]:c.value=[]},{immediate:!0,deep:!0});const l=_(()=>({animation:250,disabled:!a.allowDragging||!a.isDifferential,ghostClass:"ghost",dragClass:"dragging-element",forceFallback:!0,fallbackTolerance:5,touchStartThreshold:5,delay:0,delayOnTouchOnly:!0})),n=i=>a.allowDragging&&a.isDifferential,f=i=>{i.oldIndex!==void 0&&c.value[i.oldIndex]&&(d.value=c.value[i.oldIndex].value)},h=i=>{p("update:items",c.value),d.value=null},v=i=>{p("remove-item",i)};return(i,r)=>(u(),m("div",ie,[!s.items||s.items.length===0?(u(),m("div",ae,[e("p",null,"No "+D(s.isDifferential?"differential":"working")+" diagnosis selected",1)])):(u(),x(S(U),O({key:1,modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=t=>c.value=t),"item-key":"value",handle:".drag-handle-wrapper",onStart:f,onEnd:h},l.value,{move:n}),{item:w(({element:t,index:g})=>[e("div",{class:P(["selected-item",{differential:s.isDifferential,"is-dragging":d.value===t.value,"draggable-enabled":s.allowDragging&&s.isDifferential}])},[s.allowDragging&&s.isDifferential?(u(),m("div",{key:0,class:P(["drag-handle-wrapper",{"is-active":d.value===t.value}]),title:"Drag to reorder"},[e("img",{src:S(q).icons.dragIcon,alt:"Drag to reorder",class:"drag-icon"},null,8,oe)],2)):k("",!0),s.isDifferential?(u(),m("span",le,"#"+D(g+1),1)):k("",!0),e("span",ne,D(t.label),1),e("button",{onClick:b=>v(t),class:"remove-button",type:"button","aria-label":"Remove "+t.label,title:"Remove "+t.label},[...r[1]||(r[1]=[e("span",{class:"trash-icon"},"ðŸ—‘ï¸",-1)])],8,re)],2)]),_:1},16,["modelValue"]))]))}}),M=C(de,[["__scopeId","data-v-6f381d34"]]),j=z("diagnosisStore",{state:()=>({workingDiagnosis:null,differentialDiagnoses:[],diagnosisNotes:""}),actions:{setWorkingDiagnosis(s){this.workingDiagnosis=s},setDifferentialDiagnoses(s){this.differentialDiagnoses=s},addDifferentialDiagnosis(s){this.differentialDiagnoses.some(o=>o.value===s.value)||this.differentialDiagnoses.push(s)},removeDifferentialDiagnosis(s){this.differentialDiagnoses=this.differentialDiagnoses.filter(o=>o.value!==s.value)},setDiagnosisNotes(s){this.diagnosisNotes=s},resetDiagnosisData(){this.$reset(),console.log("Diagnosis Store Data has been reset.")}},persist:!0}),ue={class:"diagnosis-selection-panel"},ce={class:"diagnosis-section"},ge={class:"diagnosis-section"},me=V({__name:"DiagnosisSelection",setup(s){const o=J,a=j(),p=[{label:"Hypoglycaemia (symptomatic)",value:"Hypo_S"},{label:"Abscess",value:"Abscess"},{label:"Fever",value:"Fever"},{label:"Birth Asphyxia",value:"Asphyxia"},{label:"Neonatal Sepsis (Early onset - Symptomatic)",value:"Sepsis_EoS"},{label:"Prematurity with Respiratory Distress",value:"Prem_RD"},{label:"Suspected Neonatal Sepsis",value:"Sepsis_Sus"},{label:"Possible Meconium Aspiration",value:"Meconium"}],c=_({get:()=>a.workingDiagnosis,set:v=>{a.setWorkingDiagnosis(v)}}),d=_(()=>a.workingDiagnosis?[a.workingDiagnosis]:[]),l=()=>{a.setWorkingDiagnosis(null)},n=_({get:()=>a.differentialDiagnoses,set:v=>{a.setDifferentialDiagnoses(v)}}),f=_(()=>a.differentialDiagnoses),h=v=>{a.removeDifferentialDiagnosis(v)};return(v,i)=>(u(),m("div",ue,[e("div",ce,[i[3]||(i[3]=e("div",{class:"description-box"}," Select the diagnoses you think the baby has (you can select more than 1) ",-1)),i[4]||(i[4]=e("h3",{class:"diagnosis-section-title"},"Your Selected Working Diagnosis",-1)),y(M,{items:d.value,onRemoveItem:l},null,8,["items"]),(u(),x(H(S(o)),{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=r=>c.value=r),options:p,class:"multiselect-component"},{header:w(()=>[...i[2]||(i[2]=[$(" Primary Diagnosis (Select ONE) ",-1)])]),_:1},8,["modelValue"]))]),i[7]||(i[7]=e("hr",{class:"separator"},null,-1)),e("div",ge,[i[6]||(i[6]=e("h3",{class:"diagnosis-section-title"},"Your Selected Differential Diagnosis",-1)),y(M,{items:f.value,"is-differential":!0,onRemoveItem:h},null,8,["items"]),y(te,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=r=>n.value=r),options:p,class:"multiselect-component"},{header:w(()=>[...i[5]||(i[5]=[$(" Differential Diagnoses ",-1)])]),_:1},8,["modelValue"])])]))}}),pe=C(me,[["__scopeId","data-v-b394e04e"]]),fe={class:"systems-suggestions-panel"},ve={class:"diagnosis-section"},De={class:"diagnosis-section"},be={class:"suggested-diagnosis-section"},_e={key:0,class:"empty-suggestions"},ye=["onClick","aria-label","onKeydown"],he={class:"suggestion-content"},ke={class:"suggestion-label"},Se={class:"suggestion-details"},we=["onClick","title","aria-label"],$e={key:0,class:"rejected-diagnosis-section"},Ve={class:"rejected-content"},Ie={class:"rejected-label"},Ce={class:"rejected-details"},Me=["onClick","title","aria-label"],Ne=V({__name:"SystemsSuggestions",setup(s){const o=j(),a=_(()=>o.workingDiagnosis?[o.workingDiagnosis]:[]),p=()=>{o.setWorkingDiagnosis(null)},c=r=>{o.removeDifferentialDiagnosis(r)},d=r=>{o.setDifferentialDiagnoses(r)},l=[{label:"Term with Respiratory Distress",value:"Term_RD",details:"Baby is term and showed one of the signs/risks of respiratory distress - this baby needs referral."},{label:"Mild Hypothermia",value:"Mild_Hypothermia",details:"Baby's temperature is recorded as 36 degrees up to 36.4 degrees."},{label:"Neonatal Jaundice",value:"Neonatal_Jaundice",details:"Baby shows signs of yellowing of skin or eyes within first week of life."}],n=_(()=>l.filter(r=>{const t=o.differentialDiagnoses.some(b=>b.value===r.value),g=f.value.some(b=>b.value===r.value);return!t&&!g})),f=I([]),h=r=>{o.addDifferentialDiagnosis({label:r.label,value:r.value})},v=r=>{f.value.push(r)},i=r=>{f.value=f.value.filter(t=>t.value!==r.value)};return(r,t)=>(u(),m("div",fe,[e("div",ve,[t[0]||(t[0]=e("h3",{class:"diagnosis-section-title"},"Your Selected Working Diagnosis",-1)),y(M,{items:a.value,"allow-dragging":!1,onRemoveItem:p},null,8,["items"])]),e("div",De,[t[1]||(t[1]=e("h3",{class:"diagnosis-section-title"},"Your Selected Differential Diagnosis",-1)),y(M,{items:S(o).differentialDiagnoses,"is-differential":!0,"allow-dragging":!0,onRemoveItem:c,"onUpdate:items":d},null,8,["items"])]),t[8]||(t[8]=e("p",{class:"suggestion-instruction"},[$(" Please consider the suggested diagnoses below. "),e("strong",null,"Click on a suggestion to add it to your differential diagnosis"),$(", or click the âŒ button to reject it. ")],-1)),e("div",be,[t[5]||(t[5]=e("h3",{class:"suggested-title"},"Suggested Diagnosis",-1)),n.value.length===0?(u(),m("div",_e,[...t[2]||(t[2]=[e("p",null,"No suggestions available",-1)])])):k("",!0),(u(!0),m(N,null,R(n.value,g=>(u(),m("div",{key:g.value,class:"suggestion-item",onClick:b=>h(g),role:"button",tabindex:"0","aria-label":"Add ".concat(g.label," to differential diagnosis"),onKeydown:[B(b=>h(g),["enter"]),B(E(b=>h(g),["prevent"]),["space"])]},[e("div",he,[e("p",ke,[t[3]||(t[3]=e("span",{class:"add-indicator"},"+",-1)),$(" "+D(g.label),1)]),e("p",Se,D(g.details),1)]),e("button",{onClick:E(b=>v(g),["stop"]),class:"suggestion-action-button reject-button",title:"Reject ".concat(g.label),"aria-label":"Reject ".concat(g.label)},[...t[4]||(t[4]=[e("span",{class:"cross-icon"},"âŒ",-1)])],8,we)],40,ye))),128))]),f.value.length>0?(u(),m("div",$e,[t[7]||(t[7]=e("h3",{class:"rejected-title"},"Rejected Diagnosis",-1)),(u(!0),m(N,null,R(f.value,g=>(u(),m("div",{key:g.value,class:"rejected-item"},[e("div",Ve,[e("p",Ie,D(g.label),1),e("p",Ce,D(g.details),1)]),e("button",{onClick:b=>i(g),class:"suggestion-action-button undo-button",title:"Restore ".concat(g.label),"aria-label":"Restore ".concat(g.label," to suggestions")},[...t[6]||(t[6]=[e("span",{class:"undo-icon"},"â†»",-1)])],8,Me)]))),128))])):k("",!0)]))}}),Re=C(Ne,[["__scopeId","data-v-e4816adc"]]),xe={class:"diagnosis-summary-panel"},je={class:"summary-section"},Ae={class:"diagnosis-list"},Pe={class:"diagnosis-item primary-item"},Be={class:"summary-section"},Ee={class:"diagnosis-list"},Te={key:0,class:"no-data-item"},Fe=V({__name:"DiagnosisSummary",setup(s){const o=j(),a=_(()=>{var c;return((c=o.workingDiagnosis)==null?void 0:c.label)||"(None selected)"}),p=_(()=>o.differentialDiagnoses);return(c,d)=>(u(),m("div",xe,[e("div",je,[d[0]||(d[0]=e("h2",{class:"section-title"},"Primary Diagnosis",-1)),e("div",Ae,[e("p",Pe,D(a.value),1)])]),e("div",Be,[d[1]||(d[1]=e("h2",{class:"section-title"},"Differential Diagnosis",-1)),e("div",Ee,[(u(!0),m(N,null,R(p.value,l=>(u(),m("p",{key:l.value,class:"diagnosis-item differential-item"},D(l.label),1))),128)),p.value.length?k("",!0):(u(),m("p",Te," (None selected) "))])])]))}}),We=C(Fe,[["__scopeId","data-v-60387580"]]),Ge=V({__name:"Diagnosis",setup(s){const o=I("1"),a=[{title:"Diagnosis",value:"1",component:pe},{title:"Systems Suggestions",value:"2",component:Re},{title:"Summary",value:"3",component:We}],p=I(a.map((l,n)=>({title:l.title,number:n+1,checked:!1,class:n===0?"open_step common_step":"common_step",last_step:n===a.length-1?"last_step":""}))),c=l=>{l&&l.value&&p.value.forEach((n,f)=>{l.value===(f+1).toString()?(n.class="open_step common_step",n.checked=!1):f<parseInt(l.value)-1?(n.class="common_step color_white",n.checked=!0):(n.class="common_step",n.checked=!1)})},d=l=>{const n=a.length-1;return l===n?()=>{}:()=>Promise.resolve()};return(l,n)=>(u(),x(S(L),{class:"neonatal-enrollment-page"},{default:w(()=>[y(T),y(S(K),{fullscreen:!0},{default:w(()=>[y(Y,{wizardData:p.value,StepperData:a,stepperTitle:"General Examination",openStepper:o.value,backUrl:"/patientProfile",getSaveFunction:d,onUpdateStatus:c,"flow-type":"enrollment","show-componet-title":!0},null,8,["wizardData","openStepper"])]),_:1})]),_:1}))}});export{Ge as default};
