import{d as Q,am as U,b2 as L,r as c,w as q,a as X,H as Y,O as Z,f as b,J as $,k as o,e as O,u as t,Q as s,K as r,l as h,d_ as ee,L as oe}from"./vendor-BTebhqHt.js";import{u as le,a as ne,b4 as re,P as se,b5 as te,b6 as p,H as g,b7 as ie,_ as ue}from"../index-Bgj4Spg5.js";const ae={style:{width:"97%",overflow:"scroll"}},me={key:0,class:"second_bar_list"},de={key:1,class:"second_bar_list"},pe=Q({__name:"DemographicBar",emits:["openPopover"],setup(ve,{emit:R}){const j=R;U();const F=le(),W=ne(),{patient:l}=L(F),{activeProgram:z,authorizedPrograms:fe}=L(W),a=c({}),I=c(""),f=c(),E=async(n,e)=>{var m,i,u,v;if(!(!n||!e)&&(m=l==null?void 0:l.value.personInformation)!=null&&m.gender&&(i=l==null?void 0:l.value.personInformation)!=null&&i.birthdate){const d=await ie.getBMI(parseInt(n),parseInt(e),(u=l==null?void 0:l.value.personInformation)==null?void 0:u.gender,g.calculateAge((v=l==null?void 0:l.value.personInformation)==null?void 0:v.birthdate,g.sessionDate()));I.value=d==null?void 0:d.index}},B=async()=>{let n=re("vitals");f.value=new se().getBloodGlucose(l.value);const e=te(n);a.value={weight:p(e,"Weight (kg)","value_numeric"),height:p(e,"Height (cm)","value_numeric"),temperature:p(e,"Temperature (c)","value_numeric"),pulse:p(e,"Pulse","value_numeric"),diastolic:p(e,"Diastolic blood pressure","value_numeric"),systolic:p(e,"Systolic blood pressure","value_numeric")},await E(a.value.weight,a.value.height)},y=()=>{var n,e;return g.getBirthdateAge((e=(n=l.value)==null?void 0:n.personInformation)==null?void 0:e.birthdate)},J=n=>{var m,i,u;return[(m=n==null?void 0:n.personInformation)==null?void 0:m.current_district,(i=n==null?void 0:n.personInformation)==null?void 0:i.current_traditional_authority,(u=n==null?void 0:n.personInformation)==null?void 0:u.current_village].filter(Boolean).join(",")};return q(()=>l,async()=>{await B()},{deep:!0}),X(async()=>{await B()}),(n,e)=>{const m=Y("ion-card");return b(),Z(m,{class:"second_bar",style:{display:"flex"}},{default:$(()=>{var i,u,v,d,D,_,w,N,C,P,S,k,x,M,G,V,A,H,T;return[o("div",ae,[t(z).program_id==32?(b(),O("ul",me,[o("li",null,[e[1]||(e[1]=s(" NCDNumber: ",-1)),o("b",null,r((i=t(l))==null?void 0:i.NcdID),1)]),o("li",null,[e[2]||(e[2]=s(" Birthday: ",-1)),o("b",null,r(y()),1)]),o("li",null,[e[3]||(e[3]=s(" Gender: ",-1)),o("b",null,r((v=(u=t(l))==null?void 0:u.personInformation)==null?void 0:v.gender),1)]),o("li",null,[e[4]||(e[4]=s(" Blood Pressure: ",-1)),o("b",null,r((d=a.value)==null?void 0:d.systolic)+"/"+r((D=a.value)==null?void 0:D.diastolic),1)]),o("li",null,[e[5]||(e[5]=s(" Blood Glucose: ",-1)),o("b",null,r((_=f.value)==null?void 0:_.value)+" "+r((w=f.value)==null?void 0:w.unit),1)]),o("li",null,[e[6]||(e[6]=s(" BMI: ",-1)),o("b",null,r(I.value),1)]),o("li",null,[e[7]||(e[7]=s(" Pulse rate: ",-1)),o("b",null,r((N=a.value)==null?void 0:N.pulse),1)]),o("li",null,[e[8]||(e[8]=s(" Temperature: ",-1)),o("b",null,r((C=a.value)==null?void 0:C.temperature),1)])])):(b(),O("ul",de,[o("li",null,[e[9]||(e[9]=s(" Fullname: ",-1)),o("b",null,r((S=(P=t(l))==null?void 0:P.personInformation)==null?void 0:S.given_name)+" "+r((x=(k=t(l))==null?void 0:k.personInformation)==null?void 0:x.middle_name)+" "+r((G=(M=t(l))==null?void 0:M.personInformation)==null?void 0:G.family_name),1)]),o("li",null,[e[10]||(e[10]=s(" NCDNumber: ",-1)),o("b",null,r((V=t(l))==null?void 0:V.NcdID),1)]),o("li",null,[e[11]||(e[11]=s(" MRN: ",-1)),o("b",null,r((A=t(l))==null?void 0:A.ID),1)]),o("li",null,[e[12]||(e[12]=s(" Birthday: ",-1)),o("b",null,r(y()),1)]),o("li",null,[e[13]||(e[13]=s(" Gender: ",-1)),o("b",null,r((T=(H=t(l))==null?void 0:H.personInformation)==null?void 0:T.gender),1)]),o("li",null,[e[14]||(e[14]=s(" Address: ",-1)),o("b",null,r(J(t(l))),1)])]))]),o("div",{style:{"margin-top":"15px",cursor:"pointer"},onClick:e[0]||(e[0]=K=>j("openPopover",K))},[h(t(oe),{icon:t(ee)},null,8,["icon"])])]}),_:1})}}}),ge=ue(pe,[["__scopeId","data-v-cc468f57"]]);export{ge as D};
