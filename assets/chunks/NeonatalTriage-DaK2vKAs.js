import{D as Re,r as R,c as B,d as h,eR as x,w as p,e as V,f as y,l as F,u as c,aU as ye,F as q,P as z,k as _,K as U,m as Ve,aR as be,L as K,aw as he,J as W,Q as G,N as J,b as Se,a3 as De,a6 as xe,an as Ie,cG as Te,bz as we,eS as Ce,H as j,O as $e}from"./vendor-BpjEhVym.js";import{aD as I,_ as S,T as ke,u as Ee,ci as Ne,G as Q,t as P,ag as O,ch as Oe,aY as Me}from"../index-BDuRxHcr.js";import{D as He}from"./DemographicBar-OCmZ9J-d.js";import{c as b,e as D,N as Ae,f as Be,t as je}from"./NeonatalStepper-BnBC8ms1.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-DMAoEdNS.js";import"./SaveProgressModal-Bf-2n_rs.js";import"./images-DJIykHYW.js";import"./enrollment-DU-PLRUa.js";const N=Re("neonatalTriage",()=>{const f=R({});function l(a,e){f.value={...f.value,[a]:e}}function o(a){f.value={...f.value,...a}}function n(a){f.value={...a}}function i(){f.value={}}const s=B(()=>{var a;return(a=f.value.crying)!=null?a:null}),r=B(()=>{var a;return(a=f.value.breathing)!=null?a:null});return{formValues:f,setField:l,patchValues:o,replaceValues:n,reset:i,crying:s,breathing:r}}),Pe={class:"triage-section-wrapper"},Le=h({__name:"EmergencyTriageSection",setup(f,{expose:l}){const o=R(null),n=b[0],i=n.formData,s=n.conditionalRules||[],r=x(D),a=N(),e=t=>{r&&(r.crying=t.crying||"",a.setField("crying",t.crying||""),a.setField("breathing",t.breathing||""))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),p(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(y(),V("div",Pe,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),X=S(Le,[["__scopeId","data-v-4feaf236"]]),Ue={class:"triage-section-wrapper"},We=h({__name:"BreathingAssessmentSection",setup(f,{expose:l}){const o=R(null),n=b[1],i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&(r.breathing=e.breathing)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),p(()=>o.value,e=>{e!=null&&e.getFormValues&&a(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Ue,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Z=S(We,[["__scopeId","data-v-ef50eec4"]]),Ge={class:"triage-section-wrapper"},Ye=h({__name:"EmergencyManagementSection",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Oxygen Saturation"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Ge,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),qe=S(Ye,[["__scopeId","data-v-3306617f"]]),ze={class:"triage-section-wrapper"},Ke=h({__name:"OxygenSaturationSection",setup(f,{expose:l}){const o=R(null),n=b[3],i=n.formData,s=n.conditionalRules||[],r=x(D),a=N(),e=t=>{r&&(Object.assign(r,t),a.setField("observations",t.observations))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(y(),V("div",ze,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ee=S(Ke,[["__scopeId","data-v-740aefb2"]]),Je={class:"triage-section-wrapper"},Qe=h({__name:"CentralCyanosisSection",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Emergency Management 3"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Je,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),te=S(Qe,[["__scopeId","data-v-0e2784f0"]]),Xe={class:"triage-section-wrapper"},Ze=h({__name:"ConvulsionsSection",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Emergency Management 4"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Xe,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),oe=S(Ze,[["__scopeId","data-v-78f15785"]]),et={class:"triage-section-wrapper"},tt=h({__name:"VitalSectionTwo",setup(f,{expose:l}){const o=R(null),n=b.find(t=>t.title==="Vital Signs 2"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=N(),e=t=>{r&&a.setField("saturation_in_oxygen",t.saturation_in_oxygen)};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),p(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(y(),V("div",et,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ae=S(tt,[["__scopeId","data-v-18df91a1"]]),ot={class:"triage-section-wrapper"},at=h({__name:"VitalSectionThree",setup(f,{expose:l}){const o=R(null),n=b.find(t=>t.title==="Vital Signs 3"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=N(),e=t=>{r&&(a.setField("temperature",t.temperature),a.setField("can_measure_temp",t.can_measure_temp))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),p(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(y(),V("div",ot,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ne=S(at,[["__scopeId","data-v-8f1c7b62"]]),nt={class:"summary-wrapper"},rt={class:"summary-card-body"},st={class:"summary-row-label"},it={class:"summary-row-value"},lt=h({__name:"TriageSummarySection",setup(f){const l=N(),{formValues:o}=ye(l),n={not_breathing:"Not breathing",hr_low:"Heart rate low",hr_fast:"Heart rate fast",gasping:"GASPING or irregular breathing",chest_indrawing:"Chest indrawing",floppy:"VERY FLOPPY (Normal breathing & HR)",stable:"stable"},i={None:"None",Convulsions_twitching:"Convulsions or twitching",grunting:"Grunting or Severe chest indrawing's",Central_cyanosis:"Central cyanosis"},s={none:"None",trunk_cold:"Trunk feels cold",capillary_refill:"Capillary refill >3 seconds",weak_pulse:"Weak femoral pulse"},r=g=>g==null||g===""?null:g===!0||g==="yes"?"(yes)":g===!1||g==="no"?"(no)":String(g),a=g=>g==null||g===""?null:String(g),e=(g,k)=>!Array.isArray(g)||g.length===0?null:g.map($=>{var d;const m=String($);return(d=k==null?void 0:k[m])!=null?d:m}).join("\n"),t=B(()=>{const g=o.value||{};return[{title:"Triage",items:[{label:"Is the baby crying?",value:r(g.crying)},{label:"Is the baby breathing?",value:e(g.breathing,n)},{label:"Observations",value:e(g.observations,i)},{label:"Present signs",value:e(g.present_signs,s)}]},{title:"Vitals",items:[{label:"Respiratory Rate",value:a(g.respiratory_rate)},{label:"Heart Rate (bpm)",value:a(g.heart_rate)},{label:"Oxygen Sats in Air (%)",value:a(g.oxygen_saturation_vital)},{label:"Saturations in Oxygen (%)",value:a(g.saturation_in_oxygen)},{label:"Temperature (degs C)",value:a(g.temperature)},{label:"Blood Sugar",value:g.blood_sugar?"".concat(g.blood_sugar," ").concat(g.bloodSugar_unit||"").trim():null},{label:"Admission Weight (kg)",value:a(g.admission_weight)},{label:"Birth Weight (kg)",value:a(g.birth_weight)},{label:"Head Circumference (cm)",value:a(g.head_circumference)}]}]}),u=B(()=>t.value.map(g=>({...g,items:g.items.filter(k=>k.value!==null&&k.value!=="")})).filter(g=>g.items.length>0));return(g,k)=>(y(),V("div",nt,[(y(!0),V(q,null,z(u.value,M=>(y(),V("div",{key:M.title,class:"summary-card"},[_("div",rt,[(y(!0),V(q,null,z(M.items,$=>(y(),V("div",{key:$.label,class:"summary-row"},[_("span",st,U($.label),1),_("span",it,U($.value),1)]))),128))])]))),128))]))}}),ct=S(lt,[["__scopeId","data-v-6aeaf1fc"]]),ut={class:"triage-section-wrapper"},mt=h({__name:"VitalSectionFour",setup(f,{expose:l}){const o=R(null),n=b.find(t=>t.title==="Vital Signs Four"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=N(),e=t=>{r&&(a.setField("admission_weight",t.admission_weight),a.setField("birth_weight",t.birth_weight),a.setField("head_circumference",t.head_circumference))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),p(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(y(),V("div",ut,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ft=S(mt,[["__scopeId","data-v-c3ef1c83"]]),dt={class:"triage-section-wrapper"},gt=h({__name:"TemperatureHight",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Temperature High"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&(r.crying=e.crying||"")};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),p(()=>o.value,e=>{e!=null&&e.getFormValues&&a(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",dt,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}},[_("p",null,"The temperature is too high!")],-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),re=S(gt,[["__scopeId","data-v-2f9d8428"]]),pt={class:"triage-section-wrapper"},_t={key:0,class:"triage-dialog-backdrop"},vt={class:"triage-dialog-card"},yt={class:"triage-dialog-header"},Ft={class:"triage-dialog-icon"},Rt={class:"triage-dialog-actions"},Vt=h({__name:"VitalBloodSugar",props:{stepIndex:{},goToNext:{type:Function},goToPrevious:{type:Function},goToStep:{type:Function}},setup(f,{expose:l}){const o=f,n=R(null),i=b.find(m=>m.title==="Emergency Triage Blood Sugar"),s=i.formData,r=i.conditionalRules||[],a=x(D),e=N(),t=R(!1),u=m=>{a&&(e.setField("can_measure_temp",m.can_measure_temp),e.setField("blood_sugar",m.bloodSugar),e.setField("bloodSugar_unit",m.bloodSugar_unit))};function g(){const m=e.formValues.bloodSugar_unit,d=Number(e.formValues.blood_sugar);if(m==="mg/dL"&&d<45||m==="mmol/L"&&d<2.5){t.value=!0;return}o.goToNext&&o.goToNext()}function k(){t.value=!1}function M(){const m=b.findIndex(d=>d.title==="Hypoglycemia-Asymptomatic");o.goToStep&&o.goToStep(m),t.value=!1}function $(){const m=b.findIndex(d=>d.title==="Hypoglycemia-Symptomatic");o.goToStep&&o.goToStep(m),t.value=!1}return p(()=>{var m;return(m=n.value)==null?void 0:m.formValues},m=>{m&&u(m)},{deep:!0}),p(()=>n.value,m=>{m!=null&&m.getFormValues&&u(m.getFormValues())},{immediate:!0}),l({getFormRef:()=>n.value,validateForm:()=>{var m,d;return((d=(m=n.value)==null?void 0:m.validateForm)==null?void 0:d.call(m))||null},getFormValues:()=>{var m,d;return((d=(m=n.value)==null?void 0:m.getFormValues)==null?void 0:d.call(m))||{}},openDialog:g}),(m,d)=>(y(),V("div",pt,[d[6]||(d[6]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}},"The temperature is too high!",-1)),F(I,{formData:c(s),conditionalRules:c(r),ref_key:"formRef",ref:n},null,8,["formData","conditionalRules"]),t.value?(y(),V("div",_t,[_("div",vt,[_("button",{class:"triage-dialog-close",type:"button",onClick:k},[F(c(K),{icon:c(be)},null,8,["icon"])]),_("div",yt,[_("div",Ft,[F(c(K),{icon:c(he)},null,8,["icon"])]),d[0]||(d[0]=_("h2",null,"Hypoglycemia?",-1))]),d[3]||(d[3]=_("div",{class:"triage-dialog-divider"},null,-1)),d[4]||(d[4]=_("p",{class:"triage-dialog-subtitle"},"The baby’s blood sugar is low.",-1)),d[5]||(d[5]=_("p",{class:"triage-dialog-body"},"Is the baby symptomatic? e.g Jittery, lethargic or not responding.",-1)),_("div",Rt,[F(c(J),{class:"triage-dialog-btn secondary",expand:"block",onClick:M},{default:W(()=>[...d[1]||(d[1]=[G(" NO ",-1)])]),_:1}),F(c(J),{class:"triage-dialog-btn primary",expand:"block",onClick:$},{default:W(()=>[...d[2]||(d[2]=[G(" YES ",-1)])]),_:1})])])])):Ve("",!0)]))}}),bt=S(Vt,[["__scopeId","data-v-592f7f49"]]),ht={class:"triage-section-wrapper"},St=h({__name:"EmergencyTriage",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Emergency Triage 1"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",ht,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}}," You may start measuring the vitals while continuing with the triage since the readings takes a while. ",-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),se=S(St,[["__scopeId","data-v-ef810f36"]]),Dt={class:"triage-section-wrapper"},xt=h({__name:"BabyDemographics",setup(f,{expose:l}){const o=R(null),n=b.find(t=>t.title==="Demographics"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=N(),e=t=>{r&&(Object.assign(r,t),a.setField("first_name",t.first_name),a.setField("last_name",t.last_name))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(y(),V("div",Dt,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),It=S(xt,[["__scopeId","data-v-f14b7f8a"]]),Tt={class:"triage-section-wrapper"},wt=h({__name:"HypoglycemiaSymptomatic",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Hypoglycemia-Symptomatic"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&(r.crying=e.crying||"")};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),p(()=>o.value,e=>{e!=null&&e.getFormValues&&a(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Tt,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Hypoglycemia - Symptomatic",-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Ct=S(wt,[["__scopeId","data-v-84bba3cb"]]),$t={class:"triage-section-wrapper"},kt=h({__name:"HypoglycemiaAsymptomatic",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Hypoglycemia-Asymptomatic"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&(r.crying=e.crying||"")};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),p(()=>o.value,e=>{e!=null&&e.getFormValues&&a(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",$t,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Hypoglycemia - Asymptomatic",-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Et=S(kt,[["__scopeId","data-v-d3132015"]]),Nt={class:"triage-section-wrapper"},Ot=h({__name:"EmergencyManagementTwo",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Emergency Management 2"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Nt,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}},"if not already on oxygen",-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Mt=S(Ot,[["__scopeId","data-v-ce21fbea"]]),Ht={class:"triage-section-wrapper"},At=h({__name:"EmergencyManagementSix",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Emergency Management 6"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Ht,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Bt=S(At,[["__scopeId","data-v-574bb0b2"]]),jt={class:"triage-section-wrapper"},Pt=h({__name:"EmergencyManagementSeven",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Emergency Management 7"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",jt,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ie=S(Pt,[["__scopeId","data-v-bda3a435"]]),Lt={class:"triage-section-wrapper"},Ut=h({__name:"EmergencyManagementEight",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Emergency Management 8"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Lt,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}},[_("p",null,"Mild Hypothermia = 36 - 36.4 degs C"),_("p",null,"Moderate Hypothermia = 32 - 35.9 degs C"),_("p",null,"Severe Hypothermia = 32 degs C")],-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Wt=S(Ut,[["__scopeId","data-v-5cf67fc3"]]),Gt={class:"triage-section-wrapper"},Yt=h({__name:"BabyRecoveredStillSevereRespiratory",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Baby Recovered"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Gt,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}},[_("p",null,[_("b",null,"The baby has recovered but still has severe respiratory distress and WILL require referral.")])],-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),qt=S(Yt,[["__scopeId","data-v-5f09a4b0"]]),zt={class:"triage-section-wrapper"},Kt=h({__name:"ConvulsionsVitalsSection",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Emergency Management Vitals"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",zt,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}},"If not already on oxygen",-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Jt=S(Kt,[["__scopeId","data-v-3b07968f"]]),Qt={class:"triage-section-wrapper"},Xt=h({__name:"ObservationsSection",setup(f,{expose:l}){const o=R(null),n=b[6],i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Qt,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),le=S(Xt,[["__scopeId","data-v-2983b80f"]]),Zt={class:"triage-section-wrapper"},eo=h({__name:"DangerSignsSection",setup(f,{expose:l}){const o=R(null),n=b[7],i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Zt,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ce=S(eo,[["__scopeId","data-v-12f5a202"]]),to={class:"triage-section-wrapper"},oo=h({__name:"SelectPresentSignsSection",setup(f,{expose:l}){const o=R(null),n=b[8],i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",to,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ue=S(oo,[["__scopeId","data-v-d23dc7b9"]]),ao={class:"triage-section-wrapper"},no=h({__name:"TrunkFeelsColdSection",setup(f,{expose:l}){const o=R(null),n=b[9],i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",ao,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),me=S(no,[["__scopeId","data-v-4c89bfca"]]),ro={class:"triage-section-wrapper"},so=h({__name:"KeepWarmSection",setup(f,{expose:l}){const o=R(null),n=b[10],i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",ro,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),fe=S(so,[["__scopeId","data-v-e7f9f90d"]]),io={class:"triage-section-wrapper"},lo={class:"respiratory-timer-body"},co={class:"respiratory-timer-time"},uo={class:"respiratory-timer-instruction"},Y=60,mo=h({__name:"VitalSignsSection",setup(f,{expose:l}){const o=R(null),n=b.find(v=>v.title==="Vital Signs"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=R(Y),e=R(!1),t=R(!1);let u=null;const g=B(()=>{const v=Math.floor(a.value/60).toString().padStart(2,"0"),T=(a.value%60).toString().padStart(2,"0");return"".concat(v,":").concat(T)}),k=B(()=>e.value?"TAP TO PAUSE COUNTDOWN":a.value===Y?"TAP TO START COUNTDOWN":a.value===0?"TAP TO RESTART COUNTDOWN":"TAP TO RESUME COUNTDOWN"),M=()=>{u===null&&(e.value=!0,t.value=!1,u=window.setInterval(()=>{a.value>0?a.value-=1:(e.value=!1,t.value=!0,u!==null&&(clearInterval(u),u=null))},1e3))},$=()=>{u!==null&&(clearInterval(u),u=null),e.value=!1},m=()=>{$(),a.value=Y,t.value=!1},d=()=>{e.value?$():(a.value===0&&m(),M())};Se(()=>{u!==null&&clearInterval(u)});const w=N(),H=v=>{r&&(Object.assign(r,v),w.setField("respiratory_rate",v.respiratory_rate),w.setField("heart_rate",v.heart_rate),w.setField("can_measure_oxygen_saturation",v.can_measure_oxygen_saturation),w.setField("oxygen_saturation_vital",v.oxygen_saturation_vital),w.setField("oxygen_facility_available",v.oxygen_facility_available))};return p(()=>{var v;return(v=o.value)==null?void 0:v.formValues},v=>{v&&H(v)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var v,T;return((T=(v=o.value)==null?void 0:v.validateForm)==null?void 0:T.call(v))||null},getFormValues:()=>{var v,T;return((T=(v=o.value)==null?void 0:v.getFormValues)==null?void 0:T.call(v))||{}}}),(v,T)=>(y(),V("div",io,[_("div",{class:"respiratory-timer-card",onClick:d},[T[0]||(T[0]=_("div",{class:"respiratory-timer-header"},"Respiratory  Rate Timer",-1)),_("div",lo,[_("div",co,U(g.value),1),_("div",uo,U(k.value),1)])]),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),L=S(mo,[["__scopeId","data-v-54fa99a2"]]),fo={class:"triage-section-wrapper"},go=h({__name:"RespiratoryDistressSection",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Danger Signs"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",fo,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Feel for 3 danger signs.",-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),de=S(go,[["__scopeId","data-v-e75e77c9"]]),po={class:"triage-section-wrapper"},_o=h({__name:"TemperatureHighSection",setup(f,{expose:l}){const o=R(null),n=b.find(t=>t.title==="Select Present Signs"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=N(),e=t=>{r&&(Object.assign(r,t),a.setField("present_signs",t.present_signs))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(y(),V("div",po,[F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ge=S(_o,[["__scopeId","data-v-b617adf2"]]),vo={class:"triage-section-wrapper"},yo=h({__name:"SecondVitalSignsSection",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Trunk Feels Cold"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",vo,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}},[_("p",null,"Mild Hypothermia = 36 - 36.4 degs C"),_("p",null,"Moderate Hypothermia = 32 - 35.9 degs C"),_("p",null,"Severe Hypothermia = 32 degs C")],-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),pe=S(yo,[["__scopeId","data-v-4a384fc4"]]),Fo={class:"triage-section-wrapper"},Ro=h({__name:"BloodSugarSection",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Emmergency Management 4"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Fo,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}}," This baby may be in Shock! See pg 74 COIN (NB. Don't give a bolus to a baby that has not responded to resuscitation) ",-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),_e=S(Ro,[["__scopeId","data-v-eec9c993"]]),Vo={class:"triage-section-wrapper"},bo=h({__name:"ReferralInstructionsSection",setup(f,{expose:l}){const o=R(null),n=b.find(e=>e.title==="Referral Instructions"),i=n.formData,s=n.conditionalRules||[],r=x(D),a=e=>{r&&(r.crying=e.crying||"")};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),p(()=>o.value,e=>{e!=null&&e.getFormValues&&a(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(y(),V("div",Vo,[t[0]||(t[0]=_("div",{style:{"background-color":"#fedf89",padding:"10px"}},[_("p",null,[_("b",null,"If oxygen is NOT available CALL referral hospital immediately "),G(" for guidance and if possible send the baby with accompanying health worker with bag valve mask (BVM) ventilation equipment. "),_("br"),_("br"),G(" Continue with the Neotree examination. ")])],-1)),F(I,{formData:c(i),conditionalRules:c(s),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ve=S(bo,[["__scopeId","data-v-d4742399"]]),ho=h({name:"NeonatalTriage",components:{IonPage:xe,IonContent:De,Toolbar:ke,DemographicBar:He,NeonatalStepper:Ae,EmergencyTriageSection:X,BreathingAssessmentSection:Z,EmergencyManagementSection:qe,OxygenSaturationSection:ee,CentralCyanosisSection:te,ConvulsionsSection:oe,ObservationsSection:le,DangerSignsSection:ce,SelectPresentSignsSection:ue,TrunkFeelsColdSection:me,KeepWarmSection:fe,VitalSignsSection:L,RespiratoryDistressSection:de,TemperatureHighSection:ge,SecondVitalSignsSection:pe,BloodSugarSection:_e,VitalsSignsSection:L,ReferralInstructionsSection:ve,VitalSectionThree:ne,VitalSectionTwo:ae,TemperatureHigh:re,EmergencyTriage:se,EmergencyManagementSeven:ie},setup(){var $;const f=Ie(),l=Te(),o=Ee(),{patient:n}=ye(o),i=()=>{const m=l.query.source;return Array.isArray(m)?m[0]:m},s=we({...Be,_hasPatient:!!(($=n.value)!=null&&$.patientID),_forceDemographics:i()==="dashboard"});Ce(D,s),p(()=>{var m;return(m=n.value)==null?void 0:m.patientID},m=>{s._hasPatient=!!m}),p(()=>i(),m=>{s._forceDemographics=m==="dashboard"});const r=R(b.map((m,d)=>({title:m.title,number:d+1,checked:!1,class:d===0?"open_step common_step":"common_step",last_step:d===b.length-1?"last_step":""}))),a=m=>b.findIndex(d=>d.title==m),e=[{title:"Emergency Triage",value:"1",component:X,configIndex:a("Emergency Triage")},{title:"Emergency Management",value:"2",component:Z,configIndex:a("Emergency Management 1")},{title:"Emergency Triage",value:"3",component:se,configIndex:a("Emergency Triage 1")},{title:"Oxygen Saturation",value:"4",component:ee,configIndex:a("Oxygen Saturation")},{title:"Emergency Management",value:"5",component:Mt,configIndex:a("Emergency Management 2")},{title:"Emergency Management",value:"6",component:te,configIndex:a("Emergency Management 3")},{title:"Emergency Management",value:"7",component:oe,configIndex:a("Emergency Management 4")},{title:"Central Cyanosis",value:"8",component:le,configIndex:a("Central Cyanosis")},{title:"Convulsions/Twitching",value:"9",component:ce,configIndex:a("Convulsions/Twitching")},{title:"Emergency Observations",value:"10",component:ue,configIndex:a("Emergency Observations")},{title:"Emergency Management",value:"11",component:me,configIndex:a("Emergency Management - Grunting/Indrawing")},{title:"Emergency Management",value:"12",component:fe,configIndex:a("Emergency Management - Central Cyanosis")},{title:"Emergency Management",value:"13",component:L,configIndex:a("Emergency Management - Convulsions")},{title:"Danger Signs",value:"14",component:de,configIndex:a("Danger Signs")},{title:"Select Present Signs",value:"15",component:ge,configIndex:a("Select Present Signs")},{title:"Trunk Feels Cold",value:"16",component:pe,configIndex:a("Trunk Feels Cold")},{title:"Emmergency Management 4",value:"17",component:_e,configIndex:a("Emmergency Management 4")},{title:"Vital Signs",value:"18",component:L,configIndex:a("Vital Signs")},{title:"Emergency Management 6",value:"19",component:Bt,configIndex:a("Emergency Management 6")},{title:"Referral Instructions",value:"19",component:ve,configIndex:a("Referral Instructions")},{title:"Emergency Management Vitals",value:"20",component:Jt,configIndex:a("Emergency Management Vitals")},{title:"Vital Signs",value:"21",component:ae,configIndex:a("Vital Signs 2")},{title:"Emergency Management",value:"21",component:ie,configIndex:a("Emergency Management 7")},{title:"Baby Recovered",value:"22",component:qt,configIndex:a("Baby Recovered")},{title:"Vital Signs",value:"23",component:ne,configIndex:a("Vital Signs 3")},{title:"Emergency Management",value:"24",component:Wt,configIndex:a("Emergency Management 8")},{title:"Temperature High",value:"25",component:re,configIndex:a("Temperature High")},{title:"Emergency Triage",value:"26",component:bt,configIndex:a("Emergency Triage Blood Sugar"),hasDialog:!0},{title:"Hypoglycemia Symptomatic",value:"27",component:Ct,configIndex:a("Hypoglycemia-Symptomatic")},{title:"Hypoglycemia-Asymptomatic",value:"28",component:Et,configIndex:a("Hypoglycemia-Asymptomatic")},{title:"Vital Signs",value:"29",component:ft,configIndex:a("Vital Signs Four")},{title:"Triage Summary",value:"30",component:ct,configIndex:a("Triage Summary")},{title:"Demographics",value:"31",component:It,configIndex:a("Demographics")}],t="Emergency Triage Assessment",u=R("1"),g=N();return{wizardData:r,stepperData:e,stepperTitle:t,currentOpenStepper:u,updateStatus:m=>{m&&m.value&&r.value.forEach((d,w)=>{m.value===(w+1).toString()?(d.class="open_step common_step",d.checked=!1):w<parseInt(m.value)-1?(d.class="common_step color_white",d.checked=!0):(d.class="common_step",d.checked=!1)})},getSaveFunction:m=>{if(console.log("formvalues",g.formValues),m===e.length-1)return async()=>{var d;try{const w={...s,...g.formValues};let H=(d=n.value)==null?void 0:d.patientID;if(!H&&w.first_name&&w.last_name)try{console.log("Creating temporary patient record for emergency triage:",{firstName:w.first_name,lastName:w.last_name});const T=new Ne,E={given_name:w.first_name,family_name:w.last_name,gender:"U",birthdate:new Date().toISOString().split("T")[0],birthdate_estimated:1},C=[];H=(await T.registerPatient(E,C)).patient_id,console.log("Temporary patient created with ID:",H),Q("Temporary patient created: ".concat(w.first_name," ").concat(w.last_name))}catch(T){console.error("Failed to create temporary patient:",T),P("Could not create patient record. Please register patient first.");return}const v=[];for(const[T,E]of Object.entries(je)){const C=w[T];if(!(C==null||C===""))try{if(T==="respiratory_rate"||T==="heart_rate"||T==="oxygen_saturation_vital"||T==="saturation_in_oxygen")v.push(await O.buildValueNumber(E,Number(C)));else if(T==="temperature")v.push(await O.buildValueNumber(E,Number(C)));else if(T==="admission_weight")v.push(await O.buildValueNumber(E,Number(C)/1e3));else if(T==="birth_weight")v.push(await O.buildValueNumber("Birth weight",Number(C)));else if(T==="head_circumference")v.push(await O.buildValueNumber(E,Number(C)));else if(T==="blood_sugar"){const A=Number(C),Fe=(w.bloodSugar_unit||"mg/dL")==="mmol/L"?A*18.0182:A;v.push(await O.buildValueNumber(E,Fe))}else if(T==="can_measure_oxygen_saturation"||T==="can_measure_temp")v.push(await O.buildValueCoded(E,C?"Yes":"No"));else if(Array.isArray(C))v.push(await O.buildValueText(E,C.join(", ")));else if(typeof C=="string")try{v.push(await O.buildValueCoded(E,C))}catch(A){v.push(await O.buildValueText(E,C))}}catch(A){console.warn("Failed to build observation for ".concat(T,":"),A)}}if(!H){P("No patient selected or created. Please provide patient demographics or select a patient.");return}v.length>0?(await Oe(H,Me.NEONATAL_TRIAGE,v),Q("Emergency triage assessment completed successfully")):P("No triage data to save"),f.push({path:"/NeonatalHome"})}catch(w){console.error("Failed to save triage assessment",w),P("Failed to save triage assessment")}}}}}});function So(f,l,o,n,i,s){const r=j("Toolbar"),a=j("NeonatalStepper"),e=j("ion-content"),t=j("ion-page");return y(),$e(t,{class:"neonatal-triage-page"},{default:W(()=>[F(r),F(e,{fullscreen:!0},{default:W(()=>[F(a,{wizardData:f.wizardData,StepperData:f.stepperData,stepperTitle:f.stepperTitle,openStepper:f.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:f.getSaveFunction,onUpdateStatus:f.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","onUpdateStatus"])]),_:1})]),_:1})}const Oo=S(ho,[["render",So],["__scopeId","data-v-10a12aa5"]]);export{Oo as default};
