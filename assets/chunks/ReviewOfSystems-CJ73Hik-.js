import{d as y,r as v,eN as R,w as _,e as b,f as p,l as g,u,c as x,O as k,m as I,a6 as q,a3 as z,an as P,aV as j,by as E,eO as G,H as D,J as O}from"./vendor-v_5UaDDk.js";import{aC as w,_ as h,cg as H,ch as J,T as K,u as W,t as $,G as L,s as Q}from"../index-C8cssZLO.js";import{i,j as S,N as X,k as Y}from"./NeonatalStepper-2_qbiWZE.js";import{N as Z}from"./neonatal_service-BmbxUdPS.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-Cw3il1Pz.js";import"./SaveProgressModal-C7AK-dgz.js";import"./images-CiU2O8T9.js";const ee={class:"review-of-systems-section-wrapper"},oe=y({__name:"BowelMovementsSection",setup(c,{expose:m}){const o=v(null),s=i[0],l=s.formData,r=s.conditionalRules||[],t=R(S),n=e=>{t&&(t.is_baby_vomiting=e.is_baby_vomiting||"",t.frequency_of_vomiting=e.frequency_of_vomiting||"",t.passage_of_meconium=e.passage_of_meconium||"",t.frequency_of_stooling=e.frequency_of_stooling||"",t.color_of_stools=e.color_of_stools||"",t.consistency_of_stools=e.consistency_of_stools||"",t.blood_in_stools=e.blood_in_stools||"",t.mucus_in_stools=e.mucus_in_stools||"")};return _(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),_(()=>o.value,e=>{e!=null&&e.getFormValues&&n(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),b("div",ee,[g(w,{formData:u(l),conditionalRules:u(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),C=h(oe,[["__scopeId","data-v-6b71ffe3"]]),te={class:"review-of-systems-section-wrapper"},ae=y({__name:"UrineOutputSection",setup(c,{expose:m}){const o=v(null),s=i[1],l=s.formData,r=s.conditionalRules||[],t=R(S),n=e=>{t&&(t.is_baby_passing_urine=e.is_baby_passing_urine||"",t.number_of_wet_nappies=e.number_of_wet_nappies||"",t.color_of_urine=e.color_of_urine||"",t.volume_ml=e.volume_ml||"")};return _(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),_(()=>o.value,e=>{e!=null&&e.getFormValues&&n(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),b("div",te,[g(w,{formData:u(l),conditionalRules:u(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),T=h(ae,[["__scopeId","data-v-ae40b2d0"]]),se={class:"review-of-systems-section-wrapper"},ne=y({__name:"GrowthSection",setup(c,{expose:m}){const o=v(null),s=i[2],l=s.formData,r=s.conditionalRules||[],t=R(S),n=e=>{t&&(t.weight_trend_since_birth=e.weight_trend_since_birth||"")};return _(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),_(()=>o.value,e=>{e!=null&&e.getFormValues&&n(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),b("div",se,[g(w,{formData:u(l),conditionalRules:u(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),N=h(ne,[["__scopeId","data-v-d18b28f7"]]),re={class:"review-of-systems-section-wrapper"},le=y({__name:"MouthOropharynxSection",setup(c,{expose:m}){const o=v(null),s=i[3],l=s.formData,r=s.conditionalRules||[],t=R(S),n=e=>{t&&(t.does_baby_have_oral_thrush=e.does_baby_have_oral_thrush||"",t.does_baby_have_oral_sores=e.does_baby_have_oral_sores||"",t.does_baby_have_tongue_tie=e.does_baby_have_tongue_tie||"")};return _(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),_(()=>o.value,e=>{e!=null&&e.getFormValues&&n(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),b("div",re,[g(w,{formData:u(l),conditionalRules:u(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),A=h(le,[["__scopeId","data-v-a2bf5654"]]),ie={class:"review-of-systems-section-wrapper"},ce=y({__name:"AbdomenSection",setup(c,{expose:m}){const o=v(null),s=i[4],l=s.formData,r=s.conditionalRules||[],t=R(S),n=e=>{t&&(t.abdominal_distension=e.abdominal_distension||"",t.abdominal_pain=e.abdominal_pain||"",t.umbilical_condition=e.umbilical_condition||"")};return _(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),_(()=>o.value,e=>{e!=null&&e.getFormValues&&n(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),b("div",ie,[g(w,{formData:u(l),conditionalRules:u(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),M=h(ce,[["__scopeId","data-v-f42ebbfa"]]),me={class:"review-of-systems-section-wrapper"},ue=y({__name:"MusculoskeletalSection",setup(c,{expose:m}){const o=v(null),s=i[5],l=s.formData,r=s.conditionalRules||[],t=R(S),n=e=>{t&&(t.skin_rash=e.skin_rash||"",t.talipes=e.talipes||"",t.extra_digits=e.extra_digits||"",t.spinal_bifida=e.spinal_bifida||"")};return _(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),_(()=>o.value,e=>{e!=null&&e.getFormValues&&n(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(p(),b("div",me,[g(w,{formData:u(l),conditionalRules:u(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),B=h(ue,[["__scopeId","data-v-d41ae811"]]),fe={class:"review-of-systems-section-wrapper"},_e=y({__name:"SummarySection",setup(c,{expose:m}){const o=i[6],s=x(()=>o.formData.find(t=>t.componentType==="Alert")),l=x(()=>o.formData.find(t=>t.componentType==="summaryField")),r=R(S);return m({getFormRef:()=>null,validateForm:()=>null,getFormValues:()=>({...r||{}})}),(t,n)=>(p(),b("div",fe,[s.value?(p(),k(H,{key:0,config:s.value,allFormValues:u(r)||{}},null,8,["config","allFormValues"])):I("",!0),l.value?(p(),k(J,{key:1,config:l.value,allFormValues:u(r)||{}},null,8,["config","allFormValues"])):I("",!0)]))}}),U=h(_e,[["__scopeId","data-v-fd63510d"]]),pe=y({name:"ReviewOfSystems",components:{IonContent:z,IonPage:q,Toolbar:K,NeonatalStepper:X,BowelMovementsSection:C,UrineOutputSection:T,GrowthSection:N,MouthOropharynxSection:A,AbdomenSection:M,MusculoskeletalSection:B,SummarySection:U},setup(){const c=P(),m=W(),{patient:o}=j(m),s="Review Of Systems",l=v("1"),r=v(!1),t=E({...Y});G(S,t);const n=v(i.map((F,f)=>({title:F.title,number:f+1,checked:!1,class:f===0?"open_step common_step":"common_step",last_step:f===i.length-1?"last_step":""}))),e=[{title:i[0].title,value:"1",component:C,configIndex:0},{title:i[1].title,value:"2",component:T,configIndex:1},{title:i[2].title,value:"3",component:N,configIndex:2},{title:i[3].title,value:"4",component:A,configIndex:3},{title:i[4].title,value:"5",component:M,configIndex:4},{title:i[5].title,value:"6",component:B,configIndex:5},{title:i[6].title,value:"7",component:U,configIndex:6}];return{wizardData:n,stepperData:e,stepperTitle:s,currentOpenStepper:l,updateStatus:F=>{F&&F.value&&n.value.forEach((f,V)=>{F.value===(V+1).toString()?(f.class="open_step common_step",f.checked=!1):V<parseInt(F.value)-1?(f.class="common_step color_white",f.checked=!0):(f.class="common_step",f.checked=!1)})},getSaveFunction:F=>F===e.length-1?async()=>{var f;if(!((f=o.value)!=null&&f.patientID)){$("No patient selected");return}if(!r.value)try{if(r.value=!0,!Object.values(t).some(d=>Array.isArray(d)?d.length>0:typeof d=="boolean"?d===!0:d!=null&&d!=="")){$("Please complete at least one section of the review"),r.value=!1;return}await Z.saveReviewOfSystemsAssessment(o.value.patientID,t),L("Review of systems saved successfully"),await new Promise(d=>setTimeout(d,500)),c.push({path:"/neonatal/SystemicExamination"})}catch(V){console.error("Failed to save review of systems",V),Q("Failed to save review of systems. Please try again."),r.value=!1}}:null,neonatalReviewOfSystemsSections:i,isSaving:r}}});function de(c,m,o,s,l,r){const t=D("Toolbar"),n=D("NeonatalStepper"),e=D("ion-content"),a=D("ion-page");return p(),k(a,{class:"review-of-systems-page"},{default:O(()=>[g(t),g(e,{fullscreen:!0},{default:O(()=>[g(n,{wizardData:c.wizardData,StepperData:c.stepperData,stepperTitle:c.stepperTitle,openStepper:c.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:c.getSaveFunction,sectionsConfig:c.neonatalReviewOfSystemsSections,flowType:"reviewOfSystems",onUpdateStatus:c.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","sectionsConfig","onUpdateStatus"])]),_:1})]),_:1})}const Ve=h(pe,[["render",de],["__scopeId","data-v-145347f4"]]);export{Ve as default};
