import{d as E,r as _,b6 as b,cU as x,c as T,w as C,a as D,n as m,b as O,e as c,f as d,l as R,J as B,k as h,F as S,P as $,K as j,u as H,p as L}from"./vendor-Cjwp4qqF.js";import{_ as V}from"../index-uLfD1MGe.js";const A=E({__name:"ReusableDataTable",props:{headers:{},data:{},options:{default:()=>({})},actionHandlers:{default:()=>({})},containerClass:{default:"ion-padding"}},setup(s,{expose:g}){const n=s,o=_(null);let r=!1;b.use(x);const k={responsive:!0,select:!1,layout:{topStart:"buttons",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},ordering:!1,buttons:[]},v=T(()=>({...k,...n.options})),i=()=>{var e;const t=(e=o.value)==null?void 0:e.dt;!t||r||(t.columns.adjust().draw(),Object.entries(n.actionHandlers).forEach(([a,w])=>{t.off("click",".".concat(a)),t.on("click",".".concat(a),async l=>{l.stopPropagation(),l.preventDefault();const f=l.target.closest(".".concat(a));if(f){const p=f.getAttribute("data-id"),y=p?JSON.parse(p):null;await w(y)}})}),r=!0)},u=()=>{var e;const t=(e=o.value)==null?void 0:e.dt;t&&Object.keys(n.actionHandlers).forEach(a=>{t.off("click",".".concat(a))}),r=!1};return C(()=>n.data,async()=>{await m(),u(),i()},{deep:!0}),D(async()=>{await m(),i()}),O(()=>{u()}),g({dataTableRef:o}),(t,e)=>(d(),c("div",{class:L(["table-responsive",s.containerClass])},[R(H(b),{ref_key:"dataTableRef",ref:o,options:v.value,data:s.data,class:"display nowrap modern-table",width:"100%"},{default:B(()=>[h("thead",null,[h("tr",null,[(d(!0),c(S,null,$(s.headers,a=>(d(),c("th",{key:a},j(a),1))),128))])])]),_:1},8,["options","data"])],2))}}),P=V(A,[["__scopeId","data-v-1968b5d1"]]);export{P as R};
