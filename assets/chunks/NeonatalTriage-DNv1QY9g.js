import{d as h,r as R,eT as x,w as f,e as F,f as v,l as y,u as l,aV as Ee,c as Q,F as ce,P as ue,k as d,K as X,m as Oe,aS as Ne,L as me,ax as Me,J as Z,Q as ee,N as fe,b as He,a3 as Ae,a6 as Be,ao as je,cp as Pe,bA as Le,eU as Ue,H as K,O as We}from"./vendor-BolvhNQv.js";import{aD as I,_ as V,T as Ye,u as Ge,cj as ze,t as re,H as qe,ag as Y,ci as Ke,b3 as Je,G as Qe}from"../index-tYOBQoko.js";import{D as Xe}from"./DemographicBar-y2oRJtka.js";import{c as b,e as D,u as M,N as Ze,f as et,t as tt}from"./NeonatalStepper-CxL8N72W.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-Go-aTq24.js";import"./SaveProgressModal-DLLGu8-a.js";import"./images-DJIykHYW.js";import"./enrollment-DU-PLRUa.js";const ot={class:"triage-section-wrapper"},at=h({__name:"EmergencyTriageSection",setup(g,{expose:c}){const o=R(null),a=b[0],s=a.formData,i=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&(n.crying=t.crying||"",r.setField("crying",t.crying||""),r.setField("breathing",t.breathing||""))};return f(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),f(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),F("div",ot,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),de=V(at,[["__scopeId","data-v-4feaf236"]]),nt={class:"triage-section-wrapper"},rt=h({__name:"BreathingAssessmentSection",setup(g,{expose:c}){const o=R(null),a=b[1],s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&(n.breathing=e.breathing)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",nt,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ge=V(rt,[["__scopeId","data-v-ef50eec4"]]),st={class:"triage-section-wrapper"},it=h({__name:"EmergencyManagementSection",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Oxygen Saturation"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",st,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),lt=V(it,[["__scopeId","data-v-3306617f"]]),ct={class:"triage-section-wrapper"},ut=h({__name:"OxygenSaturationSection",setup(g,{expose:c}){const o=R(null),a=b[3],s=a.formData,i=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&(Object.assign(n,t),r.setField("observations",t.observations))};return f(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),F("div",ct,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),pe=V(ut,[["__scopeId","data-v-740aefb2"]]),mt={class:"triage-section-wrapper"},ft=h({__name:"CentralCyanosisSection",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Emergency Management 3"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",mt,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),_e=V(ft,[["__scopeId","data-v-0e2784f0"]]),dt={class:"triage-section-wrapper"},gt=h({__name:"ConvulsionsSection",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Emergency Management 4"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",dt,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ve=V(gt,[["__scopeId","data-v-78f15785"]]),pt={class:"triage-section-wrapper"},_t=h({__name:"VitalSectionTwo",setup(g,{expose:c}){const o=R(null),a=b.find(t=>t.title==="Vital Signs 2"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&r.setField("saturation_in_oxygen",t.saturation_in_oxygen)};return f(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),f(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),F("div",pt,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ye=V(_t,[["__scopeId","data-v-18df91a1"]]),vt={class:"triage-section-wrapper"},yt=h({__name:"VitalSectionThree",setup(g,{expose:c}){const o=R(null),a=b.find(t=>t.title==="Vital Signs 3"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&(r.setField("temperature",t.temperature),r.setField("can_measure_temp",t.can_measure_temp))};return f(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),f(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),F("div",vt,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Fe=V(yt,[["__scopeId","data-v-8f1c7b62"]]),Ft={class:"summary-wrapper"},Rt={class:"summary-card-body"},St={class:"summary-row-label"},bt={class:"summary-row-value"},ht=h({__name:"TriageSummarySection",setup(g){const c=M(),{formValues:o}=Ee(c),a={not_breathing:"Not breathing",hr_low:"Heart rate low",hr_fast:"Heart rate fast",gasping:"GASPING or irregular breathing",chest_indrawing:"Chest indrawing",floppy:"VERY FLOPPY (Normal breathing & HR)",stable:"stable"},s={None:"None",Convulsions_twitching:"Convulsions or twitching",grunting:"Grunting or Severe chest indrawing's",Central_cyanosis:"Central cyanosis"},i={none:"None",trunk_cold:"Trunk feels cold",capillary_refill:"Capillary refill >3 seconds",weak_pulse:"Weak femoral pulse"},n=m=>m==null||m===""?null:m===!0||m==="yes"?"(yes)":m===!1||m==="no"?"(no)":String(m),r=m=>m==null||m===""?null:String(m),e=(m,k)=>!Array.isArray(m)||m.length===0?null:m.map(O=>{var S;const p=String(O);return(S=k==null?void 0:k[p])!=null?S:p}).join("\n"),t=Q(()=>{const m=o.value||{};return[{title:"Triage",items:[{label:"Is the baby crying?",value:n(m.crying)},{label:"Is the baby breathing?",value:e(m.breathing,a)},{label:"Observations",value:e(m.observations,s)},{label:"Present signs",value:e(m.present_signs,i)}]},{title:"Vitals",items:[{label:"Respiratory Rate",value:r(m.respiratory_rate)},{label:"Heart Rate (bpm)",value:r(m.heart_rate)},{label:"Oxygen Sats in Air (%)",value:r(m.oxygen_saturation_vital)},{label:"Saturations in Oxygen (%)",value:r(m.saturation_in_oxygen)},{label:"Temperature (degs C)",value:r(m.temperature)},{label:"Blood Sugar",value:m.blood_sugar?"".concat(m.blood_sugar," ").concat(m.bloodSugar_unit||"").trim():null},{label:"Admission Weight (kg)",value:r(m.admission_weight)},{label:"Birth Weight (kg)",value:r(m.birth_weight)},{label:"Head Circumference (cm)",value:r(m.head_circumference)}]}]}),u=Q(()=>t.value.map(m=>({...m,items:m.items.filter(k=>k.value!==null&&k.value!=="")})).filter(m=>m.items.length>0));return(m,k)=>(v(),F("div",Ft,[(v(!0),F(ce,null,ue(u.value,H=>(v(),F("div",{key:H.title,class:"summary-card"},[d("div",Rt,[(v(!0),F(ce,null,ue(H.items,O=>(v(),F("div",{key:O.label,class:"summary-row"},[d("span",St,X(O.label),1),d("span",bt,X(O.value),1)]))),128))])]))),128))]))}}),Vt=V(ht,[["__scopeId","data-v-6aeaf1fc"]]),Dt={class:"triage-section-wrapper"},xt=h({__name:"VitalSectionFour",setup(g,{expose:c}){const o=R(null),a=b.find(t=>t.title==="Vital Signs Four"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&(r.setField("admission_weight",t.admission_weight),r.setField("birth_weight",t.birth_weight),r.setField("head_circumference",t.head_circumference))};return f(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),f(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),F("div",Dt,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),It=V(xt,[["__scopeId","data-v-c3ef1c83"]]),Tt={class:"triage-section-wrapper"},wt=h({__name:"TemperatureHight",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Temperature High"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&(n.crying=e.crying||"")};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",Tt,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}},[d("p",null,"The temperature is too high!")],-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Re=V(wt,[["__scopeId","data-v-2f9d8428"]]),Ct={class:"triage-section-wrapper"},kt={key:0,class:"triage-dialog-backdrop"},$t={class:"triage-dialog-card"},Et={class:"triage-dialog-header"},Ot={class:"triage-dialog-icon"},Nt={class:"triage-dialog-actions"},Mt=h({__name:"VitalBloodSugar",props:{stepIndex:{},goToNext:{type:Function},goToPrevious:{type:Function},goToStep:{type:Function}},setup(g,{expose:c}){const o=g,a=R(null),s=b.find(p=>p.title==="Emergency Triage Blood Sugar"),i=s.formData,n=s.conditionalRules||[],r=x(D),e=M(),t=R(!1),u=p=>{r&&(e.setField("can_measure_blood_sugar",p.can_measure_blood_sugar),e.setField("blood_sugar",p.bloodSugar),e.setField("bloodSugar_unit",p.bloodSugar_unit))};function m(){const p=e.formValues.bloodSugar_unit,S=Number(e.formValues.blood_sugar);if(p==="mg/dL"&&S<45||p==="mmol/L"&&S<2.5){t.value=!0;return}o.goToNext&&o.goToNext()}function k(){t.value=!1}function H(){const p=b.findIndex(S=>S.title==="Hypoglycemia-Asymptomatic");o.goToStep&&o.goToStep(p),t.value=!1}function O(){const p=b.findIndex(S=>S.title==="Hypoglycemia-Symptomatic");o.goToStep&&o.goToStep(p),t.value=!1}return f(()=>{var p;return(p=a.value)==null?void 0:p.formValues},p=>{p&&u(p)},{deep:!0}),f(()=>a.value,p=>{p!=null&&p.getFormValues&&u(p.getFormValues())},{immediate:!0}),c({getFormRef:()=>a.value,validateForm:()=>{var p,S;return((S=(p=a.value)==null?void 0:p.validateForm)==null?void 0:S.call(p))||null},getFormValues:()=>{var p,S;return((S=(p=a.value)==null?void 0:p.getFormValues)==null?void 0:S.call(p))||{}},openDialog:m}),(p,S)=>(v(),F("div",Ct,[S[6]||(S[6]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Check Blood Sugar.",-1)),y(I,{formData:l(i),conditionalRules:l(n),ref_key:"formRef",ref:a},null,8,["formData","conditionalRules"]),t.value?(v(),F("div",kt,[d("div",$t,[d("button",{class:"triage-dialog-close",type:"button",onClick:k},[y(l(me),{icon:l(Ne)},null,8,["icon"])]),d("div",Et,[d("div",Ot,[y(l(me),{icon:l(Me)},null,8,["icon"])]),S[0]||(S[0]=d("h2",null,"Hypoglycemia?",-1))]),S[3]||(S[3]=d("div",{class:"triage-dialog-divider"},null,-1)),S[4]||(S[4]=d("p",{class:"triage-dialog-subtitle"},"The baby’s blood sugar is low.",-1)),S[5]||(S[5]=d("p",{class:"triage-dialog-body"},"Is the baby symptomatic? e.g Jittery, lethargic or not responding.",-1)),d("div",Nt,[y(l(fe),{class:"triage-dialog-btn secondary",expand:"block",onClick:H},{default:Z(()=>[...S[1]||(S[1]=[ee(" NO ",-1)])]),_:1}),y(l(fe),{class:"triage-dialog-btn primary",expand:"block",onClick:O},{default:Z(()=>[...S[2]||(S[2]=[ee(" YES ",-1)])]),_:1})])])])):Oe("",!0)]))}}),Ht=V(Mt,[["__scopeId","data-v-33ed2968"]]),At={class:"triage-section-wrapper"},Bt=h({__name:"EmergencyTriage",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Emergency Triage 1"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",At,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}}," You may start measuring the vitals while continuing with the triage since the readings takes a while. ",-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Se=V(Bt,[["__scopeId","data-v-ef810f36"]]),jt={class:"triage-section-wrapper"},Pt=h({__name:"BabyDemographics",setup(g,{expose:c}){const o=R(null),a=b.find(t=>t.title==="Demographics"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&(Object.assign(n,t),r.setField("first_name",t.first_name),r.setField("last_name",t.last_name))};return f(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),F("div",jt,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Lt=V(Pt,[["__scopeId","data-v-f14b7f8a"]]),Ut={class:"triage-section-wrapper"},Wt=h({__name:"HypoglycemiaSymptomatic",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Hypoglycemia-Symptomatic"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&(n.crying=e.crying||"")};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",Ut,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Hypoglycemia - Symptomatic",-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Yt=V(Wt,[["__scopeId","data-v-84bba3cb"]]),Gt={class:"triage-section-wrapper"},zt=h({__name:"HypoglycemiaAsymptomatic",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Hypoglycemia-Asymptomatic"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&(n.crying=e.crying||"")};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",Gt,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Hypoglycemia - Asymptomatic",-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),qt=V(zt,[["__scopeId","data-v-d3132015"]]),Kt={class:"triage-section-wrapper"},Jt=h({__name:"EmergencyManagementTwo",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Emergency Management 2"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",Kt,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}},"if not already on oxygen",-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Qt=V(Jt,[["__scopeId","data-v-ce21fbea"]]),Xt={class:"triage-section-wrapper"},Zt=h({__name:"EmergencyManagementSix",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Emergency Management 6"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",Xt,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),eo=V(Zt,[["__scopeId","data-v-574bb0b2"]]),to={class:"triage-section-wrapper"},oo=h({__name:"EmergencyManagementSeven",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Emergency Management 7"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",to,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),be=V(oo,[["__scopeId","data-v-bda3a435"]]),ao={class:"triage-section-wrapper"},no=h({__name:"EmergencyManagementEight",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Temperature Low - Warm The Baby"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",ao,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}},[d("p",null,"Mild Hypothermia = 36 - 36.4 degs C"),d("p",null,"Moderate Hypothermia = 32 - 35.9 degs C"),d("p",null,"Severe Hypothermia = 32 degs C")],-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ro=V(no,[["__scopeId","data-v-708783bf"]]),so={class:"triage-section-wrapper"},io=h({__name:"BabyRecoveredStillSevereRespiratory",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Baby Recovered"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",so,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}},[d("p",null,[d("b",null,"The baby has recovered but still has severe respiratory distress and WILL require referral.")])],-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),lo=V(io,[["__scopeId","data-v-5f09a4b0"]]),co={class:"triage-section-wrapper"},uo=h({__name:"ConvulsionsVitalsSection",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Emergency Management Vitals"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",co,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}},"If not already on oxygen",-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),mo=V(uo,[["__scopeId","data-v-3b07968f"]]),fo={class:"triage-section-wrapper"},go=h({__name:"ObservationsSection",setup(g,{expose:c}){const o=R(null),a=b[6],s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",fo,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),he=V(go,[["__scopeId","data-v-2983b80f"]]),po={class:"triage-section-wrapper"},_o=h({__name:"DangerSignsSection",setup(g,{expose:c}){const o=R(null),a=b[7],s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",po,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Ve=V(_o,[["__scopeId","data-v-12f5a202"]]),vo={class:"triage-section-wrapper"},yo=h({__name:"SelectPresentSignsSection",setup(g,{expose:c}){const o=R(null),a=b[8],s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",vo,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),De=V(yo,[["__scopeId","data-v-d23dc7b9"]]),Fo={class:"triage-section-wrapper"},Ro=h({__name:"TrunkFeelsColdSection",setup(g,{expose:c}){const o=R(null),a=b[9],s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",Fo,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),xe=V(Ro,[["__scopeId","data-v-4c89bfca"]]),So={class:"triage-section-wrapper"},bo=h({__name:"KeepWarmSection",setup(g,{expose:c}){const o=R(null),a=b[10],s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",So,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Ie=V(bo,[["__scopeId","data-v-e7f9f90d"]]),ho={class:"triage-section-wrapper"},Vo={class:"respiratory-timer-body"},Do={class:"respiratory-timer-time"},xo={class:"respiratory-timer-instruction"},se=60,Io=h({__name:"VitalSignsSection",setup(g,{expose:c}){const o=R(null),a=b.find(T=>T.title==="Vital Signs"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=R(se),e=R(!1),t=R(!1);let u=null;const m=Q(()=>{const T=Math.floor(r.value/60).toString().padStart(2,"0"),N=(r.value%60).toString().padStart(2,"0");return"".concat(T,":").concat(N)}),k=Q(()=>e.value?"TAP TO PAUSE COUNTDOWN":r.value===se?"TAP TO START COUNTDOWN":r.value===0?"TAP TO RESTART COUNTDOWN":"TAP TO RESUME COUNTDOWN"),H=()=>{u===null&&(e.value=!0,t.value=!1,u=window.setInterval(()=>{r.value>0?r.value-=1:(e.value=!1,t.value=!0,u!==null&&(clearInterval(u),u=null))},1e3))},O=()=>{u!==null&&(clearInterval(u),u=null),e.value=!1},p=()=>{O(),r.value=se,t.value=!1},S=()=>{e.value?O():(r.value===0&&p(),H())};He(()=>{u!==null&&clearInterval(u)});const j=M(),te=T=>{n&&(Object.assign(n,T),j.setField("respiratory_rate",T.respiratory_rate),j.setField("heart_rate",T.heart_rate),j.setField("can_measure_oxygen_saturation",T.can_measure_oxygen_saturation),j.setField("oxygen_saturation_vital",T.oxygen_saturation_vital),j.setField("oxygen_facility_available",T.oxygen_facility_available))};return f(()=>{var T;return(T=o.value)==null?void 0:T.formValues},T=>{T&&te(T)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var T,N;return((N=(T=o.value)==null?void 0:T.validateForm)==null?void 0:N.call(T))||null},getFormValues:()=>{var T,N;return((N=(T=o.value)==null?void 0:T.getFormValues)==null?void 0:N.call(T))||{}}}),(T,N)=>(v(),F("div",ho,[d("div",{class:"respiratory-timer-card",onClick:S},[N[0]||(N[0]=d("div",{class:"respiratory-timer-header"},"Respiratory  Rate Timer",-1)),d("div",Vo,[d("div",Do,X(m.value),1),d("div",xo,X(k.value),1)])]),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),J=V(Io,[["__scopeId","data-v-54fa99a2"]]),To={class:"triage-section-wrapper"},wo=h({__name:"RespiratoryDistressSection",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Danger Signs"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",To,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Feel for 3 danger signs.",-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Te=V(wo,[["__scopeId","data-v-e75e77c9"]]),Co={class:"triage-section-wrapper"},ko=h({__name:"TemperatureHighSection",setup(g,{expose:c}){const o=R(null),a=b.find(t=>t.title==="Select Present Signs"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&(Object.assign(n,t),r.setField("present_signs",t.present_signs))};return f(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),F("div",Co,[y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),we=V(ko,[["__scopeId","data-v-b617adf2"]]),$o={class:"triage-section-wrapper"},Eo=h({__name:"SecondVitalSignsSection",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Trunk Feels Cold"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",$o,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}},[d("p",null,"Mild Hypothermia = 36 - 36.4 degs C"),d("p",null,"Moderate Hypothermia = 32 - 35.9 degs C"),d("p",null,"Severe Hypothermia = 32 degs C")],-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Ce=V(Eo,[["__scopeId","data-v-4a384fc4"]]),Oo={class:"triage-section-wrapper"},No=h({__name:"BloodSugarSection",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Emmergency Management 4"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",Oo,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}}," This baby may be in Shock! See pg 74 COIN (NB. Don't give a bolus to a baby that has not responded to resuscitation) ",-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ke=V(No,[["__scopeId","data-v-eec9c993"]]),Mo={class:"triage-section-wrapper"},Ho=h({__name:"ReferralInstructionsSection",setup(g,{expose:c}){const o=R(null),a=b.find(e=>e.title==="Referral Instructions"),s=a.formData,i=a.conditionalRules||[],n=x(D),r=e=>{n&&(n.crying=e.crying||"")};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),c({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),F("div",Mo,[t[0]||(t[0]=d("div",{style:{"background-color":"#fedf89",padding:"10px"}},[d("p",null,[d("b",null,"If oxygen is NOT available CALL referral hospital immediately "),ee(" for guidance and if possible send the baby with accompanying health worker with bag valve mask (BVM) ventilation equipment. "),d("br"),d("br"),ee(" Continue with the Neotree examination. ")])],-1)),y(I,{formData:l(s),conditionalRules:l(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),$e=V(Ho,[["__scopeId","data-v-d4742399"]]),Ao=h({name:"NeonatalTriage",components:{IonPage:Be,IonContent:Ae,Toolbar:Ye,DemographicBar:Xe,NeonatalStepper:Ze,EmergencyTriageSection:de,BreathingAssessmentSection:ge,EmergencyManagementSection:lt,OxygenSaturationSection:pe,CentralCyanosisSection:_e,ConvulsionsSection:ve,ObservationsSection:he,DangerSignsSection:Ve,SelectPresentSignsSection:De,TrunkFeelsColdSection:xe,KeepWarmSection:Ie,VitalSignsSection:J,RespiratoryDistressSection:Te,TemperatureHighSection:we,SecondVitalSignsSection:Ce,BloodSugarSection:ke,VitalsSignsSection:J,ReferralInstructionsSection:$e,VitalSectionThree:Fe,VitalSectionTwo:ye,TemperatureHigh:Re,EmergencyTriage:Se,EmergencyManagementSeven:be},setup(){var ie;const g=je(),c=Pe(),o=Ge(),a=M(),{patient:s}=Ee(o),i=()=>{const _=c.query.source;return Array.isArray(_)?_[0]:_},n=i();n==="dashboard"&&a.reset();const r=Le({...et,_hasPatient:!!((ie=s.value)!=null&&ie.patientID),_forceDemographics:n==="dashboard"});Ue(D,r),f(()=>{var _;return(_=s.value)==null?void 0:_.patientID},_=>{r._hasPatient=!!_}),f(()=>i(),_=>{r._forceDemographics=_==="dashboard"});const e=R(b.map((_,w)=>({title:_.title,number:w+1,checked:!1,class:w===0?"open_step common_step":"common_step",last_step:w===b.length-1?"last_step":""}))),t=_=>b.findIndex(w=>w.title==_),u=new Set(["crying","can_measure_oxygen_saturation","oxygen_facility_available","can_measure_temp","central_cyanosis"]),m=new Set(["respiratory_rate","heart_rate","oxygen_saturation_vital","saturation_in_oxygen","temperature","head_circumference"]),k=new Set(["admission_weight","birth_weight"]),H=_=>{if(_==null||_==="")return null;if(typeof _=="string"){const w=_.toLowerCase();if(["yes","y","true","1"].includes(w))return"Yes";if(["no","n","false","0"].includes(w))return"No"}return _===!0||_===1?"Yes":_===!1||_===0||_===2?"No":null},O=async(_,w,$,P,L)=>{if($==null||$==="")return null;if(u.has(_)){const A=H($);return A?Y.buildValueCoded(w,A,P):null}if(_==="blood_sugar"){const A=L.bloodSugar_unit||"mg/dL",U=Number($);if(Number.isNaN(U))return null;const B=A==="mmol/L"?U*18.018:U;return Y.buildValueNumber(w,B,null,null,P)}if(m.has(_)||k.has(_)){let A=Number($);return Number.isNaN(A)?null:(k.has(_)&&(A=A/1e3),Y.buildValueNumber(w,A,null,null,P))}const le=Array.isArray($)?$.join(", "):String($);return Y.buildValueText(w,le,P)},S=[{title:"Emergency Triage",value:"1",component:de,configIndex:t("Emergency Triage")},{title:"Emergency Management",value:"2",component:ge,configIndex:t("Emergency Management 1")},{title:"Emergency Triage",value:"3",component:Se,configIndex:t("Emergency Triage 1")},{title:"Oxygen Saturation",value:"4",component:pe,configIndex:t("Oxygen Saturation")},{title:"Emergency Management",value:"5",component:Qt,configIndex:t("Emergency Management 2")},{title:"Emergency Management",value:"6",component:_e,configIndex:t("Emergency Management 3")},{title:"Emergency Management",value:"7",component:ve,configIndex:t("Emergency Management 4")},{title:"Central Cyanosis",value:"8",component:he,configIndex:t("Central Cyanosis")},{title:"Convulsions/Twitching",value:"9",component:Ve,configIndex:t("Convulsions/Twitching")},{title:"Emergency Observations",value:"10",component:De,configIndex:t("Emergency Observations")},{title:"Emergency Management",value:"11",component:xe,configIndex:t("Emergency Management - Grunting/Indrawing")},{title:"Emergency Management",value:"12",component:Ie,configIndex:t("Emergency Management - Central Cyanosis")},{title:"Emergency Management",value:"13",component:J,configIndex:t("Emergency Management - Convulsions")},{title:"Danger Signs",value:"14",component:Te,configIndex:t("Danger Signs")},{title:"Select Present Signs",value:"15",component:we,configIndex:t("Select Present Signs")},{title:"Trunk Feels Cold",value:"16",component:Ce,configIndex:t("Trunk Feels Cold")},{title:"Emmergency Management 4",value:"17",component:ke,configIndex:t("Emmergency Management 4")},{title:"Vital Signs",value:"18",component:J,configIndex:t("Vital Signs")},{title:"Emergency Management 6",value:"19",component:eo,configIndex:t("Emergency Management 6")},{title:"Referral Instructions",value:"19",component:$e,configIndex:t("Referral Instructions")},{title:"Emergency Management Vitals",value:"20",component:mo,configIndex:t("Emergency Management Vitals")},{title:"Vital Signs",value:"21",component:ye,configIndex:t("Vital Signs 2")},{title:"Emergency Management",value:"21",component:be,configIndex:t("Emergency Management 7")},{title:"Baby Recovered",value:"22",component:lo,configIndex:t("Baby Recovered")},{title:"Vital Signs",value:"23",component:Fe,configIndex:t("Vital Signs 3")},{title:"Temperature Low - Warm The Baby",value:"24",component:ro,configIndex:t("Temperature Low - Warm The Baby")},{title:"Temperature High",value:"25",component:Re,configIndex:t("Temperature High")},{title:"Emergency Triage",value:"26",component:Ht,configIndex:t("Emergency Triage Blood Sugar"),hasDialog:!0},{title:"Hypoglycemia Symptomatic",value:"27",component:Yt,configIndex:t("Hypoglycemia-Symptomatic")},{title:"Hypoglycemia-Asymptomatic",value:"28",component:qt,configIndex:t("Hypoglycemia-Asymptomatic")},{title:"Vital Signs",value:"29",component:It,configIndex:t("Vital Signs Four")},{title:"Triage Summary",value:"30",component:Vt,configIndex:t("Triage Summary")},{title:"Demographics",value:"31",component:Lt,configIndex:t("Demographics")}],j="Emergency Triage Assessment",te=R("1");return{wizardData:e,stepperData:S,stepperTitle:j,currentOpenStepper:te,updateStatus:_=>{_&&_.value&&e.value.forEach((w,$)=>{_.value===($+1).toString()?(w.class="open_step common_step",w.checked=!1):$<parseInt(_.value)-1?(w.class="common_step color_white",w.checked=!0):(w.class="common_step",w.checked=!1)})},getSaveFunction:_=>{var U;const w=S.findIndex(B=>B.title==="Triage Summary"),$=S.findIndex(B=>B.title==="Demographics"),P=S.length-1,L=!!((U=s.value)!=null&&U.patientID);if(i(),_===w&&L||_===$&&!L||_===P&&L)return async()=>{var B;try{const E={...r,...a.formValues};let G=(B=s.value)==null?void 0:B.patientID;if(!G&&E.first_name&&E.last_name){const C=new Date;C.setDate(C.getDate()-1);const W=C.toISOString().split("T")[0],ae={given_name:E.first_name,family_name:E.last_name,gender:"U",birthdate:W,birthdate_estimated:1},q=await new ze().registerPatient(ae,[]);if(!(q!=null&&q.patient_id)){re("Failed to create temporary patient record");return}G=q.patient_id,await o.setPatientRecord({patient_id:G})}if(!G){re("No patient available to save triage data");return}const z=[],oe=qe.sessionDate();if(Object.keys(E).some(C=>C!=="first_name"&&C!=="last_name"&&C!=="_hasPatient"&&C!=="_forceDemographics"&&E[C]!==void 0&&E[C]!==null&&E[C]!==""))for(const[C,W]of Object.entries(tt)){const ae=E[C],ne=await O(C,W,ae,oe,E);ne&&z.push(ne)}else{const C=await Y.buildValueText("First name",E.first_name||"Unknown",oe),W=await Y.buildValueText("Last name",E.last_name||"Unknown",oe);C&&z.push(C),W&&z.push(W)}await Ke(G,Je.NEONATAL_TRIAGE,z),Qe("Emergency triage saved successfully"),await new Promise(C=>setTimeout(C,800)),g.push({name:"NeonatalHome"})}catch(E){console.error("Failed to save triage assessment",E),re("Failed to save triage assessment")}}}}}});function Bo(g,c,o,a,s,i){const n=K("Toolbar"),r=K("NeonatalStepper"),e=K("ion-content"),t=K("ion-page");return v(),We(t,{class:"neonatal-triage-page"},{default:Z(()=>[y(n),y(e,{fullscreen:!0},{default:Z(()=>[y(r,{wizardData:g.wizardData,StepperData:g.stepperData,stepperTitle:g.stepperTitle,openStepper:g.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:g.getSaveFunction,onUpdateStatus:g.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","onUpdateStatus"])]),_:1})]),_:1})}const Jo=V(Ao,[["render",Bo],["__scopeId","data-v-3312e6bc"]]);export{Jo as default};
