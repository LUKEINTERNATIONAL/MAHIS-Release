import{d as _,ai as o,V as F,bo as R,X as w,$ as y,am as V,al as B,aR as P,cB as z,aS as T,aV as $,bw as W,N as Q,G as U,E as H,a7 as M,cs as L,I as O,a4 as q,aU as N,bT as A,H as n,O as p,f as m,J as l,l as r,m as E}from"./vendor-BataJFSH.js";import{W as G,T as J,o as K,S as X,t as s,K as Y,bI as i,bJ as Z,bo as u,b8 as j,aZ as x,u as aa,n as ea,_ as ta}from"../index-BPAV0PIM.js";import{D as oa}from"./DemographicBar-moo3cMAH.js";import{S as na}from"./SaveProgressModal-BodNTIHT.js";import{S as ra,v as ia,a as sa,b as ca,c as pa,d as ma}from"./Stepper-Luo_6e0P.js";import{c as d,f as h,a as g}from"./formatServerData-CbmK6vhK.js";import{C as la}from"./confirm_pregnancy_service-BJXurY8f.js";import{B as ua}from"./BasicFooter-DAEy5GYM.js";import{b as da}from"./NextAppointment-BwqU7a7w.js";import{_ as ha}from"./SetEncounter.vue_vue_type_script_lang-50396cFQ.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-BVd6_RNM.js";import"./OPDOutcome-DxZEvhf0.js";import"./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-BCk1GpwV.js";import"./previousComplaints-B2GGAXCM.js";import"./patient_complaints_service-DotCA86K.js";import"./DashBox-Ch5rWcpa.js";import"./drug_prescription_service-BAhzFmOz.js";import"./nonPharmaTherapyStore-3IJdi0FN.js";import"./patient_diagnosis_service-DYgFUTEi.js";import"./Outcome-YCiaWoXd.js";import"./wardsStore-DR-px5YM.js";import"./BasicForm-Bj4R40wg.js";import"./DateInputField-CJNWe7Qf.js";import"./VitalsMixin.vue_vue_type_script_lang-D_Gpr69M.js";import"./TreatmentPlan-B_oEgLVO.js";import"./group_validation-DUdeStNT.js";import"./ComplicationsStore-BbalwQUK.js";import"./OPDDiagnosis-CIqPzWwn.js";import"./MedicalHistory-CpWOsws9.js";import"./FeatusModal-1yQycxwZ.js";import"./AbdominalExamination-DSIKyumq.js";import"./dewormingStore-CoWFPfVR.js";import"./BasicCard-DUVI7ECQ.js";import"./UpcomingFeature-CIAHsyQ0.js";import"./PastObstreticHistoryStore-hBqHSOTu.js";import"./LabOrdersList-3pkr6m2W.js";import"./EnterLabResultsModal-Czb9qXVA.js";import"./useUserActivities-CcslbutR.js";import"./RadiologyStore-BEC0RqeJ.js";import"./useFormWizard-WA0BdVFf.js";import"./user_role_management-BvjpEsZZ.js";import"./ncd_appointment_service-DJJoXXkS.js";const ga=_({name:"Home",mixins:[da,ha],components:{BasicFooter:ua,IonContent:q,IonHeader:O,IonMenuButton:L,IonPage:M,IonTitle:H,IonToolbar:U,Toolbar:J,ToolbarSearch:G,DemographicBar:oa,IonButton:Q,IonCard:W,IonCardContent:$,IonCardHeader:T,IonCardSubtitle:z,IonCardTitle:P,IonAccordion:B,IonAccordionGroup:V,IonItem:y,IonLabel:w,IonModal:R,Stepper:ra,IonSpinner:F},data(){return{wizardData:[{title:"Reason for visit",class:"common_step",checked:"",icon:!1,disabled:!1,number:1,last_step:"last_step"}],StepperData:[{title:"Reason for visit",component:"ReasonForVisit",value:"1"}],isOpen:!1,iconsContent:ea,isLoading:!1}},computed:{...o(aa,["patient"]),...o(x,["vitals"]),...o(j,["investigations"]),...o(ma,["DangerSigns"]),...o(pa,["ReasonForVisit"]),...o(ca,["ConfirmPregnancy"]),...o(sa,["HealthConcerns"]),reasonVisitFacility(){return i(this.ReasonForVisit,"Reason for visit")},pregnancyConfirmed(){return i(this.ConfirmPregnancy,"Pregnancy confirmed")},pregnancyPlanned(){return i(this.ConfirmPregnancy,"Pregnancy planned")},dangerSigns(){return u(this.DangerSigns,"Danger signs")}},async mounted(){this.markWizard()},watch:{vitals:{handler(){this.markWizard()},deep:!0},investigations:{handler(){this.markWizard()},deep:!0},OPDdiagnosis:{handler(){this.markWizard()},deep:!0},selectedMedicalDrugsList:{handler(){this.markWizard()}}},setup(){return{chevronBackOutline:A,checkmark:N}},methods:{markWizard(){},getSaveFunction(){},getFormatedData(e){return e.map(a=>(a==null?void 0:a.data[0])||(a==null?void 0:a.data))},validationRules(e,a){for(let t=0;t<a.length&&!u(this.ReasonForVisit,a[t]);t++);return a.every(t=>ia(e,t,this[t]))},async saveData(){this.saveQuickCheck(),await Z()},async saveQuickCheck(){const e=["reasonVisitFacility"];if(await this.validationRules(this.ReasonForVisit,e)){if(this.ReasonForVisit){const a=X.getUserID(),t=new la(this.patient.patientID,a);if(!await t.createEncounter())return s("Unable to create quickCheck encounter");if(!await t.saveObservationList(await this.buildQuickCheck()))return s("Unable to create quickCheck details!");Y("Quick check details have been created"),i(this.ReasonForVisit,"Intervention on danger signs")=="Yes"?this.$router.push("/ancReferral"):this.$router.push("contact")}}else s("Please complete all required fields");console.log("=============>>>",await this.buildQuickCheck())},openModal(){K(na)},async buildQuickCheck(){return[...await d(this.ReasonForVisit),...await h(this.ReasonForVisit),...await g(this.ReasonForVisit),...await d(this.ConfirmPregnancy),...await h(this.ConfirmPregnancy),...await g(this.ConfirmPregnancy)]}}});function fa(e,a,t,c,f,ka){const k=n("Toolbar"),S=n("DemographicBar"),C=n("Stepper"),v=n("ion-spinner"),b=n("ion-content"),D=n("BasicFooter"),I=n("ion-page");return m(),p(I,null,{default:l(()=>[r(k),r(b,{fullscreen:!0},{default:l(()=>[r(S),r(C,{stepperTitle:"Quick check",wizardData:e.wizardData,onUpdateStatus:e.markWizard,StepperData:e.StepperData,backUrl:e.userRoleSettings.url,backBtn:e.userRoleSettings.btnName,getSaveFunction:e.getSaveFunction},null,8,["wizardData","onUpdateStatus","StepperData","backUrl","backBtn","getSaveFunction"]),e.isLoading?(m(),p(v,{key:0,name:"lines"})):E("",!0)]),_:1}),r(D,{onFinishBtn:a[0]||(a[0]=Sa=>e.saveData())})]),_:1})}const ce=ta(ga,[["render",fa]]);export{ce as default};
