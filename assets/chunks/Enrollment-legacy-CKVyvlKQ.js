System.register(["./vendor-legacy-BPXifZFo.js","../index-legacy-DiBnKa2d.js","./neonatal_service-legacy-CPG3VP1X.js","./DemographicBar-legacy-DCVljUH3.js","./NeonatalStepper-legacy-DEr7bHX0.js","./images-legacy-DZRMJ0vU.js","./NeonatalEnrollmentStore-legacy-BT5j_LNC.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-Dttxj_iz.js","./SaveProgressModal-legacy-Cvc-AS94.js"],function(e,a){"use strict";var t,l,n,r,i,o,s,d,c,u,m,v,p,h,f,g,b,y,w,k,x,F,S,N,D,_,T,I,B,V,R,A,M,O,C,P,Y,z,H,G,E,L,$,j,U,W,K,q,Q,J,Z,X,ee,ae,te,le,ne,re;return{setters:[e=>{t=e.d,l=e.eO,n=e.r,r=e.c,i=e.w,o=e.e,s=e.m,d=e.f,c=e.k,u=e.l,m=e.u,v=e.aR,p=e.J,h=e.L,f=e.bj,g=e.cv,b=e.Q,y=e.aQ,w=e.aP,k=e.Y,x=e.bF,F=e.N,S=e.aZ,N=e.F,D=e.P,_=e.K,T=e.cG,I=e.a,B=e.O,V=e.an,R=e.f7,A=e.bk,M=e.f8,O=e.bK,C=e.d8,P=e.a3,Y=e.a6,z=e.aV,H=e.bx,G=e.eP,E=e.H},e=>{L=e.l,$=e.u,j=e.P,U=e._,W=e.aC,K=e.L,q=e.T,Q=e.b4,J=e.H,Z=e.ab,X=e.G,ee=e.t},e=>{ae=e.N},e=>{te=e.D},e=>{le=e.N},e=>{ne=e.I},e=>{re=e.u},null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".twin-search-container[data-v-9ecea754]{padding:0;margin-top:1rem}.header-with-icon[data-v-9ecea754]{display:flex;align-items:center;gap:1rem}.icon-wrapper[data-v-9ecea754]{position:relative;width:48px;height:48px}.header-icon[data-v-9ecea754]{width:48px;height:48px;object-fit:contain}.search-badge-icon[data-v-9ecea754]{position:absolute;bottom:-4px;right:-4px;font-size:18px;background:var(--ion-color-primary);color:#fff;border-radius:50%;padding:4px;box-shadow:0 2px 4px rgba(0,0,0,.2)}.info-note[data-v-9ecea754]{display:block;margin-bottom:1rem;padding:.75rem;background:rgba(var(--ion-color-warning-rgb),.1);border-radius:4px;font-size:.9rem}.search-with-button[data-v-9ecea754]{display:flex;align-items:center;gap:.5rem;margin:1rem 0}.skip-btn[data-v-9ecea754]{flex-shrink:0;margin:0;--padding-start: 12px;--padding-end: 12px}.search-wrapper[data-v-9ecea754]{width:100%;position:relative;display:flex;align-items:center}.search-input[data-v-9ecea754]{width:100%;--border-radius: .5rem;--background: #f6f6f6;--color: #333}.search-results[data-v-9ecea754]{margin-top:1rem}.search-loading[data-v-9ecea754]{display:flex;flex-direction:column;gap:0}.result-item-skeleton[data-v-9ecea754]{padding:1.25rem 1rem;border-top:1px dashed var(--ion-color-light-shade);background:#fff}.result-item-skeleton[data-v-9ecea754]:first-child{border-top:none}.skeleton-header[data-v-9ecea754]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem;flex-wrap:wrap}.skeleton-name[data-v-9ecea754]{height:20px;width:180px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:shimmer-9ecea754 1.5s infinite;border-radius:4px}.skeleton-dob[data-v-9ecea754]{height:16px;width:100px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:shimmer-9ecea754 1.5s infinite;border-radius:4px}@keyframes shimmer-9ecea754{0%{background-position:200% 0}to{background-position:-200% 0}}.results-list[data-v-9ecea754]{margin-top:1rem}.result-item[data-v-9ecea754]{padding:1.25rem 1rem;border-top:1px dashed var(--ion-color-light-shade);cursor:pointer;transition:all .2s;background:#fff}.result-item[data-v-9ecea754]:first-child{border-top:none}.result-item[data-v-9ecea754]:hover{background:var(--ion-color-light-tint)}.result-header[data-v-9ecea754]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem;flex-wrap:wrap}.twin-name[data-v-9ecea754]{font-size:1.125rem;font-weight:600;color:var(--ion-color-dark);margin:0}.twin-mrn[data-v-9ecea754],.twin-dob[data-v-9ecea754]{font-size:.9rem;color:var(--ion-color-medium)}.result-details[data-v-9ecea754]{padding-left:0}.twin-gender[data-v-9ecea754]{margin:.5rem 0 0;font-size:.9rem;color:var(--ion-color-dark)}.twin-gender strong[data-v-9ecea754]{font-weight:500}.no-results[data-v-9ecea754]{text-align:center;padding:2rem}.no-results-icon[data-v-9ecea754]{font-size:3rem;color:var(--ion-color-medium);margin-bottom:1rem}.info-text[data-v-9ecea754]{font-size:.875rem;color:var(--ion-color-medium);margin-top:.5rem}.selected-twin[data-v-9ecea754]{margin-top:1.5rem}.selected-card[data-v-9ecea754]{border:1px solid #e5e5e5;border-radius:8px;overflow:hidden}.selected-card-header[data-v-9ecea754]{display:flex;align-items:center;justify-content:space-between;padding:.875rem 1rem;background:#f8f8f8;border-bottom:1px solid #ececec}.header-content[data-v-9ecea754]{display:flex;align-items:center;gap:.5rem;background:#fff;padding:.5rem;border-radius:50px;border:1px dotted #ececec}.selected-icon-wrapper[data-v-9ecea754]{width:30px;height:30px;border-radius:50%;background:var(--ion-color-primary);display:flex;align-items:center;justify-content:center;box-shadow:0 2px 6px rgba(0,0,0,.1);flex-shrink:0}.selected-header-icon[data-v-9ecea754]{width:15px;height:15px;object-fit:contain;filter:brightness(0) invert(1)}.header-separator[data-v-9ecea754]{width:1px;height:24px;background:#d4d4d4;flex-shrink:0}.success-icon[data-v-9ecea754]{font-size:1.25rem;color:#10b981}.selected-subtitle[data-v-9ecea754]{font-size:.875rem;font-weight:500;color:#525252}.clear-selection-btn[data-v-9ecea754]{margin:0;--padding-start: 6px;--padding-end: 6px;--color: var(--ion-color-medium-shade)}.clear-selection-btn[data-v-9ecea754]:hover{--color: var(--ion-color-danger)}.clear-selection-btn ion-icon[data-v-9ecea754]{font-size:1.5rem}.selected-card-content[data-v-9ecea754]{padding:1.25rem}.patient-info-grid[data-v-9ecea754]{display:flex;flex-direction:column;gap:1rem}.info-row[data-v-9ecea754]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;border-bottom:none}.info-row[data-v-9ecea754]:nth-child(odd){background:#ececec}.info-row[data-v-9ecea754]:nth-child(2n){background:#fff}.info-label[data-v-9ecea754]{font-size:.813rem;font-weight:400;color:#737373;text-transform:uppercase;letter-spacing:.5px}.info-value[data-v-9ecea754]{font-size:.938rem;font-weight:600;color:#171717;text-align:right}.birth-details-wrapper[data-v-1a647a53]{display:flex;flex-direction:column;gap:1rem}.mother-search-container[data-v-0beac54f]{padding:0rem}.header-with-icon[data-v-0beac54f]{display:flex;align-items:center;gap:1rem}.icon-wrapper[data-v-0beac54f]{position:relative;width:48px;height:48px}.header-icon[data-v-0beac54f]{width:48px;height:48px;object-fit:contain}.search-badge-icon[data-v-0beac54f]{position:absolute;bottom:-4px;right:-4px;font-size:18px;background:var(--ion-color-primary);color:#fff;border-radius:50%;padding:4px;box-shadow:0 2px 4px rgba(0,0,0,.2)}.info-note[data-v-0beac54f]{display:block;margin-bottom:1rem;padding:.75rem;background:rgba(var(--ion-color-warning-rgb),.3);border-radius:8px;font-size:.9rem}.search-with-button[data-v-0beac54f]{display:flex;align-items:center;gap:.5rem;margin:1rem 0}.new-registration-btn[data-v-0beac54f]{flex-shrink:0;margin:0;--padding-start: 12px;--padding-end: 12px}.search-input[data-v-0beac54f]{flex:1;margin:0;padding:0}.search-results[data-v-0beac54f]{margin-top:1rem}.search-loading[data-v-0beac54f]{display:flex;flex-direction:column;gap:0}.result-item-skeleton[data-v-0beac54f]{padding:1.25rem 1rem;border-top:1px dashed var(--ion-color-light-shade);background:#fff}.result-item-skeleton[data-v-0beac54f]:first-child{border-top:none}.skeleton-header[data-v-0beac54f]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem;flex-wrap:wrap}.skeleton-name[data-v-0beac54f]{height:20px;width:180px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:shimmer-0beac54f 1.5s infinite;border-radius:4px}.skeleton-dob[data-v-0beac54f]{height:16px;width:100px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:shimmer-0beac54f 1.5s infinite;border-radius:4px}.skeleton-gender[data-v-0beac54f]{height:16px;width:60px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:shimmer-0beac54f 1.5s infinite;border-radius:4px}.skeleton-details[data-v-0beac54f]{display:flex;flex-direction:column;gap:.5rem}.skeleton-address[data-v-0beac54f]{height:16px;width:250px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:shimmer-0beac54f 1.5s infinite;border-radius:4px}.skeleton-phone[data-v-0beac54f]{height:16px;width:120px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:shimmer-0beac54f 1.5s infinite;border-radius:4px}@keyframes shimmer-0beac54f{0%{background-position:200% 0}to{background-position:-200% 0}}.results-list[data-v-0beac54f]{margin-top:1rem}.result-item[data-v-0beac54f]{padding:1.25rem 1rem;border-top:1px dashed var(--ion-color-light-shade);cursor:pointer;transition:all .2s;background:#fff}.result-item[data-v-0beac54f]:first-child{border-top:none}.result-item[data-v-0beac54f]:hover{background:var(--ion-color-light-tint)}.result-header[data-v-0beac54f]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem;flex-wrap:wrap}.mother-name[data-v-0beac54f]{font-size:1.125rem;font-weight:600;color:var(--ion-color-dark);margin:0}.mother-dob[data-v-0beac54f],.mother-gender[data-v-0beac54f]{font-size:.9rem;color:var(--ion-color-medium)}.result-details[data-v-0beac54f]{padding-left:0}.mother-address[data-v-0beac54f]{margin:.5rem 0;font-size:.9rem;color:var(--ion-color-dark)}.mother-address strong[data-v-0beac54f]{font-weight:500}.mother-phone[data-v-0beac54f]{display:flex;align-items:center;gap:.5rem;margin:.5rem 0 0;font-size:.9rem;color:var(--ion-color-dark)}.mother-phone ion-icon[data-v-0beac54f]{font-size:1.1rem;color:var(--ion-color-medium)}.pagination[data-v-0beac54f]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:1rem;padding:1rem}.page-info[data-v-0beac54f]{font-size:.9rem;color:var(--ion-color-medium)}.no-results[data-v-0beac54f]{text-align:center;padding:2rem}.no-results-icon[data-v-0beac54f]{font-size:3rem;color:var(--ion-color-medium);margin-bottom:1rem}.selected-mother[data-v-0beac54f]{margin-top:1rem}.selected-card[data-v-0beac54f]{background:#fbfbfb;border:2px dotted var(--ion-color-medium);border-radius:8px;overflow:hidden}.selected-card-header[data-v-0beac54f]{padding:1rem 1rem .5rem}.selected-card-content[data-v-0beac54f]{padding:.5rem 1rem 1rem}.selected-subtitle[data-v-0beac54f]{font-size:.875rem;font-weight:600;color:var(--ion-color-dark);text-transform:uppercase;letter-spacing:.5px}.selected-header-with-button[data-v-0beac54f]{display:flex;align-items:center;justify-content:space-between}.clear-selection-btn[data-v-0beac54f]{margin:0;--padding-start: 8px;--padding-end: 8px;opacity:1}.clear-selection-btn ion-icon[data-v-0beac54f]{opacity:1;font-size:24px}.selected-info[data-v-0beac54f]{margin-bottom:0}.selected-info h3[data-v-0beac54f]{margin:0 0 .5rem;color:#000;text-transform:uppercase;font-size:1.125rem;font-weight:600}.selected-info p[data-v-0beac54f]{margin:.25rem 0;font-size:.9rem}.search-wrapper[data-v-0beac54f]{width:100%;position:relative;display:flex;align-items:center}.search-input[data-v-0beac54f]{width:100%;--border-radius: .5rem;--background: #f6f6f6;--color: #333}.barcode-btn[data-v-0beac54f]{position:absolute;right:0;top:26px;transform:translateY(-50%);height:34px;width:34px;z-index:2}.neonatal-enrollment-page[data-v-1e8dda56]{min-height:100vh}\n/*$vite$:1*/",document.head.appendChild(a);const ie=e=>e.map(e=>({value:e,label:e})),oe=(e,a)=>Array.from({length:a-e+1},(a,t)=>{const l=(e+t).toString();return{value:l,label:l}}),se=[{title:"Birth details",subtitle:"Capture the initial arrival information",formData:[{componentType:"radioButtonField",header:"Does the baby have a twin?",name:"hasTwin",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether the neonate has a twin"},{componentType:"multiSelectInputField",header:"Place of Birth",name:"placeOfBirth",placeholder:"Select type",icon:L.search,options:ie(["Hospital","Health Center","Home","Other"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select the place of birth"},{componentType:"multiSelectInputField",header:"Name of Birth Facility",name:"birthFacility",placeholder:"Select facility",icon:L.search,options:ie(["Lilongwe Central","Queen Elizabeth","District Hospital","Community Clinic"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select a facility"},{componentType:"multiSelectInputField",header:"Type of Birth",name:"typeOfBirth",placeholder:"Select type",icon:L.search,options:ie(["Singleton","Twin","Triplet"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select the type of birth"},{componentType:"inputField",header:"Birth weight (grams)",name:"birthWeight",type:"number",placeholder:"Enter weight",validation:e=>Number(e)>0?null:"Provide the birth weight"},{componentType:"timeInputField",header:"Time of birth",name:"birthTime",placeholder:"HH:mm",validation:e=>e?null:"Capture the time of birth"}]},{title:"Referral information",subtitle:"Document how the neonate arrived",description:"Required when the baby was referred from another facility.",formData:[{componentType:"radioButtonField",header:"Is the baby referred from another facility?",name:"referredFromAnotherFacility",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Indicate whether the neonate was referred"},{componentType:"multiSelectInputField",header:"Referred from",name:"referredFrom",placeholder:"Select referee type",icon:L.search,options:ie(["District Hospital","Health Center","Private Clinic","Other"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select the referral source",condition:e=>"Yes"===e.referredFromAnotherFacility},{componentType:"multiSelectInputField",header:"Name of facility",name:"referringFacilityName",placeholder:"Search and select facility",icon:L.search,options:[],trackBy:"name",validation:(e,a)=>"Yes"!==(null==a?void 0:a.referredFromAnotherFacility)||null!=e&&e.name||e?null:"Select the referring facility",condition:e=>"Yes"===e.referredFromAnotherFacility},{componentType:"multiSelectInputField",header:"Mode of transport",name:"modeOfTransport",placeholder:"Select mode",icon:L.search,options:ie(["Ambulance","Private vehicle","Bicycle","Other"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select how the neonate arrived",condition:e=>"Yes"===e.referredFromAnotherFacility},{componentType:"multiSelectInputField",header:"Admitted from",name:"admittedFrom",placeholder:"Select origin",icon:L.search,options:ie(["Clinic","Home","Maternity Ward","Other"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select where the baby was admitted from",condition:e=>"Yes"===e.referredFromAnotherFacility}]},{title:"Birth assessment",subtitle:"Capture the immediate clinical state",formData:[{componentType:"radioButtonField",header:"Did the baby cry straight after birth?",name:"criedAfterBirth",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Indicate whether the baby cried"},{componentType:"multiSelectInputField",header:"Apgar score at 1 minute",name:"apgar1",placeholder:"Select",icon:L.search,options:oe(0,10),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select the Apgar score at 1 min"},{componentType:"multiSelectInputField",header:"Apgar score at 5 minutes",name:"apgar5",placeholder:"Select",icon:L.search,options:oe(0,10),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select the Apgar score at 5 min"},{componentType:"multiSelectInputField",header:"Apgar score at 10 minutes",name:"apgar10",placeholder:"Select",icon:L.search,options:oe(0,10),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select the Apgar score at 10 min"},{componentType:"multiSelectInputField",header:"Was resuscitation needed at birth?",name:"resuscitationMethods",placeholder:"Select the methods",icon:L.search,options:ie(["Stimulation","Suctioning","Oxygen","Bag Valve Mask Ventilation (BVM)","Cardio Pulmonary Resuscitation (CPR)","Unknown","None"]),trackBy:"value",isMultiple:!0,closeOnSelect:!1,validation:e=>e&&e.length?null:"Select at least one method"}]},{title:"Mother's Information",subtitle:"Search and link the mother's record",description:"Find the mother's existing record or register a new mother if not found.",formData:[]},{title:"Pregnancy",subtitle:"Pregnancy and delivery history",formData:[{componentType:"inputField",header:"Gestation in weeks",name:"gestationWeeks",type:"number",placeholder:"Weeks",validation:e=>{const a=Number(e);return a>0&&a<=45?null:"Enter valid gestation weeks (1-45)"}},{componentType:"radioButtonField",header:"Were steroids given?",name:"steroidsGiven",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether steroids were given"},{componentType:"multiSelectInputField",header:"Gestation method assessment",name:"gestationMethodAssessment",placeholder:"Select method",icon:L.search,options:ie(["LMP","Ultrasound","Clinical Assessment","Ballard Score"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select gestation assessment method"},{componentType:"radioButtonField",header:"Ultra sound scanning - USS",name:"ultraSoundScanning",options:[{label:"Early",value:"Early"},{label:"Late",value:"Late"}],validation:e=>e?null:"Select ultrasound timing"},{componentType:"timeInputField",header:"Onset of labor",name:"onsetOfLabor",placeholder:"HH:mm",validation:e=>e?null:"Enter onset of labor time"},{componentType:"radioButtonField",header:"Rupture of membranes?",name:"ruptureOfMembranes",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify rupture of membranes status"},{componentType:"radioButtonField",header:"Duration of Rupture of Membranes",name:"durationOfRuptureMembranes",options:[{label:"< 18 hours",value:"< 18 hours"},{label:"18 hours >",value:"18 hours >"}],validation:e=>e?null:"Select duration",condition:e=>"Yes"===e.ruptureOfMembranes},{componentType:"radioButtonField",header:"Offensive Liquor?",name:"offensiveLiquor",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify offensive liquor status"},{componentType:"multiSelectInputField",header:"Mode of Delivery",name:"modeOfDelivery",placeholder:"Select mode",icon:L.search,options:ie(["Spontaneous Vaginal Delivery","Caesarean Section","Vacuum Extraction","Forceps Delivery","Breech Delivery"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select mode of delivery"},{componentType:"radioButtonField",header:"Meconium present?",name:"meconiumPresent",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify meconium presence"},{componentType:"radioButtonField",header:"Maternal Analgesia?",name:"maternalAnalgesia",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify maternal analgesia status"},{componentType:"multiSelectInputField",header:"Analgesia Drug",name:"analgesiasDrug",placeholder:"Select drug",icon:L.search,options:ie(["Paracetamol","Pethidine","Morphine","Epidural","Other"]),trackBy:"value",validation:(e,a)=>"Yes"!==(null==a?void 0:a.maternalAnalgesia)||null!=e&&e.value||e?null:"Select analgesia drug",condition:e=>"Yes"===e.maternalAnalgesia},{componentType:"radioButtonField",header:"Anesthesia used?",name:"anesthesiaUsed",options:[{label:"General",value:"General"},{label:"Spinal",value:"Spinal"},{label:"No",value:"No"}],validation:e=>e?null:"Specify anesthesia used"},{componentType:"radioButtonField",header:"TEO?",name:"teo",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify TEO status"},{componentType:"radioButtonField",header:"Chlorohexidine of cord care?",name:"chlorohexidineCordCare",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify chlorohexidine cord care"},{componentType:"radioButtonField",header:"Vitamin K given?",name:"vitaminKGiven",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify Vitamin K status"},{componentType:"radioButtonField",header:"Dextrose 10% given?",name:"dextroseGiven",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify Dextrose 10% status"}]},{title:"Mother's enrollment details",subtitle:"HIV, VDRL, and Hepatitis status",formData:[{componentType:"radioButtonField",header:"Mother's status",name:"motherStatus",options:[{label:"Alive",value:"Alive"},{label:"Died",value:"Died"}],validation:e=>e?null:"Select mother's status"},{componentType:"multiSelectInputField",header:"HIV Status",name:"motherHivStatus",placeholder:"Select status",icon:L.search,options:ie(["Reactive","Non-Reactive","Unknown"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select HIV status"},{componentType:"dateInputField",header:"Last HIV Test Date",name:"lastHivTestDate",placeholder:"Select date",validation:e=>e?null:"Select the last HIV test date"},{componentType:"radioButtonField",header:"Do a HIV re-test?",name:"doHivRetest",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether to do HIV re-test"},{componentType:"radioButtonField",header:"Who baby given NVP?",name:"babyGivenNvp",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether baby was given NVP"},{componentType:"multiSelectInputField",header:"Mother's VDRL/Syphilis result",name:"motherVdrlResult",placeholder:"Select result",icon:L.search,options:ie(["Positive","Negative","Unknown"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select VDRL/Syphilis result"},{componentType:"radioButtonField",header:"Who mother treated for VDRL/Syphilis?",name:"motherTreatedForVdrl",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether mother was treated"},{componentType:"radioButtonField",header:"Was the baby tested for Hepatitis?",name:"babyTestedForHepatitis",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether baby was tested"},{componentType:"radioButtonField",header:"Were all 3 doses of the treatment completed?",name:"allThreeDosesCompleted",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether all doses were completed"},{componentType:"multiSelectInputField",header:"Mother's Hepatitis result",name:"motherHepatitisResult",placeholder:"Select result",icon:L.search,options:ie(["Positive","Negative","Unknown"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select Hepatitis result"}]},{title:"Known Medical Conditions",subtitle:"Tetanus vaccination history",formData:[{componentType:"multiSelectInputField",header:"Tetanus Diphtheria",name:"tetanusDiphtheria",placeholder:"Search and select",icon:L.search,options:ie(["Td1","Td2","Td3","Td4","Td5","Unknown","None"]),trackBy:"value",validation:e=>null!=e&&e.value||e?null:"Select Tetanus Diphtheria status"}]}],de={motherPatientId:void 0,motherName:void 0,motherNationalId:void 0,hasTwin:"",twinPatientId:void 0,twinName:void 0,placeOfBirth:"",nameOfBirthFacility:"",typeOfBirth:"",birthWeight:"",timeOfBirth:"",referredFromOtherFacility:"",referredFrom:"",referringFacilityName:"",modeOfTransport:"",admittedFrom:"",criedAfterBirth:"",apgarScoreAt1:"",apgarScoreAt5:"",apgarScoreAt10:"",resuscitationMethods:[],gestationWeeks:"",steroidsGiven:"",gestationMethodAssessment:"",ultraSoundScanning:"",onsetOfLabor:"",ruptureOfMembranes:"",durationOfRuptureMembranes:"",offensiveLiquor:"",modeOfDelivery:"",meconiumPresent:"",maternalAnalgesia:"",analgesiasDrug:"",anesthesiaUsed:"",teo:"",chlorohexidineCordCare:"",vitaminKGiven:"",dextroseGiven:"",motherStatus:"",motherHivStatus:"",lastHivTestDate:"",doHivRetest:"",babyGivenNvp:"",motherVdrlResult:"",motherTreatedForVdrl:"",babyTestedForHepatitis:"",allThreeDosesCompleted:"",motherHepatitisResult:"",tetanusDiphtheria:[]},ce=Symbol("neonatal-enrollment-form"),ue={key:0,class:"twin-search-container"},me={style:{border:"1px dotted #ececec","border-radius":"8px"}},ve={class:"header-with-icon"},pe={class:"icon-wrapper"},he=["src"],fe={class:"search-with-button"},ge={class:"search-wrapper"},be={key:0,class:"search-results"},ye={key:0,class:"search-loading"},we={key:1,class:"results-list"},ke=["onClick"],xe={class:"result-header"},Fe={class:"twin-name"},Se={class:"twin-mrn"},Ne={class:"twin-dob"},De={class:"result-details"},_e={key:0,class:"twin-gender"},Te={key:2,class:"no-results"},Ie={key:1,class:"selected-twin"},Be={class:"selected-card"},Ve={class:"selected-card-header"},Re={class:"header-content"},Ae={class:"selected-icon-wrapper"},Me=["src"],Oe={class:"selected-card-content"},Ce={class:"patient-info-grid"},Pe={class:"info-row"},Ye={class:"info-value"},ze={class:"info-row"},He={class:"info-value"},Ge={key:0,class:"info-row"},Ee={class:"info-value"},Le={key:1,class:"info-row"},$e={class:"info-value"},je=U(t({__name:"TwinSearch",setup(e,{expose:a}){const t=l(ce),I=$(),B=n(""),V=n(!1),R=n([]),A=n(null),M=n(!1),O=r(()=>"Yes"===(null==t?void 0:t.hasTwin)),C=async()=>{if(!B.value||B.value.trim().length<2)R.value=[];else{V.value=!0;try{const a=B.value.trim();if(/^\d+$/.test(a))try{const e=await I.getPatientData(Number(a));if(e&&e.personInformation){const a=e.personInformation;R.value=[{patientID:a.person_id,firstName:a.given_name||"",middleName:a.middle_name||"",lastName:a.family_name||"",gender:a.gender,birthdate:a.birthdate}]}else R.value=[]}catch(e){console.error("Error searching by MRN:",e),R.value=[]}else{const e=a.split(" "),t={given_name:e[0],family_name:e[1]||"",page:"1",per_page:"20"},l=await j.search(t);R.value=Array.isArray(l)?l.filter(e=>{const a=e.person;if(!a.birthdate)return!1;const t=new Date(a.birthdate);return Math.floor((Date.now()-t.getTime())/864e5)<=7}).map(e=>{var a;const t=e.person,l=(null===(a=t.names)||void 0===a?void 0:a[0])||{};return{patientID:t.person_id,firstName:l.given_name||"",middleName:l.middle_name||"",lastName:l.family_name||"",gender:t.gender,birthdate:t.birthdate}}):[]}}catch(e){console.error("Error searching for twin:",e),R.value=[]}finally{V.value=!1}}},P=()=>{A.value=null,M.value=!1,t&&(t.twinPatientId=void 0,t.twinName=void 0)},Y=()=>{M.value=!0,A.value=null,B.value="",t&&(t.twinPatientId=void 0,t.twinName=void 0)};i(()=>null==t?void 0:t.hasTwin,e=>{"Yes"!==e&&(P(),M.value=!1)});const z=e=>`${e.firstName} ${e.middleName||""} ${e.lastName}`.trim(),H=e=>e?new Date(e).toLocaleDateString():"";return a({validateForm:()=>"Yes"!==(null==t?void 0:t.hasTwin)||A.value||M.value?null:{twinSelection:"Select the twin record or tap Skip if the twin is not yet registered"},getFormValues:()=>A.value?{twinPatientId:A.value.patientID,twinName:z(A.value)}:{}}),(e,a)=>O.value?(d(),o("div",ue,[c("div",me,[u(m(v),null,{default:p(()=>[c("div",ve,[c("div",pe,[c("img",{src:m(ne).icons.twins,alt:"Twin",class:"header-icon"},null,8,he),u(m(h),{icon:m(f),class:"search-badge-icon"},null,8,["icon"])]),c("div",null,[u(m(g),null,{default:p(()=>[...a[1]||(a[1]=[b("Twin Information",-1)])]),_:1}),u(m(y),null,{default:p(()=>[...a[2]||(a[2]=[b("Search for twin sibling",-1)])]),_:1})])])]),_:1}),u(m(w),null,{default:p(()=>[u(m(k),{class:"info-note"},{default:p(()=>[...a[3]||(a[3]=[b(" This baby has a twin. Please search for the twin's record or register if not found. ",-1)])]),_:1}),c("div",fe,[c("div",ge,[u(m(x),{modelValue:B.value,"onUpdate:modelValue":a[0]||(a[0]=e=>B.value=e),placeholder:"Search for twin's MRN or scan barcode",onIonInput:C,debounce:300,"show-clear-button":"focus",class:"search-input"},null,8,["modelValue"])]),u(m(F),{color:"primary",onClick:Y,class:"skip-btn"},{default:p(()=>[a[4]||(a[4]=b(" Skip ",-1)),u(m(h),{size:"small",icon:m(S),slot:"end"},null,8,["icon"])]),_:1})]),B.value&&B.value.length>0&&!A.value?(d(),o("div",be,[V.value?(d(),o("div",ye,[(d(),o(N,null,D(3,e=>c("div",{key:`skeleton-${e}`,class:"result-item-skeleton"},[...a[5]||(a[5]=[c("div",{class:"skeleton-header"},[c("div",{class:"skeleton-name"}),c("div",{class:"skeleton-dob"})],-1)])])),64))])):R.value.length>0?(d(),o("div",we,[(d(!0),o(N,null,D(R.value,(e,l)=>(d(),o("div",{key:e.patientID||l,class:"result-item",onClick:a=>{return l=e,A.value=l,B.value="",M.value=!1,void(t&&(t.twinPatientId=l.patientID,t.twinName=`${l.firstName} ${l.middleName||""} ${l.lastName}`.trim()));var l}},[c("div",xe,[c("span",Fe,_(z(e)),1),c("span",Se,"MRN: "+_(e.patientID),1),c("span",Ne,"DOB: "+_(H(e.birthdate)),1)]),c("div",De,[e.gender?(d(),o("p",_e,[a[6]||(a[6]=c("strong",null,"Gender:",-1)),b(" "+_(e.gender),1)])):s("",!0)])],8,ke))),128))])):(d(),o("div",Te,[u(m(h),{icon:m(f),class:"no-results-icon"},null,8,["icon"]),c("p",null,'No patients found matching "'+_(B.value)+'"',1),a[7]||(a[7]=c("p",{class:"info-text"},"The twin may not be registered yet. You can skip this step and register the twin later.",-1))]))])):s("",!0),A.value?(d(),o("div",Ie,[c("div",Be,[c("div",Ve,[c("div",Re,[c("div",Ae,[c("img",{src:m(ne).icons.twins,alt:"Twin",class:"selected-header-icon"},null,8,Me)]),a[8]||(a[8]=c("div",{class:"header-separator"},null,-1)),a[9]||(a[9]=c("span",{class:"selected-subtitle"},"Twin Selected",-1))]),u(m(F),{fill:"clear",size:"small",onClick:P,class:"clear-selection-btn"},{default:p(()=>[u(m(h),{icon:m(T)},null,8,["icon"])]),_:1})]),c("div",Oe,[c("div",Ce,[c("div",Pe,[a[10]||(a[10]=c("span",{class:"info-label"},"Full Name",-1)),c("span",Ye,_(z(A.value)),1)]),c("div",ze,[a[11]||(a[11]=c("span",{class:"info-label"},"MRN",-1)),c("span",He,_(A.value.patientID),1)]),A.value.birthdate?(d(),o("div",Ge,[a[12]||(a[12]=c("span",{class:"info-label"},"Date of Birth",-1)),c("span",Ee,_(H(A.value.birthdate)),1)])):s("",!0),A.value.gender?(d(),o("div",Le,[a[13]||(a[13]=c("span",{class:"info-label"},"Gender",-1)),c("span",$e,_(A.value.gender),1)])):s("",!0)])])])])):s("",!0)]),_:1})])])):s("",!0)}}),[["__scopeId","data-v-9ecea754"]]),Ue=e=>{if(null!=e&&""!==e){if("string"==typeof e||"number"==typeof e)return e.toString();if("object"==typeof e){var a,t,l;const n=null!==(a=null!==(t=null!==(l=e.label)&&void 0!==l?l:e.value)&&void 0!==t?t:e.name)&&void 0!==a?a:e.title;if(null!=n&&""!==n)return n.toString()}}},We=e=>{if(!e)return[];if(Array.isArray(e))return e.map(e=>Ue(e)).filter(e=>!!e);const a=Ue(e);return a?[a]:[]},Ke=e=>null==e?"":e.toString(),qe={class:"birth-details-wrapper"},Qe=U(t({__name:"BirthDetails",setup(e,{expose:a}){const t=n(null),r=n(null),s=n(null),c=se[0].formData,v=c.slice(0,1),p=c.slice(1),h=l(ce),f=e=>{h&&(h.hasTwin=e.hasTwin||"")},g=e=>{h&&(h.placeOfBirth=Ue(e.placeOfBirth)||"",h.nameOfBirthFacility=Ue(e.birthFacility)||"",h.typeOfBirth=Ue(e.typeOfBirth)||"",h.birthWeight=Ke(e.birthWeight||""),h.timeOfBirth=Ke(e.birthTime||""))};return i(()=>{var e;return null===(e=r.value)||void 0===e?void 0:e.formValues},e=>{e&&g(e)},{deep:!0}),i(()=>r.value,e=>{null!=e&&e.getFormValues&&g(e.getFormValues())},{immediate:!0}),i(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&f(e)},{deep:!0}),i(()=>t.value,e=>{null!=e&&e.getFormValues&&f(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>r.value,getTwinQuestionFormRef:()=>t.value,validateForm:()=>{var e,a,l,n,i,o;const d=[(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null,(null===(l=r.value)||void 0===l||null===(n=l.validateForm)||void 0===n?void 0:n.call(l))||null,(null===(i=s.value)||void 0===i||null===(o=i.validateForm)||void 0===o?void 0:o.call(i))||null].filter(Boolean);return d.length?d.reduce((e,a)=>({...e,...a}),{}):null},getFormValues:()=>{var e,a,l,n,i,o;return{...(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{},...(null===(l=r.value)||void 0===l||null===(n=l.getFormValues)||void 0===n?void 0:n.call(l))||{},...(null===(i=s.value)||void 0===i||null===(o=i.getFormValues)||void 0===o?void 0:o.call(i))||{}}}}),(e,a)=>(d(),o("div",qe,[u(W,{formData:m(v),ref_key:"twinQuestionFormRef",ref:t,class:"twin-question-form"},null,8,["formData"]),u(je,{ref_key:"twinSearchRef",ref:s},null,512),u(W,{formData:m(p),ref_key:"formRef",ref:r,class:"main-form"},null,8,["formData"])]))}}),[["__scopeId","data-v-1a647a53"]]),Je=t({__name:"ReferralInformation",setup(e,{expose:a}){const t=n(null),o=se[1].formData,s=l(ce),c=n([]);I(async()=>{try{const e=await K.getAllFacilities();Array.isArray(e)?c.value=e:null!=e&&e.facilities&&Array.isArray(e.facilities)?c.value=e.facilities:null!=e&&e.records&&Array.isArray(e.records)?c.value=e.records:c.value=[]}catch(e){console.error("Error loading facilities:",e),c.value=[]}});const u=r(()=>o.map(e=>"referringFacilityName"===e.name?{...e,options:c.value.map(e=>({name:e.name||e.facility_name||"Unknown",code:e.code||e.facility_code,district:e.district}))}:e)),m=e=>{if(!s)return;s.referredFromOtherFacility=e.referredFromAnotherFacility||"",s.referredFrom=Ue(e.referredFrom)||"";const a=e.referringFacilityName;s.referringFacilityName=(null==a?void 0:a.name)||Ke(a||""),s.modeOfTransport=Ue(e.modeOfTransport)||"",s.admittedFrom=Ue(e.admittedFrom)||""};return i(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&m(e)},{deep:!0}),i(()=>t.value,e=>{null!=e&&e.getFormValues&&m(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>t.value,validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(d(),B(W,{formData:u.value,ref_key:"formRef",ref:t},null,8,["formData"]))}}),Ze=t({__name:"BirthAssessment",setup(e,{expose:a}){const t=n(null),r=se[2].formData,o=l(ce),s=e=>{o&&(o.criedAfterBirth=e.criedAfterBirth||"",o.apgarScoreAt1=Ue(e.apgar1)||"",o.apgarScoreAt5=Ue(e.apgar5)||"",o.apgarScoreAt10=Ue(e.apgar10)||"",o.resuscitationMethods=We(e.resuscitationMethods))};return i(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&s(e)},{deep:!0}),i(()=>t.value,e=>{null!=e&&e.getFormValues&&s(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>t.value,validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(d(),B(W,{formData:m(r),ref_key:"formRef",ref:t},null,8,["formData"]))}}),Xe={class:"mother-search-container"},ea={style:{border:"1px dotted #ececec","border-radius":"8px"}},aa={class:"header-with-icon"},ta={class:"icon-wrapper"},la=["src"],na={class:"search-with-button"},ra={class:"search-wrapper"},ia={class:"barcode-btn","aria-label":"Scan MRN"},oa={key:0,class:"search-results"},sa={key:0,class:"search-loading"},da={key:1,class:"results-list"},ca=["onClick"],ua={class:"result-header"},ma={class:"mother-name"},va={class:"mother-dob"},pa={class:"mother-gender"},ha={class:"result-details"},fa={key:0,class:"mother-address"},ga={key:1,class:"mother-phone"},ba={key:0,class:"pagination"},ya={class:"page-info"},wa={key:2,class:"no-results"},ka={key:1,class:"selected-mother"},xa={class:"selected-card"},Fa={class:"selected-card-header"},Sa={class:"selected-header-with-button"},Na={class:"selected-card-content"},Da={class:"selected-info"},_a={key:0},Ta={key:1},Ia=U(t({__name:"MotherSearch",setup(e,{expose:a}){const t=V(),S=l(ce),B=re(),P=$(),Y=n(""),z=n(!1),H=n([]),G=n(null),E=n(1);I(async()=>{const e=B.getMotherPatientId;e&&B.shouldReturnToEnrollment&&(await L(e),B.clearEnrollmentContext())}),i(G,e=>{e&&S&&(S.motherPatientId=e.patientID,S.motherName=`${e.firstName} ${e.middleName||""} ${e.lastName}`.trim(),S.motherNationalId=e.nationalId||"")});const L=async e=>{try{z.value=!0;const l=await P.getPatientData(e);if(l&&l.personInformation){var a,t;const n=l.personInformation,r=(null===(a=n.addresses)||void 0===a?void 0:a[0])||{},i=null===(t=n.person_attributes)||void 0===t?void 0:t.find(e=>{var a;return"Cell Phone Number"===(null===(a=e.person_attribute_type)||void 0===a?void 0:a.name)}),o={patientID:n.person_id||e,firstName:n.given_name||"",middleName:n.middle_name||"",lastName:n.family_name||"",gender:n.gender,birthdate:n.birthdate,nationalId:l.national_id||"",address:r,phone:(null==i?void 0:i.value)||""};G.value=o}}catch(l){console.error("Error fetching mother data:",l)}finally{z.value=!1}},U=r(()=>Math.ceil(H.value.length/10)),W=r(()=>{const e=10*(E.value-1),a=e+10;return H.value.slice(e,a)}),K=async()=>{if(!Y.value||Y.value.trim().length<2)H.value=[];else{z.value=!0,E.value=1;try{const e=Y.value.trim().split(" "),a={given_name:e[0],family_name:e[1]||"",page:"1",per_page:"50"},t=await j.search(a);H.value=Array.isArray(t)?t.filter(e=>{var a;const t=(null===(a=e.person)||void 0===a?void 0:a.gender)||e.gender;return"F"===t||"Female"===t}).map(e=>{var a,t,l;const n=e.person,r=(null===(a=n.names)||void 0===a?void 0:a[0])||{},i=(null===(t=n.addresses)||void 0===t?void 0:t[0])||{},o=null===(l=n.person_attributes)||void 0===l?void 0:l.find(e=>{var a;return"Cell Phone Number"===(null===(a=e.person_attribute_type)||void 0===a?void 0:a.name)});return{patientID:n.person_id,firstName:r.given_name||"",middleName:r.middle_name||"",lastName:r.family_name||"",gender:n.gender,birthdate:n.birthdate,nationalId:e.national_id||"",address:i,phone:(null==o?void 0:o.value)||""}}):[]}catch(e){console.error("Error searching for mothers:",e),H.value=[]}finally{z.value=!1}}},q=()=>{G.value=null,S&&(S.motherPatientId=void 0,S.motherName=void 0,S.motherNationalId=void 0)},Q=()=>{var e;const a=l("patient");a&&null!==(e=a.value)&&void 0!==e&&e.patientID&&B.setMotherCreationContext(a.value.patientID,4),t.push({path:"/registration/manual",query:{returnTo:"/neonatal/enrollment",context:"neonatal-mother"}})},J=()=>{E.value<U.value&&E.value++},Z=()=>{E.value>1&&E.value--},X=e=>e?new Date(e).toLocaleDateString():"",ee=e=>{if(!e)return"";if("string"==typeof e)return e;const a=[];return e.city_village&&a.push(e.city_village),e.township_division&&a.push(e.township_division),e.state_province&&a.push(e.state_province),a.join(", ")};return a({getFormRef:()=>({validate:()=>null!==G.value,getFormData:()=>{var e,a;return{motherPatientId:null===(e=G.value)||void 0===e?void 0:e.patientID,motherName:G.value?`${G.value.firstName} ${G.value.middleName||""} ${G.value.lastName}`.trim():void 0,motherNationalId:null===(a=G.value)||void 0===a?void 0:a.nationalId}}}),validateForm:()=>G.value?null:{motherSelection:"Please select a mother or register a new one"},getFormValues:()=>G.value?{motherPatientId:G.value.patientID,motherName:`${G.value.firstName} ${G.value.middleName||""} ${G.value.lastName}`.trim(),motherNationalId:G.value.nationalId}:{}}),(e,a)=>(d(),o("div",Xe,[c("div",ea,[u(m(v),null,{default:p(()=>[c("div",aa,[c("div",ta,[c("img",{src:m(ne).icons.care,alt:"Care",class:"header-icon"},null,8,la),u(m(h),{icon:m(f),class:"search-badge-icon"},null,8,["icon"])]),c("div",null,[u(m(g),null,{default:p(()=>[...a[1]||(a[1]=[b("Search for Mother",-1)])]),_:1}),u(m(y),null,{default:p(()=>[...a[2]||(a[2]=[b("Find mother's existing record",-1)])]),_:1})])])]),_:1}),u(m(w),null,{default:p(()=>[u(m(k),{class:"info-note"},{default:p(()=>[...a[3]||(a[3]=[b(" We now need to link this neonate's record to it's mother, please search and find the mother or register if mother not found. ",-1)])]),_:1}),c("div",na,[c("div",ra,[u(m(x),{modelValue:Y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>Y.value=e),placeholder:"Search for mother's Name or scan MRN",onIonInput:K,debounce:300,"show-clear-button":"focus",class:"search-input"},null,8,["modelValue"]),c("div",ia,[u(m(h),{color:"primary",size:"small",icon:m(R),slot:"icon-only"},null,8,["icon"])])]),u(m(F),{color:"success",onClick:Q,class:"new-registration-btn"},{default:p(()=>[u(m(h),{icon:m(A),slot:"icon-only"},null,8,["icon"]),a[4]||(a[4]=b("New Registration ",-1))]),_:1})]),Y.value&&Y.value.length>0&&!G.value?(d(),o("div",oa,[z.value?(d(),o("div",sa,[(d(),o(N,null,D(3,e=>c("div",{key:`skeleton-${e}`,class:"result-item-skeleton"},[...a[5]||(a[5]=[c("div",{class:"skeleton-header"},[c("div",{class:"skeleton-name"}),c("div",{class:"skeleton-dob"}),c("div",{class:"skeleton-gender"})],-1),c("div",{class:"skeleton-details"},[c("div",{class:"skeleton-address"}),c("div",{class:"skeleton-phone"})],-1)])])),64))])):H.value.length>0?(d(),o("div",da,[(d(!0),o(N,null,D(W.value,(e,t)=>(d(),o("div",{key:e.patientID||t,class:"result-item",onClick:a=>(e=>{G.value=e,Y.value="",S&&(S.motherPatientId=e.patientID,S.motherName=`${e.firstName} ${e.middleName||""} ${e.lastName}`.trim(),S.motherNationalId=e.nationalId||"")})(e)},[c("div",ua,[c("span",ma,_(e.firstName)+" "+_(e.middleName?e.middleName+" ":"")+_(e.lastName),1),c("span",va,"DOB "+_(X(e.birthdate)),1),c("span",pa,_("F"===e.gender?"Female":e.gender),1)]),c("div",ha,[e.address?(d(),o("p",fa,[a[6]||(a[6]=c("strong",null,"Current Address:",-1)),b(" "+_(ee(e.address)),1)])):s("",!0),e.phone?(d(),o("p",ga,[u(m(h),{icon:m(M)},null,8,["icon"]),b(" "+_(e.phone),1)])):s("",!0)])],8,ca))),128)),U.value>1?(d(),o("div",ba,[u(m(F),{fill:"outline",size:"small",onClick:Z,disabled:1===E.value},{default:p(()=>[u(m(h),{icon:m(O)},null,8,["icon"])]),_:1},8,["disabled"]),c("span",ya,"Page "+_(E.value)+" of "+_(U.value),1),u(m(F),{fill:"outline",size:"small",onClick:J,disabled:E.value===U.value},{default:p(()=>[u(m(h),{icon:m(C)},null,8,["icon"])]),_:1},8,["disabled"])])):s("",!0)])):(d(),o("div",wa,[u(m(h),{icon:m(f),class:"no-results-icon"},null,8,["icon"]),c("p",null,'No mothers found matching "'+_(Y.value)+'"',1),u(m(F),{expand:"block",onClick:Q},{default:p(()=>[...a[7]||(a[7]=[b("Register new mother",-1)])]),_:1})]))])):s("",!0),G.value?(d(),o("div",ka,[c("div",xa,[c("div",Fa,[c("div",Sa,[a[8]||(a[8]=c("span",{class:"selected-subtitle"},"Selected Mother",-1)),u(m(F),{fill:"clear",size:"small",color:"danger",onClick:q,class:"clear-selection-btn"},{default:p(()=>[u(m(h),{icon:m(T),slot:"icon-only"},null,8,["icon"])]),_:1})])]),c("div",Na,[c("div",Da,[c("h3",null,_(G.value.firstName)+" "+_(G.value.middleName?G.value.middleName+" ":"")+_(G.value.lastName),1),c("p",null,[a[9]||(a[9]=c("strong",null,"MRN:",-1)),b(" "+_(G.value.patientID),1)]),G.value.birthdate?(d(),o("p",_a,[a[10]||(a[10]=c("strong",null,"DOB:",-1)),b(" "+_(X(G.value.birthdate)),1)])):s("",!0),G.value.address?(d(),o("p",Ta,[a[11]||(a[11]=c("strong",null,"Address:",-1)),b(" "+_(ee(G.value.address)),1)])):s("",!0)])])])])):s("",!0)]),_:1})])]))}}),[["__scopeId","data-v-0beac54f"]]),Ba=t({__name:"Pregnancy",setup(e,{expose:a}){const t=n(null),r=se[4].formData,o=l(ce),s=e=>{o&&(o.gestationWeeks=Ke(e.gestationWeeks||""),o.steroidsGiven=e.steroidsGiven||"",o.gestationMethodAssessment=Ue(e.gestationMethodAssessment)||"",o.ultraSoundScanning=e.ultraSoundScanning||"",o.onsetOfLabor=Ke(e.onsetOfLabor||""),o.ruptureOfMembranes=e.ruptureOfMembranes||"",o.durationOfRuptureMembranes=Ue(e.durationOfRuptureMembranes)||"",o.offensiveLiquor=e.offensiveLiquor||"",o.modeOfDelivery=Ue(e.modeOfDelivery)||"",o.meconiumPresent=e.meconiumPresent||"",o.maternalAnalgesia=e.maternalAnalgesia||"",o.analgesiasDrug=Ue(e.analgesiasDrug)||"",o.anesthesiaUsed=e.anesthesiaUsed||"",o.teo=e.teo||"",o.chlorohexidineCordCare=e.chlorohexidineCordCare||"",o.vitaminKGiven=e.vitaminKGiven||"",o.dextroseGiven=e.dextroseGiven||"")};return i(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&s(e)},{deep:!0}),i(()=>t.value,e=>{null!=e&&e.getFormValues&&s(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>t.value,validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(d(),B(W,{formData:m(r),ref_key:"formRef",ref:t},null,8,["formData"]))}}),Va=t({__name:"MotherEnrollmentDetails",setup(e,{expose:a}){const t=n(null),r=se[5].formData,o=l(ce),s=e=>{o&&(o.motherStatus=e.motherStatus||"",o.motherHivStatus=Ue(e.motherHivStatus)||"",o.lastHivTestDate=Ke(e.lastHivTestDate||""),o.doHivRetest=e.doHivRetest||"",o.babyGivenNvp=e.babyGivenNvp||"",o.motherVdrlResult=Ue(e.motherVdrlResult)||"",o.motherTreatedForVdrl=e.motherTreatedForVdrl||"",o.babyTestedForHepatitis=e.babyTestedForHepatitis||"",o.allThreeDosesCompleted=e.allThreeDosesCompleted||"",o.motherHepatitisResult=Ue(e.motherHepatitisResult)||"")};return i(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&s(e)},{deep:!0}),i(()=>t.value,e=>{null!=e&&e.getFormValues&&s(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>t.value,validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(d(),B(W,{formData:m(r),ref_key:"formRef",ref:t},null,8,["formData"]))}}),Ra=t({__name:"KnownMedicalConditions",setup(e,{expose:a}){const t=n(null),r=se[6].formData,o=l(ce),s=e=>{o&&(o.tetanusDiphtheria=We(e.tetanusDiphtheria))};return i(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&s(e)},{deep:!0}),i(()=>t.value,e=>{null!=e&&e.getFormValues&&s(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>t.value,validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(d(),B(W,{formData:m(r),ref_key:"formRef",ref:t},null,8,["formData"]))}}),Aa=t({name:"NeonatalEnrollment",components:{IonPage:Y,IonContent:P,Toolbar:q,DemographicBar:te,NeonatalStepper:le,BirthDetails:Qe,ReferralInformation:Je,BirthAssessment:Ze,MotherSearch:Ia,Pregnancy:Ba,MotherEnrollmentDetails:Va,KnownMedicalConditions:Ra},setup(){const e=V(),a=$(),{patient:t}=z(a),l=H({...de});G(ce,l);const r=n(se.map((e,a)=>({title:e.title,number:a+1,checked:!1,class:0===a?"open_step common_step":"common_step",last_step:a===se.length-1?"last_step":""}))),i=[{title:se[0].title,value:"1",component:Qe},{title:se[1].title,value:"2",component:Je},{title:se[2].title,value:"3",component:Ze},{title:se[3].title,value:"4",component:Ia},{title:se[4].title,value:"5",component:Ba},{title:se[5].title,value:"6",component:Va},{title:se[6].title,value:"7",component:Ra}];return{router:e,patient:t,enrollmentFormData:l,stepperTitle:"Neonatal enrollment",currentOpenStepper:"1",wizardData:r,stepperData:i,updateStatus:e=>{e&&e.value&&r.value.forEach((a,t)=>{e.value===(t+1).toString()?(a.class="open_step common_step",a.checked=!1):t<parseInt(e.value)-1?(a.class="common_step color_white",a.checked=!0):(a.class="common_step",a.checked=!1)})},getSaveFunction:a=>a===i.length-1?async()=>{var a;if(null!==(a=t.value)&&void 0!==a&&a.patientID)try{if(l.motherPatientId)try{const e=(await Q.getRelations()).find(e=>"Mother"===e.b_is_to_a||"Parent"===e.b_is_to_a);e&&await Q.createRelation(t.value.patientID,l.motherPatientId,e.relationship_type_id)}catch(n){console.error("Failed to create mother-baby relationship",n)}await ae.enrollNeonate(t.value.patientID,l,J.sessionDate()),await Z.userProgramData(t.value.patientID),X("Neonate enrolled successfully"),e.push("/neonatal/triage")}catch(r){console.error("Neonatal enrollment failed",r),ee("Unable to enroll neonate at this time")}}:()=>{}}}});e("default",U(Aa,[["render",function(e,a,t,l,n,r){const i=E("Toolbar"),o=E("DemographicBar"),s=E("NeonatalStepper"),c=E("ion-content"),m=E("ion-page");return d(),B(m,{class:"neonatal-enrollment-page"},{default:p(()=>[u(i),u(c,{fullscreen:!0},{default:p(()=>[u(o),u(s,{wizardData:e.wizardData,StepperData:e.stepperData,stepperTitle:e.stepperTitle,openStepper:e.currentOpenStepper,backUrl:"/patientProfile",getSaveFunction:e.getSaveFunction,onUpdateStatus:e.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","onUpdateStatus"])]),_:1})]),_:1})}],["__scopeId","data-v-1e8dda56"]]))}}});
