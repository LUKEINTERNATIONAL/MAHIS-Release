import{co as d,cl as m,cd as i,cm as u,aF as s,aE as f}from"../index-ITD7BVud.js";import{V as b}from"./viral_load_report_service-BijrAEQF.js";import{d as g,r,O as h,f as _}from"./vendor-78jGb2J2.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-Bgv-43mM.js";import"./age_groups-BkW1n_F5.js";import"./regimens-Dknk55PA.js";const R=g({__name:"ClinicVlCollection",setup(v){const o=r(""),e=new b,t=r(!1),l=r([]),c=[t.value?{label:"Filing#",path:"identifier"}:{label:"ARV#",path:"identifier",preSort:d,initialSort:!0},{label:"First name",path:"given_name",exportable:!1},{label:"Last name",path:"family_name",exportable:!1},{label:"Gender",path:"gender",formatter:m},{label:"DOB",path:"birthdate",formatter:i},{label:"Date of VL Order",path:"order_date",formatter:i}];async function p(a){await s.show(),e.setStartDate(a.dateRange.startDate),e.setEndDate(a.dateRange.endDate),e.setOccupation(a.occupation),o.value=e.getDateIntervalPeriod();try{l.value=await e.getVlCollection(),t.value=a.filingNumberEnabled}catch(n){f("Unable to load report data"),console.error(n)}await s.hide()}return(a,n)=>(_(),h(u,{"report-prefix":"Clinic",title:"VL Collection","default-sort-order":"asc","default-sorted-column":"identifier",columns:c,period:o.value,rows:l.value,"filing-number-enabled":t.value,"use-date-range-filter":"","use-secure-export":"",onGenerate:p},null,8,["period","rows","filing-number-enabled"]))}});export{R as default};
