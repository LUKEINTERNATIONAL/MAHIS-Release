import{c as $,d as E,r as s,O as x,f as F,u as m,aS as O,J as d,l as o,aP as G,aV as B,a as Fe,H as Q,e as Se,m as te,k as h,_ as Ie,Q as He,F as Le,an as qe,cE as $e,w as b,a3 as Ee,i as V,bK as We,v as A,a6 as Me,b9 as q}from"./vendor-CWILCKEU.js";import{aB as r,aC as z,bF as Oe,l as Z,aA as Ge,b5 as ze,J as ve,M as Ue,S as _e,af as Ce,aW as Te,t as ge,G as Ne,_ as je,aG as De,u as Je,aH as Ke,aI as Qe,aJ as Ze,aK as Xe,d as et,aL as tt,g as at,Z as nt,e as ot,T as it,N as st,H as pe,aM as X,aN as rt,aO as Pe,aP as lt,aQ as ee,aR as ut,a0 as ct}from"../index-B9UHlCUb.js";import{D as dt}from"./DemographicBar-F_dMXnEH.js";import{_ as pt}from"./Vitals.vue_vue_type_script_setup_true_lang-BD4p8lHE.js";import{p as mt,_ as vt}from"./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-cmqKLnTl.js";import{P as _t}from"./patient_complaints_service-Bt6R12m4.js";import{D as gt}from"./DashBox-DCEQvvVK.js";import{u as ft,a as me,_ as yt,s as bt,c as ht,b as St}from"./useFormWizard-BqeYsBIN.js";import{l as Ct}from"./lodash-NJiRuGo9.js";import{a as Be,b as Tt}from"./formatServerData-DCwdi0xy.js";import{u as Dt}from"./usePatientProfile-hmqWz6Ve.js";import"./apexcharts-MUkJV7jj.js";import"./drug_prescription_service-CMwUJLm5.js";import"./patient_diagnosis_service-CUFdBxZF.js";import"./Registration-DiPexudm.js";import"./useLocation-Bob_wAnf.js";import"./vaccines_service-D-JvPElq.js";import"./sms_service-CHgsJr3i.js";import"./EIRreportsStore-Dt8rZt23.js";import"./Export-CZRKKlCy.js";import"./NeonatalEnrollmentStore-CtSmIkwN.js";const Pt=()=>({airWayBreathingFormSection:$(()=>[{componentType:"Heading",name:"Airway and Breathing",grid:{s:"4"}},{componentType:"radioButtonField",header:"is Airway Compromised",name:"is_airway_compromised",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"is Breathing Abnormal?",name:"is_breathing_abnormal",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes",condition:e=>e.is_breathing_abnormal==="Yes"},{componentType:"Heading",name:"Exhaustion and Inability to Speak",grid:{s:"4"},condition:e=>e.is_breathing_abnormal==="Yes"},{componentType:"radioButtonField",header:"Severe Respiratory dysfunction or exhaustion ",name:"severe_respiratory_dysfunction_or_exhaustion",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},condition:e=>e.is_breathing_abnormal==="Yes",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Inability to speak in complete sentences ",name:"inability_to_speak_in_complete_sentences",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},condition:e=>e.is_breathing_abnormal==="Yes",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes",condition:e=>e.is_breathing_abnormal==="Yes"},{componentType:"Heading",name:"Stridor and Reduced Consciousness",grid:{s:"4"},condition:e=>e.is_breathing_abnormal==="Yes"},{componentType:"radioButtonField",header:"Stridor",name:"stridor",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},condition:e=>e.is_breathing_abnormal==="Yes",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Reduced Level of Consciousness due to low oxygen",name:"reduced_level_of_consciousness_due_to_low_oxygen",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},condition:e=>e.is_breathing_abnormal==="Yes",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]}])}),Bt=E({__name:"AirwayBreathing",setup(N){const e=s(null),S=Pt().airWayBreathingFormSection;return(_,D)=>(F(),x(m(O),null,{default:d(()=>[o(m(G),null,{default:d(()=>[o(z,{formData:m(S),ref_key:"formRef",ref:e},null,8,["formData"])]),_:1})]),_:1}))}}),Ft=()=>({bloodCirculationFormSection:$(()=>[{componentType:"Heading",name:"Circulation",grid:{s:"4"}},{componentType:"radioButtonField",header:"Is Circulation Abnormal",name:"is_circulation_abnormal",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes",condition:e=>e.is_circulation_abnormal==="Yes"},{componentType:"Heading",name:"Heart Rate and Pulse",grid:{s:"4"},condition:e=>e.is_circulation_abnormal==="Yes"},{componentType:"radioButtonField",header:"Heart Rate",name:"heart_rate",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},condition:e=>e.is_circulation_abnormal==="Yes",options:[{label:"Weak/Thready",value:"Weak/Thready"},{label:"Strong",value:"Strong"}]},{componentType:"radioButtonField",header:"Pulse Rate",name:"pulse_rate",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},condition:e=>e.is_circulation_abnormal==="Yes",options:[{label:"Irregular",value:"Irregular"},{label:"Regular",value:"Regular"}]},{componentType:"Dashes",condition:e=>e.is_circulation_abnormal==="Yes"},{componentType:"Heading",name:"Reduced Urinary and Clammy Peripherals",grid:{s:"4"},condition:e=>e.is_circulation_abnormal==="Yes"},{componentType:"radioButtonField",header:"Reduced urinary output < 30ml/hr",name:"reduced_urinary_output_less_than_30ml_per_hr",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},condition:e=>e.is_circulation_abnormal==="Yes",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Cool clammy peripherals or cap refill > 4 seconds",name:"cool_clammy_peripherals_or_cap_refill_greater_than_4_seconds",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},condition:e=>e.is_circulation_abnormal==="Yes",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes",condition:e=>e.is_circulation_abnormal==="Yes"},{componentType:"Heading",name:"Hemorrhage and Skin Turgor",grid:{s:"4"},condition:e=>e.is_circulation_abnormal==="Yes"},{componentType:"radioButtonField",header:"Hemorrhage",name:"hemorrhage",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},condition:e=>e.is_circulation_abnormal==="Yes",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Dehydration skin turgor, sunken eyes",name:"dehydration_skin_turgor_sunken_eyes",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},condition:e=>e.is_circulation_abnormal==="Yes",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]}])}),Nt=E({__name:"BloodCirculation",setup(N){const e=s(null),S=Ft().bloodCirculationFormSection;return(_,D)=>(F(),x(m(O),null,{default:d(()=>[o(m(G),null,{default:d(()=>[o(z,{formData:m(S),ref_key:"formRef",ref:e},null,8,["formData"])]),_:1})]),_:1}))}}),Yt=()=>({disabilityFormSection:$(()=>[{componentType:"Heading",name:"Consciousness",grid:{s:"4"}},{componentType:"radioButtonField",header:"Does the patient have a reduced Level of consciousness",name:"is_reduced_level_of_consciousness",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"8"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes",condition:e=>e.is_reduced_level_of_consciousness==="Yes"},{componentType:"Heading",name:"Blood Glucose and GCS",grid:{s:"4"},condition:e=>e.is_reduced_level_of_consciousness==="Yes"},{componentType:"inputField",header:"Blood Glucose",name:"blood_glucose",type:"number",grid:{s:"4"},disabled:e=>!0,condition:e=>e.is_reduced_level_of_consciousness==="Yes"},{componentType:"inputField",header:"GCS",name:"gcs",type:"number",grid:{s:"4"},disabled:e=>!0,condition:e=>e.is_reduced_level_of_consciousness==="Yes"}])}),wt=E({__name:"Disability",setup(N){const e=s(null),S=Yt().disabilityFormSection;return(_,D)=>(F(),x(m(O),null,{default:d(()=>[o(m(G),null,{default:d(()=>[o(z,{formData:m(S),ref_key:"formRef",ref:e},null,8,["formData"])]),_:1})]),_:1}))}}),xt={key:0},kt={style:{"align-content":"center"}},Rt={class:"ion-padding",slot:"content"},Vt=E({__name:"PresentingComplaints",setup(N,{expose:e}){const S=Oe(),{presentingComplaints:_}=B(S),D=s(Z),U=s(!0),k=s(!1),R=s(!0),C=s(!1),T=s([]),W=s([]),ae=s(),ne=$(()=>[{componentType:"multiSelectInputField",header:"Presenting Complaints",name:"PresentingComplaints",trackBy:"concept_id",icon:Z.search,hideSelected:!0,validation:a=>j(a==null?void 0:a.name,T.value)?"Presenting complaint already added":r.required(a),options:W.value,grid:{s:"6"}},{componentType:"inputField",header:"Duration",name:"duration",icon:Z.time,validation:a=>r.isNotEmptyandNumber(a),grid:{s:"6"},unitOptions:[{label:"Hours",value:"Hours"},{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],unitValidation:a=>!a||a===""?"Please select a unit.":null},{componentType:"inputField",header:"Specify the presenting complaint(s)",name:"Other (specify)",icon:Z.editPen,validation:a=>j(a,T.value)?"Presenting complaint already added":r.required(a),condition:a=>{var i;return((i=a==null?void 0:a.PresentingComplaints)==null?void 0:i.name)==="Other"}},{componentType:"Alert",condition:a=>{var i;return r.required((i=a==null?void 0:a.PresentingComplaints)==null?void 0:i.name)!=null},backgroundColor:"lightyellow",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}]),{formRef:I}=Ge(),oe=async()=>{W.value=await _t.getComplaintsList("Presenting complaint"),Ue(_.value,"PresentingComplaints","multiSelectData",W.value)},M=()=>{U.value=!1,R.value=!1,k.value=!0},ie=async()=>{var u,P;const a=(u=I.value)==null?void 0:u.getFormValues();((P=I.value)==null?void 0:P.validateForm())==null&&(se(a),k.value=!1,R.value=!0)},se=a=>{var H;const i=a.duration+" "+a.duration_unit,u=a.PresentingComplaints,P=u.name==="Other"?a["Other (specify)"]:u.name;T.value.push({actionBtn:!0,btn:["delete"],name:P,concept_id:u.concept_id,duration:u.duration,durationUnits:u.duration_unit,display:[P,i],data:[{concept_id:8578,value_coded:u.concept_id,obs_datetime:_e.getSessionDate(),child:[{concept_id:u.concept_id,value_text:i,obs_datetime:_e.getSessionDate()}]}]}),(H=I.value)==null||H.resetForm(),C.value=!0},j=(a,i)=>i.some(u=>u.name===a),p=a=>{T.value=T.value.filter(i=>i.display[0]!==a.name)},re=async()=>{const a=await Ce.getObsByEncounterIdAndDate(Te.PRESENTING_COMPLAINTS),i=T.value.flatMap(u=>u.data);if(i.length<=0&&a.length<=0)return ge("Presenting complaints is required");i.length<=0||(await Ce.addObsToEncounterPatient(i,Te.PRESENTING_COMPLAINTS),Ne("Presenting complaints saved successful"),T.value=[])};return Fe(async()=>{await oe()}),e({onSubmit:re}),(a,i)=>{const u=Q("ion-row"),P=Q("ion-label"),H=Q("ion-accordion"),le=Q("ion-accordion-group");return F(),Se(Le,null,[o(m(O),null,{default:d(()=>[o(m(G),null,{default:d(()=>[o(gt,{status:U.value,content:"No presenting complaints added"},null,8,["status"]),C.value?(F(),Se("span",xt,[o(ze,{listData:T.value,"onClicked:delete":p},null,8,["listData"])])):te("",!0),k.value?(F(),x(u,{key:1},{default:d(()=>[o(z,{formData:ne.value,ref_key:"formRef",ref:I},null,8,["formData"]),h("div",kt,[o(ve,{fill:"clear",icon:D.value.plus,iconSlot:"icon-only","onClicked:btn":i[0]||(i[0]=ue=>ie()),name:"Save"},null,8,["icon"])])]),_:1})):te("",!0),R.value?(F(),x(u,{key:2,style:{"margin-top":"10px"}},{default:d(()=>[o(ve,{fill:"clear",icon:D.value.plus,iconSlot:"icon-only","onClicked:btn":i[1]||(i[1]=ue=>M()),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):te("",!0)]),_:1})]),_:1}),o(u,null,{default:d(()=>[o(le,{ref_key:"accordionGroup",ref:ae,class:"previousView"},{default:d(()=>[o(H,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:d(()=>[o(m(Ie),{slot:"header",color:"light"},{default:d(()=>[o(P,{class:"previousLabel"},{default:d(()=>[...i[2]||(i[2]=[He("Previous presenting complaints",-1)])]),_:1})]),_:1}),h("div",Rt,[o(mt)])]),_:1})]),_:1},512)]),_:1})],64)}}}),At=je(Vt,[["__scopeId","data-v-ea5c124d"]]),It=()=>({persistentPainFormSection:$(()=>[{componentType:"Heading",name:"Seizures and Focal Neurologic",grid:{s:"4"}},{componentType:"radioButtonField",header:"Active Seizures",name:"active_seizures",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Focal neurologic findings",name:"focal_neurologic_findings",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes"},{componentType:"Heading",name:"Headache and Weakness",grid:{s:"4"}},{componentType:"radioButtonField",header:"Headache",name:"headache",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Weakness",name:"weakness",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes"},{componentType:"Heading",name:"Severe Pain and Confusion",grid:{s:"4"}},{componentType:"radioButtonField",header:"Severe Pain",name:"severe_pain",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Confusion",name:"confusion",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{grid:{s:"4"}},{componentType:"radioButtonField",header:"moderate pain or a reason to be seen in under four hours",name:"moderate_pain_or_a_reason_to_be_seen_in_under_four_hours",obsValueType:"value_text",validation:r.required,type:"standard",grid:{s:"8"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]}])}),Ht=E({__name:"PersistentPain",setup(N){const e=s(null),S=It().persistentPainFormSection;return(_,D)=>(F(),x(m(O),null,{default:d(()=>[o(m(G),null,{default:d(()=>[o(z,{formData:m(S),ref_key:"formRef",ref:e},null,8,["formData"])]),_:1})]),_:1}))}}),Lt={style:{width:"88vw",margin:"0 auto","margin-top":"10px"}},qt={class:"back_profile"},la=E({__name:"Triage",setup(N,{expose:e}){const{onTabBeforeChange:S,currentTabIndex:_}=ft();Dt();const D=qe(),U=$e();s([]),s([]),s(!1);const k=s(!0),R=s(!1),C=s(!1),T=$(()=>({text:C.value?"Saving...":"Finish",icon:C.value?"hourglass-outline":"checkmark",hideText:!1,hideIcon:!1,disabled:R.value||C.value})),W=De(),ae=Je(),ne=Ke(),I=Qe();Ze();const oe=Xe(),M=et();tt();const ie=at(),se=me(),j=nt(),{patient:p}=B(ae),{vitals:re}=B(W),{investigations:a}=B(ne),{diagnosis:i}=B(I),{substance:u}=B(ie),{selectedNCDMedicationList:P}=B(oe),{FootScreening:H,visualScreening:le,cvScreening:ue}=B(se),{sessionDate:fe}=B(j),{apiStatus:$t}=B(ot());b(T,(t,n)=>{console.log("Done button options changed:",{from:n,to:t,currentStep:_.value,tabsLength:v.value.length}),t.disabled!==(n==null?void 0:n.disabled)&&console.log("Done button ".concat(t.disabled?"disabled":"enabled")),t.text!==(n==null?void 0:n.text)&&console.log('Done button text changed from "'.concat(n==null?void 0:n.text,'" to "').concat(t.text,'"'))},{deep:!0}),b(C,(t,n)=>{t!==n&&(console.log("Saving state changed: ".concat(n," -> ").concat(t)),console.log(t?"Starting save process...":"Save process completed"))});const Ye=t=>{console.log("Done button change received from wizard:",t),t.newOptions.disabled&&console.log("Done button has been disabled"),t.isLastStep&&console.log("User is on the last step, done button should be visible")},J=()=>{let t=!1;return w(),C.value&&(t=!0),R.value=t,!t},we=()=>{D.push("/triageList")},ce=()=>[{title:"Presenting Complaints",icon:""},{title:"Vital Signs",icon:""},{title:"Level Of Consciousness",icon:""},{title:"Airway/Breathing",icon:""},{title:"Blood Circulation",icon:""},{title:"Disability",icon:""},{title:"Persistent Pain/Other Concerns",icon:""}],v=s(ce()),ye=s(null),xe=s(null);s(null),s(null),s(null),s(null),s(null);const w=()=>{var c;if(!v.value||v.value.length===0)return console.log("Tabs not yet initialized"),null;const t=_.value>=0&&_.value<v.value.length?_.value:0;switch((c=v.value[t])==null?void 0:c.title){case"Presenting Complaints":return"PresentingComplaints";case"Vital Signs":return"Vitals";case"Level Of Consciousness":return"LevelOfConsciousness";case"Airway/Breathing":return"AirwayBreathing";case"Blood Circulation":return"BloodCirculation";case"Disability":return"Disability";case"Persistent Pain/Other Concerns":return"Persistent";default:if(M.NCDActivities.length>0)switch(M.NCDActivities[0]){case"Presenting Complaints":return"PresentingComplaints";case"Vital Signs":return"Vitals";case"Level Of Consciousness":return"LevelOfConsciousness";case"Airway/Breathing":return"Airway/Breathing";case"Blood Circulation":return"BloodCirculation";case"Disability":return"Disability";case"Persistent Pain/Other Concerns":return"Persistent"}return null}},de=()=>{k.value=!1,setTimeout(()=>{_.value=0,k.value=!0},0)},be=()=>{const t=De();t.setVitals(t.getInitialVitals(p.value.ID))},Y=async()=>{var c,y;const t=st(fe.value,"sessionDate","value")||pe.sessionDate(),n=X("vitals");for(let l=0;l<v.value.length;l++){const f=v.value[l];if(f.title==="Vital Signs")v.value[l].icon=K(t,n)?q:"";else if(f.title==="Risk Assessment"){const g=X("substanceAbuse");v.value[l].icon=K(t,g)?q:""}else if(f.title==="Investigations"){const g=(y=(c=p==null?void 0:p.value)==null?void 0:c.labOrders)==null?void 0:y.saved,L=g==null?void 0:g.filter(Ae=>pe.toStandardHisFormat(t)===pe.toStandardHisFormat(Ae.order_date));v.value[l].icon=(L==null?void 0:L.length)>0?q:""}else if(f.title==="Diagnosis"){const g=X("diagnosis");v.value[l].icon=K(t,g)?q:""}else if(f.title==="Complications Screening"){const g=X("screening");v.value[l].icon=K(t,g)?q:""}else f.title==="Treatment Plan"&&(P.value.length>0?v.value[l].icon=rt()?q:"":v.value[l].icon="")}J()},K=(t,n)=>{const c=new Date(t);return c.setHours(0,0,0,0),n.some(y=>{const l=new Date(y.obs_datetime);return l.setHours(0,0,0,0),l.getTime()===c.getTime()})},ke=async()=>{var l,f,g,L;const t=[],n=await Be(le.value),c=await Tt(H.value),y=await Be(ue.value);n.length>0&&t.push({concept_id:await ee.getConceptID("Visual acuity",!0),value_text:"visual acuity test",obs_datetime:ee.getSessionDate(),child:n}),c.length>0&&t.push({concept_id:await ee.getConceptID("Foot check",!0),value_text:"foot screening",obs_datetime:ee.getSessionDate(),child:c}),y.length>0&&t.push(...y),t.length>0?((L=(g=(f=(l=p.value).screening)!=null?f:l.screening={}).unsaved)!=null||(g.unsaved=[]),p.value.screening.unsaved.push(...t),Ne("Complications saved successfully")):ge("No complications data to save")},Re=async()=>{const t=ut();if(!Ct.isEmpty(t.selectedMedicalAllergiesList)){const y=ct(),l=t.selectedMedicalAllergiesList.map(g=>({concept_id:g.concept_id,obs_datetime:_e.getSessionDate(),value_coded:g.concept_id,location_id:y.facilityLocation.code,value_text:g.name})),f=await bt(l);p.value=Object.assign(p.value,f),console.log("Allergies staged successfully:",p.value),t.clearSelectedMedicalAllergiesList()}const n=await ht();p.value=Object.assign(p.value,n);const c=await St().saveNonPharmaTherapyPatientData();p.value=Object.assign(p.value,c)},Ve=async(t,n)=>{var y,l,f;const c=(y=v.value[n])==null?void 0:y.title;t%1===0&&(_.value=t),c=="Vital Signs"&&((l=ye.value)==null||l.onSubmit()),c=="Risk Assessment"&&((f=xe.value)==null||f.onSubmit()),c=="Complications Screening"&&await ke(),c=="Treatment Plan"&&await Re(),await Pe(p.value)},he=async()=>{C.value=!0;try{await lt(),await Pe(p.value),D.push("/triageList")}catch(t){console.error("Error saving data:",t),ge("Error occurred while saving data. Please try again.")}finally{C.value=!1}};return Fe(async()=>{if(M.NCDActivities.length===0){D.push("patientProfile");return}me().resetScreening(),v.value=ce(),await Y(),(_.value===void 0||_.value<0)&&(_.value=0,console.log("Setting initial tab index to 0")),R.value=!1,C.value=!1,J()}),b(_,async()=>{await J()}),b(re,async()=>{await Y()},{deep:!0}),b(p,async()=>{me().resetScreening(),await Y()},{deep:!0}),b(fe,async()=>{await Y()},{deep:!0}),b(a,async()=>{await Y()},{deep:!0}),b(i,async()=>{await Y()},{deep:!0}),b(u,async()=>{await Y()},{deep:!0}),b(P,async()=>{await Y()},{deep:!0}),b(U,async t=>{de(),be(),v.value=ce()},{deep:!0}),b(p,async(t,n)=>{t.ID!=n.ID&&(de(),be())},{deep:!0}),e({saveData:he,markWizard:Y,refreshWizard:de,validateDoneButtonState:J}),(t,n)=>(F(),x(m(Me),null,{default:d(()=>[o(it),o(m(Ee),{fullscreen:!0},{default:d(()=>[o(dt),h("div",Lt,[k.value?(F(),x(yt,{key:0,ref:"wizard",headingTitle:"Triage","vertical-tabs":"","navigable-tabs":"","scrollable-tabs":"",startIndex:0,doneButton:T.value,"custom-tabs":v.value,beforeChange:m(S),onChange:Ve,"onComplete:wizard":n[1]||(n[1]=c=>he()),onDoneButtonChanged:Ye},{default:d(()=>[h("div",null,[h("div",qt,[o(ve,{name:"Back to triage list",iconSlot:"start",fill:"clear",icon:m(We),"font-weight":"600",onClick:n[0]||(n[0]=c=>we())},null,8,["icon"])])]),V(h("div",null,[o(At,{ref:"presentingComplaintsRef"},null,512)],512),[[A,w()=="PresentingComplaints"]]),V(h("div",null,[o(pt,{ref_key:"vitalsRef",ref:ye},null,512)],512),[[A,w()=="Vitals"]]),V(h("div",null,[o(vt,{ref:"levelOfConsciousnessRef"},null,512)],512),[[A,w()=="LevelOfConsciousness"]]),V(h("div",null,[o(Bt,{ref:"airwayBreathingRef"},null,512)],512),[[A,w()=="AirwayBreathing"]]),V(h("div",null,[o(Nt,{ref:"bloodCirculationRef"},null,512)],512),[[A,w()=="BloodCirculation"]]),V(h("div",null,[o(wt,{ref:"disabilityRef"},null,512)],512),[[A,w()=="Disability"]]),V(h("div",null,[o(Ht,{ref:"persistentRef"},null,512)],512),[[A,w()=="Persistent"]])]),_:1},8,["doneButton","custom-tabs","beforeChange"])):te("",!0)])]),_:1})]),_:1}))}});export{la as default};
