System.register(["./vendor-legacy-IGuUoRYO.js","../index-legacy-CPN3hcLt.js","./DemographicBar-legacy-eYqSL0Jx.js","./useLocation-legacy-DYREuazP.js","./patient_diagnosis_service-legacy-WoFtATc_.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-w_Qe4jnt.js"],function(e,a){"use strict";var t,o,n,i,l,r,d,c,s,u,p,m,v,f,h,y,b,g,x,T,_,F,w,A,C,P,S,k,N,V,D,R,q,I,B,O,L,E,M,j,Y,H,U,z,W,G,$,J,K,Q,X,Z,ee,ae,te;return{setters:[e=>{t=e.d,o=e.e,n=e.f,i=e.k,l=e.l,r=e.Q,d=e.m,c=e.u,s=e.N,u=e.cl,p=e.I,m=e.p,v=e.r,f=e.bh,h=e.G,y=e.H,b=e.a3,g=e.E,x=e.M,T=e.c,_=e.aF,F=e.c7,w=e.eB,A=e.ca,C=e.cg,P=e.eS,S=e.a,k=e.L,N=e.bU,V=e.dq,D=e.eT,R=e.eU,q=e.F,I=e.T,B=e.bq},e=>{O=e._,L=e.S,E=e.u,M=e.F,j=e.q,Y=e.K,H=e.H,U=e.b,z=e.G,W=e.J,G=e.y,$=e.n,J=e.z,K=e.C,Q=e.t,X=e.T,Z=e.o},e=>{ee=e.D},e=>{ae=e.u},e=>{te=e.P},null,null],execute:function(){var a=document.createElement("style");a.textContent=".card[data-v-2f6e2295]{background:#fff;border-radius:16px;padding:32px 24px;box-shadow:0 2px 8px rgba(0,0,0,.08);cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;gap:16px;min-height:160px;justify-content:center;position:relative}.card[data-v-2f6e2295]:hover{transform:translateY(-4px);box-shadow:0 8px 24px rgba(0,0,0,.12)}.card-saved[data-v-2f6e2295]{border:2px solid var(--ion-color-success, #2dd573);background:linear-gradient(135deg,rgba(46,213,115,.05),rgba(46,213,115,.1));opacity:.8;cursor:not-allowed}.card-saved[data-v-2f6e2295]:hover{transform:none;box-shadow:0 2px 8px rgba(0,0,0,.08)}.icon-container[data-v-2f6e2295]{display:flex;align-items:center;justify-content:center;width:64px;height:64px;position:relative}.card-icon[data-v-2f6e2295]{width:48px;height:48px;color:var(--ion-color-primary, #3880ff);transition:transform .3s ease}.card:hover:not(.card-saved) .card-icon[data-v-2f6e2295]{transform:scale(1.1)}.card-saved .card-icon[data-v-2f6e2295]{color:var(--ion-color-success, #2dd573)}.check-icon[data-v-2f6e2295]{position:absolute;top:-8px;right:-8px;width:24px;height:24px;color:var(--ion-color-success, #2dd573);background:#fff;border-radius:50%;animation:checkmarkPop-2f6e2295 .4s ease-out}.card-title[data-v-2f6e2295]{font-size:15px;font-weight:500;color:#333;text-align:center;line-height:1.4}@keyframes checkmarkPop-2f6e2295{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}@media(max-width:768px){.card[data-v-2f6e2295]{padding:24px 16px;min-height:140px}.icon-container[data-v-2f6e2295]{width:56px;height:56px}.card-icon[data-v-2f6e2295]{width:40px;height:40px}.check-icon[data-v-2f6e2295]{width:20px;height:20px;top:-6px;right:-6px}.card-title[data-v-2f6e2295]{font-size:14px}}.calendar-container[data-v-3ca86ed3]{margin:0 auto}.calendar-selector[data-v-3ca86ed3]{display:flex}.calendar-title[data-v-3ca86ed3]{font-size:24px;font-weight:600;color:#00190e;margin-bottom:20px;text-align:center}.calendar[data-v-3ca86ed3]{--dp-cell-padding: 30px;--dp-menu-padding: 20px 5px;--dp-font-size: 18px;display:flex;justify-content:center}.calendar-day[data-v-3ca86ed3]{font-weight:600;font-size:20px;margin:0}.day-wrapper[data-v-3ca86ed3]{position:relative;display:inline-block}.count-badge[data-v-3ca86ed3]{position:absolute;top:-5px;right:-8px;font-size:10px;font-weight:700;color:#f44}.run-out-date[data-v-3ca86ed3]{background-color:var(--dp-primary-color);border-radius:10%;color:#000;padding:7px}.dashboard-container[data-v-96bfe89a]{min-height:100vh;padding:10px 20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.back-profile[data-v-96bfe89a]{max-width:1400px;margin:0 auto 24px;display:flex;justify-content:space-between}.dashboard-grid[data-v-96bfe89a]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:24px;max-width:1400px;margin:0 auto}.sub-button[data-v-96bfe89a]{margin-left:8px}@media(max-width:768px){.dashboard-container[data-v-96bfe89a]{padding:20px 16px}.dashboard-grid[data-v-96bfe89a]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:16px}.back-profile[data-v-96bfe89a]{margin-bottom:16px}}\n/*$vite$:1*/",document.head.appendChild(a);const oe={class:"icon-container"},ne={class:"card-title"},ie=t({__name:"ANCCard",props:{icon:{},title:{},isSaved:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:a}){const t=a;return(a,v)=>(n(),o("div",{class:m(["card",{"card-saved":e.isSaved}]),onClick:v[0]||(v[0]=e=>t("click"))},[i("div",oe,[l(c(s),{icon:e.icon,class:"card-icon"},null,8,["icon"]),e.isSaved?(n(),r(c(s),{key:0,icon:c(u),class:"check-icon"},null,8,["icon"])):d("",!0)]),i("div",ne,p(e.title),1)],2))}}),le=O(ie,[["__scopeId","data-v-2f6e2295"]]),re={class:"calendar-container"},de={class:"calendar-selector"},ce={class:"calendar-day"},se={class:"day-wrapper"},ue={class:"count-badge"},pe=O(t({__name:"NextAppointment",setup(e){const a=v(null),t=v(new Date(L.getSessionDate())),o=E(),{patient:d}=f(o),s=async()=>{if(!a.value)return;const e=await Y.buildValueDate("Appointment date",H.toStandardHisFormat(a.value));await Y.addObsToEncounterPatient([e],U.APPOINTMENT)&&z("next Appointment Set Successfully"),await W(d.value),x.dismiss()},u=async e=>{e&&(a.value=e)};return(e,o)=>{const d=h("VueDatePicker");return n(),r(j,{title:"Next Appointment ",subtitle:"ANC Next Appointment",headerIcon:c(g)},{"top-buttons":y(()=>[l(M,{name:"Save Appointment",onClick:s,fill:"solid",class:"save-button"})]),content:y(()=>[i("div",re,[o[1]||(o[1]=i("h2",{class:"calendar-title"},"Set Appointments",-1)),i("div",de,[l(d,{class:"calendar",onDateUpdate:u,inline:"","auto-apply":"","enable-time-picker":!1,"min-date":t.value,modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e)},{day:y(({day:e,date:a})=>[i("p",ce,[i("span",se,[b(p(e)+" ",1),i("sup",ue,p(""),1)])])]),_:1},8,["min-date","modelValue"])])])]),_:1},8,["headerIcon"])}}}),[["__scopeId","data-v-3ca86ed3"]]),me={class:"content-wrapper"},ve=t({__name:"ANCreferral",setup(e){const{ANCReferralForm:a}=(()=>{const{facilityList:e,getFacilities:a}=ae(),t=v([]),o=async e=>{const a=e.trim().toLowerCase()||"";return t.value=await te.getDiagnosis(a,1,15),t.value};o(""),a();const n=["Walking","Ambulance","Public transport","Private transport","Police vehicle","Other public or company vehicle","Motorcycle","Taxi (car/motorcycle)","Bicycle"].map(e=>({label:e,value:e}));return{ANCReferralForm:T(()=>[{componentType:"radioButtonField",header:"Referral for urgent care",name:"Referral for urgent care",obsValueType:"value_text",validation:G.required,type:"inline",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Reason for referral",name:"Reason for referral",obsValueType:"value_text",type:"inline",options:[{label:"Referral for screening including diagnostics",value:"Referral for screening including diagnostics"},{label:"Referral for other general services",value:"Referral for other general services"}]},{componentType:"textAreaField",header:"Other reasons for referral",name:"_Reason for referral",obsValueType:"value_text",icon:$.editPen,condition:e=>"Referral for other general services"===(null==e?void 0:e["Reason for referral"])},{componentType:"radioButtonField",header:"Any treatment given before referral?",name:"Any treatment given before referral",obsValueType:"value_text",validation:G.required,type:"inline",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"textAreaField",header:"Summary of current condition and treatment provided on referral?",name:"Summary of current condition and treatment provided on referral?",obsValueType:"value_text",icon:$.editPen,condition:e=>"Yes"===(null==e?void 0:e["Any treatment given before referral"])},{componentType:"Dashes"},{name:"Provisional Diagnosis",header:"Provisional Diagnosis",componentType:"multiSelectInputField",isMultiple:!0,trackBy:"name",obsValueType:"value_coded",options:t.value,icon:$.search,onSearchChange:o,validation:G.required},{componentType:"Dashes"},{componentType:"multiSelectInputField",header:"Facility",name:"Referral facility",trackBy:"code",openDirection:"auto",icon:$.search,obsValueType:"value_text",validation:e=>G.required(e),options:e.value.facilities||e.value},{componentType:"inputField",header:"Department",name:"Department",obsValueType:"value_text",grid:{s:"6"},icon:$.editPen},{componentType:"inputField",header:"Contact Person",name:"Contact Person",obsValueType:"value_text",icon:$.editPen,grid:{s:"6"}},{componentType:"Dashes"},{componentType:"switchField",label:"Accompanying Staff",name:"Accompanying Staff",obsValueType:"value_text",trueValue:"Yes",falseValue:"No"},{componentType:"multiSelectInputField",header:"Transport Type",name:"Mode of transport",obsValueType:"value_text",isMultiple:!1,label:"label",trackBy:"value",options:n,grid:{s:"6"}},{componentType:"inputField",header:"Provider’s phone number",name:"Provider’s phone number",obsValueType:"value_text",grid:{s:"6"},icon:$.phone,validation:G.isMWPhoneNumber},{componentType:"dateInputField",header:"Referral Appointment Date",name:"Date referral was made",showTodayButton:!0,validation:G.required,obsValueType:"value_date",icon:$.calendar,grid:{s:"6"}},{componentType:"inputField",header:"Referral Appointment Time",name:"Time referral made",type:"time",validation:G.required,obsValueType:"value_text",icon:$.time,grid:{s:"6"}},{componentType:"Dashes"},{componentType:"textAreaField",header:"Referral notes",name:"Referral notes",obsValueType:"value_text",icon:$.editPen,validation:G.required}])}})(),{formRef:t}=J(),o=async()=>{var e,a,o;const n=null===(e=t.value)||void 0===e?void 0:e.getFormValues();if(null!==(null===(a=t.value)||void 0===a?void 0:a.validateForm()))return Q("Please fill all the required fields");await Y.buildSaveObs(n,U.REFERRAL)&&z("ANC referral details have been created"),null===(o=t.value)||void 0===o||o.resetForm(),x.dismiss()};return(e,d)=>(n(),r(j,{title:"Referral Form",subtitle:"ANC Patient Referral",headerIcon:c(g)},{"top-buttons":y(()=>[l(M,{name:"Save Referral",onClick:o,fill:"solid",class:"save-button"})]),content:y(()=>[i("div",me,[l(K,{formData:c(a),ref_key:"formRef",ref:t},null,8,["formData"])])]),_:1},8,["headerIcon"]))}}),fe={class:"content-wrapper"},he=t({__name:"PregnantOutcome",setup(e){const{pregnantOutComeForm:a}=(()=>{const e=[{label:"In labour",value:"In labour"},{label:"Live birth",value:"Live birth"},{label:"Stillbirth",value:"Stillbirth"},{label:"Pregnancy, miscarriage",value:"Pregnancy, miscarriage"},{label:"Abortion",value:"Abortion"},{label:"Death",value:"Death"},{label:"Lost to follow up",value:"Lost to follow up"},{label:"Moved away",value:"Moved away"},{label:"Other outcome",value:"Other outcome"}],a=[{label:"Home",value:"Home or TBA"},{label:"Health-care facility",value:"Health-care facility"},{label:"Other",value:"Other"}],t=[{label:"Normal",value:"Normal"},{label:"Forceps",value:"Forceps"},{label:"Vacuum",value:"Vacuum"},{label:"Caesarean section",value:"Caesarean section"}];return{pregnantOutComeForm:T(()=>[{componentType:"radioButtonField",header:"What is the outcome of the pregnancy?",name:"ANC pregnancy outcome",obsValueType:"value_coded",type:"inline",validation:G.required,options:e},{grid:{s:"1"}},{componentType:"textAreaField",header:"Specify",name:"Pregnancy outcome notes",obsValueType:"value_text",icon:$.editPen,grid:{s:"11"},validation:G.required,condition:e=>"Other outcome"===(null==e?void 0:e["ANC pregnancy outcome"])},{grid:{s:"1"}},{componentType:"dateInputField",header:"Date of death",name:"Date of death",showTodayButton:!0,grid:{s:"11"},validation:G.required,obsValueType:"value_date",icon:$.calendar,condition:e=>"Death"===(null==e?void 0:e["ANC pregnancy outcome"])},{grid:{s:"1"}},{componentType:"textAreaField",header:"Cause of Death",name:"Cause of death",obsValueType:"value_text",icon:$.editPen,grid:{s:"11"},validation:G.required,condition:e=>"Death"===(null==e?void 0:e["ANC pregnancy outcome"])},{grid:{s:"1"}},{componentType:"dateInputField",header:"Estimated date of delivery",name:"Estimated date of delivery",showTodayButton:!0,grid:{s:"11"},validation:G.required,obsValueType:"value_date",icon:$.calendar,condition:e=>"Live birth"===(null==e?void 0:e["ANC pregnancy outcome"])},{grid:{s:"1"}},{componentType:"radioButtonField",header:"Place of delivery",name:"Place of Delivery",obsValueType:"value_coded",grid:{s:"11"},validation:G.required,type:"inline",options:a,condition:e=>"Live birth"===(null==e?void 0:e["ANC pregnancy outcome"])},{grid:{s:"1"}},{componentType:"inputField",header:"Specify",name:"_Place of delivery",obsValueType:"value_text",icon:$.editPen,grid:{s:"11"},validation:G.required,condition:e=>"Other"===(null==e?void 0:e["Place of Delivery"])},{grid:{s:"1"}},{componentType:"radioButtonField",header:"Preterm birth",name:"Preterm birth",obsValueType:"value_coded",grid:{s:"11"},validation:G.required,type:"inline",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],condition:e=>"Live birth"===(null==e?void 0:e["ANC pregnancy outcome"])},{grid:{s:"1"}},{componentType:"radioButtonField",header:"Mode of delivery",name:"Mode of delivery",obsValueType:"value_coded",type:"inline",grid:{s:"11"},validation:G.required,options:t,condition:e=>"Live birth"===(null==e?void 0:e["ANC pregnancy outcome"])},{grid:{s:"1"}},{componentType:"inputField",header:"Birth weight (grams)",name:"Weight",obsValueType:"value_numeric",type:"number",icon:$.weight,grid:{s:"11"},validation:e=>{const a=G.required(e);if(!0!==a)return a;const t=Number(e);return isNaN(t)?"Value should be a number":t<0?"Weight must be positive":!(t>6e3)||"Weight must be less than 6000g"},condition:e=>"Live birth"===(null==e?void 0:e["ANC pregnancy outcome"])}])}})(),{formRef:t}=J(),o=_(),d=async()=>{var e,a,n;const i=null===(e=t.value)||void 0===e?void 0:e.getFormValues();if(null!==(null===(a=t.value)||void 0===a?void 0:a.validateForm()))return Q("Please fill all the required fields");await Y.buildSaveObs(i,U.PREGNANT_OUTCOME)&&z("ANC referral details have been created"),null===(n=t.value)||void 0===n||n.resetForm(),o.push("patientProfile")};return(e,o)=>(n(),r(j,{title:"Pregnancy Outcome",subtitle:"ANC Pregnancy Outcome",headerIcon:c(g)},{"top-buttons":y(()=>[l(M,{name:"Save Outcome",onClick:d,fill:"solid",class:"submit-button"})]),content:y(()=>[i("div",fe,[l(K,{formData:c(a),ref_key:"formRef",ref:t},null,8,["formData"])])]),_:1},8,["headerIcon"]))}}),ye={class:"dashboard-container"},be={class:"back-profile"},ge={class:"dashboard-grid"};e("default",O(t({__name:"Contacts",setup(e){const a=_(),t=E(),{patient:d}=f(t),s=v(""),u=[{title:"Symptoms and Follow Up",path:"/symptomsFollowUp",icon:F,isSaved:!1},{title:"Physical Examination",path:"/physicalExamination",icon:w,isSaved:!1},{title:"Lab Tests and Imaging",path:"/labTests",icon:A,isSaved:!1},{title:"Diagnosis and Treatment",path:"/ANCDiagnosisTreatment",icon:C,isSaved:!1},{title:"Counselling",path:"/counselling",icon:P,isSaved:!1}],p=T(()=>s.value?u.filter(e=>"Profile"!==e.title):u),m=e=>{a.push({path:e})},h=async()=>{await Z(pe,{class:"medium-modal"})},b=async()=>{await Z(ve,{class:"medium-modal"})},g=async()=>{await Z(he,{class:"medium-modal"})};return S(()=>{(async()=>{try{const e=await Y.getFirstObsValue(d.value.patientID,"Gravida","value_text");s.value=e}catch(e){console.error("Error fetching gravida:",e)}})()}),(e,a)=>(n(),r(c(B),null,{default:y(()=>[l(X),l(c(k),{fullscreen:!0},{default:y(()=>[l(ee),i("div",ye,[i("div",be,[l(M,{name:"Back to profile",iconSlot:"start",fill:"clear",icon:c(N),onClick:a[0]||(a[0]=e=>m("/patientProfile"))},null,8,["icon"]),i("div",null,[l(M,{name:"Schedule appointment",iconSlot:"start",fill:"outline",icon:c(V),onClick:h,class:"sub-button"},null,8,["icon"]),l(M,{name:"Referral",iconSlot:"start",fill:"outline",icon:c(D),onClick:b,class:"sub-button"},null,8,["icon"]),l(M,{name:"Pregnancy outcome",iconSlot:"start",fill:"outline",icon:c(R),onClick:g,class:"sub-button"},null,8,["icon"])])]),i("div",ge,[(n(!0),o(q,null,I(p.value,(e,a)=>(n(),r(le,{key:a,icon:e.icon,title:e.title,isSaved:e.isSaved,onClick:a=>!e.isSaved&&m(e.path)},null,8,["icon","title","isSaved","onClick"]))),128))])])]),_:1})]),_:1}))}}),[["__scopeId","data-v-96bfe89a"]]))}}});
