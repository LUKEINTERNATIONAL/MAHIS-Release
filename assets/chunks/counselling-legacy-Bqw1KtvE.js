System.register(["./vendor-legacy-CL4ddJgY.js","../index-legacy-CaiYktbb.js","./DemographicBar-legacy-CZymnnmk.js","./Stepper-legacy-BAeFJNRX.js","./formatServerData-legacy-gkVsT-lA.js","./BasicFooter-legacy-B1DJmZrz.js","./NextAppointment-legacy-BFKLqpty.js","./SetEncounter.vue_vue_type_script_lang-legacy-DpYbgx39.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-TrKVFpG0.js","./OPDOutcome-legacy-cdXzDDcE.js","./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-legacy-DLJ1vyLg.js","./previousComplaints-legacy-CrL_Ak-l.js","./patient_complaints_service-legacy-BlIJFubO.js","./DashBox-legacy-Dbupz2kW.js","./drug_prescription_service-legacy-BhQ_6hiw.js","./nonPharmaTherapyStore-legacy-D1161NT5.js","./patient_diagnosis_service-legacy-D7aTsCR2.js","./Outcome-legacy-CvVRjJEp.js","./wardsStore-legacy-DEUD_0kC.js","./BasicForm-legacy-zIFOOTdk.js","./DateInputField-legacy-BiSji2JA.js","./VitalsMixin.vue_vue_type_script_lang-legacy-1JOKd7ry.js","./TreatmentPlan-legacy-hXauFlBn.js","./group_validation-legacy-JPLgEzBR.js","./ComplicationsStore-legacy-CfXEJxPb.js","./OPDDiagnosis-legacy-CnkRVvLG.js","./MedicalHistory-legacy-SUxBz0pC.js","./FeatusModal-legacy-D9jI1ITC.js","./AbdominalExamination-legacy-Dc_mpT-s.js","./dewormingStore-legacy-RiETnPgt.js","./SaveProgressModal-legacy-BLyMfTSA.js","./BasicCard-legacy-CZQbbKc-.js","./UpcomingFeature-legacy-CGVXCxcM.js","./PastObstreticHistoryStore-legacy-DWAw7k6e.js","./LabOrdersList-legacy-D-LAHtaA.js","./EnterLabResultsModal-legacy-BhjHaaqt.js","./useUserActivities-legacy-Ci5gInde.js","./RadiologyStore-legacy-1g2GrKvb.js","./useFormWizard-legacy-Cvpr5LYO.js","./user_role_management-legacy-Cc9vCQdS.js","./ncd_appointment_service-legacy-BqFeXjLT.js"],function(e,n){"use strict";var t,o,l,i,a,s,c,u,r,g,d,h,p,C,y,v,m,_,D,b,I,j,S,f,w,N,B,k,F,P,O,T,x,U,z,M,H,L,$,A,E,R,W,V,G,J;return{setters:[e=>{t=e.D,o=e.d,l=e.ai,i=e.bo,a=e.X,s=e.$,c=e.am,u=e.al,r=e.aR,g=e.cB,d=e.aS,h=e.aV,p=e.bw,C=e.N,y=e.G,v=e.E,m=e.a7,_=e.cs,D=e.I,b=e.a4,I=e.aU,j=e.bT,S=e.H,f=e.O,w=e.f,N=e.J,B=e.l},e=>{k=e.aT,F=e.W,P=e.T,O=e.S,T=e.t,x=e.K,U=e.bJ,z=e.u,M=e.n,H=e._},e=>{L=e.D},e=>{$=e.S,A=e.n},e=>{E=e.c,R=e.f,W=e.a},e=>{V=e.B},e=>{G=e.b},e=>{J=e._},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const n=t("behaviourCousellingStore",{state:()=>({behaviourCounsellingDone:[],reasonNotConducted:[],reason_other_note:""}),actions:{setBehaviourInfo(e){this.$patch(e)},getInitial(){return{...this.$state}},reset(){this.$patch({behaviourCounsellingDone:[],reasonNotConducted:[],reason_other_note:""})}}}),X=t("physiologicalCounselingStore",{state:()=>({physiologicalCounsellingDone:[],reasonNotConducted:[],reason_other_note:""}),actions:{setPhysiologicalInfo(e){this.physiologicalCounsellingDone=e.physiologicalCounsellingDone||[],this.reasonNotConducted=e.reasonNotConducted||[],this.reason_other_note=e.reason_other_note||""},getInitial(){return{physiologicalCounsellingDone:[...this.physiologicalCounsellingDone],reasonNotConducted:[...this.reasonNotConducted],reason_other_note:this.reason_other_note}},reset(){this.physiologicalCounsellingDone=[],this.reasonNotConducted=[],this.reason_other_note=""}}}),K=t("dietCounsellingStore",{state:()=>({dietCounsellingDone:[],reasonNotConducted:[]}),actions:{setDietInfo(e){this.dietCounsellingDone=e.dietCounsellingDone||[],this.reasonNotConducted=e.reasonNotConducted||[]},getInitial(){return{dietCounsellingDone:[...this.dietCounsellingDone],reasonNotConducted:[...this.reasonNotConducted]}},reset(){this.dietCounsellingDone=[],this.reasonNotConducted=[]}}}),Y=t("clinicalCounsellingStore",{state:()=>({clinicalCounsellingDone:[],reasonNotConducted:[]}),actions:{setClinicalInfo(e){this.clinicalCounsellingDone=e.clinicalCounsellingDone||[],this.reasonNotConducted=e.reasonNotConducted||[]},getInitial(){return{clinicalCounsellingDone:[...this.clinicalCounsellingDone],reasonNotConducted:[...this.reasonNotConducted]}},reset(){this.clinicalCounsellingDone=[],this.reasonNotConducted=[]}}});class q extends k{constructor(e,n){super(e,149,n)}}const Q=o({name:"Home",mixins:[G,J],components:{BasicFooter:V,IonContent:b,IonHeader:D,IonMenuButton:_,IonPage:m,IonTitle:v,IonToolbar:y,Toolbar:P,ToolbarSearch:F,DemographicBar:L,IonButton:C,IonCard:p,IonCardContent:h,IonCardHeader:d,IonCardSubtitle:g,IonCardTitle:r,IonAccordion:u,IonAccordionGroup:c,IonItem:s,IonLabel:a,IonModal:i,Stepper:$},data:()=>({wizardData:[{title:"Behavior counselling",class:"common_step",checked:"",icon:!1,disabled:!1,number:1,last_step:""},{title:"Physiological counselling",class:"common_step",checked:"",icon:!1,disabled:!1,number:2,last_step:""},{title:"Diet counselling",class:"common_step",checked:"",icon:!1,disabled:!1,number:3,last_step:""},{title:"Clinical counselling",class:"common_step",checked:"",icon:!1,disabled:!1,number:4,last_step:""},{title:"Preventative counselling",class:"common_step",checked:"",icon:!1,disabled:!1,number:5,last_step:"last_step"}],StepperData:[{title:"Behavior counselling",component:"BehaviourCounselling",value:"1"},{title:"Physiological counselling",component:"PhysiologicalCounseling",value:"2"},{title:"Diet counselling",component:"DietCounselling",value:"3"},{title:"Clinical counselling",component:"ClinicalCounselling",value:"4"},{title:"Preventative counselling",component:"DiagnosisCounselling",value:"5"}],isOpen:!1,iconsContent:M}),mounted(){this.markWizard()},computed:{...l(z,["patient"]),...l(n,["behaviourInfo"]),...l(X,["physiologicalCounselingInfo"]),...l(K,["dietCounsellingInfo"]),...l(Y,["clinicalCounselling"]),...l(A,["preventativeCounselling"])},setup:()=>({chevronBackOutline:j,checkmark:I}),methods:{markWizard(){},getSaveFunction(){},getFormatedData:e=>e.map(e=>null==e?void 0:e.data),async saveData(){this.saveCounselling(),await U(),this.$router.push("contact")},async saveCounselling(){if(this.physiologicalCounselingInfo.length>=0||this.dietCounsellingInfo>=0||this.behaviourInfo>=0||this.clinicalCounselling>=0||this.preventativeCounselling>=0){const e=O.getUserID(),n=new q(this.patient.patientID,e);if(!(await n.createEncounter()))return T("Unable to create patient counselling encounter");if(!(await n.saveObservationList(await this.buildCounselling())))return T("Unable to create counselling details!");x("Counselling details have been saved")}console.log(await this.buildCounselling())},async buildCounselling(){return[...await E(this.dietCounsellingInfo),...await R(this.dietCounsellingInfo),...await W(this.dietCounsellingInfo),...await E(this.behaviourInfo),...await R(this.behaviourInfo),...await W(this.behaviourInfo),...await E(this.physiologicalCounselingInfo),...await R(this.physiologicalCounselingInfo),...await W(this.physiologicalCounselingInfo),...await E(this.clinicalCounselling),...await R(this.clinicalCounselling),...await W(this.clinicalCounselling),...await E(this.preventativeCounselling),...await R(this.preventativeCounselling),...await W(this.preventativeCounselling)]}}});e("default",H(Q,[["render",function(e,n,t,o,l,i){const a=S("Toolbar"),s=S("DemographicBar"),c=S("Stepper"),u=S("ion-content"),r=S("BasicFooter"),g=S("ion-page");return w(),f(g,null,{default:N(()=>[B(a),B(u,{fullscreen:!0},{default:N(()=>[B(s),B(c,{stepperTitle:"Counselling",wizardData:e.wizardData,onUpdateStatus:e.markWizard,StepperData:e.StepperData,backUrl:e.userRoleSettings.url,backBtn:e.userRoleSettings.btnName,getSaveFunction:e.getSaveFunction},null,8,["wizardData","onUpdateStatus","StepperData","backUrl","backBtn","getSaveFunction"])]),_:1}),B(r,{onFinishBtn:n[0]||(n[0]=n=>e.saveData())})]),_:1})}]]))}}});
