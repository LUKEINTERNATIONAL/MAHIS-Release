!function(){function e(e,a,t){return(a=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}System.register(["./vendor-legacy-CDrSvgo5.js","../index-legacy-cXw6lMU4.js","./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-legacy-BKfqvc6n.js","./patient_complaints_service-legacy-B8PZ0ONI.js","./DashBox-legacy-DRjRZVbT.js","./BasicForm-legacy-S0givJyR.js","./formatServerData-legacy-C6sxVMex.js","./LabOrdersList-legacy-Dy1kIIOv.js","./NextAppointment-legacy-evSGqkqz.js","./group_validation-legacy-BQq-Edkj.js","./useFormWizard-legacy-BAGXa3wZ.js","./lodash-legacy-pOOc9Efu.js","./usePatientProfile-legacy-BliUdPpf.js","./drug_prescription_service-legacy-ANu0QHDK.js"],function(a,t){"use strict";var n,i,o,l,s,r,d,c,u,p,v,m,g,f,h,b,y,_,x,w,k,C,D,S,I,O,A,P,E,H,V,T,N,M,L,R,F,B,z,U,q,W,j,G,Y,$,Q,J,K,X,Z,ee,ae,te,ne,ie,oe,le,se,re,de,ce,ue,pe,ve,me,ge,fe,he,be,ye,_e,xe,we,ke,Ce,De,Se,Ie,Oe,Ae,Pe,Ee,He,Ve,Te,Ne,Me,Le,Re,Fe,Be,ze,Ue,qe,We,je,Ge,Ye,$e,Qe,Je,Ke,Xe,Ze,ea,aa,ta,na,ia,oa,la,sa,ra,da,ca,ua,pa,va,ma,ga,fa,ha,ba,ya,_a,xa,wa,ka,Ca,Da,Sa,Ia,Oa,Aa,Pa,Ea,Ha,Va,Ta,Na,Ma,La,Ra,Fa,Ba,za,Ua,qa,Wa,ja,Ga,Ya,$a,Qa,Ja,Ka,Xa,Za,et,at,tt,nt,it,ot,lt,st,rt,dt,ct,ut,pt,vt,mt,gt,ft,ht,bt,yt,_t,xt,wt,kt,Ct,Dt,St,It,Ot,At,Pt,Et,Ht,Vt;return{setters:[e=>{n=e.d,i=e.aV,o=e.r,l=e.a,s=e.w,r=e.e,d=e.f,c=e.k,u=e.l,p=e.u,v=e.ah,m=e.b5,g=e.b2,f=e.G,h=e.E,b=e.ai,y=e.aj,_=e._,x=e.I,w=e.a3,k=e.bf,C=e.aU,D=e.H,S=e.m,I=e.J,O=e.Q,A=e.c,P=e.F,E=e.O,H=e.bx,V=e.aP,T=e.bm,N=e.a4,M=e.a5,L=e.al,R=e.P,F=e.ak,B=e.W,z=e.K,U=e.bA,q=e.bv,W=e.Z,j=e.aS,G=e.z,Y=e.an,$=e.cE,Q=e.a2,J=e.R,K=e.i,X=e.v,Z=e.b9,ee=e.au,ae=e.es,te=e.et,ne=e.eu,ie=e.az,oe=e.aF,le=e.aw,se=e.bU,re=e.aN,de=e.p,ce=e.bs,ue=e.L,pe=e.ev,ve=e.ew,me=e.bk,ge=e.ex,fe=e.ey,he=e.d6,be=e.ez,ye=e.eA,_e=e.eB,xe=e.db,we=e.bT,ke=e.ay,Ce=e.b$,De=e.N,Se=e.br,Ie=e.bl,Oe=e.bn,Ae=e.bZ,Pe=e.bu,Ee=e.c5,He=e.dm,Ve=e.e5},e=>{Te=e.bE,Ne=e.bv,Me=e.a$,Le=e.M,Re=e.b1,Fe=e.t,Be=e.af,ze=e.aW,Ue=e.G,qe=e._,We=e.J,je=e.b5,Ge=e.B,Ye=e.bd,$e=e.S,Qe=e.o,Je=e.O,Ke=e.aQ,Xe=e.aH,Ze=e.H,ea=e.u,aa=e.l,ta=e.bF,na=e.aB,ia=e.aA,oa=e.aC,la=e.b2,sa=e.L,ra=e.bG,da=e.bH,ca=e.bI,ua=e.bJ,pa=e.bK,va=e.bL,ma=e.bM,ga=e.P,fa=e.bN,ha=e.bO,ba=e.bP,ya=e.bQ,_a=e.bR,xa=e.s,wa=e.aG,ka=e.aI,Ca=e.aJ,Da=e.aK,Sa=e.d,Ia=e.aL,Oa=e.g,Aa=e.Z,Pa=e.e,Ea=e.N,Ha=e.aM,Va=e.aN,Ta=e.aO,Na=e.aP,Ma=e.aR,La=e.a0,Ra=e.m,Fa=e.bS,Ba=e.bT,za=e.aT,Ua=e.b8,qa=e.K,Wa=e.aw,ja=e.an,Ga=e.ar,Ya=e.aq},e=>{$a=e.p,Qa=e.e,Ja=e.a,Ka=e.m,Xa=e.b,Za=e.v,et=e.c,at=e._},e=>{tt=e.P},e=>{nt=e.D},e=>{it=e.B},e=>{ot=e.c,lt=e.f,st=e.a,rt=e.b},e=>{dt=e.default},e=>{ct=e.R,ut=e._,pt=e.L,vt=e.A,mt=e.D,gt=e.a},e=>{ft=e.v},e=>{ht=e.u,bt=e.a,yt=e._,_t=e.s,xt=e.c,wt=e.b,kt=e.P},e=>{Ct=e.l},e=>{Dt=e.u,St=e._,It=e.D,Ot=e.A,At=e.R,Pt=e.a,Et=e.b},e=>{Ht=e.a,Vt=e.b}],execute:function(){var t=document.createElement("style");t.textContent=".modal_wrapper[data-v-e5153372]{display:flex;flex-direction:column;width:100%;max-width:1200px;margin:0 auto}@media(max-width:768px){.modal_wrapper[data-v-e5153372]{max-width:100%}}@media(max-width:480px){.modal_wrapper[data-v-e5153372]{flex-direction:column}}#container[data-v-67ff1a61]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-67ff1a61]{font-size:20px;line-height:26px}#container p[data-v-67ff1a61]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-67ff1a61]{text-decoration:none}.action_buttons[data-v-67ff1a61]{color:var(--ion-color-primary);display:flex;align-items:center;float:right;max-width:70px}.modify_buttons[data-v-67ff1a61]{padding-left:20px}.item_no_border[data-v-67ff1a61]{--border-color: transparent}.search_result[data-v-67ff1a61]{padding:10px}.action_buttons[data-v-67ff1a61]{opacity:0;transition:opacity .3s}.dashed_bottom_border:hover .action_buttons[data-v-67ff1a61]{opacity:1}.dashed_bottom_border[data-v-67ff1a61]{font-weight:700}.sub_item_body[data-v-67ff1a61]{margin-left:45px}ion-segment-button[data-v-67ff1a61]{background:#fff;margin-right:1px;font-size:12px;text-transform:unset}.bottomSummary[data-v-67ff1a61]{margin-top:20px;max-width:600px}.bottomSummary .segment-button-checked[data-v-67ff1a61]{background:#fff!important;--indicator-color: none}.bottomSummary ion-segment-button[data-v-67ff1a61]{background:#e6e6e6;margin-right:5px;border-top-right-radius:10px;border-top-left-radius:10px;text-transform:unset;font-style:normal;font-weight:700;font-size:12px}.vitals_title[data-v-04755951]{border-bottom:1px solid #b3b3b3;margin-bottom:50px}.input-with-icon[data-v-04755951]{position:relative}.input-icon[data-v-04755951]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-04755951]{padding-bottom:15px}h5[data-v-04755951]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.previousView[data-v-04755951]{margin-top:70px;margin-bottom:20px}.section-header ion-label[data-v-1fe6c93a]{font-size:1rem;font-weight:600;letter-spacing:.5px;color:var(--ion-color-primary);text-transform:uppercase}ion-checkbox[data-v-1fe6c93a]{--size: 24px !important}ion-radio[data-v-1fe6c93a]{--size: 27px !important}.error[data-v-1fe6c93a]{color:red;font-weight:700;font-style:italic}.vitals_title[data-v-0aa2f61c]{border-bottom:1px solid #b3b3b3;margin-bottom:50px}.input-with-icon[data-v-0aa2f61c]{position:relative}.input-icon[data-v-0aa2f61c]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-0aa2f61c]{padding-bottom:15px}h5[data-v-0aa2f61c]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.previousView[data-v-0aa2f61c]{margin-top:70px;margin-bottom:20px}.allergies-container[data-v-4451d7ce]{padding:1rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.section-title[data-v-4451d7ce]{display:flex;align-items:center;font-size:18px;font-weight:700;color:#1f2937;letter-spacing:-.01em;margin-bottom:16px}.alert-icon[data-v-4451d7ce]{font-size:24px;color:#dc2626;margin-right:8px}.no-allergies[data-v-4451d7ce]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;background:#f8f9fa;border-radius:12px;border:2px dashed #e0e0e0}.no-allergies-icon[data-v-4451d7ce]{font-size:3rem;color:#10dc60}.no-allergies p[data-v-4451d7ce]{margin:0;color:#666;font-size:1rem}.date-groups[data-v-4451d7ce]{display:flex;flex-direction:column;gap:.7rem}.date-group[data-v-4451d7ce]{background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08);overflow:hidden;border:1px solid #e0e0e0}.date-header[data-v-4451d7ce]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.25rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-bottom:1px solid #e0e0e0;cursor:pointer;transition:all .2s ease;user-select:none}.date-header[data-v-4451d7ce]:hover{background:linear-gradient(135deg,#e9ecef,#dee2e6)}.date-header.expanded[data-v-4451d7ce]{background:linear-gradient(135deg,#298627,#17711f);color:#fff}.date-header.expanded .date-icon[data-v-4451d7ce],.date-header.expanded .expand-icon[data-v-4451d7ce]{color:#fff}.date-info[data-v-4451d7ce]{display:flex;align-items:center;gap:.75rem}.date-icon[data-v-4451d7ce]{font-size:1.25rem;color:#006401}.date-text[data-v-4451d7ce]{font-weight:600;font-size:1rem}.allergy-count[data-v-4451d7ce]{font-size:.85rem;opacity:.8;font-weight:400}.expand-icon[data-v-4451d7ce]{font-size:1.25rem;color:#666;transition:transform .2s ease}.expand-icon.rotated[data-v-4451d7ce]{transform:rotate(180deg)}.allergies-grid[data-v-4451d7ce]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem;padding:1.25rem;max-height:1000px;overflow:hidden;transition:all .3s ease}.allergies-grid.collapsed[data-v-4451d7ce]{max-height:0;padding:0 1.25rem}.allergy-card[data-v-4451d7ce]{background:#fafafa;border-radius:8px;padding:1.25rem;border-left:4px solid transparent;transition:all .2s ease;border:1px solid #f0f0f0}.allergy-card[data-v-4451d7ce]:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.1);background:#fff}.allergy-card.danger[data-v-4451d7ce]{border-left-color:#f04141}.allergy-card.warning[data-v-4451d7ce]{border-left-color:#ffc409}.allergy-card.info[data-v-4451d7ce]{border-left-color:#45ff38}.card-header[data-v-4451d7ce]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.allergy-icon[data-v-4451d7ce]{font-size:1.5rem;color:inherit}.danger .allergy-icon[data-v-4451d7ce]{color:#f04141}.warning .allergy-icon[data-v-4451d7ce]{color:#ffc409}.info .allergy-icon[data-v-4451d7ce]{color:#006401}.allergy-type[data-v-4451d7ce]{font-weight:600;font-size:.9rem;color:#666;text-transform:uppercase;letter-spacing:.5px}.card-content[data-v-4451d7ce]{display:flex;flex-direction:column;gap:1rem}.allergy-value[data-v-4451d7ce]{font-size:1.1rem;font-weight:500;color:#1a1a1a;line-height:1.4}.drug-name[data-v-4451d7ce]{font-weight:600;color:#d63031;background:rgba(214,48,49,.1);padding:.5rem .75rem;border-radius:8px;border-left:3px solid #d63031}.metadata[data-v-4451d7ce]{display:flex;flex-direction:column;gap:.5rem}.provider[data-v-4451d7ce],.encounter[data-v-4451d7ce]{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:#666}.meta-icon[data-v-4451d7ce]{font-size:1rem;color:#999}@media(max-width:768px){.allergies-grid[data-v-4451d7ce]{grid-template-columns:1fr}.allergies-container[data-v-4451d7ce]{padding:.75rem}.date-header[data-v-4451d7ce]{padding:.875rem 1rem}.date-info[data-v-4451d7ce]{gap:.5rem}.date-text[data-v-4451d7ce]{font-size:.9rem}.allergy-count[data-v-4451d7ce]{font-size:.8rem}}@keyframes expandIn-4451d7ce{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.allergies-grid:not(.collapsed) .allergy-card[data-v-4451d7ce]{animation:expandIn-4451d7ce .2s ease forwards}.visit-container[data-v-795e1865]{background:#fff;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.05);padding:24px;margin:16px;font-family:Segoe UI,Roboto,Helvetica Neue,sans-serif}.visit-header[data-v-795e1865]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid #f0f0f0}.visit-header h5[data-v-795e1865]{margin:0;font-size:1.25rem;font-weight:600;color:#2d3748}.visit-sections[data-v-795e1865]{display:flex;flex-direction:column;gap:20px}.visit-section[data-v-795e1865]{background:#f8fafc;border-radius:12px;padding:16px;transition:all .2s ease}.visit-section[data-v-795e1865]:hover{box-shadow:0 2px 8px rgba(0,0,0,.08);transform:translateY(-2px)}.section-header[data-v-795e1865]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.section-header h3[data-v-795e1865]{margin:0;font-size:1.1rem;font-weight:500;color:#2d3748}.section-icon[data-v-795e1865]{color:#4299e1;font-size:1.4rem}.section-content[data-v-795e1865]{display:flex;flex-direction:column;gap:12px}.info-item[data-v-795e1865]{display:flex;gap:8px}.info-label[data-v-795e1865]{font-weight:500;color:#4a5568;min-width:120px}.info-value[data-v-795e1865]{color:#2d3748}.highlight[data-v-795e1865]{font-weight:600;color:#3182ce}.tags-container[data-v-795e1865]{display:flex;flex-wrap:wrap;gap:8px}.complaint-tag[data-v-795e1865],.medical-tag[data-v-795e1865],.allergy-tag[data-v-795e1865]{padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:500}.complaint-tag[data-v-795e1865]{background:#ebf8ff;color:#3182ce}.medical-tag[data-v-795e1865]{background:#f0fff4;color:#38a169}.allergy-tag[data-v-795e1865]{background:#fff5f5;color:#e53e3e}.complaints-container[data-v-795e1865]{display:flex;flex-direction:column;gap:12px}.complaint-item[data-v-795e1865]{display:flex;justify-content:space-between;margin-right:70%;align-items:center;padding:8px 12px;background:#f8fafc;border-radius:8px;gap:10px}.complaint-name[data-v-795e1865]{font-weight:500;color:#2d3748;white-space:nowrap}.complaint-duration[data-v-795e1865]{color:#718096;font-size:.9em;white-space:nowrap}.exam-section[data-v-795e1865]{display:flex;flex-direction:column;gap:16px}.exam-category[data-v-795e1865]{background:#fff;border-radius:8px;padding:12px;box-shadow:0 1px 3px rgba(0,0,0,.05)}.exam-category-header[data-v-795e1865]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.exam-category-header h4[data-v-795e1865]{margin:0;font-size:.95rem;font-weight:500;color:#4a5568}.exam-category-header ion-icon[data-v-795e1865]{color:#718096;font-size:1.1rem}.exam-items[data-v-795e1865]{display:flex;flex-wrap:wrap;gap:8px}.exam-item[data-v-795e1865]{background:#f7fafc;padding:6px 10px;border-radius:6px;font-size:.85rem;color:#4a5568}.exam-item.normal[data-v-795e1865]{background:#e6ffed;color:#38a169}@media(max-width:768px){.visit-container[data-v-795e1865]{padding:16px;margin:8px}.visit-header[data-v-795e1865]{flex-direction:column;align-items:flex-start;gap:8px}.tags-container[data-v-795e1865],.complaints-container[data-v-795e1865]{gap:6px}.complaint-tag[data-v-795e1865],.medical-tag[data-v-795e1865],.allergy-tag[data-v-795e1865]{padding:4px 10px;font-size:.8rem}}.modal_wrapper[data-v-49fdce72]{display:flex;flex-direction:column;width:100%;max-width:1200px;margin:0 auto}@media(max-width:768px){.modal_wrapper[data-v-49fdce72]{max-width:100%}}@media(max-width:480px){.modal_wrapper[data-v-49fdce72]{flex-direction:column}}.container[data-v-0d34c6dd]{display:flex;flex-direction:column;align-items:center}.section[data-v-0d34c6dd]{width:100%;max-width:1300px;margin-bottom:20px}ion-card[data-v-0d34c6dd]{box-shadow:none;background-color:inherit;width:100%;color:#000}.navigation-buttons[data-v-0d34c6dd]{display:flex;justify-content:space-between;width:100%;max-width:500px}@media(max-width:1500px){.container[data-v-0d34c6dd]{padding:10px}}.sub_item_header[data-v-0d34c6dd]{font-weight:700;font-size:14px}._card[data-v-597092a6]{border-radius:5px;background-color:#fff;box-shadow:rgba(0,0,0,.2) 0 3px 1px -2px,rgba(0,0,0,.14) 0 2px 2px,rgba(0,0,0,.12) 0 1px 5px;margin-bottom:10px}ion-item[data-v-597092a6]::part(native){border:none}.previousView[data-v-597092a6]{margin-top:10px}.previousLabel[data-v-597092a6]{font-weight:700;font-size:1rem}.nav-buttons[data-v-597092a6]{display:flex;justify-content:flex-start;gap:10px;margin-top:10px}ion-accordion[data-v-597092a6]::part(header){padding:8px}.ion-padding[data-v-597092a6]{padding-top:0}#container[data-v-928c62f1]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-928c62f1]{font-size:20px;line-height:26px}#container p[data-v-928c62f1]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-928c62f1]{text-decoration:none}ion-item.medicalAl[data-v-928c62f1]{--background: #fff;--border-radius: 5px}ion-button.medicalAlBtn[data-v-928c62f1]{--background: #fecdca;--color: #b42318;text-transform:none}.error-label[data-v-928c62f1]{background:#fecdca;color:#b42318;text-transform:none;padding:2%;border-radius:10px;margin-top:7px;display:flex;text-align:center}ion-button.addMedicalTpBtn[data-v-928c62f1]{--background: #ddeedd;--color: #006401;text-transform:none;font-weight:600;font-size:16px}ion-button.medicalAlAddBtn[data-v-928c62f1]{font-size:large}ion-icon.icon-al[data-v-928c62f1]{font-size:x-large;margin-bottom:-5px}.item-al[data-v-928c62f1]{cursor:pointer;padding:5px;background-color:#ebebeb;margin-top:8px}.item-al[data-v-928c62f1]:hover{background-color:rgba(85,81,81,.282);padding:5px;border-radius:3px}ion-popover.popover-al[data-v-928c62f1]{--background: #fff}ion-content.content-al[data-v-928c62f1]{--background: #fff}ion-list.list-al[data-v-928c62f1]{--background: #fff;-ion-item-background:#fff}.checkLbltp[data-v-928c62f1]{border-bottom:2px dotted var(--ion-color-medium);--inner-border-width: 0}.tpStndCls[data-v-928c62f1]{font-size:16px;font-weight:600;line-height:24px}.action_buttons[data-v-928c62f1]{color:var(--ion-color-primary);display:flex;align-items:center;float:right}.action_buttons[data-v-928c62f1]:hover{cursor:pointer}.spcls[data-v-928c62f1]{display:flex;align-items:center}.previousView[data-v-928c62f1]{width:100%;border-radius:10px;margin-top:10px}.previousLabel[data-v-928c62f1]{font-weight:600;color:#000}.previousLabelDate[data-v-928c62f1]{font-weight:600;color:#000;margin:2%}.previousSecDrgs[data-v-928c62f1]{margin:2%}.notes_p[data-v-928c62f1]{margin:4%}.qaws[data-v-928c62f1]{margin-top:-27px}.allergies-section[data-v-928c62f1]{background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.05);margin-bottom:10px}.section-title[data-v-928c62f1]{display:flex;align-items:center;font-size:18px;font-weight:700;color:#1f2937;letter-spacing:-.01em;margin-bottom:16px}.allergies-container[data-v-928c62f1]{min-height:48px}.allergies-grid[data-v-928c62f1]{display:flex;flex-wrap:wrap;gap:8px}.allergy-chip[data-v-928c62f1]{--background: #fee2e2;--color: #dc2626;font-size:14px;font-weight:500}.allergy-chip ion-icon[data-v-928c62f1]{color:#dc2626}.no-allergies[data-v-928c62f1]{display:flex;align-items:center;justify-content:center;height:48px;background:#f9fafb;border-radius:6px;font-size:15px;font-weight:500;color:#9c8011}.medication-section[data-v-928c62f1]{background:#fff;border-radius:8px;padding:16px;margin:16px 0;box-shadow:0 1px 3px rgba(0,0,0,.1)}.section-header[data-v-928c62f1]{margin-bottom:16px;--background: transparent}.section-icon[data-v-928c62f1]{font-size:22px;margin-right:10px;color:var(--ion-color-primary)}.medication-content[data-v-928c62f1]{padding:0 16px}.add-medication-form[data-v-928c62f1]{background:#f9fafb;border-radius:8px;padding:20px;margin-top:16px}.form-group[data-v-928c62f1]{margin-bottom:16px}.form-row[data-v-928c62f1]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:16px}.input-label[data-v-928c62f1]{display:block;font-size:16px;font-weight:600;color:#374151;margin-bottom:10px}.error-message[data-v-928c62f1]{color:#dc2626;font-size:15px;font-weight:600;margin-top:4px}.action-buttons[data-v-928c62f1]{display:flex;gap:8px;justify-content:flex-end;margin-top:16px}.save-button[data-v-928c62f1]{--background: var(--ion-color-primary);--color: #ffffff;font-size:16px;font-weight:600}.cancel-button[data-v-928c62f1]{--background: #e5e7eb;--color: #374151;font-size:16px;font-weight:600}.add-new-button[data-v-928c62f1]{width:100%;margin-top:16px;--background: var(--ion-color-primary-tint);--color: var(--ion-color-primary);font-size:16px;font-weight:600}.notes-section[data-v-928c62f1]{background:#fff;border-radius:8px;padding:16px;margin:16px 0;box-shadow:0 1px 3px rgba(0,0,0,.1)}.notes-content[data-v-928c62f1]{padding:0 16px}.intervention-component[data-v-928c62f1],.notes-input-container[data-v-928c62f1]{margin-bottom:16px}.notes-input-item[data-v-928c62f1]{--background: #f9fafb;--border-radius: 8px;--padding-start: 12px;--padding-end: 12px;min-height:120px}.edit-icon[data-v-928c62f1]{color:var(--ion-color-medium);font-size:20px;margin-right:8px}.notes-textarea[data-v-928c62f1]{--padding-top: 12px;--padding-bottom: 12px;--placeholder-color: #9ca3af;--placeholder-opacity: 1;font-size:16px;font-weight:600;line-height:1.6}.previous-notes[data-v-928c62f1]{background:#fff;border-radius:8px;overflow:hidden}.previous-notes-header[data-v-928c62f1]{--background: #f9fafb;font-weight:600}.notes-timeline[data-v-928c62f1]{padding:8px 0}.note-entry[data-v-928c62f1]{padding:12px 16px;border-bottom:1px solid #e5e7eb}.note-entry[data-v-928c62f1]:last-child{border-bottom:none}.note-date[data-v-928c62f1]{font-size:14px;font-weight:600;color:#374151;margin-bottom:8px}.note-content[data-v-928c62f1]{font-size:16px;font-weight:600;line-height:1.6;color:#4b5563;white-space:pre-wrap}.show-more-header[data-v-928c62f1]{--background: transparent;font-size:16px;font-weight:600}[data-v-928c62f1] ion-accordion{margin:0}[data-v-928c62f1] ion-accordion-group{background:#fff}[data-v-928c62f1] ion-accordion.accordion-expanding,[data-v-928c62f1] ion-accordion.accordion-expanded{--background: #ffffff}[data-v-928c62f1]{transition:font-size .2s ease,font-weight .2s ease}[data-v-928c62f1] .multiselect__option{font-size:16px!important;font-weight:600!important;color:#000}.initTxt[data-v-0aad2f08]{text-align:center}.item-al[data-v-0aad2f08]{cursor:pointer;padding:5px;background-color:#ebebeb;margin-top:8px}.item-al[data-v-0aad2f08]:hover{background-color:rgba(85,81,81,.282);padding:5px;border-radius:3px}ion-popover.popover-al[data-v-0aad2f08]{--background: #fff}ion-list.list-al[data-v-0aad2f08]{--background: #fff;-ion-item-background:#fff}.saveContainer[data-v-0aad2f08]{display:flex;align-items:flex-end}.action_buttons[data-v-0aad2f08]{margin-top:5px}.error-label[data-v-0aad2f08]{background:#fecdca;color:#b42318;text-transform:none;padding:6%;border-radius:10px;margin-top:7px;display:flex;text-align:center}.spc_btwn[data-v-0aad2f08]{margin-top:2%}.ion-lblCls[data-v-0aad2f08]{font-weight:700}.initTxt[data-v-fc637de7]{text-align:center}.spc_btwn[data-v-fc637de7]{margin-top:2%}.item-al[data-v-fc637de7]{cursor:pointer;padding:5px;background-color:#ebebeb;margin-top:8px}.item-al[data-v-fc637de7]:hover{background-color:rgba(85,81,81,.282);padding:5px;border-radius:3px}ion-popover.popover-al[data-v-fc637de7]{--background: #fff}ion-list.list-al[data-v-fc637de7]{--background: #fff;-ion-item-background:#fff}.saveContainer[data-v-fc637de7]{display:flex;align-items:flex-end}.action_buttons[data-v-fc637de7]{margin-top:5px}.error-label[data-v-fc637de7]{background:#fecdca;color:#b42318;text-transform:none;padding:6%;border-radius:10px;margin-top:7px;display:flex;text-align:center}\n/*$vite$:1*/",document.head.appendChild(t);const Tt={class:"modal_wrapper"},Nt={class:"uniform_columns"},Mt=qe(n({__name:"AHDPastMedicalHistory",setup(e,{expose:a}){const t=Te(),{pastMedicalHistory:n}=i(t),v=o([]);l(()=>{v.value=t.getInitial(),m()}),s(n,()=>{m()},{deep:!0});const m=()=>{var e;const a=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];null!==(e=Ne(n.value,"None"))&&void 0!==e&&e.checked?a.forEach(e=>{Me(n.value,"TB treatment","displayNone",!0),Le(n.value,"TB drugs","displayNone",!0),Le(n.value,"TB drug start date","displayNone",!0),Me(n.value,"Hypertension medication","displayNone",!0),Le(n.value,"Current hypertension treatment regimen","displayNone",!0),Me(n.value,"HIV status","displayNone",!0),Le(n.value,"ARV start date","displayNone",!0),Me(n.value,"Diabetes","displayNone",!0),Me(n.value,"Controlled by","displayNone",!0),Re(n.value,e,"checked",!1),Re(n.value,e,"disabled",!0)}):a.forEach(e=>{Re(n.value,e,"disabled",!1)})},g=e=>{Le(n.value,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine 'O' (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),Le(n.value,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})};return a({onSubmit:async()=>{const e=await(async()=>[...await ot(n.value),...await lt(n.value),...await st(n.value)])();0!==e.length?(await Be.addObsToEncounterPatient(e,ze.AHD_PAST_MEDICAL_HISTORY),Ue("Past medical history saved successful")):Fe("No past medical history data to save")}}),(e,a)=>(d(),r("div",Tt,[c("div",Nt,[u(it,{contentData:p(n),initialData:v.value,"onUpdate:inputValue":g,"onUpdate:selected":g},null,8,["contentData","initialData"])])]))}}),[["__scopeId","data-v-e5153372"]]),Lt=n({name:"Menu",mixins:[ut],components:{IonContent:w,IonHeader:x,IonItem:_,IonList:y,IonMenu:b,IonTitle:h,IonToolbar:f,IonInput:g,IonPopover:m,DashBox:nt,SelectionPopover:Ye,BasicInputField:Ge,BasicForm:it,List:je,DynamicButton:We,LabOrdersList:dt,RadiologyInvestigation:ct},data:()=>({segmentContent:"Lab Investigations",iconsContent:aa,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",labOrders:"",filteredSpecimen:"",testData:[],popoverOpen:!1,labOrderStatus:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}),setup:()=>({checkmark:C,pulseOutline:k}),computed:{...v(Xe,["investigations"]),...v(ea,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0},patient:{async handler(){var e;null!==(e=this.patient)&&void 0!==e&&e.labOrders&&(this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved])},deep:!0},$route:{async handler(){await this.getTests()},deep:!0}},async mounted(){await this.getTests(),this.updateInvestigationsStores(),this.setDashedBox(),this.updateInvestigationWizard()},methods:{setSegmentContent(e){this.segmentContent=e},async getTests(){let e;e=$e.getPouchDbStatus()&&$e.getLanConnectionStatus()?await Qe("test_types"):await Je.getTestTypes(),Le(this.investigations,"test","multiSelectData",e)},toggleLabOrderStatus(){this.labOrderStatus=!this.labOrderStatus},async updateInvestigationWizard(){var e;if(null===(e=this.patient)||void 0===e||!e.labOrders)return;this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved];const a=await this.labOrders.filter(e=>Ze.toStandardHisFormat(Ze.sessionDate())===Ze.toStandardHisFormat(e.order_date));a.length>0?this.investigations[0].selectedData=a:this.investigations[0].selectedData=""},async updateInvestigationsStores(){await this.updateInvestigationWizard();Xe().setInvestigations(this.investigations)},displayInputFields(){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validateRowData(){return ft(this.investigations)},async checkTest(){return await this.isNameInData(this.inputFields[0].value.name,await this.investigations[0].selectedData)?(Le(this.investigations,"test","alertsErrorMassage","Lab order already selected"),!1):(Le(this.investigations,"test","alertsErrorMassage",""),!0)},async addNewRow(){ft(this.investigations)&&await this.checkTest()&&(await this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.updateInvestigationWizard()},isNameInData(e,a){for(let t of a)for(let a of t.tests)if(a.name===e)return!0;return!1},async saveTest(){const e=new pt;await e.postAHDActivities(this.patient.patientID,[{concept_id:this.inputFields[0].value.concept_id,name:this.inputFields[0].value.name,specimen:this.inputFields[1].value.name,reason:"Routine",specimenConcept:await Ke.getConceptID(this.inputFields[1].value.name,!0)}]),Le(this.investigations,"specimen","disabled",!0),this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved]},async handleInputData(e){if("Test"==e.inputHeader&&this.checkTest(),Le(this.investigations,"specimen","alertsErrorMassage",""),"Test"==e.inputHeader&&e.value){let a;a=$e.getPouchDbStatus()&&$e.getLanConnectionStatus()?await Qe("specimens"):await Je.getSpecimens("",1e3),this.specimen=await Ke.getConceptSet(e.value.name,"",{names:a.map(e=>e.name)}),1==this.specimen.length?(Le(this.investigations,"specimen","value",this.specimen[0]),Le(this.investigations,"specimen","disabled",!0)):(Le(this.investigations,"specimen","value",""),Le(this.investigations,"specimen","disabled",!1)),Le(this.investigations,"specimen","multiSelectData",this.specimen)}},async filterTest(e){return await this.labOrders.filter(a=>a.name.toLowerCase().includes(e.toLowerCase()))},async filterSpecimen(e){var a;return null!==(a=this.specimen[0])&&void 0!==a&&a.name&&e?await this.specimen.filter(a=>null==a?void 0:a.name.toLowerCase().includes(e.toLowerCase())):[]},setTest(e){this.selectedText=e.name,"Test"==this.inputFields[1].inputHeader?this.investigations[0].data.rowData[0].colData[0].value=e.name:this.investigations[0].data.rowData[0].colData[1].value=e.name,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[1].value||this.inputFields[0].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),Rt={class:"background"},Ft={key:0},Bt={key:1},zt={key:2},Ut={class:"",slot:"content",style:{"margin-bottom":"125px","margin-top":"2px"}},qt={key:3},Wt={class:"ion-padding",slot:"content"},jt={key:4};const Gt=qe(Lt,[["render",function(e,a,t,n,i,o){const l=D("ion-label"),s=D("ion-segment-button"),p=D("ion-segment"),v=D("VisitsHistory"),m=D("LabOrdersList"),g=D("RadiologyInvestigation");return d(),r("div",Rt,[u(p,{value:e.segmentContent,style:{"margin-top":"5px"}},{default:I(()=>[u(s,{value:"Lab Investigations",onClick:a[0]||(a[0]=a=>e.setSegmentContent("Lab Investigations"))},{default:I(()=>[u(l,null,{default:I(()=>[...a[3]||(a[3]=[O("Lab Investigations",-1)])]),_:1})]),_:1}),u(s,{value:"Radiology Investigation",onClick:a[1]||(a[1]=a=>e.setSegmentContent("Radiology Investigation"))},{default:I(()=>[u(l,null,{default:I(()=>[...a[4]||(a[4]=[O("Radiology Investigation",-1)])]),_:1})]),_:1}),u(s,{value:"Other Investigation",onClick:a[2]||(a[2]=a=>e.setSegmentContent("Other Investigation"))},{default:I(()=>[u(l,null,{default:I(()=>[...a[5]||(a[5]=[O("Other Investigation",-1)])]),_:1})]),_:1})]),_:1},8,["value"]),"Radiology Investigation"==e.segmentContent?(d(),r("div",Ft,[u(v)])):S("",!0),"Other Investigation"==e.segmentContent?(d(),r("div",Bt)):S("",!0),"Lab Investigations"==e.segmentContent?(d(),r("div",zt,[c("div",Ut,[c("span",null,[u(m,{propOrders:e.labOrders},null,8,["propOrders"])])])])):S("",!0),"Radiology Investigation"==e.segmentContent?(d(),r("div",qt,[c("div",Wt,[u(g)])])):S("",!0),"Other Investigation"==e.segmentContent?(d(),r("div",jt)):S("",!0)])}],["__scopeId","data-v-67ff1a61"]]),Yt={key:0},$t={style:{"align-content":"center"}},Qt={class:"ion-padding",slot:"content"},Jt=qe(n({__name:"AHDPresentingComplaints",setup(e,{expose:a}){const t=ta(),{presentingComplaints:n}=i(t),s=o(aa),v=o(!0),m=o(!1),g=o(!0),f=o(!1),h=o([]),b=o([]),y=o(),x=A(()=>[{componentType:"multiSelectInputField",header:"Presenting Complaints",name:"PresentingComplaints",trackBy:"concept_id",icon:aa.search,hideSelected:!0,validation:e=>C(null==e?void 0:e.name,h.value)?"Presenting complaint already added":na.required(e),options:b.value,grid:{s:"6"}},{componentType:"inputField",header:"Duration",name:"duration",icon:aa.time,validation:e=>na.isNotEmptyandNumber(e),grid:{s:"6"},unitOptions:[{label:"Hours",value:"Hours"},{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],unitValidation:e=>e&&""!==e?null:"Please select a unit."},{componentType:"inputField",header:"Specify the presenting complaint(s)",name:"Other (specify)",icon:aa.editPen,validation:e=>C(e,h.value)?"Presenting complaint already added":na.required(e),condition:e=>{var a;return"Other"===(null==e||null===(a=e.PresentingComplaints)||void 0===a?void 0:a.name)}},{componentType:"Alert",condition:e=>{var a;return!(null==na.required(null==e||null===(a=e.PresentingComplaints)||void 0===a?void 0:a.name))},backgroundColor:"lightyellow",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}]),{formRef:w}=ia(),k=e=>{var a;const t=e.duration+" "+e.duration_unit,n=e.PresentingComplaints,i="Other"===n.name?e["Other (specify)"]:n.name;h.value.push({actionBtn:!0,btn:["delete"],name:i,concept_id:n.concept_id,duration:n.duration,durationUnits:n.duration_unit,display:[i,t],data:[{concept_id:8578,value_coded:n.concept_id,obs_datetime:$e.getSessionDate(),child:[{concept_id:n.concept_id,value_text:t,obs_datetime:$e.getSessionDate()}]}]}),null===(a=w.value)||void 0===a||a.resetForm(),f.value=!0},C=(e,a)=>a.some(a=>a.name===e),H=e=>{h.value=h.value.filter(a=>a.display[0]!==e.name)};return l(async()=>{await(async()=>{b.value=await tt.getComplaintsList("Presenting complaint"),Le(n.value,"PresentingComplaints","multiSelectData",b.value)})()}),a({onSubmit:async()=>{const e=h.value.flatMap(e=>e.data);if(e.length<=0)return Fe("Presenting complaints is required");e.length<=0||(await Be.addObsToEncounterPatient(e,ze.AHD_PRESENTING_COMPLAINTS),Ue("Presenting complaints saved successful"),h.value=[])}}),(e,a)=>{const t=D("ion-row"),n=D("ion-label"),i=D("ion-accordion"),o=D("ion-accordion-group");return d(),r(P,null,[u(nt,{status:v.value,content:"No presenting complaints added"},null,8,["status"]),f.value?(d(),r("span",Yt,[u(je,{listData:h.value,"onClicked:delete":H},null,8,["listData"])])):S("",!0),m.value?(d(),E(t,{key:1},{default:I(()=>[u(oa,{formData:x.value,ref_key:"formRef",ref:w},null,8,["formData"]),c("div",$t,[u(We,{fill:"clear",icon:s.value.plus,iconSlot:"icon-only","onClicked:btn":a[0]||(a[0]=e=>(async()=>{var e,a;const t=null===(e=w.value)||void 0===e?void 0:e.getFormValues();null==(null===(a=w.value)||void 0===a?void 0:a.validateForm())&&(k(t),m.value=!1,g.value=!0)})()),name:"Save"},null,8,["icon"])])]),_:1})):S("",!0),g.value?(d(),E(t,{key:2,style:{"margin-top":"10px"}},{default:I(()=>[u(We,{fill:"clear",icon:s.value.plus,iconSlot:"icon-only","onClicked:btn":a[1]||(a[1]=e=>(v.value=!1,g.value=!1,void(m.value=!0))),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):S("",!0),u(t,null,{default:I(()=>[u(o,{ref_key:"accordionGroup",ref:y,class:"previousView"},{default:I(()=>[u(i,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:I(()=>[u(p(_),{slot:"header",color:"light"},{default:I(()=>[u(n,{class:"previousLabel"},{default:I(()=>[...a[2]||(a[2]=[O("Previous presenting complaints",-1)])]),_:1})]),_:1}),c("div",Qt,[u($a)])]),_:1})]),_:1},512)]),_:1})],64)}}}),[["__scopeId","data-v-04755951"]]);class Kt extends la{constructor(a,t,n){super(a,ze.AHD_HIV_STAGING,n),e(this,"age",void 0),e(this,"confirmatoryTest",void 0),this.age=t,this.confirmatoryTest=null}isAdult(){return this.age>=15}isPedaid(){return this.age<=14}setAge(e){this.age=e}getFacilities(e=""){return sa.getFacilities({name:e})}getConfirmatoryTestType(){return this.confirmatoryTest}cd4CountIsValid(e){try{return!!e.match(/^(=|<|>)([0-9]*)$/m)}catch(a){return!1}}getAlertGuidelines(){return ra}getWhoStageGuidelines(){return this.isAdult()?da:ca}getProgramEligibilityGuidelines(){return this.isAdult()?ua:pa}getRecommendedConditionGuidelines(){return this.isAdult()?va:ma}getStagingConditions(e){const a=this.getStagingCategoryByNum(e);return la.getConceptsByCategory(a)}buildWhoStageObs(e){return this.buildValueCoded("Who stage",e)}buildWhoCriteriaObs(e){return this.buildValueCoded("Who stages criteria present",e)}buildReasonForArtObs(e){return this.buildValueCoded("Reason for ART eligibility",e)}getStagingCategoryByNum(e){switch(e){case 1:return this.isAdult()?"stage_1_conditions_adults":"stage_1_conditions_pedaids";case 2:return this.isAdult()?"stage_2_conditions_adults":"stage_2_conditions_pedaids";case 3:return this.isAdult()?"stage_3_conditions_adults":"stage_3_conditions_pedaids";case 4:return this.isAdult()?"stage_4_conditions_adults":"stage_4_conditions_pedaids";default:return""}}async loadHivConfirmatoryTestType(){const e=await la.getFirstValueCoded(this.patientID,"Confirmatory hiv test type");e&&(this.confirmatoryTest=e)}}const Xt={key:0,class:"ion-padding"},Zt={class:"accordion_group ion-padding"},en={style:{"font-weight":"bold"}},an={class:"error"},tn={class:"ion-padding",slot:"content"},nn={class:"ion-padding"},on={class:"ion-padding"},ln={key:0,class:"ion-padding"},sn={class:"ion-padding",style:{"border-bottom":"dashed #ccc"}},rn=n({__name:"AHDStaging",props:{hideSubmit:{type:Boolean,default:!1},date:{default:Kt.getSessionDate()}},setup(e,{expose:a}){const t=e,n=new ga,i=o({}),v=new Kt(n.getID(),n.getAge(),-1);s(()=>t.date,e=>{var a;const t=null!==(a=null==e?void 0:e.standardDate)&&void 0!==a?a:Kt.getSessionDate(),i=G(t).diff(n.getBirthdate(),"years");v.setAge(i),v.setDate(t)},{deep:!0,immediate:!0});const m=H({stage_4_conditions:{title:"Stage 4 Conditions",options:[]},stage_3_conditions:{title:"Stage 3 Conditions",options:[]},stage_2_conditions:{title:"Stage 2 Conditions",options:[]},stage_1_conditions:{title:"Stage 1 Conditions",options:[]}}),f=H({cd4:"",cd4Date:"",isChildBearing:!1,reasonForArt:"",pregnant:"",breastFeeding:"",cd4Available:"",cd4Modifier:"",cd4Location:"",whoStage:"",staging:[],confirmatoryTest:""}),h={reasonForArt:{buildObs:()=>v.buildReasonForArtObs(f.reasonForArt),suggestAvalue:()=>({"PRESUMED SEVERE HIV":{priority:1,condition:()=>n.getAgeInMonths()<12&&"HIV rapid test"===f.confirmatoryTest&&Ke.getConceptsByCategory("pshd_condition").some(e=>Y().includes(e.name))},"WHO STAGE IV PEDS":{priority:2,condition:()=>v.isPedaid()&&b(["stage_4_conditions"])},"WHO STAGE III PEDS":{priority:3,condition:()=>v.isPedaid()&&b(["stage_3_conditions"])},"HIV DNA polymerase chain reaction":{priority:4,condition:()=>n.getAgeInMonths()<12&&"HIV DNA polymerase chain reaction"===f.confirmatoryTest},"CD4 COUNT LESS THAN OR EQUAL TO 750":{priority:5,condition:()=>D(750)&&A()&&x()&&n.ageInMonths()>=24&&n.ageInMonths()<=56},"CD4 COUNT LESS THAN OR EQUAL TO 500":{priority:6,condition:()=>v.isPedaid()&&D(500)&&A()&&x()},"HIV infected":{priority:7,condition:()=>n.getAgeInMonths()<24||n.getAge()<=5},"WHO STAGE IV ADULT":{priority:1,condition:()=>{const e=Ke.getConceptsByCategory("severe_hiv_wasting_syndrome");return v.isAdult()&&(b(["stage_4_conditions"])||e.filter(e=>Y().includes(e.name)).length>=2)}},"WHO STAGE III ADULT":{priority:2,condition:()=>v.isAdult()&&b(["stage_3_conditions"])},"cd4 less than or equal to 350":{priority:3,condition:()=>v.isAdult()&&D(350)&&x()},"cd4 less than or equal to 250":{priority:4,condition:()=>v.isAdult()&&D(250)&&x()},"cd4 less than or equal to 500":{priority:4,condition:()=>v.isAdult()&&D(500)&&x()},BREASTFEEDING:{priority:5,condition:()=>v.isAdult()&&"Yes"===f.breastFeeding&&A()},"PATIENT PREGNANT":{priority:6,condition:()=>v.isAdult()&&"Yes"===f.pregnant&&A()},Asymptomatic:{priority:7,condition:()=>A()}})},whoStage:{buildObs:()=>v.buildWhoStageObs(f.whoStage),suggestAvalue:()=>({"WHO STAGE IV ADULT":{priority:1,condition:()=>v.isAdult()&&b(["stage_4_conditions"])},"WHO STAGE III ADULT":{priority:2,condition:()=>v.isAdult()&&b(["stage_3_conditions"])},"WHO STAGE II ADULT":{priority:3,condition:()=>v.isAdult()&&b(["stage_2_conditions"])},"WHO STAGE I ADULT":{priority:4,condition:()=>v.isAdult()&&b(["stage_1_conditions"])},"WHO STAGE IV PEDS":{priority:1,condition:()=>v.isPedaid()&&(b(["stage_4_conditions"])||"WHO STAGE IV PEDS"===f.reasonForArt)},"WHO STAGE III PEDS":{priority:2,condition:()=>v.isPedaid()&&b(["stage_3_conditions"])},"WHO STAGE II PEDS":{priority:3,condition:()=>v.isPedaid()&&b(["stage_2_conditions"])},"WHO STAGE I PEDS":{priority:4,condition:()=>v.isPedaid()&&b(["stage_1_conditions"])}})},cd4Available:{required:()=>!0,dataHandler:e=>{"Yes"!=e&&(f.cd4="",f.cd4Date=""),i.value.cd4="",i.value.cd4Modifier="",i.value.cd4Date="",i.value.cd4Location=""}},pregnant:{required:()=>f.isChildBearing,buildObs:()=>v.buildValueCoded("Is patient pregnant?",f.pregnant)},breastFeeding:{required:()=>f.isChildBearing,buildObs:()=>v.buildValueCoded("Is patient breast feeding?",f.breastFeeding)},cd4:{required:()=>"Yes"===f.cd4Available,validation:()=>{C()?k()>1e4&&(i.value.cd4="CD4 value cannot exceed 10,000"):i.value.cd4="A number is required"},buildObs:()=>v.buildValueNumber("CD4 count",k(),w())},cd4Modifier:{required:()=>"Yes"===f.cd4Available,validation:()=>{f.cd4Modifier||(i.value.cd4Modifier="Please select modifier")},dataHandler:e=>f.cd4Modifier=e,options:[{label:"=",value:"="},{label:">",value:">"},{label:"<",value:"<"}]},cd4Date:{required:()=>"Yes"===f.cd4Available,dataHandler:e=>{e&&(f.cd4Date=G(e).format("YYYY-MM-DD"))},validation:()=>{if(isNaN(new Date(f.cd4Date).getTime()))return void(i.value.cd4Date="Invalid CD4 date");const e=G(f.cd4Date);e.isAfter(G(v.getDate()))?i.value.cd4Date=`Cd4 result date can't be greater than ${v.getDate()}`:e.isBefore(G(n.getBirthdate()))&&(i.value.cd4Date="CD4 date must not be earlier than birthdate")},buildObs:()=>v.buildValueDate("Cd4 count datetime",f.cd4Date)},cd4Location:{required:()=>"Yes"===f.cd4Available,dataHandler:e=>f.cd4Location=e,buildObs:()=>v.buildValueText("Cd4 count location",f.cd4Location)},staging:{validation:()=>{if(Object.keys(m).every(e=>J(e)<=0))return void(i.value.staging="Please select one or more staging conditions");const e=["stage_4_conditions","stage_3_conditions","stage_2_conditions"].some(e=>J(e)>0);m.stage_1_conditions.options.some(e=>/asymptomatic/i.test(e.name)&&e.checked)&&e&&(i.value.staging="Asymptomatic cannot be selected with other staging conditions")},buildObs:()=>Object.keys(m).reduce((e,a)=>(m[a].options.forEach(a=>{a.checked&&e.push(a.name)}),e),[]).map(e=>v.buildWhoCriteriaObs(e))}};function b(e){return e.some(e=>J(e)>0)}function x(){return new Date(f.cd4Date)<=new Date("2016-04-30")}function w(){return f.cd4Modifier}function k(){return parseInt(`${f.cd4}`)}function C(){return/^\d+$/i.test(`${f.cd4}`)}function D(e){if(!C())return!1;const a=w(),t=k();return"="===a&&e===t||("<"===a&&t<=e||">"===a&&t>=e)}function A(){return b(["stage_2_conditions","stage_1_conditions"])}function Y(){return Object.keys(m).reduce((e,a)=>(m[a].options.forEach(a=>a.checked&&e.push(a.name)),e),[])}function $(e){if(i.value[e]="","function"==typeof h[e].required){if(h[e].required()&&!f[e])return void(i.value[e]="This field is required")}f[e]&&"function"==typeof h[e].validation&&h[e].validation()}function Q(){return Object.keys(f).reduce((e,a)=>{if(a in h&&f[a]&&"function"==typeof h[a].buildObs){const t=h[a].buildObs();return Array.isArray(t)?[...e,...t]:[...e,t]}return e},[])}function J(e){return m[e].options.filter(e=>e.checked).length}function K(e,a){e in h&&"function"==typeof h[e].dataHandler&&h[e].dataHandler(a),$(e),Object.keys(h).forEach(e=>function(e){if(h[e]&&"suggestAvalue"in h[e]){var a,t;f[e]="";const n=h[e].suggestAvalue(),i=Object.keys(n).reduce((e,a)=>{const t=n[a];return"function"==typeof t.condition&&t.condition()?[...e,{value:a,priority:t.priority}]:e},[]);f[e]=null!==(a=null===(t=i.sort((e,a)=>e.priority-a.priority))||void 0===t||null===(t=t[0])||void 0===t?void 0:t.value)&&void 0!==a?a:""}}(e))}function X(){Object.keys(m).forEach(e=>{var a,t;const n=Number(null!==(a=null===(t=e.match(/\d+/))||void 0===t?void 0:t[0])&&void 0!==a?a:0),i=v.getStagingConditions(n);m[e].options=i.map(e=>({checked:!1,name:e.name,concept_id:e.concept_id}))})}function Z(){return Object.keys(h).forEach(e=>$(e)),Object.keys(i.value).every(e=>`${i.value[e]}`.length<=0)}return s(()=>t.date,e=>{v.setDate(e),n.date=e,Object.keys(f).forEach(e=>{"boolean"==typeof f[e]?f[e]=!1:Array.isArray(f[e])?f[e]=[]:f[e]=""}),Object.keys(i.value).forEach(e=>i.value[e]=""),X()}),l(async()=>{await async function(){await v.loadHivConfirmatoryTestType(),f.confirmatoryTest=v.getConfirmatoryTestType(),f.isChildBearing=n.isChildBearing()}(),X()}),a({validateStagingForm:Z,buildPayload:Q,onSubmit:async function(){if(console.log("Submitting staging"),!Z())return Fe("Please review form for errors"),!1;try{const e=await Promise.all(Q());return await v.createEncounter(),await v.saveObservationList(e),Ue("Staging Observations saved!"),!0}catch(e){return console.error(e),xa("Error has occured while saving observations"),!1}}}),(e,a)=>(d(),E(p(j),null,{default:I(()=>[u(p(V),null,{default:I(()=>[f.isChildBearing?(d(),r("div",Xt,[u(p(T),null,{default:I(()=>[u(p(N),null,{default:I(()=>[u(p(M),null,{default:I(()=>[u(fa,{label:"Pregnant?",modelValue:f.pregnant,"onUpdate:modelValue":a[0]||(a[0]=e=>f.pregnant=e),onIonChange:a[1]||(a[1]=e=>K("pregnant",e)),"error-message":i.value.pregnant},null,8,["modelValue","error-message"])]),_:1}),u(p(M),null,{default:I(()=>[u(fa,{label:"Breastfeeding?",modelValue:f.breastFeeding,"onUpdate:modelValue":a[2]||(a[2]=e=>f.breastFeeding=e),onOnChange:a[3]||(a[3]=e=>K("breastFeeding",e)),"error-message":i.value.breastFeeding},null,8,["modelValue","error-message"])]),_:1})]),_:1})]),_:1})])):S("",!0),c("div",Zt,[u(p(L),{color:"light"},{default:I(()=>[(d(!0),r(P,null,R(m,(e,t)=>(d(),E(p(F),{key:t},{default:I(()=>[u(p(_),{color:"light",slot:"header"},{default:I(()=>[u(p(B),{style:{color:"grey","font-size":"17px"},class:"ion-padding"},{default:I(()=>[c("b",en,[O(z(e.title)+" ",1),u(p(U),{color:J(`${t}`)>0?"primary":void 0},{default:I(()=>[O(" Selected: "+z(J(`${t}`)),1)]),_:2},1032,["color"])]),c("p",an,z(i.value.staging),1)]),_:2},1024)]),_:2},1024),c("div",tn,[u(p(y),null,{default:I(()=>[(d(!0),r(P,null,R(e.options,(e,n)=>(d(),E(p(_),{key:n},{default:I(()=>[u(p(q),{modelValue:e.checked,"onUpdate:modelValue":a=>e.checked=a,onIonChange:a=>K("staging",{stage_type:t,raw:a,option:e})},null,8,["modelValue","onUpdate:modelValue","onIonChange"]),u(p(B),{style:{margin:"13px"}},{default:I(()=>[O(z(e.name),1)]),_:2},1024),a[15]||(a[15]=c("p",null,null,-1)),e.description?(d(),E(p(W),{key:0,color:e.color},{default:I(()=>[O(z(e.text),1)]),_:2},1032,["color"])):S("",!0)]),_:2},1024))),128))]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),c("div",nn,[c("div",on,[u(fa,{label:"Recent CD4 count results available?",modelValue:f.cd4Available,"onUpdate:modelValue":a[4]||(a[4]=e=>f.cd4Available=e),onOnChange:a[5]||(a[5]=e=>K("cd4Available",e)),"error-message":i.value.cd4Available},null,8,["modelValue","error-message"])]),"Yes"===f.cd4Available?(d(),r("div",ln,[u(p(T),{class:"ion-padding"},{default:I(()=>[u(p(N),null,{default:I(()=>[u(p(M),null,{default:I(()=>[u(ha,{label:"CD4 Count Date",modelValue:f.cd4Date,"onUpdate:modelValue":a[6]||(a[6]=e=>f.cd4Date=e),required:"Yes"===f.cd4Available,"error-message":i.value.cd4Date,onOnChange:a[7]||(a[7]=e=>K("cd4Date",e))},null,8,["modelValue","required","error-message"])]),_:1})]),_:1}),u(p(N),null,{default:I(()=>[u(p(M),{size:"2"},{default:I(()=>[u(ba,{label:"CD4 Result Modifier",required:"Yes"===f.cd4Available,"error-message":i.value.cd4Modifier,options:h.cd4Modifier.options,onOnChange:a[8]||(a[8]=e=>K("cd4Modifier",e.value))},null,8,["required","error-message","options"])]),_:1}),u(p(M),{size:"10"},{default:I(()=>[u(ya,{label:"CD4 Count",modelValue:f.cd4,"onUpdate:modelValue":a[9]||(a[9]=e=>f.cd4=e),type:"number",onOnChange:a[10]||(a[10]=e=>K("cd4",e)),placeholder:"Enter CD4 Count","error-message":i.value.cd4},null,8,["modelValue","error-message"])]),_:1})]),_:1}),u(p(N),{style:{"margin-top":"15px"}},{default:I(()=>[u(p(M),null,{default:I(()=>[u(_a,{label:"CD4 Count Location",modelValue:f.cd4Location,"onUpdate:modelValue":a[11]||(a[11]=e=>f.cd4Location=e),required:"Yes"===f.cd4Available,"error-message":i.value.cd4Location,show_error:!1,selected_district_ids:[],selected_location:f.cd4Location,onOnChange:a[12]||(a[12]=e=>{K("cd4Location",e)})},null,8,["modelValue","required","error-message","selected_location"])]),_:1})]),_:1})]),_:1})])):S("",!0)]),c("div",sn,[u(p(T),null,{default:I(()=>[u(p(N),null,{default:I(()=>[u(p(M),null,{default:I(()=>[u(p(g),{readonly:"",placeholder:"N/A",label:"REASON FOR ART:",modelValue:f.reasonForArt,"onUpdate:modelValue":a[13]||(a[13]=e=>f.reasonForArt=e)},null,8,["modelValue"])]),_:1}),u(p(M),null,{default:I(()=>[u(p(g),{readonly:"",placeholder:"N/A",label:"WHO STAGE:",modelValue:f.whoStage,"onUpdate:modelValue":a[14]||(a[14]=e=>f.whoStage=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}))}}),dn=qe(rn,[["__scopeId","data-v-1fe6c93a"]]),cn={style:{display:"flex","align-items":"center"}},un={style:{width:"88vw",margin:"0 auto","margin-top":"10px"}},pn=n({__name:"AHDWorkflow",setup(e,{expose:a}){const{onTabBeforeChange:t,currentTabIndex:n}=ht();Dt();const v=Y(),m=$();o([]),o([]),o(!1);const g=o(!0),f=o(!1),h=o(!1),b=A(()=>({text:h.value?"Saving...":"Finish",icon:h.value?"hourglass-outline":"checkmark",hideText:!1,hideIcon:!1,disabled:f.value||h.value})),y=wa(),_=ea(),x=Xe(),k=ka();Ca();const C=Da(),O=Sa();Ia();const H=Oa(),V=bt(),T=Aa(),{patient:N}=i(_),{vitals:M}=i(y),{investigations:L}=i(x),{diagnosis:R}=i(k),{substance:F}=i(H),{selectedNCDMedicationList:B}=i(C),{FootScreening:z,visualScreening:U,cvScreening:q}=i(V),{sessionDate:W}=i(T),{apiStatus:j}=i(Pa());s(b,(e,a)=>{console.log("Done button options changed:",{from:a,to:e,currentStep:n.value,tabsLength:ae.value.length}),e.disabled!==(null==a?void 0:a.disabled)&&console.log("Done button "+(e.disabled?"disabled":"enabled")),e.text!==(null==a?void 0:a.text)&&console.log(`Done button text changed from "${null==a?void 0:a.text}" to "${e.text}"`)},{deep:!0}),s(h,(e,a)=>{e!==a&&(console.log(`Saving state changed: ${a} -> ${e}`),e?console.log("Starting save process..."):console.log("Save process completed"))});const G=e=>{console.log("Done button change received from wizard:",e),e.newOptions.disabled&&console.log("Done button has been disabled"),e.isLastStep&&console.log("User is on the last step, done button should be visible")},ee=()=>{let e=!1;return ie(),h.value&&(e=!0),f.value=e,!e},ae=o([{title:"Presenting Complaints",icon:""},{title:"Past Medical History",icon:""},{title:"WHO",icon:""},{title:"Investigation",icon:""}]),te=o(null),ne=o(null),ie=()=>{var e;if(!ae.value||0===ae.value.length)return console.log("Tabs not yet initialized"),null;const a=n.value>=0&&n.value<ae.value.length?n.value:0;switch(null===(e=ae.value[a])||void 0===e?void 0:e.title){case"Presenting Complaints":return"Presenting Complaints";case"Past Medical History":return"Past Medical History";case"WHO":return"WHO";case"Investigation":return"Investigation";default:if(O.NCDActivities.length>0){switch(O.NCDActivities[0]){case"Presenting Complaints":return"Presenting Complaints";case"Past Medical History":return"Past Medical History";case"WHO":return"WHO";case"Investigation":return"Investigation"}}return null}},oe=()=>{g.value=!1,setTimeout(()=>{n.value=0,g.value=!0},0)},le=()=>{const e=wa();e.setVitals(e.getInitialVitals(N.value.ID))},se=async()=>{const e=Ea(W.value,"sessionDate","value")||Ze.sessionDate(),a=Ha("vitals");for(let n=0;n<ae.value.length;n++){const i=ae.value[n];if("Vital Signs"===i.title)ae.value[n].icon=re(e,a)?Z:"";else if("Risk Assessment"===i.title){const a=Ha("substanceAbuse");ae.value[n].icon=re(e,a)?Z:""}else if("Investigations"===i.title){var t;const a=null==N||null===(t=N.value)||void 0===t||null===(t=t.labOrders)||void 0===t?void 0:t.saved,i=null==a?void 0:a.filter(a=>Ze.toStandardHisFormat(e)===Ze.toStandardHisFormat(a.order_date));ae.value[n].icon=(null==i?void 0:i.length)>0?Z:""}else if("Diagnosis"===i.title){const a=Ha("diagnosis");ae.value[n].icon=re(e,a)?Z:""}else if("Complications Screening"===i.title){const a=Ha("screening");ae.value[n].icon=re(e,a)?Z:""}else"Treatment Plan"===i.title&&(B.value.length>0?ae.value[n].icon=Va()?Z:"":ae.value[n].icon="")}ee()},re=(e,a)=>{const t=new Date(e);return t.setHours(0,0,0,0),a.some(e=>{const a=new Date(e.obs_datetime);return a.setHours(0,0,0,0),a.getTime()===t.getTime()})},de=async(e,a)=>{var t;const i=null===(t=ae.value[a])||void 0===t?void 0:t.title;var o,l;(e%1==0&&(n.value=e),"Vital Signs"==i)&&(null===(o=te.value)||void 0===o||o.onSubmit());"Risk Assessment"==i&&(null===(l=ne.value)||void 0===l||l.onSubmit());"Complications Screening"==i&&await(async()=>{const e=[],a=await st(U.value),t=await rt(z.value),n=await st(q.value);var i,o,l,s;a.length>0&&e.push({concept_id:await Ke.getConceptID("Visual acuity",!0),value_text:"visual acuity test",obs_datetime:Ke.getSessionDate(),child:a}),t.length>0&&e.push({concept_id:await Ke.getConceptID("Foot check",!0),value_text:"foot screening",obs_datetime:Ke.getSessionDate(),child:t}),n.length>0&&e.push(...n),e.length>0?(null!==(o=(i=null!==(s=(l=N.value).screening)&&void 0!==s?s:l.screening={}).unsaved)&&void 0!==o||(i.unsaved=[]),N.value.screening.unsaved.push(...e),Ue("Complications saved successfully")):Fe("No complications data to save")})(),"Treatment Plan"==i&&await(async()=>{const e=Ma();if(!Ct.isEmpty(e.selectedMedicalAllergiesList)){const a=La(),t=e.selectedMedicalAllergiesList.map(e=>({concept_id:e.concept_id,obs_datetime:$e.getSessionDate(),value_coded:e.concept_id,location_id:a.facilityLocation.code,value_text:e.name})),n=await _t(t);N.value=Object.assign(N.value,n),console.log("Allergies staged successfully:",N.value),e.clearSelectedMedicalAllergiesList()}const a=await xt();N.value=Object.assign(N.value,a);const t=await wt().saveNonPharmaTherapyPatientData();N.value=Object.assign(N.value,t)})(),await Ta(N.value)},ce=async()=>{h.value=!0;try{await Na(),await Ta(N.value),v.push("/triageList")}catch(e){console.error("Error saving data:",e),Fe("Error occurred while saving data. Please try again.")}finally{h.value=!1}};return l(async()=>{if(0===O.NCDActivities.length)return void v.push("patientProfile");bt().resetScreening(),ae.value=[{title:"Presenting Complaints",icon:""},{title:"Past Medical History",icon:""},{title:"WHO",icon:""},{title:"Investigation",icon:""}],await se(),(void 0===n.value||n.value<0)&&(n.value=0,console.log("Setting initial tab index to 0")),f.value=!1,h.value=!1,ee()}),s(n,async()=>{await ee()}),s(M,async()=>{await se()},{deep:!0}),s(N,async()=>{bt().resetScreening(),await se()},{deep:!0}),s(W,async()=>{await se()},{deep:!0}),s(L,async()=>{await se()},{deep:!0}),s(R,async()=>{await se()},{deep:!0}),s(F,async()=>{await se()},{deep:!0}),s(B,async()=>{await se()},{deep:!0}),s(m,async e=>{oe(),le(),ae.value=[{title:"Presenting Complaints",icon:""},{title:"Past Medical History",icon:""},{title:"WHO",icon:""},{title:"Investigation",icon:""}]},{deep:!0}),s(N,async(e,a)=>{e.ID!=a.ID&&(oe(),le())},{deep:!0}),a({saveData:ce,markWizard:se,refreshWizard:oe,validateDoneButtonState:ee}),(e,a)=>{const n=D("ion-icon"),i=D("ion-title"),o=D("ion-toolbar"),l=D("ion-header");return d(),r(P,null,[u(l,null,{default:I(()=>[u(o,{class:"modal-title"},{default:I(()=>[u(i,null,{default:I(()=>[c("div",cn,[u(n,{icon:p(aa).demographics,class:"sub-menu-icon",style:{"font-size":"1.4rem"}},null,8,["icon"]),a[2]||(a[2]=c("b",{style:{"margin-left":"6px"}},"Advance HIV Disease",-1))])]),_:1}),u(n,{slot:"end",onClick:a[0]||(a[0]=e=>p(J).dismiss()),style:{"font-size":"30px","padding-right":"10px"},icon:p(Q)},null,8,["icon"])]),_:1})]),_:1}),u(p(w),{class:"ion-padding"},{default:I(()=>[c("div",un,[g.value?(d(),E(yt,{key:0,ref:"wizard",headingTitle:"AHD Screening","vertical-tabs":"","navigable-tabs":"","scrollable-tabs":"",startIndex:0,doneButton:b.value,"custom-tabs":ae.value,beforeChange:p(t),onChange:de,"onComplete:wizard":a[1]||(a[1]=e=>ce()),onDoneButtonChanged:G},{default:I(()=>[K(c("div",null,[u(Jt,{ref:"observationsRef"},null,512)],512),[[X,"Presenting Complaints"==ie()]]),K(c("div",null,[u(Mt,{ref:"interventionsRef"},null,512)],512),[[X,"Past Medical History"==ie()]]),K(c("div",null,[u(dn,{ref:"medicationsRef"},null,512)],512),[[X,"WHO"==ie()]]),K(c("div",null,[u(Gt,{ref:"medicationsRef"},null,512)],512),[[X,"Investigation"==ie()]])]),_:1},8,["doneButton","custom-tabs","beforeChange"])):S("",!0)])]),_:1})],64)}}}),vn={key:0},mn={style:{"align-content":"center"}},gn={class:"ion-padding",slot:"content"},fn=a("P",qe(n({__name:"PresentingComplaints",setup(e,{expose:a}){const t=ta(),{presentingComplaints:n}=i(t),s=o(aa),v=o(!0),m=o(!1),g=o(!1),f=o(!0),h=o(!1),b=o([]),y=o([]),x=o(),w=A(()=>[{componentType:"multiSelectInputField",header:"Presenting Complaints",name:"PresentingComplaints",trackBy:"concept_id",icon:aa.search,hideSelected:!0,validation:e=>V(null==e?void 0:e.name,b.value)?"Presenting complaint already added":na.required(e),options:y.value,grid:{s:"6"}},{componentType:"inputField",header:"Duration",name:"duration",icon:aa.time,validation:e=>na.isNotEmptyandNumber(e),grid:{s:"6"},unitOptions:[{label:"Hours",value:"Hours"},{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],unitValidation:e=>e&&""!==e?null:"Please select a unit."},{componentType:"inputField",header:"Specify the presenting complaint(s)",name:"Other (specify)",icon:aa.editPen,validation:e=>V(e,b.value)?"Presenting complaint already added":na.required(e),condition:e=>{var a;return"Other"===(null==e||null===(a=e.PresentingComplaints)||void 0===a?void 0:a.name)}},{componentType:"Alert",condition:e=>{var a;return!(null==na.required(null==e||null===(a=e.PresentingComplaints)||void 0===a?void 0:a.name))},backgroundColor:"lightyellow",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}]),{formRef:k}=ia(),C=e=>{var a;const t=e.duration+" "+e.duration_unit,n=e.PresentingComplaints,i="Other"===n.name?e["Other (specify)"]:n.name;b.value.push({actionBtn:!0,btn:["delete"],name:i,concept_id:n.concept_id,duration:n.duration,durationUnits:n.duration_unit,display:[i,t],data:[{concept_id:8578,value_coded:n.concept_id,obs_datetime:$e.getSessionDate(),child:[{concept_id:n.concept_id,value_text:t,obs_datetime:$e.getSessionDate()}]}]}),null===(a=k.value)||void 0===a||a.resetForm(),h.value=!0,H()},H=()=>{const e=["Cough","Convulsions"];m.value=b.value.some(a=>e.includes(a.name))},V=(e,a)=>a.some(a=>a.name===e),T=e=>{b.value=b.value.filter(a=>a.display[0]!==e.name)};return l(async()=>{await(async()=>{y.value=await tt.getComplaintsList("Presenting complaint"),Le(n.value,"PresentingComplaints","multiSelectData",y.value)})()}),a({onSubmit:async()=>{const e=await Be.getObsByEncounterIdAndDate(ze.PRESENTING_COMPLAINTS),a=b.value.flatMap(e=>e.data);if(a.length<=0&&e.length<=0)return Fe("Presenting complaints is required");a.length<=0||(await Be.addObsToEncounterPatient(a,ze.PRESENTING_COMPLAINTS),Ue("Presenting complaints saved successful"),b.value=[])}}),(e,a)=>{const t=D("ion-row"),n=D("ion-label"),i=D("ion-accordion"),o=D("ion-accordion-group");return d(),r(P,null,[u(nt,{status:v.value,content:"No presenting complaints added"},null,8,["status"]),h.value?(d(),r("span",vn,[u(je,{listData:b.value,"onClicked:delete":T},null,8,["listData"])])):S("",!0),g.value?(d(),E(t,{key:1},{default:I(()=>[u(oa,{formData:w.value,ref_key:"formRef",ref:k},null,8,["formData"]),c("div",mn,[u(We,{fill:"clear",icon:s.value.plus,iconSlot:"icon-only","onClicked:btn":a[0]||(a[0]=e=>(async()=>{var e,a;const t=null===(e=k.value)||void 0===e?void 0:e.getFormValues();null==(null===(a=k.value)||void 0===a?void 0:a.validateForm())&&(C(t),g.value=!1,f.value=!0)})()),name:"Save"},null,8,["icon"])])]),_:1})):S("",!0),f.value?(d(),E(t,{key:2,style:{"margin-top":"10px"}},{default:I(()=>[u(We,{fill:"clear",icon:s.value.plus,iconSlot:"icon-only","onClicked:btn":a[1]||(a[1]=e=>(v.value=!1,f.value=!1,void(g.value=!0))),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):S("",!0),m.value?(d(),E(t,{key:3,class:"ion-float-right"},{default:I(()=>[u(We,{color:"danger","onClicked:btn":a[2]||(a[2]=e=>(async()=>{Ra(pn,{class:"fullScreenModal"})})()),name:"AHD Screening"})]),_:1})):S("",!0),u(t,null,{default:I(()=>[u(o,{ref_key:"accordionGroup",ref:x,class:"previousView"},{default:I(()=>[u(i,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:I(()=>[u(p(_),{slot:"header",color:"light"},{default:I(()=>[u(n,{class:"previousLabel"},{default:I(()=>[...a[3]||(a[3]=[O("Previous presenting complaints",-1)])]),_:1})]),_:1}),c("div",gn,[u($a)])]),_:1})]),_:1},512)]),_:1})],64)}}}),[["__scopeId","data-v-0aa2f61c"]])),hn={class:"allergies-container"},bn={key:0,class:"no-allergies"},yn={key:1,class:"date-groups"},_n=["onClick"],xn={class:"date-info"},wn={class:"date-text"},kn={class:"allergy-count"},Cn={class:"card-header"},Dn={class:"allergy-type"},Sn={class:"card-content"},In=qe(n({__name:"AllergiesListing",setup(e){const a=ea(),{patient:t}=i(a),n=o({}),v={antiviral:/abacavir|lamivudine|lopinavir|ritonavir|zidovudine|efavirenz|tenofovir/i,antibiotic:/penicillin|amoxicillin|cephalexin|azithromycin|ciprofloxacin|doxycycline/i,analgesic:/aspirin|ibuprofen|acetaminophen|morphine|codeine|tramadol/i,cardiac:/metoprolol|lisinopril|amlodipine|atorvastatin|warfarin/i,activated:/activated\s+charcoal/i},m={985:{name:"Other",icon:ee,severity:"danger"},7759:{name:"Location/Environmental",icon:oe,severity:"info"},7579:{name:"Medical Condition",icon:ie,severity:"warning"},drug:{name:"Drug Allergy",icon:ee,severity:"danger"},food:{name:"Food Allergy",icon:ne,severity:"danger"},environmental:{name:"Environmental",icon:te,severity:"warning"},contact:{name:"Contact Allergy",icon:ae,severity:"warning"},unknown:{name:"Drug Allergy",icon:ee,severity:"danger"}},g=A(()=>{var e;return(null===(e=t.value)||void 0===e||null===(e=e.allergies)||void 0===e||null===(e=e.saved)||void 0===e?void 0:e.length)>0}),f=A(()=>g.value?t.value.allergies.saved.map(e=>{var a;const t=(null===(a=e.concept_id)||void 0===a?void 0:a.toString())||"unknown";console.log("###########: ",e);const n=m[t]||m.unknown;let i="Unknown",o=null;e.value_text&&"Unknown"!==e.value_text&&""!==e.value_text?(i=e.value_text,"985###"===t&&(o=(e=>{const a=e.toLowerCase();return v.antiviral.test(a)?{type:"Antiviral Medication",icon:"shield-outline"}:v.antibiotic.test(a)?{type:"Antibiotic",icon:"bandage-outline"}:v.analgesic.test(a)?{type:"Pain Medication",icon:"fitness-outline"}:v.cardiac.test(a)?{type:"Cardiac Medication",icon:"heart-outline"}:v.activated.test(a)?{type:"Detoxification Agent",icon:"flask-outline"}:{type:"Medication",icon:"medical-outline"}})(e.value_text))):e.concept_name&&(i=e.concept_name);return{...o?{...n,name:o.type,icon:o.icon}:n,displayValue:i,conceptId:e.concept_id,date:e.obs_datetime||e.encounter_datetime,providerId:e.provider_id,locationId:e.location_id,encounterId:e.encounter_id,isDrug:"985"===t,raw:e}}):[]),h=A(()=>{const e={};f.value.forEach(a=>{const t=a.date?b(a.date):"Unknown Date";e[t]||(e[t]=[]),e[t].push(a)});const a={};return Object.keys(e).sort((e,a)=>"Unknown Date"===e?1:"Unknown Date"===a?-1:new Date(a).getTime()-new Date(e).getTime()).forEach(t=>{a[t]=e[t]}),a}),b=e=>{if(!e)return"Unknown Date";try{return new Date(e).toISOString().split("T")[0]}catch(a){return"Unknown Date"}},y=e=>{if("Unknown Date"===e)return"Unknown Date";try{const a=new Date(e),t=Ze.sessionDate(),n=new Date(t),i=new Date(n);i.setDate(i.getDate()-1);const o=a.toDateString(),l=n.toDateString(),s=i.toDateString();return o===l?"Today":o===s?"Yesterday":a.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(a){return e}};return s(()=>h.value,e=>{const a=Object.keys(e);a.length>0&&(n.value[a[0]]=!0)},{immediate:!0}),s(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.allergies},e=>{console.log("Allergies updated:",e)},{deep:!0}),l(()=>{var e;console.log("Allergies component mounted",null===(e=t.value)||void 0===e?void 0:e.allergies)}),(e,a)=>{const t=D("ion-icon"),i=D("ion-label");return d(),r("div",hn,[u(i,{class:"section-title"},{default:I(()=>[u(t,{icon:p(le),class:"alert-icon"},null,8,["icon"]),u(i,null,{default:I(()=>[...a[0]||(a[0]=[O("Allergies (Medication, Healthcare items, Environment and Food)",-1)])]),_:1})]),_:1}),g.value?(d(),r("div",yn,[(d(!0),r(P,null,R(h.value,(e,a)=>(d(),r("div",{key:a,class:"date-group"},[c("div",{class:de(["date-header",{expanded:n.value[a]}]),onClick:e=>(e=>{n.value[e]=!n.value[e]})(a)},[c("div",xn,[u(t,{icon:p(re),class:"date-icon"},null,8,["icon"]),c("span",wn,z(y(a)),1),c("span",kn,"("+z(e.length)+" "+z(1===e.length?"allergy":"allergies")+")",1)]),u(t,{icon:p(ce),class:de(["expand-icon",{rotated:n.value[a]}])},null,8,["icon","class"])],10,_n),c("div",{class:de(["allergies-grid",{collapsed:!n.value[a]}])},[(d(!0),r(P,null,R(e,(e,a)=>(d(),r("div",{key:a,class:de(["allergy-card",e.severity])},[c("div",Cn,[u(t,{icon:e.icon,class:"allergy-icon"},null,8,["icon"]),c("span",Dn,z(e.name),1)]),c("div",Sn,[c("div",{class:de(["allergy-value",{"drug-name":e.isDrug}])},z(e.displayValue),3)])],2))),128))],2)]))),128))])):(d(),r("div",bn,[u(t,{icon:p(se),class:"no-allergies-icon"},null,8,["icon"]),a[1]||(a[1]=c("p",null,"No known allergies",-1))]))])}}}),[["__scopeId","data-v-4451d7ce"]]),On=n({name:"VisitHistory",components:{AllergiesListing:In,IonIcon:ue},setup(){const e=Ma();return{selectedAllergiesList2:A(()=>e.selectedMedicalAllergiesList),alertCircleOutline:le,documentTextOutline:Ce,femaleOutline:ke,medicalOutline:ee,warningOutline:we,bodyOutline:pe,eyeOutline:xe,nutritionOutline:_e,fitnessOutline:fe,pulseOutline:k,earOutline:ye,happyOutline:be,manOutline:he,moveOutline:ge,addOutline:me,scanOutline:ve}},data:()=>({presentingComplaintsWithDuration:[],pastMedicalHistory:[],levelOfConsciousness:{eyeResponse:null,verbalResponse:null,motorResponse:null},pregnancy:{patientPregnant:null,breastFeeding:null},physicalExamCategories:{Eyes:{icon:xe,abnormalities:[],normal:!1},Mouth:{icon:_e,abnormalities:[],normal:!1},Ears:{icon:ye,abnormalities:[],normal:!1},Face:{icon:be,abnormalities:[],normal:!1},Neck:{icon:he,abnormalities:[],normal:!1},Chest:{icon:fe,abnormalities:[],normal:!1},"Chest Movement":{icon:ge,abnormalities:[],normal:!1},"Heart Sounds":{icon:k,abnormalities:[],normal:!1},"Breath Sounds":{icon:me,abnormalities:[],normal:!1},"Added Breath Sounds":{icon:me,abnormalities:[],normal:!1},"Abdominal Inspection":{icon:ve,abnormalities:[],normal:!1},"Genital Examination":{icon:pe,abnormalities:[],normal:!1}}}),computed:{...v(ea,["patient"]),hasLevelOfConsciousness(){return this.levelOfConsciousness.eyeResponse||this.levelOfConsciousness.verbalResponse||this.levelOfConsciousness.motorResponse},hasPresentingComplaints(){var e;return(null===(e=this.presentingComplaintsWithDuration)||void 0===e?void 0:e.length)>0},hasPregnancyData(){return this.pregnancy.patientPregnant||this.pregnancy.breastFeeding},hasPastMedicalHistory(){var e;return(null===(e=this.uniquePastMedicalHistory)||void 0===e?void 0:e.length)>0},hasAllergies(){var e;return(null===(e=this.selectedAllergiesList2)||void 0===e||null===(e=e.filter(e=>e.selected))||void 0===e?void 0:e.length)>0},hasPhysicalExam(){return Object.values(this.physicalExamCategories).some(e=>e.abnormalities.length>0||e.normal)},uniquePastMedicalHistory(){return[...new Set(this.pastMedicalHistory)]},uniquePresentingComplaints(){return[...new Set(this.presentingComplaintsWithDuration.map(e=>e.name))]},isMinor(){var e;return Ze.getAgeInYears(null===(e=this.patient)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)<18},gcsScore(){var e,a,t;if(!this.hasLevelOfConsciousness)return null;const n=this.levelOfConsciousness.eyeResponse,i=this.levelOfConsciousness.motorResponse,o=this.levelOfConsciousness.verbalResponse,l=n&&null!==(e=(this.isMinor?Qa:Ja)[n])&&void 0!==e?e:0,s=i&&null!==(a=(this.isMinor?Ka:Xa)[i])&&void 0!==a?a:0,r=o&&null!==(t=(this.isMinor?Za:et)[o])&&void 0!==t?t:0;return`(M ${s} V ${r} E ${l}) ${l+s+r}/${this.isMinor?5:15}`}},methods:{async updateData(){var e;null!==(e=this.patient)&&void 0!==e&&e.patientID&&(await this.loadPresentingComplaints(),await this.loadPastMedicalHistory(),await this.loadLevelOfConsciousness(),await this.loadPregnancyStatus(),await this.loadPhysicalExam())},async loadPresentingComplaints(){try{const e=await Be.getObsByEncounterIdAndDate(ze.PRESENTING_COMPLAINTS);this.presentingComplaintsWithDuration=[];const a=e.filter(e=>"Presenting complaint"===e.concept_name);for(const t of a){const a=e.find(e=>e.concept_id===t.value_coded&&"Presenting complaint"!==e.concept_name),n=await Ke.getConceptName(t.value_coded);this.presentingComplaintsWithDuration.push({name:n,duration:(null==a?void 0:a.value_text)||"Duration not specified"})}}catch(e){console.error("Error loading presenting complaints:",e)}},async loadPastMedicalHistory(){try{const e=(await Be.getObsByEncounterIdAndDate(ze.PAST_MEDICAL_HISTORY)).filter(e=>"Chronic disease"===e.concept_name);this.pastMedicalHistory=await Promise.all(e.map(async e=>await Ke.getConceptName(e.value_coded)))}catch(e){console.error("Error loading past medical history:",e)}},async loadLevelOfConsciousness(){try{const e=await Be.getObsByEncounterIdAndDate(ze.ASSESSMENT);if(e&&Array.isArray(e)){const a=e.find(e=>"Eye opening response"===e.concept_name);this.levelOfConsciousness.eyeResponse=null!=a&&a.value_coded?await Ke.getConceptName(a.value_coded):null;const t=e.find(e=>"Best verbal response"===e.concept_name);this.levelOfConsciousness.verbalResponse=null!=t&&t.value_coded?await Ke.getConceptName(t.value_coded):null;const n=e.find(e=>"Best motor response"===e.concept_name);this.levelOfConsciousness.motorResponse=null!=n&&n.value_coded?await Ke.getConceptName(n.value_coded):null}}catch(e){console.error("Error loading level of consciousness:",e)}},async loadPregnancyStatus(){try{const e=await Be.getObsByEncounterIdAndDate(ze.PREGNANCY_STATUS);if(e&&Array.isArray(e)){const a=e.find(e=>"Patient pregnant"===e.concept_name);this.pregnancy.patientPregnant=null!=a&&a.value_coded?await Ke.getConceptName(a.value_coded):null;const t=e.find(e=>"Is patient breast feeding?"===e.concept_name);this.pregnancy.breastFeeding=null!=t&&t.value_coded?await Ke.getConceptName(t.value_coded):null}}catch(e){console.error("Error loading pregnancy status:",e)}},async loadPhysicalExam(){try{const e=await Be.getObsByEncounterIdAndDate(ze.PHYSICAL_EXAMINATION);Object.values(this.physicalExamCategories).forEach(e=>{e.abnormalities=[],e.normal=!1});for(const a of e)if(a.concept_id){if(1065===a.value_coded)switch(a.concept_id){case 10837:this.physicalExamCategories.Eyes.normal=!0;break;case 10842:this.physicalExamCategories.Mouth.normal=!0;break;case 11028:this.physicalExamCategories.Ears.normal=!0;break;case 10854:this.physicalExamCategories.Face.normal=!0;break;case 10858:this.physicalExamCategories.Neck.normal=!0;break;case 10894:this.physicalExamCategories.Chest.normal=!0;break;case 10903:this.physicalExamCategories["Heart Sounds"].normal=!0;break;case 10909:this.physicalExamCategories["Breath Sounds"].normal=!0;break;case 10919:case 10928:case 10939:this.physicalExamCategories["Abdominal Inspection"].normal=!0;break;case 10803:case 10946:this.physicalExamCategories["Genital Examination"].normal=!0}if(a.value_coded){const e=await Ke.getConceptName(a.value_coded);switch(a.concept_id){case 10838:this.physicalExamCategories.Eyes.abnormalities.push(e);break;case 10843:this.physicalExamCategories.Mouth.abnormalities.push(e);break;case 10852:this.physicalExamCategories.Ears.abnormalities.push(e);break;case 10855:this.physicalExamCategories.Face.abnormalities.push(e);break;case 10859:this.physicalExamCategories.Neck.abnormalities.push(e);break;case 10897:this.physicalExamCategories.Chest.abnormalities.push(e);break;case 10904:this.physicalExamCategories["Heart Sounds"].abnormalities.push(e);break;case 10910:this.physicalExamCategories["Breath Sounds"].abnormalities.push(e);break;case 10920:case 10929:case 10939:this.physicalExamCategories["Abdominal Inspection"].abnormalities.push(e);break;case 10797:case 10804:case 10947:this.physicalExamCategories["Genital Examination"].abnormalities.push(e)}}}}catch(e){console.error("Error loading physical exam:",e)}}},watch:{patient:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()}}),An={class:"visit-container"},Pn={class:"visit-sections"},En={key:0,class:"visit-section"},Hn={class:"section-header"},Vn={class:"section-content"},Tn={key:0,class:"info-item"},Nn={class:"info-value"},Mn={key:1,class:"info-item"},Ln={class:"info-value"},Rn={key:2,class:"info-item"},Fn={class:"info-value"},Bn={key:3,class:"info-item"},zn={class:"info-value highlight"},Un={key:1,class:"visit-section"},qn={class:"section-header"},Wn={class:"complaints-container"},jn={class:"complaint-name"},Gn={class:"complaint-duration"},Yn={key:2,class:"visit-section"},$n={class:"section-header"},Qn={class:"section-content"},Jn={key:0,class:"info-item"},Kn={class:"info-value highlight"},Xn={key:1,class:"info-item"},Zn={class:"info-value highlight"},ei={key:3,class:"visit-section"},ai={class:"section-header"},ti={class:"tags-container"},ni={class:"allergies-section"},ii={class:"allergies-container"},oi={key:4,class:"visit-section"},li={class:"section-header"},si={class:"exam-section"},ri={key:0,class:"exam-category"},di={class:"exam-category-header"},ci={class:"exam-items"},ui={key:1,class:"exam-item normal"};const pi=qe(On,[["render",function(e,a,t,n,i,o){const l=D("ion-icon"),s=D("AllergiesListing");return d(),r("div",An,[a[11]||(a[11]=c("div",{class:"visit-header"},[c("h5",null,"Patient's Clinical Assessment Summary")],-1)),c("div",Pn,[e.hasLevelOfConsciousness?(d(),r("div",En,[c("div",Hn,[u(l,{icon:e.alertCircleOutline,class:"section-icon"},null,8,["icon"]),a[0]||(a[0]=c("h3",null,"Level of Consciousness",-1))]),c("div",Vn,[e.levelOfConsciousness.eyeResponse?(d(),r("div",Tn,[a[1]||(a[1]=c("span",{class:"info-label"},"Eye Response:",-1)),c("span",Nn,z(e.levelOfConsciousness.eyeResponse),1)])):S("",!0),e.levelOfConsciousness.verbalResponse?(d(),r("div",Mn,[a[2]||(a[2]=c("span",{class:"info-label"},"Verbal Response:",-1)),c("span",Ln,z(e.levelOfConsciousness.verbalResponse),1)])):S("",!0),e.levelOfConsciousness.motorResponse?(d(),r("div",Rn,[a[3]||(a[3]=c("span",{class:"info-label"},"Motor Response:",-1)),c("span",Fn,z(e.levelOfConsciousness.motorResponse),1)])):S("",!0),e.gcsScore?(d(),r("div",Bn,[a[4]||(a[4]=c("span",{class:"info-label"},"Score:",-1)),c("span",zn,z(e.gcsScore),1)])):S("",!0)])])):S("",!0),e.hasPresentingComplaints?(d(),r("div",Un,[c("div",qn,[u(l,{icon:e.documentTextOutline,class:"section-icon"},null,8,["icon"]),a[5]||(a[5]=c("h3",null,"Presenting Complaints",-1))]),c("div",Wn,[(d(!0),r(P,null,R(e.presentingComplaintsWithDuration,(e,a)=>(d(),r("div",{class:"complaint-item",key:a},[c("div",jn,z(e.name),1),c("div",Gn,z(e.duration),1)]))),128))])])):S("",!0),e.hasPregnancyData?(d(),r("div",Yn,[c("div",$n,[u(l,{icon:e.femaleOutline,class:"section-icon"},null,8,["icon"]),a[6]||(a[6]=c("h3",null,"Pregnancy Status",-1))]),c("div",Qn,[e.pregnancy.patientPregnant?(d(),r("div",Jn,[a[7]||(a[7]=c("span",{class:"info-label"},"Pregnant:",-1)),c("span",Kn,z(e.pregnancy.patientPregnant),1)])):S("",!0),e.pregnancy.breastFeeding?(d(),r("div",Xn,[a[8]||(a[8]=c("span",{class:"info-label"},"Breastfeeding:",-1)),c("span",Zn,z(e.pregnancy.breastFeeding),1)])):S("",!0)])])):S("",!0),e.hasPastMedicalHistory?(d(),r("div",ei,[c("div",ai,[u(l,{icon:e.medicalOutline,class:"section-icon"},null,8,["icon"]),a[9]||(a[9]=c("h3",null,"Medical History",-1))]),c("div",ti,[(d(!0),r(P,null,R(e.uniquePastMedicalHistory,(e,a)=>(d(),r("div",{class:"medical-tag",key:a},z(e),1))),128))])])):S("",!0),c("div",ni,[c("div",ii,[u(s)])]),e.hasPhysicalExam?(d(),r("div",oi,[c("div",li,[u(l,{icon:e.bodyOutline,class:"section-icon"},null,8,["icon"]),a[10]||(a[10]=c("h3",null,"Physical Examination",-1))]),c("div",si,[(d(!0),r(P,null,R(e.physicalExamCategories,(e,a)=>(d(),r(P,{key:a},[e.abnormalities.length>0||e.normal?(d(),r("div",ri,[c("div",di,[u(l,{icon:e.icon},null,8,["icon"]),c("h4",null,z(a),1)]),c("div",ci,[e.abnormalities.length>0?(d(!0),r(P,{key:0},R(e.abnormalities,(e,a)=>(d(),r("div",{class:"exam-item abnormal",key:a},z(e),1))),128)):e.normal?(d(),r("div",ui," Normal examination ")):S("",!0)])])):S("",!0)],64))),128))])])):S("",!0)])])}],["__scopeId","data-v-795e1865"]]),vi={class:"modal_wrapper"},mi=a("_",n({__name:"PregnancyBreastfeeding",setup(e,{expose:a}){const t=Fa(),{pregnancy:n}=i(t),o=()=>{};return a({onSubmit:async()=>{const e=await lt(n.value);e.length>0?(await Be.addObsToEncounterPatient(e,ze.PREGNANCY_STATUS),Ue("Pregnancy status saved successfully")):Fe("No pregnancy status data to save ")}}),(e,a)=>(d(),r("div",vi,[u(it,{contentData:p(n),"onUpdate:inputValue":o},null,8,["contentData"])]))}})),gi={class:"modal_wrapper"},fi={class:"uniform_columns"},hi=qe(n({__name:"PastMedicalHistory",setup(e,{expose:a}){const t=Te(),{pastMedicalHistory:n}=i(t),v=o([]);l(()=>{v.value=t.getInitial(),m()}),s(n,()=>{m()},{deep:!0});const m=()=>{var e;const a=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];null!==(e=Ne(n.value,"None"))&&void 0!==e&&e.checked?a.forEach(e=>{Me(n.value,"TB treatment","displayNone",!0),Le(n.value,"TB drugs","displayNone",!0),Le(n.value,"TB drug start date","displayNone",!0),Me(n.value,"Hypertension medication","displayNone",!0),Le(n.value,"Current hypertension treatment regimen","displayNone",!0),Me(n.value,"HIV status","displayNone",!0),Le(n.value,"ARV start date","displayNone",!0),Me(n.value,"Diabetes","displayNone",!0),Me(n.value,"Controlled by","displayNone",!0),Re(n.value,e,"checked",!1),Re(n.value,e,"disabled",!0)}):a.forEach(e=>{Re(n.value,e,"disabled",!1)})},g=e=>{Le(n.value,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine 'O' (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),Le(n.value,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})};return a({onSubmit:async()=>{const e=await(async()=>[...await ot(n.value),...await lt(n.value),...await st(n.value)])();0!==e.length?(await Be.addObsToEncounterPatient(e,ze.PAST_MEDICAL_HISTORY),Ue("Past medical history saved successful")):Fe("No past medical history data to save")}}),(e,a)=>(d(),r("div",gi,[c("div",fi,[u(it,{contentData:p(n),initialData:v.value,"onUpdate:inputValue":g,"onUpdate:selected":g},null,8,["contentData","initialData"])])]))}}),[["__scopeId","data-v-49fdce72"]]),bi={class:"container"},yi=a("a",qe(n({__name:"PhysicalExamination",setup(e,{expose:a}){const t=Ba(),n=ea(),{physicalExam:c}=i(t),{patient:v}=i(n),m=o([]);l(()=>{m.value=t.getInitial(),g(),f()}),s(c,()=>{g(),f()},{deep:!0});const g=()=>{"No"==za(c.value,"Physical examination")?Me(c.value,"Reason why physical examination not done","displayNone",!1):(Me(c.value,"Reason why physical examination not done","displayNone",!0),Me(c.value,"Reason why physical examination not done","selectedValue",""))},f=()=>{var e;const a=null===(e=v.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender;"M"==a&&(Re(c.value,"Vulva examination","disabled",!0),Re(c.value,"Visible bleeding","disabled",!0)),"F"==a&&(Re(c.value,"Urethral meatus abnormal","disabled",!0),Re(c.value,"Scrotal swelling","disabled",!0),Re(c.value,"Tastes swelling","disabled",!0))};return a({onSubmit:async()=>{const e=await(async()=>[...await ot(c.value),...await lt(c.value),...await st(c.value)])();console.log("Selected physical data is",e),0!==e.length?(await Be.addObsToEncounterPatient(e,ze.PHYSICAL_EXAMINATION),console.log(Be.getObsByEncounterIdAndDate(ze.PHYSICAL_EXAMINATION)),Ue("Physical examination saved successful")):Fe("No physical examination data to save")}}),(e,a)=>{const t=D("ion-card-content"),n=D("ion-card");return d(),r("div",bi,[u(n,{class:"section"},{default:I(()=>[u(t,null,{default:I(()=>[u(it,{contentData:p(c),initialData:m.value},null,8,["contentData","initialData"])]),_:1})]),_:1})])}}}),[["__scopeId","data-v-0d34c6dd"]])),_i={key:0},xi={class:"ion-padding",slot:"content"},wi={class:"nav-buttons"},ki={class:"ion-padding",slot:"content"},Ci={class:"nav-buttons"},Di={class:"ion-padding",slot:"content"},Si={class:"nav-buttons"},Ii={class:"ion-padding",slot:"content"},Oi={class:"nav-buttons"},Ai={class:"ion-padding",slot:"content"},Pi={class:"nav-buttons"},Ei={class:"ion-padding",slot:"content"},Hi={class:"nav-buttons"},Vi=(a("C",qe(n({__name:"ClinicalAssessment",setup(e,{expose:a}){const t=o("loc"),n=o(0),i=o(!1),v=o(!1),m=new ga,g=ea(),f=()=>{n.value++},h=o(null),b=o(null),y=o(null),x=o(null),w=o(null),k=o(null),C=[{id:"loc",label:"Level of consciousness",show:!0},{id:"pc",label:"Presenting complaints",show:!0},{id:"pbs",label:"Pregnancy and breastfeeding status",show:()=>m.isChildBearing()},{id:"pmh",label:"Past medical history",show:!0},{id:"al",label:"Allergies",show:!0},{id:"pe",label:"Physical examination",show:!0}];async function H(){const e=$e.getSessionDate(),a=[ze.ASSESSMENT,ze.PRESENTING_COMPLAINTS,ze.PAST_MEDICAL_HISTORY,ze.PHYSICAL_EXAMINATION,ze.PREGNANCY_STATUS];let t=!1;for(const i of a)try{const a=await Be.getObsByEncounterIdAndDate(i);if(a&&a.some(a=>!!a.obs_datetime&&Ze.toStandardHisFormat(a.obs_datetime)===Ze.toStandardHisFormat(e))){t=!0;break}}catch(n){console.error(`Error checking observations for encounter type ${i}:`,n)}i.value=t}l(H),s(()=>g.patient,H);const V=A(()=>i.value),T=A(()=>C.filter(e=>"function"==typeof e.show?e.show():e.show)),M=e=>{const a=C.find(a=>a.id===e);return!!a&&("function"==typeof a.show?a.show():a.show)},R=e=>T.value.findIndex(a=>a.id===e),U=e=>{const a=R(e);a>0&&(t.value=T.value[a-1].id)},q=e=>{const a=R(e)+1;a<T.value.length?t.value=T.value[a].id:(t.value="",f())};return a({onSubmit:async()=>{const e=[{ref:h,name:"PresentingComplaints"},{ref:b,name:"LevelOfConsciousness"},{ref:y,name:"PastMedicalHistory"},{ref:w,name:"PregnancyBreastfeeding"},{ref:k,name:"PhysicalExamination"}];for(const t of e)if(t.ref.value&&"function"==typeof t.ref.value.onSubmit)try{await t.ref.value.onSubmit()}catch(a){console.error(`Error calling ${t.name} onSubmit:`,a)}else console.log(`${t.name} component ref not available or no onSubmit method`)}}),(e,a)=>{const i=D("ion-toggle");return d(),r(P,null,[V.value?(d(),r("div",_i,[u(p(_),{lines:"none"},{default:I(()=>[u(p(B),null,{default:I(()=>[...a[14]||(a[14]=[O("Switch between Capture Mode and Summary Mode",-1)])]),_:1}),u(i,{checked:v.value,onIonChange:a[0]||(a[0]=e=>v.value=e.detail.checked),slot:"end"},null,8,["checked"])]),_:1}),v.value?S("",!0):(d(),E(pi,{key:n.value}))])):S("",!0),!V.value||v.value?(d(),E(p(N),{key:1,style:{width:"100%"}},{default:I(()=>[u(p(L),{value:t.value,"onUpdate:value":a[13]||(a[13]=e=>t.value=e),ref:"accordionGroup",class:"previousView"},{default:I(()=>[M("loc")?(d(),E(p(F),{key:0,value:"loc",class:"_card"},{default:I(()=>[u(p(_),{slot:"header",color:"light"},{default:I(()=>[u(p(B),{class:"previousLabel"},{default:I(()=>[...a[15]||(a[15]=[O("Level of consciousness",-1)])]),_:1})]),_:1}),c("div",xi,[u(at,{"is-active":"loc"===t.value,ref_key:"levelOfConsciousnessFormRef",ref:b,onDataSaved:f},null,8,["is-active"]),c("div",wi,[R("loc")>0?(d(),E(p(De),{key:0,fill:"outline",onClick:a[1]||(a[1]=Se(e=>U("loc"),["stop"]))},{default:I(()=>[...a[16]||(a[16]=[O(" Back ",-1)])]),_:1})):S("",!0),u(p(De),{fill:"outline",onClick:a[2]||(a[2]=Se(e=>q("loc"),["stop"]))},{default:I(()=>[O(z(R("loc")<T.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):S("",!0),M("pc")?(d(),E(p(F),{key:1,value:"pc",class:"_card"},{default:I(()=>[u(p(_),{slot:"header",color:"light"},{default:I(()=>[u(p(B),{class:"previousLabel"},{default:I(()=>[...a[17]||(a[17]=[O("Presenting complaints",-1)])]),_:1})]),_:1}),c("div",ki,[u(fn,{"is-active":"pc"===t.value,onDataSaved:f,ref_key:"presentingComplaintsFormRef",ref:h},null,8,["is-active"]),c("div",Ci,[R("pc")>0?(d(),E(p(De),{key:0,fill:"outline",onClick:a[3]||(a[3]=Se(e=>U("pc"),["stop"]))},{default:I(()=>[...a[18]||(a[18]=[O(" Back ",-1)])]),_:1})):S("",!0),u(p(De),{fill:"outline",onClick:a[4]||(a[4]=Se(e=>q("pc"),["stop"]))},{default:I(()=>[O(z(R("pc")<T.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):S("",!0),M("pbs")?(d(),E(p(F),{key:2,value:"pbs",class:"_card"},{default:I(()=>[u(p(_),{slot:"header",color:"light"},{default:I(()=>[u(p(B),{class:"previousLabel"},{default:I(()=>[...a[19]||(a[19]=[O("Pregnancy and breastfeeding status",-1)])]),_:1})]),_:1}),c("div",Di,[u(mi,{"is-active":"pbs"===t.value,ref_key:"pregnancyBreastfeedingFormRef",ref:w,onDataSaved:f},null,8,["is-active"]),c("div",Si,[R("pbs")>0?(d(),E(p(De),{key:0,fill:"outline",onClick:a[5]||(a[5]=Se(e=>U("pbs"),["stop"]))},{default:I(()=>[...a[20]||(a[20]=[O(" Back ",-1)])]),_:1})):S("",!0),u(p(De),{fill:"outline",onClick:a[6]||(a[6]=Se(e=>q("pbs"),["stop"]))},{default:I(()=>[O(z(R("pbs")<T.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):S("",!0),M("pmh")?(d(),E(p(F),{key:3,value:"pmh",class:"_card"},{default:I(()=>[u(p(_),{slot:"header",color:"light"},{default:I(()=>[u(p(B),{class:"previousLabel"},{default:I(()=>[...a[21]||(a[21]=[O("Past medical history",-1)])]),_:1})]),_:1}),c("div",Ii,[u(hi,{"is-active":"pmh"===t.value,ref_key:"pastMedicalHistoryFormRef",ref:y,onDataSaved:f},null,8,["is-active"]),c("div",Oi,[R("pmh")>0?(d(),E(p(De),{key:0,fill:"outline",onClick:a[7]||(a[7]=Se(e=>U("pmh"),["stop"]))},{default:I(()=>[...a[22]||(a[22]=[O(" Back ",-1)])]),_:1})):S("",!0),u(p(De),{fill:"outline",onClick:a[8]||(a[8]=Se(e=>q("pmh"),["stop"]))},{default:I(()=>[O(z(R("pmh")<T.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):S("",!0),M("al")?(d(),E(p(F),{key:4,value:"al",class:"_card"},{default:I(()=>[u(p(_),{slot:"header",color:"light"},{default:I(()=>[u(p(B),{class:"previousLabel"},{default:I(()=>[...a[23]||(a[23]=[O("Allergies",-1)])]),_:1})]),_:1}),c("div",Ai,[u(vt,{"is-active":"al"===t.value,ref_key:"allergiesFormRef",ref:x,onDataSaved:f},null,8,["is-active"]),c("div",Pi,[R("al")>0?(d(),E(p(De),{key:0,fill:"outline",onClick:a[9]||(a[9]=Se(e=>U("al"),["stop"]))},{default:I(()=>[...a[24]||(a[24]=[O(" Back ",-1)])]),_:1})):S("",!0),u(p(De),{fill:"outline",onClick:a[10]||(a[10]=Se(e=>q("al"),["stop"]))},{default:I(()=>[O(z(R("al")<T.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):S("",!0),M("pe")?(d(),E(p(F),{key:5,value:"pe",class:"_card"},{default:I(()=>[u(p(_),{slot:"header",color:"light"},{default:I(()=>[u(p(B),{class:"previousLabel"},{default:I(()=>[...a[25]||(a[25]=[O("Physical examination",-1)])]),_:1})]),_:1}),c("div",Ei,[u(yi,{"is-active":"pe"===t.value,ref_key:"physicalExaminationFormRef",ref:k,onDataSaved:f},null,8,["is-active"]),c("div",Hi,[R("pe")>0?(d(),E(p(De),{key:0,fill:"outline",onClick:a[11]||(a[11]=Se(e=>U("pe"),["stop"]))},{default:I(()=>[...a[26]||(a[26]=[O(" Back ",-1)])]),_:1})):S("",!0),u(p(De),{fill:"outline",onClick:a[12]||(a[12]=Se(e=>q("pe"),["stop"]))},{default:I(()=>[O(z(R("pe")<T.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):S("",!0)]),_:1},8,["value"])]),_:1})):S("",!0)],64)}}}),[["__scopeId","data-v-597092a6"]])),{class:"allergies-section"}),Ti={class:"allergies-container"},Ni={class:"medication-section"},Mi={class:"medication-content"},Li={key:0,class:"add-medication-form"},Ri={class:"form-group"},Fi={class:"option-label"},Bi={key:0,class:"error-message"},zi={class:"form-row"},Ui={class:"form-group"},qi={key:0,class:"error-message"},Wi={class:"form-group"},ji={key:0,class:"error-message"},Gi={class:"form-group"},Yi={key:0,class:"error-message"},$i={class:"action-buttons"},Qi={class:"notes-section"},Ji={class:"notes-content"},Ki={class:"notes-input-container"},Xi={class:"ion-padding",slot:"content"},Zi={class:"notes-timeline"},eo={class:"note-date"},ao={class:"note-content"},to={class:"ion-padding",slot:"content"},no={class:"note-date"},io={class:"note-content"},oo=n({watch:{},name:"xxxComponent"}),lo=n({...oo,setup(e){const a=aa,t=Ht,n=o(!1),i=o(!1),v=o(!0),m=o(0),f=o(""),h=o(!1),b=o(),x=o(!1),w=o(""),k=o(""),C=o(""),D=o(""),H=o(""),V=o(""),T=Ca(),N=Ma(),M=A(()=>N.selectedMedicalAllergiesList),U=A(()=>T.selectedMedicalDrugsList),q=A(()=>T.partialOPDdrugList),W=A(()=>T.nonPharmalogicalTherapyAndOtherNotes),j=["first","second","third"],G=o(),Y=o(),$=o(),J=o(!1),K=o(!1),X=o("Show more notes"),Z=o(),ae=o(),te=o(),ne=A(()=>T.editingDrugItem),ie=o("Select a route"),oe=o(!1),le=o("Select frequency"),se=o(!1),re=o("Select drug"),de=o(!1),ce=o(),pe=o(),ve=o(),ge=o([]),fe=o([{concept_id:11797,name:"Buccal",concept_name_id:null,id:1769},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:6284},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:6285},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:6286},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:6295},{concept_id:3327,name:"Oral",concept_name_id:null,id:8686},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:8920},{concept_id:11792,name:"Rectally",concept_name_id:null,id:10785},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:12342},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:12344},{concept_id:11792,name:"Rectally",concept_name_id:null,id:14078},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:14079},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:14080},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:14081},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:14082},{concept_id:11797,name:"Buccal",concept_name_id:null,id:14083},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:14084},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:14085},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:14086}]),he=A(()=>ge.value.length?ge.value:fe.value);async function be(){return await Vt()}function ye(){v.value=!v.value,n.value=!0,h.value=!1,x.value=!1}async function _e(){return Ee(C.value)?x.value=!1:(b.value="please enter a number",x.value=!0),x.value}async function xe(){const e=await _e(),a=1==Ct.isEmpty(pe.value)?(se.value=!0,!1):0==Ct.isEmpty(pe.value)?(se.value=!1,!0):void 0,t=1==Ct.isEmpty(ve.value)?(de.value=!0,!1):0==Ct.isEmpty(ve.value)?(de.value=!1,!0):void 0,n=1==Ct.isEmpty(ce.value)?(oe.value=!0,!1):0==Ct.isEmpty(ce.value)?(oe.value=!1,!0):void 0;return!e&&1==a&&1==t&&1==n}async function we(){try{const e=()=>null!=te.value.dose_strength&&te.value.dose_strength?Math.trunc(te.value.dose_strength):1;if(null!==ne.value){if(!(await xe()))return void Fe("Please enter correct data values",4e3);const a=He($e.getSessionDate(),parseInt(C.value));let t=!1;1==ke(te.value)&&(t=!0);const n={drugName:w.value,dose:e(),frequency:pe.value.label,frequency_code:pe.value.code,duration:C.value,prescription:a,drug_id:V.value,units:H.value,route_concept_id:ce.value.concept_id,route_name:ce.value.name,highlightbackground:t},i=Ca();console.log(i.setSelectedMedicalDrugsList([n])),i.editingDrugItem=null,v.value=!0}else{if(!(await xe()))return void Fe("Please enter correct data values",4e3);n.value=!1,i.value=!0,v.value=!0;const a=He($e.getSessionDate(),parseInt(C.value));let t=!1;1==ke(te.value)&&(t=!0);const o={drugName:w.value,dose:e(),frequency:pe.value.label,frequency_code:pe.value.code,duration:C.value,prescription:a,drug_id:V.value,units:H.value,route_concept_id:ce.value.concept_id,route_name:ce.value.name,highlightbackground:t};Ca().setSelectedMedicalDrugsList([o])}V.value="",w.value="",k.value="",pe.value=null,C.value="",D.value="",m.value++,ve.value=null,ce.value=null}catch(e){console.error("Error saving data:",e)}}function ke(e){const a=[];M.value.forEach(e=>{e.selected&&a.push(e.concept_id)});return 1==function(e,a){try{return e.some(e=>a.includes(e.concept_id))}catch(t){return!1}}([e],a)&&(Fe("Client is allergic to the selected medication",4e6),!0)}function Ce(e){const a=U.value[e],t=Ca();t.removeDrugById(a.drug_id),t.editingDrugItem=a,V.value="",w.value="",k.value="",pe.value=null,C.value="",D.value="",ve.value=null,ce.value=null,V.value=a.drug_id,w.value=a.drugName,k.value=a.dose,pe.value={label:a.frequency,code:a.frequency_code},C.value=a.duration,D.value=a.prescription;const n=q.value.find(e=>e.name===a.drugName);n&&(ve.value=n),ce.value={concept_id:a.route_concept_id,name:a.route_name},v.value=!1,m.value++}function De(e){U.value.splice(e,1),m.value++,Fe("you have removed a drug from list",6e3)}function Se(e){!function(e){Ca().setNonPharmalogicalTherapyAndOtherNotes(e)}(e.target.value)}function Ee(e){return/^[0-9]+$/.test(e)}function He(e,a){const t=new Date(e);t.setDate(t.getDate()+a);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function Ve(e){j.filter(a=>a!==e.detail.value);const a=e.detail.value;void 0!==a?"third"==a&&(X.value="Show less notes",K.value=!J.value):(X.value="Show more notes",K.value=!J.value)}function Te(e){"Enter"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),we())}l(async()=>{const e=new kt,{previousDrugPrescriptions:a,previousClinicalNotes:t,previousDrugAllergies:n}=await e.getPatientEncounters();G.value=a,Y.value=Object.entries(t)[0];const[,...i]=Object.entries(t);$.value=i,Z.value=Object.entries(n)[0];const[,...o]=Object.entries(n);ae.value=o,await async function(e=5,a=1e3){let t=0;for(;t<e&&(ge.value=await be(),!(ge.value.length>0));)t++,await new Promise(e=>setTimeout(e,a));0===ge.value.length&&console.warn("Failed to fetch route list after maximum retries.")}()}),s(()=>k.value,async e=>{!async function(){Ee(k.value)?h.value=!1:(f.value="please enter a number",h.value=!0);h.value}()}),s(()=>C.value,async e=>{_e()});const Ne=A(()=>[{showAddItemButton:!0,addItemButton:!0,name:null!==ne.value?"Update":"ADD",fn:we},{showAddItemButton:!0,addItemButton:!0,name:"CANCEL",fn:Me}]),Me=async()=>{Ra(Ua,{class:"otherVitalsModal"},!0,{message:"Are you sure you want to cancle?"},{cancel:e=>{},confirm:async e=>{1==e.detail&&function(){if(null!==ne.value){V.value="",w.value="",k.value="",pe.value=null,C.value="",D.value="",ve.value=null,ce.value=null;const e=Ca();e.setSelectedMedicalDrugsList([ne.value]),e.editingDrugItem=null}v.value=!0,m.value++}()}})};return(e,n)=>(d(),E(p(y),null,{default:I(()=>[c("div",Vi,[c("div",Ti,[u(In)])]),c("div",Ni,[u(p(_),{lines:"none",class:"section-header"},{default:I(()=>[u(p(ue),{icon:p(ee),class:"section-icon"},null,8,["icon"]),u(p(B),{class:"section-title",style:{"margin-top":"12px"}},{default:I(()=>[...n[9]||(n[9]=[O("Medication",-1)])]),_:1})]),_:1}),c("div",Mi,[(d(),E(mt,{_selectedMedicalDrugsList:U.value,onEditItem:Ce,onRemoveItem:De,key:m.value,class:"medication-list"},null,8,["_selectedMedicalDrugsList"])),v.value?S("",!0):(d(),r("div",Li,[c("div",Ri,[n[10]||(n[10]=c("label",{class:"input-label"},"Medication",-1)),u(p(Ie),{modelValue:ve.value,"onUpdate:modelValue":[n[0]||(n[0]=e=>ve.value=e),n[1]||(n[1]=e=>{var a;(a=e)&&(w.value=a.name,V.value=a.drug_id,H.value=a.units,te.value=a,ke(a))})],options:q.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select medication",label:"name","track-by":"drug_id",onSearchChange:n[2]||(n[2]=e=>async function(e){const a=e,t=await qa.getOfflineOPDDrugs({name:a,page:1,page_size:10});t.map(e=>({label:e.name,value:e.name,other:e})),T.setPartialOPDdrugList(t)}(e))},{option:I(e=>[c("div",Fi,z(e.option.name),1)]),_:1},8,["modelValue","options"]),de.value?(d(),r("div",Bi,z(re.value),1)):S("",!0)]),c("div",zi,[c("div",Ui,[n[11]||(n[11]=c("label",{class:"input-label"},"Route",-1)),u(p(Ie),{modelValue:ce.value,"onUpdate:modelValue":[n[3]||(n[3]=e=>ce.value=e),n[4]||(n[4]=e=>{return a=e,void(ce.value=a);var a})],options:he.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select route",label:"name","track-by":"concept_id",disabled:!1},null,8,["modelValue","options"]),oe.value?(d(),r("div",qi,z(ie.value),1)):S("",!0)]),c("div",Wi,[n[12]||(n[12]=c("label",{class:"input-label"},"Frequency",-1)),u(p(Ie),{modelValue:pe.value,"onUpdate:modelValue":[n[5]||(n[5]=e=>pe.value=e),n[6]||(n[6]=e=>{return a=e,void(pe.value=a);var a})],options:p(t),searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select frequency",label:"label","track-by":"code"},null,8,["modelValue","options"]),se.value?(d(),r("div",ji,z(le.value),1)):S("",!0)]),c("div",Gi,[n[13]||(n[13]=c("label",{class:"input-label"},"Duration (days)",-1)),u(p(g),{modelValue:C.value,"onUpdate:modelValue":n[7]||(n[7]=e=>C.value=e),type:"number",inputmode:"numeric",pattern:"[0-9]*",fill:"outline",placeholder:"Enter duration",onKeydown:Te},null,8,["modelValue"]),x.value?(d(),r("div",Yi,z(b.value),1)):S("",!0)])]),c("div",$i,[Ne.value[0].addItemButton?(d(),E(We,{key:0,name:Ne.value[0].name,icon:p(Oe),"onClicked:btn":Ne.value[0].fn,class:"save-button"},null,8,["name","icon","onClicked:btn"])):S("",!0),Ne.value[1].addItemButton?(d(),E(We,{key:1,name:Ne.value[1].name,icon:p(Q),"onClicked:btn":Ne.value[1].fn,class:"cancel-button"},null,8,["name","icon","onClicked:btn"])):S("",!0)])])),v.value?(d(),E(We,{key:1,name:"Add new medication",icon:p(me),fontWeight:"600","onClicked:btn":ye,class:"add-new-button"},null,8,["icon"])):S("",!0)])]),c("div",Qi,[u(p(_),{lines:"none",class:"section-header"},{default:I(()=>[u(p(ue),{icon:p(Ae),class:"section-icon"},null,8,["icon"]),u(p(B),{class:"section-title"},{default:I(()=>[...n[14]||(n[14]=[O("Non-pharmacological therapy and other notes",-1)])]),_:1})]),_:1}),c("div",Ji,[u(gt,{class:"intervention-component"}),c("div",Ki,[u(p(_),{class:"notes-input-item"},{default:I(()=>[u(p(ue),{slot:"start",icon:p(a).editPen,class:"edit-icon","aria-hidden":"true"},null,8,["icon"]),u(p(Pe),{modelValue:W.value,"onUpdate:modelValue":n[8]||(n[8]=e=>W.value=e),onIonInput:Se,placeholder:"Enter notes here...","auto-grow":!0,class:"notes-textarea",fill:"outline",style:{"--padding-start":"16px"}},null,8,["modelValue"])]),_:1})]),u(p(L),{ref:"accordionGroup",class:"previous-notes"},{default:I(()=>[u(p(F),{value:"fourth","toggle-icon-slot":"start"},{default:I(()=>[u(p(_),{slot:"header",color:"light",class:"previous-notes-header"},{default:I(()=>[u(p(B),null,{default:I(()=>[...n[15]||(n[15]=[O("Previous visit notes",-1)])]),_:1})]),_:1}),c("div",Xi,[c("div",Zi,[1===e.index?(d(!0),r(P,{key:0},R(Y.value,(e,a)=>(d(),r("div",{key:a,class:"note-entry"},[(d(!0),r(P,null,R(e,(e,a)=>(d(),r("div",{key:a},[c("div",eo,z(e.date),1),c("div",ao,z(e.notes),1)]))),128))]))),128)):S("",!0),u(p(L),{onIonChange:Ve},{default:I(()=>[u(p(F),{value:"third","toggle-icon-slot":"start"},{default:I(()=>[u(p(_),{slot:"header",color:"light",class:"show-more-header"},{default:I(()=>[u(p(B),{color:"primary"},{default:I(()=>[O(z(X.value),1)]),_:1})]),_:1}),c("div",to,[(d(!0),r(P,null,R($.value,(e,a)=>{return d(),r("div",{key:a,class:"note-entry"},[(d(!0),r(P,null,R((t=e,t[1]),(e,a)=>(d(),r("div",{key:a},[c("div",no,z(e.date),1),c("div",io,z(e.notes),1)]))),128))]);var t}),128))])]),_:1})]),_:1})])])]),_:1})]),_:1},512)])])]),_:1}))}}),so=(a("b",qe(lo,[["__scopeId","data-v-928c62f1"]])),n({name:"xxxComponent"})),ro=n({...so,emits:["dataSaved"],setup(e,{emit:a}){const t=o(),n=o("gurdian phone number");o(!0),o(!0);const i=o(!0),s=o(),v=o();l(async()=>{!function(){const e=(new ga).isChildBearing;1==e&&(f[0].disable_checkbox.value=!1);0==e&&(f[0].disable_checkbox.value=!0)}()});const m=[{placeHolder:{default:"Enter time of death if known"},property_name:"timeOfDeath",dataHandler:function(e){m[0].dataValue.value=e},dataValue:o(),show_error:o(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time arrived"},property_name:"timeArrived",dataHandler:function(e){m[1].dataValue.value=e},dataValue:o(),show_error:o(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time confirming death"},property_name:"timeOfDeathConfirmation",dataHandler:function(e){m[2].dataValue.value=e},dataValue:o(),show_error:o(!1),error_message:"Time required",skip_validation:!1}],g=[{placeHolder:{default:"Enter date of death"},property_name:"dateOfDeath",dataHandler:function(e){const a={day:e.value.day,month:e.value.month,year:e.value.year,formattedDate:e.value.formattedDate};g[0].dataValue.value=a},dataValue:o(),show_error:o(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date arrived"},property_name:"dateArrived",dataHandler:function(e){const a={day:e.value.day,month:e.value.month,year:e.value.year,formattedDate:e.value.formattedDate};g[1].dataValue.value=a,console.log(g[2].dataValue.value)},dataValue:o(),show_error:o(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date confirming death"},property_name:"dateOfDeathConfirmation",dataHandler:function(e){const a={day:e.value.day,month:e.value.month,year:e.value.year,formattedDate:e.value.formattedDate};g[2].dataValue.value=a,console.log(g[2].dataValue.value)},dataValue:o(),show_error:o(!1),error_message:"Date required",type:"date",skip_validation:!1}],f=[{lblTxt:"Was the individual pregnant at the time of death?",value:o(!1),disable_checkbox:o(!0)}],h=[{placeHolder:"Enter place of death",property_name:"placeOfDeath",dataHandler:function(e){const a=e.target.value;h[0].dataValue.value=a},dataValue:o(),show_error:o(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of guardian",property_name:"nameOfGuardian",dataHandler:function(e){const a=e.target.value;h[1].dataValue.value=a},dataValue:o(),show_error:o(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of person confirming death",property_name:"nameOfPersonConfirmindDeath",dataHandler:function(e){const a=e.target.value;h[2].dataValue.value=a},dataValue:o(),show_error:o(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter position of the person confirming death",property_name:"positionOfthePersonConfirmingDeath",dataHandler:function(e){const a=e.target.value;h[3].dataValue.value=a},dataValue:o(),show_error:o(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter medical council registration number of the person confirming death",property_name:"medicalConcilRegistrationNumberOfThePersonConfirmingDeath",dataHandler:function(e){const a=e.target.value;h[4].dataValue.value=a},dataValue:o(),show_error:o(!1),error_message:"Input required, Only letters and numbers are allowed",type:"alphanumeric",skip_validation:!1},{placeHolder:"Other (specify)",property_name:"otherNotes",dataHandler:function(e){const a=e.target.value;h[5].dataValue.value=a},dataValue:o(),show_error:o(!1),error_message:"Input required, Only letters allowed",dissabled:i.value,type:"text",skip_validation:!0}],b=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:function(){ja(h),ja(g),ja(m),function(){const e=y.value.filter(e=>e.selected);if(0==e.length)x[0].show_error.value=!0;else if(x[0].show_error.value=!1,"Accident"==e[0].name){const e=_.value.filter(e=>e.selected);x[1].show_error.value=0==e.length}}();const e=Ct.merge(Ga(h),Ga(g),Ga(m),A(x[0]),A(x[1]));console.log(e)}},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:function(){!function(e={dataSaved:!0}){w("dataSaved",e)}()}}],y=o([{id:1,name:"Natural",selected:!1},{id:2,name:"Accident",selected:!1},{id:3,name:"Homicide",selected:!1},{id:4,name:"Suicide",selected:!1},{id:5,name:"Pending investigation",selected:!1},{id:6,name:"Could not be determined",selected:!1},{id:7,name:"Other - specify",selected:!1}]),_=o([{id:1,name:"Motor vehicle (passenger)",selected:!1},{id:2,name:"Motor vehicle (pedestrian)",selected:!1},{id:3,name:"Drowning",selected:!1},{id:4,name:"Other - specify",selected:!1}]),x=[{multi_Selection:!1,manner_of_death_Selection_value:o(),show_list_label:!0,unqueId:"qwerty",name_of_list:"Manner of death ",property_name:"mannerOfDeath",placeHolder:"Choose one",items:y.value,listUpdatedFN:k,listFilteredFN:()=>{},use_internal_filter:!0,disabled:o(!1),show_error:o(!1),error_message:"selection required"},{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty1hjkn",name_of_list:"How did it occur?",property_name:"howDiditOccur",placeHolder:"Choose one",items:_.value,listUpdatedFN:C,listFilteredFN:()=>{},use_internal_filter:!0,disabled:o(!0),show_error:o(!1),error_message:"selection required"}];const w=a;function k(e){y.value.forEach(e=>e.selected=!1);const a=y.value.find(a=>a.id==e.id);x[1].disabled.value="Accident"!=e.name,a.selected=!0}function C(e){console.log("listUpdated",e),_.value.forEach(e=>e.selected=!1);_.value.find(a=>a.id==e.id).selected=!0}function A(e){const a=[];let t={};return e.items.forEach(t=>{1==t.selected&&a.push({property_name:e.property_name,name:t.name})}),a.length>0?(t[a[0].property_name]=a[0].name,t):t}return(e,a)=>{const o=D("ion-label");return d(),r(P,null,[u(p(N),{class:"checkbox_content md"},{default:I(()=>[u(p(M),null,{default:I(()=>[u(Ge,{placeholder:h[0].placeHolder,icon:p(oe),inputValue:h[0].dataValue.value,"onUpdate:inputValue":h[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),c("div",null,[h[0].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(h[0].error_message),1)]),_:1})):S("",!0)])]),_:1}),u(p(M),null,{default:I(()=>[u(Wa,{place_holder:g[0].placeHolder,onDateUpDated:g[0].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),c("div",null,[g[0].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(g[0].error_message),1)]),_:1})):S("",!0)])]),_:1})]),_:1}),u(p(N),null,{default:I(()=>[u(p(M),null,{default:I(()=>[u(St,{place_holder:m[0].placeHolder,onTimeUpDated:m[0].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),c("div",null,[m[0].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(m[0].error_message),1)]),_:1})):S("",!0)])]),_:1}),u(p(M))]),_:1}),u(p(N),{class:"checkbox_content md"},{default:I(()=>[u(p(M),null,{default:I(()=>[u(Ge,{placeholder:h[1].placeHolder,icon:p(Ee),inputValue:h[1].dataValue.value,"onUpdate:inputValue":h[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),c("div",null,[h[1].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(h[1].error_message),1)]),_:1})):S("",!0)])]),_:1}),u(p(M),null,{default:I(()=>[u(p(q),{value:f[0].value,alignment:"start",class:"ion-lblCls",disabled:f[0].disable_checkbox.value},{default:I(()=>[O(z(f[0].lblTxt),1)]),_:1},8,["value","disabled"])]),_:1})]),_:1}),u(p(N),null,{default:I(()=>[u(p(M),null,{default:I(()=>[u(Ge,{placeholder:n.value,icon:p(He),inputValue:t.value},null,8,["placeholder","icon","inputValue"])]),_:1}),u(p(M))]),_:1}),u(p(N),null,{default:I(()=>[u(p(M),null,{default:I(()=>[u(Wa,{place_holder:g[1].placeHolder,onDateUpDated:g[1].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),c("div",null,[g[1].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(g[1].error_message),1)]),_:1})):S("",!0)])]),_:1}),u(p(M),null,{default:I(()=>[u(St,{place_holder:m[1].placeHolder,onTimeUpDated:m[1].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),c("div",null,[m[1].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(m[1].error_message),1)]),_:1})):S("",!0)])]),_:1})]),_:1}),u(p(N),null,{default:I(()=>[u(p(M),null,{default:I(()=>[u(p(Ie),{modelValue:s.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>s.value=e),a[1]||(a[1]=e=>k(e))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Manner of death",placeholder:"Manner of death",selectLabel:"",label:"name",searchable:!0,"track-by":"id",options:y.value},null,8,["modelValue","options"]),c("div",null,[x[0].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(x[0].error_message),1)]),_:1})):S("",!0)])]),_:1}),u(p(M),null,{default:I(()=>[u(p(Ie),{modelValue:v.value,"onUpdate:modelValue":[a[2]||(a[2]=e=>v.value=e),a[3]||(a[3]=e=>C(e))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"How did it occur?",placeholder:"How did it occur?",selectLabel:"",label:"name",disabled:x[1].disabled.value,searchable:!0,"track-by":"id",options:_.value},null,8,["modelValue","disabled","options"]),c("div",null,[x[1].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(x[1].error_message),1)]),_:1})):S("",!0)])]),_:1})]),_:1}),u(p(N),null,{default:I(()=>[u(p(M),null,{default:I(()=>[u(Ge,{placeholder:h[5].placeHolder,icon:p(Ve),inputValue:h[5].dataValue.value,disabled:i.value,"onUpdate:inputValue":h[5].dataHandler},null,8,["placeholder","icon","inputValue","disabled","onUpdate:inputValue"]),c("div",null,[h[5].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(h[5].error_message),1)]),_:1})):S("",!0)])]),_:1})]),_:1}),u(p(N),null,{default:I(()=>[u(p(M),null,{default:I(()=>[u(St,{place_holder:m[2].placeHolder,onTimeUpDated:m[2].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),c("div",null,[m[2].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(m[2].error_message),1)]),_:1})):S("",!0)])]),_:1}),u(p(M),null,{default:I(()=>[u(Ge,{placeholder:h[2].placeHolder,icon:p(Ee),inputValue:h[2].dataValue.value,"onUpdate:inputValue":h[2].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),c("div",null,[h[2].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(h[2].error_message),1)]),_:1})):S("",!0)])]),_:1})]),_:1}),u(p(N),null,{default:I(()=>[u(p(M),null,{default:I(()=>[u(Ge,{placeholder:h[3].placeHolder,icon:p(ee),inputValue:h[3].dataValue.value,"onUpdate:inputValue":h[3].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),c("div",null,[h[3].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(h[3].error_message),1)]),_:1})):S("",!0)])]),_:1}),u(p(M),null,{default:I(()=>[u(Ge,{placeholder:h[4].placeHolder,icon:p(Ve),inputValue:h[4].dataValue.value,"onUpdate:inputValue":h[4].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),c("div",null,[h[4].show_error.value?(d(),E(o,{key:0,class:"error-label"},{default:I(()=>[O(z(h[4].error_message),1)]),_:1})):S("",!0)])]),_:1})]),_:1}),(d(),E(p(N),{key:0,class:"spc_btwn"},{default:I(()=>[b[0].addItemButton?(d(),E(We,{key:0,name:b[0].name,fill:b[0].btnFill,icon:p(Oe),"onClicked:btn":b[0].fn},null,8,["name","fill","icon","onClicked:btn"])):S("",!0),b[1].addItemButton?(d(),E(We,{key:1,name:b[1].name,fill:b[1].btnFill,icon:p(Q),"onClicked:btn":b[1].fn},null,8,["name","fill","icon","onClicked:btn"])):S("",!0)]),_:1}))],64)}}}),co=qe(ro,[["__scopeId","data-v-0aad2f08"]]),uo={class:"dash_box"},po={key:1},vo=n({name:"xxxComponent"}),mo=n({...vo,setup(e){const a=o("No outcome created yet"),t=o(!1),n=o("please select a type"),i=o(!0),v=o(""),m=o(!0),g=o(!1),f=Ia(),h=A(()=>f.outcomes),b=o(!1),_=o(!1),x=o(!1),w=o(!1),k=o(!1),C=o(!1),P=o([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1},{name:"Send to Another Clinic",selected:!1}]),H=[{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty2",name_of_list:"Add new outcome",placeHolder:"Choose one",items:P.value,listUpdatedFN:function(e){P.value=e,P.value.forEach(e=>{1==e.selected&&(v.value=e.name)})},listFilteredFN:()=>{},use_internal_filter:!0,disabled:o(!1)}];function V(){h.value.length>0?m.value=!1:0==h.value.length&&0==g.value&&(m.value=!0)}function T(e){h.value.splice(e,1)}l(async()=>{V()}),s(()=>v.value,async e=>{1==b.value?b.value=!1:async function(){const e=v.value;console.log(e),v.value=e;const a=v.value;a==P.value[0].name?x.value=!0:x.value=!1;a==P.value[1].name?(w.value=!0,console.log("show_discharged_options is set to true")):w.value=!1;a==P.value[2].name?(k.value=!0,console.log("show_discharged_options is set to true")):k.value=!1;a==P.value[3].name?C.value=!0:C.value=!1}()}),s(()=>h.value.length,async e=>{V()});const N=e=>{};function L(){_.value=!1,x.value=!1,w.value=!1,k.value=!1,P.value.forEach(e=>{e.selected=!1}),v.value=""}return(e,o)=>{const l=D("ion-row");return d(),E(p(y),null,{default:I(()=>[u(l,null,{default:I(()=>[u(p(M),null,{default:I(()=>[(d(),E(It,{key:0,"onUpdate:removeItem":T,"onUpdate:editItem":N,displayData:h.value},null,8,["displayData"]))]),_:1})]),_:1}),m.value?(d(),E(l,{key:0},{default:I(()=>[c("span",uo,z(a.value),1)]),_:1})):S("",!0),i.value?(d(),r("div",po,[u(l,null,{default:I(()=>[u(p(M),null,{default:I(()=>[u(Ya,{multiSelection:H[0].multi_Selection,show_label:H[0].show_list_label,uniqueId:H[0].unqueId,name_of_list:H[0].name_of_list,choose_place_holder:H[0].placeHolder,"items_-list":H[0].items,use_internal_filter:H[0].use_internal_filter,disabled:H[0].disabled.value,onItemListUpDated:H[0].listUpdatedFN,onItemListFiltered:H[0].listFilteredFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered"]),c("div",null,[t.value?(d(),E(p(B),{key:0,class:"error-label"},{default:I(()=>[O(z(n.value),1)]),_:1})):S("",!0)])]),_:1})]),_:1})])):S("",!0),x.value?(d(),E(Ot,{key:2,onDataSaved:L,selected_ward_prop:"",admitted_other_props:""})):S("",!0),w.value?(d(),E(At,{key:3,onDataSaved:L,selected_referral_data:"",selected_other_referral_data:""})):S("",!0),k.value?(d(),E(Pt,{key:4,onDataSaved:L,selected_discharged_prop:"",selected_discharged_data:""})):S("",!0),_.value?(d(),E(co,{key:5,onDataSaved:L})):S("",!0),C.value?(d(),E(Et,{key:6,onDataSaved:L})):S("",!0)]),_:1})}}});a("O",qe(mo,[["__scopeId","data-v-fc637de7"]]))}}})}();
