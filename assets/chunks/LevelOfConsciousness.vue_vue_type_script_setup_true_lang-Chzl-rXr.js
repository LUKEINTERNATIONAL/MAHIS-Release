import{d as S,ah as B,G as W,E as V,ai as M,aj as $,_ as k,I as H,a3 as R,bf as z,aU as P,H as G,e as x,f as l,k as C,l as j,c as u,aV as K,r as I,O as N,u as w,K as U}from"./vendor-DoZkSJso.js";import{b5 as Y,H as F,af as d,b7 as q,b6 as J,bF as Q,u as E,_ as X,aC as D,aW as Z,G as ee,t as oe}from"../index-D-jLU0JI.js";import{l as ae}from"./lodash-NJiRuGo9.js";const se=S({name:"Menu",components:{IonContent:R,IonHeader:H,IonItem:k,IonList:$,IonMenu:M,IonTitle:V,IonToolbar:W,List:Y},computed:{...B(E,["patient"]),...B(Q,["presentingComplaints"])},data(){return{valueNumericArray:[],obsDatetime:[],graphIcon:J(["#006401"]),listIcon:q(["#636363"]),displayGraph:!0,orders:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],series:[{name:"",data:[]}]}},setup(){return{checkmark:P,pulseOutline:z}},watch:{$router:{async handler(){await this.updateList()},immediate:!0,deep:!0},patient:{async handler(){await this.updateList()},deep:!0}},async mounted(){await this.updateList()},methods:{async updateList(){const a=await d.getAll(this.patient.patientID,"Presenting complaint"),o=ae.isEmpty(a)?[]:Promise.all(a.map(async s=>s.value_coded?{name:await d.getConceptName(s.value_coded),obs_date:s.obs_datetime,duration:s.children[0].value_text}:[]));this.setListData(await o)},setListData(a){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 20px;",containSize:4,display:["Date","Presenting Complains","Duration"]}),a.forEach(o=>{this.list.push({actionBtn:!1,minHeight:"--min-height:20px;",class:"col_background",containSize:4,display:[F.toStandardHisFormat(o.obs_date),o.name,o.duration]})})}}}),ne={class:"modal_wrapper"};function te(a,o,s,r,p,n){const c=G("list");return l(),x("div",ne,[C("div",null,[j(c,{listData:a.list},null,8,["listData"])])])}const _e=X(se,[["render",te],["__scopeId","data-v-30434e22"]]),re=u(()=>[{componentType:"radioButtonField",header:"Eye opening response",name:"Eye opening response",obsValueType:"value_coded",type:"inline",options:[{label:"Spontaneously",value:"Spontaneously"},{label:"To speech",value:"To speech"},{label:"To pain",value:"To pain"},{label:"No response",value:"No response"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best verbal response",name:"Best verbal response",obsValueType:"value_coded",type:"inline",options:[{label:"Oriented to time, place and person",value:"Oriented to time, place and person"},{label:"Confused",value:"Confused"},{label:"Inappropriate words",value:"Inappropriate words"},{label:"Incomprehensible sounds",value:"Incomprehensible sounds"},{label:"No response",value:"No response"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best motor response",name:"Best motor response",obsValueType:"value_coded",type:"inline",options:[{label:"Obeys commands",value:"Obeys commands"},{label:"Moves to localised pain",value:"Moves to localised pain"},{label:"Flexion withdrawal from pain",value:"Flexion withdrawal from pain"},{label:"Abnormal flexion (decorticate)",value:"Abnormal flexion (decorticate)"},{label:"Abnormal extension (decerebrate)",value:"Abnormal extension (decerebrate)"},{label:"No response",value:"No response"}]}]),ie=u(()=>[{componentType:"radioButtonField",header:"Eye opening response",name:"Eye opening response",obsValueType:"value_coded",type:"inline",options:[{label:"Directed eye movements",value:"Directed eye movements"},{label:"Not directed",value:"Not directed"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best verbal response",name:"Best verbal response",obsValueType:"value_coded",type:"inline",options:[{label:"Appropriate cry",value:"Appropriate cry"},{label:"Inappropriate cry or moan",value:"Inappropriate cry or moan"},{label:"No cry",value:"No cry"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best motor response",name:"Best motor response",obsValueType:"value_coded",type:"inline",options:[{label:"Localizes pain",value:"Localizes pain"},{label:"Withdraws from pain",value:"Withdraws from pain"},{label:"Non specific or no response",value:"Non specific or no response"}]}]),le={Spontaneously:4,"To speech":3,"To pain":2,"No response":1},pe={"Oriented to time, place and person":5,Confused:4,"Inappropriate words":3,"Incomprehensible sounds":2,"No response":1},ce={"Obeys commands":6,"Moves to localised pain":5,"Flexion withdrawal from pain":4,"Abnormal flexion (decorticate)":3,"Abnormal extension (decerebrate)":2,"No response":1},de={"Not directed":0,"Directed eye movements":1},ue={"Non specific or no response":0,"Withdraws from pain":1,"Localizes pain":2},me={"No cry":0,"Inappropriate cry or moan":1,"Appropriate cry":2},ve={class:"modal_wrapper"},ge=S({__name:"LevelOfConsciousness",setup(a,{expose:o}){var m,v;const s=E(),{patient:r}=K(s),p=I(F.getAgeInYears((v=(m=r==null?void 0:r.value)==null?void 0:m.personInformation)==null?void 0:v.birthdate)),n=I(null),c=u(()=>{var f,_,g,T;const e=((f=n.value)==null?void 0:f.getFormValues())||{},t=e["Eye opening response"]||"",L=e["Best motor response"]||"",A=e["Best verbal response"]||"",i=p.value<18,b=(_=(i?de:le)[t])!=null?_:0,h=(g=(i?ue:ce)[L])!=null?g:0,y=(T=(i?me:pe)[A])!=null?T:0,O=b+h+y;return"(M ".concat(h," V ").concat(y," E ").concat(b,") ").concat(O,"/").concat(i?5:15)});return o({onSubmit:async()=>{var t;if(!n.value){console.error("Form reference is not available");return}const e=((t=n.value)==null?void 0:t.getFormValues())||{};e["Eye opening response"]||e["Best motor response"]||e["Best verbal response"]?(await d.buildAddObsToEncounterPatient(e,Z.ASSESSMENT),n.value.resetForm(),ee("Level of Consciousness saved successfully")):oe(" No level of consciousness data to save ")}}),(e,t)=>(l(),x("div",ve,[p.value<18?(l(),N(D,{key:0,formData:w(ie),ref_key:"formRef",ref:n},null,8,["formData"])):(l(),N(D,{key:1,formData:w(re),ref_key:"formRef",ref:n},null,8,["formData"])),C("h5",null,U(c.value),1)]))}});export{ge as _,le as a,ce as b,pe as c,de as e,ue as m,_e as p,me as v};
