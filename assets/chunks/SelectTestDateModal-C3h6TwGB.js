import { u as useDemographicsStore, z as StandardForm, r as StandardModal, t as toastWarning, H as HisDate, br as LabOrderService, n as icons, y as StandardValidations, _ as _export_sfc } from '../index-_KKpPwbo.js';
import { s as defineComponent, x as resolveComponent, y as openBlock, O as createBlock, B as withCtx, C as createBaseVNode, A as createVNode, a5 as createTextVNode, f as ref, c as computed, bC as modalController, n as nextTick } from './vendor-6OQ3r7Vr.js';
import { s as storeToRefs } from './pinia-BATJJgGh.js';

const scanFormData = [
  {
    htiBookNumber: 13235,
    htiLeftPageNumber: 43,
    htiRecordNumber: 1,
    htiLeftPageId: 113235043,
    htiLeftSubmissionDate: "2025-10-23T07:36:58",
    htiLeftEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableLeftEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiLeftPhotoTakenProviderId: "AG0K",
    htiLeftSubmittedBy: "mw_user1",
    htiRightPageNumber: 44,
    htiRightPageId: 113235044,
    htiRightSubmissionDate: "2025-09-03T09:11:22",
    htiRightEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableRightEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiRightPhotoTakenProviderId: "AG0K",
    htiLinkId: "13235-44-1-J",
    htiShortLocId: 773,
    htiFacilityName: "Salima District Hospital",
    htiHmisCode: 1415,
    htiDhamisId: 216,
    htiRegisterVersion: 1.11,
    htcBookNumber: null,
    htcPageNumber: null,
    htcPageId: null,
    htcSubmissionDate: null,
    htcEntryUrl: null,
    htcInspectableEntryUrl: null,
    htcPhotoTakenProviderId: null,
    htcSubmittedBy: null,
    htcLinkId: null,
    htcShortLocId: null,
    htcFacilityName: null,
    htcHmisCode: null,
    htcDhamisId: null,
    htcRegisterVersion: null,
    htiVisitDate: "2025-08-12T00:00:00",
    htiProviderId: "AG0K",
    htiAccessPointCode: 15,
    htiSex: "M C",
    htiAgeQuantity: 19,
    htiAgeUnit: "Y",
    htiAgeDays: 6935,
    htiLastHivTest: "Prof.-",
    htiTimeSinceLastHivTestQuantity: 1,
    htiTimeSinceLastHivTestUnit: "Y",
    htiTimeSinceLastHivTestDays: 365,
    htiEverTakenArv: "No",
    htiTimeSinceLastTakenArvQuantity: null,
    htiTimeSinceLastTakenArvUnit: null,
    htiTimeSinceLastTakenArvDays: null,
    htiClientRiskCategory: "Ong.",
    htiTestOne: "Neg",
    htiHivKitLotNumber: "0OOOGI9HU8",
    htiHivKitExpiryDate: "2026-02-27T00:00:00",
    htiHepatitisB: "Neg",
    htiSyphilis: "Neg",
    htiPartnerPresent: "No",
    htiPartnerHivStatus: "P?",
    htiReferralForReTesting: "RTsT",
    htiReTestingAppointmentDate: "2026-08-12T00:00:00",
    htiReferralForServicesPrep: 1,
    htiReferralForServicesPep: 0,
    htiReferralForServicesVmmc: 0,
    htiReferralForServicesSti: 0,
    htiReferralForServicesTb: 0,
    htiFamilyReferralSlips: 0,
    htiCondomsMale: 0,
    htiCondomsFemale: 0,
    htiHepatitisKitLotNumber: "OOOO9499O0",
    htiHepatitisKitExpiryDate: "2026-05-27T00:00:00",
    htiSyphilisKitLotNumber: "OOOO9IS737",
    htiSyphilisKitExpiryDate: "2026-11-02T00:00:00",
    htcVisitDate: null,
    htcProviderId: null,
    htcAccessPointCode: null,
    htcAgeQuantity: null,
    htcAgeUnit: null,
    htcAgeDays: null,
    htcSex: null,
    htcTestTwo: null,
    htcTestThree: null,
    htcTestOneRepeat: null,
    htcResultGiven: null,
    htcKitTwoExpiryDate: null,
    htcKitTwoLotNumber: null,
    htcKitThreeExpiryDate: null,
    htcKitThreeLotNumber: null,
    htcKitOneRepeatExpiryDate: null,
    htcKitOneRepeatLotNumber: null,
    htcRtriResult: null,
    htcRecencyKitExpDate: null,
    htcRecencyKitLotNumber: null,
    htcDbsCollected: null,
    htcDbsId: null,
    htcReferralForReTest: null,
    htcAppointmentDateForReTest: null,
    htcReferralForArtReInitiation: null,
    htcAppointmentDateForArtReferral: null,
    htcArtReferralOutcome: null,
    htcArtReferralOutcomeDate: null,
    htcArtSiteCode: null,
    htcArvNumber: null,
    htcArtClinicRegistrationNumber: null
  },
  {
    htiBookNumber: 15843,
    htiLeftPageNumber: 29,
    htiRecordNumber: 1,
    htiLeftPageId: 115843029,
    htiLeftSubmissionDate: "2025-08-07T10:31:51",
    htiLeftEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableLeftEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiLeftPhotoTakenProviderId: "YEK8",
    htiLeftSubmittedBy: "mw_user1",
    htiRightPageNumber: 30,
    htiRightPageId: 115843030,
    htiRightSubmissionDate: "2025-08-28T11:56:27",
    htiRightEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableRightEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiRightPhotoTakenProviderId: "YEK8",
    htiLinkId: "15843-30-1-F",
    htiShortLocId: 773,
    htiFacilityName: "Salima District Hospital",
    htiHmisCode: 1415,
    htiDhamisId: 216,
    htiRegisterVersion: 1.12,
    htcBookNumber: 11232,
    htcPageNumber: 32,
    htcPageId: 111232032,
    htcSubmissionDate: "2025-10-24T08:39:09",
    htcEntryUrl: "https://scanform.qed.ai/entry/",
    htcInspectableEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htcPhotoTakenProviderId: "YEK8",
    htcSubmittedBy: "mw_user1",
    htcLinkId: "15843-30-1-F",
    htcShortLocId: 773,
    htcFacilityName: "Salima District Hospital",
    htcHmisCode: 1415,
    htcDhamisId: 216,
    htcRegisterVersion: 1.8,
    htiVisitDate: "2025-08-04T00:00:00",
    htiProviderId: "YEK8",
    htiAccessPointCode: 7,
    htiSex: "M NC",
    htiAgeQuantity: 7,
    htiAgeUnit: "M",
    htiAgeDays: 213,
    htiLastHivTest: "Einf.",
    htiTimeSinceLastHivTestQuantity: 2,
    htiTimeSinceLastHivTestUnit: "M",
    htiTimeSinceLastHivTestDays: 61,
    htiEverTakenArv: "PrEP",
    htiTimeSinceLastTakenArvQuantity: 1,
    htiTimeSinceLastTakenArvUnit: "M",
    htiTimeSinceLastTakenArvDays: 30,
    htiClientRiskCategory: "ND",
    htiTestOne: "Pos",
    htiHivKitLotNumber: "0000919448",
    htiHivKitExpiryDate: "2026-02-27T00:00:00",
    htiHepatitisB: "ND",
    htiSyphilis: "ND",
    htiPartnerPresent: "No",
    htiPartnerHivStatus: "No P",
    htiReferralForReTesting: "ConTsT",
    htiReTestingAppointmentDate: "2025-08-04T00:00:00",
    htiReferralForServicesPrep: 0,
    htiReferralForServicesPep: 0,
    htiReferralForServicesVmmc: 0,
    htiReferralForServicesSti: 0,
    htiReferralForServicesTb: 0,
    htiFamilyReferralSlips: 0,
    htiCondomsMale: 0,
    htiCondomsFemale: 0,
    htiHepatitisKitLotNumber: null,
    htiHepatitisKitExpiryDate: null,
    htiSyphilisKitLotNumber: null,
    htiSyphilisKitExpiryDate: null,
    htcVisitDate: "2025-08-04T00:00:00",
    htcProviderId: "PTXY",
    htcAccessPointCode: "07",
    htcAgeQuantity: 7,
    htcAgeUnit: "M",
    htcAgeDays: 213,
    htcSex: "Male",
    htcTestTwo: "Pos",
    htcTestThree: "Pos",
    htcTestOneRepeat: null,
    htcResultGiven: "Exp. Infant",
    htcKitTwoExpiryDate: "2026-10-12T00:00:00",
    htcKitTwoLotNumber: "25OOI78",
    htcKitThreeExpiryDate: "2026-02-12T00:00:00",
    htcKitThreeLotNumber: "O3APJO07A",
    htcKitOneRepeatExpiryDate: null,
    htcKitOneRepeatLotNumber: null,
    htcRtriResult: "Not done",
    htcRecencyKitExpDate: null,
    htcRecencyKitLotNumber: null,
    htcDbsCollected: "No",
    htcDbsId: null,
    htcReferralForReTest: "No",
    htcAppointmentDateForReTest: null,
    htcReferralForArtReInitiation: "Yes",
    htcAppointmentDateForArtReferral: "2025-08-04T00:00:00",
    htcArtReferralOutcome: "Linked",
    htcArtReferralOutcomeDate: "2025-08-26T00:00:00",
    htcArtSiteCode: "SAL",
    htcArvNumber: "19585",
    htcArtClinicRegistrationNumber: "SAL-19585"
  },
  {
    htiBookNumber: 7187,
    htiLeftPageNumber: 9,
    htiRecordNumber: 8,
    htiLeftPageId: 107187009,
    htiLeftSubmissionDate: "2025-09-05T10:47:59",
    htiLeftEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableLeftEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiLeftPhotoTakenProviderId: "AG0K",
    htiLeftSubmittedBy: "mw_user1",
    htiRightPageNumber: 10,
    htiRightPageId: 107187010,
    htiRightSubmissionDate: "2025-09-05T10:48:04",
    htiRightEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableRightEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiRightPhotoTakenProviderId: "AG0K",
    htiLinkId: "7187-10-8-G",
    htiShortLocId: 773,
    htiFacilityName: "Salima District Hospital",
    htiHmisCode: 1415,
    htiDhamisId: 216,
    htiRegisterVersion: 1.11,
    htcBookNumber: 11229,
    htcPageNumber: 11,
    htcPageId: 111229011,
    htcSubmissionDate: "2025-10-07T09:17:57",
    htcEntryUrl: "https://scanform.qed.ai/entry/",
    htcInspectableEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htcPhotoTakenProviderId: "AG0K",
    htcSubmittedBy: "mw_user1",
    htcLinkId: "7187-10-8-G",
    htcShortLocId: 773,
    htcFacilityName: "Salima District Hospital",
    htcHmisCode: 1415,
    htcDhamisId: 216,
    htcRegisterVersion: 1.8,
    htiVisitDate: "2025-08-12T00:00:00",
    htiProviderId: "AG0K",
    htiAccessPointCode: 3,
    htiSex: "M NC",
    htiAgeQuantity: 44,
    htiAgeUnit: "Y",
    htiAgeDays: 16060,
    htiLastHivTest: "Prof.-",
    htiTimeSinceLastHivTestQuantity: 1,
    htiTimeSinceLastHivTestUnit: "Y",
    htiTimeSinceLastHivTestDays: 365,
    htiEverTakenArv: "No",
    htiTimeSinceLastTakenArvQuantity: null,
    htiTimeSinceLastTakenArvUnit: null,
    htiTimeSinceLastTakenArvDays: null,
    htiClientRiskCategory: "Low",
    htiTestOne: "Pos",
    htiHivKitLotNumber: "0OOO9I9449",
    htiHivKitExpiryDate: "2026-02-27T00:00:00",
    htiHepatitisB: "ND",
    htiSyphilis: "ND",
    htiPartnerPresent: "No",
    htiPartnerHivStatus: "No P",
    htiReferralForReTesting: "ConTsT",
    htiReTestingAppointmentDate: "2025-08-13T00:00:00",
    htiReferralForServicesPrep: 0,
    htiReferralForServicesPep: 0,
    htiReferralForServicesVmmc: 0,
    htiReferralForServicesSti: 0,
    htiReferralForServicesTb: 0,
    htiFamilyReferralSlips: 0,
    htiCondomsMale: 0,
    htiCondomsFemale: 0,
    htiHepatitisKitLotNumber: null,
    htiHepatitisKitExpiryDate: null,
    htiSyphilisKitLotNumber: null,
    htiSyphilisKitExpiryDate: null,
    htcVisitDate: "2025-08-12T00:00:00",
    htcProviderId: "F83N",
    htcAccessPointCode: "03",
    htcAgeQuantity: 44,
    htcAgeUnit: "Y",
    htcAgeDays: 16060,
    htcSex: "Male",
    htcTestTwo: "Neg",
    htcTestThree: null,
    htcTestOneRepeat: "Neg",
    htcResultGiven: "Neg",
    htcKitTwoExpiryDate: "2026-10-11T00:00:00",
    htcKitTwoLotNumber: "25OOI78",
    htcKitThreeExpiryDate: null,
    htcKitThreeLotNumber: null,
    htcKitOneRepeatExpiryDate: "2026-02-27T00:00:00",
    htcKitOneRepeatLotNumber: "OOOO9I9Q49",
    htcRtriResult: "Not done",
    htcRecencyKitExpDate: null,
    htcRecencyKitLotNumber: null,
    htcDbsCollected: "No",
    htcDbsId: null,
    htcReferralForReTest: "No",
    htcAppointmentDateForReTest: null,
    htcReferralForArtReInitiation: "No",
    htcAppointmentDateForArtReferral: null,
    htcArtReferralOutcome: null,
    htcArtReferralOutcomeDate: null,
    htcArtSiteCode: null,
    htcArvNumber: null,
    htcArtClinicRegistrationNumber: null
  },
  {
    htiBookNumber: 15166,
    htiLeftPageNumber: 43,
    htiRecordNumber: 11,
    htiLeftPageId: 115166043,
    htiLeftSubmissionDate: "2025-09-02T11:58:38",
    htiLeftEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableLeftEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiLeftPhotoTakenProviderId: "YEK8",
    htiLeftSubmittedBy: "mw_user1",
    htiRightPageNumber: 44,
    htiRightPageId: 115166044,
    htiRightSubmissionDate: "2025-09-02T11:26:13",
    htiRightEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableRightEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiRightPhotoTakenProviderId: "YEK8",
    htiLinkId: "15166-44-11-J",
    htiShortLocId: 773,
    htiFacilityName: "Salima District Hospital",
    htiHmisCode: 1415,
    htiDhamisId: 216,
    htiRegisterVersion: 1.12,
    htcBookNumber: 7258,
    htcPageNumber: 12,
    htcPageId: 107258012,
    htcSubmissionDate: "2025-09-23T13:17:34",
    htcEntryUrl: "https://scanform.qed.ai/entry/",
    htcInspectableEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htcPhotoTakenProviderId: "YEK8",
    htcSubmittedBy: "mw_user1",
    htcLinkId: "15166-44-11-J",
    htcShortLocId: 773,
    htcFacilityName: "Salima District Hospital",
    htcHmisCode: 1415,
    htcDhamisId: 216,
    htcRegisterVersion: 1.8,
    htiVisitDate: "2025-08-18T00:00:00",
    htiProviderId: "YEK8",
    htiAccessPointCode: 4,
    htiSex: "F NP",
    htiAgeQuantity: 31,
    htiAgeUnit: "Y",
    htiAgeDays: 11315,
    htiLastHivTest: "Prof.-",
    htiTimeSinceLastHivTestQuantity: 2,
    htiTimeSinceLastHivTestUnit: "Y",
    htiTimeSinceLastHivTestDays: 730,
    htiEverTakenArv: "No",
    htiTimeSinceLastTakenArvQuantity: null,
    htiTimeSinceLastTakenArvUnit: null,
    htiTimeSinceLastTakenArvDays: null,
    htiClientRiskCategory: "ND",
    htiTestOne: "Pos",
    htiHivKitLotNumber: "0OOO9228I9",
    htiHivKitExpiryDate: "2026-05-10T00:00:00",
    htiHepatitisB: "Neg",
    htiSyphilis: "Neg",
    htiPartnerPresent: "Yes",
    htiPartnerHivStatus: "P?",
    htiReferralForReTesting: "ConTsT",
    htiReTestingAppointmentDate: "2025-08-18T00:00:00",
    htiReferralForServicesPrep: 0,
    htiReferralForServicesPep: 0,
    htiReferralForServicesVmmc: 0,
    htiReferralForServicesSti: 1,
    htiReferralForServicesTb: 0,
    htiFamilyReferralSlips: 0,
    htiCondomsMale: 0,
    htiCondomsFemale: 0,
    htiHepatitisKitLotNumber: "OOO09494OO",
    htiHepatitisKitExpiryDate: "2026-07-27T00:00:00",
    htiSyphilisKitLotNumber: "OOOO9I7375",
    htiSyphilisKitExpiryDate: "2025-11-05T00:00:00",
    htcVisitDate: "2025-08-18T00:00:00",
    htcProviderId: "VFDN",
    htcAccessPointCode: "04",
    htcAgeQuantity: 31,
    htcAgeUnit: "Y",
    htcAgeDays: 11315,
    htcSex: "Female",
    htcTestTwo: "Pos",
    htcTestThree: "Pos",
    htcTestOneRepeat: null,
    htcResultGiven: "New Pos",
    htcKitTwoExpiryDate: "2026-10-11T00:00:00",
    htcKitTwoLotNumber: "2SOOI78",
    htcKitThreeExpiryDate: "2026-02-12T00:00:00",
    htcKitThreeLotNumber: "O3ADJOO7A",
    htcKitOneRepeatExpiryDate: null,
    htcKitOneRepeatLotNumber: null,
    htcRtriResult: "Long term",
    htcRecencyKitExpDate: "2027-01-14T00:00:00",
    htcRecencyKitLotNumber: "P_TDISO2",
    htcDbsCollected: "No",
    htcDbsId: null,
    htcReferralForReTest: "No",
    htcAppointmentDateForReTest: null,
    htcReferralForArtReInitiation: "Yes",
    htcAppointmentDateForArtReferral: "2025-08-18T00:00:00",
    htcArtReferralOutcome: "Linked",
    htcArtReferralOutcomeDate: "2025-08-18T00:00:00",
    htcArtSiteCode: "SAL",
    htcArvNumber: "19570",
    htcArtClinicRegistrationNumber: "SAL-19570"
  },
  {
    htiBookNumber: 15166,
    htiLeftPageNumber: 43,
    htiRecordNumber: 15,
    htiLeftPageId: 115166043,
    htiLeftSubmissionDate: "2025-09-02T11:58:38",
    htiLeftEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableLeftEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiLeftPhotoTakenProviderId: "AG0K",
    htiLeftSubmittedBy: "mw_user1",
    htiRightPageNumber: 44,
    htiRightPageId: 115166044,
    htiRightSubmissionDate: "2025-09-02T11:26:13",
    htiRightEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableRightEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiRightPhotoTakenProviderId: "AG0K",
    htiLinkId: "15166-44-15-F",
    htiShortLocId: 773,
    htiFacilityName: "Salima District Hospital",
    htiHmisCode: 1415,
    htiDhamisId: 216,
    htiRegisterVersion: 1.12,
    htcBookNumber: 7258,
    htcPageNumber: 13,
    htcPageId: 107258013,
    htcSubmissionDate: "2025-10-20T09:33:59",
    htcEntryUrl: "https://scanform.qed.ai/entry/",
    htcInspectableEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htcPhotoTakenProviderId: "AG0K",
    htcSubmittedBy: "mw_user1",
    htcLinkId: "15166-44-15-F",
    htcShortLocId: 773,
    htcFacilityName: "Salima District Hospital",
    htcHmisCode: 1415,
    htcDhamisId: 216,
    htcRegisterVersion: 1.8,
    htiVisitDate: "2025-08-19T00:00:00",
    htiProviderId: "AG0K",
    htiAccessPointCode: 4,
    htiSex: "F NP",
    htiAgeQuantity: 21,
    htiAgeUnit: "Y",
    htiAgeDays: 7665,
    htiLastHivTest: "Nev.",
    htiTimeSinceLastHivTestQuantity: 5,
    htiTimeSinceLastHivTestUnit: "M",
    htiTimeSinceLastHivTestDays: 152,
    htiEverTakenArv: "No",
    htiTimeSinceLastTakenArvQuantity: null,
    htiTimeSinceLastTakenArvUnit: null,
    htiTimeSinceLastTakenArvDays: null,
    htiClientRiskCategory: "Hi",
    htiTestOne: "Pos",
    htiHivKitLotNumber: "0OOO9228I9",
    htiHivKitExpiryDate: "2026-05-10T00:00:00",
    htiHepatitisB: "ND",
    htiSyphilis: "ND",
    htiPartnerPresent: "No",
    htiPartnerHivStatus: "P-",
    htiReferralForReTesting: "ConTsT",
    htiReTestingAppointmentDate: "2025-08-19T00:00:00",
    htiReferralForServicesPrep: 0,
    htiReferralForServicesPep: 0,
    htiReferralForServicesVmmc: 0,
    htiReferralForServicesSti: 1,
    htiReferralForServicesTb: 0,
    htiFamilyReferralSlips: 0,
    htiCondomsMale: 30,
    htiCondomsFemale: 0,
    htiHepatitisKitLotNumber: "OOO09494OO",
    htiHepatitisKitExpiryDate: "2026-07-27T00:00:00",
    htiSyphilisKitLotNumber: "OOOO9I7375",
    htiSyphilisKitExpiryDate: "2025-11-05T00:00:00",
    htcVisitDate: "2025-08-19T00:00:00",
    htcProviderId: "VFDN",
    htcAccessPointCode: "04",
    htcAgeQuantity: 21,
    htcAgeUnit: "Y",
    htcAgeDays: 7665,
    htcSex: "Female",
    htcTestTwo: "Pos",
    htcTestThree: "Pos",
    htcTestOneRepeat: null,
    htcResultGiven: "New Pos",
    htcKitTwoExpiryDate: "2026-10-11T00:00:00",
    htcKitTwoLotNumber: "2SOO178",
    htcKitThreeExpiryDate: "2026-02-12T00:00:00",
    htcKitThreeLotNumber: "03ADJ007A",
    htcKitOneRepeatExpiryDate: null,
    htcKitOneRepeatLotNumber: null,
    htcRtriResult: "Long term",
    htcRecencyKitExpDate: "2027-01-14T00:00:00",
    htcRecencyKitLotNumber: "PCTDI5OZ",
    htcDbsCollected: "No",
    htcDbsId: null,
    htcReferralForReTest: "No",
    htcAppointmentDateForReTest: null,
    htcReferralForArtReInitiation: "Yes",
    htcAppointmentDateForArtReferral: "2025-08-19T00:00:00",
    htcArtReferralOutcome: "Unknown",
    htcArtReferralOutcomeDate: "2025-10-20T00:00:00",
    htcArtSiteCode: null,
    htcArvNumber: null,
    htcArtClinicRegistrationNumber: null
  },
  {
    htiBookNumber: 15844,
    htiLeftPageNumber: 85,
    htiRecordNumber: 6,
    htiLeftPageId: 115844085,
    htiLeftSubmissionDate: "2025-08-08T11:19:15",
    htiLeftEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableLeftEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiLeftPhotoTakenProviderId: "YEK8",
    htiLeftSubmittedBy: "mw_user1",
    htiRightPageNumber: 86,
    htiRightPageId: 115844086,
    htiRightSubmissionDate: "2025-08-08T11:22:45",
    htiRightEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableRightEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiRightPhotoTakenProviderId: "YEK8",
    htiLinkId: "15844-86-6-P",
    htiShortLocId: 773,
    htiFacilityName: "Salima District Hospital",
    htiHmisCode: 1415,
    htiDhamisId: 216,
    htiRegisterVersion: 1.12,
    htcBookNumber: 7258,
    htcPageNumber: 1,
    htcPageId: 107258001,
    htcSubmissionDate: "2025-09-30T00:00:00",
    htcEntryUrl: "https://scanform.qed.ai/entry/",
    htcInspectableEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htcPhotoTakenProviderId: "YEK8",
    htcSubmittedBy: "mw_user1",
    htcLinkId: "15844-86-6-P",
    htcShortLocId: 773,
    htcFacilityName: "Salima District Hospital",
    htcHmisCode: 1415,
    htcDhamisId: 216,
    htcRegisterVersion: 1.8,
    htiVisitDate: "2025-08-04T00:00:00",
    htiProviderId: "YEK8",
    htiAccessPointCode: 12,
    htiSex: "F NP",
    htiAgeQuantity: 26,
    htiAgeUnit: "Y",
    htiAgeDays: 9490,
    htiLastHivTest: "Prof.+",
    htiTimeSinceLastHivTestQuantity: 3,
    htiTimeSinceLastHivTestUnit: "M",
    htiTimeSinceLastHivTestDays: 91,
    htiEverTakenArv: "ART",
    htiTimeSinceLastTakenArvQuantity: 3,
    htiTimeSinceLastTakenArvUnit: "M",
    htiTimeSinceLastTakenArvDays: 91,
    htiClientRiskCategory: "ND",
    htiTestOne: "Pos",
    htiHivKitLotNumber: "OOOO9228I9",
    htiHivKitExpiryDate: "2026-03-10T00:00:00",
    htiHepatitisB: "ND",
    htiSyphilis: "ND",
    htiPartnerPresent: "No",
    htiPartnerHivStatus: "P-",
    htiReferralForReTesting: "ConTsT",
    htiReTestingAppointmentDate: "2025-08-04T00:00:00",
    htiReferralForServicesPrep: 0,
    htiReferralForServicesPep: 0,
    htiReferralForServicesVmmc: 0,
    htiReferralForServicesSti: 0,
    htiReferralForServicesTb: 0,
    htiFamilyReferralSlips: 0,
    htiCondomsMale: 0,
    htiCondomsFemale: 0,
    htiHepatitisKitLotNumber: "00O09499O0",
    htiHepatitisKitExpiryDate: "2026-05-27T00:00:00",
    htiSyphilisKitLotNumber: "O00O9I5737",
    htiSyphilisKitExpiryDate: "2025-11-02T00:00:00",
    htcVisitDate: "2025-08-04T00:00:00",
    htcProviderId: "YEK7",
    htcAccessPointCode: 12,
    htcAgeQuantity: 26,
    htcAgeUnit: "Y",
    htcAgeDays: 9490,
    htcSex: "Female",
    htcTestTwo: "Pos",
    htcTestThree: "Pos",
    htcTestOneRepeat: null,
    htcResultGiven: "Pos Re-test",
    htcKitTwoExpiryDate: "2026-10-11T00:00:00",
    htcKitTwoLotNumber: "ZS0OI78",
    htcKitThreeExpiryDate: "2026-02-12T00:00:00",
    htcKitThreeLotNumber: "O3ADJOO7A",
    htcKitOneRepeatExpiryDate: null,
    htcKitOneRepeatLotNumber: null,
    htcRtriResult: "Not done",
    htcRecencyKitExpDate: null,
    htcRecencyKitLotNumber: null,
    htcDbsCollected: "No",
    htcDbsId: null,
    htcReferralForReTest: "No",
    htcAppointmentDateForReTest: null,
    htcReferralForArtReInitiation: "Yes",
    htcAppointmentDateForArtReferral: "2025-08-04T00:00:00",
    htcArtReferralOutcome: "Linked",
    htcArtReferralOutcomeDate: "2025-08-04T00:00:00",
    htcArtSiteCode: "SAL",
    htcArvNumber: 19537,
    htcArtClinicRegistrationNumber: "SAL-19537"
  },
  {
    htiBookNumber: 15166,
    htiLeftPageNumber: 59,
    htiRecordNumber: 13,
    htiLeftPageId: 115166059,
    htiLeftSubmissionDate: "2025-08-26T13:47:33",
    htiLeftEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableLeftEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiLeftPhotoTakenProviderId: "AG0K",
    htiLeftSubmittedBy: "mw_user1",
    htiRightPageNumber: 60,
    htiRightPageId: 115166060,
    htiRightSubmissionDate: "2025-09-02T11:33:40",
    htiRightEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableRightEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiRightPhotoTakenProviderId: "AG0K",
    htiLinkId: "15166-60-13-F",
    htiShortLocId: 773,
    htiFacilityName: "Salima District Hospital",
    htiHmisCode: 1415,
    htiDhamisId: 216,
    htiRegisterVersion: 1.12,
    htcBookNumber: 7258,
    htcPageNumber: 16,
    htcPageId: 107258016,
    htcSubmissionDate: "2025-10-20T00:00:00",
    htcEntryUrl: "https://scanform.qed.ai/entry/",
    htcInspectableEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htcPhotoTakenProviderId: "AG0K",
    htcSubmittedBy: "mw_user1",
    htcLinkId: "15166-60-13-F",
    htcShortLocId: 773,
    htcFacilityName: "Salima District Hospital",
    htcHmisCode: 1415,
    htcDhamisId: 216,
    htcRegisterVersion: 1.8,
    htiVisitDate: "2025-08-25T00:00:00",
    htiProviderId: "AG0K",
    htiAccessPointCode: 4,
    htiSex: "F NP",
    htiAgeQuantity: 23,
    htiAgeUnit: "Y",
    htiAgeDays: 8395,
    htiLastHivTest: "Prof.+",
    htiTimeSinceLastHivTestQuantity: 10,
    htiTimeSinceLastHivTestUnit: "Y",
    htiTimeSinceLastHivTestDays: 3650,
    htiEverTakenArv: "ART",
    htiTimeSinceLastTakenArvQuantity: null,
    htiTimeSinceLastTakenArvUnit: null,
    htiTimeSinceLastTakenArvDays: null,
    htiClientRiskCategory: "ND",
    htiTestOne: "Pos",
    htiHivKitLotNumber: "000O9Z58OZ",
    htiHivKitExpiryDate: "2026-03-10T00:00:00",
    htiHepatitisB: "ND",
    htiSyphilis: "ND",
    htiPartnerPresent: "Yes",
    htiPartnerHivStatus: "P-",
    htiReferralForReTesting: "NoTsT",
    htiReTestingAppointmentDate: null,
    htiReferralForServicesPrep: 0,
    htiReferralForServicesPep: 0,
    htiReferralForServicesVmmc: 0,
    htiReferralForServicesSti: 0,
    htiReferralForServicesTb: 0,
    htiFamilyReferralSlips: 0,
    htiCondomsMale: 0,
    htiCondomsFemale: 0,
    htiHepatitisKitLotNumber: "0OOO9499OD",
    htiHepatitisKitExpiryDate: "2026-05-27T00:00:00",
    htiSyphilisKitLotNumber: "OOOD92S5S4",
    htiSyphilisKitExpiryDate: "2025-11-19T00:00:00",
    htcVisitDate: "2025-08-25T00:00:00",
    htcProviderId: "V8DN",
    htcAccessPointCode: 4,
    htcAgeQuantity: 23,
    htcAgeUnit: "Y",
    htcAgeDays: 8395,
    htcSex: "Female",
    htcTestTwo: null,
    htcTestThree: null,
    htcTestOneRepeat: null,
    htcResultGiven: "Testing was not completed",
    htcKitTwoExpiryDate: null,
    htcKitTwoLotNumber: null,
    htcKitThreeExpiryDate: null,
    htcKitThreeLotNumber: null,
    htcKitOneRepeatExpiryDate: null,
    htcKitOneRepeatLotNumber: null,
    htcRtriResult: "Not done",
    htcRecencyKitExpDate: null,
    htcRecencyKitLotNumber: null,
    htcDbsCollected: "No",
    htcDbsId: null,
    htcReferralForReTest: "No",
    htcAppointmentDateForReTest: null,
    htcReferralForArtReInitiation: "No",
    htcAppointmentDateForArtReferral: null,
    htcArtReferralOutcome: "On ART",
    htcArtReferralOutcomeDate: "2025-10-20T00:00:00",
    htcArtSiteCode: "SAB",
    htcArvNumber: 15742,
    htcArtClinicRegistrationNumber: "SAB-15742"
  },
  {
    htiBookNumber: 4168,
    htiLeftPageNumber: 14,
    htiRecordNumber: 49,
    htiLeftPageId: 14168049,
    htiLeftSubmissionDate: "2025-02-03T11:49:00",
    htiLeftEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableLeftEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiLeftPhotoTakenProviderId: "YEK8",
    htiLeftSubmittedBy: "mw_user1",
    htiRightPageNumber: 50,
    htiRightPageId: 14168050,
    htiRightSubmissionDate: "2025-02-03T11:50:00",
    htiRightEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableRightEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiRightPhotoTakenProviderId: "YEK8",
    htiLinkId: "4168-50-14-F",
    htiShortLocId: 773,
    htiFacilityName: "Salima District Hospital",
    htiHmisCode: 1415,
    htiDhamisId: 216,
    htiRegisterVersion: 1.12,
    htcBookNumber: 2573,
    htcPageNumber: 40,
    htcPageId: 12573040,
    htcSubmissionDate: "2025-01-27T11:33:00",
    htcEntryUrl: "https://scanform.qed.ai/entry/",
    htcInspectableEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htcPhotoTakenProviderId: "YEK8",
    htcSubmittedBy: "mw_user1",
    htcLinkId: "4168-50-14-F",
    htcShortLocId: 773,
    htcFacilityName: "Salima District Hospital",
    htcHmisCode: 1415,
    htcDhamisId: 216,
    htcRegisterVersion: 1.8,
    htiVisitDate: "2025-01-27T02:00:00",
    htiProviderId: "YEK8",
    htiAccessPointCode: 5,
    htiSex: "F Bf",
    htiAgeQuantity: 24,
    htiAgeUnit: "Y",
    htiAgeDays: 8760,
    htiLastHivTest: "Inc?",
    htiTimeSinceLastHivTestQuantity: 3,
    htiTimeSinceLastHivTestUnit: "M",
    htiTimeSinceLastHivTestDays: 91,
    htiEverTakenArv: "No",
    htiTimeSinceLastTakenArvQuantity: null,
    htiTimeSinceLastTakenArvUnit: null,
    htiTimeSinceLastTakenArvDays: null,
    htiClientRiskCategory: "Low",
    htiTestOne: "Pos",
    htiHivKitLotNumber: "0OOQ8I67S1",
    htiHivKitExpiryDate: "2025-04-24T02:00:00",
    htiHepatitisB: "ND",
    htiSyphilis: "ND",
    htiPartnerPresent: "No",
    htiPartnerHivStatus: "P-",
    htiReferralForReTesting: "RTsT",
    htiReTestingAppointmentDate: "2025-01-27T02:00:00",
    htiReferralForServicesPrep: 0,
    htiReferralForServicesPep: 0,
    htiReferralForServicesVmmc: 0,
    htiReferralForServicesSti: 0,
    htiReferralForServicesTb: 0,
    htiFamilyReferralSlips: 0,
    htiCondomsMale: 0,
    htiCondomsFemale: 0,
    htiHepatitisKitLotNumber: "OO0O8U6Q87",
    htiHepatitisKitExpiryDate: "2025-04-26T02:00:00",
    htiSyphilisKitLotNumber: "OOOO842O62",
    htiSyphilisKitExpiryDate: "2025-03-08T02:00:00",
    htcVisitDate: "2025-01-27T02:00:00",
    htcProviderId: "DFCT",
    htcAccessPointCode: 5,
    htcAgeQuantity: 24,
    htcAgeUnit: "Y",
    htcAgeDays: 8760,
    htcSex: "Female",
    htcTestTwo: "Pos",
    htcTestThree: "Neg",
    htcTestOneRepeat: "Pos",
    htcResultGiven: "Inconcl. Re-test",
    htcKitTwoExpiryDate: "2025-04-24T02:00:00",
    htcKitTwoLotNumber: "OOOO8I67SI",
    htcKitThreeExpiryDate: "2025-05-14T02:00:00",
    htcKitThreeLotNumber: "23O222O",
    htcKitOneRepeatExpiryDate: "2025-04-24T02:00:00",
    htcKitOneRepeatLotNumber: "OOOO8I6ZSI",
    htcRtriResult: "Not done",
    htcRecencyKitExpDate: null,
    htcRecencyKitLotNumber: null,
    htcDbsCollected: "Yes",
    htcDbsId: "L668-6J2O-____-____",
    htcReferralForReTest: "No",
    htcAppointmentDateForReTest: null,
    htcReferralForArtReInitiation: "No",
    htcAppointmentDateForArtReferral: null,
    htcArtReferralOutcome: null,
    htcArtReferralOutcomeDate: null,
    htcArtSiteCode: null,
    htcArvNumber: null,
    htcArtClinicRegistrationNumber: null
  },
  {
    htiBookNumber: 15821,
    htiLeftPageNumber: 3,
    htiRecordNumber: 9,
    htiLeftPageId: 115821009,
    htiLeftSubmissionDate: "2025-04-28T09:17:00",
    htiLeftEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableLeftEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiLeftPhotoTakenProviderId: "AG0K",
    htiLeftSubmittedBy: "mw_user1",
    htiRightPageNumber: 10,
    htiRightPageId: 115821010,
    htiRightSubmissionDate: "2025-04-28T09:17:00",
    htiRightEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableRightEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiRightPhotoTakenProviderId: "AG0K",
    htiLinkId: "15821-10-3-P",
    htiShortLocId: 773,
    htiFacilityName: "Salima District Hospital",
    htiHmisCode: 1415,
    htiDhamisId: 216,
    htiRegisterVersion: 1.12,
    htcBookNumber: 6764,
    htcPageNumber: 4,
    htcPageId: 106764004,
    htcSubmissionDate: "2025-04-24T09:50:00",
    htcEntryUrl: "https://scanform.qed.ai/entry/",
    htcInspectableEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htcPhotoTakenProviderId: "AG0K",
    htcSubmittedBy: "mw_user1",
    htcLinkId: "15821-10-3-P",
    htcShortLocId: 773,
    htcFacilityName: "Salima District Hospital",
    htcHmisCode: 1415,
    htcDhamisId: 216,
    htcRegisterVersion: 1.8,
    htiVisitDate: "2025-04-09T02:00:00",
    htiProviderId: "AG0K",
    htiAccessPointCode: 11,
    htiSex: "M NC",
    htiAgeQuantity: 35,
    htiAgeUnit: "Y",
    htiAgeDays: 12775,
    htiLastHivTest: "Nev.",
    htiTimeSinceLastHivTestQuantity: 8,
    htiTimeSinceLastHivTestUnit: "Y",
    htiTimeSinceLastHivTestDays: 2920,
    htiEverTakenArv: "No",
    htiTimeSinceLastTakenArvQuantity: null,
    htiTimeSinceLastTakenArvUnit: null,
    htiTimeSinceLastTakenArvDays: null,
    htiClientRiskCategory: "Ong.",
    htiTestOne: "Pos",
    htiHivKitLotNumber: 831375,
    htiHivKitExpiryDate: "2025-06-03T02:00:00",
    htiHepatitisB: "ND",
    htiSyphilis: "ND",
    htiPartnerPresent: "No",
    htiPartnerHivStatus: "No P",
    htiReferralForReTesting: "RTsT",
    htiReTestingAppointmentDate: "2025-04-09T02:00:00",
    htiReferralForServicesPrep: 0,
    htiReferralForServicesPep: 0,
    htiReferralForServicesVmmc: 0,
    htiReferralForServicesSti: 0,
    htiReferralForServicesTb: 0,
    htiFamilyReferralSlips: 0,
    htiCondomsMale: 30,
    htiCondomsFemale: 0,
    htiHepatitisKitLotNumber: "O0OO812984",
    htiHepatitisKitExpiryDate: "2025-04-25T02:00:00",
    htiSyphilisKitLotNumber: "0O0O92Z486",
    htiSyphilisKitExpiryDate: "2025-11-02T02:00:00",
    htcVisitDate: "2025-04-09T02:00:00",
    htcProviderId: "7M2H",
    htcAccessPointCode: 11,
    htcAgeQuantity: 35,
    htcAgeUnit: "Y",
    htcAgeDays: 12775,
    htcSex: "Male",
    htcTestTwo: "Neg",
    htcTestThree: null,
    htcTestOneRepeat: "Pos",
    htcResultGiven: "Inconcl. Re-test",
    htcKitTwoExpiryDate: "2025-05-25T02:00:00",
    htcKitTwoLotNumber: "23O25OI",
    htcKitThreeExpiryDate: null,
    htcKitThreeLotNumber: null,
    htcKitOneRepeatExpiryDate: "2025-06-03T02:00:00",
    htcKitOneRepeatLotNumber: "OO0O83I375",
    htcRtriResult: "Not done",
    htcRecencyKitExpDate: null,
    htcRecencyKitLotNumber: null,
    htcDbsCollected: "No",
    htcDbsId: null,
    htcReferralForReTest: "Yes",
    htcAppointmentDateForReTest: "2025-04-23T02:00:00",
    htcReferralForArtReInitiation: "No",
    htcAppointmentDateForArtReferral: null,
    htcArtReferralOutcome: null,
    htcArtReferralOutcomeDate: null,
    htcArtSiteCode: null,
    htcArvNumber: null,
    htcArtClinicRegistrationNumber: null
  },
  {
    htiBookNumber: 2739,
    htiLeftPageNumber: 57,
    htiRecordNumber: 10,
    htiLeftPageId: 12739057,
    htiLeftSubmissionDate: "2024-04-09T08:48:00",
    htiLeftEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableLeftEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiLeftPhotoTakenProviderId: "YEK8",
    htiLeftSubmittedBy: "mw_user1",
    htiRightPageNumber: 58,
    htiRightPageId: 12739058,
    htiRightSubmissionDate: "2024-04-09T08:49:00",
    htiRightEntryUrl: "https://scanform.qed.ai/entry/",
    htiInspectableRightEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htiRightPhotoTakenProviderId: "YEK8",
    htiLinkId: "2739-58-10-F",
    htiShortLocId: 773,
    htiFacilityName: "Salima District Hospital",
    htiHmisCode: 1415,
    htiDhamisId: 216,
    htiRegisterVersion: 1.9,
    htcBookNumber: 980,
    htcPageNumber: 40,
    htcPageId: 10980040,
    htcSubmissionDate: "2024-04-09T08:49:00",
    htcEntryUrl: "https://scanform.qed.ai/entry/",
    htcInspectableEntryUrl: "https://scanform.qed.ai/entry/inspect/",
    htcPhotoTakenProviderId: "YEK8",
    htcSubmittedBy: "mw_user1",
    htcLinkId: "2739-58-10-F",
    htcShortLocId: 773,
    htcFacilityName: "Salima District Hospital",
    htcHmisCode: 1415,
    htcDhamisId: 216,
    htcRegisterVersion: 1.8,
    htiVisitDate: "2024-04-02T02:00:00",
    htiProviderId: "YEK8",
    htiAccessPointCode: 2,
    htiSex: "F P",
    htiAgeQuantity: 19,
    htiAgeUnit: "Y",
    htiAgeDays: 6935,
    htiLastHivTest: "Prof.-",
    htiTimeSinceLastHivTestQuantity: 4,
    htiTimeSinceLastHivTestUnit: "Y",
    htiTimeSinceLastHivTestDays: 1460,
    htiEverTakenArv: "No",
    htiTimeSinceLastTakenArvQuantity: null,
    htiTimeSinceLastTakenArvUnit: null,
    htiTimeSinceLastTakenArvDays: null,
    htiClientRiskCategory: "Ong.",
    htiTestOne: "Pos",
    htiHivKitLotNumber: "OOOO7OO348",
    htiHivKitExpiryDate: "2024-09-07T02:00:00",
    htiHepatitisB: "Neg",
    htiSyphilis: "ND",
    htiPartnerPresent: "No",
    htiPartnerHivStatus: "H?",
    htiReferralForReTesting: "ConTsT",
    htiReTestingAppointmentDate: "2024-04-02T02:00:00",
    htiReferralForServicesPrep: 0,
    htiReferralForServicesPep: 0,
    htiReferralForServicesVmmc: 0,
    htiReferralForServicesSti: 0,
    htiReferralForServicesTb: 0,
    htiFamilyReferralSlips: 0,
    htiCondomsMale: 0,
    htiCondomsFemale: 0,
    htiHepatitisKitLotNumber: "OOOO678Z6O",
    htiHepatitisKitExpiryDate: "2024-07-18T02:00:00",
    htiSyphilisKitLotNumber: null,
    htiSyphilisKitExpiryDate: null,
    htcVisitDate: "2024-04-02T02:00:00",
    htcProviderId: "35Y8",
    htcAccessPointCode: 2,
    htcAgeQuantity: 19,
    htcAgeUnit: "Y",
    htcAgeDays: 6935,
    htcSex: "Female",
    htcTestTwo: "Neg",
    htcTestThree: null,
    htcTestOneRepeat: "Pos",
    htcResultGiven: "New Inconcl.",
    htcKitTwoExpiryDate: "2024-04-09T02:00:00",
    htcKitTwoLotNumber: "2Z0I47I",
    htcKitThreeExpiryDate: null,
    htcKitThreeLotNumber: null,
    htcKitOneRepeatExpiryDate: "2024-09-07T02:00:00",
    htcKitOneRepeatLotNumber: "OOOO7OO3Q8",
    htcRtriResult: "Neg",
    htcRecencyKitExpDate: "2024-08-11T02:00:00",
    htcRecencyKitLotNumber: "P_RHIOO1",
    htcDbsCollected: "No",
    htcDbsId: null,
    htcReferralForReTest: "Yes",
    htcAppointmentDateForReTest: "2024-04-16T02:00:00",
    htcReferralForArtReInitiation: "No",
    htcAppointmentDateForArtReferral: null,
    htcArtReferralOutcome: null,
    htcArtReferralOutcomeDate: null,
    htcArtSiteCode: null,
    htcArvNumber: null,
    htcArtClinicRegistrationNumber: null
  }
];

const _hoisted_1 = { style: { "max-width": "750px", "min-height": "50vh" } };
const _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "SelectTestDateModal",
  props: {
    order: {}
  },
  setup(__props) {
    const formRef = ref(null);
    const demographicsStore = useDemographicsStore();
    const { patient } = storeToRefs(demographicsStore);
    const date = ref("");
    const hivResults = ref("");
    const testType = ref([]);
    const syphilisResults = ref("");
    const hepatitisResults = ref("");
    const isAutoFilled = ref(false);
    const props = __props;
    const whichTest = computed(
      () => [
        {
          componentType: "inputField",
          header: "ScanForm Link ID",
          name: "form_link_id",
          obsValueType: "value_text",
          icon: icons.scanner,
          onChange: (value) => {
            testType.value = ["HIV test", "Hepatitis B Test", "Syphilis"];
            testType.value = autoFillForm(value);
          },
          grid: { s: "6" }
        },
        {
          componentType: "dateInputField",
          header: "Past Date",
          name: "past_date",
          value: date.value,
          validation: StandardValidations.required,
          grid: { s: "6" },
          showTodayButton: true,
          disabled: isAutoFilled.value
        },
        {
          componentType: "checkboxField",
          header: "Select test",
          name: "testType",
          type: "multiple",
          obsValueType: "value_text",
          value: testType.value,
          validation: StandardValidations.required,
          disabled: isAutoFilled.value,
          options: [
            {
              label: "HIV test",
              value: "HIV test"
            },
            {
              label: "Hepatitis B Test",
              value: "Hepatitis B Test"
            },
            {
              label: "Syphilis",
              value: "Syphilis"
            }
          ]
        },
        { componentType: "Dashes", condition: (formValues) => formValues["testType"]?.includes("HIV test") },
        {
          componentType: "radioButtonField",
          header: "HIV Outcome Summary",
          name: "hivResults",
          value: hivResults.value,
          obsValueType: "value_text",
          validation: StandardValidations.required,
          type: "standard",
          disabled: isAutoFilled.value,
          condition: (formValues) => formValues["testType"]?.includes("HIV test"),
          options: [
            {
              label: "Unknown, new test NOT done",
              value: "Unknown, new test NOT done"
            },
            {
              label: "Recent negative",
              value: "Recent negative"
            },
            {
              label: "New negative",
              value: "New negative"
            },
            {
              label: "New positive",
              value: "New positive"
            },
            {
              label: "New indeterminate",
              value: "New indeterminate"
            },
            {
              label: "Known positive, not on ART",
              value: "Known positive, not on ART"
            },
            {
              label: "Known positive, on ART",
              value: "Known positive, on ART"
            }
          ]
        },
        { componentType: "Dashes", condition: (formValues) => formValues["testType"]?.includes("Hepatitis B Test") },
        {
          componentType: "radioButtonField",
          header: "Hepatitis B Outcome Summary",
          name: "hepatitisBResults",
          obsValueType: "value_text",
          validation: StandardValidations.required,
          type: "standard",
          value: hepatitisResults.value,
          disabled: isAutoFilled.value,
          condition: (formValues) => formValues["testType"]?.includes("Hepatitis B Test"),
          options: [
            {
              label: "Yes",
              value: "Yes"
            },
            {
              label: "No",
              value: "No"
            },
            {
              label: "ND (NotDone)",
              value: "Not Done"
            }
          ]
        },
        { componentType: "Dashes", condition: (formValues) => formValues["testType"]?.includes("Syphilis") },
        {
          componentType: "radioButtonField",
          header: "Syphilis Outcome Summary",
          name: "syphilisResults",
          obsValueType: "value_text",
          validation: StandardValidations.required,
          type: "standard",
          value: syphilisResults.value,
          disabled: isAutoFilled.value,
          condition: (formValues) => formValues["testType"]?.includes("Syphilis"),
          options: [
            {
              label: "Yes",
              value: "Yes"
            },
            {
              label: "No",
              value: "No"
            },
            {
              label: "ND (NotDone)",
              value: "Not Done"
            }
          ]
        }
      ]
    );
    const calculateDaysBetween = (date1, date2) => {
      const d1 = new Date(date1);
      const d2 = new Date(date2);
      const diffTime = Math.abs(d1.getTime() - d2.getTime());
      const diffDays = Math.ceil(diffTime / (1e3 * 60 * 60 * 24));
      return diffDays;
    };
    const mapHIVOutcome = (result, visitDate, record) => {
      if (result === "New Pos" || result === "Exp. Infant") {
        const daysSinceVisit = calculateDaysBetween((/* @__PURE__ */ new Date()).toISOString(), visitDate);
        if (daysSinceVisit > 14) {
          if (record.htcArvNumber) return "Known positive, on ART";
          return "Known positive, not on ART";
        }
      } else if (result === "New Inconcl.") {
        return "New indeterminate";
      } else if (result === "New Pos" || result === "Exp. Infant") {
        return "New positive";
      } else if (result === "Testing was not completed") {
        return "Unknown, new test NOT done";
      }
      return "";
    };
    const mapHIVInitialOutcome = (testResult, visitDate, record) => {
      const now = /* @__PURE__ */ new Date();
      const daysSinceVisit = calculateDaysBetween(now.toISOString(), visitDate);
      if (testResult === "Neg") {
        if (record.htiLastHivTest === "Nev.") {
          return "New negative";
        }
        if (daysSinceVisit < 180) {
          return "Recent negative";
        }
        return "";
      }
      if (record.htiLastHivTest === "Nev." && testResult === "Null" || record.htiLastHivTest === "Prof.-") {
        return "Unknown, new test NOT done";
      }
      return "";
    };
    const mapHepatitisOutcome = (result) => {
      const mapping = {
        Neg: "No",
        Pos: "Yes",
        ND: "Not Done"
      };
      return mapping[result] || "Not Done";
    };
    const mapSyphilisOutcome = (result) => {
      const mapping = {
        Neg: "No",
        Pos: "Yes",
        ND: "Not Done"
      };
      return mapping[result] || "Not Done";
    };
    const autoFillForm = (linkId) => {
      const record = scanFormData.find((item) => item.htiLinkId === linkId || item.htcLinkId === linkId);
      if (!record) {
        formRef.value?.resetForm("form_link_id");
        date.value = "";
        hivResults.value = "";
        testType.value = [];
        syphilisResults.value = "";
        hepatitisResults.value = "";
        isAutoFilled.value = false;
        return [];
      }
      const selectedTests = [];
      let testHIVResult = "";
      let testSyphilisResult = "";
      let testHepatitisResult = "";
      let visitDate = "";
      if (record.htcResultGiven && record.htcVisitDate) {
        visitDate = record.htcVisitDate;
        testHIVResult = mapHIVOutcome(record.htcResultGiven, record.htcVisitDate, record);
        if (testHIVResult) selectedTests.push("HIV test");
      } else if (record.htiTestOne && record.htiVisitDate && !record.htcResultGiven) {
        visitDate = record.htiVisitDate;
        testHIVResult = mapHIVInitialOutcome(record.htiTestOne, record.htiVisitDate, record);
        if (testHIVResult) selectedTests.push("HIV test");
      }
      if (record.htiHepatitisB) {
        selectedTests.push("Hepatitis B Test");
        visitDate = record.htiVisitDate || visitDate;
        testHepatitisResult = mapHepatitisOutcome(record.htiHepatitisB);
      }
      if (record.htiSyphilis) {
        selectedTests.push("Syphilis");
        visitDate = record.htiVisitDate || visitDate;
        testSyphilisResult = mapSyphilisOutcome(record.htiSyphilis);
      }
      isAutoFilled.value = true;
      nextTick(() => {
        formRef.value?.setFormValue("testType", selectedTests);
        if (visitDate) {
          formRef.value?.setFormValue("past_date", HisDate.toStandardHisDisplayFormat(visitDate));
        }
        if (testHIVResult && selectedTests.includes("HIV test")) {
          hivResults.value = testHIVResult;
          formRef.value?.setFormValue("hivResults", testHIVResult);
        }
        if (testHepatitisResult && selectedTests.includes("Hepatitis B Test")) {
          hepatitisResults.value = testHepatitisResult;
          formRef.value?.setFormValue("hepatitisBResults", testHepatitisResult);
        }
        if (testSyphilisResult && selectedTests.includes("Syphilis")) {
          syphilisResults.value = testSyphilisResult;
          formRef.value?.setFormValue("syphilisResults", testSyphilisResult);
        }
      });
      return selectedTests;
    };
    const save = async () => {
      if (formRef.value?.validateForm() != null) {
        toastWarning("Please fill in all required fields");
        return;
      }
      const formValues = formRef.value?.getFormValues();
      const selectedTests = formValues.testType || [];
      const testDate = formValues.past_date ? HisDate.toStandardHisFormat(formValues.past_date) : "";
      if (selectedTests.length === 0) {
        toastWarning("Please select at least one test");
        return;
      }
      try {
        const tests = [];
        if (selectedTests.includes("HIV test")) {
          tests.push({
            name: "HIV test",
            value: formValues.hivResults,
            specimen: "Blood"
          });
        }
        if (selectedTests.includes("Hepatitis B Test")) {
          tests.push({
            name: "Hepatitis B Test",
            value: formValues.hepatitisBResults,
            specimen: "Blood"
          });
        }
        if (selectedTests.includes("Syphilis")) {
          tests.push({
            name: "Syphilis",
            value: formValues.syphilisResults,
            specimen: "Blood"
          });
        }
        await LabOrderService.saveLabTest(patient.value, tests, props.order, testDate, formValues.form_link_id || "");
        await modalController.dismiss();
      } catch (error) {
        console.error("Error saving past test results:", error);
        toastWarning("Failed to save past test results");
      }
    };
    return (_ctx, _cache) => {
      const _component_ion_button = resolveComponent("ion-button");
      return openBlock(), createBlock(StandardModal, { title: "Past Test Results" }, {
        "top-buttons": withCtx(() => [
          createVNode(_component_ion_button, {
            onClick: _cache[0] || (_cache[0] = ($event) => save())
          }, {
            default: withCtx(() => [..._cache[1] || (_cache[1] = [
              createTextVNode("Complete", -1)
            ])]),
            _: 1
          })
        ]),
        content: withCtx(() => [
          createBaseVNode("div", _hoisted_1, [
            createVNode(StandardForm, {
              formData: whichTest.value,
              ref_key: "formRef",
              ref: formRef
            }, null, 8, ["formData"])
          ])
        ]),
        _: 1
      });
    };
  }
});

const SelectTestDateModal = /* @__PURE__ */ _export_sfc(_sfc_main, [["__scopeId", "data-v-35d58dd2"]]);

export { SelectTestDateModal as S };
