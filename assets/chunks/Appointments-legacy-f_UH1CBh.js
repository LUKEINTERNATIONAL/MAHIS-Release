System.register(["./vendor-legacy-6303t9Ym.js","../index-legacy-DTOC_HO8.js","./DemographicBar-legacy-D4CQAhQl.js","./NextAppointmentModal-legacy-p9mOPsNX.js","./FeatusModal-legacy-CNLO2Lbv.js","./UpcomingFeature-legacy-Cr88npNn.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-CK5H4KzW.js","./BasicForm-legacy-CsdjLjGp.js","./DateInputField-legacy-DwWhnR8h.js"],function(t,e){"use strict";var n,i,a,l,s,o,d,r,c,u,p,v,h,g,f,m,y,_,b,x,w,O,D,T,E,I,C,A,S,N,k,P,B,R,M,H,V,L,U,G,j,W,F,z,Y,$,K,J;return{setters:[t=>{n=t.d,i=t.ah,a=t.G,l=t.E,s=t.ai,o=t.aj,d=t._,r=t.I,c=t.a3,u=t.H,p=t.e,v=t.f,h=t.l,g=t.J,f=t.k,m=t.F,y=t.P,_=t.O,b=t.Q,x=t.K,w=t.m,O=t.V,D=t.a6,T=t.bL,E=t.c5,I=t.di,C=t.bf,A=t.aU},t=>{S=t.J,N=t.bd,k=t.H,P=t.m,B=t.aR,R=t.E,M=t.P,H=t.u,V=t.aI,L=t.l,U=t._,G=t.T,j=t.ag},t=>{W=t.D},t=>{F=t.a,z=t.L,Y=t.u},t=>{$=t.F},t=>{K=t.U,J=t.I},null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent='.alert[data-v-e5840482]{display:flex;justify-content:center;align-items:center;height:50vh;text-align:center;flex-direction:column}.message[data-v-e5840482]{margin-top:20px;padding:10px;border:1px solid #ccc;background-color:#f9f9f9}h3[data-v-e5840482]{margin:0}.visitContent[data-v-e5840482]{background:#fff;margin-top:10px;padding:20px}.heading[data-v-e5840482]{font-style:normal;font-weight:700;font-size:15px;align-items:center;color:#00190e;margin-right:5px;margin-top:25px}.contentTitle[data-v-e5840482]{font-style:normal;font-weight:400;font-size:14px;color:#636363}.nextDate[data-v-e5840482]{font-style:normal;font-weight:600;font-size:14px;color:#006401}.spanContent[data-v-e5840482]{margin-right:20px;margin-left:20px;font-style:normal;font-weight:400;font-size:16px;color:#636363;position:relative;line-height:1.5}.spanContent[data-v-e5840482]:before{content:"â€¢ ";color:#636363;font-size:2em;position:absolute;left:-20px;top:50%;transform:translateY(-50%)}.visitData[data-v-e5840482]{border-left:#a3a1a1 solid 1px;padding-left:20px}.noData[data-v-e5840482]{border:#a3a1a1 solid 1px;border-style:dashed;border-radius:5px;padding:10px;text-align:center;margin-bottom:10px;margin-top:10px}.container[data-v-4e9654e5]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}.back_profile[data-v-4e9654e5]{display:flex;justify-content:space-between;align-items:center;width:100%;font-weight:400;font-size:14px;z-index:1000;padding-left:25%;padding-right:25%}.AppointmentDate[data-v-4e9654e5]{margin-left:auto}ion-card[data-v-4e9654e5]{width:300px;margin:8px}.button-container[data-v-4e9654e5]{display:block;justify-content:space-around;margin:10px 0}.dynamic-button[data-v-4e9654e5]{flex:1;margin:0 5px;min-width:120px}@media(max-width:768px){.dynamic-button[data-v-4e9654e5]{margin:0 15px}.container[data-v-4e9654e5]{text-align:center;position:absolute;left:0;right:0;top:60%;transform:translateY(-50%)}ion-card[data-v-4e9654e5]{width:400px;margin:4px}.button-container[data-v-4e9654e5]{display:flex;justify-content:space-around;margin:5px 0}.back_profile[data-v-4e9654e5]{display:flex;justify-content:space-between;width:100%;font-weight:400;font-size:14px;z-index:1000;padding:0 5%;margin-bottom:10px}.AppointmentDate[data-v-4e9654e5]{margin-left:0}}hr[data-v-4e9654e5]{margin:20px 0;border:2px solid #ccc}\n/*$vite$:1*/',document.head.appendChild(e);const Q=n({name:"Menu",components:{IonContent:c,IonHeader:r,IonItem:d,IonList:o,IonMenu:s,IonTitle:l,IonToolbar:a,UpcomingFeature:K,DynamicButton:S},data:()=>({iconsContent:L,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},appointmentDate:""}),watch:{patient:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()},computed:{...i(V,["investigations"]),...i(H,["patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async updateData(){const t=new M;this.visits=await M.getPatientVisits(t.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate:t=>k.toStandardHisDisplayFormat(t),async loadSavedEncounters(t){this.visitDate=t;const e=await R.getEncounters(this.patient.patientID,{date:t});await this.setDiagnosisEncounters(e),await this.setVitalsEncounters(e),await this.setPresentingComplainsEncounters(e),await this.setTreatmentEncounters(e),await this.setANCProfileEncounters(e),await this.setNextAppointmentEncounter(e)},findEncounter:(t,e)=>t.find(t=>t.type&&t.type.name===e),async setDiagnosisEncounters(t){var e;const n=null===(e=this.findEncounter(t,"OUTPATIENT DIAGNOSIS"))||void 0===e?void 0:e.observations;this.primaryDiagnosis=await this.getConceptValues(this.filterObs(n,"Primary diagnosis"),"coded"),this.secondaryDiagnosis=await this.getConceptValues(this.filterObs(n,"Secondary diagnosis"),"coded")},async setVitalsEncounters(t){var e,n,i,a,l,s,o,d,r,c,u,p,v,h,g,f,m;const y=null===(e=this.findEncounter(t,"VITALS"))||void 0===e?void 0:e.observations;this.vitals.weight=null!==(n=null===(i=this.filterObs(y,"Weight"))||void 0===i||null===(i=i[0])||void 0===i?void 0:i.value_numeric)&&void 0!==n?n:"",this.vitals.temperature=null!==(a=null===(l=this.filterObs(y,"Temperature"))||void 0===l||null===(l=l[0])||void 0===l?void 0:l.value_numeric)&&void 0!==a?a:"",this.vitals.pulse=null!==(s=null===(o=this.filterObs(y,"Pulse"))||void 0===o||null===(o=o[0])||void 0===o?void 0:o.value_numeric)&&void 0!==s?s:"",this.vitals.SAO2=null!==(d=null===(r=this.filterObs(y,"SAO2"))||void 0===r||null===(r=r[0])||void 0===r?void 0:r.value_numeric)&&void 0!==d?d:"",this.vitals.height=null!==(c=null===(u=this.filterObs(y,"Height (cm)"))||void 0===u||null===(u=u[0])||void 0===u?void 0:u.value_numeric)&&void 0!==c?c:"",this.vitals.systolic=null!==(p=null===(v=this.filterObs(y,"Systolic"))||void 0===v||null===(v=v[0])||void 0===v?void 0:v.value_numeric)&&void 0!==p?p:"",this.vitals.respirationRate=null!==(h=null===(g=this.filterObs(y,"Respiration rate"))||void 0===g||null===(g=g[0])||void 0===g?void 0:g.value_numeric)&&void 0!==h?h:"",this.vitals.diastolic=null!==(f=null===(m=this.filterObs(y,"Diastolic"))||void 0===m||null===(m=m[0])||void 0===m?void 0:m.value_numeric)&&void 0!==f?f:"",this.vitals.weight&&this.vitals.height&&await this.setBMI(this.vitals.weight,this.vitals.height)},async setNextAppointmentEncounter(t){var e,n,i;const a=null===(e=this.findEncounter(t,"APPOINTMENT"))||void 0===e?void 0:e.observations;this.appointmentDate["Appointment date"]=null!==(n=null===(i=this.filterObs(a,"Appointment date"))||void 0===i||null===(i=i[0])||void 0===i?void 0:i.value_text)&&void 0!==n?n:""},async setANCProfileEncounters(t){var e,n,i,a,l,s,o,d,r,c,u,p,v,h,g,f,m,y,_,b,x,w,O,D;const T=null===(e=this.findEncounter(t,"CURRENT PREGNANCY"))||void 0===e?void 0:e.observations;this.pregnancy.Gravida=null!==(n=null===(i=this.filterObs(T,"Gravida"))||void 0===i||null===(i=i[0])||void 0===i?void 0:i.value_text)&&void 0!==n?n:"",this.pregnancy.Stillbirths=null!==(a=null===(l=this.filterObs(T,"Stillbirths"))||void 0===l||null===(l=l[0])||void 0===l?void 0:l.value_text)&&void 0!==a?a:"",this.pregnancy["Abortions/Miscarriages"]=null!==(s=null===(o=this.filterObs(T,"Abortions/Miscarriages"))||void 0===o||null===(o=o[0])||void 0===o?void 0:o.value_text)&&void 0!==s?s:"",console.log("lets seeee",T),this.pregnancy.test=null===(d=await this.getConceptValues(this.filterObs(T,"past pregnancies complications"),"coded"))||void 0===d?void 0:d[0],this.pregnancy.surgeries=null===(r=await this.getConceptValues(this.filterObs(T,"Does the woman have any past surgeries done?"),"coded"))||void 0===r?void 0:r[0],this.pregnancy["Other notes"]=null!==(c=null===(u=this.filterObs(T,"Other notes"))||void 0===u||null===(u=u[0])||void 0===u?void 0:u.value_text)&&void 0!==c?c:"",this.pregnancy.allergies=null===(p=await this.getConceptValues(this.filterObs(T,"Does the woman have any allergies?"),"coded"))||void 0===p?void 0:p[0],this.pregnancy.chronic=null===(v=await this.getConceptValues(this.filterObs(T,"chronic conditions"),"coded"))||void 0===v?void 0:v[0],this.pregnancy.lnmp=null===(h=await this.getConceptValues(this.filterObs(T,"LNMP Known?"),"coded"))||void 0===h?void 0:h[0],this.pregnancy.Other=null!==(g=null===(f=this.filterObs(T,"Other notes"))||void 0===f||null===(f=f[0])||void 0===f?void 0:f.value_text)&&void 0!==g?g:"",this.pregnancy.Ultrasound=null===(m=await this.getConceptValues(this.filterObs(T,"Ultrasound done?"),"coded"))||void 0===m?void 0:m[0],this.pregnancy.Gestation=null===(y=await this.getConceptValues(this.filterObs(T,"Gestation"),"coded"))||void 0===y?void 0:y[0],this.pregnancy.gestationUsed=null===(_=await this.getConceptValues(this.filterObs(T,"Gestation age to be used"),"coded"))||void 0===_?void 0:_[0],this.pregnancy.tetanus=null===(b=await this.getConceptValues(this.filterObs(T,"The woman received tetanus doses for immunization?"),"coded"))||void 0===b?void 0:b[0],this.pregnancy.prescription=null===(x=await this.getConceptValues(this.filterObs(T,"Which medications is the woman currently prescribed?"),"coded"))||void 0===x?void 0:x[0],this.pregnancy.caffeine=null===(w=await this.getConceptValues(this.filterObs(T,"Daily caffeine use"),"coded"))||void 0===w?void 0:w[0],this.pregnancy.tobacco=null===(O=await this.getConceptValues(this.filterObs(T,"Recently quit tobacco products"),"coded"))||void 0===O?void 0:O[0],this.pregnancy.smoke=null===(D=await this.getConceptValues(this.filterObs(T,"Exposure to second hand smoke"),"coded"))||void 0===D?void 0:D[0]},async setTreatmentEncounters(t){},async setPresentingComplainsEncounters(t){var e;const n=null===(e=this.findEncounter(t,"PRESENTING COMPLAINTS"))||void 0===e?void 0:e.observations;this.presentingComplaint=await this.getConceptValues(this.filterObs(n,"Presenting complaint"),"coded")},async setLabOrderEncounters(t){var e;const n=null===(e=this.findEncounter(t,"LAB ORDERS"))||void 0===e?void 0:e.observations;this.labOrders=await this.getConceptValues(this.filterObs(n,"Primary diagnosis"),"coded")},filterObs:(t,e)=>null==t?void 0:t.filter(t=>t.concept.concept_names.some(t=>t.name===e)),async getConceptValues(t,e){if(t)return await Promise.all(null==t?void 0:t.map(async t=>await B.getConceptName(t.value_coded)))},openModal(){P(J)},async setBMI(t,e){var n,i,a,l;null!==(n=this.patient)&&void 0!==n&&null!==(n=n.personInformation)&&void 0!==n&&n.gender&&null!==(i=this.patient)&&void 0!==i&&null!==(i=i.personInformation)&&void 0!==i&&i.birthdate&&(this.BMI=await N.getBMI(parseInt(t),parseInt(e),null===(a=this.patient)||void 0===a||null===(a=a.personInformation)||void 0===a?void 0:a.gender,k.calculateAge(null===(l=this.patient)||void 0===l||null===(l=l.personInformation)||void 0===l?void 0:l.birthdate,k.sessionDate()))),this.updateBMI()},async updateBMI(){var t,e,n,i,a,l;const s=null!==(t=null===(e=this.BMI)||void 0===e?void 0:e.color)&&void 0!==t?t:[];this.vitalsWeightHeight.icon=N.iconBMI(s),this.vitalsWeightHeight.backgroundColor=s[0],this.vitalsWeightHeight.textColor=s[1],this.vitalsWeightHeight.index="BMI "+(null!==(n=null===(i=this.BMI)||void 0===i?void 0:i.index)&&void 0!==n?n:""),this.vitalsWeightHeight.value=null!==(a=null===(l=this.BMI)||void 0===l?void 0:l.result)&&void 0!==a?a:""}}}),q={class:"visitContent"},X={class:"visitData"},Z={key:0},tt={style:{"max-width":"1000px"}},et={key:1,class:"noData"},nt={key:2},it={style:{"max-width":"300px"}},at={class:"position_content alert_content"},lt={style:{"max-width":"300px"}},st={key:3,class:"noData"},ot={key:4},dt={style:{display:"flex","flex-wrap":"wrap"}},rt={key:5,class:"noData"},ct={key:6},ut={style:{display:"flex","flex-wrap":"wrap"}},pt={key:7,class:"noData"},vt={key:8},ht={style:{display:"flex","flex-wrap":"wrap"}},gt={key:9,class:"noData"},ft={key:10},mt={key:11,class:"noData"},yt={key:12},_t={key:13,class:"noData"},bt=n({name:"TB screening",components:{FeatusModal:$,DynamicButton:S,IonContent:c,IonPage:D,Toolbar:G,DemographicBar:W,LandingPage:z,NextAppointmentModal:F,AppointmentsHistory:U(Q,[["render",function(t,e,n,i,a,l){const s=u("DynamicButton"),o=u("ion-col"),d=u("ion-row"),r=u("ion-icon");return v(),p("div",q,[h(d,null,{default:g(()=>[h(o,{size:"3"},{default:g(()=>[f("div",null,[(v(!0),p(m,null,y(t.visits,(e,n)=>(v(),_(s,{class:"",style:{"margin-bottom":"5px",width:"96%",height:"45px"},onClick:n=>t.loadSavedEncounters(e),key:n,name:t.covertDate(e),fill:t.visitDate!=e?"outline":"solid",color:t.visitDate==e?"success":""},null,8,["onClick","name","fill","color"]))),128))])]),_:1}),h(o,{offset:"0.1",size:"7"},{default:g(()=>{var n,i,a;return[f("div",X,[Object.values(t.pregnancy).every(t=>""!==t)?(v(),p("div",Z,[f("div",tt,[e[25]||(e[25]=f("div",{class:"heading"},"ANC PROFILE",-1)),f("div",null,[h(d,null,{default:g(()=>[h(o,{class:"contentTitle"},{default:g(()=>[...e[0]||(e[0]=[b("GRAVIDA",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[1]||(e[1]=[b("STILLBIRTHS",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[2]||(e[2]=[b("LIVE BIRTHS",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[3]||(e[3]=[b("PREGNANCY COMPLICATIONS",-1)])]),_:1})]),_:1}),h(d,null,{default:g(()=>[h(o,null,{default:g(()=>[b(x(t.pregnancy.Gravida),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.Stillbirths),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy["Abortions/Miscarriages"]),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.test),1)]),_:1})]),_:1}),e[20]||(e[20]=f("br",null,null,-1)),h(d,null,{default:g(()=>[h(o,{class:"contentTitle"},{default:g(()=>[...e[4]||(e[4]=[b("PAST SURGERIES",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[5]||(e[5]=[b("OTHER SURGERIES",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[6]||(e[6]=[b("ALLERGIES",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[7]||(e[7]=[b("CHRONIC CONDITIONS",-1)])]),_:1})]),_:1}),h(d,null,{default:g(()=>[h(o,null,{default:g(()=>[b(x(t.pregnancy.surgeries),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy["Other notes"]),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.allergies),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.chronic),1)]),_:1})]),_:1}),e[21]||(e[21]=f("br",null,null,-1)),h(d,null,{default:g(()=>[h(o,{class:"contentTitle"},{default:g(()=>[...e[8]||(e[8]=[b("LNMP",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[9]||(e[9]=[b("LIVE BIRTHS",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[10]||(e[10]=[b("PARITY",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[11]||(e[11]=[b("OTHER ALLERGIES",-1)])]),_:1})]),_:1}),h(d,null,{default:g(()=>[h(o,null,{default:g(()=>[b(x(t.pregnancy.lnmp),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.LiveBirths),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.Parity),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.Other),1)]),_:1})]),_:1}),e[22]||(e[22]=f("br",null,null,-1)),h(d,null,{default:g(()=>[h(o,{class:"contentTitle"},{default:g(()=>[...e[12]||(e[12]=[b("ULTRASOUND DONE",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[13]||(e[13]=[b("GESTATION AGE BY PALPATION",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[14]||(e[14]=[b("GESTATION USED",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[15]||(e[15]=[b("TETANUS DOSES",-1)])]),_:1})]),_:1}),h(d,null,{default:g(()=>[h(o,null,{default:g(()=>[b(x(t.pregnancy.Ultrasound),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.Gestation),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.gestationUsed),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.tetanus),1)]),_:1})]),_:1}),e[23]||(e[23]=f("br",null,null,-1)),h(d,null,{default:g(()=>[h(o,{class:"contentTitle"},{default:g(()=>[...e[16]||(e[16]=[b("MEDICATIONS CURRENTLY PRESCRIBED",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[17]||(e[17]=[b("DAILY CAFFEINE INTAKE",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[18]||(e[18]=[b("RECENTLY QUIT TOBACCO PRODUCTS",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[19]||(e[19]=[b("EXPOSURE TO SECOND HAND SMOKE",-1)])]),_:1})]),_:1}),h(d,null,{default:g(()=>[h(o,null,{default:g(()=>[b(x(t.pregnancy.prescription),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.caffeine),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.tobacco),1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.pregnancy.smoke),1)]),_:1})]),_:1}),e[24]||(e[24]=f("br",null,null,-1)),h(d),h(d)])])])):(v(),p("div",et,"No Profile data was found")),Object.values(t.vitals).every(t=>""!==t)?(v(),p("div",nt,[f("div",it,[e[28]||(e[28]=f("div",{class:"heading",style:{"margin-top":"0px"}},"Anthropometric Measurements",-1)),f("div",null,[h(d,null,{default:g(()=>[t.vitals.weight?(v(),_(o,{key:0,class:"contentTitle"},{default:g(()=>[...e[26]||(e[26]=[b("Weight",-1)])]),_:1})):w("",!0),t.vitals.height?(v(),_(o,{key:1,class:"contentTitle"},{default:g(()=>[...e[27]||(e[27]=[b("Height",-1)])]),_:1})):w("",!0)]),_:1}),h(d,null,{default:g(()=>[t.vitals.weight?(v(),_(o,{key:0},{default:g(()=>[b(x(t.vitals.weight)+" kg",1)]),_:1})):w("",!0),t.vitals.height?(v(),_(o,{key:1},{default:g(()=>[b(x(t.vitals.height)+" cm",1)]),_:1})):w("",!0)]),_:1}),t.vitals.weight&&t.vitals.height?(v(),_(d,{key:0},{default:g(()=>[f("span",null,[t.vitalsWeightHeight.value?(v(),_(d,{key:0,style:O("border-radius: 5px;  margin-top:10px; margin-bottom:10px;background-color:"+t.vitalsWeightHeight.backgroundColor)},{default:g(()=>[f("span",at,[h(r,{slot:"start",icon:t.vitalsWeightHeight.icon,"aria-hidden":"true"},null,8,["icon"]),f("span",{style:O("color:"+t.vitalsWeightHeight.textColor+"; font-weight:600; margin: 0px 20px;")},x(t.vitalsWeightHeight.index),5),f("span",{style:O("color:"+t.vitalsWeightHeight.textColor+";")},x(t.vitalsWeightHeight.value),5)])]),_:1},8,["style"])):w("",!0)])]),_:1})):w("",!0)])]),f("div",lt,[e[35]||(e[35]=f("div",{class:"heading"},"Vital Signs",-1)),f("div",null,[h(d,null,{default:g(()=>[h(o,{class:"contentTitle"},{default:g(()=>[...e[29]||(e[29]=[b("Systolic pressure",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[30]||(e[30]=[b("Diastolic pressure",-1)])]),_:1})]),_:1}),h(d,null,{default:g(()=>[h(o,null,{default:g(()=>[b(x(t.vitals.systolic)+" mmHg",1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.vitals.diastolic)+" mmHg",1)]),_:1})]),_:1}),h(d,null,{default:g(()=>[h(o,{class:"contentTitle"},{default:g(()=>[...e[31]||(e[31]=[b("Temperature",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[32]||(e[32]=[b("Oxygen Saturation",-1)])]),_:1})]),_:1}),h(d,null,{default:g(()=>[h(o,null,{default:g(()=>[b(x(t.vitals.temperature)+" C",1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.vitals.SAO2)+" %",1)]),_:1})]),_:1}),h(d,null,{default:g(()=>[h(o,{class:"contentTitle"},{default:g(()=>[...e[33]||(e[33]=[b("Pulse Rate",-1)])]),_:1}),h(o,{class:"contentTitle"},{default:g(()=>[...e[34]||(e[34]=[b("Respiratory Rate",-1)])]),_:1})]),_:1}),h(d,null,{default:g(()=>[h(o,null,{default:g(()=>[b(x(t.vitals.pulse)+" BMP",1)]),_:1}),h(o,null,{default:g(()=>[b(x(t.vitals.respirationRate)+" BMP",1)]),_:1})]),_:1})])])])):(v(),p("div",st,"No Vitals were recorded")),(null===(n=t.presentingComplaint)||void 0===n?void 0:n.length)>0?(v(),p("div",ot,[e[36]||(e[36]=f("div",{class:"heading"},"Complaints Presented",-1)),f("div",dt,[(v(!0),p(m,null,y(t.presentingComplaint,(t,e)=>(v(),p("div",{class:"spanContent",key:e},x(t),1))),128))])])):(v(),p("div",rt,"No complaints were recorded")),(null===(i=t.primaryDiagnosis)||void 0===i?void 0:i.length)>0?(v(),p("div",ct,[e[37]||(e[37]=f("div",{class:"heading"},"Primary Diagnoses",-1)),f("div",ut,[(v(!0),p(m,null,y(t.primaryDiagnosis,(t,e)=>(v(),p("div",{class:"spanContent",key:e},x(t),1))),128))])])):(v(),p("div",pt,"No primary diagnoses were recorded")),(null===(a=t.secondaryDiagnosis)||void 0===a?void 0:a.length)>0?(v(),p("div",vt,[e[38]||(e[38]=f("div",{class:"heading"},"Secondary Diagnoses",-1)),f("div",ht,[(v(!0),p(m,null,y(t.secondaryDiagnosis,(t,e)=>(v(),p("div",{class:"spanContent",key:e},x(t),1))),128))])])):(v(),p("div",gt,"No secondary diagnoses were recorded")),t.drugs?(v(),p("div",ft,[...e[39]||(e[39]=[f("div",{class:"heading"},"Treatment Plan",-1),f("div",null,null,-1)])])):(v(),p("div",mt,"No Treatment were recorded")),t.nextAppointMent?(v(),p("div",yt,[...e[40]||(e[40]=[f("span",{class:"heading"},"Next Appointment:",-1),f("span",{class:"nextDate"},"06 September 2024",-1)])])):(v(),p("div",_t,"No next appointment was set"))])]}),_:1})]),_:1})])}],["__scopeId","data-v-e5840482"]])},props:{backBtn:{type:String,default:"Back to profile"},backUrl:{type:String,default:""},contact:{type:String,default:""}},data:()=>({isModalOpen:!1,visitDate:[],appointmentDate:"",visits:[],dateOfAppointment:""}),setup:()=>({checkmark:A,pulseOutline:C}),mounted(){this.handleAppointment()},computed:{...i(Y,["nextAppointmentDate"]),...i(H,["patient"])},methods:{calendar:()=>I,eye:()=>E,chevronBackOutline:()=>T,openBackController(){this.$router.push("/ANCHome")},async handleAppointment(){const t=await j.getFirstObsValue(this.patient.patientID,"Appointment date","value_text");this.dateOfAppointment=t},async updateData(){const t=new M;this.visits=await M.getPatientVisits(t.getID(),!1),await this.loadSavedEncounters(this.visits[0])},async loadSavedEncounters(t){this.visitDate=t;const e=await R.getEncounters(this.patient.patientID,{date:t});await this.setNextAppointmentEncounter(e)},findEncounter:(t,e)=>t.find(t=>t.type&&t.type.name===e),async setNextAppointmentEncounter(t){var e,n,i;const a=null===(e=this.findEncounter(t,"APPOINTMENT"))||void 0===e?void 0:e.observations;console.log("Observations:",a),this.appointmentDate["Appointment date"]=null!==(n=null===(i=this.filterObs(a,"Appointment date"))||void 0===i||null===(i=i[0])||void 0===i?void 0:i.value_text)&&void 0!==n?n:"",console.log("Appointment Date:",this.appointmentDate["Appointment date"])},filterObs:(t,e)=>null==t?void 0:t.filter(t=>t.concept.concept_names.some(t=>t.name===e)),async getConceptValues(t,e){if(t)return await Promise.all(null==t?void 0:t.map(async t=>await B.getConceptName(t.value_coded)))}}}),xt={class:"container"},wt={class:"back_profile"},Ot={class:"AppointmentDate"},Dt={style:{color:"#0b5ed7"}};t("default",U(bt,[["render",function(t,e,n,i,a,l){const s=u("Toolbar"),o=u("DemographicBar"),d=u("DynamicButton"),r=u("AppointmentsHistory"),c=u("ion-content"),p=u("ion-page");return v(),_(p,null,{default:g(()=>[h(s),h(c,{fullscreen:!0},{default:g(()=>[h(o),f("div",xt,[f("div",wt,[h(d,{name:"Back to home",iconSlot:"start",fill:"clear",icon:t.chevronBackOutline(),onClick:e[0]||(e[0]=e=>t.openBackController())},null,8,["icon"]),f("div",Ot,[e[1]||(e[1]=f("span",{style:{"font-size":"14px"}},"Next Appt. Date: ",-1)),f("b",Dt,x(t.dateOfAppointment||"Not scheduled"),1)])]),h(r)])]),_:1})]),_:1})}],["__scopeId","data-v-4e9654e5"]]))}}});
