import{d as ae,aV as Ae,r as n,c as K,a as De,H as ue,e as D,f as l,l as e,m as p,O as I,J as s,k as o,u as t,_ as te,Q as $,F as Q,av as xe,ex as Zt,ey as ea,ez as ta,eA as aa,aG as yt,w as me,ax as bt,bW as na,P as ce,aO as sa,K as S,p as ot,bt as oa,ah as la,L as Fe,eB as lt,eC as it,bk as Le,bf as rt,eD as ut,eE as ct,da as dt,eF as mt,eG as pt,eH as vt,df as ft,bV as ia,az as ra,c1 as ua,W as le,bz as ca,al as Xe,ak as he,N as se,bs as oe,a4 as ie,bl as $e,b2 as da,bn as Dt,a2 as wt,b$ as ma,bv as pa,aj as kt,a5 as j,c7 as _t,bw as va,dt as fa,ea as ht}from"./vendor-hvlGrBh_.js";import{bp as _a,l as Ne,aB as Re,aA as ha,b4 as ga,aC as ya,J as Se,M as ke,S as He,af as re,b2 as J,t as be,G as Be,_ as pe,u as qe,H as Ue,aS as _e,aT as Ct,bU as ba,bn as Da,bo as wa,aZ as ge,a$ as ye,bV as ka,bJ as Ca,P as St,aK as Oe,m as Sa,aR as Ia,K as Pa,B as we,aw as gt,an as Ye,ar as Ke,aM as Ea,aq as Oa}from"../index-RcXHgZym.js";import{e as xa,a as Aa,m as Va,b as Na,v as $a,c as Ha,_ as Ma}from"./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-DIv5Fw3s.js";import{p as Ta}from"./previousComplaints-C_y2ASQ-.js";import{P as Ra}from"./patient_complaints_service-Dy58wKNF.js";import{D as Fa}from"./DashBox-B7IBYvJi.js";import{B as Qe}from"./BasicForm-Be1_8AV6.js";import{f as Ze,c as It,a as Pt}from"./formatServerData-QuUN-IFO.js";import{A as La,D as Ua,a as Ba}from"./NextAppointment-CpXSdnSl.js";import{a as qa,b as Ga}from"./drug_prescription_service-DBlBP99v.js";import{P as Wa}from"./nonPharmaTherapyStore-B-eBw8KA.js";import{l as Ce}from"./lodash-NJiRuGo9.js";import{_ as Je,D as za,A as ja,R as Ya,a as Ka,b as Ja}from"./usePatientProfile-CZt-Zovj.js";const Xa={key:0},Qa={style:{"align-content":"center"}},Za={class:"ion-padding",slot:"content"},en=ae({__name:"PresentingComplaints",setup(i,{expose:r}){const u=_a(),{presentingComplaints:v}=Ae(u),w=n(Ne),V=n(!0),H=n(!1),N=n(!1),g=n(!0),O=n(!1),c=n([]),x=n([]),U=n(),m=K(()=>[{componentType:"multiSelectInputField",header:"Presenting Complaints",name:"PresentingComplaints",trackBy:"concept_id",icon:Ne.search,hideSelected:!0,validation:C=>F(C==null?void 0:C.name,c.value)?"Presenting complaint already added":Re.required(C),options:x.value,grid:{s:"6"}},{componentType:"inputField",header:"Duration",name:"duration",icon:Ne.time,validation:C=>Re.isNotEmptyandNumber(C),grid:{s:"6"},unitOptions:[{label:"Hours",value:"Hours"},{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],unitValidation:C=>!C||C===""?"Please select a unit.":null},{componentType:"inputField",header:"Specify the presenting complaint(s)",name:"Other (specify)",icon:Ne.editPen,validation:C=>F(C,c.value)?"Presenting complaint already added":Re.required(C),condition:C=>{var h;return((h=C==null?void 0:C.PresentingComplaints)==null?void 0:h.name)==="Other"}},{componentType:"Alert",condition:C=>{var h;return Re.required((h=C==null?void 0:C.PresentingComplaints)==null?void 0:h.name)!=null},backgroundColor:"lightyellow",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}]),{formRef:f}=ha(),L=async()=>{x.value=await Ra.getComplaintsList("Presenting complaint"),ke(v.value,"PresentingComplaints","multiSelectData",x.value)},P=()=>{V.value=!1,g.value=!1,N.value=!0},A=async()=>{var a,k;const C=(a=f.value)==null?void 0:a.getFormValues();((k=f.value)==null?void 0:k.validateForm())==null&&(M(C),N.value=!1,g.value=!0)},M=C=>{var G;const h=C.duration+" "+C.duration_unit,a=C.PresentingComplaints,k=a.name==="Other"?C["Other (specify)"]:a.name;c.value.push({actionBtn:!0,btn:["delete"],name:k,concept_id:a.concept_id,duration:a.duration,durationUnits:a.duration_unit,display:[k,h],data:[{concept_id:8578,value_coded:a.concept_id,obs_datetime:He.getSessionDate(),child:[{concept_id:a.concept_id,value_text:h,obs_datetime:He.getSessionDate()}]}]}),(G=f.value)==null||G.resetForm(),O.value=!0,q()},q=()=>{const C=["Cough","Convulsions"];H.value=c.value.some(h=>C.includes(h.name))},F=(C,h)=>h.some(a=>a.name===C),z=C=>{c.value=c.value.filter(h=>h.display[0]!==C.name)},T=async()=>{const C=await re.getObsByEncounterIdAndDate(J.PRESENTING_COMPLAINTS),h=c.value.flatMap(a=>a.data);if(h.length<=0&&C.length<=0)return be("Presenting complaints is required");h.length<=0||(await re.addObsToEncounterPatient(h,J.PRESENTING_COMPLAINTS),Be("Presenting complaints saved successful"),c.value=[])};return De(async()=>{await L()}),r({onSubmit:T}),(C,h)=>{const a=ue("ion-row"),k=ue("ion-label"),G=ue("ion-accordion"),X=ue("ion-accordion-group");return l(),D(Q,null,[e(Fa,{status:V.value,content:"No presenting complaints added"},null,8,["status"]),O.value?(l(),D("span",Xa,[e(ga,{listData:c.value,"onClicked:delete":z},null,8,["listData"])])):p("",!0),N.value?(l(),I(a,{key:1},{default:s(()=>[e(ya,{formData:m.value,ref_key:"formRef",ref:f},null,8,["formData"]),o("div",Qa,[e(Se,{fill:"clear",icon:w.value.plus,iconSlot:"icon-only","onClicked:btn":h[0]||(h[0]=de=>A()),name:"Save"},null,8,["icon"])])]),_:1})):p("",!0),g.value?(l(),I(a,{key:2,style:{"margin-top":"10px"}},{default:s(()=>[e(Se,{fill:"clear",icon:w.value.plus,iconSlot:"icon-only","onClicked:btn":h[1]||(h[1]=de=>P()),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):p("",!0),e(a,null,{default:s(()=>[e(X,{ref_key:"accordionGroup",ref:U,class:"previousView"},{default:s(()=>[e(G,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:s(()=>[e(t(te),{slot:"header",color:"light"},{default:s(()=>[e(k,{class:"previousLabel"},{default:s(()=>[...h[2]||(h[2]=[$("Previous presenting complaints",-1)])]),_:1})]),_:1}),o("div",Za,[e(Ta)])]),_:1})]),_:1},512)]),_:1})],64)}}}),tn=pe(en,[["__scopeId","data-v-54b645c5"]]),an={class:"visit-section"},nn={class:"section-header"},sn={key:0,class:"no-data"},on={key:1,class:"allergy-accordion"},ln=["onClick"],rn={class:"acc-left"},un={class:"acc-title"},cn={class:"acc-count"},dn={key:0,class:"accordion-body"},mn={class:"item-label"},pn={class:"item-value"},vn=ae({__name:"AllergiesListing",setup(i){const r=qe(),{patient:u}=Ae(r),v=n({}),w={antiviral:/abacavir|lamivudine|lopinavir|ritonavir|zidovudine|efavirenz|tenofovir/i,antibiotic:/penicillin|amoxicillin|cephalexin|azithromycin|ciprofloxacin|doxycycline/i,analgesic:/aspirin|ibuprofen|acetaminophen|morphine|codeine|tramadol/i,cardiac:/metoprolol|lisinopril|amlodipine|atorvastatin|warfarin/i,activated:/activated\s+charcoal/i},V={985:{name:"Other",icon:xe,severity:"danger"},7759:{name:"Location/Environmental",icon:yt,severity:"info"},7579:{name:"Medical Condition",icon:aa,severity:"warning"},drug:{name:"Drug Allergy",icon:xe,severity:"danger"},food:{name:"Food Allergy",icon:ta,severity:"danger"},environmental:{name:"Environmental",icon:ea,severity:"warning"},contact:{name:"Contact Allergy",icon:Zt,severity:"warning"},unknown:{name:"Drug Allergy",icon:xe,severity:"danger"}},H=m=>{const f=m.toLowerCase();return w.antiviral.test(f)?{type:"Antiviral Medication",icon:"shield-outline"}:w.antibiotic.test(f)?{type:"Antibiotic",icon:"bandage-outline"}:w.analgesic.test(f)?{type:"Pain Medication",icon:"fitness-outline"}:w.cardiac.test(f)?{type:"Cardiac Medication",icon:"heart-outline"}:w.activated.test(f)?{type:"Detoxification Agent",icon:"flask-outline"}:{type:"Medication",icon:"medical-outline"}},N=K(()=>{var f,L,P,A,M,q;return[...(P=(L=(f=u.value)==null?void 0:f.allergies)==null?void 0:L.saved)!=null?P:[],...(q=(M=(A=u.value)==null?void 0:A.allergies)==null?void 0:M.unsaved)!=null?q:[]].length>0}),g=K(()=>{var P,A,M,q,F,z;const m=(M=(A=(P=u.value)==null?void 0:P.allergies)==null?void 0:A.saved)!=null?M:[],f=(z=(F=(q=u.value)==null?void 0:q.allergies)==null?void 0:F.unsaved)!=null?z:[],L=[...m,...f];return L.length===0?[]:L.map(T=>{var X;const C=((X=T.concept_id)==null?void 0:X.toString())||"unknown",h=V[C]||V.unknown;let a="Unknown",k=null;return T.value_text&&T.value_text!=="Unknown"&&T.value_text!==""?(a=T.value_text,(C==="985"||C==="985###")&&(k=H(T.value_text))):T.concept_name&&(a=T.concept_name),{...k?{...h,name:k.type,icon:k.icon}:h,displayValue:a,conceptId:T.concept_id,date:T.obs_datetime||T.encounter_datetime,providerId:T.provider_id,locationId:T.location_id,encounterId:T.encounter_id,isDrug:C==="985",raw:T}})}),O=K(()=>{const m={};g.value.forEach(P=>{const A=P.date?x(P.date):"Unknown Date";m[A]||(m[A]=[]),m[A].push(P)});const f={};return Object.keys(m).sort((P,A)=>P==="Unknown Date"?1:A==="Unknown Date"?-1:new Date(A).getTime()-new Date(P).getTime()).forEach(P=>{f[P]=m[P]}),f}),c=m=>{v.value[m]=!v.value[m]},x=m=>{if(!m)return"Unknown Date";try{return new Date(m).toISOString().split("T")[0]}catch(f){return"Unknown Date"}},U=m=>{if(m==="Unknown Date")return"Unknown Date";try{const f=new Date(m),L=Ue.sessionDate(),P=new Date(L),A=new Date(P);A.setDate(A.getDate()-1);const M=f.toDateString(),q=P.toDateString(),F=A.toDateString();return M===q?"Today":M===F?"Yesterday":f.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(f){return m}};return me(()=>O.value,m=>{const f=Object.keys(m);f.length>0&&(v.value[f[0]]=!0)},{immediate:!0}),me(()=>{var m;return(m=u.value)==null?void 0:m.allergies},m=>{console.log("Allergies updated:",m)},{deep:!0}),De(()=>{var m;console.log("Allergies component mounted",(m=u.value)==null?void 0:m.allergies)}),(m,f)=>{const L=ue("ion-icon");return l(),D("div",an,[o("div",nn,[e(L,{icon:t(bt),class:"section-icon"},null,8,["icon"]),f[0]||(f[0]=o("h3",null,"Allergies",-1))]),N.value?(l(),D("div",on,[(l(!0),D(Q,null,ce(O.value,(P,A)=>(l(),D("div",{key:A,class:"accordion-section"},[o("div",{class:ot(["accordion-header",{open:v.value[A]}]),onClick:M=>c(A)},[o("div",rn,[e(L,{icon:t(sa),class:"acc-icon"},null,8,["icon"]),o("span",un,S(U(A)),1),o("span",cn,"("+S(P.length)+")",1)]),e(L,{icon:t(oa),class:ot(["chevron",{rotate:v.value[A]}])},null,8,["icon","class"])],10,ln),v.value[A]?(l(),D("div",dn,[(l(!0),D(Q,null,ce(P,(M,q)=>(l(),D("div",{class:"allergy-item",key:q},[o("span",mn,S(M.name)+":",1),o("span",pn,S(M.displayValue),1)]))),128))])):p("",!0)]))),128))])):(l(),D("div",sn,[e(L,{icon:t(na),class:"no-data-icon"},null,8,["icon"]),f[1]||(f[1]=o("p",null,"No known allergies",-1))]))])}}}),Et=pe(vn,[["__scopeId","data-v-fa3ff98b"]]),fn=ae({name:"VisitHistory",components:{AllergiesListing:Et,IonIcon:Fe},setup(){const i=Ct();return{selectedAllergiesList2:K(()=>i.selectedMedicalAllergiesList),alertCircleOutline:bt,documentTextOutline:ua,femaleOutline:ra,medicalOutline:xe,warningOutline:ia,bodyOutline:lt,eyeOutline:ft,nutritionOutline:vt,fitnessOutline:ct,pulseOutline:rt,earOutline:pt,happyOutline:mt,manOutline:dt,moveOutline:ut,addOutline:Le,scanOutline:it}},data(){return{presentingComplaintsWithDuration:[],pastMedicalHistory:[],levelOfConsciousness:{eyeResponse:null,verbalResponse:null,motorResponse:null},pregnancy:{patientPregnant:null,breastFeeding:null},physicalExamCategories:{Eyes:{icon:ft,abnormalities:[],normal:!1},Mouth:{icon:vt,abnormalities:[],normal:!1},Ears:{icon:pt,abnormalities:[],normal:!1},Face:{icon:mt,abnormalities:[],normal:!1},Neck:{icon:dt,abnormalities:[],normal:!1},Chest:{icon:ct,abnormalities:[],normal:!1},"Chest Movement":{icon:ut,abnormalities:[],normal:!1},"Heart Sounds":{icon:rt,abnormalities:[],normal:!1},"Breath Sounds":{icon:Le,abnormalities:[],normal:!1},"Added Breath Sounds":{icon:Le,abnormalities:[],normal:!1},"Abdominal Inspection":{icon:it,abnormalities:[],normal:!1},"Genital Examination":{icon:lt,abnormalities:[],normal:!1}}}},computed:{...la(qe,["patient"]),hasLevelOfConsciousness(){return this.levelOfConsciousness.eyeResponse||this.levelOfConsciousness.verbalResponse||this.levelOfConsciousness.motorResponse},hasPresentingComplaints(){var i;return((i=this.presentingComplaintsWithDuration)==null?void 0:i.length)>0},hasPregnancyData(){return this.pregnancy.patientPregnant||this.pregnancy.breastFeeding},hasPastMedicalHistory(){var i;return((i=this.uniquePastMedicalHistory)==null?void 0:i.length)>0},hasAllergies(){var i,r;return((r=(i=this.selectedAllergiesList2)==null?void 0:i.filter(u=>u.selected))==null?void 0:r.length)>0},hasPhysicalExam(){return Object.values(this.physicalExamCategories).some(i=>i.abnormalities.length>0||i.normal)},uniquePastMedicalHistory(){return[...new Set(this.pastMedicalHistory)]},uniquePresentingComplaints(){return[...new Set(this.presentingComplaintsWithDuration.map(i=>i.name))]},isMinor(){var i,r;return Ue.getAgeInYears((r=(i=this.patient)==null?void 0:i.personInformation)==null?void 0:r.birthdate)<18},gcsScore(){var N,g,O;if(!this.hasLevelOfConsciousness)return null;const i=this.levelOfConsciousness.eyeResponse,r=this.levelOfConsciousness.motorResponse,u=this.levelOfConsciousness.verbalResponse,v=i&&(N=(this.isMinor?xa:Aa)[i])!=null?N:0,w=r&&(g=(this.isMinor?Va:Na)[r])!=null?g:0,V=u&&(O=(this.isMinor?$a:Ha)[u])!=null?O:0,H=v+w+V;return"(M ".concat(w," V ").concat(V," E ").concat(v,") ").concat(H,"/").concat(this.isMinor?5:15)}},methods:{async updateData(){var i;(i=this.patient)!=null&&i.patientID&&(await this.loadPresentingComplaints(),await this.loadPastMedicalHistory(),await this.loadLevelOfConsciousness(),await this.loadPregnancyStatus(),await this.loadPhysicalExam())},async loadPresentingComplaints(){try{const i=await re.getObsByEncounterIdAndDate(J.PRESENTING_COMPLAINTS);this.presentingComplaintsWithDuration=[];const r=i.filter(u=>u.concept_name==="Presenting complaint");for(const u of r){const v=i.find(V=>V.concept_id===u.value_coded&&V.concept_name!=="Presenting complaint"),w=await _e.getConceptName(u.value_coded);this.presentingComplaintsWithDuration.push({name:w,duration:(v==null?void 0:v.value_text)||"Duration not specified"})}}catch(i){console.error("Error loading presenting complaints:",i)}},async loadPastMedicalHistory(){try{const r=(await re.getObsByEncounterIdAndDate(J.PAST_MEDICAL_HISTORY)).filter(u=>u.concept_name==="Chronic disease");this.pastMedicalHistory=await Promise.all(r.map(async u=>await _e.getConceptName(u.value_coded)))}catch(i){console.error("Error loading past medical history:",i)}},async loadLevelOfConsciousness(){try{const i=await re.getObsByEncounterIdAndDate(J.ASSESSMENT);if(i&&Array.isArray(i)){const r=i.find(w=>w.concept_name==="Eye opening response");this.levelOfConsciousness.eyeResponse=r!=null&&r.value_coded?await _e.getConceptName(r.value_coded):null;const u=i.find(w=>w.concept_name==="Best verbal response");this.levelOfConsciousness.verbalResponse=u!=null&&u.value_coded?await _e.getConceptName(u.value_coded):null;const v=i.find(w=>w.concept_name==="Best motor response");this.levelOfConsciousness.motorResponse=v!=null&&v.value_coded?await _e.getConceptName(v.value_coded):null}}catch(i){console.error("Error loading level of consciousness:",i)}},async loadPregnancyStatus(){try{const i=await re.getObsByEncounterIdAndDate(J.PREGNANCY_STATUS);if(i&&Array.isArray(i)){const r=i.find(v=>v.concept_name==="Patient pregnant");this.pregnancy.patientPregnant=r!=null&&r.value_coded?await _e.getConceptName(r.value_coded):null;const u=i.find(v=>v.concept_name==="Is patient breast feeding?");this.pregnancy.breastFeeding=u!=null&&u.value_coded?await _e.getConceptName(u.value_coded):null}}catch(i){console.error("Error loading pregnancy status:",i)}},async loadPhysicalExam(){try{const i=await re.getObsByEncounterIdAndDate(J.PHYSICAL_EXAMINATION);Object.values(this.physicalExamCategories).forEach(r=>{r.abnormalities=[],r.normal=!1});for(const r of i)if(r.concept_id){if(r.value_coded===1065)switch(r.concept_id){case 10837:this.physicalExamCategories.Eyes.normal=!0;break;case 10842:this.physicalExamCategories.Mouth.normal=!0;break;case 11028:this.physicalExamCategories.Ears.normal=!0;break;case 10854:this.physicalExamCategories.Face.normal=!0;break;case 10858:this.physicalExamCategories.Neck.normal=!0;break;case 10894:this.physicalExamCategories.Chest.normal=!0;break;case 10903:this.physicalExamCategories["Heart Sounds"].normal=!0;break;case 10909:this.physicalExamCategories["Breath Sounds"].normal=!0;break;case 10919:case 10928:case 10939:this.physicalExamCategories["Abdominal Inspection"].normal=!0;break;case 10803:case 10946:this.physicalExamCategories["Genital Examination"].normal=!0;break}if(r.value_coded){const u=await _e.getConceptName(r.value_coded);switch(r.concept_id){case 10838:this.physicalExamCategories.Eyes.abnormalities.push(u);break;case 10843:this.physicalExamCategories.Mouth.abnormalities.push(u);break;case 10852:this.physicalExamCategories.Ears.abnormalities.push(u);break;case 10855:this.physicalExamCategories.Face.abnormalities.push(u);break;case 10859:this.physicalExamCategories.Neck.abnormalities.push(u);break;case 10897:this.physicalExamCategories.Chest.abnormalities.push(u);break;case 10904:this.physicalExamCategories["Heart Sounds"].abnormalities.push(u);break;case 10910:this.physicalExamCategories["Breath Sounds"].abnormalities.push(u);break;case 10920:case 10929:case 10939:this.physicalExamCategories["Abdominal Inspection"].abnormalities.push(u);break;case 10797:case 10804:case 10947:this.physicalExamCategories["Genital Examination"].abnormalities.push(u);break}}}}catch(i){console.error("Error loading physical exam:",i)}}},watch:{patient:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()}}),_n={class:"visit-container"},hn={class:"visit-sections"},gn={key:0,class:"visit-section"},yn={class:"section-header"},bn={class:"section-content"},Dn={key:0,class:"info-item"},wn={class:"info-value"},kn={key:1,class:"info-item"},Cn={class:"info-value"},Sn={key:2,class:"info-item"},In={class:"info-value"},Pn={key:3,class:"info-item"},En={class:"info-value highlight"},On={key:1,class:"visit-section"},xn={class:"section-header"},An={class:"complaints-container"},Vn={class:"complaint-name"},Nn={class:"complaint-duration"},$n={key:2,class:"visit-section"},Hn={class:"section-header"},Mn={class:"section-content"},Tn={key:0,class:"info-item"},Rn={class:"info-value highlight"},Fn={key:1,class:"info-item"},Ln={class:"info-value highlight"},Un={key:3,class:"visit-section"},Bn={class:"section-header"},qn={class:"tags-container"},Gn={class:"allergies-section"},Wn={class:"allergies-container"},zn={key:4,class:"visit-section"},jn={class:"section-header"},Yn={class:"exam-section"},Kn={key:0,class:"exam-category"},Jn={class:"exam-category-header"},Xn={class:"exam-items"},Qn={key:1,class:"exam-item normal"};function Zn(i,r,u,v,w,V){const H=ue("ion-icon"),N=ue("AllergiesListing");return l(),D("div",_n,[r[11]||(r[11]=o("div",{class:"visit-header"},[o("h5",null,"Patient's Clinical Assessment Summary")],-1)),o("div",hn,[i.hasLevelOfConsciousness?(l(),D("div",gn,[o("div",yn,[e(H,{icon:i.alertCircleOutline,class:"section-icon"},null,8,["icon"]),r[0]||(r[0]=o("h3",null,"Level of Consciousness",-1))]),o("div",bn,[i.levelOfConsciousness.eyeResponse?(l(),D("div",Dn,[r[1]||(r[1]=o("span",{class:"info-label"},"Eye Response:",-1)),o("span",wn,S(i.levelOfConsciousness.eyeResponse),1)])):p("",!0),i.levelOfConsciousness.verbalResponse?(l(),D("div",kn,[r[2]||(r[2]=o("span",{class:"info-label"},"Verbal Response:",-1)),o("span",Cn,S(i.levelOfConsciousness.verbalResponse),1)])):p("",!0),i.levelOfConsciousness.motorResponse?(l(),D("div",Sn,[r[3]||(r[3]=o("span",{class:"info-label"},"Motor Response:",-1)),o("span",In,S(i.levelOfConsciousness.motorResponse),1)])):p("",!0),i.gcsScore?(l(),D("div",Pn,[r[4]||(r[4]=o("span",{class:"info-label"},"Score:",-1)),o("span",En,S(i.gcsScore),1)])):p("",!0)])])):p("",!0),i.hasPresentingComplaints?(l(),D("div",On,[o("div",xn,[e(H,{icon:i.documentTextOutline,class:"section-icon"},null,8,["icon"]),r[5]||(r[5]=o("h3",null,"Presenting Complaints",-1))]),o("div",An,[(l(!0),D(Q,null,ce(i.presentingComplaintsWithDuration,(g,O)=>(l(),D("div",{class:"complaint-item",key:O},[o("div",Vn,S(g.name),1),o("div",Nn,S(g.duration),1)]))),128))])])):p("",!0),i.hasPregnancyData?(l(),D("div",$n,[o("div",Hn,[e(H,{icon:i.femaleOutline,class:"section-icon"},null,8,["icon"]),r[6]||(r[6]=o("h3",null,"Pregnancy Status",-1))]),o("div",Mn,[i.pregnancy.patientPregnant?(l(),D("div",Tn,[r[7]||(r[7]=o("span",{class:"info-label"},"Pregnant:",-1)),o("span",Rn,S(i.pregnancy.patientPregnant),1)])):p("",!0),i.pregnancy.breastFeeding?(l(),D("div",Fn,[r[8]||(r[8]=o("span",{class:"info-label"},"Breastfeeding:",-1)),o("span",Ln,S(i.pregnancy.breastFeeding),1)])):p("",!0)])])):p("",!0),i.hasPastMedicalHistory?(l(),D("div",Un,[o("div",Bn,[e(H,{icon:i.medicalOutline,class:"section-icon"},null,8,["icon"]),r[9]||(r[9]=o("h3",null,"Medical History",-1))]),o("div",qn,[(l(!0),D(Q,null,ce(i.uniquePastMedicalHistory,(g,O)=>(l(),D("div",{class:"medical-tag",key:O},S(g),1))),128))])])):p("",!0),o("div",Gn,[o("div",Wn,[e(N)])]),i.hasPhysicalExam?(l(),D("div",zn,[o("div",jn,[e(H,{icon:i.bodyOutline,class:"section-icon"},null,8,["icon"]),r[10]||(r[10]=o("h3",null,"Physical Examination",-1))]),o("div",Yn,[(l(!0),D(Q,null,ce(i.physicalExamCategories,(g,O)=>(l(),D(Q,{key:O},[g.abnormalities.length>0||g.normal?(l(),D("div",Kn,[o("div",Jn,[e(H,{icon:g.icon},null,8,["icon"]),o("h4",null,S(O),1)]),o("div",Xn,[g.abnormalities.length>0?(l(!0),D(Q,{key:0},ce(g.abnormalities,(c,x)=>(l(),D("div",{class:"exam-item abnormal",key:x},S(c),1))),128)):g.normal?(l(),D("div",Qn," Normal examination ")):p("",!0)])])):p("",!0)],64))),128))])])):p("",!0)])])}const es=pe(fn,[["render",Zn],["__scopeId","data-v-795e1865"]]),ts={class:"modal_wrapper"},as=ae({__name:"PregnancyBreastfeeding",setup(i,{expose:r}){const u=ba(),{pregnancy:v}=Ae(u),w=()=>{};return r({onSubmit:async()=>{const H=await Ze(v.value);H.length>0?(await re.addObsToEncounterPatient(H,J.PREGNANCY_STATUS),Be("Pregnancy status saved successfully")):be("No pregnancy status data to save ")}}),(H,N)=>(l(),D("div",ts,[e(Qe,{contentData:t(v),"onUpdate:inputValue":w},null,8,["contentData"])]))}}),ns={class:"modal_wrapper"},ss={class:"uniform_columns"},os=ae({__name:"PastMedicalHistory",setup(i,{expose:r}){const u=Da(),{pastMedicalHistory:v}=Ae(u),w=n([]);De(()=>{w.value=u.getInitial(),V()}),me(v,()=>{V()},{deep:!0});const V=()=>{var c;const O=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];(c=wa(v.value,"None"))!=null&&c.checked?O.forEach(x=>{ge(v.value,"TB treatment","displayNone",!0),ke(v.value,"TB drugs","displayNone",!0),ke(v.value,"TB drug start date","displayNone",!0),ge(v.value,"Hypertension medication","displayNone",!0),ke(v.value,"Current hypertension treatment regimen","displayNone",!0),ge(v.value,"HIV status","displayNone",!0),ke(v.value,"ARV start date","displayNone",!0),ge(v.value,"Diabetes","displayNone",!0),ge(v.value,"Controlled by","displayNone",!0),ye(v.value,x,"checked",!1),ye(v.value,x,"disabled",!0)}):O.forEach(x=>{ye(v.value,x,"disabled",!1)})},H=O=>{ke(v.value,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine 'O' (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),ke(v.value,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})},N=async()=>[...await It(v.value),...await Ze(v.value),...await Pt(v.value)];return r({onSubmit:async()=>{const O=await N();if(O.length===0){be("No past medical history data to save");return}await re.addObsToEncounterPatient(O,J.PAST_MEDICAL_HISTORY),Be("Past medical history saved successful")}}),(O,c)=>(l(),D("div",ns,[o("div",ss,[e(Qe,{contentData:t(v),initialData:w.value,"onUpdate:inputValue":H,"onUpdate:selected":H},null,8,["contentData","initialData"])])]))}}),ls=pe(os,[["__scopeId","data-v-49fdce72"]]),is={class:"container"},rs=ae({__name:"PhysicalExamination",setup(i,{expose:r}){const u=ka(),v=qe(),{physicalExam:w}=Ae(u),{patient:V}=Ae(v),H=n([]);De(()=>{H.value=u.getInitial(),N(),g()}),me(w,()=>{N(),g()},{deep:!0});const N=()=>{Ca(w.value,"Physical examination")=="No"?ge(w.value,"Reason why physical examination not done","displayNone",!1):(ge(w.value,"Reason why physical examination not done","displayNone",!0),ge(w.value,"Reason why physical examination not done","selectedValue",""))},g=()=>{var U,m;const x=(m=(U=V.value)==null?void 0:U.personInformation)==null?void 0:m.gender;x=="M"&&(ye(w.value,"Vulva examination","disabled",!0),ye(w.value,"Visible bleeding","disabled",!0)),x=="F"&&(ye(w.value,"Urethral meatus abnormal","disabled",!0),ye(w.value,"Scrotal swelling","disabled",!0),ye(w.value,"Tastes swelling","disabled",!0))},O=async()=>[...await It(w.value),...await Ze(w.value),...await Pt(w.value)];return r({onSubmit:async()=>{const x=await O();if(console.log("Selected physical data is",x),x.length===0){be("No physical examination data to save");return}await re.addObsToEncounterPatient(x,J.PHYSICAL_EXAMINATION),Be("Physical examination saved successful")}}),(x,U)=>{const m=ue("ion-card-content"),f=ue("ion-card");return l(),D("div",is,[e(f,{class:"section"},{default:s(()=>[e(m,null,{default:s(()=>[e(Qe,{contentData:t(w),initialData:H.value},null,8,["contentData","initialData"])]),_:1})]),_:1})])}}}),us=pe(rs,[["__scopeId","data-v-f45150df"]]),cs={key:0},ds={class:"ion-padding",slot:"content"},ms={class:"nav-buttons"},ps={class:"ion-padding",slot:"content"},vs={class:"nav-buttons"},fs={class:"ion-padding",slot:"content"},_s={class:"nav-buttons"},hs={class:"ion-padding",slot:"content"},gs={class:"nav-buttons"},ys={class:"ion-padding",slot:"content"},bs={class:"nav-buttons"},Ds={class:"ion-padding",slot:"content"},ws={class:"nav-buttons"},ks=ae({__name:"ClinicalAssessment",setup(i,{expose:r}){const u=n("loc"),v=n(0),w=n(!1),V=n(!1),H=new St,N=qe(),g=()=>{v.value++},O=n(null),c=n(null),x=n(null),U=n(null),m=n(null),f=n(null),L=[{id:"loc",label:"Level of consciousness",show:!0},{id:"pc",label:"Presenting complaints",show:!0},{id:"pbs",label:"Pregnancy and breastfeeding status",show:()=>H.isChildBearing()},{id:"pmh",label:"Past medical history",show:!0},{id:"al",label:"Allergies",show:!0},{id:"pe",label:"Physical examination",show:!0}];async function P(){const h=He.getSessionDate(),a=[J.ASSESSMENT,J.PRESENTING_COMPLAINTS,J.PAST_MEDICAL_HISTORY,J.PHYSICAL_EXAMINATION,J.PREGNANCY_STATUS];let k=!1;for(const G of a)try{const X=await re.getObsByEncounterIdAndDate(G);if(X&&X.some(de=>de.obs_datetime?Ue.toStandardHisFormat(de.obs_datetime)===Ue.toStandardHisFormat(h):!1)){k=!0;break}}catch(X){console.error("Error checking observations for encounter type ".concat(G,":"),X)}w.value=k}De(P),me(()=>N.patient,P);const A=K(()=>w.value),M=K(()=>L.filter(h=>typeof h.show=="function"?h.show():h.show)),q=h=>{const a=L.find(k=>k.id===h);return a?typeof a.show=="function"?a.show():a.show:!1},F=h=>M.value.findIndex(a=>a.id===h),z=h=>{const a=F(h);a>0&&(u.value=M.value[a-1].id)},T=h=>{const k=F(h)+1;k<M.value.length?u.value=M.value[k].id:(u.value="",g())};return r({onSubmit:async()=>{const h=[{ref:O,name:"PresentingComplaints"},{ref:c,name:"LevelOfConsciousness"},{ref:x,name:"PastMedicalHistory"},{ref:m,name:"PregnancyBreastfeeding"},{ref:f,name:"PhysicalExamination"}];for(const a of h)if(a.ref.value&&typeof a.ref.value.onSubmit=="function")try{await a.ref.value.onSubmit()}catch(k){console.error("Error calling ".concat(a.name," onSubmit:"),k)}else console.log("".concat(a.name," component ref not available or no onSubmit method"))}}),(h,a)=>(l(),D(Q,null,[A.value?(l(),D("div",cs,[e(t(te),{lines:"none"},{default:s(()=>[e(t(le),null,{default:s(()=>[...a[14]||(a[14]=[$("Switch between Capture Mode and Summary Mode",-1)])]),_:1}),e(t(ca),{checked:V.value,onIonChange:a[0]||(a[0]=k=>V.value=k.detail.checked),slot:"end"},null,8,["checked"])]),_:1}),V.value?p("",!0):(l(),I(es,{key:v.value}))])):p("",!0),!A.value||V.value?(l(),I(t(ie),{key:1,style:{width:"100%"}},{default:s(()=>[e(t(Xe),{value:u.value,"onUpdate:value":a[13]||(a[13]=k=>u.value=k),ref:"accordionGroup",class:"previousView"},{default:s(()=>[q("loc")?(l(),I(t(he),{key:0,value:"loc",class:"_card"},{default:s(()=>[e(t(te),{slot:"header",color:"light"},{default:s(()=>[e(t(le),{class:"previousLabel"},{default:s(()=>[...a[15]||(a[15]=[$("Level of consciousness",-1)])]),_:1})]),_:1}),o("div",ds,[e(Ma,{"is-active":u.value==="loc",ref_key:"levelOfConsciousnessFormRef",ref:c,onDataSaved:g},null,8,["is-active"]),o("div",ms,[F("loc")>0?(l(),I(t(se),{key:0,fill:"outline",onClick:a[1]||(a[1]=oe(k=>z("loc"),["stop"]))},{default:s(()=>[...a[16]||(a[16]=[$(" Back ",-1)])]),_:1})):p("",!0),e(t(se),{fill:"outline",onClick:a[2]||(a[2]=oe(k=>T("loc"),["stop"]))},{default:s(()=>[$(S(F("loc")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):p("",!0),q("pc")?(l(),I(t(he),{key:1,value:"pc",class:"_card"},{default:s(()=>[e(t(te),{slot:"header",color:"light"},{default:s(()=>[e(t(le),{class:"previousLabel"},{default:s(()=>[...a[17]||(a[17]=[$("Presenting complaints",-1)])]),_:1})]),_:1}),o("div",ps,[e(tn,{"is-active":u.value==="pc",onDataSaved:g,ref_key:"presentingComplaintsFormRef",ref:O},null,8,["is-active"]),o("div",vs,[F("pc")>0?(l(),I(t(se),{key:0,fill:"outline",onClick:a[3]||(a[3]=oe(k=>z("pc"),["stop"]))},{default:s(()=>[...a[18]||(a[18]=[$(" Back ",-1)])]),_:1})):p("",!0),e(t(se),{fill:"outline",onClick:a[4]||(a[4]=oe(k=>T("pc"),["stop"]))},{default:s(()=>[$(S(F("pc")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):p("",!0),q("pbs")?(l(),I(t(he),{key:2,value:"pbs",class:"_card"},{default:s(()=>[e(t(te),{slot:"header",color:"light"},{default:s(()=>[e(t(le),{class:"previousLabel"},{default:s(()=>[...a[19]||(a[19]=[$("Pregnancy and breastfeeding status",-1)])]),_:1})]),_:1}),o("div",fs,[e(as,{"is-active":u.value==="pbs",ref_key:"pregnancyBreastfeedingFormRef",ref:m,onDataSaved:g},null,8,["is-active"]),o("div",_s,[F("pbs")>0?(l(),I(t(se),{key:0,fill:"outline",onClick:a[5]||(a[5]=oe(k=>z("pbs"),["stop"]))},{default:s(()=>[...a[20]||(a[20]=[$(" Back ",-1)])]),_:1})):p("",!0),e(t(se),{fill:"outline",onClick:a[6]||(a[6]=oe(k=>T("pbs"),["stop"]))},{default:s(()=>[$(S(F("pbs")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):p("",!0),q("pmh")?(l(),I(t(he),{key:3,value:"pmh",class:"_card"},{default:s(()=>[e(t(te),{slot:"header",color:"light"},{default:s(()=>[e(t(le),{class:"previousLabel"},{default:s(()=>[...a[21]||(a[21]=[$("Past medical history",-1)])]),_:1})]),_:1}),o("div",hs,[e(ls,{"is-active":u.value==="pmh",ref_key:"pastMedicalHistoryFormRef",ref:x,onDataSaved:g},null,8,["is-active"]),o("div",gs,[F("pmh")>0?(l(),I(t(se),{key:0,fill:"outline",onClick:a[7]||(a[7]=oe(k=>z("pmh"),["stop"]))},{default:s(()=>[...a[22]||(a[22]=[$(" Back ",-1)])]),_:1})):p("",!0),e(t(se),{fill:"outline",onClick:a[8]||(a[8]=oe(k=>T("pmh"),["stop"]))},{default:s(()=>[$(S(F("pmh")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):p("",!0),q("al")?(l(),I(t(he),{key:4,value:"al",class:"_card"},{default:s(()=>[e(t(te),{slot:"header",color:"light"},{default:s(()=>[e(t(le),{class:"previousLabel"},{default:s(()=>[...a[23]||(a[23]=[$("Allergies",-1)])]),_:1})]),_:1}),o("div",ys,[e(La,{"is-active":u.value==="al",ref_key:"allergiesFormRef",ref:U,onDataSaved:g},null,8,["is-active"]),o("div",bs,[F("al")>0?(l(),I(t(se),{key:0,fill:"outline",onClick:a[9]||(a[9]=oe(k=>z("al"),["stop"]))},{default:s(()=>[...a[24]||(a[24]=[$(" Back ",-1)])]),_:1})):p("",!0),e(t(se),{fill:"outline",onClick:a[10]||(a[10]=oe(k=>T("al"),["stop"]))},{default:s(()=>[$(S(F("al")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):p("",!0),q("pe")?(l(),I(t(he),{key:5,value:"pe",class:"_card"},{default:s(()=>[e(t(te),{slot:"header",color:"light"},{default:s(()=>[e(t(le),{class:"previousLabel"},{default:s(()=>[...a[25]||(a[25]=[$("Physical examination",-1)])]),_:1})]),_:1}),o("div",Ds,[e(us,{"is-active":u.value==="pe",ref_key:"physicalExaminationFormRef",ref:f,onDataSaved:g},null,8,["is-active"]),o("div",ws,[F("pe")>0?(l(),I(t(se),{key:0,fill:"outline",onClick:a[11]||(a[11]=oe(k=>z("pe"),["stop"]))},{default:s(()=>[...a[26]||(a[26]=[$(" Back ",-1)])]),_:1})):p("",!0),e(t(se),{fill:"outline",onClick:a[12]||(a[12]=oe(k=>T("pe"),["stop"]))},{default:s(()=>[$(S(F("pe")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):p("",!0)]),_:1},8,["value"])]),_:1})):p("",!0)],64))}}),yo=pe(ks,[["__scopeId","data-v-cb8d8ed7"]]),Cs={class:"allergies-section"},Ss={class:"allergies-container"},Is={class:"medication-section"},Ps={class:"medication-content"},Es={key:0,class:"add-medication-form"},Os={class:"form-group"},xs={class:"option-label"},As={key:0,class:"error-message"},Vs={class:"form-row"},Ns={class:"form-group"},$s={key:0,class:"error-message"},Hs={class:"form-group"},Ms={key:0,class:"error-message"},Ts={class:"form-group"},Rs={key:0,class:"error-message"},Fs={class:"action-buttons"},Ls={class:"notes-section"},Us={class:"notes-content"},Bs={class:"notes-input-container"},qs={class:"ion-padding",slot:"content"},Gs={class:"notes-timeline"},Ws={class:"note-date"},zs={class:"note-content"},js={class:"ion-padding",slot:"content"},Ys={class:"note-date"},Ks={class:"note-content"},Js=ae({watch:{},name:"xxxComponent"}),Xs=ae({...Js,setup(i){const r=Ne,u=qa,v=n(!1),w=n(!1),V=n(!0),H=n(0),N=n(""),g=n(!1),O=n(),c=n(!1),x=n(""),U=n(""),m=n(""),f=n(""),L=n(""),P=n(""),A="Add new medication",M=Oe(),q=Ct(),F=K(()=>q.selectedMedicalAllergiesList),z=K(()=>M.selectedMedicalDrugsList),T=K(()=>M.partialOPDdrugList),C=K(()=>M.nonPharmalogicalTherapyAndOtherNotes),h=["first","second","third"],a=n(),k=n(),G=n(),X=n(!1),de=n(!1),Ie=n("Show more notes"),Me=n(),Ge=n(),ve=n(),Pe=K(()=>M.editingDrugItem),Te=n("Select a route"),y=n(!1),E=n("Select frequency"),R=n(!1),ne=n("Select drug"),We=n(!1),Z=n(),ee=n(),fe=n(),Ve=n([]),Ot=n([{concept_id:11797,name:"Buccal",concept_name_id:null,id:1769},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:6284},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:6285},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:6286},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:6295},{concept_id:3327,name:"Oral",concept_name_id:null,id:8686},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:8920},{concept_id:11792,name:"Rectally",concept_name_id:null,id:10785},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:12342},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:12344},{concept_id:11792,name:"Rectally",concept_name_id:null,id:14078},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:14079},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:14080},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:14081},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:14082},{concept_id:11797,name:"Buccal",concept_name_id:null,id:14083},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:14084},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:14085},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:14086}]),xt=K(()=>Ve.value.length?Ve.value:Ot.value);function At(_){Z.value=_}async function Vt(){return await Ga()}async function Nt(_=5,d=1e3){let b=0;for(;b<_&&(Ve.value=await Vt(),!(Ve.value.length>0));)b++,await new Promise(B=>setTimeout(B,d));Ve.value.length===0&&console.warn("Failed to fetch route list after maximum retries.")}De(async()=>{const _=new Wa,{previousDrugPrescriptions:d,previousClinicalNotes:b,previousDrugAllergies:B}=await _.getPatientEncounters();a.value=d,k.value=Object.entries(b)[0];const[,...W]=Object.entries(b);G.value=W,Me.value=Object.entries(B)[0];const[,...Y]=Object.entries(B);Ge.value=Y,await Nt()}),me(()=>U.value,async _=>{Rt()}),me(()=>m.value,async _=>{et()});function $t(){if(Ce.isEmpty(Z.value)==!0)return y.value=!0,!1;if(Ce.isEmpty(Z.value)==!1)return y.value=!1,!0}function Ht(){if(Ce.isEmpty(ee.value)==!0)return R.value=!0,!1;if(Ce.isEmpty(ee.value)==!1)return R.value=!1,!0}function Mt(){if(Ce.isEmpty(fe.value)==!0)return We.value=!0,!1;if(Ce.isEmpty(fe.value)==!1)return We.value=!1,!0}function Tt(){V.value=!V.value,v.value=!0,g.value=!1,c.value=!1}async function Rt(){return nt(U.value)?g.value=!1:(N.value="please enter a number",g.value=!0),g.value}async function et(){return nt(m.value)?c.value=!1:(O.value="please enter a number",c.value=!0),c.value}async function tt(){const _=await et(),d=Ht(),b=Mt(),B=$t();return!_&&d==!0&&b==!0&&B==!0}function Ft(_){ee.value=_}async function at(){try{const _=()=>ve.value.dose_strength!=null&&ve.value.dose_strength?Math.trunc(ve.value.dose_strength):1;if(Pe.value!==null){if(!await tt()){be("Please enter correct data values",4e3);return}const b=He.getSessionDate(),B=st(b,parseInt(m.value));let W=!1;ze(ve.value)==!0&&(W=!0);const Y={drugName:x.value,dose:_(),frequency:ee.value.label,frequency_code:ee.value.code,duration:m.value,prescription:B,drug_id:P.value,units:L.value,route_concept_id:Z.value.concept_id,route_name:Z.value.name,highlightbackground:W},je=Oe();console.log(je.setSelectedMedicalDrugsList([Y])),je.editingDrugItem=null,V.value=!0}else{if(!await tt()){be("Please enter correct data values",4e3);return}Yt();const b=He.getSessionDate(),B=st(b,parseInt(m.value));let W=!1;ze(ve.value)==!0&&(W=!0);const Y={drugName:x.value,dose:_(),frequency:ee.value.label,frequency_code:ee.value.code,duration:m.value,prescription:B,drug_id:P.value,units:L.value,route_concept_id:Z.value.concept_id,route_name:Z.value.name,highlightbackground:W};Oe().setSelectedMedicalDrugsList([Y])}P.value="",x.value="",U.value="",ee.value=null,m.value="",f.value="",H.value++,fe.value=null,Z.value=null}catch(_){console.error("Error saving data:",_)}}async function Lt(_){const d=_,W=await Pa.getOfflineOPDDrugs({name:d,page:1,page_size:10});W.map(Y=>({label:Y.name,value:Y.name,other:Y})),M.setPartialOPDdrugList(W)}function ze(_){const d=[];return F.value.forEach(B=>{B.selected&&d.push(B.concept_id)}),Ut([_],d)==!0?(be("Client is allergic to the selected medication",4e6),!0):!1}function Ut(_,d){try{return _.some(b=>d.includes(b.concept_id))}catch(b){return!1}}function Bt(_){_&&(x.value=_.name,P.value=_.drug_id,L.value=_.units,ve.value=_,ze(_))}function qt(_){const d=z.value[_],b=Oe();b.removeDrugById(d.drug_id),b.editingDrugItem=d,P.value="",x.value="",U.value="",ee.value=null,m.value="",f.value="",fe.value=null,Z.value=null,P.value=d.drug_id,x.value=d.drugName,U.value=d.dose,ee.value={label:d.frequency,code:d.frequency_code},m.value=d.duration,f.value=d.prescription;const B=T.value.find(W=>W.name===d.drugName);B&&(fe.value=B),Z.value={concept_id:d.route_concept_id,name:d.route_name},V.value=!1,H.value++}function Gt(){if(Pe.value!==null){P.value="",x.value="",U.value="",ee.value=null,m.value="",f.value="",fe.value=null,Z.value=null;const _=Oe();_.setSelectedMedicalDrugsList([Pe.value]),_.editingDrugItem=null}V.value=!0,H.value++}function Wt(_){z.value.splice(_,1),H.value++,be("you have removed a drug from list",6e3)}function zt(_){let d=_.target.value;jt(d)}function jt(_){Oe().setNonPharmalogicalTherapyAndOtherNotes(_)}function nt(_){return/^[0-9]+$/.test(_)}function st(_,d){const b=new Date(_);b.setDate(b.getDate()+d);const B=b.getFullYear(),W=String(b.getMonth()+1).padStart(2,"0"),Y=String(b.getDate()).padStart(2,"0");return"".concat(B,"-").concat(W,"-").concat(Y)}function Yt(){v.value=!1,w.value=!0,V.value=!0}function Kt(_){h.filter(b=>b!==_.detail.value);const d=_.detail.value;d!==void 0?d=="third"&&(Ie.value="Show less notes",de.value=!X.value):(Ie.value="Show more notes",de.value=!X.value)}function Jt(_){return _[1]}function Xt(_){(_.key==="Enter"||_.key==="ArrowDown")&&(_.preventDefault(),at())}const Ee=K(()=>[{showAddItemButton:!0,addItemButton:!0,name:Pe.value!==null?"Update":"ADD",fn:at},{showAddItemButton:!0,addItemButton:!0,name:"CANCEL",fn:Qt}]),Qt=async()=>{Sa(Ia,{class:"otherVitalsModal"},!0,{message:"Are you sure you want to cancel?"},{cancel:B=>{},confirm:async B=>{B.detail==!0&&Gt()}})};return(_,d)=>(l(),I(t(kt),null,{default:s(()=>[o("div",Cs,[o("div",Ss,[e(Et)])]),o("div",Is,[e(t(te),{lines:"none",class:"section-header"},{default:s(()=>[e(t(Fe),{icon:t(xe),class:"section-icon"},null,8,["icon"]),e(t(le),{class:"section-title",style:{"margin-top":"12px"}},{default:s(()=>[...d[9]||(d[9]=[$("Medication",-1)])]),_:1})]),_:1}),o("div",Ps,[(l(),I(Ua,{_selectedMedicalDrugsList:z.value,onEditItem:qt,onRemoveItem:Wt,key:H.value,class:"medication-list"},null,8,["_selectedMedicalDrugsList"])),V.value?p("",!0):(l(),D("div",Es,[o("div",Os,[d[10]||(d[10]=o("label",{class:"input-label"},"Medication",-1)),e(t($e),{modelValue:fe.value,"onUpdate:modelValue":[d[0]||(d[0]=b=>fe.value=b),d[1]||(d[1]=b=>Bt(b))],options:T.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select medication",label:"name","track-by":"drug_id",onSearchChange:d[2]||(d[2]=b=>Lt(b))},{option:s(b=>[o("div",xs,S(b.option.name),1)]),_:1},8,["modelValue","options"]),We.value?(l(),D("div",As,S(ne.value),1)):p("",!0)]),o("div",Vs,[o("div",Ns,[d[11]||(d[11]=o("label",{class:"input-label"},"Route",-1)),e(t($e),{modelValue:Z.value,"onUpdate:modelValue":[d[3]||(d[3]=b=>Z.value=b),d[4]||(d[4]=b=>At(b))],options:xt.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select route",label:"name","track-by":"concept_id",disabled:!1},null,8,["modelValue","options"]),y.value?(l(),D("div",$s,S(Te.value),1)):p("",!0)]),o("div",Hs,[d[12]||(d[12]=o("label",{class:"input-label"},"Frequency",-1)),e(t($e),{modelValue:ee.value,"onUpdate:modelValue":[d[5]||(d[5]=b=>ee.value=b),d[6]||(d[6]=b=>Ft(b))],options:t(u),searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select frequency",label:"label","track-by":"code"},null,8,["modelValue","options"]),R.value?(l(),D("div",Ms,S(E.value),1)):p("",!0)]),o("div",Ts,[d[13]||(d[13]=o("label",{class:"input-label"},"Duration (days)",-1)),e(t(da),{modelValue:m.value,"onUpdate:modelValue":d[7]||(d[7]=b=>m.value=b),type:"number",inputmode:"numeric",pattern:"[0-9]*",fill:"outline",placeholder:"Enter duration",onKeydown:Xt},null,8,["modelValue"]),c.value?(l(),D("div",Rs,S(O.value),1)):p("",!0)])]),o("div",Fs,[Ee.value[0].addItemButton?(l(),I(Se,{key:0,name:Ee.value[0].name,icon:t(Dt),"onClicked:btn":Ee.value[0].fn,class:"save-button"},null,8,["name","icon","onClicked:btn"])):p("",!0),Ee.value[1].addItemButton?(l(),I(Se,{key:1,name:Ee.value[1].name,icon:t(wt),"onClicked:btn":Ee.value[1].fn,class:"cancel-button"},null,8,["name","icon","onClicked:btn"])):p("",!0)])])),V.value?(l(),I(Se,{key:1,name:A,icon:t(Le),fontWeight:"600","onClicked:btn":Tt,class:"add-new-button"},null,8,["icon"])):p("",!0)])]),o("div",Ls,[e(t(te),{lines:"none",class:"section-header"},{default:s(()=>[e(t(Fe),{icon:t(ma),class:"section-icon"},null,8,["icon"]),e(t(le),{class:"section-title"},{default:s(()=>[...d[14]||(d[14]=[$("Non-pharmacological therapy and other notes",-1)])]),_:1})]),_:1}),o("div",Us,[e(Ba,{class:"intervention-component"}),o("div",Bs,[e(t(te),{class:"notes-input-item"},{default:s(()=>[e(t(Fe),{slot:"start",icon:t(r).editPen,class:"edit-icon","aria-hidden":"true"},null,8,["icon"]),e(t(pa),{modelValue:C.value,"onUpdate:modelValue":d[8]||(d[8]=b=>C.value=b),onIonInput:zt,placeholder:"Enter notes here...","auto-grow":!0,class:"notes-textarea",fill:"outline",style:{"--padding-start":"16px"}},null,8,["modelValue"])]),_:1})]),e(t(Xe),{ref:"accordionGroup",class:"previous-notes"},{default:s(()=>[e(t(he),{value:"fourth","toggle-icon-slot":"start"},{default:s(()=>[e(t(te),{slot:"header",color:"light",class:"previous-notes-header"},{default:s(()=>[e(t(le),null,{default:s(()=>[...d[15]||(d[15]=[$("Previous visit notes",-1)])]),_:1})]),_:1}),o("div",qs,[o("div",Gs,[_.index===1?(l(!0),D(Q,{key:0},ce(k.value,(b,B)=>(l(),D("div",{key:B,class:"note-entry"},[(l(!0),D(Q,null,ce(b,(W,Y)=>(l(),D("div",{key:Y},[o("div",Ws,S(W.date),1),o("div",zs,S(W.notes),1)]))),128))]))),128)):p("",!0),e(t(Xe),{onIonChange:Kt},{default:s(()=>[e(t(he),{value:"third","toggle-icon-slot":"start"},{default:s(()=>[e(t(te),{slot:"header",color:"light",class:"show-more-header"},{default:s(()=>[e(t(le),{color:"primary"},{default:s(()=>[$(S(Ie.value),1)]),_:1})]),_:1}),o("div",js,[(l(!0),D(Q,null,ce(G.value,(b,B)=>(l(),D("div",{key:B,class:"note-entry"},[(l(!0),D(Q,null,ce(Jt(b),(W,Y)=>(l(),D("div",{key:Y},[o("div",Ys,S(W.date),1),o("div",Ks,S(W.notes),1)]))),128))]))),128))])]),_:1})]),_:1})])])]),_:1})]),_:1},512)])])]),_:1}))}}),bo=pe(Xs,[["__scopeId","data-v-0c2a73b2"]]),Qs=ae({name:"xxxComponent"}),Zs=ae({...Qs,emits:["dataSaved"],setup(i,{emit:r}){const u=n(),v=n("gurdian phone number");n(!0),n(!0);const w=n(!0),V=n(),H=n();De(async()=>{Ge()});const N=[{placeHolder:{default:"Enter time of death if known"},property_name:"timeOfDeath",dataHandler:M,dataValue:n(),show_error:n(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time arrived"},property_name:"timeArrived",dataHandler:q,dataValue:n(),show_error:n(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time confirming death"},property_name:"timeOfDeathConfirmation",dataHandler:F,dataValue:n(),show_error:n(!1),error_message:"Time required",skip_validation:!1}],g=[{placeHolder:{default:"Enter date of death"},property_name:"dateOfDeath",dataHandler:z,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date arrived"},property_name:"dateArrived",dataHandler:T,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date confirming death"},property_name:"dateOfDeathConfirmation",dataHandler:C,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1}],O=[{lblTxt:"Was the individual pregnant at the time of death?",value:n(!1),disable_checkbox:n(!0)}],c=[{placeHolder:"Enter place of death",property_name:"placeOfDeath",dataHandler:h,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of guardian",property_name:"nameOfGuardian",dataHandler:a,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of person confirming death",property_name:"nameOfPersonConfirmindDeath",dataHandler:k,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter position of the person confirming death",property_name:"positionOfthePersonConfirmingDeath",dataHandler:G,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter medical council registration number of the person confirming death",property_name:"medicalConcilRegistrationNumberOfThePersonConfirmingDeath",dataHandler:X,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters and numbers are allowed",type:"alphanumeric",skip_validation:!1},{placeHolder:"Other (specify)",property_name:"otherNotes",dataHandler:de,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",dissabled:w.value,type:"text",skip_validation:!0}],x=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:ve},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:L}],U=n([{id:1,name:"Natural",selected:!1},{id:2,name:"Accident",selected:!1},{id:3,name:"Homicide",selected:!1},{id:4,name:"Suicide",selected:!1},{id:5,name:"Pending investigation",selected:!1},{id:6,name:"Could not be determined",selected:!1},{id:7,name:"Other - specify",selected:!1}]),m=n([{id:1,name:"Motor vehicle (passenger)",selected:!1},{id:2,name:"Motor vehicle (pedestrian)",selected:!1},{id:3,name:"Drowning",selected:!1},{id:4,name:"Other - specify",selected:!1}]),f=[{multi_Selection:!1,manner_of_death_Selection_value:n(),show_list_label:!0,unqueId:"qwerty",name_of_list:"Manner of death ",property_name:"mannerOfDeath",placeHolder:"Choose one",items:U.value,listUpdatedFN:Ie,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!1),show_error:n(!1),error_message:"selection required"},{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty1hjkn",name_of_list:"How did it occur?",property_name:"howDiditOccur",placeHolder:"Choose one",items:m.value,listUpdatedFN:Me,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!0),show_error:n(!1),error_message:"selection required"}];function L(){A()}const P=r;function A(y={dataSaved:!0}){P("dataSaved",y)}function M(y){N[0].dataValue.value=y}function q(y){N[1].dataValue.value=y}function F(y){N[2].dataValue.value=y}function z(y){const E={day:y.value.day,month:y.value.month,year:y.value.year,formattedDate:y.value.formattedDate};g[0].dataValue.value=E}function T(y){const E={day:y.value.day,month:y.value.month,year:y.value.year,formattedDate:y.value.formattedDate};g[1].dataValue.value=E,console.log(g[2].dataValue.value)}function C(y){const E={day:y.value.day,month:y.value.month,year:y.value.year,formattedDate:y.value.formattedDate};g[2].dataValue.value=E,console.log(g[2].dataValue.value)}function h(y){const E=y.target.value;c[0].dataValue.value=E}function a(y){const E=y.target.value;c[1].dataValue.value=E}function k(y){const E=y.target.value;c[2].dataValue.value=E}function G(y){const E=y.target.value;c[3].dataValue.value=E}function X(y){const E=y.target.value;c[4].dataValue.value=E}function de(y){const E=y.target.value;c[5].dataValue.value=E}function Ie(y){U.value.forEach(R=>R.selected=!1);const E=U.value.find(R=>R.id==y.id);f[1].disabled.value=y.name!="Accident",E.selected=!0}function Me(y){console.log("listUpdated",y),m.value.forEach(R=>R.selected=!1);const E=m.value.find(R=>R.id==y.id);E.selected=!0}function Ge(){const E=new St().isChildBearing;E==!0&&(O[0].disable_checkbox.value=!1),E==!1&&(O[0].disable_checkbox.value=!0)}function ve(){Ye(c),Ye(g),Ye(N),Pe();const y=Ce.merge(Ke(c),Ke(g),Ke(N),Te(f[0]),Te(f[1]));console.log(y)}function Pe(){const y=U.value.filter(E=>E.selected);if(y.length==0)f[0].show_error.value=!0;else if(f[0].show_error.value=!1,y[0].name=="Accident"){const E=m.value.filter(R=>R.selected);f[1].show_error.value=E.length==0}}function Te(y){const E=[];let R={};return y.items.forEach(ne=>{ne.selected==!0&&E.push({property_name:y.property_name,name:ne.name})}),E.length>0&&(R[E[0].property_name]=E[0].name),R}return(y,E)=>{const R=ue("ion-label");return l(),D(Q,null,[e(t(ie),{class:"checkbox_content md"},{default:s(()=>[e(t(j),null,{default:s(()=>[e(we,{placeholder:c[0].placeHolder,icon:t(yt),inputValue:c[0].dataValue.value,"onUpdate:inputValue":c[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[0].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[0].error_message),1)]),_:1})):p("",!0)])]),_:1}),e(t(j),null,{default:s(()=>[e(gt,{place_holder:g[0].placeHolder,onDateUpDated:g[0].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),o("div",null,[g[0].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(g[0].error_message),1)]),_:1})):p("",!0)])]),_:1})]),_:1}),e(t(ie),null,{default:s(()=>[e(t(j),null,{default:s(()=>[e(Je,{place_holder:N[0].placeHolder,onTimeUpDated:N[0].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),o("div",null,[N[0].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(N[0].error_message),1)]),_:1})):p("",!0)])]),_:1}),e(t(j))]),_:1}),e(t(ie),{class:"checkbox_content md"},{default:s(()=>[e(t(j),null,{default:s(()=>[e(we,{placeholder:c[1].placeHolder,icon:t(_t),inputValue:c[1].dataValue.value,"onUpdate:inputValue":c[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[1].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[1].error_message),1)]),_:1})):p("",!0)])]),_:1}),e(t(j),null,{default:s(()=>[e(t(va),{value:O[0].value,alignment:"start",class:"ion-lblCls",disabled:O[0].disable_checkbox.value},{default:s(()=>[$(S(O[0].lblTxt),1)]),_:1},8,["value","disabled"])]),_:1})]),_:1}),e(t(ie),null,{default:s(()=>[e(t(j),null,{default:s(()=>[e(we,{placeholder:v.value,icon:t(fa),inputValue:u.value},null,8,["placeholder","icon","inputValue"])]),_:1}),e(t(j))]),_:1}),e(t(ie),null,{default:s(()=>[e(t(j),null,{default:s(()=>[e(gt,{place_holder:g[1].placeHolder,onDateUpDated:g[1].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),o("div",null,[g[1].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(g[1].error_message),1)]),_:1})):p("",!0)])]),_:1}),e(t(j),null,{default:s(()=>[e(Je,{place_holder:N[1].placeHolder,onTimeUpDated:N[1].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),o("div",null,[N[1].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(N[1].error_message),1)]),_:1})):p("",!0)])]),_:1})]),_:1}),e(t(ie),null,{default:s(()=>[e(t(j),null,{default:s(()=>[e(t($e),{modelValue:V.value,"onUpdate:modelValue":[E[0]||(E[0]=ne=>V.value=ne),E[1]||(E[1]=ne=>Ie(ne))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Manner of death",placeholder:"Manner of death",selectLabel:"",label:"name",searchable:!0,"track-by":"id",options:U.value},null,8,["modelValue","options"]),o("div",null,[f[0].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(f[0].error_message),1)]),_:1})):p("",!0)])]),_:1}),e(t(j),null,{default:s(()=>[e(t($e),{modelValue:H.value,"onUpdate:modelValue":[E[2]||(E[2]=ne=>H.value=ne),E[3]||(E[3]=ne=>Me(ne))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"How did it occur?",placeholder:"How did it occur?",selectLabel:"",label:"name",disabled:f[1].disabled.value,searchable:!0,"track-by":"id",options:m.value},null,8,["modelValue","disabled","options"]),o("div",null,[f[1].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(f[1].error_message),1)]),_:1})):p("",!0)])]),_:1})]),_:1}),e(t(ie),null,{default:s(()=>[e(t(j),null,{default:s(()=>[e(we,{placeholder:c[5].placeHolder,icon:t(ht),inputValue:c[5].dataValue.value,disabled:w.value,"onUpdate:inputValue":c[5].dataHandler},null,8,["placeholder","icon","inputValue","disabled","onUpdate:inputValue"]),o("div",null,[c[5].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[5].error_message),1)]),_:1})):p("",!0)])]),_:1})]),_:1}),e(t(ie),null,{default:s(()=>[e(t(j),null,{default:s(()=>[e(Je,{place_holder:N[2].placeHolder,onTimeUpDated:N[2].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),o("div",null,[N[2].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(N[2].error_message),1)]),_:1})):p("",!0)])]),_:1}),e(t(j),null,{default:s(()=>[e(we,{placeholder:c[2].placeHolder,icon:t(_t),inputValue:c[2].dataValue.value,"onUpdate:inputValue":c[2].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[2].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[2].error_message),1)]),_:1})):p("",!0)])]),_:1})]),_:1}),e(t(ie),null,{default:s(()=>[e(t(j),null,{default:s(()=>[e(we,{placeholder:c[3].placeHolder,icon:t(xe),inputValue:c[3].dataValue.value,"onUpdate:inputValue":c[3].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[3].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[3].error_message),1)]),_:1})):p("",!0)])]),_:1}),e(t(j),null,{default:s(()=>[e(we,{placeholder:c[4].placeHolder,icon:t(ht),inputValue:c[4].dataValue.value,"onUpdate:inputValue":c[4].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[4].show_error.value?(l(),I(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[4].error_message),1)]),_:1})):p("",!0)])]),_:1})]),_:1}),(l(),I(t(ie),{key:0,class:"spc_btwn"},{default:s(()=>[x[0].addItemButton?(l(),I(Se,{key:0,name:x[0].name,fill:x[0].btnFill,icon:t(Dt),"onClicked:btn":x[0].fn},null,8,["name","fill","icon","onClicked:btn"])):p("",!0),x[1].addItemButton?(l(),I(Se,{key:1,name:x[1].name,fill:x[1].btnFill,icon:t(wt),"onClicked:btn":x[1].fn},null,8,["name","fill","icon","onClicked:btn"])):p("",!0)]),_:1}))],64)}}}),eo=pe(Zs,[["__scopeId","data-v-0aad2f08"]]),to={class:"dash_box"},ao={key:1},no=ae({name:"xxxComponent"}),so=ae({...no,setup(i){const r=n("No outcome created yet"),u=n(!1),v=n("please select a type"),w=n(!0),V=n(""),H=n(!0),N=n(!1),g=Ea(),O=K(()=>g.outcomes),c=n(!1),x=n(!1),U=n(!1),m=n(!1),f=n(!1),L=n(!1),P=n([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1},{name:"Send to Another Clinic",selected:!1}]),A=[{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty2",name_of_list:"Add new outcome",placeHolder:"Choose one",items:P.value,listUpdatedFN:M,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!1)}];function M(a){P.value=a,P.value.forEach(k=>{k.selected==!0&&(V.value=k.name)})}De(async()=>{F()}),me(()=>V.value,async a=>{c.value==!0?c.value=!1:C()}),me(()=>O.value.length,async a=>{F()});function q(){P.value.forEach(a=>{a.selected=!1}),V.value=""}function F(){O.value.length>0?H.value=!1:O.value.length==0&&N.value==!1&&(H.value=!0)}function z(a){O.value.splice(a,1)}const T=a=>{};async function C(a=!0){const k=V.value;console.log(k),V.value=k;const G=V.value;G==P.value[0].name?U.value=!0:U.value=!1,G==P.value[1].name?(m.value=!0,console.log("show_discharged_options is set to true")):m.value=!1,G==P.value[2].name?(f.value=!0,console.log("show_discharged_options is set to true")):f.value=!1,G==P.value[3].name?L.value=!0:L.value=!1}function h(){x.value=!1,U.value=!1,m.value=!1,f.value=!1,q()}return(a,k)=>{const G=ue("ion-row");return l(),I(t(kt),null,{default:s(()=>[e(G,null,{default:s(()=>[e(t(j),null,{default:s(()=>[(l(),I(za,{key:0,"onUpdate:removeItem":z,"onUpdate:editItem":T,displayData:O.value},null,8,["displayData"]))]),_:1})]),_:1}),H.value?(l(),I(G,{key:0},{default:s(()=>[o("span",to,S(r.value),1)]),_:1})):p("",!0),w.value?(l(),D("div",ao,[e(G,null,{default:s(()=>[e(t(j),null,{default:s(()=>[e(Oa,{multiSelection:A[0].multi_Selection,show_label:A[0].show_list_label,uniqueId:A[0].unqueId,name_of_list:A[0].name_of_list,choose_place_holder:A[0].placeHolder,"items_-list":A[0].items,use_internal_filter:A[0].use_internal_filter,disabled:A[0].disabled.value,onItemListUpDated:A[0].listUpdatedFN,onItemListFiltered:A[0].listFilteredFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered"]),o("div",null,[u.value?(l(),I(t(le),{key:0,class:"error-label"},{default:s(()=>[$(S(v.value),1)]),_:1})):p("",!0)])]),_:1})]),_:1})])):p("",!0),U.value?(l(),I(ja,{key:2,onDataSaved:h,selected_ward_prop:"",admitted_other_props:""})):p("",!0),m.value?(l(),I(Ya,{key:3,onDataSaved:h,selected_referral_data:"",selected_other_referral_data:""})):p("",!0),f.value?(l(),I(Ka,{key:4,onDataSaved:h,selected_discharged_prop:"",selected_discharged_data:""})):p("",!0),x.value?(l(),I(eo,{key:5,onDataSaved:h})):p("",!0),L.value?(l(),I(Ja,{key:6,onDataSaved:h})):p("",!0)]),_:1})}}}),Do=pe(so,[["__scopeId","data-v-fc637de7"]]);export{yo as C,Do as O,tn as P,as as _,us as a,bo as b};
