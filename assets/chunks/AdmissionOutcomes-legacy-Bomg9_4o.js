System.register(["./vendor-legacy-IGuUoRYO.js","../index-legacy-CPN3hcLt.js","./NeonatalStepper-legacy-RFF5uKLe.js","./useNeonatalAdmissionOutcomesStore-legacy-DhvotS7O.js","./neonatal_service-legacy-CM27SPDK.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-w_Qe4jnt.js","./SaveProgressModal-legacy-DjNhP-_g.js","./enrollment-legacy-BWFKsMdA.js","./images-legacy-D0tOfoHp.js","./useNeonatalEnrollmentStore-legacy-DhUIuEvW.js","./useSignsSymptomsStore-legacy-Bq19rHu4.js","./useNeonatalVitalsStore-legacy-D_V9FInr.js"],function(e,t){"use strict";var a,o,n,s,l,i,u,r,c,m,d,p,v,g,f,S,y,_,F,D,O,h,b,j,x,I,A,w,N,T,k,P;return{setters:[e=>{a=e.d,o=e.r,n=e.at,s=e.w,l=e.e,i=e.f,u=e.l,r=e.u,c=e.L,m=e.bq,d=e.aF,p=e.bh,v=e.eV,g=e.G,f=e.Q,S=e.H},e=>{y=e.C,_=e._,F=e.T,D=e.u,O=e.t,h=e.H,b=e.G,j=e.x},e=>{x=e.j,I=e.v,A=e.N,w=e.k,N=e.w},e=>{T=e.P,k=e.u},e=>{P=e.N},null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".admission-outcome-wrapper[data-v-e078a6a9]{display:flex;flex-direction:column;margin:0}.safeguard-concerns-wrapper[data-v-d06dc727]{display:flex;flex-direction:column;gap:1rem}.neonatal-admission-outcomes-page[data-v-61c78177]{min-height:100vh}\n/*$vite$:1*/",document.head.appendChild(t);const V={class:"admission-outcome-wrapper"},C=_(a({__name:"AdmissionOutcomeSection",setup(e,{expose:t}){const a=o(null),c=I[0],m=c.formData,d=c.subtitle,p=n(x),v=e=>{p&&(p.admissionOutcome=e.admissionOutcome||"")};return s(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.formValues},e=>{e&&v(e)},{deep:!0}),s(()=>a.value,e=>{null!=e&&e.getFormValues&&v(e.getFormValues())},{immediate:!0}),t({getFormRef:()=>a.value,validateForm:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.validateForm)||void 0===t?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.getFormValues)||void 0===t?void 0:t.call(e))||{}}}),(e,t)=>(i(),l("div",V,[u(y,{formData:r(m),subtitle:r(d),ref_key:"formRef",ref:a,class:"main-form"},null,8,["formData","subtitle"])]))}}),[["__scopeId","data-v-e078a6a9"]]),z={class:"safeguard-concerns-wrapper"},R=_(a({__name:"SafeguardConcernsSection",setup(e,{expose:t}){const a=o(null),n=I[1],s=n.formData,c=n.subtitle;return t({getFormRef:()=>a.value,validateForm:()=>null,getFormValues:()=>({})}),(e,t)=>(i(),l("div",z,[u(y,{formData:r(s),subtitle:r(c),ref_key:"formRef",ref:a,class:"main-form"},null,8,["formData","subtitle"])]))}}),[["__scopeId","data-v-d06dc727"]]),E=a({name:"NeonatalAdmissionOutcomes",components:{IonPage:m,IonContent:c,Toolbar:F,NeonatalStepper:A,AdmissionOutcomeSection:C,SafeguardConcernsSection:R,PrintSummarySection:T},setup(){const e=d(),t=D(),{patient:a}=p(t),n=o(!1),l=k(),i=()=>{var e;const t=(e=>{const t=Number(e);return Number.isFinite(t)?t:null})(null===(e=a.value)||void 0===e?void 0:e.patientID);l.initializeAdmissionOutcomesForm(t)};i(),s(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.patientID},()=>i());const u=l.admissionOutcomesForm;v(x,u),s(()=>l.admissionOutcomesForm,()=>l.saveAdmissionOutcomesSnapshot(),{deep:!0});const r=o("1"),c=[...I,w[1]],m=o(c.map((e,t)=>({title:e.title,number:t+1,checked:!1,class:0===t?"open_step common_step":"common_step",last_step:t===c.length-1?"last_step":""}))),g=[{title:I[0].title,value:"1",component:C,configIndex:0},{title:I[1].title,value:"2",component:R,configIndex:1},{title:w[1].title,value:"3",component:T,configIndex:3,buttonText:"SAVE & PRINT"}],f=g.length-1;return{router:e,patient:a,admissionOutcomesFormData:u,stepperTitle:"Admission Outcomes",currentOpenStepper:r,wizardData:m,stepperData:g,updateStatus:e=>{e&&e.value&&m.value.forEach((t,a)=>{e.value===(a+1).toString()?(t.class="open_step common_step",t.checked=!1):a<parseInt(e.value)-1?(t.class="common_step color_white",t.checked=!0):(t.class="common_step",t.checked=!1)})},getSaveFunction:t=>t===f?async()=>{var t;if(null!==(t=a.value)&&void 0!==t&&t.patientID){if(!n.value)try{if(n.value=!0,!u.admissionOutcome)return O("Please select an admission outcome"),void(n.value=!1);await P.saveAdmissionOutcomes(a.value.patientID,u,h.sessionDate()),b("Admission outcomes saved successfully"),l.clearAdmissionOutcomesForm(a.value.patientID),e.push({name:"neonatalAdmissionSignOff"})}catch(o){console.error("Failed to save admission outcomes",o),j("Failed to save admission outcomes. Please try again.")}finally{n.value=!1}}else O("No patient selected")}:null,isSaving:n,neonatalAdmissionOutcomesSections:N}}});e("default",_(E,[["render",function(e,t,a,o,n,s){const l=g("Toolbar"),r=g("NeonatalStepper"),c=g("ion-content"),m=g("ion-page");return i(),f(m,{class:"neonatal-admission-outcomes-page"},{default:S(()=>[u(l),u(c,{fullscreen:!0},{default:S(()=>[u(r,{wizardData:e.wizardData,StepperData:e.stepperData,stepperTitle:e.stepperTitle,openStepper:e.currentOpenStepper,backUrl:"/patientProfile",getSaveFunction:e.getSaveFunction,flowType:"admissionOutcomes",sectionsConfig:e.neonatalAdmissionOutcomesSections,useSkipLogic:!0,onUpdateStatus:e.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","sectionsConfig","onUpdateStatus"])]),_:1})]),_:1})}],["__scopeId","data-v-61c78177"]]))}}});
