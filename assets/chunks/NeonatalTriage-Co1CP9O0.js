import{D as Ee,r as F,c as G,d as V,eT as x,w as d,e as R,f as v,l as y,u as c,aV as $e,F as le,P as ce,k as g,K as X,m as Oe,aS as Ne,L as ue,ax as Me,J as Z,Q as ee,N as me,b as He,a3 as Ae,a6 as je,ao as Be,cp as Pe,bA as Le,eU as Ue,H as J,O as We}from"./vendor-hvlGrBh_.js";import{aC as I,_ as b,T as Ye,u as Ge,cj as ze,t as ne,H as qe,af as Y,ci as Ke,b2 as Je,G as Qe}from"../index-BkjNye1H.js";import{D as Xe}from"./DemographicBar-Dva9EEfD.js";import{c as S,e as D,N as Ze,f as et,t as tt}from"./NeonatalStepper-CWFPplTW.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-BtPTSgal.js";import"./SaveProgressModal-D5bZFloq.js";import"./images-DJIykHYW.js";import"./enrollment-DU-PLRUa.js";const M=Ee("neonatalTriage",()=>{const m=F({});function l(a,e){m.value={...m.value,[a]:e}}function o(a){m.value={...m.value,...a}}function n(a){m.value={...a}}function s(){m.value={}}const i=G(()=>{var a;return(a=m.value.crying)!=null?a:null}),r=G(()=>{var a;return(a=m.value.breathing)!=null?a:null});return{formValues:m,setField:l,patchValues:o,replaceValues:n,reset:s,crying:i,breathing:r}}),ot={class:"triage-section-wrapper"},at=V({__name:"EmergencyTriageSection",setup(m,{expose:l}){const o=F(null),n=S[0],s=n.formData,i=n.conditionalRules||[],r=x(D),a=M(),e=t=>{r&&(r.crying=t.crying||"",a.setField("crying",t.crying||""),a.setField("breathing",t.breathing||""))};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),d(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),R("div",ot,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),fe=b(at,[["__scopeId","data-v-4feaf236"]]),nt={class:"triage-section-wrapper"},rt=V({__name:"BreathingAssessmentSection",setup(m,{expose:l}){const o=F(null),n=S[1],s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&(r.breathing=e.breathing)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),d(()=>o.value,e=>{e!=null&&e.getFormValues&&a(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",nt,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),de=b(rt,[["__scopeId","data-v-ef50eec4"]]),st={class:"triage-section-wrapper"},it=V({__name:"EmergencyManagementSection",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Oxygen Saturation"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",st,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),lt=b(it,[["__scopeId","data-v-3306617f"]]),ct={class:"triage-section-wrapper"},ut=V({__name:"OxygenSaturationSection",setup(m,{expose:l}){const o=F(null),n=S[3],s=n.formData,i=n.conditionalRules||[],r=x(D),a=M(),e=t=>{r&&(Object.assign(r,t),a.setField("observations",t.observations))};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),R("div",ct,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ge=b(ut,[["__scopeId","data-v-740aefb2"]]),mt={class:"triage-section-wrapper"},ft=V({__name:"CentralCyanosisSection",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Emergency Management 3"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",mt,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),pe=b(ft,[["__scopeId","data-v-0e2784f0"]]),dt={class:"triage-section-wrapper"},gt=V({__name:"ConvulsionsSection",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Emergency Management 4"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",dt,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),_e=b(gt,[["__scopeId","data-v-78f15785"]]),pt={class:"triage-section-wrapper"},_t=V({__name:"VitalSectionTwo",setup(m,{expose:l}){const o=F(null),n=S.find(t=>t.title==="Vital Signs 2"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=M(),e=t=>{r&&a.setField("saturation_in_oxygen",t.saturation_in_oxygen)};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),d(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),R("div",pt,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ve=b(_t,[["__scopeId","data-v-18df91a1"]]),vt={class:"triage-section-wrapper"},yt=V({__name:"VitalSectionThree",setup(m,{expose:l}){const o=F(null),n=S.find(t=>t.title==="Vital Signs 3"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=M(),e=t=>{r&&(a.setField("temperature",t.temperature),a.setField("can_measure_temp",t.can_measure_temp))};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),d(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),R("div",vt,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ye=b(yt,[["__scopeId","data-v-8f1c7b62"]]),Ft={class:"summary-wrapper"},Rt={class:"summary-card-body"},St={class:"summary-row-label"},ht={class:"summary-row-value"},Vt=V({__name:"TriageSummarySection",setup(m){const l=M(),{formValues:o}=$e(l),n={not_breathing:"Not breathing",hr_low:"Heart rate low",hr_fast:"Heart rate fast",gasping:"GASPING or irregular breathing",chest_indrawing:"Chest indrawing",floppy:"VERY FLOPPY (Normal breathing & HR)",stable:"stable"},s={None:"None",Convulsions_twitching:"Convulsions or twitching",grunting:"Grunting or Severe chest indrawing's",Central_cyanosis:"Central cyanosis"},i={none:"None",trunk_cold:"Trunk feels cold",capillary_refill:"Capillary refill >3 seconds",weak_pulse:"Weak femoral pulse"},r=f=>f==null||f===""?null:f===!0||f==="yes"?"(yes)":f===!1||f==="no"?"(no)":String(f),a=f=>f==null||f===""?null:String(f),e=(f,O)=>!Array.isArray(f)||f.length===0?null:f.map(k=>{var h;const p=String(k);return(h=O==null?void 0:O[p])!=null?h:p}).join("\n"),t=G(()=>{const f=o.value||{};return[{title:"Triage",items:[{label:"Is the baby crying?",value:r(f.crying)},{label:"Is the baby breathing?",value:e(f.breathing,n)},{label:"Observations",value:e(f.observations,s)},{label:"Present signs",value:e(f.present_signs,i)}]},{title:"Vitals",items:[{label:"Respiratory Rate",value:a(f.respiratory_rate)},{label:"Heart Rate (bpm)",value:a(f.heart_rate)},{label:"Oxygen Sats in Air (%)",value:a(f.oxygen_saturation_vital)},{label:"Saturations in Oxygen (%)",value:a(f.saturation_in_oxygen)},{label:"Temperature (degs C)",value:a(f.temperature)},{label:"Blood Sugar",value:f.blood_sugar?"".concat(f.blood_sugar," ").concat(f.bloodSugar_unit||"").trim():null},{label:"Admission Weight (kg)",value:a(f.admission_weight)},{label:"Birth Weight (kg)",value:a(f.birth_weight)},{label:"Head Circumference (cm)",value:a(f.head_circumference)}]}]}),u=G(()=>t.value.map(f=>({...f,items:f.items.filter(O=>O.value!==null&&O.value!=="")})).filter(f=>f.items.length>0));return(f,O)=>(v(),R("div",Ft,[(v(!0),R(le,null,ce(u.value,A=>(v(),R("div",{key:A.title,class:"summary-card"},[g("div",Rt,[(v(!0),R(le,null,ce(A.items,k=>(v(),R("div",{key:k.label,class:"summary-row"},[g("span",St,X(k.label),1),g("span",ht,X(k.value),1)]))),128))])]))),128))]))}}),bt=b(Vt,[["__scopeId","data-v-6aeaf1fc"]]),Dt={class:"triage-section-wrapper"},xt=V({__name:"VitalSectionFour",setup(m,{expose:l}){const o=F(null),n=S.find(t=>t.title==="Vital Signs Four"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=M(),e=t=>{r&&(a.setField("admission_weight",t.admission_weight),a.setField("birth_weight",t.birth_weight),a.setField("head_circumference",t.head_circumference))};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),d(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),R("div",Dt,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),It=b(xt,[["__scopeId","data-v-c3ef1c83"]]),Tt={class:"triage-section-wrapper"},Ct=V({__name:"TemperatureHight",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Temperature High"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&(r.crying=e.crying||"")};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),d(()=>o.value,e=>{e!=null&&e.getFormValues&&a(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Tt,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},[g("p",null,"The temperature is too high!")],-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Fe=b(Ct,[["__scopeId","data-v-2f9d8428"]]),wt={class:"triage-section-wrapper"},kt={key:0,class:"triage-dialog-backdrop"},$t={class:"triage-dialog-card"},Et={class:"triage-dialog-header"},Ot={class:"triage-dialog-icon"},Nt={class:"triage-dialog-actions"},Mt=V({__name:"VitalBloodSugar",props:{stepIndex:{},goToNext:{type:Function},goToPrevious:{type:Function},goToStep:{type:Function}},setup(m,{expose:l}){const o=m,n=F(null),s=S.find(p=>p.title==="Emergency Triage Blood Sugar"),i=s.formData,r=s.conditionalRules||[],a=x(D),e=M(),t=F(!1),u=p=>{a&&(e.setField("can_measure_temp",p.can_measure_temp),e.setField("blood_sugar",p.bloodSugar),e.setField("bloodSugar_unit",p.bloodSugar_unit))};function f(){const p=e.formValues.bloodSugar_unit,h=Number(e.formValues.blood_sugar);if(p==="mg/dL"&&h<45||p==="mmol/L"&&h<2.5){t.value=!0;return}o.goToNext&&o.goToNext()}function O(){t.value=!1}function A(){const p=S.findIndex(h=>h.title==="Hypoglycemia-Asymptomatic");o.goToStep&&o.goToStep(p),t.value=!1}function k(){const p=S.findIndex(h=>h.title==="Hypoglycemia-Symptomatic");o.goToStep&&o.goToStep(p),t.value=!1}return d(()=>{var p;return(p=n.value)==null?void 0:p.formValues},p=>{p&&u(p)},{deep:!0}),d(()=>n.value,p=>{p!=null&&p.getFormValues&&u(p.getFormValues())},{immediate:!0}),l({getFormRef:()=>n.value,validateForm:()=>{var p,h;return((h=(p=n.value)==null?void 0:p.validateForm)==null?void 0:h.call(p))||null},getFormValues:()=>{var p,h;return((h=(p=n.value)==null?void 0:p.getFormValues)==null?void 0:h.call(p))||{}},openDialog:f}),(p,h)=>(v(),R("div",wt,[h[6]||(h[6]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"The temperature is too high!",-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:n},null,8,["formData","conditionalRules"]),t.value?(v(),R("div",kt,[g("div",$t,[g("button",{class:"triage-dialog-close",type:"button",onClick:O},[y(c(ue),{icon:c(Ne)},null,8,["icon"])]),g("div",Et,[g("div",Ot,[y(c(ue),{icon:c(Me)},null,8,["icon"])]),h[0]||(h[0]=g("h2",null,"Hypoglycemia?",-1))]),h[3]||(h[3]=g("div",{class:"triage-dialog-divider"},null,-1)),h[4]||(h[4]=g("p",{class:"triage-dialog-subtitle"},"The baby’s blood sugar is low.",-1)),h[5]||(h[5]=g("p",{class:"triage-dialog-body"},"Is the baby symptomatic? e.g Jittery, lethargic or not responding.",-1)),g("div",Nt,[y(c(me),{class:"triage-dialog-btn secondary",expand:"block",onClick:A},{default:Z(()=>[...h[1]||(h[1]=[ee(" NO ",-1)])]),_:1}),y(c(me),{class:"triage-dialog-btn primary",expand:"block",onClick:k},{default:Z(()=>[...h[2]||(h[2]=[ee(" YES ",-1)])]),_:1})])])])):Oe("",!0)]))}}),Ht=b(Mt,[["__scopeId","data-v-592f7f49"]]),At={class:"triage-section-wrapper"},jt=V({__name:"EmergencyTriage",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Emergency Triage 1"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",At,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}}," You may start measuring the vitals while continuing with the triage since the readings takes a while. ",-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Re=b(jt,[["__scopeId","data-v-ef810f36"]]),Bt={class:"triage-section-wrapper"},Pt=V({__name:"BabyDemographics",setup(m,{expose:l}){const o=F(null),n=S.find(t=>t.title==="Demographics"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=M(),e=t=>{r&&(Object.assign(r,t),a.setField("first_name",t.first_name),a.setField("last_name",t.last_name))};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),R("div",Bt,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Lt=b(Pt,[["__scopeId","data-v-f14b7f8a"]]),Ut={class:"triage-section-wrapper"},Wt=V({__name:"HypoglycemiaSymptomatic",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Hypoglycemia-Symptomatic"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&(r.crying=e.crying||"")};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),d(()=>o.value,e=>{e!=null&&e.getFormValues&&a(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Ut,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Hypoglycemia - Symptomatic",-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Yt=b(Wt,[["__scopeId","data-v-84bba3cb"]]),Gt={class:"triage-section-wrapper"},zt=V({__name:"HypoglycemiaAsymptomatic",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Hypoglycemia-Asymptomatic"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&(r.crying=e.crying||"")};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),d(()=>o.value,e=>{e!=null&&e.getFormValues&&a(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Gt,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Hypoglycemia - Asymptomatic",-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),qt=b(zt,[["__scopeId","data-v-d3132015"]]),Kt={class:"triage-section-wrapper"},Jt=V({__name:"EmergencyManagementTwo",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Emergency Management 2"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Kt,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"if not already on oxygen",-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Qt=b(Jt,[["__scopeId","data-v-ce21fbea"]]),Xt={class:"triage-section-wrapper"},Zt=V({__name:"EmergencyManagementSix",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Emergency Management 6"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Xt,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),eo=b(Zt,[["__scopeId","data-v-574bb0b2"]]),to={class:"triage-section-wrapper"},oo=V({__name:"EmergencyManagementSeven",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Emergency Management 7"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",to,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Se=b(oo,[["__scopeId","data-v-bda3a435"]]),ao={class:"triage-section-wrapper"},no=V({__name:"EmergencyManagementEight",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Emergency Management 8"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",ao,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},[g("p",null,"Mild Hypothermia = 36 - 36.4 degs C"),g("p",null,"Moderate Hypothermia = 32 - 35.9 degs C"),g("p",null,"Severe Hypothermia = 32 degs C")],-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ro=b(no,[["__scopeId","data-v-5cf67fc3"]]),so={class:"triage-section-wrapper"},io=V({__name:"BabyRecoveredStillSevereRespiratory",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Baby Recovered"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",so,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},[g("p",null,[g("b",null,"The baby has recovered but still has severe respiratory distress and WILL require referral.")])],-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),lo=b(io,[["__scopeId","data-v-5f09a4b0"]]),co={class:"triage-section-wrapper"},uo=V({__name:"ConvulsionsVitalsSection",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Emergency Management Vitals"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",co,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"If not already on oxygen",-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),mo=b(uo,[["__scopeId","data-v-3b07968f"]]),fo={class:"triage-section-wrapper"},go=V({__name:"ObservationsSection",setup(m,{expose:l}){const o=F(null),n=S[6],s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",fo,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),he=b(go,[["__scopeId","data-v-2983b80f"]]),po={class:"triage-section-wrapper"},_o=V({__name:"DangerSignsSection",setup(m,{expose:l}){const o=F(null),n=S[7],s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",po,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Ve=b(_o,[["__scopeId","data-v-12f5a202"]]),vo={class:"triage-section-wrapper"},yo=V({__name:"SelectPresentSignsSection",setup(m,{expose:l}){const o=F(null),n=S[8],s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",vo,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),be=b(yo,[["__scopeId","data-v-d23dc7b9"]]),Fo={class:"triage-section-wrapper"},Ro=V({__name:"TrunkFeelsColdSection",setup(m,{expose:l}){const o=F(null),n=S[9],s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Fo,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),De=b(Ro,[["__scopeId","data-v-4c89bfca"]]),So={class:"triage-section-wrapper"},ho=V({__name:"KeepWarmSection",setup(m,{expose:l}){const o=F(null),n=S[10],s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",So,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),xe=b(ho,[["__scopeId","data-v-e7f9f90d"]]),Vo={class:"triage-section-wrapper"},bo={class:"respiratory-timer-body"},Do={class:"respiratory-timer-time"},xo={class:"respiratory-timer-instruction"},re=60,Io=V({__name:"VitalSignsSection",setup(m,{expose:l}){const o=F(null),n=S.find(T=>T.title==="Vital Signs"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=F(re),e=F(!1),t=F(!1);let u=null;const f=G(()=>{const T=Math.floor(a.value/60).toString().padStart(2,"0"),N=(a.value%60).toString().padStart(2,"0");return"".concat(T,":").concat(N)}),O=G(()=>e.value?"TAP TO PAUSE COUNTDOWN":a.value===re?"TAP TO START COUNTDOWN":a.value===0?"TAP TO RESTART COUNTDOWN":"TAP TO RESUME COUNTDOWN"),A=()=>{u===null&&(e.value=!0,t.value=!1,u=window.setInterval(()=>{a.value>0?a.value-=1:(e.value=!1,t.value=!0,u!==null&&(clearInterval(u),u=null))},1e3))},k=()=>{u!==null&&(clearInterval(u),u=null),e.value=!1},p=()=>{k(),a.value=re,t.value=!1},h=()=>{e.value?k():(a.value===0&&p(),A())};He(()=>{u!==null&&clearInterval(u)});const B=M(),se=T=>{r&&(Object.assign(r,T),B.setField("respiratory_rate",T.respiratory_rate),B.setField("heart_rate",T.heart_rate),B.setField("can_measure_oxygen_saturation",T.can_measure_oxygen_saturation),B.setField("oxygen_saturation_vital",T.oxygen_saturation_vital),B.setField("oxygen_facility_available",T.oxygen_facility_available))};return d(()=>{var T;return(T=o.value)==null?void 0:T.formValues},T=>{T&&se(T)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var T,N;return((N=(T=o.value)==null?void 0:T.validateForm)==null?void 0:N.call(T))||null},getFormValues:()=>{var T,N;return((N=(T=o.value)==null?void 0:T.getFormValues)==null?void 0:N.call(T))||{}}}),(T,N)=>(v(),R("div",Vo,[g("div",{class:"respiratory-timer-card",onClick:h},[N[0]||(N[0]=g("div",{class:"respiratory-timer-header"},"Respiratory  Rate Timer",-1)),g("div",bo,[g("div",Do,X(f.value),1),g("div",xo,X(O.value),1)])]),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Q=b(Io,[["__scopeId","data-v-54fa99a2"]]),To={class:"triage-section-wrapper"},Co=V({__name:"RespiratoryDistressSection",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Danger Signs"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",To,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Feel for 3 danger signs.",-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Ie=b(Co,[["__scopeId","data-v-e75e77c9"]]),wo={class:"triage-section-wrapper"},ko=V({__name:"TemperatureHighSection",setup(m,{expose:l}){const o=F(null),n=S.find(t=>t.title==="Select Present Signs"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=M(),e=t=>{r&&(Object.assign(r,t),a.setField("present_signs",t.present_signs))};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),R("div",wo,[y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Te=b(ko,[["__scopeId","data-v-b617adf2"]]),$o={class:"triage-section-wrapper"},Eo=V({__name:"SecondVitalSignsSection",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Trunk Feels Cold"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",$o,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},[g("p",null,"Mild Hypothermia = 36 - 36.4 degs C"),g("p",null,"Moderate Hypothermia = 32 - 35.9 degs C"),g("p",null,"Severe Hypothermia = 32 degs C")],-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Ce=b(Eo,[["__scopeId","data-v-4a384fc4"]]),Oo={class:"triage-section-wrapper"},No=V({__name:"BloodSugarSection",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Emmergency Management 4"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&Object.assign(r,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Oo,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}}," This baby may be in Shock! See pg 74 COIN (NB. Don't give a bolus to a baby that has not responded to resuscitation) ",-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),we=b(No,[["__scopeId","data-v-eec9c993"]]),Mo={class:"triage-section-wrapper"},Ho=V({__name:"ReferralInstructionsSection",setup(m,{expose:l}){const o=F(null),n=S.find(e=>e.title==="Referral Instructions"),s=n.formData,i=n.conditionalRules||[],r=x(D),a=e=>{r&&(r.crying=e.crying||"")};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&a(e)},{deep:!0}),d(()=>o.value,e=>{e!=null&&e.getFormValues&&a(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Mo,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},[g("p",null,[g("b",null,"If oxygen is NOT available CALL referral hospital immediately "),ee(" for guidance and if possible send the baby with accompanying health worker with bag valve mask (BVM) ventilation equipment. "),g("br"),g("br"),ee(" Continue with the Neotree examination. ")])],-1)),y(I,{formData:c(s),conditionalRules:c(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ke=b(Ho,[["__scopeId","data-v-d4742399"]]),Ao=V({name:"NeonatalTriage",components:{IonPage:je,IonContent:Ae,Toolbar:Ye,DemographicBar:Xe,NeonatalStepper:Ze,EmergencyTriageSection:fe,BreathingAssessmentSection:de,EmergencyManagementSection:lt,OxygenSaturationSection:ge,CentralCyanosisSection:pe,ConvulsionsSection:_e,ObservationsSection:he,DangerSignsSection:Ve,SelectPresentSignsSection:be,TrunkFeelsColdSection:De,KeepWarmSection:xe,VitalSignsSection:Q,RespiratoryDistressSection:Ie,TemperatureHighSection:Te,SecondVitalSignsSection:Ce,BloodSugarSection:we,VitalsSignsSection:Q,ReferralInstructionsSection:ke,VitalSectionThree:ye,VitalSectionTwo:ve,TemperatureHigh:Fe,EmergencyTriage:Re,EmergencyManagementSeven:Se},setup(){var N;const m=Be(),l=Pe(),o=Ge(),{patient:n}=$e(o),s=()=>{const _=l.query.source;return Array.isArray(_)?_[0]:_},i=Le({...et,_hasPatient:!!((N=n.value)!=null&&N.patientID),_forceDemographics:s()==="dashboard"});Ue(D,i),d(()=>{var _;return(_=n.value)==null?void 0:_.patientID},_=>{i._hasPatient=!!_}),d(()=>s(),_=>{i._forceDemographics=_==="dashboard"});const r=F(S.map((_,C)=>({title:_.title,number:C+1,checked:!1,class:C===0?"open_step common_step":"common_step",last_step:C===S.length-1?"last_step":""}))),a=_=>S.findIndex(C=>C.title==_),e=new Set(["crying","can_measure_oxygen_saturation","oxygen_facility_available","can_measure_temp","central_cyanosis"]),t=new Set(["respiratory_rate","heart_rate","oxygen_saturation_vital","saturation_in_oxygen","temperature","head_circumference"]),u=new Set(["admission_weight","birth_weight"]),f=_=>{if(_==null||_==="")return null;if(typeof _=="string"){const C=_.toLowerCase();if(["yes","y","true","1"].includes(C))return"Yes";if(["no","n","false","0"].includes(C))return"No"}return _===!0||_===1?"Yes":_===!1||_===0||_===2?"No":null},O=async(_,C,$,P,L)=>{if($==null||$==="")return null;if(e.has(_)){const H=f($);return H?Y.buildValueCoded(C,H,P):null}if(_==="blood_sugar"){const H=L.bloodSugar_unit||"mg/dL",U=Number($);if(Number.isNaN(U))return null;const j=H==="mmol/L"?U*18.018:U;return Y.buildValueNumber(C,j,null,null,P)}if(t.has(_)||u.has(_)){let H=Number($);return Number.isNaN(H)?null:(u.has(_)&&(H=H/1e3),Y.buildValueNumber(C,H,null,null,P))}const ie=Array.isArray($)?$.join(", "):String($);return Y.buildValueText(C,ie,P)},k=[{title:"Emergency Triage",value:"1",component:fe,configIndex:a("Emergency Triage")},{title:"Emergency Management",value:"2",component:de,configIndex:a("Emergency Management 1")},{title:"Emergency Triage",value:"3",component:Re,configIndex:a("Emergency Triage 1")},{title:"Oxygen Saturation",value:"4",component:ge,configIndex:a("Oxygen Saturation")},{title:"Emergency Management",value:"5",component:Qt,configIndex:a("Emergency Management 2")},{title:"Emergency Management",value:"6",component:pe,configIndex:a("Emergency Management 3")},{title:"Emergency Management",value:"7",component:_e,configIndex:a("Emergency Management 4")},{title:"Central Cyanosis",value:"8",component:he,configIndex:a("Central Cyanosis")},{title:"Convulsions/Twitching",value:"9",component:Ve,configIndex:a("Convulsions/Twitching")},{title:"Emergency Observations",value:"10",component:be,configIndex:a("Emergency Observations")},{title:"Emergency Management",value:"11",component:De,configIndex:a("Emergency Management - Grunting/Indrawing")},{title:"Emergency Management",value:"12",component:xe,configIndex:a("Emergency Management - Central Cyanosis")},{title:"Emergency Management",value:"13",component:Q,configIndex:a("Emergency Management - Convulsions")},{title:"Danger Signs",value:"14",component:Ie,configIndex:a("Danger Signs")},{title:"Select Present Signs",value:"15",component:Te,configIndex:a("Select Present Signs")},{title:"Trunk Feels Cold",value:"16",component:Ce,configIndex:a("Trunk Feels Cold")},{title:"Emmergency Management 4",value:"17",component:we,configIndex:a("Emmergency Management 4")},{title:"Vital Signs",value:"18",component:Q,configIndex:a("Vital Signs")},{title:"Emergency Management 6",value:"19",component:eo,configIndex:a("Emergency Management 6")},{title:"Referral Instructions",value:"19",component:ke,configIndex:a("Referral Instructions")},{title:"Emergency Management Vitals",value:"20",component:mo,configIndex:a("Emergency Management Vitals")},{title:"Vital Signs",value:"21",component:ve,configIndex:a("Vital Signs 2")},{title:"Emergency Management",value:"21",component:Se,configIndex:a("Emergency Management 7")},{title:"Baby Recovered",value:"22",component:lo,configIndex:a("Baby Recovered")},{title:"Vital Signs",value:"23",component:ye,configIndex:a("Vital Signs 3")},{title:"Emergency Management",value:"24",component:ro,configIndex:a("Emergency Management 8")},{title:"Temperature High",value:"25",component:Fe,configIndex:a("Temperature High")},{title:"Emergency Triage",value:"26",component:Ht,configIndex:a("Emergency Triage Blood Sugar"),hasDialog:!0},{title:"Hypoglycemia Symptomatic",value:"27",component:Yt,configIndex:a("Hypoglycemia-Symptomatic")},{title:"Hypoglycemia-Asymptomatic",value:"28",component:qt,configIndex:a("Hypoglycemia-Asymptomatic")},{title:"Vital Signs",value:"29",component:It,configIndex:a("Vital Signs Four")},{title:"Triage Summary",value:"30",component:bt,configIndex:a("Triage Summary")},{title:"Demographics",value:"31",component:Lt,configIndex:a("Demographics")}],p="Emergency Triage Assessment",h=F("1"),B=M();return{wizardData:r,stepperData:k,stepperTitle:p,currentOpenStepper:h,updateStatus:_=>{_&&_.value&&r.value.forEach((C,$)=>{_.value===($+1).toString()?(C.class="open_step common_step",C.checked=!1):$<parseInt(_.value)-1?(C.class="common_step color_white",C.checked=!0):(C.class="common_step",C.checked=!1)})},getSaveFunction:_=>{var U;const C=k.findIndex(j=>j.title==="Triage Summary"),$=k.findIndex(j=>j.title==="Demographics"),P=k.length-1,L=!!((U=n.value)!=null&&U.patientID);if(s(),_===C&&L||_===$&&!L||_===P&&L)return async()=>{var j;try{const E={...i,...B.formValues};let z=(j=n.value)==null?void 0:j.patientID;if(!z&&E.first_name&&E.last_name){const w=new Date;w.setDate(w.getDate()-1);const W=w.toISOString().split("T")[0],oe={given_name:E.first_name,family_name:E.last_name,gender:"U",birthdate:W,birthdate_estimated:1},K=await new ze().registerPatient(oe,[]);if(!(K!=null&&K.patient_id)){ne("Failed to create temporary patient record");return}z=K.patient_id,await o.setPatientRecord({patient_id:z})}if(!z){ne("No patient available to save triage data");return}const q=[],te=qe.sessionDate();if(Object.keys(E).some(w=>w!=="first_name"&&w!=="last_name"&&w!=="_hasPatient"&&w!=="_forceDemographics"&&E[w]!==void 0&&E[w]!==null&&E[w]!==""))for(const[w,W]of Object.entries(tt)){const oe=E[w],ae=await O(w,W,oe,te,E);ae&&q.push(ae)}else{const w=await Y.buildValueText("First name",E.first_name||"Unknown",te),W=await Y.buildValueText("Last name",E.last_name||"Unknown",te);w&&q.push(w),W&&q.push(W)}await Ke(z,Je.NEONATAL_TRIAGE,q),Qe("Emergency triage saved successfully"),await new Promise(w=>setTimeout(w,800)),m.push({name:"NeonatalHome"})}catch(E){console.error("Failed to save triage assessment",E),ne("Failed to save triage assessment")}}}}}});function jo(m,l,o,n,s,i){const r=J("Toolbar"),a=J("NeonatalStepper"),e=J("ion-content"),t=J("ion-page");return v(),We(t,{class:"neonatal-triage-page"},{default:Z(()=>[y(r),y(e,{fullscreen:!0},{default:Z(()=>[y(a,{wizardData:m.wizardData,StepperData:m.stepperData,stepperTitle:m.stepperTitle,openStepper:m.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:m.getSaveFunction,onUpdateStatus:m.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","onUpdateStatus"])]),_:1})]),_:1})}const Jo=b(Ao,[["render",jo],["__scopeId","data-v-dc79a4d3"]]);export{Jo as default};
