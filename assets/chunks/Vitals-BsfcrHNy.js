import{d as C,ao as V,cp as B,r as u,aV as d,a as P,O as w,f,J as v,e as x,m as I,l as a,k as e,u as s,bx as D,a3 as O,bM as m,b9 as T,a6 as N}from"./vendor-CdYsMjog.js";import{u as R,b7 as A,T as L,J as l,bH as $,q as W,s as J,_ as M}from"../index-CR9tVNI2.js";import{D as U}from"./DemographicBar-e8Jmb4dP.js";import{_ as q}from"./Vitals.vue_vue_type_script_setup_true_lang-pToe2Q3p.js";import{u as E}from"./useUserActivities-eaN2yeJi.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-CTeizPIP.js";const H={key:0,class:"spinner-overlay"},j={class:"container"},z={class:"vitals-header"},F={class:"back_profile"},G={class:"vitals-content"},K={class:"action-buttons"},Q=C({__name:"Vitals",setup(X){const o=V();B();const n=u(!1),{hasWaitingList:p,ready:_}=E(),S=R(),g=A(),{patient:h}=d(S),{vitals:Y}=d(g),i=u(null);P(async()=>{_.value});const k=()=>{o.push("home")},b=()=>{o.push("patientProfile")},y=async()=>{n.value=!0;const r=String(localStorage.getItem("locationID"));try{i.value&&await i.value.onSubmit()&&(await $.addPatientToStage(h.value,"CONSULTATION"),await W().refresh(r),p("Waiting for Consultation")?await o.push("OPDConsultationPlan"):await o.push("home"))}catch(t){console.error("An unexpected error occurred in saveVitals (parent):",t),J("An unexpected error occurred. Please try again.")}finally{n.value=!1}};return(r,t)=>(f(),w(s(N),null,{default:v(()=>[n.value?(f(),x("div",H,[a(s(D),{name:"bubbles"}),t[3]||(t[3]=e("div",{class:"loading-text"},"Please wait...",-1))])):I("",!0),a(L),a(s(O),{fullscreen:!0},{default:v(()=>[a(U),e("div",j,[e("div",z,[e("div",F,[a(l,{name:"Back to Waiting list",iconSlot:"start",fill:"clear",icon:s(m),"font-weight":"600",onClick:t[0]||(t[0]=c=>k())},null,8,["icon"]),a(l,{name:"Back to Profile",iconSlot:"start",fill:"clear",icon:s(m),"font-weight":"600",onClick:t[1]||(t[1]=c=>b()),style:{"margin-left":"15px"}},null,8,["icon"])]),t[4]||(t[4]=e("div",{class:"vitals-title"},[e("h4",null,"Vital Signs"),e("hr",{class:"title-line"})],-1))]),e("div",G,[a(q,{ref_key:"vitalsRef",ref:i},null,512)]),e("div",K,[a(l,{name:"Save Vitals",iconSlot:"start",fill:"solid",color:"primary",icon:s(T),onClick:t[2]||(t[2]=c=>y()),disabled:n.value},null,8,["icon","disabled"])])])]),_:1})]),_:1}))}}),it=M(Q,[["__scopeId","data-v-4f009c82"]]);export{it as default};
