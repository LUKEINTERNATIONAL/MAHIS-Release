System.register(["./vendor-legacy-rL86R-cQ.js","../index-legacy-BUSYOKVO.js"],function(e,a){"use strict";var i,n,t,l,o,r,s,u,c,d,v,m,h,y,p,b,f,g,A,F,x,w,T,O,N,_;return{setters:[e=>{i=e.c,n=e.d,t=e.r,l=e.b2,o=e.w,r=e.a,s=e.n,u=e.e,c=e.f,d=e.l,v=e.J,m=e.u,h=e.aS,y=e.aR,p=e.Q,b=e.aV,f=e.O,g=e.bw},e=>{A=e.n,F=e.u,x=e.z,w=e.t,T=e.J,O=e.b,N=e.F,_=e._}],execute:function(){var a=document.createElement("style");a.textContent=".container[data-v-41854088]{display:flex;flex-direction:column;align-items:center}.section[data-v-41854088]{width:100%;max-width:1300px;margin-bottom:20px}.sub_item_header[data-v-41854088]{font-weight:700;font-size:medium}ion-card[data-v-41854088]{width:100%;color:#000}@media(max-width:1500px){.container[data-v-41854088]{padding:10px}}.container[data-v-434b6dcd]{display:flex;flex-direction:column;align-items:center}.section[data-v-434b6dcd]{width:100%;max-width:1300px;margin-bottom:20px}ion-card[data-v-434b6dcd]{width:100%;color:#000}@media(max-width:1500px){.container[data-v-434b6dcd]{padding:10px}}.container[data-v-be233b2a]{display:flex;flex-direction:column;align-items:center}.section[data-v-be233b2a]{width:100%;max-width:1300px;margin-bottom:20px}.sub_item_header[data-v-be233b2a]{font-weight:700;font-size:medium}ion-card[data-v-be233b2a]{width:100%;color:#000}@media(max-width:1500px){.container[data-v-be233b2a]{padding:10px}}\n/*$vite$:1*/",document.head.appendChild(a);const S={class:"container"},I=(e("a",_(n({__name:"Medications",setup(e,{expose:a}){const n={medicationsFormSection:i(()=>[{componentType:"checkboxField",header:"Which medications is the woman currently prescribed?",name:"Which medications is the woman currently prescribed?",type:"multiple",twoColumns:!0,options:[{value:"oral prep for hiv",label:"Oral PreP for HIV"},{value:"analgesic",label:"Analgesic"},{value:"anti-consulsive",label:"Anti-consulsive"},{value:"anti-tb",label:"Anti-TB"},{value:"antihelmintic",label:"Antihelmintic"},{value:"antimarials",label:"Antimarials"},{value:"antitussive",label:"Antitussive"},{value:"aspirin",label:"Aspirin"},{value:"calcium",label:"Calcium"},{value:"doxylamine",label:"Doxylamine"},{value:"hematinic",label:"Hematinic"},{value:"iron",label:"Iron"},{value:"metoclopramide",label:"Metoclopramide"},{value:"thyroid medication",label:"Thyroid medication"},{value:"antiacids",label:"Antiacids"},{value:"anti-psychotics",label:"Anti-psychotics"},{value:"anti-diabetic",label:"Anti-diabetic"},{value:"anti-hypertensive",label:"Anti-hypertensive"},{value:"arvs",label:"ARVs"},{value:"antivirals",label:"Antivirals"},{value:"asthamatic",label:"Asthamatic"},{value:"co-trimoxazole",label:"Co-trimoxazole"},{value:"folic acid",label:"Folic acid"},{value:"hemorrhoidal medication",label:"Hemorrhoidal medication"},{value:"magnesium",label:"Magnesium"},{value:"multivitamin",label:"Multivitamin"},{value:"vitamin a",label:"Vitamin A"},{value:"Other",label:"Other"},{value:"None",label:"None"}],grid:{s:"12"},validation:e=>!e||Array.isArray(e)&&0===e.length?"Please select at least one medication or 'None'":null,onChange:(e,a)=>{if(!Array.isArray(e))return{};const i={},n=e[e.length-1];if("None"===n)return i["Which medications is the woman currently prescribed?"]=["None"],i["Other medication notes"]="",i;if(e.includes("None")&&"None"!==n){const a=e.filter(e=>"None"!==e);return i["Which medications is the woman currently prescribed?"]=a,a.includes("Other")||(i["Other medication notes"]=""),i}return e.includes("Other")||(i["Other medication notes"]=""),i}},{componentType:"inputField",header:"Specify other medications",name:"Other medication notes",icon:A.editPen,grid:{s:"12"},validation:(e,a)=>{const i=null==a?void 0:a["Which medications is the woman currently prescribed?"];return!Array.isArray(i)||!i.includes("Other")||e&&""!==e?null:"Please specify other medications"},condition:e=>{const a=e["Which medications is the woman currently prescribed?"];return Array.isArray(a)&&a.includes("Other")}}]),resetForm:()=>{}},_=t(null),I=t(0),D=F(),{patient:C}=l(D);o(()=>{var e;return null===(e=C.value)||void 0===e?void 0:e.patientID},async(e,a)=>{e&&e!==a&&(I.value++,await s())});const M=async e=>{const a=[];for(const[i,n]of Object.entries(e))if(n&&!1!==n&&""!==n)if(Array.isArray(n))for(const e of n){const n="object"==typeof e&&null!==e?e.value||e.name:e;n&&""!==n&&a.push(await T.buildValueText(i,String(n)))}else"string"==typeof n||"number"==typeof n?a.push(await T.buildValueText(i,String(n))):"boolean"==typeof n&&!0===n&&a.push(await T.buildValueText("Medication finding",i));return a};r(async()=>{await s()});const P=i(()=>n.medicationsFormSection.value);return a({validateForm:()=>{var e;return null===(e=_.value)||void 0===e?void 0:e.validateForm()},onSubmit:async()=>{var e,a;if(null===(e=_.value)||void 0===e?void 0:e.validateForm())return w("Please fix validation errors before submitting"),!1;const i=(null===(a=_.value)||void 0===a?void 0:a.getFormValues())||{};try{const e=await M(i);return 0===e.length?(w("No medications data to save"),!1):(await T.addObsToEncounterPatient(e,O.MEDICATIONS),I.value++,await s(),N("Medications saved successfully"),!0)}catch(n){return w((null==n?void 0:n.message)||"Failed to save medications"),!1}},resetForm:()=>{I.value++}}),(e,a)=>(c(),u("div",S,[d(m(g),{class:"section"},{default:v(()=>[d(m(h),null,{default:v(()=>[d(m(y),{class:"sub_item_header"},{default:v(()=>[...a[0]||(a[0]=[p("Current Medications",-1)])]),_:1})]),_:1}),d(m(b),null,{default:v(()=>[(c(),f(x,{formData:P.value,ref_key:"medicationsFormRef",ref:_,key:I.value},null,8,["formData"]))]),_:1})]),_:1})]))}}),[["__scopeId","data-v-41854088"]])),{class:"container"}),D=(e("W",_(n({__name:"WomanBehaviour",setup(e,{expose:a}){const n={resetForm:()=>{},womanBehaviourFormSection:i(()=>[{componentType:"Heading",name:"Daily caffeine intake",grid:{s:"12"}},{componentType:"checkboxField",name:"Daily caffeine use",type:"multiple",required:!0,options:[{value:"More than 2 cups of coffee",label:"More than 2 cups of coffee"},{value:"More than 4 cups of tea",label:"More than 4 cups of tea"},{value:"More than 12 bars of chocolate",label:"More than 12 bars of chocolate"},{value:"More than one bottle of soda, energy, soft drink",label:"More than one bottle of soda, energy, soft drink"},{value:"None",label:"None"}],grid:{s:"12"},validation:e=>!e||Array.isArray(e)&&0===e.length?"Please select at least one option for daily caffeine intake":null,onChange:(e,a)=>{if(!Array.isArray(e))return{};const i={},n=e[e.length-1];if("None"===n)return i["Daily caffeine use"]=["None"],i;if(e.includes("None")&&"None"!==n){const a=e.filter(e=>"None"!==e);return i["Daily caffeine use"]=a,i}return i}},{grid:{s:"12"},componentType:"Dashes"},{componentType:"Heading",name:"Drug and substance abuse",grid:{s:"12"}},{componentType:"checkboxField",name:"Misuse of drugs",type:"multiple",required:!0,options:[{value:"Recently quit tobacco products",label:"Recently quit tobacco products"},{value:"Exposure to second hand smoke",label:"Exposure to second hand smoke"},{value:"Pica",label:"Pica"},{value:"Alcohol intake",label:"Alcohol intake"},{value:"None",label:"None"}],grid:{s:"12"},validation:e=>!e||Array.isArray(e)&&0===e.length?"Please select at least one option for drug and substance abuse":null,onChange:(e,a)=>{if(!Array.isArray(e))return{};const i={},n=e[e.length-1];if("None"===n)return i["Misuse of drugs"]=["None"],i;if(e.includes("None")&&"None"!==n){const a=e.filter(e=>"None"!==e);return i["Misuse of drugs"]=a,i}return i}}])},h=t(null),y=t(0),p=F(),{patient:A}=l(p);o(()=>{var e;return null===(e=A.value)||void 0===e?void 0:e.patientID},async(e,a)=>{e&&e!==a&&(y.value++,await s())});const _=async e=>{const a=[];for(const[i,n]of Object.entries(e))if(n&&!1!==n&&""!==n)if(Array.isArray(n))for(const e of n){const n="object"==typeof e&&null!==e?e.value||e.name:e;n&&""!==n&&a.push(await T.buildValueText(i,String(n)))}else"string"==typeof n||"number"==typeof n?a.push(await T.buildValueText(i,String(n))):"boolean"==typeof n&&!0===n&&a.push(await T.buildValueText("Behaviour finding",i));return a};r(async()=>{await s()});const S=i(()=>n.womanBehaviourFormSection.value);return a({validateForm:()=>{var e;return null===(e=h.value)||void 0===e?void 0:e.validateForm()},onSubmit:async()=>{if(!h.value)return!1;if(h.value.validateForm())return w("Please fix validation errors before submitting"),!1;const e=h.value.getFormValues();try{const a=await _(e);return 0===a.length?(w("No woman behaviour data to save"),!1):(await T.addObsToEncounterPatient(a,O.WOMAN_BEHAVIOUR),y.value++,await s(),N("Woman behaviour saved successfully"),!0)}catch(a){return w((null==a?void 0:a.message)||"Failed to save woman behaviour data"),!1}},resetForm:()=>{y.value++}}),(e,a)=>(c(),u("div",I,[d(m(g),{class:"section"},{default:v(()=>[d(m(b),null,{default:v(()=>[(c(),f(x,{formData:S.value,ref_key:"formRef",ref:h,key:y.value},null,8,["formData"]))]),_:1})]),_:1})]))}}),[["__scopeId","data-v-434b6dcd"]])),{class:"container"});e("M",_(n({__name:"MedicalHistory",setup(e,{expose:a}){const n={resetForm:()=>{},pastSurgeriesFormSection:i(()=>[{componentType:"checkboxField",name:"past surgeries",type:"multiple",twoColumns:!0,options:[{value:"dilation and currettage",label:"Dilation and currettage"},{value:"myomectomy",label:"Myomectomy"},{value:"removal of ovarian cyst",label:"Removal of ovarian cyst"},{value:"oophorectomy",label:"Oophorectomy"},{value:"salpingectomy",label:"Salpingectomy"},{value:"cervical cone",label:"Cervical cone"},{value:"Other",label:"Other"},{value:"None",label:"None"}],grid:{s:"12",md:"6"},onChange:(e,a)=>{if(!Array.isArray(e))return{};const i={},n=e[e.length-1];if("None"===n)return i["past surgeries"]=["None"],i["Other surgery notes"]="",i;if(e.includes("None")&&"None"!==n){const a=e.filter(e=>"None"!==e);return i["past surgeries"]=a,a.includes("Other")||(i["Other surgery notes"]=""),i}return e.includes("Other")||(i["Other surgery notes"]=""),i}},{componentType:"inputField",header:"Specify other surgery",name:"Other surgery notes",icon:A.editPen,required:!0,twoColumns:!0,grid:{s:"12"},validation:(e,a)=>{const i=null==a?void 0:a["past surgeries"];return!Array.isArray(i)||!i.includes("Other")||e&&""!==e?null:"Please specify other surgery"},condition:e=>{const a=e["past surgeries"];return Array.isArray(a)&&a.includes("Other")}}]),allergiesFormSection:i(()=>[{componentType:"checkboxField",name:"allergies",type:"multiple",twoColumns:!0,options:[{value:"albendazole",label:"Albendazole"},{value:"aluminium-hydroxide",label:"Aluminium-hydroxide"},{value:"calcium",label:"Calcium"},{value:"chamomile",label:"Chamomile"},{value:"folic-acid",label:"Folic-acid"},{value:"ginger",label:"Ginger"},{value:"fish",label:"Fish"},{value:"iron",label:"Iron"},{value:"sulfadoxine-pyrimethamine",label:"Sulfadoxine-Pyrimethamine"},{value:"mebendazole",label:"Mebendazole"},{value:"penicillin",label:"Penicillin"},{value:"prep-tdf",label:"PrEP(TDF)"},{value:"Other",label:"Other"},{value:"None",label:"None"}],grid:{s:"12"},onChange:(e,a)=>{if(!Array.isArray(e))return{};const i={},n=e[e.length-1];if("None"===n)return i.allergies=["None"],i["Other allergy notes"]="",i;if(e.includes("None")&&"None"!==n){const a=e.filter(e=>"None"!==e);return i.allergies=a,a.includes("Other")||(i["Other allergy notes"]=""),i}return e.includes("Other")||(i["Other allergy notes"]=""),i}},{componentType:"inputField",header:"Specify other allergy",name:"Other allergy notes",icon:A.editPen,required:!0,grid:{s:"12"},validation:(e,a)=>{const i=null==a?void 0:a.allergies;return!Array.isArray(i)||!i.includes("Other")||e&&""!==e?null:"Please specify other allergy"},condition:e=>{const a=e.allergies;return Array.isArray(a)&&a.includes("Other")}}]),chronicConditionsFormSection:i(()=>[{componentType:"checkboxField",name:"chronic conditions",type:"multiple",twoColumns:!0,options:[{value:"auto immune disease",label:"Auto-immune desease"},{value:"asthma",label:"Asthma"},{value:"sickle cell",label:"Sickle cell"},{value:"anemia",label:"Anemia"},{value:"hiv positive",label:"HIV positive"},{value:"thalassemia",label:"Thalassemia"},{value:"gynae cancer",label:"Gynae Cancer"},{value:"ccf",label:"CCF"},{value:"rhd",label:"RHD"},{value:"gestational diabetes",label:"Gestational diabetes"},{value:"diabetes type 1",label:"Diabetes Type 1"},{value:"diabetes type 2",label:"Diabetes Type 2"},{value:"epilepsy",label:"Epilepsy"},{value:"hypertension",label:"Hypertension"},{value:"kidney disease",label:"Kidney Disease"},{value:"tb",label:"TB"},{value:"mental illness",label:"Mental illness"},{value:"Other",label:"Other"},{value:"None",label:"None"}],grid:{s:"12",md:"6"},onChange:(e,a)=>{if(!Array.isArray(e))return{};const i={},n=e[e.length-1];if("None"===n)return i["chronic conditions"]=["None"],i["Other chronic notes"]="",i["HIV test date"]="",i["Is client on ART?"]="",i["Art number"]="",i["facility for art"]="",i;if(e.includes("None")&&"None"!==n){const a=e.filter(e=>"None"!==e);return i["chronic conditions"]=a,a.includes("hiv positive")||(i["HIV test date"]="",i["Is client on ART?"]="",i["Art number"]="",i["facility for art"]=""),a.includes("Other")||(i["Other chronic notes"]=""),i}return e.includes("hiv positive")||(i["HIV test date"]="",i["Is client on ART?"]="",i["Art number"]="",i["facility for art"]=""),e.includes("Other")||(i["Other chronic notes"]=""),i}},{componentType:"inputField",header:"Specify other chronic conditions",name:"Other chronic notes",icon:A.editPen,required:!0,grid:{s:"12"},validation:(e,a)=>{const i=null==a?void 0:a["chronic conditions"];return!Array.isArray(i)||!i.includes("Other")||e&&""!==e?null:"Please specify other chronic conditions"},condition:e=>{const a=e["chronic conditions"];return Array.isArray(a)&&a.includes("Other")}},{grid:{s:"12"},componentType:"Dashes"},{componentType:"dateInputField",header:"HIV test date*",name:"HIV test date",icon:A.calenderPrimary,required:!0,grid:{s:"12",md:"6"},validation:(e,a)=>{const i=null==a?void 0:a["chronic conditions"];return!Array.isArray(i)||!i.includes("hiv positive")||e&&""!==e?null:"HIV test date is required"},condition:e=>{const a=e["chronic conditions"];return Array.isArray(a)&&a.includes("hiv positive")}},{componentType:"radioButtonField",header:"Is the client on ART?*",name:"Is client on ART?",required:!0,options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],grid:{s:"12",md:"6"},validation:(e,a)=>{const i=null==a?void 0:a["chronic conditions"];return!Array.isArray(i)||!i.includes("hiv positive")||e&&""!==e?null:"Please specify if client is on ART"},condition:e=>{const a=e["chronic conditions"];return Array.isArray(a)&&a.includes("hiv positive")},onChange:(e,a)=>{const i={};return"No"===e&&(i["Art number"]="",i["facility for art"]=""),i}},{grid:{s:"12"},componentType:"Dashes"},{componentType:"inputField",header:"ART number*",name:"Art number",icon:A.editPen,required:!0,grid:{s:"6"},validation:(e,a)=>{const i=null==a?void 0:a["chronic conditions"],n=null==a?void 0:a["Is client on ART"];return!Array.isArray(i)||!i.includes("hiv positive")||"Yes"!==n||e&&""!==e?null:"ART number is required"},condition:e=>{const a=e["chronic conditions"],i=e["Is client on ART?"];return Array.isArray(a)&&a.includes("hiv positive")&&"Yes"===i}},{componentType:"inputField",header:"Facility for ART*",name:"facility for art",icon:A.search,required:!0,grid:{s:"12",md:"6"},validation:(e,a)=>{const i=null==a?void 0:a["chronic conditions"],n=null==a?void 0:a["Is client on ART?"];return!Array.isArray(i)||!i.includes("hiv positive")||"Yes"!==n||e&&""!==e?null:"Facility for ART is required"},condition:e=>{const a=e["chronic conditions"],i=e["Is client on ART?"];return Array.isArray(a)&&a.includes("hiv positive")&&"Yes"===i}}])},_=t(null),S=t(null),I=t(null),C=t(0),M=t(0),P=t(0),k=F(),{patient:R}=l(k);o(()=>{var e;return null===(e=R.value)||void 0===e?void 0:e.patientID},async(e,a)=>{e&&e!==a&&(C.value++,M.value++,P.value++,await s())});const V=async(e,a,i)=>{const n=[],t={...e,...a,...i};for(const[l,o]of Object.entries(t))if(o&&!1!==o&&""!==o)if(Array.isArray(o))for(const e of o){const a="object"==typeof e&&null!==e?e.value||e.name:e;a&&""!==a&&"None"!==a&&n.push(await T.buildValueText(l,String(a)))}else"string"==typeof o||"number"==typeof o?n.push(await T.buildValueText(l,String(o))):"boolean"==typeof o&&!0===o&&n.push(await T.buildValueText("Medical history finding",l));return n};r(async()=>{await s()});const H=i(()=>n.pastSurgeriesFormSection.value),q=i(()=>n.allergiesFormSection.value),E=i(()=>n.chronicConditionsFormSection.value);return a({validateForm:()=>{var e,a,i;const n=null===(e=_.value)||void 0===e?void 0:e.validateForm(),t=null===(a=S.value)||void 0===a?void 0:a.validateForm(),l=null===(i=I.value)||void 0===i?void 0:i.validateForm();return n||t||l},onSubmit:async()=>{var e,a,i,n,t,l;const o=null===(e=_.value)||void 0===e?void 0:e.validateForm(),r=null===(a=S.value)||void 0===a?void 0:a.validateForm(),u=null===(i=I.value)||void 0===i?void 0:i.validateForm();if(o||r||u)return w("Please fix validation errors before submitting"),!1;const c=(null===(n=_.value)||void 0===n?void 0:n.getFormValues())||{},d=(null===(t=S.value)||void 0===t?void 0:t.getFormValues())||{},v=(null===(l=I.value)||void 0===l?void 0:l.getFormValues())||{};try{const e=await V(c,d,v);return 0===e.length?(w("No medical history data to save"),!1):(await T.addObsToEncounterPatient(e,O.MEDICAL_HISTORY),C.value++,M.value++,P.value++,await s(),N("Medical history saved successfully"),!0)}catch(m){return console.error("Error details:",m),w((null==m?void 0:m.message)||"Failed to save medical history"),!1}},resetForm:()=>{C.value++,M.value++,P.value++}}),(e,a)=>(c(),u("div",D,[d(m(g),{class:"section"},{default:v(()=>[d(m(h),null,{default:v(()=>[d(m(y),{class:"sub_item_header"},{default:v(()=>[...a[0]||(a[0]=[p("Past Medical and Surgical History",-1)])]),_:1})]),_:1}),d(m(b),null,{default:v(()=>[(c(),f(x,{formData:H.value,ref_key:"surgeriesFormRef",ref:_,key:C.value},null,8,["formData"]))]),_:1})]),_:1}),d(m(g),{class:"section"},{default:v(()=>[d(m(h),null,{default:v(()=>[d(m(y),{class:"sub_item_header"},{default:v(()=>[...a[1]||(a[1]=[p("Allergies",-1)])]),_:1})]),_:1}),d(m(b),null,{default:v(()=>[(c(),f(x,{formData:q.value,ref_key:"allergiesFormRef",ref:S,key:M.value},null,8,["formData"]))]),_:1})]),_:1}),d(m(g),{class:"section"},{default:v(()=>[d(m(h),null,{default:v(()=>[d(m(y),{class:"sub_item_header"},{default:v(()=>[...a[2]||(a[2]=[p("Existing Chronic Health Conditions",-1)])]),_:1})]),_:1}),d(m(b),null,{default:v(()=>[(c(),f(x,{formData:E.value,ref_key:"chronicFormRef",ref:I,key:P.value},null,8,["formData"]))]),_:1})]),_:1})]))}}),[["__scopeId","data-v-be233b2a"]]))}}});
