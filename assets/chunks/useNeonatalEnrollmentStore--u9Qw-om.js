import{D as r}from"./vendor-CJ2tyHrn.js";import{d as o}from"./enrollment-DU-PLRUa.js";const n=()=>JSON.parse(JSON.stringify(o)),a=r("neonatalEnrollmentStore",{state:()=>({neonatePatientId:void 0,currentStep:void 0,returnToEnrollment:!1,motherPatientId:void 0,motherData:void 0,activeEnrollmentPatientId:null,enrollmentForm:n(),enrollmentFormCache:{}}),getters:{shouldReturnToEnrollment(){return this.returnToEnrollment===!0&&this.neonatePatientId!==void 0},getMotherPatientId(){return this.motherPatientId},getCurrentStep(){return this.currentStep}},actions:{setMotherCreationContext(t,e){this.neonatePatientId=t,this.currentStep=e,this.returnToEnrollment=!0},setCreatedMother(t,e){this.motherPatientId=t,this.motherData=e},clearEnrollmentContext(){this.neonatePatientId=void 0,this.currentStep=void 0,this.returnToEnrollment=!1,this.motherPatientId=void 0,this.motherData=void 0},initializeEnrollmentForm(t){if(t==null){this.activeEnrollmentPatientId=null,Object.assign(this.enrollmentForm,n());return}this.activeEnrollmentPatientId=t;const e=this.enrollmentFormCache[String(t)];e?Object.assign(this.enrollmentForm,e):Object.assign(this.enrollmentForm,n()),this.saveEnrollmentSnapshot()},saveEnrollmentSnapshot(){this.activeEnrollmentPatientId!=null&&(this.enrollmentFormCache[String(this.activeEnrollmentPatientId)]=JSON.parse(JSON.stringify(this.enrollmentForm)))},resetEnrollmentForm(){Object.assign(this.enrollmentForm,n()),this.saveEnrollmentSnapshot()},clearEnrollmentForm(t){delete this.enrollmentFormCache[String(t)],this.activeEnrollmentPatientId===t&&this.resetEnrollmentForm()}},persist:{paths:["neonatePatientId","currentStep","returnToEnrollment","motherPatientId","motherData","activeEnrollmentPatientId","enrollmentForm","enrollmentFormCache"]}});export{a as u};
