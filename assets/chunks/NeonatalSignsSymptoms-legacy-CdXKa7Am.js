System.register(["./vendor-legacy-CKuXRHbj.js","../index-legacy-BbRj4XQc.js","./neonatal_service-legacy-CYzBs2A5.js","./DemographicBar-legacy-B39cTenT.js","./NeonatalStepper-legacy-Cd1PMgIv.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-D8bOsbLx.js","./SaveProgressModal-legacy-C-kAwGGr.js","./images-legacy-gTS9vAYU.js","./enrollment-legacy-BWFKsMdA.js"],function(e,t){"use strict";var a,s,n,o,i,l,r,c,p,u,m,d,v,g,f,S,h,y,D,_,F,I,P,j,N,w,b,C,O,V;return{setters:[e=>{a=e.D,s=e.d,n=e.r,o=e.eP,i=e.w,l=e.e,r=e.f,c=e.l,p=e.u,u=e.a3,m=e.a6,d=e.an,v=e.aU,g=e.eQ,f=e.H,S=e.O,h=e.J},e=>{y=e.aD,D=e._,_=e.T,F=e.u,I=e.t,P=e.H,j=e.G},e=>{N=e.N},e=>{w=e.D},e=>{b=e.g,C=e.h,O=e.i,V=e.N},null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".signs-symptoms-section-wrapper[data-v-312c3ac7],.signs-symptoms-section-wrapper[data-v-2ad14f66]{display:flex;flex-direction:column;gap:1rem}.neonatal-signs-symptoms-page[data-v-317f5999]{--background: #f5f5f5}ion-content[data-v-317f5999]{--background: #f5f5f5}\n/*$vite$:1*/",document.head.appendChild(t);const x=()=>JSON.parse(JSON.stringify(b)),R=a("neonatalSignsSymptomsStore",{state:()=>({activePatientId:null,formData:x(),formCache:{}}),actions:{initializeForPatient(e){if(null==e)return this.activePatientId=null,void Object.assign(this.formData,x());this.activePatientId=e;const t=String(e),a=this.formCache[t];a?Object.assign(this.formData,a):Object.assign(this.formData,x()),this.saveSnapshot()},saveSnapshot(){if(null==this.activePatientId)return;const e=String(this.activePatientId);this.formCache[e]=JSON.parse(JSON.stringify(this.formData))},resetActiveForm(){Object.assign(this.formData,x()),this.saveSnapshot()},clearPatient(e){delete this.formCache[String(e)],this.activePatientId===e&&this.resetActiveForm()}},persist:{paths:["activePatientId","formData","formCache"]}}),k={class:"signs-symptoms-section-wrapper"},T=D(s({__name:"AdmissionSection",setup(e,{expose:t}){const a=n(null),s=C[0],u=s.formData,m=s.conditionalRules||[],d=o(O),v=e=>{d&&(d.is_readmission=e.is_readmission||"")};return i(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.formValues},e=>{e&&v(e)},{deep:!0}),i(()=>a.value,e=>{null!=e&&e.getFormValues&&v(e.getFormValues())},{immediate:!0}),t({getFormRef:()=>a.value,validateForm:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.validateForm)||void 0===t?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.getFormValues)||void 0===t?void 0:t.call(e))||{}}}),(e,t)=>(r(),l("div",k,[c(y,{formData:p(u),conditionalRules:p(m),ref_key:"formRef",ref:a},null,8,["formData","conditionalRules"])]))}}),[["__scopeId","data-v-312c3ac7"]]),z={class:"signs-symptoms-section-wrapper"},A=D(s({__name:"PresentingComplaintsSection",setup(e,{expose:t}){const a=n(null),s=C[1],u=s.formData,m=s.conditionalRules||[],d=o(O),v=e=>{d&&(d.presenting_complaints=e.presenting_complaints||[])};return i(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.formValues},e=>{e&&v(e)},{deep:!0}),i(()=>a.value,e=>{null!=e&&e.getFormValues&&v(e.getFormValues())},{immediate:!0}),t({getFormRef:()=>a.value,validateForm:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.validateForm)||void 0===t?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.getFormValues)||void 0===t?void 0:t.call(e))||{}}}),(e,t)=>(r(),l("div",z,[c(y,{formData:p(u),conditionalRules:p(m),ref_key:"formRef",ref:a},null,8,["formData","conditionalRules"])]))}}),[["__scopeId","data-v-2ad14f66"]]),J=s({name:"NeonatalSignsSymptoms",components:{IonPage:m,IonContent:u,Toolbar:_,DemographicBar:w,NeonatalStepper:V,AdmissionSection:T,PresentingComplaintsSection:A},setup(){const e=d(),t=F(),{patient:a}=v(t),s=R(),o=()=>{var e;const t=(e=>{const t=Number(e);return Number.isFinite(t)?t:null})(null===(e=a.value)||void 0===e?void 0:e.patientID);s.initializeForPatient(t)};o(),i(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.patientID},()=>o());const l=s.formData;g(O,l),i(()=>s.formData,()=>s.saveSnapshot(),{deep:!0});const r=n(C.map((e,t)=>({title:e.title,number:t+1,checked:!1,class:0===t?"open_step common_step":"common_step",last_step:t===C.length-1?"last_step":""}))),c=[{title:C[0].title,value:"1",component:T,configIndex:0},{title:C[1].title,value:"2",component:A,configIndex:1}],p=n("1");return{wizardData:r,stepperData:c,stepperTitle:"Signs & Symptoms Assessment",currentOpenStepper:p,updateStatus:e=>{e&&e.value&&r.value.forEach((t,a)=>{e.value===(a+1).toString()?(t.class="open_step common_step",t.checked=!1):a<parseInt(e.value)-1?(t.class="common_step color_white",t.checked=!0):(t.class="common_step",t.checked=!1)})},getSaveFunction:t=>t===c.length-1?async()=>{var t;if(null!==(t=a.value)&&void 0!==t&&t.patientID)try{const t=P.sessionDate();await N.saveSignsSymptomsAssessment(a.value.patientID,l,t),j("Signs & symptoms assessment saved successfully"),s.clearPatient(a.value.patientID),e.push({path:"/neonatal/review-of-systems"})}catch(n){console.error("Failed to save signs/symptoms assessment",n),I("Failed to save signs/symptoms assessment")}else I("No patient selected")}:null,neonatalSignsSymptomsSections:C}}});e("default",D(J,[["render",function(e,t,a,s,n,o){const i=f("Toolbar"),l=f("NeonatalStepper"),p=f("ion-content"),u=f("ion-page");return r(),S(u,{class:"neonatal-signs-symptoms-page"},{default:h(()=>[c(i),c(p,{fullscreen:!0},{default:h(()=>[c(l,{wizardData:e.wizardData,StepperData:e.stepperData,stepperTitle:e.stepperTitle,openStepper:e.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:e.getSaveFunction,flowType:"signsSymptoms",sectionsConfig:e.neonatalSignsSymptomsSections,onUpdateStatus:e.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","sectionsConfig","onUpdateStatus"])]),_:1})]),_:1})}],["__scopeId","data-v-317f5999"]]))}}});
