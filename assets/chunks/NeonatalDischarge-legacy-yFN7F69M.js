System.register(["./vendor-legacy-ChYl72f1.js","../index-legacy-fCduv3Pp.js","./neonatal_service-legacy-B6T8FTqZ.js","./DemographicBar-legacy-RZpKz_aq.js","./NeonatalStepper-legacy-D64qz505.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-D41zp1db.js","./SaveProgressModal-legacy-gjn5F5ru.js","./images-legacy-gTS9vAYU.js","./enrollment-legacy-BWFKsMdA.js"],function(e,a){"use strict";var o,t,i,n,l,d,r,c,s,p,u,v,f,g,m,b,h,x,y,w,k,D,F,_,S,z,C,I,N,V,P,q,j,T,E,A,O,R,M,H,L,U,G,B,J,Y,$,W,K,Q,Z,X,ee,ae,oe,te,ie;return{setters:[e=>{o=e.d,t=e.b2,i=e.r,n=e.c,l=e.a,d=e.e,r=e.f,c=e.k,s=e.p,p=e.l,u=e.u,v=e.c$,f=e.L,g=e.K,m=e.Q,b=e.eQ,h=e.w,x=e.bs,y=e.m,w=e.O,k=e.F,D=e.P,F=e.fa,_=e.i,S=e.bk,z=e.b9,C=e.ba,I=e.J,N=e.Z,V=e.bu,P=e.b8,q=e.aw,j=e.aP,T=e.bb,E=e.D,A=e.a4,O=e.a7,R=e.ap,M=e.eR,H=e.H},e=>{L=e.u,U=e.H,G=e.cj,B=e.P,J=e._,Y=e.ag,$=e.aE,W=e.T,K=e.t,Q=e.G,Z=e.s},e=>{X=e.N},e=>{ee=e.D},e=>{ae=e.c,oe=e.e,te=e.f,ie=e.N},null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".profile-card[data-v-de193189]{width:100%;padding:1rem 2rem;padding-top:20px;background:#fff}.profile-content[data-v-de193189]{display:flex;gap:15px}.avatar-column[data-v-de193189]{flex-shrink:0}.avatar-box[data-v-de193189]{width:120px;height:130px;border-radius:10px;display:flex;align-items:center;justify-content:center}.male-bg[data-v-de193189]{background-color:#5983ba}.female-bg[data-v-de193189]{background-color:#876d9b}.avatar-icon[data-v-de193189]{font-size:90px;color:#fff}.details-column[data-v-de193189]{display:flex;flex-direction:column;justify-content:center}.patient-name[data-v-de193189]{font-size:24px;font-weight:700;color:#4f4f4f;line-height:1.2;margin-bottom:5px}.bio-line[data-v-de193189]{font-size:14px;color:#666;margin-bottom:5px;display:flex;align-items:center;flex-wrap:wrap}.bullet[data-v-de193189]{margin:0 8px;color:#999}.info-row[data-v-de193189]{font-size:14px;margin-bottom:3px;color:#333}.label[data-v-de193189]{color:#666;margin-right:5px}.value[data-v-de193189]{font-weight:600;color:#000}.form-title[data-v-de193189]{text-align:center;font-size:25px;font-weight:600;color:#00190e;margin:20px 0 10px;text-transform:uppercase}.mother-name-section[data-v-de193189]{max-width:900px;margin:0 auto;padding:0 5px}.mother-name-section[data-v-de193189] .custom-input{--background: #f5f5f5;--border-color: #d0d0d0;--color: #666666;cursor:not-allowed;opacity:.9}.mother-name-section[data-v-de193189] h6{color:#666;font-weight:500}.mother-name-section[data-v-de193189] .custom-input input{cursor:not-allowed}.discharge-vitals-wrapper[data-v-23fe5c08]{padding-bottom:2rem;padding:0 2rem}.vitals-header[data-v-23fe5c08]{margin-bottom:20px;display:flex;flex-direction:column;gap:15px}.detail-row[data-v-23fe5c08]{display:flex;flex-direction:column;gap:5px;font-size:16px;color:#333;width:100%}.detail-label[data-v-23fe5c08]{font-size:16px;padding:15px 0;color:#000;align-self:flex-start}.status-value[data-v-23fe5c08]{color:#000;align-self:flex-end;font-weight:500}.weight-box[data-v-23fe5c08]{display:flex;align-items:center;background:#f4f4f4;border:1px solid #ccc;border-radius:4px;padding:8px 12px;font-size:15px;color:#333;width:auto;align-self:flex-end}.weight-value[data-v-23fe5c08]{font-weight:500}.weight-separator[data-v-23fe5c08]{margin:0 10px;color:#999}.section-subtitle[data-v-23fe5c08]{font-size:18px;font-weight:700;color:#00190e;margin-top:10px}.searchable-dropdown-wrapper[data-v-39221bca]{position:relative;margin-bottom:20px}h6[data-v-39221bca]{margin-top:0;margin-bottom:10px;color:#333}h6.is-bold[data-v-39221bca]{font-weight:700}.required[data-v-39221bca]{color:red}.selected-items-container[data-v-39221bca]{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.selected-item[data-v-39221bca]{background-color:#e8f5e9;border:1px solid #c8e6c9;color:#1b5e20;border-radius:10px;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;width:100%;box-shadow:0 1px 2px rgba(0,0,0,.05);transition:all .2s ease}.selected-item[data-v-39221bca]:hover{background-color:#dcedc8;box-shadow:0 2px 4px rgba(0,0,0,.08)}.single-chip[data-v-39221bca]{margin-bottom:12px;background-color:#e8f5e9;border:1px solid #c8e6c9;color:#1b5e20;border-radius:10px;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;width:100%}.item-label[data-v-39221bca]{font-weight:600;font-size:15px}.delete-btn[data-v-39221bca]{background:rgba(255,255,255,.5);border:none;border-radius:50%;width:32px;height:32px;padding:0;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#2e7d32;transition:all .2s ease}.delete-btn[data-v-39221bca]:hover{background-color:#ffcdd2;color:#c62828}.remove-icon[data-v-39221bca]{font-size:18px}.search-wrapper[data-v-39221bca]{position:relative;margin-bottom:0}.search-icon[data-v-39221bca]{position:absolute;left:16px;top:50%;transform:translateY(-50%);font-size:20px;color:#666;pointer-events:none;z-index:1}.search-input[data-v-39221bca]{width:100%;padding:12px 16px 12px 48px;border:2px solid #b3b3b3;border-radius:8px;font-size:16px;outline:none;transition:border-color .2s;background-color:#fff;color:#333}.search-input[data-v-39221bca]:focus{border-color:#4caf50}.search-input[data-v-39221bca]::placeholder{color:#999}.search-input[data-v-39221bca]:disabled{background-color:#f5f5f5;cursor:not-allowed}.dropdown-container[data-v-39221bca]{border:2px solid #b3b3b3;border-radius:8px;background:#fff;overflow:hidden;margin-top:5px;position:relative;z-index:100}.dropdown-header[data-v-39221bca]{padding:12px 16px;background-color:#f5f5f5;font-size:14px;color:#666;font-weight:500}.dropdown-list[data-v-39221bca]{max-height:300px;overflow-y:auto}.dropdown-item[data-v-39221bca]{padding:14px 16px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background-color .15s;border-bottom:1px solid #f0f0f0}.dropdown-item[data-v-39221bca]:last-child{border-bottom:none}.dropdown-item[data-v-39221bca]:hover{background-color:#f9f9f9}.dropdown-item.selected[data-v-39221bca]{background-color:#e8f5e9}.dropdown-item span[data-v-39221bca]{font-size:15px;color:#333}.check-icon[data-v-39221bca]{font-size:20px;color:#4caf50;flex-shrink:0}.error-note[data-v-39221bca]{text-align:center;display:block;margin-top:4px;color:#dc3545}.discharge-diagnosis-wrapper[data-v-fe875052]{padding:0 2rem 2rem}.diagnosis-section[data-v-fe875052]{margin-bottom:30px}.validation-error[data-v-fe875052]{color:#dc3545;background-color:#f8d7da;border:1px solid #f5c6cb;padding:12px 16px;border-radius:8px;font-size:14px;font-weight:500;margin-top:20px}.discharge-medications-wrapper[data-v-5243432a]{padding:0 2rem 2rem}.section[data-v-5243432a]{margin-bottom:30px}.section[data-v-5243432a]:hover{box-shadow:none}.section-title[data-v-5243432a]{font-size:18px;font-weight:600;color:#000;margin-bottom:15px}.past-history-list[data-v-5243432a]{display:flex;flex-direction:column;gap:10px}.history-item[data-v-5243432a]{background-color:#e8f5e9;border:1px solid #c8e6c9;border-radius:10px;padding:12px 16px;font-size:16px;color:#1b5e20;width:100%}.final-medications-list[data-v-5243432a]{display:flex;flex-direction:column;gap:10px}.final-med-item[data-v-5243432a]{background-color:#e8f5e9;border:1px solid #c8e6c9;border-radius:10px;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;width:100%;box-shadow:0 1px 2px rgba(0,0,0,.05);transition:all .2s ease}.final-med-item[data-v-5243432a]:hover{background-color:#dcedc8;box-shadow:0 2px 4px rgba(0,0,0,.08)}.med-name[data-v-5243432a]{font-size:16px;color:#1b5e20;font-weight:500}.delete-btn[data-v-5243432a]{background:rgba(255,255,255,.5);border:none;border-radius:50%;width:32px;height:32px;padding:0;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#2e7d32;transition:all .2s ease}.delete-btn[data-v-5243432a]:hover{background-color:#ffcdd2;color:#c62828}.trash-icon[data-v-5243432a]{font-size:18px}.empty-message[data-v-5243432a]{color:#999;font-style:italic;padding:10px 0}.prescription-table[data-v-5243432a]{border:2px solid #b3b3b3;border-radius:8px;overflow:visible}.table-header[data-v-5243432a]{display:grid;grid-template-columns:2fr 2fr 2fr;gap:10px;padding:12px 16px;background-color:#f5f5f5;font-weight:600;font-size:14px;color:#666;border-top-left-radius:6px;border-top-right-radius:6px}.table-row[data-v-5243432a]{display:grid;grid-template-columns:2fr 2fr 2fr;gap:10px;padding:16px;border-top:1px solid #e0e0e0;align-items:center}.med-name-cell[data-v-5243432a]{font-size:16px;color:#333}.frequency-cell[data-v-5243432a]{display:flex;position:relative}.custom-frequency-wrapper[data-v-5243432a]{position:relative;width:100%;cursor:pointer}.frequency-select[data-v-5243432a]{width:100%;padding:8px 40px 8px 12px;border:2px solid #b3b3b3;border-radius:6px;font-size:14px;background-color:#fff;color:#333;cursor:pointer;outline:none}.frequency-select[data-v-5243432a]:focus{border-color:#4caf50}.custom-frequency-wrapper .dropdown-icon[data-v-5243432a]{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:18px;color:#666;pointer-events:none}.frequency-dropdown-container[data-v-5243432a]{position:absolute;top:100%;left:0;right:0;border:2px solid #b3b3b3;border-radius:6px;background:#fff;overflow:hidden;margin-top:5px;z-index:100}.frequency-dropdown-item[data-v-5243432a]{padding:10px 12px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background-color .15s;border-bottom:1px solid #f0f0f0}.frequency-dropdown-item[data-v-5243432a]:last-child{border-bottom:none}.frequency-dropdown-item[data-v-5243432a]:hover{background-color:#f9f9f9}.frequency-dropdown-item.selected[data-v-5243432a]{background-color:#e8f5e9}.frequency-dropdown-item span[data-v-5243432a]{font-size:14px;color:#333}.frequency-dropdown-item .check-icon[data-v-5243432a]{font-size:18px;color:#4caf50}.dosage-cell[data-v-5243432a]{display:flex;gap:10px;align-items:center}.dosage-input[data-v-5243432a]{flex:1;padding:8px 12px;border:2px solid #b3b3b3;border-radius:6px;font-size:14px;width:50%;outline:none}.dosage-input[data-v-5243432a]:focus{border-color:#4caf50}.add-btn[data-v-5243432a]{background:none;border:none;cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center}.add-icon[data-v-5243432a]{font-size:32px;color:#4caf50;transition:transform .2s}.add-btn:hover .add-icon[data-v-5243432a]{transform:scale(1.1)}.search-wrapper[data-v-5243432a]{position:relative;margin-bottom:0}.search-icon[data-v-5243432a]{position:absolute;left:16px;top:50%;transform:translateY(-50%);font-size:20px;color:#666;pointer-events:none;z-index:1}.search-input[data-v-5243432a]{width:100%;padding:12px 16px 12px 48px;border:2px solid #b3b3b3;border-radius:8px;font-size:16px;outline:none;transition:border-color .2s;background-color:#fff;color:#333}.search-input[data-v-5243432a]:focus{border-color:#4caf50}.search-input[data-v-5243432a]::placeholder{color:#999}.dropdown-container[data-v-5243432a]{border:2px solid #b3b3b3;border-radius:8px;background:#fff;overflow:hidden;margin-top:5px;max-height:300px;overflow-y:auto}.dropdown-item[data-v-5243432a]{padding:14px 16px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background-color .15s;border-bottom:1px solid #f0f0f0}.dropdown-item[data-v-5243432a]:last-child{border-bottom:none}.dropdown-item[data-v-5243432a]:hover{background-color:#f9f9f9}.dropdown-item.selected[data-v-5243432a]{background-color:#e8f5e9}.dropdown-item span[data-v-5243432a]{font-size:15px;color:#333}.check-icon[data-v-5243432a]{font-size:20px;color:#4caf50;flex-shrink:0}.clinic-follow-up-wrapper[data-v-ed7c5ffd]{background-color:#f5f5f5;padding-bottom:1rem}.info-banner[data-v-ed7c5ffd]{background-color:#fedf89;padding:12px 16px;margin-bottom:20px;border-radius:0;width:100%;font-size:14px;color:#856404}.saved-appointments[data-v-ed7c5ffd]{padding:0 16px;margin-bottom:16px}.appointment-item[data-v-ed7c5ffd]{background-color:#fff;border-radius:12px;padding:16px;margin-bottom:12px;box-shadow:0 1px 3px rgba(0,0,0,.08);transition:box-shadow .2s ease;border:none}.appointment-item[data-v-ed7c5ffd]:hover{box-shadow:0 2px 6px rgba(0,0,0,.12)}.appointment-header[data-v-ed7c5ffd]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.clinic-info[data-v-ed7c5ffd]{display:flex;align-items:center;gap:8px}.clinic-icon[data-v-ed7c5ffd]{font-size:20px;color:#333}.clinic-name[data-v-ed7c5ffd]{font-size:16px;font-weight:600;color:#000}.appointment-date[data-v-ed7c5ffd]{display:flex;align-items:center;gap:6px;color:#4caf50;font-size:14px;font-weight:500}.calendar-icon[data-v-ed7c5ffd]{font-size:18px;color:#4caf50}.clinic-type[data-v-ed7c5ffd]{font-size:14px;color:#666;margin-left:28px}.add-clinic-section[data-v-ed7c5ffd]{padding:0 16px}.section-title[data-v-ed7c5ffd]{font-size:18px;font-weight:600;color:#000;margin-bottom:15px}.form-container[data-v-ed7c5ffd]{background-color:#fff;border-radius:12px;padding:20px;box-shadow:0 1px 3px rgba(0,0,0,.08);transition:box-shadow .2s ease;border:none}.form-container[data-v-ed7c5ffd]:hover{box-shadow:0 2px 6px rgba(0,0,0,.12)}.clinic-label[data-v-ed7c5ffd]{display:flex;align-items:center;gap:8px;margin-bottom:16px;font-size:16px;font-weight:500;color:#333}.label-icon[data-v-ed7c5ffd]{font-size:20px}.form-field[data-v-ed7c5ffd]{margin-bottom:16px;position:relative}.custom-select-wrapper[data-v-ed7c5ffd]{position:relative;cursor:pointer}.clinic-select[data-v-ed7c5ffd]{width:100%;padding:12px 40px 12px 16px;border:2px solid #b3b3b3;border-radius:8px;font-size:14px;background-color:#fff;color:#333;cursor:pointer;outline:none}.clinic-select.placeholder[data-v-ed7c5ffd]{color:#999}.clinic-select[data-v-ed7c5ffd]:focus{border-color:#4caf50}.dropdown-icon[data-v-ed7c5ffd]{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:20px;color:#666;pointer-events:none}.dropdown-container[data-v-ed7c5ffd]{position:absolute;top:100%;left:0;right:0;border:2px solid #b3b3b3;border-radius:8px;background:#fff;overflow:hidden;margin-top:5px;max-height:250px;overflow-y:auto;z-index:100;box-shadow:0 4px 12px rgba(0,0,0,.15)}.dropdown-item[data-v-ed7c5ffd]{padding:14px 16px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background-color .15s;border-bottom:1px solid #f0f0f0}.dropdown-item[data-v-ed7c5ffd]:last-child{border-bottom:none}.dropdown-item[data-v-ed7c5ffd]:hover{background-color:#f9f9f9}.dropdown-item.selected[data-v-ed7c5ffd]{background-color:#e8f5e9}.dropdown-item span[data-v-ed7c5ffd]{font-size:15px;color:#333}.check-icon[data-v-ed7c5ffd]{font-size:20px;color:#4caf50;flex-shrink:0}.date-field[data-v-ed7c5ffd]{position:relative}.date-input[data-v-ed7c5ffd]{width:100%;padding:12px 40px 12px 16px;border:2px solid #b3b3b3;border-radius:8px;font-size:14px;outline:none;color:#333}.date-input[data-v-ed7c5ffd]:focus{border-color:#4caf50}.date-icon[data-v-ed7c5ffd]{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:20px;color:#666;pointer-events:none}.save-button[data-v-ed7c5ffd]{width:100%;padding:12px 16px;background-color:#d4edda;border:1px solid #c3e6cb;border-radius:8px;font-size:14px;font-weight:600;color:#155724;cursor:pointer;transition:background-color .2s;text-transform:lowercase}.save-button[data-v-ed7c5ffd]:hover:not(:disabled){background-color:#c3e6cb}.save-button[data-v-ed7c5ffd]:disabled{opacity:.5;cursor:not-allowed}.health-education-content[data-v-a276f232]{background-color:#f5f5f5}.info-banner[data-v-a276f232]{background-color:#fedf89;padding:12px 16px;margin-bottom:20px;font-size:14px;color:#856404}.education-section[data-v-a276f232]{background-color:#fff;border-radius:12px;padding:20px;margin:0 16px 16px;box-shadow:0 1px 3px rgba(0,0,0,.08);transition:box-shadow .2s ease}.education-section[data-v-a276f232]:hover{box-shadow:0 2px 6px rgba(0,0,0,.12)}.section-title[data-v-a276f232]{font-size:16px;font-weight:700;color:#000;margin-bottom:12px;margin-top:0}.education-list[data-v-a276f232]{list-style-type:disc;padding-left:24px;margin:0}.education-list li[data-v-a276f232]{font-size:14px;color:#333;margin-bottom:6px;line-height:1.5}.padding[data-v-a276f232]{padding:0 5px}.discharge-outcome-wrapper[data-v-da5e6123]{background-color:#f5f5f5;padding:0 0 20px}.question-banner[data-v-da5e6123]{background-color:#fedf89;padding:12px 16px;margin-bottom:16px;font-size:14px;color:#856404;font-weight:500}.padding[data-v-da5e6123]{margin:0 16px}.select-label[data-v-da5e6123]{font-size:14px;color:#999;margin-bottom:12px;padding-left:4px}.outcome-list[data-v-da5e6123]{background-color:#fff;border-radius:12px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.08);transition:box-shadow .2s ease}.outcome-list[data-v-da5e6123]:hover{box-shadow:0 2px 6px rgba(0,0,0,.12)}.outcome-option[data-v-da5e6123]{padding:14px 16px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background-color .15s;border-bottom:1px solid #f0f0f0}.outcome-option[data-v-da5e6123]:last-child{border-bottom:none}.outcome-option[data-v-da5e6123]:hover{background-color:#f9f9f9}.outcome-option.selected[data-v-da5e6123]{background-color:#d4edda}.option-text[data-v-da5e6123]{font-size:15px;color:#333}.outcome-option.selected .option-text[data-v-da5e6123]{font-weight:500}.check-icon[data-v-da5e6123]{font-size:20px;color:#4caf50;flex-shrink:0}.neonatal-discharge-page[data-v-2edcd2ef]{min-height:100vh}.neonatal-discharge-page ion-content[data-v-2edcd2ef]{--background: #f5f5f5}.neonatal-discharge-page[data-v-2edcd2ef] .discharge-header{text-align:center}.neonatal-discharge-page[data-v-2edcd2ef] .discharge-header h2{color:#666;font-size:18px;font-weight:600}\n/*$vite$:1*/",document.head.appendChild(a);const ne={class:"profile-card"},le={class:"profile-content"},de={class:"avatar-column"},re={class:"details-column"},ce={class:"patient-name"},se={class:"bio-line"},pe={key:0,class:"info-row"},ue={class:"value"},ve={class:"info-row"},fe={class:"value"},ge={class:"mother-name-section"},me=J(o({__name:"ProfileInformation",setup(e){const a=L(),{patient:o}=t(a),b=i(""),h=i(""),x=n(()=>{var e;return"M"===(null===(e=o.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender)?"male-bg":"female-bg"}),y=n(()=>{var e;const a=null===(e=o.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender;return"M"===a?"Male":"F"===a?"Female":a}),w=n(()=>{var e;const a=null===(e=o.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate;return a?U.calculateDisplayAge(U.toStandardHisFormat(a)):""}),k=n(()=>{var e;const a=null===(e=o.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate;return a?U.toStandardHisDisplayFormat(a):""}),D=n(()=>({header:"Mother's Full Name",value:h.value,disabled:!0,type:"text",placeholder:"Searching..."}));return l(()=>{(async()=>{var e;const a=null===(e=o.value)||void 0===e?void 0:e.patientID;if(a)try{var t;const e=await X.checkEnrollment(a);e&&null!==(t=e.enrollment_data)&&void 0!==t&&t.date_enrolled&&(b.value=U.toStandardHisDisplayFormat(e.enrollment_data.date_enrolled))}catch(i){console.error("Failed to fetch admission date",i)}})(),(async()=>{try{const e=new B,a=await e.getGuardian();if(a&&a.length>0){const e=a.find(e=>{var a;const o=(null===(a=e.type)||void 0===a?void 0:a.b_is_to_a)||"";return"Mother"===o||"Parent"===o});if(e&&e.relation&&e.relation.names&&e.relation.names.length>0){const a=e.relation.names[0];h.value=[a.given_name,a.middle_name,a.family_name].filter(Boolean).join(" ")}else h.value="N/A"}else h.value="N/A"}catch(e){console.error("Failed to fetch mother's name",e),h.value="Unknown"}})()}),(e,a)=>{var t,i,n;return r(),d("div",ne,[c("div",le,[c("div",de,[c("div",{class:s(["avatar-box",x.value])},[p(u(f),{icon:u(v),class:"avatar-icon"},null,8,["icon"])],2)]),c("div",re,[c("div",ce,[c("div",null,g(null===(t=u(o))||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.given_name),1),c("div",null,g(null===(i=u(o))||void 0===i||null===(i=i.personInformation)||void 0===i?void 0:i.family_name),1)]),c("div",se,[m(g(y.value)+" ",1),a[0]||(a[0]=c("span",{class:"bullet"},"•",-1)),m(" "+g(w.value)+" ",1),a[1]||(a[1]=c("span",{class:"bullet"},"•",-1)),m(" "+g(k.value),1)]),(r(),d("div",pe,[a[2]||(a[2]=c("span",{class:"label"},"Admission Date:",-1)),c("span",ue,g(b.value),1)])),c("div",ve,[a[3]||(a[3]=c("span",{class:"label"},"MRN:",-1)),c("span",fe,g(null===(n=u(o))||void 0===n?void 0:n.ID),1)])])]),a[4]||(a[4]=c("div",{class:"form-title"},"DISCHARGE FORM",-1)),c("div",ge,[p(G,{config:D.value,allFormValues:{}},null,8,["config"])])])}}}),[["__scopeId","data-v-de193189"]]),be={class:"discharge-vitals-wrapper"},he={class:"vitals-header"},xe={class:"detail-row"},ye={class:"detail-value status-value"},we={class:"detail-row"},ke={class:"weight-box"},De={class:"weight-value"},Fe={class:"weight-date"},_e={class:"section-subtitle"},Se=J(o({__name:"DischargeVitals",setup(e,{expose:a}){const o=oe[0],t=i(null),n=b(ae),s=L(),v=i(""),f=i(""),m=i("");l(async()=>{var e;const a=null===(e=s.patient)||void 0===e?void 0:e.patientID;if(a)try{const e=await Y.getFirstObs(a,"Mother HIV status");if(e){let a=e.value_text;!a&&e.value_coded&&(a=String(e.value_coded)),v.value=a||"Unknown"}else v.value="Unknown";const t=await Y.getFirstObs(a,"Birth weight");var o;t&&(f.value=(null===(o=t.value_numeric)||void 0===o?void 0:o.toString())||"",t.obs_datetime&&(m.value=U.toStandardHisDisplayFormat(t.obs_datetime)))}catch(t){console.error("Error fetching vitals details",t)}});const x=e=>{n&&(n.weight=e.weight,n.heartRate=e.heartRate,n.respiratoryRate=e.respiratoryRate,n.oxygenSaturation=e.oxygenSaturation,n.temperature=e.temperature)};return h(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&x(e)},{deep:!0}),h(()=>t.value,e=>{null!=e&&e.getFormValues&&x(e.getFormValues())},{immediate:!0}),a({getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}},validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null}}),(e,a)=>(r(),d("div",be,[c("div",he,[c("div",xe,[a[0]||(a[0]=c("span",{class:"detail-label"},"HIV status",-1)),c("span",ye,g(v.value||"Loading..."),1)]),c("div",we,[a[2]||(a[2]=c("span",{class:"detail-label"},"Birth Weight",-1)),c("div",ke,[c("span",De,g(f.value?f.value+" kg":"..."),1),a[1]||(a[1]=c("span",{class:"weight-separator"},"|",-1)),c("span",Fe,"Date: "+g(m.value||"..."),1)])]),c("div",_e,g(u(o).subtitle),1)]),p($,{formData:u(o).formData,ref_key:"formRef",ref:t},null,8,["formData"])]))}}),[["__scopeId","data-v-23fe5c08"]]),ze={class:"searchable-dropdown-wrapper"},Ce={key:0,class:"required"},Ie={key:1,class:"selected-items-container"},Ne={class:"item-label"},Ve=["onClick"],Pe={key:2,class:"selected-item single-chip"},qe={class:"item-label"},je=["placeholder","disabled"],Te={key:3,class:"dropdown-container"},Ee={class:"dropdown-header"},Ae={class:"dropdown-list"},Oe=["onClick"],Re=J(o({__name:"SearchableDropdown",props:{config:{},allFormValues:{}},emits:["update:value","field-changed"],setup(e,{expose:a,emit:o}){const t=e,v=o,b=i(""),V=i(!1),P=i(!1),q=i(null),j=i(t.config.initialValue||t.config.value||null),T=i(t.config.initialValue||t.config.value||[]),E=i([...t.config.options||[]]),A=n(()=>{if("boolean"==typeof t.config.disabled)return t.config.disabled;if("function"==typeof t.config.disabled)try{return t.config.disabled(t.allFormValues)}catch(e){return console.warn("Disabled function error:",e),!1}return!1}),O=n(()=>{if(t.config.condition&&"function"==typeof t.config.condition)try{return t.config.condition(t.allFormValues)}catch(e){return console.warn("Condition function error:",e),!1}return!0}),R=n(()=>{var e,a;if(!O.value)return null;if(A.value)return null;const o=t.config.multiple?T.value:j.value;return(null===(e=(a=t.config).validation)||void 0===e?void 0:e.call(a,o))||null}),M=e=>{var a;return t.config.multiple?T.value.some(a=>a.value===e.value):(null===(a=j.value)||void 0===a?void 0:a.value)===e.value},H=()=>{V.value=!0,P.value=!0},L=e=>{e.stopPropagation(),V.value=!0},U=()=>{const e=b.value.toLowerCase();E.value=e?(t.config.options||[]).filter(a=>a.label.toLowerCase().includes(e)):[...t.config.options||[]],V.value=!0},G=()=>{j.value=null},B=e=>{const a=e.target;!q.value||q.value.contains(a)||a.closest(".dropdown-container")||(V.value=!1)};return l(()=>{document.addEventListener("click",B)}),x(()=>{document.removeEventListener("click",B)}),h(j,e=>{t.config.multiple||(v("update:value",e),v("field-changed",{fieldName:t.config.name||t.config.header,value:e,config:t.config,newValue:e}))}),h(T,e=>{t.config.multiple&&(v("update:value",e),v("field-changed",{fieldName:t.config.name||t.config.header,value:e,config:t.config}))},{deep:!0}),a({getValue:()=>t.config.multiple?T.value:j.value,setValue:e=>{t.config.multiple?T.value=e||[]:j.value=e},isValid:n(()=>A.value||null===R.value),validate:()=>A.value?null:(P.value=!0,R.value),shouldShow:O,markAsTouched:()=>{P.value=!0},resetTouched:()=>{P.value=!1}}),(a,o)=>{var i,n;return r(),d("div",ze,[e.config.header?(r(),d("h6",{key:0,class:s({"is-bold":e.config.bold})},[m(g(e.config.header)+" ",1),null!=(null===(i=(n=e.config).validation)||void 0===i?void 0:i.call(n,""))?(r(),d("span",Ce,"*")):y("",!0)],2)):y("",!0),e.config.multiple&&T.value.length>0?(r(),d("div",Ie,[(r(!0),d(k,null,D(T.value,e=>(r(),d("div",{key:e.value,class:"selected-item chip"},[c("span",Ne,g(e.label),1),c("button",{onClick:a=>(e=>{t.config.multiple&&(T.value=T.value.filter(a=>a.value!==e.value))})(e),class:"delete-btn",type:"button","aria-label":"Remove item"},[p(u(f),{icon:u(F),class:"remove-icon"},null,8,["icon"])],8,Ve)]))),128))])):y("",!0),!e.config.multiple&&j.value?(r(),d("div",Pe,[c("span",qe,g(j.value.label),1),c("button",{onClick:G,class:"delete-btn",type:"button","aria-label":"Remove item"},[p(u(f),{icon:u(F),class:"remove-icon"},null,8,["icon"])])])):y("",!0),c("div",{class:"search-wrapper",ref_key:"searchWrapperRef",ref:q},[p(u(f),{icon:u(S),class:"search-icon"},null,8,["icon"]),_(c("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>b.value=e),placeholder:e.config.placeholder||"Search",class:"search-input",onInput:U,onFocus:H,onClick:L,disabled:A.value},null,40,je),[[z,b.value]])],512),V.value&&E.value.length>0?(r(),d("div",Te,[c("div",Ee,g(e.config.dropdownHeader||"Select ONE"),1),c("div",Ae,[(r(!0),d(k,null,D(E.value,e=>(r(),d("div",{key:e.value,class:s(["dropdown-item",{selected:M(e)}]),onClick:a=>(e=>{if(t.config.multiple){const a=T.value.findIndex(a=>a.value===e.value);a>-1?T.value.splice(a,1):T.value.push(e)}else j.value=e,V.value=!1,b.value="",E.value=[...t.config.options||[]]})(e)},[c("span",null,g(e.label),1),M(e)?(r(),w(u(f),{key:0,icon:u(C),class:"check-icon"},null,8,["icon"])):y("",!0)],10,Oe))),128))])])):y("",!0),R.value&&P.value?(r(),w(u(N),{key:4,class:"error-note"},{default:I(()=>[m(g(R.value),1)]),_:1})):y("",!0)])}}}),[["__scopeId","data-v-39221bca"]]),Me={class:"discharge-diagnosis-wrapper"},He={class:"diagnosis-section"},Le={class:"diagnosis-section"},Ue={key:0,class:"validation-error"},Ge=J(o({__name:"DischargeDiagnosis",setup(e,{expose:a}){const o=b(ae),t=i(null),l=i(null),s=i(null),u=[{label:"Hypoglycaemia (symptomatic)",value:"Hypoglycaemia1"},{label:"Abscess",value:"Abscess"},{label:"Fever",value:"Fever"},{label:"Birth Asphyxia",value:"Asphyxia"},{label:"Neonatal Sepsis (Early onset - Symptomatic)",value:"Neonatal Sepsis - Early Onset"},{label:"Prematurity with Respiratory Distress",value:"Prematurity with RDS"},{label:"Suspected Neonatal Sepsis",value:"Sepsis_Sus"},{label:"Possible Meconium Aspiration",value:"Meconium Aspiration"}],v=n(()=>({componentType:"searchableDropdown",header:"Select the Discharge Diagnosis",name:"mainDiagnosis",placeholder:"Search",dropdownHeader:"Select ONE",options:u,multiple:!1,bold:!0,initialValue:(null==o?void 0:o.mainDiagnosis)||null,validation:e=>e?null:"A main Discharge Diagnosis is required."})),f=n(()=>({componentType:"searchableDropdown",header:"Other problems (If any)",name:"otherProblems",placeholder:"Search",dropdownHeader:"Select problems",options:u,multiple:!0,bold:!0,initialValue:(null==o?void 0:o.otherProblems)||[]})),m=e=>{o&&(o.mainDiagnosis=e.value,t.value=null)},h=e=>{o&&(o.otherProblems=e.value)};return a({validateForm:()=>null!=o&&o.mainDiagnosis?(t.value=null,null):(t.value="A main Discharge Diagnosis is required.",{mainDiagnosis:"Required"}),getFormValues:()=>({})}),(e,a)=>(r(),d("div",Me,[c("div",He,[p(Re,{config:v.value,allFormValues:{},onFieldChanged:m,ref_key:"mainDiagnosisRef",ref:l},null,8,["config"])]),c("div",Le,[p(Re,{config:f.value,allFormValues:{},onFieldChanged:h,ref_key:"otherProblemsRef",ref:s},null,8,["config"])]),t.value?(r(),d("div",Ue,g(t.value),1)):y("",!0)]))}}),[["__scopeId","data-v-fe875052"]]),Be={class:"discharge-medications-wrapper"},Je={class:"section"},Ye={key:0,class:"past-history-list"},$e={key:1,class:"empty-message"},We={class:"section"},Ke={key:0,class:"final-medications-list"},Qe={class:"med-name"},Ze=["onClick"],Xe={key:1,class:"empty-message"},ea={key:0,class:"section"},aa={class:"prescription-table"},oa={class:"med-name-cell"},ta={class:"frequency-cell"},ia=["onClick"],na=["value"],la={key:0,class:"frequency-dropdown-container"},da=["onClick"],ra={class:"dosage-cell"},ca=["onUpdate:modelValue"],sa=["onClick"],pa={class:"section"},ua={class:"search-wrapper"},va={key:0,class:"dropdown-container"},fa=["onClick"],ga=J(o({__name:"DischargeMedications",setup(e,{expose:a}){const o=b(ae),t=["Paracetamol","Gentamicin","Wrapped","KMC","Resuscitaire","BVM Ventilation","Nasal Cannulae Oxygen","Amoxicillin","Ampicillin","Penicillin","Ceftriaxone","Nevirapine","Zidovudine","Multivitamin"],v=i(["Gentamicin"]),m=i([]),h=["once a day","twice a day","3 times a day","4 times a day"],I=i(null),N=n(()=>o&&o.medications?o.medications:[]),q=i(""),j=i(!1),T=i([...t]),E=()=>{const e=q.value.toLowerCase();T.value=e?t.filter(a=>a.toLowerCase().includes(e)):[...t]},A=e=>m.value.some(a=>a.name===e),O=e=>{const a=e.target;a.closest(".search-wrapper")||a.closest(".dropdown-container")||(j.value=!1),a.closest(".custom-frequency-wrapper")||a.closest(".frequency-dropdown-container")||(I.value=null)};return l(()=>{document.addEventListener("click",O)}),x(()=>{document.removeEventListener("click",O)}),a({validateForm:()=>null,getFormValues:()=>({})}),(e,a)=>(r(),d("div",Be,[c("div",Je,[a[2]||(a[2]=c("h3",{class:"section-title"},"Past Medical History",-1)),v.value.length>0?(r(),d("div",Ye,[(r(!0),d(k,null,D(v.value,(e,a)=>(r(),d("div",{key:a,class:"history-item"},g(e),1))),128))])):(r(),d("div",$e,"No past medical history"))]),c("div",We,[a[3]||(a[3]=c("h3",{class:"section-title"},"Medications given on discharge",-1)),N.value.length>0?(r(),d("div",Ke,[(r(!0),d(k,null,D(N.value,(e,a)=>(r(),d("div",{key:a,class:"final-med-item"},[c("span",Qe,g(e.name),1),c("button",{onClick:e=>(e=>{o&&o.medications&&o.medications.splice(e,1)})(a),class:"delete-btn",type:"button"},[p(u(f),{icon:u(F),class:"trash-icon"},null,8,["icon"])],8,Ze)]))),128))])):(r(),d("div",Xe,"No medications added yet"))]),m.value.length>0?(r(),d("div",ea,[a[5]||(a[5]=c("h3",{class:"section-title"},"Prescription Details",-1)),c("div",aa,[a[4]||(a[4]=c("div",{class:"table-header"},[c("span",null,"Name"),c("span",null,"Frequency"),c("span",null,"Dosage")],-1)),(r(!0),d(k,null,D(m.value,(e,a)=>(r(),d("div",{key:a,class:"table-row"},[c("span",oa,g(e.name),1),c("div",ta,[c("div",{class:"custom-frequency-wrapper",onClick:e=>(e=>{I.value===e?I.value=null:I.value=e})(a)},[c("input",{type:"text",value:e.frequency,readonly:"",class:"frequency-select"},null,8,na),p(u(f),{icon:u(V),class:"dropdown-icon"},null,8,["icon"])],8,ia),I.value===a?(r(),d("div",la,[(r(),d(k,null,D(h,o=>c("div",{key:o,class:s(["frequency-dropdown-item",{selected:e.frequency===o}]),onClick:e=>((e,a)=>{m.value[e].frequency=a,I.value=null})(a,o)},[c("span",null,g(o),1),e.frequency===o?(r(),w(u(f),{key:0,icon:u(C),class:"check-icon"},null,8,["icon"])):y("",!0)],10,da)),64))])):y("",!0)]),c("div",ra,[_(c("input",{type:"text","onUpdate:modelValue":a=>e.dosage=a,placeholder:"Enter dosage",class:"dosage-input"},null,8,ca),[[z,e.dosage]]),c("button",{onClick:e=>(e=>{const a=m.value[e];a.dosage&&""!==a.dosage.trim()?o?(o.medications||(o.medications=[]),o.medications.push({name:a.name,frequency:a.frequency,dosage:a.dosage}),console.log("Added medication:",a.name),console.log("Total medications:",o.medications.length),console.log("Medications array:",o.medications),m.value.splice(e,1)):console.error("Discharge form not found"):alert("Please enter dosage before adding")})(a),class:"add-btn",type:"button"},[p(u(f),{icon:u(P),class:"add-icon"},null,8,["icon"])],8,sa)])]))),128))])])):y("",!0),c("div",pa,[c("div",ua,[p(u(f),{icon:u(S),class:"search-icon"},null,8,["icon"]),_(c("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>q.value=e),placeholder:"Search",class:"search-input",onInput:E,onFocus:a[1]||(a[1]=e=>j.value=!0)},null,544),[[z,q.value]])]),j.value&&T.value.length>0?(r(),d("div",va,[(r(!0),d(k,null,D(T.value,e=>(r(),d("div",{key:e,class:s(["dropdown-item",{selected:A(e)}]),onClick:a=>{var o;A(o=e)||(m.value.push({name:o,frequency:"once a day",dosage:""}),j.value=!1,q.value="",T.value=[...t])}},[c("span",null,g(e),1),A(e)?(r(),w(u(f),{key:0,icon:u(C),class:"check-icon"},null,8,["icon"])):y("",!0)],10,fa))),128))])):y("",!0)])]))}}),[["__scopeId","data-v-5243432a"]]),ma={class:"clinic-follow-up-wrapper"},ba={key:0,class:"saved-appointments"},ha={class:"appointment-header"},xa={class:"clinic-info"},ya={class:"clinic-name"},wa={class:"appointment-date"},ka={class:"clinic-type"},Da={class:"add-clinic-section"},Fa={class:"form-container"},_a={class:"clinic-label"},Sa={class:"form-field"},za=["value"],Ca={key:0,class:"dropdown-container"},Ia=["onClick"],Na={class:"form-field date-field"},Va=["disabled"],Pa=J(o({__name:"ClinicFollowUp",setup(e,{expose:a}){const o=b(ae),t=n(()=>o&&o.appointments?o.appointments:[]),v=n(()=>t.value.length+1),m=n(()=>`Clinic ${v.value}`),h=["Health Center follow up","Specialist Clinic","General Outpatient","Immunization"],F=i(!1),S=i({clinicName:"",clinicType:"",date:""}),I=()=>{F.value=!F.value},N=n(()=>""!==S.value.clinicType&&""!==S.value.date),P=e=>{if(!e)return"";const a=new Date(e);return`${a.getDate()} ${a.toLocaleString("en-US",{month:"short"})} ${a.getFullYear()}`},T=()=>{N.value&&o&&(o.appointments||(o.appointments=[]),o.appointments.push({clinicName:m.value,clinicType:S.value.clinicType,date:S.value.date}),S.value={clinicName:"",clinicType:"",date:""})},E=e=>{const a=e.target;a.closest(".custom-select-wrapper")||a.closest(".dropdown-container")||(F.value=!1)};return l(()=>{document.addEventListener("click",E)}),x(()=>{document.removeEventListener("click",E)}),a({validateForm:()=>null,getFormValues:()=>({})}),(e,a)=>(r(),d("div",ma,[a[3]||(a[3]=c("div",{class:"info-banner"},"You can assign clinic days for the baby.",-1)),t.value.length>0?(r(),d("div",ba,[a[1]||(a[1]=c("h3",{class:"section-title"},"Saved Appointments",-1)),(r(!0),d(k,null,D(t.value,(e,a)=>(r(),d("div",{key:a,class:"appointment-item"},[c("div",ha,[c("div",xa,[p(u(f),{icon:u(q),class:"clinic-icon"},null,8,["icon"]),c("span",ya,g(e.clinicName),1)]),c("div",wa,[c("span",null,g(P(e.date)),1),p(u(f),{icon:u(j),class:"calendar-icon"},null,8,["icon"])])]),c("div",ka,g(e.clinicType),1)]))),128))])):y("",!0),c("div",Da,[a[2]||(a[2]=c("h3",{class:"section-title"},"Add a clinic day",-1)),c("div",Fa,[c("div",_a,[p(u(f),{icon:u(q),class:"label-icon"},null,8,["icon"]),c("span",null,g(m.value),1)]),c("div",Sa,[c("div",{class:"custom-select-wrapper",onClick:I},[c("input",{type:"text",value:S.value.clinicType||"Select clinic type",readonly:"",class:s(["clinic-select",{placeholder:!S.value.clinicType}])},null,10,za),p(u(f),{icon:u(V),class:"dropdown-icon"},null,8,["icon"])]),F.value?(r(),d("div",Ca,[(r(),d(k,null,D(h,e=>c("div",{key:e,class:s(["dropdown-item",{selected:S.value.clinicType===e}]),onClick:a=>(e=>{S.value.clinicType=e,F.value=!1})(e)},[c("span",null,g(e),1),S.value.clinicType===e?(r(),w(u(f),{key:0,icon:u(C),class:"check-icon"},null,8,["icon"])):y("",!0)],10,Ia)),64))])):y("",!0)]),c("div",Na,[_(c("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=e=>S.value.date=e),placeholder:"Clinic date",class:"date-input"},null,512),[[z,S.value.date]]),p(u(f),{icon:u(j),class:"date-icon"},null,8,["icon"])]),c("button",{onClick:T,disabled:!N.value,class:"save-button",type:"button"},"save appointment",8,Va)])])]))}}),[["__scopeId","data-v-ed7c5ffd"]]),qa={class:"health-education-content"},ja=J(o({__name:"HealthEducation",setup(e,{expose:a}){const o=i(null),t=oe[4].formData,n=b(ae),l=e=>{n&&(n.healthEducationGiven=e.healthEducationGiven||"",n.insecticideTreatedNetGiven=e.insecticideTreatedNetGiven||"")};return h(()=>{var e;return null===(e=o.value)||void 0===e?void 0:e.formValues},e=>{e&&l(e)},{deep:!0}),h(()=>o.value,e=>{null!=e&&e.getFormValues&&l(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>o.value,validateForm:()=>{var e,a;return(null===(e=o.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=o.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(r(),d("div",qa,[a[0]||(a[0]=T('<div class="info-banner" data-v-a276f232>Please educate the mother on the following:</div><div class="education-section" data-v-a276f232><h3 class="section-title" data-v-a276f232>1. Danger Signs</h3><ul class="education-list" data-v-a276f232><li data-v-a276f232>Jaundice</li><li data-v-a276f232>Convulsions</li><li data-v-a276f232>Not able to breast feed</li><li data-v-a276f232>Difficulties in breathing</li><li data-v-a276f232>Lethargic</li><li data-v-a276f232>Fever</li><li data-v-a276f232>Hypothermia</li><li data-v-a276f232>Abdominal distention</li><li data-v-a276f232>Bleeding from the cord and what to do if any</li></ul></div><div class="education-section" data-v-a276f232><h3 class="section-title" data-v-a276f232>1. GENERAL EDUCATION</h3><ul class="education-list" data-v-a276f232><li data-v-a276f232>Immunization</li><li data-v-a276f232>Family planning</li><li data-v-a276f232>Hygiene</li><li data-v-a276f232>Keeping baby warm</li><li data-v-a276f232>Malaria Prevention</li></ul></div>',3)),p($,{class:"padding",formData:u(t),ref_key:"formRef",ref:o},null,8,["formData"])]))}}),[["__scopeId","data-v-a276f232"]]),Ta={class:"discharge-outcome-wrapper"},Ea={class:"outcome-list padding"},Aa=["onClick"],Oa={class:"option-text"},Ra=J(o({__name:"DischargeOutcome",setup(e,{expose:a}){const o=b(ae),t=["Discharged","Death (at LESS than 24 hours of age)","Death (at MORE than 24 hours of age)","Died during Admission","Absconded","Transferred to another ward","Transferred to another hospital","Discharged on request","Discharged on palliative care","Brought in dead - BID","Stillbirth"],n=i("");return o&&(n.value=o.outcome||""),h(n,e=>{o&&(o.outcome=e)}),a({validateForm:()=>n.value?null:{outcome:"Please select an outcome"},getFormValues:()=>({outcome:n.value})}),(e,a)=>(r(),d("div",Ta,[a[0]||(a[0]=c("div",{class:"question-banner"},"What happened to the baby?",-1)),a[1]||(a[1]=c("div",{class:"select-label padding"},"Select one",-1)),c("div",Ea,[(r(),d(k,null,D(t,e=>c("div",{key:e,class:s(["outcome-option",{selected:n.value===e}]),onClick:a=>(e=>{n.value=e})(e)},[c("span",Oa,g(e),1),n.value===e?(r(),w(u(f),{key:0,icon:u(C),class:"check-icon"},null,8,["icon"])):y("",!0)],10,Aa)),64))])]))}}),[["__scopeId","data-v-da5e6123"]]),Ma=()=>JSON.parse(JSON.stringify(te)),Ha=E("neonatalDischargeStore",{state:()=>({activePatientId:null,dischargeForm:Ma(),dischargeFormCache:{}}),actions:{initializeDischargeForm(e){if(null==e)return this.activePatientId=null,void Object.assign(this.dischargeForm,Ma());this.activePatientId=e;const a=this.dischargeFormCache[String(e)];a?Object.assign(this.dischargeForm,a):Object.assign(this.dischargeForm,Ma()),this.saveDischargeSnapshot()},saveDischargeSnapshot(){null!=this.activePatientId&&(this.dischargeFormCache[String(this.activePatientId)]=JSON.parse(JSON.stringify(this.dischargeForm)))},resetDischargeForm(){Object.assign(this.dischargeForm,Ma()),this.saveDischargeSnapshot()},clearDischargeForm(e){delete this.dischargeFormCache[String(e)],this.activePatientId===e&&this.resetDischargeForm()}},persist:{paths:["activePatientId","dischargeForm","dischargeFormCache"]}}),La=o({name:"NeonatalDischarge",components:{IonPage:O,IonContent:A,Toolbar:W,DemographicBar:ee,ProfileInformation:me,NeonatalStepper:ie,DischargeVitals:Se,DischargeDiagnosis:Ge,DischargeMedications:ga,ClinicFollowUp:Pa,HealthEducation:ja,DischargeOutcome:Ra},setup(){const e=R(),a=L(),{patient:o}=t(a),n=i(!1),l=Ha(),d=()=>{var e;const a=(e=>{const a=Number(e);return Number.isFinite(a)?a:null})(null===(e=o.value)||void 0===e?void 0:e.patientID);l.initializeDischargeForm(a)};d(),h(()=>{var e;return null===(e=o.value)||void 0===e?void 0:e.patientID},()=>d());const r=l.dischargeForm;M(ae,r),h(()=>l.dischargeForm,()=>l.saveDischargeSnapshot(),{deep:!0});const c=i(oe.map((e,a)=>({title:e.title,number:a+1,checked:!1,class:0===a?"open_step common_step":"common_step",last_step:a===oe.length-1?"last_step":""}))),s=[{title:oe[0].title,value:"1",component:Se},{title:oe[1].title,value:"2",component:Ge},{title:oe[2].title,value:"3",component:ga},{title:oe[3].title,value:"4",component:Pa},{title:oe[4].title,value:"5",component:ja},{title:oe[5].title,value:"6",component:Ra}];return{router:e,patient:o,dischargeFormData:r,stepperTitle:"Neonatal Discharge",currentOpenStepper:"1",wizardData:c,stepperData:s,updateStatus:e=>{e&&e.value&&c.value.forEach((a,o)=>{e.value===(o+1).toString()?(a.class="open_step common_step",a.checked=!1):o<parseInt(e.value)-1?(a.class="common_step color_white",a.checked=!0):(a.class="common_step",a.checked=!1)})},getSaveFunction:a=>a===s.length-1?async()=>{var a;if(null!==(a=o.value)&&void 0!==a&&a.patientID){if(!n.value)try{if(n.value=!0,!r.mainDiagnosis)return K("Please select a discharge diagnosis"),void(n.value=!1);if(!r.outcome)return K("Please select a discharge outcome"),void(n.value=!1);await X.dischargeNeonate(o.value.patientID,r,U.sessionDate()),Q("Neonate discharged successfully"),l.clearDischargeForm(o.value.patientID),e.push("/patientProfile")}catch(t){console.error("Neonatal discharge failed",t),Z("Failed to discharge neonate. Please try again."),n.value=!1}}else K("No patient selected")}:null,isDischarging:n}}});e("default",J(La,[["render",function(e,a,o,t,i,n){const l=H("Toolbar"),d=H("ProfileInformation"),c=H("NeonatalStepper"),s=H("ion-content"),u=H("ion-page");return r(),w(u,{class:"neonatal-discharge-page"},{default:I(()=>[p(l),p(s,{fullscreen:!0},{default:I(()=>[p(d),p(c,{wizardData:e.wizardData,StepperData:e.stepperData,stepperTitle:e.stepperTitle,openStepper:e.currentOpenStepper,backUrl:"/patientProfile",getSaveFunction:e.getSaveFunction,flowType:"discharge",headerStyle:"discharge-header",onUpdateStatus:e.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","onUpdateStatus"])]),_:1})]),_:1})}],["__scopeId","data-v-2edcd2ef"]]))}}});
