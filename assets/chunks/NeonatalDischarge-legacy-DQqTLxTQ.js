System.register(["./vendor-legacy-h4cyiMXU.js","../index-legacy-DA1Px0Bm.js","./neonatal_service-legacy-DFcFFAKz.js","./DemographicBar-legacy-ytreMea6.js","./NeonatalStepper-legacy-CgeF0YY_.js","./useAdmissionSignOff-legacy-D9MI883s.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-CRcfwVwU.js","./SaveProgressModal-legacy-B28PSln9.js","./images-legacy-CpQcoUy5.js","./enrollment-legacy-BWFKsMdA.js"],function(e,a){"use strict";var t,o,i,n,l,r,d,s,c,p,u,v,f,m,g,h,b,x,y,w,k,D,S,F,_,z,I,C,P,N,T,O,V,A,j,q,R,E,H,M,Y,G,U,L,B,$,W,J,K,Q,Z,X,ee,ae,te,oe,ie,ne,le,re,de,se,ce,pe,ue,ve,fe,me;return{setters:[e=>{t=e.d,o=e.b2,i=e.r,n=e.c,l=e.a,r=e.e,d=e.f,s=e.k,c=e.p,p=e.l,u=e.u,v=e.d1,f=e.L,m=e.K,g=e.Q,h=e.bH,b=e.w,x=e.m,y=e.bx,w=e.F,k=e.P,D=e.fe,S=e.bz,F=e.O,_=e.ba,z=e.i,I=e.b9,C=e.b8,P=e.bp,N=e.at,T=e.aM,O=e.bj,V=e.D,A=e.v,j=e.cx,q=e.cy,R=e.J,E=e.N,H=e.aF,M=e.ab,Y=e.ae,G=e.am,U=e.eU,L=e.H},e=>{B=e.u,$=e.H,W=e.ci,J=e.P,K=e._,Q=e.J,Z=e.z,X=e.cj,ee=e.aa,ae=e.T,te=e.t,oe=e.ch,ie=e.b,ne=e.F,le=e.w},e=>{re=e.N},e=>{de=e.D},e=>{se=e.g,ce=e.h,pe=e.i,ue=e.j,ve=e.k,fe=e.N},e=>{me=e.u},null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".profile-card[data-v-de193189]{width:100%;padding:1rem 2rem;padding-top:20px;background:#fff}.profile-content[data-v-de193189]{display:flex;gap:15px}.avatar-column[data-v-de193189]{flex-shrink:0}.avatar-box[data-v-de193189]{width:120px;height:130px;border-radius:10px;display:flex;align-items:center;justify-content:center}.male-bg[data-v-de193189]{background-color:#5983ba}.female-bg[data-v-de193189]{background-color:#876d9b}.avatar-icon[data-v-de193189]{font-size:90px;color:#fff}.details-column[data-v-de193189]{display:flex;flex-direction:column;justify-content:center}.patient-name[data-v-de193189]{font-size:24px;font-weight:700;color:#4f4f4f;line-height:1.2;margin-bottom:5px}.bio-line[data-v-de193189]{font-size:14px;color:#666;margin-bottom:5px;display:flex;align-items:center;flex-wrap:wrap}.bullet[data-v-de193189]{margin:0 8px;color:#999}.info-row[data-v-de193189]{font-size:14px;margin-bottom:3px;color:#333}.label[data-v-de193189]{color:#666;margin-right:5px}.value[data-v-de193189]{font-weight:600;color:#000}.form-title[data-v-de193189]{text-align:center;font-size:25px;font-weight:600;color:#00190e;margin:20px 0 10px;text-transform:uppercase}.mother-name-section[data-v-de193189]{max-width:900px;margin:0 auto;padding:0 5px}.mother-name-section[data-v-de193189] .custom-input{--background: #f5f5f5;--border-color: #d0d0d0;--color: #666666;cursor:not-allowed;opacity:.9}.mother-name-section[data-v-de193189] h6{color:#666;font-weight:500}.mother-name-section[data-v-de193189] .custom-input input{cursor:not-allowed}.vitals-header[data-v-c63c7f2d]{padding:5px 30px;display:flex;flex-direction:column;gap:15px;background-color:#fff}.detail-row[data-v-c63c7f2d]{display:flex;flex-direction:column;gap:5px;font-size:16px;color:#333;width:100%}.detail-label[data-v-c63c7f2d]{font-size:16px;padding:15px 0;color:#000;align-self:flex-start}.status-value[data-v-c63c7f2d]{color:#000;align-self:flex-end;font-weight:500}.weight-box[data-v-c63c7f2d]{display:flex;align-items:center;background:#f4f4f4;border:1px solid #ccc;border-radius:4px;padding:8px 12px;font-size:15px;color:#333;width:auto;align-self:flex-end}.weight-value[data-v-c63c7f2d]{font-weight:500}.weight-separator[data-v-c63c7f2d]{margin:0 10px;color:#999}.section-subtitle[data-v-c63c7f2d]{font-size:18px;font-weight:700;color:#00190e;margin-top:10px}.discharge-diagnosis-wrapper[data-v-fe875052]{padding:0 2rem 2rem}.diagnosis-section[data-v-fe875052]{margin-bottom:30px}.validation-error[data-v-fe875052]{color:#dc3545;background-color:#f8d7da;border:1px solid #f5c6cb;padding:12px 16px;border-radius:8px;font-size:14px;font-weight:500;margin-top:20px}.discharge-medications-wrapper[data-v-5243432a]{padding:0 2rem 2rem}.section[data-v-5243432a]{margin-bottom:30px}.section[data-v-5243432a]:hover{box-shadow:none}.section-title[data-v-5243432a]{font-size:18px;font-weight:600;color:#000;margin-bottom:15px}.past-history-list[data-v-5243432a]{display:flex;flex-direction:column;gap:10px}.history-item[data-v-5243432a]{background-color:#e8f5e9;border:1px solid #c8e6c9;border-radius:10px;padding:12px 16px;font-size:16px;color:#1b5e20;width:100%}.final-medications-list[data-v-5243432a]{display:flex;flex-direction:column;gap:10px}.final-med-item[data-v-5243432a]{background-color:#e8f5e9;border:1px solid #c8e6c9;border-radius:10px;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;width:100%;box-shadow:0 1px 2px rgba(0,0,0,.05);transition:all .2s ease}.final-med-item[data-v-5243432a]:hover{background-color:#dcedc8;box-shadow:0 2px 4px rgba(0,0,0,.08)}.med-name[data-v-5243432a]{font-size:16px;color:#1b5e20;font-weight:500}.delete-btn[data-v-5243432a]{background:rgba(255,255,255,.5);border:none;border-radius:50%;width:32px;height:32px;padding:0;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#2e7d32;transition:all .2s ease}.delete-btn[data-v-5243432a]:hover{background-color:#ffcdd2;color:#c62828}.trash-icon[data-v-5243432a]{font-size:18px}.empty-message[data-v-5243432a]{color:#999;font-style:italic;padding:10px 0}.prescription-table[data-v-5243432a]{border:2px solid #b3b3b3;border-radius:8px;overflow:visible}.table-header[data-v-5243432a]{display:grid;grid-template-columns:2fr 2fr 2fr;gap:10px;padding:12px 16px;background-color:#f5f5f5;font-weight:600;font-size:14px;color:#666;border-top-left-radius:6px;border-top-right-radius:6px}.table-row[data-v-5243432a]{display:grid;grid-template-columns:2fr 2fr 2fr;gap:10px;padding:16px;border-top:1px solid #e0e0e0;align-items:center}.med-name-cell[data-v-5243432a]{font-size:16px;color:#333}.frequency-cell[data-v-5243432a]{display:flex;position:relative}.custom-frequency-wrapper[data-v-5243432a]{position:relative;width:100%;cursor:pointer}.frequency-select[data-v-5243432a]{width:100%;padding:8px 40px 8px 12px;border:2px solid #b3b3b3;border-radius:6px;font-size:14px;background-color:#fff;color:#333;cursor:pointer;outline:none}.frequency-select[data-v-5243432a]:focus{border-color:#4caf50}.custom-frequency-wrapper .dropdown-icon[data-v-5243432a]{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:18px;color:#666;pointer-events:none}.frequency-dropdown-container[data-v-5243432a]{position:absolute;top:100%;left:0;right:0;border:2px solid #b3b3b3;border-radius:6px;background:#fff;overflow:hidden;margin-top:5px;z-index:100}.frequency-dropdown-item[data-v-5243432a]{padding:10px 12px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background-color .15s;border-bottom:1px solid #f0f0f0}.frequency-dropdown-item[data-v-5243432a]:last-child{border-bottom:none}.frequency-dropdown-item[data-v-5243432a]:hover{background-color:#f9f9f9}.frequency-dropdown-item.selected[data-v-5243432a]{background-color:#e8f5e9}.frequency-dropdown-item span[data-v-5243432a]{font-size:14px;color:#333}.frequency-dropdown-item .check-icon[data-v-5243432a]{font-size:18px;color:#4caf50}.dosage-cell[data-v-5243432a]{display:flex;gap:10px;align-items:center}.dosage-input[data-v-5243432a]{flex:1;padding:8px 12px;border:2px solid #b3b3b3;border-radius:6px;font-size:14px;width:50%;outline:none}.dosage-input[data-v-5243432a]:focus{border-color:#4caf50}.add-btn[data-v-5243432a]{background:none;border:none;cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center}.add-icon[data-v-5243432a]{font-size:32px;color:#4caf50;transition:transform .2s}.add-btn:hover .add-icon[data-v-5243432a]{transform:scale(1.1)}.search-wrapper[data-v-5243432a]{position:relative;margin-bottom:0}.search-icon[data-v-5243432a]{position:absolute;left:16px;top:50%;transform:translateY(-50%);font-size:20px;color:#666;pointer-events:none;z-index:1}.search-input[data-v-5243432a]{width:100%;padding:12px 16px 12px 48px;border:2px solid #b3b3b3;border-radius:8px;font-size:16px;outline:none;transition:border-color .2s;background-color:#fff;color:#333}.search-input[data-v-5243432a]:focus{border-color:#4caf50}.search-input[data-v-5243432a]::placeholder{color:#999}.dropdown-container[data-v-5243432a]{border:2px solid #b3b3b3;border-radius:8px;background:#fff;overflow:hidden;margin-top:5px;max-height:300px;overflow-y:auto}.dropdown-item[data-v-5243432a]{padding:14px 16px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background-color .15s;border-bottom:1px solid #f0f0f0}.dropdown-item[data-v-5243432a]:last-child{border-bottom:none}.dropdown-item[data-v-5243432a]:hover{background-color:#f9f9f9}.dropdown-item.selected[data-v-5243432a]{background-color:#e8f5e9}.dropdown-item span[data-v-5243432a]{font-size:15px;color:#333}.check-icon[data-v-5243432a]{font-size:20px;color:#4caf50;flex-shrink:0}.clinic-follow-up-wrapper[data-v-ed7c5ffd]{background-color:#f5f5f5;padding-bottom:1rem}.info-banner[data-v-ed7c5ffd]{background-color:#fedf89;padding:12px 16px;margin-bottom:20px;border-radius:0;width:100%;font-size:14px;color:#856404}.saved-appointments[data-v-ed7c5ffd]{padding:0 16px;margin-bottom:16px}.appointment-item[data-v-ed7c5ffd]{background-color:#fff;border-radius:12px;padding:16px;margin-bottom:12px;box-shadow:0 1px 3px rgba(0,0,0,.08);transition:box-shadow .2s ease;border:none}.appointment-item[data-v-ed7c5ffd]:hover{box-shadow:0 2px 6px rgba(0,0,0,.12)}.appointment-header[data-v-ed7c5ffd]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.clinic-info[data-v-ed7c5ffd]{display:flex;align-items:center;gap:8px}.clinic-icon[data-v-ed7c5ffd]{font-size:20px;color:#333}.clinic-name[data-v-ed7c5ffd]{font-size:16px;font-weight:600;color:#000}.appointment-date[data-v-ed7c5ffd]{display:flex;align-items:center;gap:6px;color:#4caf50;font-size:14px;font-weight:500}.calendar-icon[data-v-ed7c5ffd]{font-size:18px;color:#4caf50}.clinic-type[data-v-ed7c5ffd]{font-size:14px;color:#666;margin-left:28px}.add-clinic-section[data-v-ed7c5ffd]{padding:0 16px}.section-title[data-v-ed7c5ffd]{font-size:18px;font-weight:600;color:#000;margin-bottom:15px}.form-container[data-v-ed7c5ffd]{background-color:#fff;border-radius:12px;padding:20px;box-shadow:0 1px 3px rgba(0,0,0,.08);transition:box-shadow .2s ease;border:none}.form-container[data-v-ed7c5ffd]:hover{box-shadow:0 2px 6px rgba(0,0,0,.12)}.clinic-label[data-v-ed7c5ffd]{display:flex;align-items:center;gap:8px;margin-bottom:16px;font-size:16px;font-weight:500;color:#333}.label-icon[data-v-ed7c5ffd]{font-size:20px}.form-field[data-v-ed7c5ffd]{margin-bottom:16px;position:relative}.custom-select-wrapper[data-v-ed7c5ffd]{position:relative;cursor:pointer}.clinic-select[data-v-ed7c5ffd]{width:100%;padding:12px 40px 12px 16px;border:2px solid #b3b3b3;border-radius:8px;font-size:14px;background-color:#fff;color:#333;cursor:pointer;outline:none}.clinic-select.placeholder[data-v-ed7c5ffd]{color:#999}.clinic-select[data-v-ed7c5ffd]:focus{border-color:#4caf50}.dropdown-icon[data-v-ed7c5ffd]{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:20px;color:#666;pointer-events:none}.dropdown-container[data-v-ed7c5ffd]{position:absolute;top:100%;left:0;right:0;border:2px solid #b3b3b3;border-radius:8px;background:#fff;overflow:hidden;margin-top:5px;max-height:250px;overflow-y:auto;z-index:100;box-shadow:0 4px 12px rgba(0,0,0,.15)}.dropdown-item[data-v-ed7c5ffd]{padding:14px 16px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background-color .15s;border-bottom:1px solid #f0f0f0}.dropdown-item[data-v-ed7c5ffd]:last-child{border-bottom:none}.dropdown-item[data-v-ed7c5ffd]:hover{background-color:#f9f9f9}.dropdown-item.selected[data-v-ed7c5ffd]{background-color:#e8f5e9}.dropdown-item span[data-v-ed7c5ffd]{font-size:15px;color:#333}.check-icon[data-v-ed7c5ffd]{font-size:20px;color:#4caf50;flex-shrink:0}.date-field[data-v-ed7c5ffd]{position:relative}.date-input[data-v-ed7c5ffd]{width:100%;padding:12px 40px 12px 16px;border:2px solid #b3b3b3;border-radius:8px;font-size:14px;outline:none;color:#333}.date-input[data-v-ed7c5ffd]:focus{border-color:#4caf50}.date-icon[data-v-ed7c5ffd]{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:20px;color:#666;pointer-events:none}.save-button[data-v-ed7c5ffd]{width:100%;padding:12px 16px;background-color:#d4edda;border:1px solid #c3e6cb;border-radius:8px;font-size:14px;font-weight:600;color:#155724;cursor:pointer;transition:background-color .2s;text-transform:lowercase}.save-button[data-v-ed7c5ffd]:hover:not(:disabled){background-color:#c3e6cb}.save-button[data-v-ed7c5ffd]:disabled{opacity:.5;cursor:not-allowed}.health-education-content[data-v-ab0717a9]{background-color:#f5f5f5}.info-banner[data-v-ab0717a9]{background-color:#fedf89;padding:12px 16px;margin-bottom:20px;font-size:14px;color:#856404}.education-section[data-v-ab0717a9]{background-color:#fff;border-radius:8px;padding:20px;margin:0 20px 16px;box-shadow:0 1px 3px rgba(0,0,0,.08);transition:box-shadow .2s ease}.education-section[data-v-ab0717a9]:hover{box-shadow:0 2px 6px rgba(0,0,0,.12)}.section-title[data-v-ab0717a9]{font-size:16px;font-weight:700;color:#000;margin-bottom:12px;margin-top:0}.education-list[data-v-ab0717a9]{list-style-type:disc;padding-left:24px;margin:0}.education-list li[data-v-ab0717a9]{font-size:14px;color:#333;margin-bottom:6px;line-height:1.5}.discharge-outcome-wrapper[data-v-da5e6123]{background-color:#f5f5f5;padding:0 0 20px}.question-banner[data-v-da5e6123]{background-color:#fedf89;padding:12px 16px;margin-bottom:16px;font-size:14px;color:#856404;font-weight:500}.padding[data-v-da5e6123]{margin:0 16px}.select-label[data-v-da5e6123]{font-size:14px;color:#999;margin-bottom:12px;padding-left:4px}.outcome-list[data-v-da5e6123]{background-color:#fff;border-radius:12px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.08);transition:box-shadow .2s ease}.outcome-list[data-v-da5e6123]:hover{box-shadow:0 2px 6px rgba(0,0,0,.12)}.outcome-option[data-v-da5e6123]{padding:14px 16px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background-color .15s;border-bottom:1px solid #f0f0f0}.outcome-option[data-v-da5e6123]:last-child{border-bottom:none}.outcome-option[data-v-da5e6123]:hover{background-color:#f9f9f9}.outcome-option.selected[data-v-da5e6123]{background-color:#d4edda}.option-text[data-v-da5e6123]{font-size:15px;color:#333}.outcome-option.selected .option-text[data-v-da5e6123]{font-weight:500}.check-icon[data-v-da5e6123]{font-size:20px;color:#4caf50;flex-shrink:0}.signoff-wrapper[data-v-0462b6f8],.print-summary-wrapper[data-v-e4ae595a]{display:flex;flex-direction:column;gap:1rem}.print-content[data-v-e4ae595a]{display:flex;flex-direction:column;align-items:center;gap:2rem;padding:2rem}.print-actions[data-v-e4ae595a]{width:100%;max-width:400px}.print-button[data-v-e4ae595a]{--background: #016302;--background-hover: #014d02;--background-activated: #013d02;height:48px;font-size:16px;font-weight:600;text-transform:uppercase}@media print{.print-summary-wrapper[data-v-e4ae595a]{display:none!important}}.neonatal-discharge-page[data-v-fe55d434]{min-height:100vh}.neonatal-discharge-page ion-content[data-v-fe55d434]{--background: #f5f5f5}.neonatal-discharge-page[data-v-fe55d434] .discharge-header{text-align:center}.neonatal-discharge-page[data-v-fe55d434] .discharge-header h2{color:#666;font-size:18px;font-weight:600}\n/*$vite$:1*/",document.head.appendChild(a);const ge={class:"profile-card"},he={class:"profile-content"},be={class:"avatar-column"},xe={class:"details-column"},ye={class:"patient-name"},we={class:"bio-line"},ke={key:0,class:"info-row"},De={class:"value"},Se={class:"info-row"},Fe={class:"value"},_e={class:"mother-name-section"},ze=K(t({__name:"ProfileInformation",setup(e){const a=B(),{patient:t}=o(a),h=i(""),b=i(""),x=n(()=>{var e;return"M"===(null===(e=t.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender)?"male-bg":"female-bg"}),y=n(()=>{var e;const a=null===(e=t.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender;return"M"===a?"Male":"F"===a?"Female":a}),w=n(()=>{var e;const a=null===(e=t.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate;return a?$.calculateDisplayAge($.toStandardHisFormat(a)):""}),k=n(()=>{var e;const a=null===(e=t.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate;return a?$.toStandardHisDisplayFormat(a):""}),D=n(()=>({header:"Mother's Full Name",value:b.value,disabled:!0,type:"text",placeholder:"Searching..."}));return l(()=>{(async()=>{var e;const a=null===(e=t.value)||void 0===e?void 0:e.patientID;if(a)try{var o;const e=await re.checkEnrollment(a);e&&null!==(o=e.enrollment_data)&&void 0!==o&&o.date_enrolled&&(h.value=$.toStandardHisDisplayFormat(e.enrollment_data.date_enrolled))}catch(i){console.error("Failed to fetch admission date",i)}})(),(async()=>{try{const e=new J,a=await e.getGuardian();if(a&&a.length>0){const e=a.find(e=>{var a;const t=(null===(a=e.type)||void 0===a?void 0:a.b_is_to_a)||"";return"Mother"===t||"Parent"===t});if(e&&e.relation&&e.relation.names&&e.relation.names.length>0){const a=e.relation.names[0];b.value=[a.given_name,a.middle_name,a.family_name].filter(Boolean).join(" ")}else b.value="N/A"}else b.value="N/A"}catch(e){console.error("Failed to fetch mother's name",e),b.value="Unknown"}})()}),(e,a)=>{var o,i,n;return d(),r("div",ge,[s("div",he,[s("div",be,[s("div",{class:c(["avatar-box",x.value])},[p(u(f),{icon:u(v),class:"avatar-icon"},null,8,["icon"])],2)]),s("div",xe,[s("div",ye,[s("div",null,m(null===(o=u(t))||void 0===o||null===(o=o.personInformation)||void 0===o?void 0:o.given_name),1),s("div",null,m(null===(i=u(t))||void 0===i||null===(i=i.personInformation)||void 0===i?void 0:i.family_name),1)]),s("div",we,[g(m(y.value)+" ",1),a[0]||(a[0]=s("span",{class:"bullet"},"•",-1)),g(" "+m(w.value)+" ",1),a[1]||(a[1]=s("span",{class:"bullet"},"•",-1)),g(" "+m(k.value),1)]),(d(),r("div",ke,[a[2]||(a[2]=s("span",{class:"label"},"Admission Date:",-1)),s("span",De,m(h.value),1)])),s("div",Se,[a[3]||(a[3]=s("span",{class:"label"},"MRN:",-1)),s("span",Fe,m(null===(n=u(t))||void 0===n?void 0:n.ID),1)])])]),a[4]||(a[4]=s("div",{class:"form-title"},"DISCHARGE FORM",-1)),s("div",_e,[p(W,{config:D.value,allFormValues:{}},null,8,["config"])])])}}}),[["__scopeId","data-v-de193189"]]),Ie={class:"vitals-header"},Ce={class:"detail-row"},Pe={class:"detail-value status-value"},Ne={class:"detail-row"},Te={class:"weight-box"},Oe={class:"weight-value"},Ve={class:"weight-date"},Ae={class:"section-subtitle"},je=K(t({__name:"DischargeVitals",setup(e,{expose:a}){const t=ce[0],o=i(null),n=h(se),c=B(),v=i(""),f=i(""),g=i("");l(async()=>{var e;const a=null===(e=c.patient)||void 0===e?void 0:e.patientID;if(a)try{const e=await Q.getFirstObs(a,"Mother HIV status");if(e){let a=e.value_text;!a&&e.value_coded&&(a=String(e.value_coded)),v.value=a||"Unknown"}else v.value="Unknown";const o=await Q.getFirstObs(a,"Birth weight");var t;o&&(f.value=(null===(t=o.value_numeric)||void 0===t?void 0:t.toString())||"",o.obs_datetime&&(g.value=$.toStandardHisDisplayFormat(o.obs_datetime)))}catch(o){console.error("Error fetching vitals details",o)}});const x=e=>{n&&(n.weight=e.weight,n.heartRate=e.heartRate,n.respiratoryRate=e.respiratoryRate,n.oxygenSaturation=e.oxygenSaturation,n.temperature=e.temperature)};return b(()=>{var e;return null===(e=o.value)||void 0===e?void 0:e.formValues},e=>{e&&x(e)},{deep:!0}),b(()=>o.value,e=>{null!=e&&e.getFormValues&&x(e.getFormValues())},{immediate:!0}),a({getFormValues:()=>{var e,a;return(null===(e=o.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}},validateForm:()=>{var e,a;return(null===(e=o.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null}}),(e,a)=>(d(),r("div",null,[s("div",Ie,[s("div",Ce,[a[0]||(a[0]=s("span",{class:"detail-label"},"HIV status",-1)),s("span",Pe,m(v.value||"Loading..."),1)]),s("div",Ne,[a[2]||(a[2]=s("span",{class:"detail-label"},"Birth Weight",-1)),s("div",Te,[s("span",Oe,m(f.value?f.value+" kg":"..."),1),a[1]||(a[1]=s("span",{class:"weight-separator"},"|",-1)),s("span",Ve,"Date: "+m(g.value||"..."),1)])]),s("div",Ae,m(u(t).subtitle),1)]),p(Z,{formData:u(t).formData,ref_key:"formRef",ref:o},null,8,["formData"])]))}}),[["__scopeId","data-v-c63c7f2d"]]),qe={class:"discharge-diagnosis-wrapper"},Re={class:"diagnosis-section"},Ee={class:"diagnosis-section"},He={key:0,class:"validation-error"},Me=K(t({__name:"DischargeDiagnosis",setup(e,{expose:a}){const t=h(se),o=i(null),l=i(null),c=i(null),u=[{label:"Hypoglycaemia (symptomatic)",value:"Hypoglycaemia1"},{label:"Abscess",value:"Abscess"},{label:"Fever",value:"Fever"},{label:"Birth Asphyxia",value:"Asphyxia"},{label:"Neonatal Sepsis (Early onset - Symptomatic)",value:"Neonatal Sepsis - Early Onset"},{label:"Prematurity with Respiratory Distress",value:"Prematurity with RDS"},{label:"Suspected Neonatal Sepsis",value:"Sepsis_Sus"},{label:"Possible Meconium Aspiration",value:"Meconium Aspiration"}],v=n(()=>({componentType:"searchableDropdown",header:"Select the Discharge Diagnosis",name:"mainDiagnosis",placeholder:"Search",dropdownHeader:"Select ONE",options:u,multiple:!1,bold:!0,initialValue:(null==t?void 0:t.mainDiagnosis)||null,validation:e=>e?null:"A main Discharge Diagnosis is required."})),f=n(()=>({componentType:"searchableDropdown",header:"Other problems (If any)",name:"otherProblems",placeholder:"Search",dropdownHeader:"Select problems",options:u,multiple:!0,bold:!0,initialValue:(null==t?void 0:t.otherProblems)||[]})),g=e=>{t&&(t.mainDiagnosis=e.value,o.value=null)},b=e=>{t&&(t.otherProblems=e.value)};return a({validateForm:()=>null!=t&&t.mainDiagnosis?(o.value=null,null):(o.value="A main Discharge Diagnosis is required.",{mainDiagnosis:"Required"}),getFormValues:()=>({})}),(e,a)=>(d(),r("div",qe,[s("div",Re,[p(X,{config:v.value,allFormValues:{},onFieldChanged:g,ref_key:"mainDiagnosisRef",ref:l},null,8,["config"])]),s("div",Ee,[p(X,{config:f.value,allFormValues:{},onFieldChanged:b,ref_key:"otherProblemsRef",ref:c},null,8,["config"])]),o.value?(d(),r("div",He,m(o.value),1)):x("",!0)]))}}),[["__scopeId","data-v-fe875052"]]),Ye={class:"discharge-medications-wrapper"},Ge={class:"section"},Ue={key:0,class:"past-history-list"},Le={key:1,class:"empty-message"},Be={class:"section"},$e={key:0,class:"final-medications-list"},We={class:"med-name"},Je=["onClick"],Ke={key:1,class:"empty-message"},Qe={key:0,class:"section"},Ze={class:"prescription-table"},Xe={class:"med-name-cell"},ea={class:"frequency-cell"},aa=["onClick"],ta=["value"],oa={key:0,class:"frequency-dropdown-container"},ia=["onClick"],na={class:"dosage-cell"},la=["onUpdate:modelValue"],ra=["onClick"],da={class:"section"},sa={class:"search-wrapper"},ca={key:0,class:"dropdown-container"},pa=["onClick"],ua=K(t({__name:"DischargeMedications",setup(e,{expose:a}){const t=h(se),o=["Paracetamol","Gentamicin","Wrapped","KMC","Resuscitaire","BVM Ventilation","Nasal Cannulae Oxygen","Amoxicillin","Ampicillin","Penicillin","Ceftriaxone","Nevirapine","Zidovudine","Multivitamin"],v=i(["Gentamicin"]),g=i([]),b=["once a day","twice a day","3 times a day","4 times a day"],N=i(null),T=n(()=>t&&t.medications?t.medications:[]),O=i(""),V=i(!1),A=i([...o]),j=()=>{const e=O.value.toLowerCase();A.value=e?o.filter(a=>a.toLowerCase().includes(e)):[...o]},q=e=>g.value.some(a=>a.name===e),R=e=>{const a=e.target;a.closest(".search-wrapper")||a.closest(".dropdown-container")||(V.value=!1),a.closest(".custom-frequency-wrapper")||a.closest(".frequency-dropdown-container")||(N.value=null)};return l(()=>{document.addEventListener("click",R)}),y(()=>{document.removeEventListener("click",R)}),a({validateForm:()=>null,getFormValues:()=>({})}),(e,a)=>(d(),r("div",Ye,[s("div",Ge,[a[2]||(a[2]=s("h3",{class:"section-title"},"Past Medical History",-1)),v.value.length>0?(d(),r("div",Ue,[(d(!0),r(w,null,k(v.value,(e,a)=>(d(),r("div",{key:a,class:"history-item"},m(e),1))),128))])):(d(),r("div",Le,"No past medical history"))]),s("div",Be,[a[3]||(a[3]=s("h3",{class:"section-title"},"Medications given on discharge",-1)),T.value.length>0?(d(),r("div",$e,[(d(!0),r(w,null,k(T.value,(e,a)=>(d(),r("div",{key:a,class:"final-med-item"},[s("span",We,m(e.name),1),s("button",{onClick:e=>(e=>{t&&t.medications&&t.medications.splice(e,1)})(a),class:"delete-btn",type:"button"},[p(u(f),{icon:u(D),class:"trash-icon"},null,8,["icon"])],8,Je)]))),128))])):(d(),r("div",Ke,"No medications added yet"))]),g.value.length>0?(d(),r("div",Qe,[a[5]||(a[5]=s("h3",{class:"section-title"},"Prescription Details",-1)),s("div",Ze,[a[4]||(a[4]=s("div",{class:"table-header"},[s("span",null,"Name"),s("span",null,"Frequency"),s("span",null,"Dosage")],-1)),(d(!0),r(w,null,k(g.value,(e,a)=>(d(),r("div",{key:a,class:"table-row"},[s("span",Xe,m(e.name),1),s("div",ea,[s("div",{class:"custom-frequency-wrapper",onClick:e=>(e=>{N.value===e?N.value=null:N.value=e})(a)},[s("input",{type:"text",value:e.frequency,readonly:"",class:"frequency-select"},null,8,ta),p(u(f),{icon:u(S),class:"dropdown-icon"},null,8,["icon"])],8,aa),N.value===a?(d(),r("div",oa,[(d(),r(w,null,k(b,t=>s("div",{key:t,class:c(["frequency-dropdown-item",{selected:e.frequency===t}]),onClick:e=>((e,a)=>{g.value[e].frequency=a,N.value=null})(a,t)},[s("span",null,m(t),1),e.frequency===t?(d(),F(u(f),{key:0,icon:u(_),class:"check-icon"},null,8,["icon"])):x("",!0)],10,ia)),64))])):x("",!0)]),s("div",na,[z(s("input",{type:"text","onUpdate:modelValue":a=>e.dosage=a,placeholder:"Enter dosage",class:"dosage-input"},null,8,la),[[I,e.dosage]]),s("button",{onClick:e=>(e=>{const a=g.value[e];a.dosage&&""!==a.dosage.trim()?t?(t.medications||(t.medications=[]),t.medications.push({name:a.name,frequency:a.frequency,dosage:a.dosage}),console.log("Added medication:",a.name),console.log("Total medications:",t.medications.length),console.log("Medications array:",t.medications),g.value.splice(e,1)):console.error("Discharge form not found"):alert("Please enter dosage before adding")})(a),class:"add-btn",type:"button"},[p(u(f),{icon:u(C),class:"add-icon"},null,8,["icon"])],8,ra)])]))),128))])])):x("",!0),s("div",da,[s("div",sa,[p(u(f),{icon:u(P),class:"search-icon"},null,8,["icon"]),z(s("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>O.value=e),placeholder:"Search",class:"search-input",onInput:j,onFocus:a[1]||(a[1]=e=>V.value=!0)},null,544),[[I,O.value]])]),V.value&&A.value.length>0?(d(),r("div",ca,[(d(!0),r(w,null,k(A.value,e=>(d(),r("div",{key:e,class:c(["dropdown-item",{selected:q(e)}]),onClick:a=>{var t;q(t=e)||(g.value.push({name:t,frequency:"once a day",dosage:""}),V.value=!1,O.value="",A.value=[...o])}},[s("span",null,m(e),1),q(e)?(d(),F(u(f),{key:0,icon:u(_),class:"check-icon"},null,8,["icon"])):x("",!0)],10,pa))),128))])):x("",!0)])]))}}),[["__scopeId","data-v-5243432a"]]),va={class:"clinic-follow-up-wrapper"},fa={key:0,class:"saved-appointments"},ma={class:"appointment-header"},ga={class:"clinic-info"},ha={class:"clinic-name"},ba={class:"appointment-date"},xa={class:"clinic-type"},ya={class:"add-clinic-section"},wa={class:"form-container"},ka={class:"clinic-label"},Da={class:"form-field"},Sa=["value"],Fa={key:0,class:"dropdown-container"},_a=["onClick"],za={class:"form-field date-field"},Ia=["disabled"],Ca=K(t({__name:"ClinicFollowUp",setup(e,{expose:a}){const t=h(se),o=n(()=>t&&t.appointments?t.appointments:[]),v=n(()=>o.value.length+1),g=n(()=>`Clinic ${v.value}`),b=["Health Center follow up","Specialist Clinic","General Outpatient","Immunization"],D=i(!1),C=i({clinicName:"",clinicType:"",date:""}),P=()=>{D.value=!D.value},O=n(()=>""!==C.value.clinicType&&""!==C.value.date),V=e=>{if(!e)return"";const a=new Date(e);return`${a.getDate()} ${a.toLocaleString("en-US",{month:"short"})} ${a.getFullYear()}`},A=()=>{O.value&&t&&(t.appointments||(t.appointments=[]),t.appointments.push({clinicName:g.value,clinicType:C.value.clinicType,date:C.value.date}),C.value={clinicName:"",clinicType:"",date:""})},j=e=>{const a=e.target;a.closest(".custom-select-wrapper")||a.closest(".dropdown-container")||(D.value=!1)};return l(()=>{document.addEventListener("click",j)}),y(()=>{document.removeEventListener("click",j)}),a({validateForm:()=>null,getFormValues:()=>({})}),(e,a)=>(d(),r("div",va,[a[3]||(a[3]=s("div",{class:"info-banner"},"You can assign clinic days for the baby.",-1)),o.value.length>0?(d(),r("div",fa,[a[1]||(a[1]=s("h3",{class:"section-title"},"Saved Appointments",-1)),(d(!0),r(w,null,k(o.value,(e,a)=>(d(),r("div",{key:a,class:"appointment-item"},[s("div",ma,[s("div",ga,[p(u(f),{icon:u(N),class:"clinic-icon"},null,8,["icon"]),s("span",ha,m(e.clinicName),1)]),s("div",ba,[s("span",null,m(V(e.date)),1),p(u(f),{icon:u(T),class:"calendar-icon"},null,8,["icon"])])]),s("div",xa,m(e.clinicType),1)]))),128))])):x("",!0),s("div",ya,[a[2]||(a[2]=s("h3",{class:"section-title"},"Add a clinic day",-1)),s("div",wa,[s("div",ka,[p(u(f),{icon:u(N),class:"label-icon"},null,8,["icon"]),s("span",null,m(g.value),1)]),s("div",Da,[s("div",{class:"custom-select-wrapper",onClick:P},[s("input",{type:"text",value:C.value.clinicType||"Select clinic type",readonly:"",class:c(["clinic-select",{placeholder:!C.value.clinicType}])},null,10,Sa),p(u(f),{icon:u(S),class:"dropdown-icon"},null,8,["icon"])]),D.value?(d(),r("div",Fa,[(d(),r(w,null,k(b,e=>s("div",{key:e,class:c(["dropdown-item",{selected:C.value.clinicType===e}]),onClick:a=>(e=>{C.value.clinicType=e,D.value=!1})(e)},[s("span",null,m(e),1),C.value.clinicType===e?(d(),F(u(f),{key:0,icon:u(_),class:"check-icon"},null,8,["icon"])):x("",!0)],10,_a)),64))])):x("",!0)]),s("div",za,[z(s("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=e=>C.value.date=e),placeholder:"Clinic date",class:"date-input"},null,512),[[I,C.value.date]]),p(u(f),{icon:u(T),class:"date-icon"},null,8,["icon"])]),s("button",{onClick:A,disabled:!O.value,class:"save-button",type:"button"},"save appointment",8,Ia)])])]))}}),[["__scopeId","data-v-ed7c5ffd"]]),Pa={class:"health-education-content"},Na=K(t({__name:"HealthEducation",setup(e,{expose:a}){const t=i(null),o=ce[4].formData,n=h(se),l=e=>{n&&(n.healthEducationGiven=e.healthEducationGiven||"",n.insecticideTreatedNetGiven=e.insecticideTreatedNetGiven||"")};return b(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&l(e)},{deep:!0}),b(()=>t.value,e=>{null!=e&&e.getFormValues&&l(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>t.value,validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(d(),r("div",Pa,[a[0]||(a[0]=O('<div class="info-banner" data-v-ab0717a9>Please educate the mother on the following:</div><div class="education-section" data-v-ab0717a9><h3 class="section-title" data-v-ab0717a9>1. Danger Signs</h3><ul class="education-list" data-v-ab0717a9><li data-v-ab0717a9>Jaundice</li><li data-v-ab0717a9>Convulsions</li><li data-v-ab0717a9>Not able to breast feed</li><li data-v-ab0717a9>Difficulties in breathing</li><li data-v-ab0717a9>Lethargic</li><li data-v-ab0717a9>Fever</li><li data-v-ab0717a9>Hypothermia</li><li data-v-ab0717a9>Abdominal distention</li><li data-v-ab0717a9>Bleeding from the cord and what to do if any</li></ul></div><div class="education-section" data-v-ab0717a9><h3 class="section-title" data-v-ab0717a9>1. GENERAL EDUCATION</h3><ul class="education-list" data-v-ab0717a9><li data-v-ab0717a9>Immunization</li><li data-v-ab0717a9>Family planning</li><li data-v-ab0717a9>Hygiene</li><li data-v-ab0717a9>Keeping baby warm</li><li data-v-ab0717a9>Malaria Prevention</li></ul></div>',3)),p(Z,{formData:u(o),ref_key:"formRef",ref:t},null,8,["formData"])]))}}),[["__scopeId","data-v-ab0717a9"]]),Ta={class:"discharge-outcome-wrapper"},Oa={class:"outcome-list padding"},Va=["onClick"],Aa={class:"option-text"},ja=K(t({__name:"DischargeOutcome",setup(e,{expose:a}){const t=h(se),o=["Discharged","Death (at LESS than 24 hours of age)","Death (at MORE than 24 hours of age)","Died during Admission","Absconded","Transferred to another ward","Transferred to another hospital","Discharged on request","Discharged on palliative care","Brought in dead - BID","Stillbirth"],n=i("");return t&&(n.value=t.outcome||""),b(n,e=>{t&&(t.outcome=e)}),a({validateForm:()=>n.value?null:{outcome:"Please select an outcome"},getFormValues:()=>({outcome:n.value})}),(e,a)=>(d(),r("div",Ta,[a[0]||(a[0]=s("div",{class:"question-banner"},"What happened to the baby?",-1)),a[1]||(a[1]=s("div",{class:"select-label padding"},"Select one",-1)),s("div",Oa,[(d(),r(w,null,k(o,e=>s("div",{key:e,class:c(["outcome-option",{selected:n.value===e}]),onClick:a=>(e=>{n.value=e})(e)},[s("span",Aa,m(e),1),n.value===e?(d(),F(u(f),{key:0,icon:u(_),class:"check-icon"},null,8,["icon"])):x("",!0)],10,Va)),64))])]))}}),[["__scopeId","data-v-da5e6123"]]),qa=()=>JSON.parse(JSON.stringify(pe)),Ra=V("neonatalDischargeStore",{state:()=>({activePatientId:null,dischargeForm:qa(),dischargeFormCache:{}}),actions:{initializeDischargeForm(e){if(null==e)return this.activePatientId=null,void Object.assign(this.dischargeForm,qa());this.activePatientId=e;const a=this.dischargeFormCache[String(e)];a?Object.assign(this.dischargeForm,a):Object.assign(this.dischargeForm,qa()),this.saveDischargeSnapshot()},saveDischargeSnapshot(){null!=this.activePatientId&&(this.dischargeFormCache[String(this.activePatientId)]=JSON.parse(JSON.stringify(this.dischargeForm)))},resetDischargeForm(){Object.assign(this.dischargeForm,qa()),this.saveDischargeSnapshot()},clearDischargeForm(e){delete this.dischargeFormCache[String(e)],this.activePatientId===e&&this.resetDischargeForm()}},persist:{paths:["activePatientId","dischargeForm","dischargeFormCache"]}}),Ea={class:"signoff-wrapper"},Ha=K(t({__name:"SignOff",setup(e,{expose:a}){const t=i(null),o=h(ue,null),l=h(se,null),s=n(()=>l?{form:l,config:ce[6]}:{form:o,config:ve[0]}),c=n(()=>{var e;return(null===(e=s.value.config)||void 0===e?void 0:e.formData)||[]}),u=n(()=>{var e;return(null===(e=s.value.config)||void 0===e?void 0:e.subtitle)||""});me(t);const v=e=>{const a=s.value.form;a&&(a.healthcareWorkerId=e.healthcareWorkerId||"",a.electronicSignature=e.electronicSignature||"",a.userRole=e.userRole||"",a.signOffDate=e.signOffDate||"")};return b(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&v(e)},{deep:!0}),b(()=>t.value,e=>{null!=e&&e.getFormValues&&v(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>t.value,validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(d(),r("div",Ea,[p(Z,{formData:c.value,subtitle:u.value,ref_key:"formRef",ref:t,class:"main-form"},null,8,["formData","subtitle"])]))}}),[["__scopeId","data-v-0462b6f8"]]),Ma={class:"printable-discharge-form"},Ya=t({__name:"PrintableDischargeForm",setup(e,{expose:a}){const t=B(),{patient:i}=o(t),l=ee(),s=h(se,{}),c=n(()=>{var e;const a=null===(e=i.value)||void 0===e?void 0:e.personInformation;return a&&`${a.given_name||""} ${a.family_name||""}`.trim()||"N/A"}),p=n(()=>{var e,a;return(null===(e=i.value)||void 0===e?void 0:e.nationalId)||(null===(a=i.value)||void 0===a?void 0:a.patientID)||"N/A"}),u=n(()=>l.userFacilityName||localStorage.getItem("facilityName")||"Healthcare Facility"),v=e=>null==e||""===e?"-":Array.isArray(e)?e.length?e.join(", "):"-":"object"==typeof e&&e.label?e.label:"object"==typeof e&&e.value?e.value:String(e);return a({exportPdf:async()=>{var e;const a=new j({orientation:"portrait",unit:"pt",format:"a4"}),t=a.internal.pageSize.getWidth(),o=28;let i=48;a.setFontSize(16),a.setFont("helvetica","bold"),a.text("Neonatal Discharge Summary",t/2,i,{align:"center"}),i+=20,a.setFontSize(12),a.setFont("helvetica","normal"),a.text(String(u.value),t/2,i,{align:"center"}),i+=30;const n=[["Patient Name",c.value],["NPID",p.value],["Date of Discharge",s.signOffDate||(new Date).toISOString().split("T")[0]]];q(a,{startY:i,head:[["Patient Details",""]],body:n,theme:"grid",headStyles:{fillColor:[1,99,2],textColor:255},margin:{left:o,right:o}}),i=a.lastAutoTable.finalY+20;const l=[["Main Diagnosis",v(s.mainDiagnosis)],["Other Problems",null===(e=s.otherProblems)||void 0===e?void 0:e.map(e=>v(e)).join(", ")]];q(a,{startY:i,head:[["Diagnosis",""]],body:l,theme:"grid",headStyles:{fillColor:[230,230,230],textColor:0},margin:{left:o,right:o}}),i=a.lastAutoTable.finalY+20;const r=[["Weight (g)",v(s.weight)],["Heart Rate",v(s.heartRate)],["Resp Rate",v(s.respiratoryRate)],["O2 Sat",v(s.oxygenSaturation)],["Temp",v(s.temperature)]];q(a,{startY:i,head:[["Discharge Vitals",""]],body:r,theme:"grid",headStyles:{fillColor:[230,230,230],textColor:0},margin:{left:o,right:o}}),i=a.lastAutoTable.finalY+20;const d=[["Outcome",v(s.outcome)]];q(a,{startY:i,head:[["Outcome",""]],body:d,theme:"grid",headStyles:{fillColor:[230,230,230],textColor:0},margin:{left:o,right:o}}),i=a.lastAutoTable.finalY+20;const f=[["Health Education Given",v(s.healthEducationGiven)],["Insecticide Treated Net Given",v(s.insecticideTreatedNetGiven)]];q(a,{startY:i,head:[["Health Education",""]],body:f,theme:"grid",headStyles:{fillColor:[230,230,230],textColor:0},margin:{left:o,right:o}}),i=a.lastAutoTable.finalY+20;const m=[["Healthcare Worker ID",v(s.healthcareWorkerId)],["Signature",v(s.electronicSignature)],["Role",v(s.userRole)],["Sign Off Date",v(s.signOffDate)]];q(a,{startY:i,head:[["Sign Off",""]],body:m,theme:"grid",headStyles:{fillColor:[230,230,230],textColor:0},margin:{left:o,right:o}});const g=`discharge-summary-${p.value}.pdf`;a.save(g)}}),(e,a)=>z((d(),r("div",Ma,null,512)),[[A,!1]])}}),Ga={class:"print-summary-wrapper"},Ua={class:"print-content"},La={class:"print-actions"},Ba=K(t({__name:"DischargePrint",setup(e,{expose:a}){const t=i(null),o=i(null),n=ce[7],l=n.formData,c=n.subtitle,v=async()=>{var e;null!==(e=o.value)&&void 0!==e&&e.exportPdf&&await o.value.exportPdf()};return a({getFormRef:()=>t.value,validateForm:()=>null,getFormValues:()=>({})}),(e,a)=>(d(),r("div",Ga,[p(Z,{formData:u(l),subtitle:u(c),ref_key:"formRef",ref:t,class:"main-form"},{printSection:R(()=>[s("div",Ua,[s("div",La,[p(u(E),{expand:"block",color:"primary",onClick:v,class:"print-button"},{default:R(()=>[p(u(f),{icon:u(H),slot:"start"},null,8,["icon"]),a[0]||(a[0]=g(" Print Discharge Summary ",-1))]),_:1})])])]),_:1},8,["formData","subtitle"]),p(Ya,{ref_key:"printablePrintRef",ref:o},null,512)]))}}),[["__scopeId","data-v-e4ae595a"]]),$a=t({name:"NeonatalDischarge",components:{IonPage:Y,IonContent:M,Toolbar:ae,DemographicBar:de,ProfileInformation:ze,NeonatalStepper:fe,DischargeVitals:je,DischargeDiagnosis:Me,DischargeMedications:ua,ClinicFollowUp:Ca,HealthEducation:Na,DischargeOutcome:ja,SignOff:Ha,DischargePrint:Ba},setup(){const e=G(),a=B(),{patient:t}=o(a),n=i(!1),l=Ra(),r=()=>{var e;const a=(e=>{const a=Number(e);return Number.isFinite(a)?a:null})(null===(e=t.value)||void 0===e?void 0:e.patientID);l.initializeDischargeForm(a)};r(),b(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.patientID},()=>r());const d=l.dischargeForm;U(se,d),b(()=>l.dischargeForm,()=>l.saveDischargeSnapshot(),{deep:!0});const s=i(ce.map((e,a)=>({title:e.title,number:a+1,checked:!1,class:0===a?"open_step common_step":"common_step",last_step:a===ce.length-1?"last_step":""}))),c=[{title:ce[0].title,value:"1",component:je},{title:ce[1].title,value:"2",component:Me},{title:ce[2].title,value:"3",component:ua},{title:ce[3].title,value:"4",component:Ca},{title:ce[4].title,value:"5",component:Na},{title:ce[5].title,value:"6",component:ja},{title:ce[6].title,value:"7",component:Ha},{title:ce[7].title,value:"8",component:Ba}];return{router:e,patient:t,dischargeFormData:d,stepperTitle:"Neonatal Discharge",currentOpenStepper:"1",wizardData:s,stepperData:c,updateStatus:e=>{e&&e.value&&s.value.forEach((a,t)=>{e.value===(t+1).toString()?(a.class="open_step common_step",a.checked=!1):t<parseInt(e.value)-1?(a.class="common_step color_white",a.checked=!0):(a.class="common_step",a.checked=!1)})},getSaveFunction:a=>6===a?async()=>{var e;if(null!==(e=t.value)&&void 0!==e&&e.patientID){if(!n.value)try{if(n.value=!0,!d.mainDiagnosis)return te("Please select a discharge diagnosis"),void(n.value=!1);if(!d.outcome)return te("Please select a discharge outcome"),void(n.value=!1);const e=await re.buildDischargeObservations(d,$.sessionDate());await oe(t.value.patientID,ie.DISCHARGE_PATIENT,e),ne("Neonate discharged successfully"),n.value=!1}catch(a){throw console.error("Neonatal discharge failed",a),le("Failed to discharge neonate. Please try again."),n.value=!1,a}}else te("No patient selected")}:7===a?async()=>{l.clearDischargeForm(t.value.patientID),e.push("/patientProfile")}:null,isDischarging:n}}});e("default",K($a,[["render",function(e,a,t,o,i,n){const l=L("Toolbar"),r=L("ProfileInformation"),s=L("NeonatalStepper"),c=L("ion-content"),u=L("ion-page");return d(),F(u,{class:"neonatal-discharge-page"},{default:R(()=>[p(l),p(c,{fullscreen:!0},{default:R(()=>[p(r),p(s,{wizardData:e.wizardData,StepperData:e.stepperData,stepperTitle:e.stepperTitle,openStepper:e.currentOpenStepper,backUrl:"/patientProfile",getSaveFunction:e.getSaveFunction,flowType:"discharge",headerStyle:"discharge-header",onUpdateStatus:e.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","onUpdateStatus"])]),_:1})]),_:1})}],["__scopeId","data-v-fe55d434"]]))}}});
