const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LabOrdersList-CjDWeSBB.js","./vendor-yRLTeOJQ.js","./lodash-NJiRuGo9.js","../vendor.DSeN8hNC.css","../index-DZfKDOkt.js","./apexcharts-kFb9FTI6.js","../index.C3e_uzxM.css","./BasicForm-BdUUZra0.js","./DateInputField-VS-nohsY.js","../DateInputField.BYUMEomf.css","../BasicForm.D5kkmva8.css","../LabOrdersList.dxNSfHm9.css","./DiagnosesHistory-BAnHip9h.js","./DashBox-CCObOZCR.js","./previousDiagnosis-ekyrDkq9.js","../previousDiagnosis.BDQ84dq0.css","../DiagnosesHistory.CtE9ra0K.css","./AllergiesContraindication-D5Mp296G.js","./UpcomingFeature-o4rIITMH.js","../UpcomingFeature.DBJv9ELz.css","../AllergiesContraindication.DSdMoqwN.css","./VisitsHistory-C8SZDn23.js","../VisitsHistory.BvPigtD4.css","./VitalsMeasurementsSummary-DwEsBj2a.js","../VitalsMeasurementsSummary.B3Ypki_f.css","./PatientProfile-CydJiO0l.js","./DemographicBar-D10l5VKb.js","../DemographicBar.DtnnoAYr.css","./SaveProgressModal-CscsLrta.js","../SaveProgressModal.DLXC0SP6.css","./Stepper-CrisIIyj.js","./NextAppointment-zNuV76bc.js","./group_validation-BB0xGjs8.js","./RadiologyStore-js1wSYQn.js","./useFormWizard-BhVOnad0.js","./drug_prescription_service-C6Iddj0c.js","./patient_diagnosis_service-DCYCIBg0.js","./ncd_appointment_service-jBw6PamT.js","../NextAppointment.CeCw2MGR.css","./OPDOutcome-CkDdf8zF.js","./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-DgxzEk-B.js","../LevelOfConsciousness.CaFy6Jya.css","./patient_complaints_service-s8LKwOLA.js","./formatServerData-Bzd28LzX.js","./usePatientProfile-B_0PdpHT.js","./Registration-B22yoa-e.js","./useLocation-U1mWoclV.js","./vaccines_service-B3Gs9w-z.js","./sms_service-B1WNkswz.js","./EIRreportsStore-DYWGR1Se.js","./Export-ubjVyPXe.js","../vaccines_service.DKZw05E0.css","../Registration.Bi4iWBa6.css","../usePatientProfile._e3z-u-D.css","../OPDOutcome.C442rlAl.css","./VitalsMixin.vue_vue_type_script_lang-B4Tg-jh4.js","./TreatmentPlan-uEF85nz_.js","../TreatmentPlan.BMJBT8Bg.css","./OPDDiagnosis-Qy35LG-H.js","../OPDDiagnosis.7O3p9TdL.css","./FeatusModal-BeBe72A8.js","../FeatusModal.Cfk5MYmH.css","./BasicCard-z2dou4B1.js","../BasicCard.CLPwwedX.css","./PastObstreticHistoryStore-WqjollQx.js","../Stepper.BiurJ0hT.css","./WeightHeightChart-B5y1J-9d.js","./chartjs-CA8tWjwt.js","../WeightHeightChart.BZ52GXpK.css","./weightAndHeight-CMVUT2_I.js","./customDatePicker-BBqTQf0C.js","../customDatePicker.twJBaIU5.css","../weightAndHeight.BG3IjMoY.css","./barcode-qrcode-reader-CqkDPBfR.js","./stock_service-CkoQBReH.js","./SetRelationship.vue_vue_type_script_lang-CIPNzyxL.js","./AdministerOtherVaccinesStore-CXK4HXYX.js","../PatientProfile.nhwpLnj5.css","./HTSPatientProfile-CpfLkelG.js","../HTSPatientProfile.Ber8elmc.css","./AETCPatientProfile-B7Bos0SS.js","./confirm_pregnancy_service-BRxsWHx6.js","./CPR-Dwmm7K58.js","./useRespiratoryRateOxygenForm-DbQFENyD.js","../CPR.C4Sa7ms4.css","./tasks-qO0ia47X.js","../AETCPatientProfile.Co4AUmtm.css","./BloodPressure-CCFJ3iV8.js","../BloodPressure.SJ33o6fB.css","./AncEnrollmentModal-B65xLgjj.js","../AncEnrollmentModal.CLq9tGu0.css","./LabourEnrollmentModal-B4kzrrqz.js","../LabourEnrollmentModal.D41Bsool.css","./PNCEnrollmentModal-CuPzEaEG.js","../PNCEnrollmentModal.DOzG4Wv1.css"])))=>i.map(i=>d[i]);
import{d as Rt,r as _,w as at,O as C,f as u,u as t,aS as mt,J as n,l as a,aQ as Le,e as y,dN as ct,Q as c,L as b,au as Be,F as Q,aR as He,aj as Ue,P as pt,_ as N,W as O,aN as Ge,k as o,K as v,cA as se,bX as ze,bU as Fe,aP as wt,z as Ye,D as We,a as oe,I as je,G as qe,dO as Ke,E as Qe,N as Ze,a2 as Ot,a3 as Et,bm as Je,a4 as T,a5 as m,p as le,dP as Kt,m as g,bZ as Xe,a6 as ie,R as ta,an as ea,cE as aa,aV as Pt,c as kt,H as Qt,cH as A,dQ as na,cX as sa,al as oa,ak as la,V as Zt,d9 as ia,da as q,aE as ra,b$ as ua,aG as Jt,cY as da,cz as D}from"./vendor-yRLTeOJQ.js";import{a7 as nt,_ as Nt,P as st,a8 as ca,$ as ma,m as re,a9 as pa,aa as fa,u as va,a as _a,f as ga,ab as tt,T as ya,w as R,S as et,J as Xt,H as U,ac as At,i as te,ad as ba,q as ee,G as K,n as Ca,ae,t as Dt,af as Ia}from"../index-DZfKDOkt.js";import{l as Pa}from"./lodash-NJiRuGo9.js";import{C as ka}from"./confirm_pregnancy_service-BRxsWHx6.js";import{u as Aa}from"./usePatientProfile-B_0PdpHT.js";import{f as Da}from"./formatServerData-Bzd28LzX.js";import{D as wa}from"./DemographicBar-D10l5VKb.js";import{i as Oa}from"./tasks-qO0ia47X.js";const Ea=Rt({__name:"ARTCard",props:{patient:{default:{}}},setup(V){const E=V,h=_(!1),P=_({artStartDate:"",arvNumber:"",fileNumber:"",currentOutcome:""}),S=async f=>{h.value=!0;try{const r=await nt.getProgramInformation(f);P.value={artStartDate:(()=>{const[d,M,B]=r.art_start_date.split("/"),G=r.art_start_date.match(/n\/a/i)?"":"(".concat(Ye(nt.getSessionDate()).diff("".concat(B,"-").concat(M,"-").concat(d),"months")," Month(s))");return"".concat(r.art_start_date," ").concat(G)})(),arvNumber:"".concat(r.arv_number," | Regimen: ").concat(r.current_regimen),fileNumber:r.filing_number.number,currentOutcome:r.current_outcome}}catch(r){console.error("Error fetching ART information:",r)}finally{h.value=!1}};return at(()=>E.patient,f=>{f&&f.patientID?S(f.patientID):P.value={artStartDate:"--",arvNumber:"--",fileNumber:"--",currentOutcome:"--"}},{immediate:!0,deep:!0}),(f,r)=>(u(),C(t(mt),null,{default:n(()=>[a(t(He),null,{default:n(()=>[a(t(Le),null,{default:n(()=>[h.value?(u(),C(t(ct),{key:0,animated:"",style:{width:"200px",height:"24px"}})):(u(),y(Q,{key:1},[a(t(b),{icon:t(Be)},null,8,["icon"]),r[0]||(r[0]=c(" ART Information ",-1))],64))]),_:1})]),_:1}),a(t(wt),null,{default:n(()=>[a(t(Ue),null,{default:n(()=>[h.value?(u(),y(Q,{key:0},pt(4,d=>a(t(N),{key:d},{default:n(()=>[a(t(ct),{slot:"start",animated:"",style:{width:"24px",height:"24px","border-radius":"50%"}}),a(t(O),null,{default:n(()=>[a(t(ct),{animated:"",style:{width:"120px",height:"16px","margin-bottom":"8px"}}),a(t(ct),{animated:"",style:{width:"180px",height:"20px"}})]),_:1})]),_:1})),64)):(u(),y(Q,{key:1},[a(t(N),null,{default:n(()=>[a(t(b),{icon:t(Ge),slot:"start"},null,8,["icon"]),a(t(O),null,{default:n(()=>[r[1]||(r[1]=o("h3",null,"ART Start Date",-1)),o("p",null,v(P.value.artStartDate),1)]),_:1})]),_:1}),a(t(N),null,{default:n(()=>[a(t(b),{icon:t(se),slot:"start"},null,8,["icon"]),a(t(O),null,{default:n(()=>[r[2]||(r[2]=o("h3",null,"ARV Number",-1)),o("p",null,v(P.value.arvNumber),1)]),_:1})]),_:1}),a(t(N),null,{default:n(()=>[a(t(b),{icon:t(ze),slot:"start"},null,8,["icon"]),a(t(O),null,{default:n(()=>[r[3]||(r[3]=o("h3",null,"File Number",-1)),o("p",null,v(P.value.fileNumber),1)]),_:1})]),_:1}),a(t(N),null,{default:n(()=>[a(t(b),{icon:t(Fe),slot:"start"},null,8,["icon"]),a(t(O),null,{default:n(()=>[r[4]||(r[4]=o("h3",null,"Current Outcome",-1)),o("p",null,v(P.value.currentOutcome),1)]),_:1})]),_:1})],64))]),_:1})]),_:1})]),_:1}))}}),Ra=Nt(Ea,[["__scopeId","data-v-7ec7b45c"]]),ne=[{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Is the pregnancy confirmed?*",class:"bold",selectedValue:"",name:"Pregnancy confirmed"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Was the pregnancy planned?*",selectedValue:"",class:"bold",name:"Pregnancy planned"},data:[{value:"Yes",name:"Yes",colSize:"2"},{value:"No",name:"No",colSize:"2"}]}}],Na=We("ANCEnrollmentStore",{state:()=>({ConfirmPregnancy:[...ne]}),actions:{setConfirmPregnancy(V){this.ConfirmPregnancy=V},getInitial(){return[...Pa.cloneDeep(ne)]}}}),ha={class:"header-content"},Sa={class:"title-section"},xa={class:"tasks-container"},Ta=["onClick"],Va={class:"task-icon-container"},Ma={class:"task-content"},$a={key:0,class:"task-status"},La={key:1,class:"empty-state"},Ba={class:"empty-icon"},Ha=Rt({__name:"TaskView",props:{tasks:{type:Object,required:!0}},setup(V){const E=_([]),h=V;oe(async()=>{const f=new st;E.value=[];const r=await new ca(f.getID()).getProgram();h.tasks.forEach(async d=>{var B,G,ot,lt;const M={orderNumber:(B=d.sortOrder)!=null?B:9999,label:(G=d.displayName)!=null?G:d.name,icon:d.icon,disabled:!1,taskCompleted:!1,task:d};if(!(typeof d.workflowID=="string"&&!await Oa(d.workflowID))&&!(typeof d.condition=="function"&&!await d.condition(h.tasks))&&!(typeof d.globalProperty=="string"&&!await ma.isProp("".concat(d.globalProperty,"=true"))))return typeof d.allowTaskAfterDeath=="boolean"&&d.allowTaskAfterDeath===!1&&/died/i.test("".concat((ot=r==null?void 0:r.program)==null?void 0:ot.outcome))&&new Date(st.getSessionDate())>=new Date((lt=r==null?void 0:r.program)==null?void 0:lt.startDate)&&(M.disabled=!0),typeof d.disabled=="function"&&(M.disabled=await d.disabled(h.tasks)),E.value.push(M),E.value.sort((it,ft)=>{var rt,$;return((rt=it.orderNumber)!=null?rt:9999)-(($=ft.orderNumber)!=null?$:9999)}),d})});const P=f=>{if(!f.disabled){if(f.task.action)S(),f.task.action();else if(f.task.component&&f.task.isFormComponent){re(pa,{},!1,{title:f.task.name,useComponent:f.task.component,onClose:S});return}}};function S(){ta.dismiss()}return(f,r)=>(u(),C(t(ie),null,{default:n(()=>[a(t(je),{class:"ion-no-border"},{default:n(()=>[a(t(qe),{class:"custom-header"},{default:n(()=>[o("div",ha,[o("div",Sa,[a(t(b),{icon:t(Ke),class:"header-icon"},null,8,["icon"]),a(t(Qe),{class:"custom-title"},{default:n(()=>[...r[0]||(r[0]=[c("Program Activities",-1)])]),_:1})]),a(t(Ze),{onClick:S,fill:"clear",shape:"round"},{default:n(()=>[a(t(b),{icon:t(Ot)},null,8,["icon"])]),_:1})])]),_:1})]),_:1}),a(t(Et),{class:"custom-content"},{default:n(()=>[o("div",xa,[E.value&&E.value.length>0?(u(),C(t(Je),{key:0,class:"tasks-grid"},{default:n(()=>[a(t(T),{class:"ion-justify-content-center"},{default:n(()=>[(u(!0),y(Q,null,pt(E.value,(d,M)=>(u(),C(t(m),{size:"12","size-sm":"6","size-md":"4","size-lg":"3",key:M,class:"task-col"},{default:n(()=>[o("div",{class:le(["task-card",{"task-completed":d.taskCompleted,"task-disabled":d.disabled}]),onClick:B=>!d.disabled&&P(d)},[o("div",Va,[a(t(b),{color:d.taskCompleted?"success":"primary",icon:d.taskCompleted?t(Kt):d.icon,class:"task-icon"},null,8,["color","icon"])]),o("div",Ma,[a(t(O),{class:"task-label"},{default:n(()=>[c(v(d.label),1)]),_:2},1024),d.taskCompleted?(u(),y("div",$a,[a(t(b),{icon:t(Kt),color:"success"},null,8,["icon"]),r[1]||(r[1]=o("span",null,"Completed",-1))])):g("",!0)])],10,Ta)]),_:2},1024))),128))]),_:1})]),_:1})):(u(),y("div",La,[o("div",Ba,[a(t(b),{icon:t(Xe)},null,8,["icon"])]),r[2]||(r[2]=o("h3",null,"No Activities Yet",-1)),r[3]||(r[3]=o("p",null,"Your program activities will appear here once they're available.",-1))]))])]),_:1})]),_:1}))}}),Ua=Nt(Ha,[["__scopeId","data-v-244ec438"]]);async function Ga(V,E="tasks"){var S,f;const P=(S={1:fa}[V])!=null?S:{};re(Ua,{},!0,{tasks:(f=P==null?void 0:P[E])!=null?f:[]})}const za={key:4,class:"content_manager"},Fa={style:{display:"flex","justify-content":"space-between"}},Ya={class:"p_name_image"},Wa={style:{width:"100%"}},ja={class:"p_name"},qa={style:{display:"flex","justify-content":"space-between"}},Ka={class:"start-visit"},Qa={class:"button-group"},Za={class:"send-button-container action-buttons"},Ja={class:"send-button-container"},Xa={class:"send-button-container"},tn={class:"send-button-container"},en={style:{"padding-left":"10px","padding-right":"10px"}},an={class:"vitalsUnits"},nn={style:{width:"100%",overflow:"scroll",height:"64px"}},sn={key:0,style:{"margin-top":"1px"}},on={key:0,class:"patient-chart"},ln={class:"patient-chart"},rn={key:1,class:"patient-chart"},un={key:1},dn={key:2},cn={key:3},mn={key:4},pn={key:5},fn={class:"rght-drpm"},vn=Rt({__name:"PatientProfile",setup(V,{expose:E}){const h=A(()=>D(()=>import("./LabOrdersList-CjDWeSBB.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url)),P=A(()=>D(()=>import("./DiagnosesHistory-BAnHip9h.js"),__vite__mapDeps([12,1,2,3,4,5,6,13,7,8,9,10,14,15,16]),import.meta.url)),S=A(()=>D(()=>import("./AllergiesContraindication-D5Mp296G.js"),__vite__mapDeps([17,1,2,3,4,5,6,18,19,20]),import.meta.url)),f=A(()=>D(()=>import("./VisitsHistory-C8SZDn23.js"),__vite__mapDeps([21,1,2,3,4,5,6,22]),import.meta.url)),r=A(()=>D(()=>import("./VitalsMeasurementsSummary-DwEsBj2a.js"),__vite__mapDeps([23,1,2,3,4,5,6,13,7,8,9,10,14,15,24]),import.meta.url)),d=A(()=>D(()=>import("./PatientProfile-CydJiO0l.js"),__vite__mapDeps([25,1,2,3,4,5,6,26,27,28,29,30,31,13,7,8,9,10,0,11,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,14,15,57,58,59,60,61,62,63,64,18,19,65,66,67,68,69,70,71,72,73,74,75,76,77]),import.meta.url)),M=A(()=>D(()=>import("./HTSPatientProfile-CpfLkelG.js"),__vite__mapDeps([78,1,2,3,4,5,6,47,48,49,50,51,44,45,46,52,53,66,67,68,69,7,8,9,10,70,71,55,43,72,79]),import.meta.url)),B=A(()=>D(()=>import("./AETCPatientProfile-B7Bos0SS.js"),__vite__mapDeps([80,1,2,3,4,5,6,81,44,45,46,47,48,49,50,51,52,53,43,26,27,82,83,84,85,86]),import.meta.url)),G=A(()=>D(()=>import("./WeightHeightChart-B5y1J-9d.js"),__vite__mapDeps([66,4,1,2,3,5,6,67,68]),import.meta.url)),ot=A(()=>D(()=>import("../index-DZfKDOkt.js").then(s=>s.cy),__vite__mapDeps([4,1,2,3,5,6]),import.meta.url)),lt=A(()=>D(()=>import("./BloodPressure-CCFJ3iV8.js"),__vite__mapDeps([87,1,2,3,5,4,6,88]),import.meta.url)),it=A(()=>D(()=>import("./AncEnrollmentModal-B65xLgjj.js"),__vite__mapDeps([89,1,2,3,4,5,6,7,8,9,10,81,44,45,46,47,48,49,50,51,52,53,43,26,27,85,90]),import.meta.url)),ft=A(()=>D(()=>import("./LabourEnrollmentModal-B4kzrrqz.js"),__vite__mapDeps([91,1,2,3,4,5,6,45,46,47,48,49,50,51,52,7,8,9,10,81,44,53,43,26,27,85,92]),import.meta.url)),rt=A(()=>D(()=>import("./PNCEnrollmentModal-CuPzEaEG.js"),__vite__mapDeps([93,1,2,3,4,5,6,45,46,47,48,49,50,51,52,7,8,9,10,81,44,53,43,26,27,85,94]),import.meta.url)),$=ea(),ue=aa(),ht=va(),de=_a(),ce=Na(),{event:me,popoverOpen:St,openPopover:xt,openPIM:Tt,openOutCome:pe,openUpdateNCDNUmbers:fe,printVisitSummary:ve,printID:_e,formatCurrentAddress:ge}=Aa(),{screenWidth:vt}=ga(),{patient:i}=Pt(ht),{activeProgram:I,authorizedPrograms:Vt}=Pt(de),{ConfirmPregnancy:ye}=Pt(ce),ut=_(!1),be=_(!0),Ce=_(!1),_t=_(!1),Ie=_(!1),L=_("Patient Charts"),Mt=_(null),Pe=_([]),H=_({}),z=_(!1),Z=_(!1),$t=_(!1),Lt=_(!1),x=_([]),F=_(0),gt=_(),J=_(""),yt=_(!1),ke=kt(()=>{var e,w;const s=(w=(e=i.value)==null?void 0:e.personInformation)==null?void 0:w.gender;return s==="Male"||s==="M"?Vt.value.filter(p=>p.name!=="ANC PROGRAM"&&p.name!=="LABOUR AND DELIVERY PROGRAM"&&p.name!=="PNC PROGRAM"):Vt.value.map(p=>{if(p.name==="ANC PROGRAM"||p.name==="LABOUR AND DELIVERY PROGRAM"||p.name==="PNC PROGRAM"){if(!(x!=null&&x.value))return;const l=x==null?void 0:x.value.some(k=>k.id===p.program_id);return{...p,actionName:l?"Start ".concat(p.name):"Enroll in ".concat(p.name)}}return p})}),Ae=kt(()=>!z.value&&I.value.program_id==14),De=kt(()=>z.value&&I.value.program_id==14),we=()=>{var s,e;if((e=(s=i.value)==null?void 0:s.personInformation)!=null&&e.birthdate){const w=U.getAgeInYears(i.value.personInformation.birthdate);yt.value=w<9}},Oe=()=>{var s,e;(e=(s=i.value)==null?void 0:s.personInformation)!=null&&e.birthdate&&(be.value=U.getAgeInYears(i.value.personInformation.birthdate)>=14,Ce.value=U.ageInMonths(i.value.personInformation.birthdate)<9,_t.value=U.getAgeInYears(i.value.personInformation.birthdate)<5,Ie.value=U.dateDiffInDays(U.sessionDate(),i.value.personInformation.birthdate)<42)},Y=s=>{L.value=s},Bt=()=>[{backgroundColor:"#B9E6FE",status:"",icon:At(["#B9E6FE","#026AA2","#9ADBFE"]),textColor:"#026AA2",value:"No further action is required.",name:"",index:"Blood sugar is normal"},{backgroundColor:"#FEDF89",status:"",icon:At(["#FEDF89","#B54708","#FED667"]),textColor:"#B54708",value:"Please call or follow up!",name:"",index:"Patient Defaulted"},{backgroundColor:"#FECDCA",status:"",icon:At(["#FECDCA","#B42318","#FDA19B"]),textColor:"#B42318",value:"Administer medications!",name:"",index:"Patient is hypertensive"}],Ee=async()=>{if(I.value.program_id==14)try{const s=await ae.getCheckInStatus(i.value.patientID);z.value=!!s.length}catch(s){console.error(s)}},Re=async()=>{await te("Are you sure you want to create the visit?")&&await ba(ht.patient)&&(z.value=!0,await ee().refresh(et.getUserLocationId()),K("The patient visit is now active. Patient is on the waiting list for vitals"))},Ne=async()=>{await te("Are you sure you want to close the visit?")&&await Ca(i.value)&&(z.value=!1,await ee().refresh(et.getUserLocationId()),K("The patient visit is now closed"))},Ht=async()=>{if(I.value.program_id==14)try{const s=await ae.getCheckInStatus(i.value.patientID);z.value=s.length>0}catch(s){console.error(s)}},he=s=>{Mt.value=s,ut.value=!ut.value},Ut=(s="tasks")=>Ga(I.value.program_id,s),Gt=async s=>{var w,p,l,k,j;if(await W(),(s.program_id==R.ANC_PROGRAM||s.program_id==R.PNC_PROGRAM||s.program_id==R.LABOUR_AND_DELIVERY_PROGRAM)&&!((w=x==null?void 0:x.value)==null?void 0:w.find(dt=>dt.id==s.program_id))){if(s.program_id==R.ANC_PROGRAM){Z.value=!0,F.value=s.program_id;return}else if(s.program_id==R.LABOUR_AND_DELIVERY_PROGRAM){$t.value=!0,J.value="Are you sure you want to enroll ".concat((l=(p=i.value)==null?void 0:p.personInformation)==null?void 0:l.given_name.toUpperCase()," in this program?"),F.value=s.program_id;return}else if(s.program_id==R.PNC_PROGRAM){Lt.value=!0,J.value="Are you sure you want to enroll ".concat((j=(k=i.value)==null?void 0:k.personInformation)==null?void 0:j.given_name.toUpperCase()," in this program?"),F.value=s.program_id;return}}const e=await tt.userProgramData(i.value.patientID,s);if(s.program_id===14){if(e!=null&&e.canProceed&&e.url)return $.push(e.url);e!=null&&e.showWarning&&Dt("The patient's visit is not activated or you don't have permissions for the current stage");return}if(e!=null&&e.url)return $.push(e.url)},bt=()=>{Z.value=!1},zt=()=>{Z.value=!Z.value},Se=async()=>{const s=et.getUserID(),e=new ka(i.value.patientID,s);if(!await e.createEncounter())return Dt("Unable to create quick check encounter");const p=await e.saveObservationList(await $e());try{await nt.enrollProgram(i.value.patientID,F.value,new Date().toString()),K("Enrollment is successful")}catch(l){K("Already Enrolled")}return p?(await W(),zt(),$.push("ANCHome")):Dt("Unable to create quick check details!")},xe=async()=>(await nt.enrollProgram(i.value.patientID,F.value,new Date().toString()),await W(),K("Enrollment is successful"),$.push("LabourHome")),Te=async()=>(await nt.enrollProgram(i.value.patientID,F.value,new Date().toString()),await W(),K("Enrollment is successful"),$.push("PNCHome")),W=async()=>{const s=i.activePrograms;x.value=s==null?void 0:s.map(e=>({name:e.program.name,id:e.program_id}))},Ct=()=>{zt()},Ft=async()=>{const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","Respiratory rate"].map(async p=>{const l=await Ia.getFirstValueNumber(i.value.patientID,p);return{[p]:l}});gt.value=new st().getBloodGlucose(i.value);const w=await Promise.all(e);H.value=Object.assign({},...w)},Ve=s=>s=="Undetermined"?"Undetermined":["Male","M"].includes(s)?"Male":["Female","F"].includes(s)?"Female":"",Me=()=>{var s,e;return U.getBirthdateAge((e=(s=i.value)==null?void 0:s.personInformation)==null?void 0:e.birthdate)},$e=async()=>await Da(ye.value);return oe(async()=>{await tt.userProgramData(i.value.patientID),Oe();const s=new st;Pe.value=await st.getPatientVisits(s.getID(),!1),await W(),Bt(),await Ft(),await Ht()}),at(()=>{var s;return(s=i.value)==null?void 0:s.patientID},async s=>{s&&(await tt.userProgramData(s),await W())},{immediate:!0}),at(()=>i,async()=>{await tt.userProgramData(i.value.patientID),await Ft(),await Ht(),await Ee()},{deep:!0}),at(ue,async s=>{await tt.userProgramData(i.value.patientID)},{deep:!0}),at(()=>i.value,()=>{we()},{immediate:!0,deep:!0}),E({showUnderageWarning:yt}),(s,e)=>{const w=Qt("ion-list"),p=Qt("ion-popover");return u(),C(t(ie),null,{default:n(()=>[a(ya),a(t(Et),{fullscreen:!0},{default:n(()=>[t(I).program_id!==33&&t(I).program_id!=""&&t(vt)<1120?(u(),C(wa,{key:0,onOpenPopover:e[0]||(e[0]=l=>t(xt)(l))})):g("",!0),a(t(it),{closeModalFunc:bt,onYes:Se,onNo:Ct,isOpen:Z.value,title:J.value,showUnderageWarning:yt.value},null,8,["isOpen","title","showUnderageWarning"]),a(t(ft),{closeModalFunc:bt,onYes:xe,onNo:Ct,isOpen:$t.value,title:J.value},null,8,["isOpen","title"]),a(t(rt),{closeModalFunc:bt,onYes:Te,onNo:Ct,isOpen:Lt.value,title:J.value},null,8,["isOpen","title"]),t(I).program_id==t(R).IMMUNIZATION_PROGRAM?(u(),C(t(d),{key:1,updateData:t(i)},null,8,["updateData"])):g("",!0),t(I).program_id==t(R).HTS_PROGRAM?(u(),C(t(M),{key:2,updateData:t(i)},null,8,["updateData"])):g("",!0),t(I).program_id==t(R).AETC_PROGRAM?(u(),C(t(B),{key:3,updateData:t(i)},null,8,["updateData"])):g("",!0),t(I).program_id!==t(R).AETC_PROGRAM&&t(I).program_id!==t(R).IMMUNIZATION_PROGRAM&&t(I).program_id!==t(R).HTS_PROGRAM&&t(I).program_id!=""?(u(),y("div",za,[a(t(T),{class:"content_width"},{default:n(()=>[a(t(m),{size:"2.5","size-lg":"2.6","size-md":"3",class:"displayNoneLeftPanel"},{default:n(()=>[a(t(mt),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:n(()=>[a(t(wt),null,{default:n(()=>{var l,k,j,It,dt,Yt,Wt,jt;return[o("div",Fa,[e[22]||(e[22]=o("div",null,null,-1)),o("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:e[1]||(e[1]=X=>t(xt)(X))},[a(t(b),{icon:t(na),style:{"font-size":"2.2rem"}},null,8,["icon"])])]),o("div",Ya,[o("div",{class:le(((k=(l=t(i))==null?void 0:l.personInformation)==null?void 0:k.gender)=="M"?"initialsBox maleColor":"initialsBox femaleColor"),onClick:e[2]||(e[2]=X=>t(Tt)())},[a(t(b),{style:{color:"#fff","font-size":"70px"},icon:t(sa)},null,8,["icon"])],2),o("div",Wa,[o("div",ja,v((It=(j=t(i))==null?void 0:j.personInformation)==null?void 0:It.given_name)+" "+v((Yt=(dt=t(i))==null?void 0:dt.personInformation)==null?void 0:Yt.middle_name)+" "+v((jt=(Wt=t(i))==null?void 0:Wt.personInformation)==null?void 0:jt.family_name),1)])]),a(t(T),null,{default:n(()=>[a(t(m),{size:"4"},{default:n(()=>[...e[23]||(e[23]=[c("MRN:",-1)])]),_:1}),a(t(m),{class:"demoContent"},{default:n(()=>[c(v(t(i).ID),1)]),_:1})]),_:1}),t(I).program_id===32?(u(),C(t(T),{key:0},{default:n(()=>[a(t(m),{size:"4"},{default:n(()=>[...e[24]||(e[24]=[c("NCDNumber:",-1)])]),_:1}),a(t(m),{class:"demoContent"},{default:n(()=>[c(v(t(i).NcdID),1)]),_:1})]),_:1})):g("",!0),a(t(T),null,{default:n(()=>[a(t(m),{size:"4"},{default:n(()=>[...e[25]||(e[25]=[c("Gender:",-1)])]),_:1}),a(t(m),{class:"demoContent"},{default:n(()=>{var X,qt;return[c(v(Ve((qt=(X=t(i))==null?void 0:X.personInformation)==null?void 0:qt.gender)),1)]}),_:1})]),_:1}),a(t(T),null,{default:n(()=>[a(t(m),{size:"4"},{default:n(()=>[...e[26]||(e[26]=[c("Age:",-1)])]),_:1}),a(t(m),{class:"demoContent"},{default:n(()=>[c(v(Me()),1)]),_:1})]),_:1}),a(t(T),null,{default:n(()=>[a(t(m),{size:"4"},{default:n(()=>[...e[27]||(e[27]=[c("Address:",-1)])]),_:1}),a(t(m),{class:"demoContent"},{default:n(()=>[c(v(t(ge)(t(i))),1)]),_:1})]),_:1})]}),_:1})]),_:1}),t(et).getProgramID()===1?(u(),C(Ra,{key:0,patient:t(i)},null,8,["patient"])):g("",!0),a(t(mt),{style:{"margin-bottom":"20px","background-color":"#fff"}},{default:n(()=>[a(t(oa),{value:["first"]},{default:n(()=>[a(t(la),{value:"first",style:{"background-color":"#fff"},"toggle-icon-slot":"start"},{default:n(()=>[a(t(N),{slot:"header",color:"white"},{default:n(()=>[a(t(O),{class:"side_title"},{default:n(()=>[...e[28]||(e[28]=[c("Alerts & Reminders ",-1)])]),_:1})]),_:1}),a(t(wt),{slot:"content"},{default:n(()=>[(u(!0),y(Q,null,pt(Bt(),(l,k)=>(u(),y("span",{key:k},[l.value?(u(),C(t(T),{key:0,style:Zt("border-radius: 5px;  margin-top:10px; margin-bottom:10px;background-color:"+l.backgroundColor)},null,8,["style"])):g("",!0)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(t(m),{"size-sm":"12","size-md":"12","size-lg":t(vt)>1120?"9.4":"12"},{default:n(()=>[a(t(mt),{style:{"background-color":"#fff","margin-inline":"0px",contain:"unset",overflow:"unset"}},{default:n(()=>[o("div",null,[o("div",qa,[e[29]||(e[29]=o("div",{class:"vitalsTitle"},"Most recent Vitals & Biometrics",-1)),o("div",Ka,[o("div",Qa,[o("div",Za,[Ae.value?(u(),C(Xt,{key:0,name:"Activate visit",onClick:e[3]||(e[3]=l=>Re()),fill:"clear",iconSlot:"start",icon:t(Ot),class:"action-button"},null,8,["icon"])):g("",!0),De.value?(u(),C(Xt,{key:1,name:"Deactivate visit",onClick:e[4]||(e[4]=l=>Ne()),fill:"clear",iconSlot:"start",icon:t(Ot),class:"action-button danger"},null,8,["icon"])):g("",!0)]),o("div",Ja,[o("button",{class:"send-text",onClick:e[5]||(e[5]=l=>Ut())},"Tasks")]),o("div",Xa,[o("button",{class:"send-text",onClick:e[6]||(e[6]=l=>Ut("other"))},"Printout/Other")]),o("div",tn,[o("button",{class:"send-text",onClick:e[7]||(e[7]=l=>Gt(t(I)))},"Start visit"),o("button",{class:"send-arrow",onClick:e[8]||(e[8]=l=>he(l))})])])])])]),o("div",en,[a(t(T),null,{default:n(()=>[a(t(m),{class:"vitalsHeading"},{default:n(()=>[...e[30]||(e[30]=[c("Weight",-1)])]),_:1}),a(t(m),{class:"vitalsHeading"},{default:n(()=>[...e[31]||(e[31]=[c("Height",-1)])]),_:1}),a(t(m),{class:"vitalsHeading"},{default:n(()=>[...e[32]||(e[32]=[c("Temperature",-1)])]),_:1}),a(t(m),{class:"vitalsHeading"},{default:n(()=>[...e[33]||(e[33]=[c("Blood glucose",-1)])]),_:1}),a(t(m),{class:"vitalsHeading"},{default:n(()=>[...e[34]||(e[34]=[c("Pulse Rate",-1)])]),_:1}),a(t(m),{class:"vitalsHeading"},{default:n(()=>[...e[35]||(e[35]=[c("Blood pressure",-1)])]),_:1})]),_:1}),a(t(T),null,{default:n(()=>[a(t(m),{class:"vitalsValue"},{default:n(()=>[c(v(H.value.Weight)+" ",1),e[36]||(e[36]=o("span",{class:"vitalsUnits"},"kg",-1))]),_:1}),a(t(m),{class:"vitalsValue"},{default:n(()=>[c(v(H.value["Height (cm)"])+" ",1),e[37]||(e[37]=o("span",{class:"vitalsUnits"},"cm",-1))]),_:1}),a(t(m),{class:"vitalsValue"},{default:n(()=>[c(v(H.value.Temperature)+" ",1),e[38]||(e[38]=o("span",{class:"vitalsUnits"},"Â°C",-1))]),_:1}),a(t(m),{class:"vitalsValue"},{default:n(()=>{var l,k;return[c(v((l=gt.value)==null?void 0:l.value)+" ",1),o("span",an,v((k=gt.value)==null?void 0:k.unit),1)]}),_:1}),a(t(m),{class:"vitalsValue"},{default:n(()=>[c(v(H.value.Pulse)+" ",1),e[39]||(e[39]=o("span",{class:"vitalsUnits"},"bpm ",-1))]),_:1}),a(t(m),{class:"vitalsValue"},{default:n(()=>[c(v(H.value.Systolic)+"/"+v(H.value.Diastolic),1),e[40]||(e[40]=o("span",{class:"vitalsUnits"},"mmhg",-1))]),_:1})]),_:1})])]),_:1}),o("div",nn,[a(t(ia),{value:L.value,style:{"margin-top":"5px","min-width":"540px"}},{default:n(()=>[a(t(q),{value:"Patient Charts",onClick:e[9]||(e[9]=l=>Y("Patient Charts"))},{default:n(()=>[a(t(O),null,{default:n(()=>[...e[41]||(e[41]=[c("Patient Charts",-1)])]),_:1})]),_:1}),a(t(q),{value:"Visits History",onClick:e[10]||(e[10]=l=>Y("Visits History"))},{default:n(()=>[a(t(O),null,{default:n(()=>[...e[42]||(e[42]=[c("Visits History",-1)])]),_:1})]),_:1}),a(t(q),{value:"Vitals & Measurements Summary",onClick:e[11]||(e[11]=l=>Y("Vitals & Measurements Summary"))},{default:n(()=>[a(t(O),null,{default:n(()=>[...e[43]||(e[43]=[c("Vitals & Measurements Summary",-1)])]),_:1})]),_:1}),a(t(q),{value:"Lab Tests History",onClick:e[12]||(e[12]=l=>Y("Lab Tests History"))},{default:n(()=>[a(t(O),null,{default:n(()=>[...e[44]||(e[44]=[c("Lab Tests History",-1)])]),_:1})]),_:1}),a(t(q),{value:"Diagnosis History",onClick:e[13]||(e[13]=l=>Y("Diagnosis History"))},{default:n(()=>[a(t(O),null,{default:n(()=>[...e[45]||(e[45]=[c("Diagnosis History",-1)])]),_:1})]),_:1}),a(t(q),{value:"Allergies & Contraindication",onClick:e[14]||(e[14]=l=>Y("Allergies & Contraindication"))},{default:n(()=>[a(t(O),null,{default:n(()=>[...e[46]||(e[46]=[c("Allergies & Contraindication",-1)])]),_:1})]),_:1})]),_:1},8,["value"])]),L.value=="Patient Charts"?(u(),y("div",sn,[o("div",{style:Zt(t(vt)>826?"display: flex;":"display: block;")},[_t.value?(u(),y("div",on,[a(t(G))])):g("",!0),o("div",ln,[a(t(lt))]),_t.value?g("",!0):(u(),y("div",rn,[a(t(ot))]))],4)])):g("",!0),L.value=="Visits History"?(u(),y("div",un,[a(t(f))])):g("",!0),L.value=="Vitals & Measurements Summary"?(u(),y("div",dn,[a(t(r))])):g("",!0),L.value=="Lab Tests History"?(u(),y("div",cn,[a(t(h))])):g("",!0),L.value=="Diagnosis History"?(u(),y("div",mn,[a(t(P))])):g("",!0),L.value=="Allergies & Contraindication"?(u(),y("div",pn,[a(t(S))])):g("",!0)]),_:1},8,["size-lg"])]),_:1})])):g("",!0)]),_:1}),a(p,{style:{"--offset-x":"-10px"},"is-open":t(St),"show-backdrop":!1,"dismiss-on-select":!0,event:t(me),onDidDismiss:e[20]||(e[20]=l=>St.value=!1)},{default:n(()=>[o("div",null,[a(w,{style:{"--ion-background-color":"#fff","--offset-x":"-30px"}},{default:n(()=>[a(t(N),{button:!0,detail:!1,onClick:e[15]||(e[15]=l=>t(Tt)()),style:{cursor:"pointer"},class:"list-content"},{default:n(()=>[a(t(b),{icon:t(ra),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),e[47]||(e[47]=o("span",{class:"sub-menu-txt"},"Update demographics",-1))]),_:1}),a(t(N),{button:!0,detail:!1,onClick:e[16]||(e[16]=l=>t(pe)()),style:{cursor:"pointer"},class:"list-content"},{default:n(()=>[a(t(b),{icon:t(ua),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),e[48]||(e[48]=o("span",{class:"sub-menu-txt"},"Update outcome",-1))]),_:1}),t(et).getProgramID()==32?(u(),C(t(N),{key:0,button:!0,detail:!1,onClick:e[17]||(e[17]=l=>t(fe)()),style:{cursor:"pointer"},class:"list-content"},{default:n(()=>[a(t(b),{icon:t(se),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),e[49]||(e[49]=o("span",{class:"sub-menu-txt"},"Update NCD Number",-1))]),_:1})):g("",!0),a(t(N),{button:!0,detail:!1,onClick:e[18]||(e[18]=l=>t(ve)()),style:{cursor:"pointer"},class:"list-content"},{default:n(()=>[a(t(b),{icon:t(Jt),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),e[50]||(e[50]=o("span",{class:"sub-menu-txt"},"Print visit summary",-1))]),_:1}),a(t(N),{button:!0,detail:!1,onClick:e[19]||(e[19]=l=>t(_e)()),style:{cursor:"pointer"},class:"list-content"},{default:n(()=>[a(t(b),{icon:t(Jt),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),e[51]||(e[51]=o("span",{class:"sub-menu-txt"},"Print client identifier",-1))]),_:1})]),_:1})])]),_:1},8,["is-open","event"]),a(p,{"is-open":ut.value,"show-backdrop":!1,"dismiss-on-select":!0,event:Mt.value,onDidDismiss:e[21]||(e[21]=l=>ut.value=!1),style:{"--width":"350px"}},{default:n(()=>[a(t(Et),null,{default:n(()=>[a(w,null,{default:n(()=>[(u(!0),y(Q,null,pt(ke.value,(l,k)=>(u(),C(t(N),{button:!0,detail:!1,style:{cursor:"pointer"},key:k,onClick:j=>Gt(l)},{default:n(()=>[a(t(b),{slot:"start",icon:t(da)},null,8,["icon"]),o("span",fn,v(l==null?void 0:l.actionName),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["is-open","event"])]),_:1})}}}),_n=Nt(vn,[["__scopeId","data-v-a8a475d0"]]),Dn=Object.freeze(Object.defineProperty({__proto__:null,default:_n},Symbol.toStringTag,{value:"Module"}));export{Ra as A,Dn as P,Na as u};
