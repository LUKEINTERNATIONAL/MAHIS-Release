System.register(["./vendor-legacy-IGuUoRYO.js","../index-legacy-CPN3hcLt.js","./GoBack-legacy-j8yZ-5Md.js","./ReusableDataTable-legacy-Djg_P2yl.js","./usePatientProfile-legacy-VQzP8WGN.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-w_Qe4jnt.js","./Registration-legacy-CvR6Zs0X.js","./useSetRegistrationValues-legacy-BU4Dp69e.js","./useLocation-legacy-DYREuazP.js","./vaccines_service-legacy-Bs1jd4gJ.js","./sms_service-legacy-CMNHGQiD.js","./EIRreportsStore-legacy-apL3S7So.js","./Export-legacy-Ba5zfkL5.js","./user_role_management-legacy-s4weOEFd.js","./useNeonatalEnrollmentStore-legacy-DhUIuEvW.js","./enrollment-legacy-BWFKsMdA.js","./Outcome-legacy-va99WsQ3.js","./wardsStore-legacy-2yXvvg-c.js"],function(e,a){"use strict";var t,n,l,r,i,s,o,u,d,c,m,g,y,v,b,p,f,h,N,_,j,w,S,T,F,x,P,$,R,B,E,k;return{setters:[e=>{t=e.d,n=e.r,l=e.aF,r=e.a,i=e.Q,s=e.f,o=e.H,u=e.l,d=e.u,c=e.L,m=e.bH,g=e.b5,y=e.b4,v=e.a3,b=e.b7,p=e.k,f=e.e,h=e.m,N=e.bq},e=>{_=e.y,j=e.D,w=e.T,S=e.C,T=e.F,F=e.k,x=e.t,P=e.S,$=e.n,R=e._},e=>{B=e.G},e=>{E=e.R},e=>{k=e.u},null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".card[data-v-8517d821]{max-width:95vw;margin:50px auto 0}\n/*$vite$:1*/",document.head.appendChild(a);const A={class:"ion-padding ion-text-center"},D={key:0};e("default",R(t({__name:"FindPatient",setup(e){const a=n([]),t=n(null),R=n([]),q=l(),C=["MRN","First Name","Last Name","Gender","DoB","Home address","Current address","Phone","Action"],I={responsive:!0,ordering:!1,layout:{topStart:"buttons",topEnd:"",bottomStart:"info",bottomEnd:"paging"},buttons:[{text:" <b>+ Add New Patient </b>",className:"add-test text-white",action:async()=>{q.push("/registration/manual")}}]},L=[{type:"input",header:"First name",name:"given_name",componentType:"inputField",validation:_.required,grid:{s:"4"}},{type:"input",header:"Last name",name:"family_name",componentType:"inputField",validation:_.required,grid:{s:"4"}},{grid:{s:"0.5"}},{componentType:"radioButtonField",header:"Gender",name:"gender",obsValueType:"value_text",validation:_.required,type:"inline",grid:{s:"3.5"},options:[{label:"Male",value:"M"},{label:"Female",value:"F"}]}],M=new j,{openPIM:V}=k(),G={"redirection-btn":async e=>{console.log("Redirecting for:",e),await F("Are you sure you want to continue with this patient?")&&(console.log("Abscond confirmed for:",e),q.push("/home"))},"view-btn":async e=>{console.log("Abscond requested for:",e),V()}},H=async()=>{if(t.value.validateForm())return void x("Test not saved");if(!t.value)return void console.error("Form reference is not available");const e=t.value.getFormValues();console.log("ðŸš€ ~ performSearch ~ data:",e);const a={searchText:`${e.given_name} ${e.family_name} ${e.gender}`,page:1,paginationSize:10,sitePrefix:"",ddeEnabled:"",programId:P.getProgramID(),activeFilter:"Names"},n=await M.searchPatients(a);R.value=n.onlinePatients,console.log("ðŸš€ ~ performSearch ~ results:",R.value)};return r(async()=>{await(async()=>{a.value=[{id:1,visitNumber:"VN001",firstName:"John",lastName:"Doe",gender:"Male",arrivalTime:"2024-06-01T09:00:00Z",waitingTime:"15 mins",aggregate:"15 mins",screenedBy:"Nurse A"},{id:2,visitNumber:"VN002",firstName:"Jane",lastName:"Smith",gender:"Female",arrivalTime:"2024-06-01T09:00:00Z",waitingTime:"10 mins",aggregate:"10 mins",screenedBy:"Nurse B"}].map(e=>{return[e.visitNumber,e.firstName,e.lastName,e.gender,e.arrivalTime,e.waitingTime,e.aggregate,e.screenedBy,(a={id:e.id,visitNumber:e.visitNumber,name:`${e.firstName} ${e.lastName}`},`\n        <button class="btn btn-outline-danger btn-sm btn-table redirection-btn" \n                style="color:rgb(0, 100, 1)" \n                data-id='${JSON.stringify(a)}'>\n            ${$.redirection}\n        </button>\n        <button class="btn btn-outline-danger btn-sm btn-table view-btn" \n                style="color: rgba(0, 0, 0, 0.54);" \n                data-id='${JSON.stringify(a)}'>\n            ${$.view2}\n        </button>\n    `)];var a})})()}),(e,n)=>(s(),i(d(N),null,{default:o(()=>[u(w),u(d(c),{fullscreen:!0},{default:o(()=>[u(B),u(d(m),{class:"card"},{default:o(()=>[u(d(g),null,{default:o(()=>[u(d(y),null,{default:o(()=>[...n[0]||(n[0]=[v("Search Patient",-1)])]),_:1})]),_:1}),u(d(b),null,{default:o(()=>[u(S,{formData:L,ref_key:"formRef",ref:t},null,512),p("div",A,[u(T,{onClick:H,name:"Search"})]),R.value.length>0?(s(),f("div",D,[u(d(y),null,{default:o(()=>[...n[1]||(n[1]=[v("Search Results",-1)])]),_:1}),u(E,{headers:C,data:a.value,options:I,actionHandlers:G},null,8,["data"])])):h("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}}),[["__scopeId","data-v-8517d821"]]))}}});
