var M=Object.defineProperty;var Y=(s,e,a)=>e in s?M(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a;var B=(s,e,a)=>Y(s,typeof e!="symbol"?e+"":e,a);import{_ as P,u as D,a1 as U,G as R,s as N,b2 as H,T as Q}from"../index-DijUtNzv.js";import{d as V,e as g,f as h,k as t,K as f,c as A,m as q,Q as x,bt as j,D as z,a as T,l as v,J as C,u as b,F as E,O as G,bU as W,i as J,b9 as K,b2 as L,r as F,w as X,a4 as Z,bn as ee,a7 as se}from"./vendor-CzFJ4KTZ.js";import{V as I}from"./VueMultiselectStaticList-D7d34nAO.js";import{I as te}from"./images-DJIykHYW.js";import{N as ae}from"./NeonatalStepper-BacRmLW7.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-C9muk_WD.js";import"./SaveProgressModal-DtUNc6iZ.js";import"./enrollment-DU-PLRUa.js";const ne={class:"header-container"},oe={class:"header-text"},le=V({name:"gHeader",__name:"gHeader",props:{text:{type:String,required:!0}},setup(s){return(e,a)=>(h(),g("div",ne,[t("p",oe,f(s.text),1)]))}}),O=P(le,[["__scopeId","data-v-2e4e16bf"]]),ie={class:"yes-no-question-card"},re={class:"question-text"},ce={class:"controls-group"},ue={class:"radio-group"},de={class:"radio-label"},me=["name","checked"],be={class:"custom-radio"},ve={key:0,viewBox:"0 0 24 24"},pe={class:"radio-label"},he=["name","checked"],ye={class:"custom-radio"},fe={key:0,viewBox:"0 0 24 24"},Ae=V({__name:"YesNoQuestion",props:{question:{type:String,required:!0},modelValue:{type:[Boolean,null],default:null},groupId:{type:String,default:""}},emits:["update:modelValue"],setup(s,{emit:e}){const a=s,n=e,o=A(()=>a.groupId||"radio-".concat(Math.random().toString(36).substr(2,9))),u=()=>{n("update:modelValue",null)};return(i,r)=>(h(),g("div",ie,[t("div",re,f(s.question),1),t("div",ce,[t("div",ue,[t("label",de,[t("input",{type:"radio",name:o.value,value:!0,checked:s.modelValue===!0,onChange:r[0]||(r[0]=d=>i.$emit("update:modelValue",!0))},null,40,me),t("span",be,[s.modelValue===!0?(h(),g("svg",ve,[...r[2]||(r[2]=[t("circle",{cx:"12",cy:"12",r:"8",fill:"#4CAF50"},null,-1),t("circle",{cx:"12",cy:"12",r:"4",fill:"white"},null,-1)])])):q("",!0)]),r[3]||(r[3]=x(" Yes ",-1))]),t("label",pe,[t("input",{type:"radio",name:o.value,value:!1,checked:s.modelValue===!1,onChange:r[1]||(r[1]=d=>i.$emit("update:modelValue",!1))},null,40,he),t("span",ye,[s.modelValue===!1?(h(),g("svg",fe,[...r[4]||(r[4]=[t("circle",{cx:"12",cy:"12",r:"8",fill:"#4CAF50"},null,-1),t("circle",{cx:"12",cy:"12",r:"4",fill:"white"},null,-1)])])):q("",!0)]),r[5]||(r[5]=x(" No ",-1))])]),s.modelValue!==null?(h(),g("button",{key:0,onClick:j(u,["stop","prevent"]),class:"clear-button",type:"button"},"Clear")):q("",!0)])]))}}),$=P(Ae,[["__scopeId","data-v-8ce099e4"]]),_=z("neonatalExamStore",{state:()=>({activityAssessment:null,fontanelleAssessment:null,massInHeadAssessment:null,isBabyYellow:null,isBabyPallorPink:null,hasBabyCyanosis:null,hasBabyOedema:null,cleftAssessment:null,hasCongenitalAbnormalities:null,abnormalitiesNotes:"",capillaryRefillTime:null,femoralPulses:null,genitaliaAssessment:null,anusAssessment:null,current_patient_ID:null}),actions:{setActivityAssessment(s){this.activityAssessment=s},setFontanelleAssessment(s){this.fontanelleAssessment=s},setMassInHeadAssessment(s){this.massInHeadAssessment=s},setIsBabyYellow(s){this.isBabyYellow=s},setIsBabyPallorPink(s){this.isBabyPallorPink=s},setHasBabyCyanosis(s){this.hasBabyCyanosis=s},setHasBabyOedema(s){this.hasBabyOedema=s},setCleftAssessment(s){this.cleftAssessment=s},setHasCongenitalAbnormalities(s){this.hasCongenitalAbnormalities=s},setAbnormalitiesNotes(s){this.abnormalitiesNotes=s},setCapillaryRefillTime(s){this.capillaryRefillTime=s},setFemoralPulses(s){this.femoralPulses=s},setGenitaliaAssessment(s){this.genitaliaAssessment=s},setAnusAssessment(s){this.anusAssessment=s},setCurrentPatientID(s){this.current_patient_ID!==s?(this.$reset(),this.current_patient_ID=s,console.log("Switched patient context. Exam data reset and new patient ID set: ".concat(s))):(this.current_patient_ID=s,console.log("Patient ID is already set to: ".concat(s)))},resetExamData(){this.$reset(),console.log("Neonatal Exam Data has been reset.")}},persist:!0}),ge={class:"center-content"},_e={class:"center-content"},we={class:"center-content"},Ce={class:"center-content"},Pe={class:"center-content"},Ve={class:"center-content"},xe=V({__name:"HeadAssessment",setup(s,{expose:e}){const a=I,n=_(),o=A({get:()=>n.fontanelleAssessment,set:p=>n.setFontanelleAssessment(p)}),u=[{label:"Flat, Not Tense (normal)",value:"Flat"},{label:"Sunken",value:"Sunk"},{label:"Bulging/Tense",value:"Bulg"}],i=A({get:()=>n.massInHeadAssessment,set:p=>n.setMassInHeadAssessment(p)}),r=[{label:"Caput",value:"caput"},{label:"Cephalohematoma",value:"cephalohematoma"},{label:"Subgalea hemorrhage",value:"subgalea"},{label:"Normal",value:"normal"}],d=A({get:()=>n.isBabyYellow,set:p=>n.setIsBabyYellow(p)}),m=A({get:()=>n.isBabyPallorPink,set:p=>n.setIsBabyPallorPink(p)}),l=A({get:()=>n.hasBabyCyanosis,set:p=>n.setHasBabyCyanosis(p)}),c=A({get:()=>n.hasBabyOedema,set:p=>n.setHasBabyOedema(p)});T(()=>{});function k(){const p={};return o.value||(p.fontanelle="Fontanelle assessment is required.",console.error("Validation Error: Fontanelle assessment missing.")),i.value||(p.massInHead="Mass in the head assessment is required.",console.error("Validation Error: Mass in Head assessment missing.")),d.value===null&&(p.isBabyYellow="The 'Is the baby yellow?' question is required.",console.error("Validation Error: Is baby yellow? missing.")),m.value===null&&(p.isBabyPallorPink="The 'Is the baby Pallor Pink?' question is required.",console.error("Validation Error: Is baby Pallor Pink? missing.")),l.value===null&&(p.hasBabyCyanosis="The 'Does the baby have cyanosis?' question is required.",console.error("Validation Error: Does baby have cyanosis? missing.")),c.value===null&&(p.hasBabyOedema="The 'Does the baby have oedema?' question is required.",console.error("Validation Error: Does baby have oedema? missing.")),Object.keys(p).length>0?p:(console.log("Validation Success: Head Assessment passed."),null)}return e({validateForm:k}),(p,y)=>(h(),g(E,null,[v(O,{text:"Fontanelle"}),t("div",ge,[v(b(a),{modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=w=>o.value=w),options:u,class:"assessment-component"},{header:C(()=>[...y[6]||(y[6]=[x(" FEEL the fontanelle. ",-1)])]),_:1},8,["modelValue"])]),v(O,{text:"Head"}),t("div",_e,[v(b(a),{modelValue:i.value,"onUpdate:modelValue":y[1]||(y[1]=w=>i.value=w),options:r,class:"assessment-component"},{header:C(()=>[...y[7]||(y[7]=[x(" Mass in the head. ",-1)])]),_:1},8,["modelValue"])]),v(O,{text:"Colour"}),t("div",we,[v($,{question:"Is the baby yellow?",modelValue:d.value,"onUpdate:modelValue":y[2]||(y[2]=w=>d.value=w),groupId:"yellow-q",class:"assessment-component"},null,8,["modelValue"])]),t("div",Ce,[v($,{question:"Is the baby Pallor Pink?",modelValue:m.value,"onUpdate:modelValue":y[3]||(y[3]=w=>m.value=w),groupId:"pallor-q",class:"assessment-component"},null,8,["modelValue"])]),t("div",Pe,[v($,{question:"Does the baby have cyanosis?",modelValue:l.value,"onUpdate:modelValue":y[4]||(y[4]=w=>l.value=w),groupId:"cyanosis-q",class:"assessment-component"},null,8,["modelValue"])]),t("div",Ve,[v($,{question:"Does the baby have oedema?",modelValue:c.value,"onUpdate:modelValue":y[5]||(y[5]=w=>c.value=w),groupId:"oedema-q",class:"assessment-component"},null,8,["modelValue"])])],64))}}),Oe=P(xe,[["__scopeId","data-v-73bb7bb0"]]),Se={class:"center-content"},Ie=V({__name:"ActivityAssessment",setup(s,{expose:e}){const a=I,n=_(),o=A({get:()=>n.activityAssessment,set:r=>{n.setActivityAssessment(r)}}),u=[{label:"Alert, active, appropriate (normal)",value:"Alert"},{label:"Irritable, hyperalert or inconsolable",value:"Irrit"},{label:"Lethargic, quiet, decreased activity",value:"Leth"},{label:"Seizures, convulsions, or twitchings",value:"Convulsions"},{label:"Coma (unresponsive)",value:"Coma"}];function i(){const r={};return o.value||(r.activity="Activity Assessment is required. Please select an option.",console.error("Validation Error: Activity Assessment is required.")),Object.keys(r).length>0?r:(console.log("Validation Success: Activity Assessment passed."),null)}return e({validateForm:i}),(r,d)=>(h(),g("div",Se,[(h(),G(W(b(a)),{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=m=>o.value=m),options:u,class:"multiselect-component"},{header:C(()=>[...d[1]||(d[1]=[x(" How is the babies activity? ",-1)])]),_:1},8,["modelValue"]))]))}}),Be=P(Ie,[["__scopeId","data-v-9d2bba93"]]),$e={class:"center-content"},ke={class:"assessment-component"},qe={class:"image-question-wrapper"},Ee={class:"cleft-image-container"},Fe={class:"image-placeholder"},De=["src"],Ne=V({name:"CleftLipPalateQuestion",components:{VueMultiselectStaticList:I},__name:"CleftLipPalateQuestion",setup(s,{expose:e}){const a=_(),n=A({get:()=>a.cleftAssessment,set:i=>{a.setCleftAssessment(i)}}),o=[{label:"Palate and lip intact (normal)",value:"Palate"},{label:"Cleft palate",value:"Cleft"},{label:"Cleft lip",value:"Lip"},{label:"Cleft lip and palate",value:"LipPalate"}];function u(){const i={};return n.value||(i.cleftAssessment="Cleft Lip and Palate assessment is required. Please select an option.",console.error("Validation Error: Cleft Lip and Palate assessment missing.")),Object.keys(i).length>0?i:(console.log("Validation Success: Cleft Lip and Palate Question passed."),null)}return e({validateForm:u}),(i,r)=>(h(),g("div",$e,[t("div",ke,[v(O,{text:"Cleft Lip & Palate"}),t("div",qe,[r[1]||(r[1]=t("div",{class:"question-header"}," Look at the lip and palate, is it intact? ",-1)),t("div",Ee,[t("div",Fe,[t("img",{src:b(te).banners.cleft,alt:"Cleft Lip and Palate Illustration",class:"cleft-illustration-image"},null,8,De)])])]),t("div",null,[v(I,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=d=>n.value=d),options:o,class:"assessment-component"},null,8,["modelValue"])])])]))}}),He=P(Ne,[["__scopeId","data-v-ed0021fd"]]),Te={class:"center-content"},Ge={class:"center-content"},Le={class:"textarea-wrapper"},Me=V({__name:"CongenitalAbnormalitiesQuestion",setup(s,{expose:e}){const a=_(),n=A({get:()=>a.hasCongenitalAbnormalities,set:i=>a.setHasCongenitalAbnormalities(i)}),o=A({get:()=>a.abnormalitiesNotes,set:i=>a.setAbnormalitiesNotes(i)});function u(){const i={};return n.value===null&&(i.abnormalitiesQuestion="The 'Other congenital abnormalities' question must be answered Yes or No.",console.error("Validation Error: Congenital Abnormalities question missing.")),n.value===!0&&o.value.trim()===""&&(i.abnormalitiesNotes="You indicated 'Yes' to abnormalities. Please provide details in the text box.",console.error("Validation Error: Abnormality details are missing.")),Object.keys(i).length>0?i:(console.log("Validation Success: Congenital Abnormalities Question passed."),null)}return e({validateForm:u}),(i,r)=>(h(),g(E,null,[t("div",Te,[v($,{question:"Are there other congenital abnormalities?",modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=d=>n.value=d),class:"assessment-component"},null,8,["modelValue"])]),t("div",Ge,[t("div",Le,[r[2]||(r[2]=t("div",{class:"textarea-header"},"Write below.",-1)),J(t("textarea",{"onUpdate:modelValue":r[1]||(r[1]=d=>o.value=d),placeholder:"What other abnormalities can you observe...",rows:"5",class:"abnormalities-textarea assessment-component"},null,512),[[K,o.value]])])])],64))}}),Ye=P(Me,[["__scopeId","data-v-65afc3b9"]]),Ue={class:"summary-container"},Re={class:"summary-section"},Qe={class:"section-content"},je={class:"summary-section"},ze={class:"section-content"},We={class:"summary-section"},Je={class:"section-content"},Ke={class:"summary-section"},Xe={class:"section-content"},Ze={class:"question-answer"},es={class:"answer-text"},ss={class:"question-answer"},ts={class:"answer-text"},as={class:"question-answer"},ns={class:"answer-text"},os={class:"question-answer"},ls={class:"answer-text"},is={class:"summary-section"},rs={class:"section-content"},cs={class:"summary-section"},us={class:"section-content"},ds={class:"summary-section"},ms={class:"section-content"},bs={class:"summary-section"},vs={class:"section-content"},ps={class:"summary-section"},hs={class:"section-content"},ys={class:"summary-section"},fs={class:"section-content"},As={class:"question-answer"},gs={class:"answer-text"},_s={key:0},ws={class:"answer-text notes-text"},Cs=V({__name:"Summary",setup(s){const e=_(),a=n=>n===!0?"(yes)":n===!1?"(no)":n&&typeof n=="object"&&n.label?n.label:n&&typeof n=="string"&&n.trim()!==""?n:"(Not Assessed)";return(n,o)=>(h(),g("div",Ue,[o[16]||(o[16]=t("h2",{class:"summary-title"},"Summary",-1)),t("div",Re,[o[0]||(o[0]=t("div",{class:"section-header"},"Activity",-1)),t("div",Qe,f(a(b(e).activityAssessment)),1)]),t("div",je,[o[1]||(o[1]=t("div",{class:"section-header"},"Fontanelle",-1)),t("div",ze,f(a(b(e).fontanelleAssessment)),1)]),t("div",We,[o[2]||(o[2]=t("div",{class:"section-header"},"Head (Mass in Head)",-1)),t("div",Je,f(a(b(e).massInHeadAssessment)),1)]),t("div",Ke,[o[7]||(o[7]=t("div",{class:"section-header"},"Color",-1)),t("div",Xe,[t("div",Ze,[o[3]||(o[3]=t("span",{class:"question-text"},"Is the baby yellow?",-1)),t("span",es,f(a(b(e).isBabyYellow)),1)]),t("div",ss,[o[4]||(o[4]=t("span",{class:"question-text"},"Is the baby Pallor Pink?",-1)),t("span",ts,f(a(b(e).isBabyPallorPink)),1)]),t("div",as,[o[5]||(o[5]=t("span",{class:"question-text"},"Does the baby have cyanosis?",-1)),t("span",ns,f(a(b(e).hasBabyCyanosis)),1)]),t("div",os,[o[6]||(o[6]=t("span",{class:"question-text"},"Does the baby have oedema?",-1)),t("span",ls,f(a(b(e).hasBabyOedema)),1)])])]),t("div",is,[o[8]||(o[8]=t("div",{class:"section-header"},"Capillary Refill Time (CRT)",-1)),t("div",rs,f(a(b(e).capillaryRefillTime)),1)]),t("div",cs,[o[9]||(o[9]=t("div",{class:"section-header"},"Femoral Pulses",-1)),t("div",us,f(a(b(e).femoralPulses)),1)]),t("div",ds,[o[10]||(o[10]=t("div",{class:"section-header"},"Genitalia",-1)),t("div",ms,f(a(b(e).genitaliaAssessment)),1)]),t("div",bs,[o[11]||(o[11]=t("div",{class:"section-header"},"Anus",-1)),t("div",vs,f(a(b(e).anusAssessment)),1)]),t("div",ps,[o[12]||(o[12]=t("div",{class:"section-header"},"Cleft Lip & Palate",-1)),t("div",hs,f(a(b(e).cleftAssessment)),1)]),t("div",ys,[o[15]||(o[15]=t("div",{class:"section-header"},"Other Abnormalities",-1)),t("div",fs,[t("div",As,[o[13]||(o[13]=t("span",{class:"question-text"},"Are there other congenital abnormalities?",-1)),t("span",gs,f(a(b(e).hasCongenitalAbnormalities)),1)]),b(e).hasCongenitalAbnormalities&&b(e).abnormalitiesNotes.trim()?(h(),g("div",_s,[o[14]||(o[14]=t("span",{class:"question-text italic-text"},"Notes:",-1)),t("span",ws,f(b(e).abnormalitiesNotes),1)])):q("",!0)])])]))}}),Ps=P(Cs,[["__scopeId","data-v-3a5e4a95"]]),Vs={class:"center-content"},xs={class:"center-content"},Os=V({__name:"CardiovascularAssessment",setup(s,{expose:e}){const a=I,n=_(),o=A({get:()=>n.capillaryRefillTime,set:m=>n.setCapillaryRefillTime(m)}),u=[{label:"Less than 3 seconds",value:"normal"},{label:"3 or more seconds",value:"slow"}],i=A({get:()=>n.femoralPulses,set:m=>n.setFemoralPulses(m)}),r=[{label:"Palpable",value:"Present"},{label:"Weak or absent",value:"Absent"},{label:"I am not confident feeling the femoral pulses",value:"not_confident"},{label:"Difficult to feel",value:"Diff"}];function d(){const m={};return o.value||(m.capillaryRefillTime="Capillary Refill Time assessment is required.",console.error("Validation Error: CRT assessment missing.")),i.value||(m.femoralPulses="Femoral Pulses assessment is required.",console.error("Validation Error: Femoral Pulses assessment missing.")),Object.keys(m).length>0?m:(console.log("Validation Success: Cardiovascular Assessment passed."),null)}return e({validateForm:d}),(m,l)=>(h(),g(E,null,[v(O,{text:"Capillary Refill Time (CRT)"}),l[4]||(l[4]=t("div",{class:"center-content description-box"}," Do this by pressing over the sternum for 5 seconds & release. How long does it take for skin to return to original color? ",-1)),t("div",Vs,[v(b(a),{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=c=>o.value=c),options:u,class:"assessment-component"},{header:C(()=>[...l[2]||(l[2]=[x(" Select one ",-1)])]),_:1},8,["modelValue"])]),v(O,{text:"Femoral Pulses"}),l[5]||(l[5]=t("div",{class:"center-content description-box"}," Press over the center of the line at the top of the thighs ",-1)),t("div",xs,[v(b(a),{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=c=>i.value=c),options:r,class:"assessment-component"},{header:C(()=>[...l[3]||(l[3]=[x(" Select one ",-1)])]),_:1},8,["modelValue"])])],64))}}),Ss=P(Os,[["__scopeId","data-v-c5953ca5"]]),Is={class:"center-content"},Bs={class:"center-content"},$s=V({__name:"GenitalAndAnusAssessment",setup(s,{expose:e}){const a=I,n=_(),o=A({get:()=>n.genitaliaAssessment,set:m=>n.setGenitaliaAssessment(m)}),u=[{label:"Normal Male genitalia",value:"M"},{label:"Normal Female genitalia",value:"F"},{label:"Abnormal Male genitalia",value:"AM"},{label:"Abnormal Female genitalia",value:"AF"},{label:"Ambiguous Genitalia (not sure)",value:"Amb"}],i=A({get:()=>n.anusAssessment,set:m=>n.setAnusAssessment(m)}),r=[{label:"Patent (Normal)",value:"Pat"},{label:"Imperforate",value:"Imp"},{label:"Abnormal",value:"Abn"}];function d(){const m={};return o.value||(m.genitalia="Genitalia assessment is required.",console.error("Validation Error: Genitalia assessment missing.")),i.value||(m.anus="Anus assessment is required.",console.error("Validation Error: Anus assessment missing.")),Object.keys(m).length>0?m:(console.log("Validation Success: Genital and Anus Assessment passed."),null)}return e({validateForm:d}),(m,l)=>(h(),g(E,null,[v(O,{text:"Genitalia"}),l[4]||(l[4]=t("div",{class:"center-content description-box"}," Check the babies genitalia ",-1)),t("div",Is,[v(b(a),{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=c=>o.value=c),options:u,class:"assessment-component"},{header:C(()=>[...l[2]||(l[2]=[x(" Select one ",-1)])]),_:1},8,["modelValue"])]),v(O,{text:"Anus"}),l[5]||(l[5]=t("div",{class:"center-content description-box"}," Check the babies anus ",-1)),t("div",Bs,[v(b(a),{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=c=>i.value=c),options:r,class:"assessment-component"},{header:C(()=>[...l[3]||(l[3]=[x(" Select one ",-1)])]),_:1},8,["modelValue"])])],64))}}),ks=P($s,[["__scopeId","data-v-780a6361"]]);class qs extends H{constructor(e,a){super(e,117,a)}}class Es extends H{constructor(a,n){super(a,117,n);B(this,"physical_examination_service");B(this,"childObservation",async a=>await this.physical_examination_service.buildValueCoded(a,a));B(this,"computeParentObservation",async a=>({tag:a,obs:await this.physical_examination_service.buildValueCoded(a,a)}));B(this,"buildValueText",async(a,n)=>await this.physical_examination_service.buildValueText(a,n));this.physical_examination_service=new qs(a,n)}async ensureEncounterExists(){if(this.encounterID)return;const a=await this.physical_examination_service.createEncounter();if(!a)throw new Error("Failed to create encounter");if(this.encounterID=a.encounter_id,a.patient_id!==this.patientID)throw new Error("Encounter created for the wrong patient! Context inconsistency detected.")}async onSubmit(a){await this.ensureEncounterExists(),this.saveObservationList(a)}}const S=async(s,e,a,n)=>{if(!a){const d="".concat(n," is required");throw N(d),new Error(d)}const o=await s.computeParentObservation(e),u={["".concat(e.replace(/\s/g,"").toLowerCase(),"Observation")]:o},i=await s.childObservation(a.value);if(!i){const d="".concat(n," observations are required");throw new Error(d)}const r=Object.keys(u)[0];return u[r].obs.child=[i],u},Fs=async s=>{try{const e=_(),a=await S(s,"Activity",e.activityAssessment,"Activity Assessment");await s.onSubmit([a.activityObservation.obs]),e.setActivityAssessment(null)}catch(e){throw e}},Ds=async s=>{try{const e=_(),a=await S(s,"Fontanelle",e.fontanelleAssessment,"Fontanelle Assessment");await s.onSubmit([a.fontanelleObservation.obs]),e.setFontanelleAssessment(null);const n=await S(s,"Head",e.massInHeadAssessment,"Mass in Head Assessment");await s.onSubmit([n.headObservation.obs]),e.setMassInHeadAssessment(null);const u={colorObservation:await s.computeParentObservation("Colour")};if(u.colorObservation.obs.child=[],e.isBabyYellow!==null&&e.isBabyYellow){const i=await s.childObservation("Yell");u.colorObservation.obs.child.push(i)}if(e.isBabyPallorPink!==null&&e.isBabyPallorPink){const i=await s.childObservation("Pink");u.colorObservation.obs.child.push(i)}if(e.hasBabyCyanosis!==null&&e.hasBabyCyanosis){const i=await s.childObservation("Blue");u.colorObservation.obs.child.push(i)}if(e.hasBabyOedema!==null&&e.hasBabyOedema){const i=await s.childObservation("White");u.colorObservation.obs.child.push(i)}await s.onSubmit([u.colorObservation.obs]),e.setIsBabyYellow(null),e.setIsBabyPallorPink(null),e.setHasBabyCyanosis(null),e.setHasBabyOedema(null)}catch(e){throw e}},Ns=async s=>{try{const e=_(),a=await S(s,"Femorals",e.femoralPulses,"Femoral Pulses assessment");await s.onSubmit([a.femoralsObservation.obs]),e.setFemoralPulses(null)}catch(e){throw e}},Hs=async s=>{try{const e=_(),a=await S(s,"Anus2",e.anusAssessment,"Anus assessment");await s.onSubmit([a.anus2Observation.obs]),e.setAnusAssessment(null);const n=await S(s,"Genitalia",e.genitaliaAssessment,"Genitalia assessment");await s.onSubmit([n.genitaliaObservation.obs]),e.setGenitaliaAssessment(null)}catch(e){throw e}},Ts=async s=>{try{const e=_(),a=await S(s,"Palate",e.cleftAssessment,"Cleft Lip/Palate assessment");await s.onSubmit([a.palateObservation.obs]),e.setCleftAssessment(null)}catch(e){throw e}},Gs=async s=>{try{const e=_(),n={congenitalAbnormalitiesObservation:await s.computeParentObservation("Other congenital abnormality")};if(n.congenitalAbnormalitiesObservation.obs.child=[],e.hasCongenitalAbnormalities!==null){let o=e.hasCongenitalAbnormalities?"Yes":"No";const u=await s.childObservation(o);n.congenitalAbnormalitiesObservation.obs.child.push(u)}if(e.abnormalitiesNotes!==""){const o=await s.buildValueText("Notes",e.abnormalitiesNotes);n.congenitalAbnormalitiesObservation.obs.child.push(o)}await s.onSubmit([n.congenitalAbnormalitiesObservation.obs]),e.setHasCongenitalAbnormalities(null),e.setAbnormalitiesNotes("")}catch(e){throw e}},Ls=async()=>{try{const s=D(),{patient:e}=L(s),a=U(),n=new Es(e.value.patientID,a.user_ID);await Promise.all([Fs(n),Ds(n),Ns(n),Hs(n),Ts(n),Gs(n)]),console.log("SUCCESS: All General Examination sections saved successfully!"),R("General Examination saved successfully")}catch(s){throw console.error("FAILED to save General Examination:",s),N("Failed to save General Examination. Please try again."),s}},Ms={key:0},Ys={key:1,class:"error-banner"},Us=V({__name:"GeneralExamination",setup(s){const e=D(),{patient:a}=L(e),n=_(),o=A(()=>{var c;const l=(c=a.value)==null?void 0:c.patientID;return typeof l=="string"?l.trim().length>0:typeof l=="number"?!isNaN(l)&&l>0:!1}),u=[{title:"Activity Assessment",value:"1",component:Be},{title:"Head Assessment",value:"2",component:Oe},{title:"Cardiovascular Assessment",value:"3",component:Ss},{title:"Genital and Anus Assessment",value:"4",component:ks},{title:"Cleft Lip/Palate Question",value:"5",component:He},{title:"Congenital Abnormalities Question",value:"6",component:Ye},{title:"Summary",value:"7",component:Ps}],i=F("1"),r=F(u.map((l,c)=>({title:l.title,number:c+1,checked:!1,class:c===0?"open_step common_step":"common_step",last_step:c===u.length-1?"last_step":""}))),d=l=>{l&&l.value&&r.value.forEach((c,k)=>{l.value===(k+1).toString()?(c.class="open_step common_step",c.checked=!1):k<parseInt(l.value)-1?(c.class="common_step color_white",c.checked=!0):(c.class="common_step",c.checked=!1)})},m=l=>{const c=u.length-1;return l===c?Ls:()=>Promise.resolve()};return T(()=>{o.value?(console.log("General Examination Mounted for Patient ID:",a.value.patientID),n.setCurrentPatientID(a.value.patientID)):console.error("Component mounted without a valid Patient ID. Showing error banner.")}),X(()=>{var l;return(l=a.value)==null?void 0:l.patientID},(l,c)=>{l&&l!==c&&n.setCurrentPatientID(l)}),(l,c)=>(h(),G(b(se),{class:"neonatal-enrollment-page"},{default:C(()=>[v(Q),v(b(Z),{fullscreen:!0},{default:C(()=>[o.value?(h(),g("div",Ms,[v(ae,{wizardData:r.value,StepperData:u,stepperTitle:"General Examination",openStepper:i.value,backUrl:"/patientProfile",getSaveFunction:m,onUpdateStatus:d,"flow-type":"enrollment","show-componet-title":!1},null,8,["wizardData","openStepper"])])):(h(),g("div",Ys,[v(b(ee),{class:"ion-padding"},{default:C(()=>[...c[0]||(c[0]=[t("div",{class:"error-message-box"},[t("h2",{class:"ion-text-center"},"⚠️ Neonate is required"),t("p",{class:"ion-text-center"},"Search or register a neonate to continue the general examination.")],-1)])]),_:1})]))]),_:1})]),_:1}))}}),st=P(Us,[["__scopeId","data-v-dd1c507e"]]);export{st as default};
