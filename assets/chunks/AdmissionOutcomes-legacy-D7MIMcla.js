System.register(["./vendor-legacy-yRrh2kya.js","../index-legacy-BCSCns0l.js","./NeonatalStepper-legacy-CUaFIfP6.js","./useNeonatalAdmissionOutcomesStore-legacy-Dh1G2F_3.js","./neonatal_service-legacy-CfbEN6hI.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-D_Tg9bdX.js","./SaveProgressModal-legacy-HAm6ilHg.js","./enrollment-legacy-BWFKsMdA.js","./images-legacy-D0tOfoHp.js","./useNeonatalEnrollmentStore-legacy-DH5gbqMf.js","./useSignsSymptomsStore-legacy-D2jAxIBZ.js","./useNeonatalVitalsStore-legacy-CXE9Lipo.js"],function(e,t){"use strict";var a,o,n,s,l,i,u,r,c,m,d,p,v,g,f,S,y,_,F,O,D,h,b,j,I,w,x,A,N,T,k,P;return{setters:[e=>{a=e.d,o=e.r,n=e.bH,s=e.w,l=e.e,i=e.f,u=e.l,r=e.u,c=e.ab,m=e.ae,d=e.am,p=e.b2,v=e.eV,g=e.H,f=e.O,S=e.J},e=>{y=e.z,_=e._,F=e.T,O=e.u,D=e.t,h=e.H,b=e.F,j=e.w},e=>{I=e.j,w=e.v,x=e.N,A=e.k,N=e.w},e=>{T=e.P,k=e.u},e=>{P=e.N},null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".admission-outcome-wrapper[data-v-e078a6a9]{display:flex;flex-direction:column;margin:0}.safeguard-concerns-wrapper[data-v-d06dc727]{display:flex;flex-direction:column;gap:1rem}.neonatal-admission-outcomes-page[data-v-61c78177]{min-height:100vh}\n/*$vite$:1*/",document.head.appendChild(t);const V={class:"admission-outcome-wrapper"},C=_(a({__name:"AdmissionOutcomeSection",setup(e,{expose:t}){const a=o(null),c=w[0],m=c.formData,d=c.subtitle,p=n(I),v=e=>{p&&(p.admissionOutcome=e.admissionOutcome||"")};return s(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.formValues},e=>{e&&v(e)},{deep:!0}),s(()=>a.value,e=>{null!=e&&e.getFormValues&&v(e.getFormValues())},{immediate:!0}),t({getFormRef:()=>a.value,validateForm:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.validateForm)||void 0===t?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.getFormValues)||void 0===t?void 0:t.call(e))||{}}}),(e,t)=>(i(),l("div",V,[u(y,{formData:r(m),subtitle:r(d),ref_key:"formRef",ref:a,class:"main-form"},null,8,["formData","subtitle"])]))}}),[["__scopeId","data-v-e078a6a9"]]),z={class:"safeguard-concerns-wrapper"},R=_(a({__name:"SafeguardConcernsSection",setup(e,{expose:t}){const a=o(null),n=w[1],s=n.formData,c=n.subtitle;return t({getFormRef:()=>a.value,validateForm:()=>null,getFormValues:()=>({})}),(e,t)=>(i(),l("div",z,[u(y,{formData:r(s),subtitle:r(c),ref_key:"formRef",ref:a,class:"main-form"},null,8,["formData","subtitle"])]))}}),[["__scopeId","data-v-d06dc727"]]),E=a({name:"NeonatalAdmissionOutcomes",components:{IonPage:m,IonContent:c,Toolbar:F,NeonatalStepper:x,AdmissionOutcomeSection:C,SafeguardConcernsSection:R,PrintSummarySection:T},setup(){const e=d(),t=O(),{patient:a}=p(t),n=o(!1),l=k(),i=()=>{var e;const t=(e=>{const t=Number(e);return Number.isFinite(t)?t:null})(null===(e=a.value)||void 0===e?void 0:e.patientID);l.initializeAdmissionOutcomesForm(t)};i(),s(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.patientID},()=>i());const u=l.admissionOutcomesForm;v(I,u),s(()=>l.admissionOutcomesForm,()=>l.saveAdmissionOutcomesSnapshot(),{deep:!0});const r=o("1"),c=[...w,A[1]],m=o(c.map((e,t)=>({title:e.title,number:t+1,checked:!1,class:0===t?"open_step common_step":"common_step",last_step:t===c.length-1?"last_step":""}))),g=[{title:w[0].title,value:"1",component:C,configIndex:0},{title:w[1].title,value:"2",component:R,configIndex:1},{title:A[1].title,value:"3",component:T,configIndex:3,buttonText:"SAVE & PRINT"}],f=g.length-1;return{router:e,patient:a,admissionOutcomesFormData:u,stepperTitle:"Admission Outcomes",currentOpenStepper:r,wizardData:m,stepperData:g,updateStatus:e=>{e&&e.value&&m.value.forEach((t,a)=>{e.value===(a+1).toString()?(t.class="open_step common_step",t.checked=!1):a<parseInt(e.value)-1?(t.class="common_step color_white",t.checked=!0):(t.class="common_step",t.checked=!1)})},getSaveFunction:t=>t===f?async()=>{var t;if(null!==(t=a.value)&&void 0!==t&&t.patientID){if(!n.value)try{if(n.value=!0,!u.admissionOutcome)return D("Please select an admission outcome"),void(n.value=!1);await P.saveAdmissionOutcomes(a.value.patientID,u,h.sessionDate()),b("Admission outcomes saved successfully"),l.clearAdmissionOutcomesForm(a.value.patientID),e.push({name:"neonatalAdmissionSignOff"})}catch(o){console.error("Failed to save admission outcomes",o),j("Failed to save admission outcomes. Please try again.")}finally{n.value=!1}}else D("No patient selected")}:null,isSaving:n,neonatalAdmissionOutcomesSections:N}}});e("default",_(E,[["render",function(e,t,a,o,n,s){const l=g("Toolbar"),r=g("NeonatalStepper"),c=g("ion-content"),m=g("ion-page");return i(),f(m,{class:"neonatal-admission-outcomes-page"},{default:S(()=>[u(l),u(c,{fullscreen:!0},{default:S(()=>[u(r,{wizardData:e.wizardData,StepperData:e.stepperData,stepperTitle:e.stepperTitle,openStepper:e.currentOpenStepper,backUrl:"/patientProfile",getSaveFunction:e.getSaveFunction,flowType:"admissionOutcomes",sectionsConfig:e.neonatalAdmissionOutcomesSections,useSkipLogic:!0,onUpdateStatus:e.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","sectionsConfig","onUpdateStatus"])]),_:1})]),_:1})}],["__scopeId","data-v-61c78177"]]))}}});
