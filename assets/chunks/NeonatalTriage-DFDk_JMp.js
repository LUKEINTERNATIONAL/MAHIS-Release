import{D as Fe,r as F,c as H,d as h,eO as x,w as p,e as V,f as v,l as y,u as c,aV as _e,F as G,P as Y,k as g,K as P,m as Re,aT as Ve,L as z,aw as be,J as L,Q as U,N as q,b as he,a3 as Se,a6 as De,an as xe,bz as Ie,eP as Te,H as A,O as we}from"./vendor-mfJAYm71.js";import{aD as I,_ as S,T as Ce,u as ve,ci as $e,G as K,t as B,ag as O,ch as ke,aX as Ee}from"../index-DXPfJgrE.js";import{D as Ne}from"./DemographicBar-PA7JxEE4.js";import{c as b,e as D,N as Oe,f as Me,t as He}from"./NeonatalStepper-mGszRc_F.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-Cv72TtBb.js";import"./SaveProgressModal-BWkexMYI.js";import"./images-DJIykHYW.js";import"./enrollment-DU-PLRUa.js";const N=Fe("neonatalTriage",()=>{const f=F({});function l(n,e){f.value={...f.value,[n]:e}}function o(n){f.value={...f.value,...n}}function a(n){f.value={...n}}function i(){f.value={}}const r=H(()=>{var n;return(n=f.value.crying)!=null?n:null}),s=H(()=>{var n;return(n=f.value.breathing)!=null?n:null});return{formValues:f,setField:l,patchValues:o,replaceValues:a,reset:i,crying:r,breathing:s}}),Ae={class:"triage-section-wrapper"},Be=h({__name:"EmergencyTriageSection",setup(f,{expose:l}){const o=F(null),a=b[0],i=a.formData,r=a.conditionalRules||[],s=x(D),n=N(),e=t=>{s&&(s.crying=t.crying||"",n.setField("crying",t.crying||""),n.setField("breathing",t.breathing||""))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),p(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),V("div",Ae,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),J=S(Be,[["__scopeId","data-v-4feaf236"]]),je={class:"triage-section-wrapper"},Pe=h({__name:"BreathingAssessmentSection",setup(f,{expose:l}){const o=F(null),a=b[1],i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&(s.breathing=e.breathing)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),p(()=>o.value,e=>{e!=null&&e.getFormValues&&n(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",je,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Q=S(Pe,[["__scopeId","data-v-ef50eec4"]]),Le={class:"triage-section-wrapper"},Ue=h({__name:"EmergencyManagementSection",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Oxygen Saturation"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Le,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),We=S(Ue,[["__scopeId","data-v-3306617f"]]),Ge={class:"triage-section-wrapper"},Ye=h({__name:"OxygenSaturationSection",setup(f,{expose:l}){const o=F(null),a=b[3],i=a.formData,r=a.conditionalRules||[],s=x(D),n=N(),e=t=>{s&&(Object.assign(s,t),n.setField("observations",t.observations))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),V("div",Ge,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),X=S(Ye,[["__scopeId","data-v-740aefb2"]]),ze={class:"triage-section-wrapper"},qe=h({__name:"CentralCyanosisSection",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Emergency Management 3"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",ze,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Z=S(qe,[["__scopeId","data-v-0e2784f0"]]),Ke={class:"triage-section-wrapper"},Je=h({__name:"ConvulsionsSection",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Emergency Management 4"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Ke,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ee=S(Je,[["__scopeId","data-v-78f15785"]]),Qe={class:"triage-section-wrapper"},Xe=h({__name:"VitalSectionTwo",setup(f,{expose:l}){const o=F(null),a=b.find(t=>t.title==="Vital Signs 2"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=N(),e=t=>{s&&n.setField("saturation_in_oxygen",t.saturation_in_oxygen)};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),p(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),V("div",Qe,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),te=S(Xe,[["__scopeId","data-v-18df91a1"]]),Ze={class:"triage-section-wrapper"},et=h({__name:"VitalSectionThree",setup(f,{expose:l}){const o=F(null),a=b.find(t=>t.title==="Vital Signs 3"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=N(),e=t=>{s&&(n.setField("temperature",t.temperature),n.setField("can_measure_temp",t.can_measure_temp))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),p(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),V("div",Ze,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),oe=S(et,[["__scopeId","data-v-8f1c7b62"]]),tt={class:"summary-wrapper"},ot={class:"summary-card-body"},at={class:"summary-row-label"},nt={class:"summary-row-value"},rt=h({__name:"TriageSummarySection",setup(f){const l=N(),{formValues:o}=_e(l),a={not_breathing:"Not breathing",hr_low:"Heart rate low",hr_fast:"Heart rate fast",gasping:"GASPING or irregular breathing",chest_indrawing:"Chest indrawing",floppy:"VERY FLOPPY (Normal breathing & HR)",stable:"stable"},i={None:"None",Convulsions_twitching:"Convulsions or twitching",grunting:"Grunting or Severe chest indrawing's",Central_cyanosis:"Central cyanosis"},r={none:"None",trunk_cold:"Trunk feels cold",capillary_refill:"Capillary refill >3 seconds",weak_pulse:"Weak femoral pulse"},s=d=>d==null||d===""?null:d===!0||d==="yes"?"(yes)":d===!1||d==="no"?"(no)":String(d),n=d=>d==null||d===""?null:String(d),e=(d,E)=>!Array.isArray(d)||d.length===0?null:d.map(w=>{var R;const m=String(w);return(R=E==null?void 0:E[m])!=null?R:m}).join("\n"),t=H(()=>{const d=o.value||{};return[{title:"Triage",items:[{label:"Is the baby crying?",value:s(d.crying)},{label:"Is the baby breathing?",value:e(d.breathing,a)},{label:"Observations",value:e(d.observations,i)},{label:"Present signs",value:e(d.present_signs,r)}]},{title:"Vitals",items:[{label:"Respiratory Rate",value:n(d.respiratory_rate)},{label:"Heart Rate (bpm)",value:n(d.heart_rate)},{label:"Oxygen Sats in Air (%)",value:n(d.oxygen_saturation_vital)},{label:"Saturations in Oxygen (%)",value:n(d.saturation_in_oxygen)},{label:"Temperature (degs C)",value:n(d.temperature)},{label:"Blood Sugar",value:d.blood_sugar?"".concat(d.blood_sugar," ").concat(d.bloodSugar_unit||"").trim():null},{label:"Admission Weight (kg)",value:n(d.admission_weight)},{label:"Birth Weight (kg)",value:n(d.birth_weight)},{label:"Head Circumference (cm)",value:n(d.head_circumference)}]}]}),u=H(()=>t.value.map(d=>({...d,items:d.items.filter(E=>E.value!==null&&E.value!=="")})).filter(d=>d.items.length>0));return(d,E)=>(v(),V("div",tt,[(v(!0),V(G,null,Y(u.value,C=>(v(),V("div",{key:C.title,class:"summary-card"},[g("div",ot,[(v(!0),V(G,null,Y(C.items,w=>(v(),V("div",{key:w.label,class:"summary-row"},[g("span",at,P(w.label),1),g("span",nt,P(w.value),1)]))),128))])]))),128))]))}}),st=S(rt,[["__scopeId","data-v-6aeaf1fc"]]),it={class:"triage-section-wrapper"},lt=h({__name:"VitalSectionFour",setup(f,{expose:l}){const o=F(null),a=b.find(t=>t.title==="Vital Signs Four"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=N(),e=t=>{s&&(n.setField("admission_weight",t.admission_weight),n.setField("birth_weight",t.birth_weight),n.setField("head_circumference",t.head_circumference))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),p(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),V("div",it,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ct=S(lt,[["__scopeId","data-v-c3ef1c83"]]),ut={class:"triage-section-wrapper"},mt=h({__name:"TemperatureHight",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Temperature High"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&(s.crying=e.crying||"")};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),p(()=>o.value,e=>{e!=null&&e.getFormValues&&n(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",ut,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},[g("p",null,"The temperature is too high!")],-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ae=S(mt,[["__scopeId","data-v-2f9d8428"]]),ft={class:"triage-section-wrapper"},dt={key:0,class:"triage-dialog-backdrop"},gt={class:"triage-dialog-card"},pt={class:"triage-dialog-header"},_t={class:"triage-dialog-icon"},vt={class:"triage-dialog-actions"},yt=h({__name:"VitalBloodSugar",props:{stepIndex:{},goToNext:{type:Function},goToPrevious:{type:Function},goToStep:{type:Function}},setup(f,{expose:l}){const o=f,a=F(null),i=b.find(m=>m.title==="Emergency Triage Blood Sugar"),r=i.formData,s=i.conditionalRules||[],n=x(D),e=N(),t=F(!1),u=m=>{n&&(e.setField("can_measure_temp",m.can_measure_temp),e.setField("blood_sugar",m.bloodSugar),e.setField("bloodSugar_unit",m.bloodSugar_unit))};function d(){const m=e.formValues.bloodSugar_unit,R=Number(e.formValues.blood_sugar);if(m==="mg/dL"&&R<45||m==="mmol/L"&&R<2.5){t.value=!0;return}o.goToNext&&o.goToNext()}function E(){t.value=!1}function C(){const m=b.findIndex(R=>R.title==="Hypoglycemia-Asymptomatic");o.goToStep&&o.goToStep(m),t.value=!1}function w(){const m=b.findIndex(R=>R.title==="Hypoglycemia-Symptomatic");o.goToStep&&o.goToStep(m),t.value=!1}return p(()=>{var m;return(m=a.value)==null?void 0:m.formValues},m=>{m&&u(m)},{deep:!0}),p(()=>a.value,m=>{m!=null&&m.getFormValues&&u(m.getFormValues())},{immediate:!0}),l({getFormRef:()=>a.value,validateForm:()=>{var m,R;return((R=(m=a.value)==null?void 0:m.validateForm)==null?void 0:R.call(m))||null},getFormValues:()=>{var m,R;return((R=(m=a.value)==null?void 0:m.getFormValues)==null?void 0:R.call(m))||{}},openDialog:d}),(m,R)=>(v(),V("div",ft,[R[6]||(R[6]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"The temperature is too high!",-1)),y(I,{formData:c(r),conditionalRules:c(s),ref_key:"formRef",ref:a},null,8,["formData","conditionalRules"]),t.value?(v(),V("div",dt,[g("div",gt,[g("button",{class:"triage-dialog-close",type:"button",onClick:E},[y(c(z),{icon:c(Ve)},null,8,["icon"])]),g("div",pt,[g("div",_t,[y(c(z),{icon:c(be)},null,8,["icon"])]),R[0]||(R[0]=g("h2",null,"Hypoglycemia?",-1))]),R[3]||(R[3]=g("div",{class:"triage-dialog-divider"},null,-1)),R[4]||(R[4]=g("p",{class:"triage-dialog-subtitle"},"The baby’s blood sugar is low.",-1)),R[5]||(R[5]=g("p",{class:"triage-dialog-body"},"Is the baby symptomatic? e.g Jittery, lethargic or not responding.",-1)),g("div",vt,[y(c(q),{class:"triage-dialog-btn secondary",expand:"block",onClick:C},{default:L(()=>[...R[1]||(R[1]=[U(" NO ",-1)])]),_:1}),y(c(q),{class:"triage-dialog-btn primary",expand:"block",onClick:w},{default:L(()=>[...R[2]||(R[2]=[U(" YES ",-1)])]),_:1})])])])):Re("",!0)]))}}),Ft=S(yt,[["__scopeId","data-v-592f7f49"]]),Rt={class:"triage-section-wrapper"},Vt=h({__name:"EmergencyTriage",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Emergency Triage 1"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Rt,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}}," You may start measuring the vitals while continuing with the triage since the readings takes a while. ",-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ne=S(Vt,[["__scopeId","data-v-ef810f36"]]),bt={class:"triage-section-wrapper"},ht=h({__name:"BabyDemographics",setup(f,{expose:l}){const o=F(null),a=b.find(t=>t.title==="Demographics"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=N(),e=t=>{s&&(Object.assign(s,t),n.setField("first_name",t.first_name),n.setField("last_name",t.last_name))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),V("div",bt,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),St=S(ht,[["__scopeId","data-v-f14b7f8a"]]),Dt={class:"triage-section-wrapper"},xt=h({__name:"HypoglycemiaSymptomatic",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Hypoglycemia-Symptomatic"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&(s.crying=e.crying||"")};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),p(()=>o.value,e=>{e!=null&&e.getFormValues&&n(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Dt,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Hypoglycemia - Symptomatic",-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),It=S(xt,[["__scopeId","data-v-84bba3cb"]]),Tt={class:"triage-section-wrapper"},wt=h({__name:"HypoglycemiaAsymptomatic",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Hypoglycemia-Asymptomatic"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&(s.crying=e.crying||"")};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),p(()=>o.value,e=>{e!=null&&e.getFormValues&&n(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Tt,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Hypoglycemia - Asymptomatic",-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Ct=S(wt,[["__scopeId","data-v-d3132015"]]),$t={class:"triage-section-wrapper"},kt=h({__name:"EmergencyManagementTwo",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Emergency Management 2"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",$t,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"if not already on oxygen",-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Et=S(kt,[["__scopeId","data-v-ce21fbea"]]),Nt={class:"triage-section-wrapper"},Ot=h({__name:"EmergencyManagementSix",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Emergency Management 6"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Nt,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Mt=S(Ot,[["__scopeId","data-v-574bb0b2"]]),Ht={class:"triage-section-wrapper"},At=h({__name:"EmergencyManagementSeven",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Emergency Management 7"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Ht,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),re=S(At,[["__scopeId","data-v-bda3a435"]]),Bt={class:"triage-section-wrapper"},jt=h({__name:"EmergencyManagementEight",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Emergency Management 8"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Bt,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},[g("p",null,"Mild Hypothermia = 36 - 36.4 degs C"),g("p",null,"Moderate Hypothermia = 32 - 35.9 degs C"),g("p",null,"Severe Hypothermia = 32 degs C")],-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Pt=S(jt,[["__scopeId","data-v-5cf67fc3"]]),Lt={class:"triage-section-wrapper"},Ut=h({__name:"BabyRecoveredStillSevereRespiratory",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Baby Recovered"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Lt,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},[g("p",null,[g("b",null,"The baby has recovered but still has severe respiratory distress and WILL require referral.")])],-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Wt=S(Ut,[["__scopeId","data-v-5f09a4b0"]]),Gt={class:"triage-section-wrapper"},Yt=h({__name:"ConvulsionsVitalsSection",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Emergency Management Vitals"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Gt,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"If not already on oxygen",-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),zt=S(Yt,[["__scopeId","data-v-3b07968f"]]),qt={class:"triage-section-wrapper"},Kt=h({__name:"ObservationsSection",setup(f,{expose:l}){const o=F(null),a=b[6],i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",qt,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),se=S(Kt,[["__scopeId","data-v-2983b80f"]]),Jt={class:"triage-section-wrapper"},Qt=h({__name:"DangerSignsSection",setup(f,{expose:l}){const o=F(null),a=b[7],i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Jt,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ie=S(Qt,[["__scopeId","data-v-12f5a202"]]),Xt={class:"triage-section-wrapper"},Zt=h({__name:"SelectPresentSignsSection",setup(f,{expose:l}){const o=F(null),a=b[8],i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",Xt,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),le=S(Zt,[["__scopeId","data-v-d23dc7b9"]]),eo={class:"triage-section-wrapper"},to=h({__name:"TrunkFeelsColdSection",setup(f,{expose:l}){const o=F(null),a=b[9],i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",eo,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ce=S(to,[["__scopeId","data-v-4c89bfca"]]),oo={class:"triage-section-wrapper"},ao=h({__name:"KeepWarmSection",setup(f,{expose:l}){const o=F(null),a=b[10],i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",oo,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ue=S(ao,[["__scopeId","data-v-e7f9f90d"]]),no={class:"triage-section-wrapper"},ro={class:"respiratory-timer-body"},so={class:"respiratory-timer-time"},io={class:"respiratory-timer-instruction"},W=60,lo=h({__name:"VitalSignsSection",setup(f,{expose:l}){const o=F(null),a=b.find(_=>_.title==="Vital Signs"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=F(W),e=F(!1),t=F(!1);let u=null;const d=H(()=>{const _=Math.floor(n.value/60).toString().padStart(2,"0"),T=(n.value%60).toString().padStart(2,"0");return"".concat(_,":").concat(T)}),E=H(()=>e.value?"TAP TO PAUSE COUNTDOWN":n.value===W?"TAP TO START COUNTDOWN":n.value===0?"TAP TO RESTART COUNTDOWN":"TAP TO RESUME COUNTDOWN"),C=()=>{u===null&&(e.value=!0,t.value=!1,u=window.setInterval(()=>{n.value>0?n.value-=1:(e.value=!1,t.value=!0,u!==null&&(clearInterval(u),u=null))},1e3))},w=()=>{u!==null&&(clearInterval(u),u=null),e.value=!1},m=()=>{w(),n.value=W,t.value=!1},R=()=>{e.value?w():(n.value===0&&m(),C())};he(()=>{u!==null&&clearInterval(u)});const k=N(),$=_=>{s&&(Object.assign(s,_),k.setField("respiratory_rate",_.respiratory_rate),k.setField("heart_rate",_.heart_rate),k.setField("can_measure_oxygen_saturation",_.can_measure_oxygen_saturation),k.setField("oxygen_saturation_vital",_.oxygen_saturation_vital),k.setField("oxygen_facility_available",_.oxygen_facility_available))};return p(()=>{var _;return(_=o.value)==null?void 0:_.formValues},_=>{_&&$(_)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var _,T;return((T=(_=o.value)==null?void 0:_.validateForm)==null?void 0:T.call(_))||null},getFormValues:()=>{var _,T;return((T=(_=o.value)==null?void 0:_.getFormValues)==null?void 0:T.call(_))||{}}}),(_,T)=>(v(),V("div",no,[g("div",{class:"respiratory-timer-card",onClick:R},[T[0]||(T[0]=g("div",{class:"respiratory-timer-header"},"Respiratory  Rate Timer",-1)),g("div",ro,[g("div",so,P(d.value),1),g("div",io,P(E.value),1)])]),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),j=S(lo,[["__scopeId","data-v-54fa99a2"]]),co={class:"triage-section-wrapper"},uo=h({__name:"RespiratoryDistressSection",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Danger Signs"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",co,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Feel for 3 danger signs.",-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),me=S(uo,[["__scopeId","data-v-e75e77c9"]]),mo={class:"triage-section-wrapper"},fo=h({__name:"TemperatureHighSection",setup(f,{expose:l}){const o=F(null),a=b.find(t=>t.title==="Select Present Signs"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=N(),e=t=>{s&&(Object.assign(s,t),n.setField("present_signs",t.present_signs))};return p(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.validateForm)==null?void 0:u.call(t))||null},getFormValues:()=>{var t,u;return((u=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:u.call(t))||{}}}),(t,u)=>(v(),V("div",mo,[y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),fe=S(fo,[["__scopeId","data-v-b617adf2"]]),go={class:"triage-section-wrapper"},po=h({__name:"SecondVitalSignsSection",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Trunk Feels Cold"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",go,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},[g("p",null,"Mild Hypothermia = 36 - 36.4 degs C"),g("p",null,"Moderate Hypothermia = 32 - 35.9 degs C"),g("p",null,"Severe Hypothermia = 32 degs C")],-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),de=S(po,[["__scopeId","data-v-4a384fc4"]]),_o={class:"triage-section-wrapper"},vo=h({__name:"BloodSugarSection",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Emmergency Management 4"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&Object.assign(s,e)};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",_o,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}}," This baby may be in Shock! See pg 74 COIN (NB. Don't give a bolus to a baby that has not responded to resuscitation) ",-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ge=S(vo,[["__scopeId","data-v-eec9c993"]]),yo={class:"triage-section-wrapper"},Fo=h({__name:"ReferralInstructionsSection",setup(f,{expose:l}){const o=F(null),a=b.find(e=>e.title==="Referral Instructions"),i=a.formData,r=a.conditionalRules||[],s=x(D),n=e=>{s&&(s.crying=e.crying||"")};return p(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&n(e)},{deep:!0}),p(()=>o.value,e=>{e!=null&&e.getFormValues&&n(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),V("div",yo,[t[0]||(t[0]=g("div",{style:{"background-color":"#fedf89",padding:"10px"}},[g("p",null,[g("b",null,"If oxygen is NOT available CALL referral hospital immediately "),U(" for guidance and if possible send the baby with accompanying health worker with bag valve mask (BVM) ventilation equipment. "),g("br"),g("br"),U(" Continue with the Neotree examination. ")])],-1)),y(I,{formData:c(i),conditionalRules:c(r),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),pe=S(Fo,[["__scopeId","data-v-d4742399"]]);ve();const Ro=h({name:"NeonatalTriage",components:{IonPage:De,IonContent:Se,Toolbar:Ce,DemographicBar:Ne,NeonatalStepper:Oe,EmergencyTriageSection:J,BreathingAssessmentSection:Q,EmergencyManagementSection:We,OxygenSaturationSection:X,CentralCyanosisSection:Z,ConvulsionsSection:ee,ObservationsSection:se,DangerSignsSection:ie,SelectPresentSignsSection:le,TrunkFeelsColdSection:ce,KeepWarmSection:ue,VitalSignsSection:j,RespiratoryDistressSection:me,TemperatureHighSection:fe,SecondVitalSignsSection:de,BloodSugarSection:ge,VitalsSignsSection:j,ReferralInstructionsSection:pe,VitalSectionThree:oe,VitalSectionTwo:te,TemperatureHigh:ae,EmergencyTriage:ne,EmergencyManagementSeven:re},setup(){var E;const f=xe(),l=ve(),{patient:o}=_e(l),a=Ie({...Me,_hasPatient:!!((E=o.value)!=null&&E.patientID)});Te(D,a),p(()=>{var C;return(C=o.value)==null?void 0:C.patientID},C=>{a._hasPatient=!!C});const i=F(b.map((C,w)=>({title:C.title,number:w+1,checked:!1,class:w===0?"open_step common_step":"common_step",last_step:w===b.length-1?"last_step":""}))),r=C=>b.findIndex(w=>w.title==C),s=[{title:"Emergency Triage",value:"1",component:J,configIndex:r("Emergency Triage")},{title:"Emergency Management",value:"2",component:Q,configIndex:r("Emergency Management 1")},{title:"Emergency Triage",value:"3",component:ne,configIndex:r("Emergency Triage 1")},{title:"Oxygen Saturation",value:"4",component:X,configIndex:r("Oxygen Saturation")},{title:"Emergency Management",value:"5",component:Et,configIndex:r("Emergency Management 2")},{title:"Emergency Management",value:"6",component:Z,configIndex:r("Emergency Management 3")},{title:"Emergency Management",value:"7",component:ee,configIndex:r("Emergency Management 4")},{title:"Central Cyanosis",value:"8",component:se,configIndex:r("Central Cyanosis")},{title:"Convulsions/Twitching",value:"9",component:ie,configIndex:r("Convulsions/Twitching")},{title:"Emergency Observations",value:"10",component:le,configIndex:r("Emergency Observations")},{title:"Emergency Management",value:"11",component:ce,configIndex:r("Emergency Management - Grunting/Indrawing")},{title:"Emergency Management",value:"12",component:ue,configIndex:r("Emergency Management - Central Cyanosis")},{title:"Emergency Management",value:"13",component:j,configIndex:r("Emergency Management - Convulsions")},{title:"Danger Signs",value:"14",component:me,configIndex:r("Danger Signs")},{title:"Select Present Signs",value:"15",component:fe,configIndex:r("Select Present Signs")},{title:"Trunk Feels Cold",value:"16",component:de,configIndex:r("Trunk Feels Cold")},{title:"Emmergency Management 4",value:"17",component:ge,configIndex:r("Emmergency Management 4")},{title:"Vital Signs",value:"18",component:j,configIndex:r("Vital Signs")},{title:"Emergency Management 6",value:"19",component:Mt,configIndex:r("Emergency Management 6")},{title:"Referral Instructions",value:"19",component:pe,configIndex:r("Referral Instructions")},{title:"Emergency Management Vitals",value:"20",component:zt,configIndex:r("Emergency Management Vitals")},{title:"Vital Signs",value:"21",component:te,configIndex:r("Vital Signs 2")},{title:"Emergency Management",value:"21",component:re,configIndex:r("Emergency Management 7")},{title:"Baby Recovered",value:"22",component:Wt,configIndex:r("Baby Recovered")},{title:"Vital Signs",value:"23",component:oe,configIndex:r("Vital Signs 3")},{title:"Emergency Management",value:"24",component:Pt,configIndex:r("Emergency Management 8")},{title:"Temperature High",value:"25",component:ae,configIndex:r("Temperature High")},{title:"Emergency Triage",value:"26",component:Ft,configIndex:r("Emergency Triage Blood Sugar"),hasDialog:!0},{title:"Hypoglycemia Symptomatic",value:"27",component:It,configIndex:r("Hypoglycemia-Symptomatic")},{title:"Hypoglycemia-Asymptomatic",value:"28",component:Ct,configIndex:r("Hypoglycemia-Asymptomatic")},{title:"Vital Signs",value:"29",component:ct,configIndex:r("Vital Signs Four")},{title:"Triage Summary",value:"30",component:st,configIndex:r("Triage Summary")},{title:"Demographics",value:"31",component:St,configIndex:r("Demographics")}],n="Emergency Triage Assessment",e=F("33"),t=N();return{wizardData:i,stepperData:s,stepperTitle:n,currentOpenStepper:e,updateStatus:C=>{C&&C.value&&i.value.forEach((w,m)=>{C.value===(m+1).toString()?(w.class="open_step common_step",w.checked=!1):m<parseInt(C.value)-1?(w.class="common_step color_white",w.checked=!0):(w.class="common_step",w.checked=!1)})},getSaveFunction:C=>{if(console.log("formvalues",t.formValues),C===s.length-1)return async()=>{var w;try{const m={...a,...t.formValues};let R=(w=o.value)==null?void 0:w.patientID;if(!R&&m.first_name&&m.last_name)try{console.log("Creating temporary patient record for emergency triage:",{firstName:m.first_name,lastName:m.last_name});const $=new $e,_={given_name:m.first_name,family_name:m.last_name,gender:"U",birthdate:new Date().toISOString().split("T")[0],birthdate_estimated:1},T=[];R=(await $.registerPatient(_,T)).patient_id,console.log("Temporary patient created with ID:",R),K("Temporary patient created: ".concat(m.first_name," ").concat(m.last_name))}catch($){console.error("Failed to create temporary patient:",$),B("Could not create patient record. Please register patient first.");return}const k=[];for(const[$,_]of Object.entries(He)){const T=m[$];if(!(T==null||T===""))try{if($==="respiratory_rate"||$==="heart_rate"||$==="oxygen_saturation_vital"||$==="saturation_in_oxygen")k.push(await O.buildValueNumber(_,Number(T)));else if($==="temperature")k.push(await O.buildValueNumber(_,Number(T)));else if($==="admission_weight")k.push(await O.buildValueNumber(_,Number(T)/1e3));else if($==="birth_weight")k.push(await O.buildValueNumber("Birth weight",Number(T)));else if($==="head_circumference")k.push(await O.buildValueNumber(_,Number(T)));else if($==="blood_sugar"){const M=Number(T),ye=(m.bloodSugar_unit||"mg/dL")==="mmol/L"?M*18.0182:M;k.push(await O.buildValueNumber(_,ye))}else if($==="can_measure_oxygen_saturation"||$==="can_measure_temp")k.push(await O.buildValueCoded(_,T?"Yes":"No"));else if(Array.isArray(T))k.push(await O.buildValueText(_,T.join(", ")));else if(typeof T=="string")try{k.push(await O.buildValueCoded(_,T))}catch(M){k.push(await O.buildValueText(_,T))}}catch(M){console.warn("Failed to build observation for ".concat($,":"),M)}}if(!R){B("No patient selected or created. Please provide patient demographics or select a patient.");return}k.length>0?(await ke(R,Ee.NEONATAL_TRIAGE,k),K("Emergency triage assessment completed successfully")):B("No triage data to save"),f.push({path:"/NeonatalHome"})}catch(m){console.error("Failed to save triage assessment",m),B("Failed to save triage assessment")}}}}}});function Vo(f,l,o,a,i,r){const s=A("Toolbar"),n=A("NeonatalStepper"),e=A("ion-content"),t=A("ion-page");return v(),we(t,{class:"neonatal-triage-page"},{default:L(()=>[y(s),y(e,{fullscreen:!0},{default:L(()=>[y(n,{wizardData:f.wizardData,StepperData:f.stepperData,stepperTitle:f.stepperTitle,openStepper:f.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:f.getSaveFunction,onUpdateStatus:f.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","onUpdateStatus"])]),_:1})]),_:1})}const ko=S(Ro,[["render",Vo],["__scopeId","data-v-8d183c6b"]]);export{ko as default};
