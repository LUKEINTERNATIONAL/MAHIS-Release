var g=Object.defineProperty;var I=(o,n,t)=>n in o?g(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t;var c=(o,n,t)=>I(o,typeof n!="symbol"?n+"":n,t);import{aX as s,u as h,S as l,aJ as m,H as D,t as A,F as u,J as v,b as _,I as b}from"../index-DBQF-8Xn.js";class d extends s{constructor(t){const e=t!==void 0?t:d.getPatientID(),a=d.getProviderID();super(e,7,a);c(this,"patientID");c(this,"providerID");this.patientID=e,this.providerID=a}static getPatientID(){return h().patient.patientID}static getProviderID(){return l.getUserID()}async setPatientID(t){this.patientID=t}async createAppointment(){const t=[];m().assignedAppointmentsDates.forEach(i=>{if(i.markedNextApt==!0){const p=D.toStandardHisFormat(i.date);t.push(p)}}),await this.createEncounter();const a=await this.buildValueDate("Appointment date",t[0]);return await this.saveObservationList([a])?(u("next Appointment Set Successfully"),[this.patientID,t[0]]):A("Unable set Next Appointment")}async createOfflineAppointment(){const t=[];m().assignedAppointmentsDates.forEach(i=>{if(i.markedNextApt==!0){const p=D.toStandardHisFormat(i.date);t.push(p)}});const a=await this.buildValueDate("Appointment date",t[0]),r=await v.addObsToEncounterPatient([a],_.APPOINTMENT);return await b(r),u("next Appointment Set Successfully"),t[0]}async getNextAppointment(){return s.getJson("/programs/".concat(this.programID,"/patients/").concat(this.patientID,"/next_appointment_date"),{date:this.date})}async getDailyAppointments(t){const e=s.getProgramID();return s.getJson("/programs/".concat(e,"/booked_appointments"),{date:t,paginate:!1})}static async getAppointments(t,e="",a=""){const r=s.getProgramID();return s.getJson("/programs/".concat(r,"/booked_appointments"),{date:t,end_date:e,srch_text:a,paginate:!1})}}export{d as A};
