import{t,_ as p,O as d}from"./ReportMixin.vue_vue_type_script_lang-MjhutqHH.js";import{R as l}from"./BaseTableReport-C5d9PpKr.js";import{H as a,S as m,_ as u}from"../index-CPIhguZJ.js";import{d as g,bq as f,G as o,Q as _,f as c,H as h,l as D}from"./vendor-CJ2tyHrn.js";import"./lodash-NJiRuGo9.js";import"./Export-CZmpfP5c.js";import"./apexcharts-BtvCa6MI.js";const w=g({components:{ReportTemplate:l,IonPage:f},mixins:[p],data:()=>({title:"Drugs report",rows:[],columns:[[t.thTxt("First Name"),t.thTxt("Last Name"),t.thTxt("Gender"),t.thTxt("Age"),t.thTxt("Drug"),t.thTxt("Prescribe Quantity"),t.thTxt("Dispense Quantity"),t.thTxt("Diagnosis"),t.thTxt("Date")]]}),created(){this.fields=this.getDateDurationFields()},methods:{async init(s,e){const i=new d;i.setStartDate(e.start_date),i.setEndDate(e.end_date),this.period=i.getDateIntervalPeriod(),this.rows=this.buildRows(await i.getDrugs())},buildRows(s){return s.length?s.map(e=>[t.td(e.given_name),t.td(e.family_name),t.td(e.gender),t.td(a.calculateAge(e.birthdate,m.getSessionDate())),t.td(e.drug_name),t.td(e.prescribe_quantity),t.td(e.dispense_quantity),t.td(e.diagnosis),t.td(a.toStandardHisDisplayFormat(e.date))]):[]}}});function T(s,e,i,x,R,b){const n=o("report-template"),r=o("ion-page");return c(),_(r,null,{default:h(()=>[D(n,{title:s.title,rows:s.rows,fields:s.fields,columns:s.columns,itemsPerPage:12,period:s.period,reportPrefix:"Clinic",onReportConfiguration:s.init,paginated:""},null,8,["title","rows","fields","columns","period","onReportConfiguration"])]),_:1})}const q=u(w,[["render",T]]);export{q as default};
