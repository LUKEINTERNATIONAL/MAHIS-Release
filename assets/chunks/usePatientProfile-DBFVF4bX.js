import{d as q,O as F,f as s,W as j,a5 as W,_ as be,H as ne,e as B,P as pe,J as a,l as t,Q as R,K as $,k as d,p as we,F as te,r as n,w as J,u as e,e2 as Me,m as y,bR as Le,a as ae,bp as me,aP as ve,aQ as _e,a4 as L,bk as Ne,e8 as Pe,bm as ue,a2 as ee,aT as he,N as oe,aU as Fe,c as se,aj as $e,G as fe,E as de,aZ as De,L as Y,I as Ae,a3 as Be,M as Ue,R as He,an as qe,cB as ze,aw as We,b1 as je,Z as Ge,aF as Qe,V as Je,ds as xe,a7 as Ke}from"./vendor-BpjEhVym.js";import{i as Ze,V as Xe,l as Ye,_ as Z,B as Ie,aM as ye,t as re,o as et,ax as Se,J as X,F as tt,L as at,b4 as lt,a as nt,az as ot,aA as st,ar as rt,a7 as Ee,m as ce,aR as it,S as ie,H as ge,G as dt,u as Te,P as Ce,aP as ut,D as ct,aE as Ve,ba as ft}from"../index-3yAmd6Ip.js";import{R as pt}from"./Registration-SXtzCCPw.js";import{l as mt}from"./lodash-NJiRuGo9.js";const vt=q({__name:"personalInformationModal",setup(l){return(_,g)=>(s(),F(pt,{editMode:!0}))}}),_t=q({components:{IonItem:be,IonCol:W,IonLabel:j},data(){return{iconsContent:Ye}},props:{displayData:{type:Array,default:[]}},methods:{highlightItem(l){const _=document.getElementById(l+"_lbl");_&&(_.style.color="#006401"),this.highlightActionBtns(l)},undoHighlightItem(l){const _=document.getElementById(l+"_lbl");_&&(_.style.color="rgb(0,0,0)"),this.undohighlightActionBtns(l)},highlightActionBtns(l){const _=document.getElementsByClassName(l+"_spanlbl");for(let g=0;g<_.length;g++)_[g].style.display="block"},undohighlightActionBtns(l){const _=document.getElementsByClassName(l+"_spanlbl");for(let g=0;g<_.length;g++)_[g].style.display="none"},asignLblID(l){return l+"_lbl"},asignSpanLblID(l){return l+"_spanlbl"},async removeItemAtIndex(l,_){await Xe("Do you want to delete it?",_)&&this.$emit("update:removeItem",l)},async editItemAtIndex(l,_,g){await Ze("Do you want to edit it?",g)&&this.$emit("update:editItem",{index:l,item:_})},fomartDate(l){const _=l.year,g=(l.month<10?"0":"")+l.month,x=(l.day<10?"0":"")+l.day;return _+"-"+g+"-"+x}}});function ht(l,_,g,x,S,p){const b=ne("ion-label"),h=ne("ion-col"),N=ne("ion-icon"),P=ne("ion-item");return s(!0),B(te,null,pe(l.displayData,(r,u)=>(s(),F(P,{displayData:l.displayData,class:"ionLbltp",key:u,onMousemove:C=>l.highlightItem(u),onMouseout:C=>l.undoHighlightItem(u)},{default:a(()=>[t(h,{class:"col-st1"},{default:a(()=>[t(b,{id:l.asignLblID(u),class:"truncate-text",style:{color:"#00190E","font-weight":"400",font:"inter","line-height":"21px"}},{default:a(()=>[R($(r.type),1)]),_:2},1032,["id"])]),_:2},1024),t(h,{class:"col-st2"},{default:a(()=>[t(b,{class:"truncate-text",style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:a(()=>[_[0]||(_[0]=d("span",{class:"spaceBetween"},null,-1)),R(" "+$(r.name)+" ",1),_[1]||(_[1]=d("span",{class:"spaceBetween"},null,-1)),R($(r.reason),1),_[2]||(_[2]=d("span",{class:"spaceBetween"},null,-1)),R($(l.fomartDate(r.date)),1)]),_:2},1024)]),_:2},1024),t(h,{class:"action_buttons"},{default:a(()=>[t(b,{class:we(l.asignSpanLblID(u)),style:{cursor:"pointer",display:"none","text-align":"end"},onClick:C=>l.editItemAtIndex(u,r,C)},{default:a(()=>[t(N,{icon:l.iconsContent.edit},null,8,["icon"])]),_:1},8,["class","onClick"]),t(b,{class:we(l.asignSpanLblID(u)),style:{cursor:"pointer",display:"none","text-align":"end"},onClick:C=>l.removeItemAtIndex(u,C)},{default:a(()=>[t(N,{icon:l.iconsContent.delete},null,8,["icon"])]),_:1},8,["class","onClick"])]),_:2},1024)]),_:2},1032,["displayData","onMousemove","onMouseout"]))),128)}const yt=Z(_t,[["render",ht],["__scopeId","data-v-4346bf77"]]),Re=q({__name:"TimePicker",props:{place_holder:{},time_prop:{}},emits:["timeUpDated"],setup(l,{emit:_}){const g=n(),x=n({title:"Set Time",popoverOpen:!1,isOpen:!1,event:{},keyboardClose:!1,popoverData:{}}),S=n(),p={name:"Now",show:!0,fn:O},b=n(!0),h=n(!1),N=n(0),P=l;J(()=>P.time_prop,U=>{U&&(g.value=U.time)},{immediate:!0,deep:!0});const r=_;function u(){r("timeUpDated",S.value)}function C(U){h.value==!0?(b.value=!1,h.value=!1):b.value=!0,x.value.isOpen=!0,x.value.event=U}function v(U){g.value=U.detail.value;const A=V(g.value);if(i(A)==!0){O();return}g.value=A}function i(U){return U.indexOf("NaN")!==-1}function V(U){let A=new Date(U),k=A.getHours(),D=A.getMinutes(),T=k>=12?"PM":"AM";k=k%12,k=k||12;let m=k.toString().padStart(2,"0")+":"+D.toString().padStart(2,"0")+" "+T;return S.value={time:m,meridian:T},u(),m}function O(){h.value=!0,g.value=V(new Date),b.value=!1,N.value++}return(U,A)=>{const k=ne("ion-popover");return s(),B(te,null,[(s(),F(Ie,{placeholder:P.place_holder.default,inputValue:g.value,icon:e(Me),"-inner-action-btn-propeties":p,"onClicked:inputValue":C,"onUpdate:InnerActionBtnPropetiesAction":p.fn,key:N.value},null,8,["placeholder","inputValue","icon","onUpdate:InnerActionBtnPropetiesAction"])),t(k,{"show-backdrop":!1,"keep-contents-mounted":!0,"is-open":x.value.isOpen,event:x.value.event,side:"top",onDidDismiss:A[0]||(A[0]=D=>x.value.isOpen=!1)},{default:a(()=>[b.value?(s(),F(e(Le),{key:0,onIonChange:v,id:"datetime",presentation:"time","show-default-buttons":!0})):y("",!0)]),_:1},8,["is-open","event"])],64)}}}),gt=q({name:"xxxComponent"}),bt=q({...gt,props:{selected_ward_prop:{},admitted_other_props:{}},emits:["dataSaved"],setup(l,{emit:_}){const g=n([]),x=ye(),S=n(NaN),p=n(!1),b=n(),h=n(!1);ae(async()=>{A(),v()});const N=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:k},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:E}],P=[{placeHolder:"Reason",dataHandler:O,dataValue:n(),show_error:n(!1),error_message:"please provide a reason"}],r=[{placeHolder:{default:"Enter date"},dataHandler:V,dataValue:n(),show_error:n(!1),error_message:"please provide date"}],u=[{placeHolder:{default:"Enter time of admission"},dataHandler:i,dataValue:n(),show_error:n(!1),error_message:"error"}],C=l;J(()=>C.selected_ward_prop,I=>{I&&(b.value=I)},{immediate:!0,deep:!0}),J(()=>C.admitted_other_props,I=>{I&&(P[0].dataValue.value=I.reason,u[0].dataValue.value=I.time,r[0].dataValue.value=I.date)},{immediate:!0,deep:!0});function v(I=!0){h.value=I}function i(I){u[0].dataValue.value=I,k(!1)}function V(I){const f={day:I.value.day,month:I.value.month,year:I.value.year,formattedDate:I.value.formattedDate};r[0].dataValue.value=f,k(!1)}function O(I){const f=I.target.value;P[0].dataValue.value=f,U(),v(!1)}function U(){h.value==!0&&re("Remember to press the SAVE button",1e4)}async function A(I){g.value=await et("wards")}function k(I=!0){D(),T(),H(),z(),r[0].show_error.value==!1&&u[0].show_error.value==!1&&P[0].show_error.value==!1&&p.value==!1?m():I&&re("Please enter correct data values",4e3)}function D(){b.value===void 0||b.value==""?p.value=!0:p.value=!1}function T(){P[0].dataValue.value==""||P[0].dataValue.value===void 0?P[0].show_error.value=!0:P[0].show_error.value=!1}async function m(){const I={name:b.value.name,type:"Admitted for short stay",date:r[0].dataValue,time:u[0].dataValue,reason:P[0].dataValue,other:b.value,selected:!0};await x.addOutcomeData(I,S.value)&&c({dataSaved:!1})}const o=_;function c(I={dataSaved:!0}){o("dataSaved",I)}function E(){c()}function H(){r[0].dataValue.value===void 0||r[0].dataValue.value==""?r[0].show_error.value=!0:r[0].show_error.value=!1}function z(){u[0].dataValue.value===void 0||r[0].dataValue.value==""?u[0].show_error.value=!0:u[0].show_error.value=!1}const K=I=>{b.value=I,v(),k(!1)};return(I,f)=>(s(),F(e(me),null,{default:a(()=>[t(e(_e),null,{default:a(()=>[t(e(ve),{onClick:f[0]||(f[0]=w=>A("dd"))},{default:a(()=>[...f[4]||(f[4]=[R("Admitted for Short Stay",-1)])]),_:1})]),_:1}),t(e(he),null,{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(Ne),{modelValue:b.value,"onUpdate:modelValue":[f[1]||(f[1]=w=>b.value=w),f[2]||(f[2]=w=>K(w))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Find and select a ward",placeholder:"Find and select a ward",selectLabel:"",label:"name",searchable:!0,disabled:!1,onSearchChange:f[3]||(f[3]=w=>w={}),"track-by":"location_ward_id",options:g.value},null,8,["modelValue","options"]),d("div",null,[p.value?(s(),F(e(j),{key:0,class:"error-label"},{default:a(()=>[...f[5]||(f[5]=[R($("Please select a ward"),-1)])]),_:1})):y("",!0)])]),_:1})]),_:1}),t(e(L),null,{default:a(()=>[t(e(W),null,{default:a(()=>[d("div",null,[t(Se,{place_holder:r[0].placeHolder,onDateUpDated:r[0].dataHandler,date_prop:r[0].dataValue.value},null,8,["place_holder","onDateUpDated","date_prop"]),d("div",null,[r[0].show_error.value?(s(),F(e(j),{key:0,class:"error-label"},{default:a(()=>[R($(r[0].error_message),1)]),_:1})):y("",!0)])])]),_:1})]),_:1}),t(e(L),null,{default:a(()=>[t(e(W),null,{default:a(()=>[d("div",null,[t(Re,{place_holder:u[0].placeHolder,onTimeUpDated:u[0].dataHandler,time_prop:u[0].dataValue.value},null,8,["place_holder","onTimeUpDated","time_prop"]),d("div",null,[u[0].show_error.value?(s(),F(e(j),{key:0,class:"error-label"},{default:a(()=>[R($(u[0].error_message),1)]),_:1})):y("",!0)])])]),_:1})]),_:1}),t(e(L),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(Ie,{placeholder:P[0].placeHolder,icon:e(Pe),inputValue:P[0].dataValue.value,"onUpdate:inputValue":P[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),d("div",null,[P[0].show_error.value?(s(),F(e(j),{key:0,class:"error-label"},{default:a(()=>[R($(P[0].error_message),1)]),_:1})):y("",!0)])]),_:1})]),_:1}),N[0].showAddItemButton?(s(),F(e(L),{key:0,class:"action-buttons-row"},{default:a(()=>[N[0].addItemButton?(s(),F(X,{key:0,name:N[0].name,fill:N[0].btnFill,icon:e(ue),"onClicked:btn":N[0].fn},null,8,["name","fill","icon","onClicked:btn"])):y("",!0),N[1].addItemButton?(s(),F(X,{key:1,name:N[1].name,fill:N[1].btnFill,icon:e(ee),"onClicked:btn":N[1].fn},null,8,["name","fill","icon","onClicked:btn"])):y("",!0)]),_:1})):y("",!0)]),_:1})]),_:1}))}}),wt=Z(bt,[["__scopeId","data-v-060f83ec"]]),Dt=q({name:"xxxComponent"}),It=q({...Dt,props:{selected_referral_data:{},selected_other_referral_data:{}},emits:["dataSaved"],setup(l,{emit:_}){const g=n(NaN),x=n(null),S=ye(),p=n(!1),b=n([]),h=n({}),N=n(!0),P={location_data:{}},r=[{placeHolder:"Reason",dataHandler:V,dataValue:n(),show_error:n(!1),error_message:"please provide a reason"}],u=[{placeHolder:{default:"Enter date"},dataHandler:i,dataValue:n(),show_error:n(!1),error_message:"please provide date"}],C=[{placeHolder:{default:"Enter time of referral"},dataHandler:U,dataValue:n(),show_error:n(!1),error_message:"error"}],v=l;J(()=>v.selected_other_referral_data,f=>{f&&(r[0].dataValue.value=f.reason,u[0].dataValue.value=f.date,C[0].dataValue.value=f.time)},{immediate:!0,deep:!0}),J(()=>v.selected_referral_data,f=>{if(!f)return;x.value=f.selected_location,P.location_data=f;const w=Array.isArray(f.selected_district_ids)?[...f.selected_district_ids]:[],M=f.selected_location?{...f.selected_location}:null;b.value=w,h.value=M},{immediate:!0,deep:!0}),ae(()=>{o()});function i(f){const w={day:f.value.day,month:f.value.month,year:f.value.year,formattedDate:f.value.formattedDate};u[0].dataValue.value=w,A(!1)}function V(f){const w=f.target.value;r[0].dataValue.value=w,O(),o(!1)}function O(){N.value==!0&&re("Remember to press the SAVE button",1e4)}function U(f){C[0].dataValue.value=f,A(!1)}function A(f=!0){m(),k(),D(),T(),u[0].show_error.value==!1&&C[0].show_error.value==!1&&r[0].show_error.value==!1&&p.value==!1?E():f&&re("Please enter correct data values",4e3)}function k(){r[0].dataValue.value==""||r[0].dataValue.value===void 0?r[0].show_error.value=!0:r[0].show_error.value=!1}function D(){u[0].dataValue.value===void 0||u[0].dataValue.value==""?u[0].show_error.value=!0:u[0].show_error.value=!1}function T(){C[0].dataValue.value===void 0||u[0].dataValue.value==""?C[0].show_error.value=!0:C[0].show_error.value=!1}function m(){x.value?p.value=!1:p.value=!0}function o(f=!0){N.value=f}const c=f=>{x.value=f.selected_location,m(),P.location_data=f,o(),A(!1)},E=async()=>{const f={name:x.value.name,type:"Referred out",selected:!0,date:u[0].dataValue,time:C[0].dataValue,reason:r[0].dataValue},w={...f,other:{ref_data:f,location_data:P.location_data}};await S.addOutcomeData(w,g.value)&&K({dataSaved:!1})},H=()=>{K()},z=_;function K(f={dataSaved:!0}){z("dataSaved",f)}const I=[{showAddItemButton:!0,addItemButton:!0,name:" save",btnFill:"clear",fn:A},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:H}];return(f,w)=>(s(),F(e(me),null,{default:a(()=>[t(e(_e),null,{default:a(()=>[t(e(ve),null,{default:a(()=>[...w[0]||(w[0]=[R("Referred Out",-1)])]),_:1})]),_:1}),t(e(he),null,{default:a(()=>[t(e(L),null,{default:a(()=>[t(tt,{show_error:p.value,onFacilitySelected:c,selected_district_ids:b.value,selected_location:h.value},null,8,["show_error","selected_district_ids","selected_location"])]),_:1}),t(e(L),null,{default:a(()=>[t(e(W),null,{default:a(()=>[d("div",null,[t(Se,{place_holder:u[0].placeHolder,onDateUpDated:u[0].dataHandler,date_prop:u[0].dataValue.value},null,8,["place_holder","onDateUpDated","date_prop"]),d("div",null,[u[0].show_error.value?(s(),F(e(j),{key:0,class:"error-label"},{default:a(()=>[R($(u[0].error_message),1)]),_:1})):y("",!0)])])]),_:1})]),_:1}),t(e(L),null,{default:a(()=>[t(e(W),null,{default:a(()=>[d("div",null,[t(Re,{place_holder:C[0].placeHolder,onTimeUpDated:C[0].dataHandler,time_prop:C[0].dataValue.value},null,8,["place_holder","onTimeUpDated","time_prop"]),d("div",null,[C[0].show_error.value?(s(),F(e(j),{key:0,class:"error-label"},{default:a(()=>[R($(C[0].error_message),1)]),_:1})):y("",!0)])])]),_:1})]),_:1}),t(e(L),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(Ie,{placeholder:r[0].placeHolder,icon:e(Pe),inputValue:r[0].dataValue.value,"onUpdate:inputValue":r[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),d("div",null,[r[0].show_error.value?(s(),F(e(j),{key:0,class:"error-label"},{default:a(()=>[R($(r[0].error_message),1)]),_:1})):y("",!0)])]),_:1})]),_:1}),I[0].showAddItemButton?(s(),F(e(L),{key:0,class:"action-buttons-row"},{default:a(()=>[I[0].addItemButton?(s(),F(X,{key:0,name:I[0].name,fill:I[0].btnFill,icon:e(ue),"onClicked:btn":I[0].fn},null,8,["name","fill","icon","onClicked:btn"])):y("",!0),I[1].addItemButton?(s(),F(X,{key:1,name:I[1].name,fill:I[1].btnFill,icon:e(ee),"onClicked:btn":I[1].fn},null,8,["name","fill","icon","onClicked:btn"])):y("",!0)]),_:1})):y("",!0)]),_:1})]),_:1}))}}),St=Z(It,[["__scopeId","data-v-f25626fb"]]),kt=q({name:"xxxComponent"}),xt=q({...kt,props:{selected_discharged_prop:{},selected_discharged_data:{}},emits:["dataSaved"],setup(l,{emit:_}){const g=n(NaN),x=n([]),S=ye(),p=n();ae(async()=>{i("")});const b=[{placeHolder:"Reason",dataHandler:r,dataValue:n(),show_error:n(!1),error_message:"please provide a reason"}],h=[{placeHolder:{default:"Enter date"},dataHandler:P,dataValue:n(),show_error:n(!1),error_message:"please provide date"}],N=l;J(()=>N.selected_discharged_prop,o=>{o&&(p.value=o)},{immediate:!0,deep:!0}),J(()=>N.selected_discharged_data,o=>{o&&(h[0].dataValue.value=o.date||"",o.reason&&(b[0].dataValue.value=o.reason))},{immediate:!0,deep:!0});function P(o){const c={day:o.value.day,month:o.value.month,year:o.value.year,formattedDate:o.value.formattedDate};h[0].dataValue.value=c,O(!1)}function r(o){const c=o.target.value;b[0].dataValue.value=c}x.value,n(!1),n(!1);const u=[{placeHolder:{default:"Enter time of referral"},dataHandler:C,dataValue:n(),show_error:n(!1),error_message:"error"}];function C(o){u[0].dataValue.value=o}const v=new Set;async function i(o){const c=o,E=await at.getFacilities({name:c});E||E.forEach(H=>{v.has(H.location_id)||(v.add(H.location_id),mt.isEmpty(H.name)==!1&&x.value.push({name:H.name,selected:!1,other:H}))})}function V(o){x.value=o}function O(o=!0){U(),h[0].show_error.value?o&&re("Please enter a valid date",4e3):A()}function U(){h[0].dataValue.value===void 0||h[0].dataValue.value==""?h[0].show_error.value=!0:h[0].show_error.value=!1}async function A(){const o={type:"Discharged Home",date:h[0].dataValue,reason:b[0].dataValue.value};await S.addOutcomeData(o,g.value)&&T({dataSaved:!1})}function k(){T()}const D=_;function T(o={dataSaved:!0}){D("dataSaved",o)}const m=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:O},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:k}];return(o,c)=>(s(),F(e(me),null,{default:a(()=>[t(e(_e),null,{default:a(()=>[t(e(ve),null,{default:a(()=>[...c[0]||(c[0]=[R("Discharged Home",-1)])]),_:1})]),_:1}),t(e(he),null,{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(W),null,{default:a(()=>[d("div",null,[t(Se,{place_holder:h[0].placeHolder,onDateUpDated:h[0].dataHandler,date_prop:h[0].dataValue.value},null,8,["place_holder","onDateUpDated","date_prop"]),d("div",null,[h[0].show_error.value?(s(),F(e(j),{key:0,class:"error-label"},{default:a(()=>[R($(h[0].error_message),1)]),_:1})):y("",!0)])])]),_:1})]),_:1}),m[0].showAddItemButton?(s(),F(e(L),{key:0,class:"action-buttons-row"},{default:a(()=>[m[0].addItemButton?(s(),F(X,{key:0,name:m[0].name,fill:m[0].btnFill,icon:e(ue),"onClicked:btn":m[0].fn},null,8,["name","fill","icon","onClicked:btn"])):y("",!0),m[1].addItemButton?(s(),F(X,{key:1,name:m[1].name,fill:m[1].btnFill,icon:e(ee),"onClicked:btn":m[1].fn},null,8,["name","fill","icon","onClicked:btn"])):y("",!0)]),_:1})):y("",!0)]),_:1})]),_:1}))}}),Ct=Z(xt,[["__scopeId","data-v-c55ed5f5"]]),Vt={class:"date-results-container"},Nt={class:"date-buttons-container"},Pt={key:0,class:"validation-message"},Ft={__name:"DatePillSelector",props:{availableDates:{type:Array,required:!0,default:()=>[]}},emits:["dateSelected"],setup(l,{expose:_,emit:g}){const x=l,S=g,p=n(null),b=n(!1),h=u=>{p.value=u,b.value=!1,S("dateSelected",{date:x.availableDates[u],index:u})},N=u=>{const C=new Date(u),v={weekday:"short",month:"short",day:"numeric"};return isNaN(C)?u:C.toLocaleDateString("en-US",v)};return _({validateSelection:()=>p.value===null?(b.value=!0,!1):(b.value=!1,!0),getSelectedDate:()=>p.value!==null?x.availableDates[p.value]:null}),(u,C)=>(s(),B("div",Vt,[d("div",Nt,[(s(!0),B(te,null,pe(l.availableDates,(v,i)=>(s(),F(e(oe),{key:i,class:we(["date-button",{selected:p.value===i,"error-border":b.value&&p.value!==i}]),fill:"outline",shape:"round",onClick:V=>h(i)},{default:a(()=>[R($(N(v)),1)]),_:2},1032,["class","onClick"]))),128))]),b.value?(s(),B("p",Pt," ⚠️ Please select an available date to proceed. ")):y("",!0)]))}},$t=Z(Ft,[["__scopeId","data-v-1e34f199"]]);class At extends lt{constructor(_,g){super(_,114,g)}}const Bt=q({__name:"ReferToAnotherClinic",emits:["programDateSelected","referralDataReady","dataSaved"],setup(l,{emit:_}){const g=_,x=n([]),S=n([]),p=n([]),b=nt(),h=ot(),{activeProgram:N}=Fe(b),P=n(!1),r=[{multi_Selection:!0,show_list_label:!0,unqueId:"qwerty_8_562",name_of_list:"Clinics",placeHolder:"Search for programs",items:[],listUpdatedFN:U,listFilteredFN:()=>{},searchTextFN:()=>{},use_internal_filter:!0,show_error:n(!1),error_message:"Please select one or more clinics/programs to refer to.",disabled:n(!1)}],u=async()=>{P.value=!1;const m=S.value.length>0;if(r[0].show_error.value=!m,!m){console.log("Validation Failed: No programs selected.");return}let o=!0;p.value=[];for(const c of S.value)if(c.dateSelectorRef)if(!c.dateSelectorRef.validateSelection())o=!1;else{const H=c.dateSelectorRef.getSelectedDate();H?p.value.push({programId:c.id,programName:c.name,date:H}):o=!1}else o=!1,console.error("Date Selector ref is missing for program ".concat(c.name));if(!o){P.value=!0,console.log("Validation Failed: Not all dates selected.");return}console.log("Validation Passed! Ready to refer patient with data:",p.value),g("referralDataReady",p.value),await T(p.value,C)},C=async m=>{try{const o=ie.getUserID(),c=ie.getPatientID(),E=new At(c,o);await E.createEncounter();const H=m.map(z=>({concept_id:2227,value_numeric:z.programId,obs_datetime:ge.sessionDate(),child:[{concept_id:11242,value_text:ge.toStandardHisFormat(z.date),obs_datetime:ge.sessionDate()}]}));await E.saveObservationList(H),dt("Patient referral saved successfully"),i()}catch(o){re("Error saving referral data. Please try again.",4e3),console.error("Error in sub_refferal_data:",o)}},v=()=>{i()};function i(m={dataSaved:!0}){g("dataSaved",m)}const V=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:u},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:v}],O=(m,o,c)=>{g("programDateSelected",{programId:o,programName:c,date:m}),P.value=!1;const E=p.value.findIndex(z=>z.programId===o),H={programId:o,programName:c,date:m};E>-1?p.value[E]=H:p.value.push(H)};async function U(m){x.value=m,A(),P.value=!1,await k()}function A(){const m=[];x.value.forEach(c=>{c.selected==!0&&m.push(c.other)});const o=m.map(c=>c.program_id);S.value=S.value.filter(c=>o.includes(c.id)),p.value=p.value.filter(c=>o.includes(c.programId)),m.forEach(c=>{S.value.some(E=>E.id===c.program_id)||S.value.push({id:c.program_id,name:c.name,dates:[],dateSelectorRef:null})}),r[0].show_error.value=m.length===0}const k=async()=>{const m=S.value.map(async o=>{try{const c=h.getAvailableDatesByProgramId(o.id,90,!0,4);o.dates=c}catch(c){console.error("Error fetching dates for program ".concat(o.name,":"),c),o.dates=[]}});await Promise.all(m)};async function D(){const m=N.value.program_id,o=await Ee.getAllPrograms(),c=[];o.forEach(E=>{E.program_id!==m&&c.push({name:E.name,other:E,selected:!1})}),x.value=c}const T=async(m,o)=>{ce(it,{class:"otherVitalsModal"},!0,{message:"Are you sure you want to add this Referral(s)?"},{cancel:z=>{},confirm:async z=>{z.detail==!0&&await o(m)}})};return ae(async()=>{await D(),st()}),(m,o)=>(s(),F(e(me),null,{default:a(()=>[t(e(_e),null,{default:a(()=>[t(e(ve),null,{default:a(()=>[...o[0]||(o[0]=[R("Refer to another clinic",-1)])]),_:1})]),_:1}),t(e(he),null,{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(j),{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:a(()=>[...o[1]||(o[1]=[R(" Program(s)",-1),d("span",{style:{color:"#b42318"}},"*",-1)])]),_:1}),t(rt,{multiSelection:r[0].multi_Selection,show_label:r[0].show_list_label,uniqueId:r[0].unqueId,name_of_list:r[0].name_of_list,choose_place_holder:r[0].placeHolder,"items_-list":x.value,use_internal_filter:r[0].use_internal_filter,disabled:r[0].disabled.value,onItemListUpDated:r[0].listUpdatedFN,onItemListFiltered:r[0].listFilteredFN,onItemSearchText:r[0].searchTextFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered","onItemSearchText"]),d("div",null,[r[0].show_error.value?(s(),F(e(j),{key:0,class:"error-label"},{default:a(()=>[R($(r[0].error_message),1)]),_:1})):y("",!0)])]),_:1})]),_:1}),(s(!0),B(te,null,pe(S.value,(c,E)=>(s(),F(e(L),{key:c.id},{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(j),{style:{margin:"10px","margin-top":"20px","font-weight":"bold",display:"block"}},{default:a(()=>[o[2]||(o[2]=d("span",{style:{color:"gray"}},"Available Dates for:",-1)),R(" "+$(c.name),1)]),_:2},1024),t($t,{availableDates:c.dates,onDateSelected:H=>O(H,c.id,c.name),ref_for:!0,ref:H=>{H&&(c.dateSelectorRef=H)}},null,8,["availableDates","onDateSelected"])]),_:2},1024)]),_:2},1024))),128)),P.value?(s(),F(e(L),{key:0,style:{"margin-top":"-10px"}},{default:a(()=>[t(e(W),null,{default:a(()=>[t(e(j),{class:"error-label"},{default:a(()=>[...o[3]||(o[3]=[R(" ⚠️ Please select an available date for all selected programs. ",-1)])]),_:1})]),_:1})]),_:1})):y("",!0),t(e(L),{class:"action-buttons"},{default:a(()=>[t(e(W),{class:"ion-text-end"},{default:a(()=>[V[1].addItemButton?(s(),F(X,{key:0,name:V[1].name,fill:V[1].btnFill,icon:e(ee),"onClicked:btn":V[1].fn},null,8,["name","fill","icon","onClicked:btn"])):y("",!0),S.value.length>0?(s(),F(X,{key:1,name:V[0].name,fill:V[0].btnFill,icon:e(ue),"onClicked:btn":V[0].fn},null,8,["name","fill","icon","onClicked:btn"])):y("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}}),Ut=Z(Bt,[["__scopeId","data-v-721c6ae2"]]),Ht={class:"dash_box"},Et={key:0,style:{"margin-top":"100px"}},Tt=q({name:"xxxComponent"}),Rt=q({...Tt,setup(l){const _=n("No outcome created yet"),g=n(!1),x=n(!0),S=n(""),p=n(!0),b=n(!1),h=ye(),N=se(()=>h.outcomes),P=n(!1),r=n(!1),u=n(!1),C=n(!1),v=n(!1),i=n(!1),V=n(),O=n(null),U=n(null),A=n(null),k=n(null),D=n(null),T=n(null),m=n([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1},{name:"Send to Another Clinic",selected:!1}]);function o(w){m.value.forEach(M=>{w.selected==!0&&(w.name==M.name||w.type==M.name)&&(S.value=M.name)})}ae(async()=>{E()}),J(()=>S.value,async w=>{P.value==!0?P.value=!1:K()}),J(()=>N.value.length,async w=>{E()});function c(){m.value.forEach(w=>{w.selected=!1}),S.value=""}function E(){N.value.length>0?p.value=!1:N.value.length==0&&b.value==!1&&(p.value=!0)}function H(w){N.value.splice(w,1)}const z=w=>{H(w.index),o(w.item),O.value=w.item.other.location_data,U.value={reason:w.item.reason,date:w.item.date,time:w.item.time},A.value=w.item.other,k.value=w.item,w.item.type==="Discharged Home"&&(D.value=w.item,T.value={reason:w.item.reason,date:w.item.date})};async function K(w=!0){const M=S.value;S.value=M;const Q=S.value;Q==m.value[0].name?u.value=!0:u.value=!1,Q==m.value[1].name?C.value=!0:C.value=!1,Q==m.value[2].name?v.value=!0:v.value=!1,Q==m.value[3].name?i.value=!0:i.value=!1}function I(){r.value=!1,u.value=!1,v.value=!1,C.value=!1,c()}const f=w=>{m.value.forEach(M=>{M.selected=!1}),V.value=w,V.value.selected=!0,o(V.value)};return(w,M)=>{const Q=ne("ion-row");return s(),F(e($e),null,{default:a(()=>[t(Q,null,{default:a(()=>[t(e(W),null,{default:a(()=>[(s(),F(yt,{key:0,"onUpdate:removeItem":H,"onUpdate:editItem":z,displayData:N.value},null,8,["displayData"]))]),_:1})]),_:1}),p.value?(s(),F(Q,{key:0},{default:a(()=>[d("span",Ht,$(_.value),1)]),_:1})):y("",!0),t(Q,null,{default:a(()=>[t(e(W),null,{default:a(()=>[x.value?(s(),B("div",Et,[t(Q,null,{default:a(()=>[t(e(Ne),{modelValue:V.value,"onUpdate:modelValue":[M[0]||(M[0]=le=>V.value=le),M[1]||(M[1]=le=>f(le))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"top","tag-placeholder":"find and select a referral type",placeholder:"find and select a referral type",selectLabel:"",label:"name",searchable:!0,disabled:!1,onSearchChange:()=>{},"track-by":"name",options:m.value},null,8,["modelValue","options"]),d("div",null,[g.value?(s(),F(e(j),{key:0,class:"error-label"},{default:a(()=>[...M[2]||(M[2]=[R($("please select a type"),-1)])]),_:1})):y("",!0)])]),_:1})])):y("",!0)]),_:1})]),_:1}),u.value?(s(),F(wt,{key:1,onDataSaved:I,selected_ward_prop:A.value,admitted_other_props:k.value},null,8,["selected_ward_prop","admitted_other_props"])):y("",!0),C.value?(s(),F(St,{key:2,onDataSaved:I,selected_referral_data:O.value,selected_other_referral_data:U.value},null,8,["selected_referral_data","selected_other_referral_data"])):y("",!0),v.value?(s(),F(Ct,{key:3,onDataSaved:I,selected_discharged_prop:D.value,selected_discharged_data:T.value},null,8,["selected_discharged_prop","selected_discharged_data"])):y("",!0),i.value?(s(),F(Ut,{key:4,onDataSaved:I})):y("",!0)]),_:1})}}}),Ot=Z(Rt,[["__scopeId","data-v-2873182f"]]),Mt={style:{"font-weight":"400","font-size":"19px"}},Lt={style:{display:"flex","align-items":"center"}},qt={class:""},zt={class:"center text_12"},Wt=q({watch:{},name:"xxxComponent"}),jt=q({...Wt,props:{is_open:{},user_id:{}},emits:["closePopover","save"],setup(l,{emit:_}){n("");const g=_;function x(){g("closePopover",!1),He.dismiss()}return(S,p)=>(s(),B(te,null,[t(e(Ae),null,{default:a(()=>[t(e(fe),null,{default:a(()=>[t(e(de),null,{default:a(()=>[...p[1]||(p[1]=[d("div",{style:{display:"flex","align-items":"center"}},[d("b",{style:{"margin-left":"6px"}},"Patient Outcome")],-1)])]),_:1}),t(e(De),{slot:"end"},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(oe),{onClick:p[0]||(p[0]=b=>x()),fill:"solid"},{default:a(()=>[d("span",Mt,[d("div",Lt,[t(e(Y),{icon:e(ee),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),p[2]||(p[2]=d("span",{style:{"margin-left":"6px"}},"Close",-1))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(e(Be),{class:"ion-padding"},{default:a(()=>[d("div",qt,[d("div",zt,[t(e(L),null,{default:a(()=>[t(e(W),null,{default:a(()=>[t(Ot)]),_:1})]),_:1})])])]),_:1}),t(e(Ue),null,{default:a(()=>[t(e(fe))]),_:1})],64))}}),Gt={style:{display:"flex","align-items":"center"}},Qt={style:{"font-weight":"400","font-size":"19px"}},Jt={style:{display:"flex","align-items":"center"}},Kt={style:{"font-weight":"600","font-size":"17px"}},Zt={style:{"margin-top":"15px",width:"100%"}},Xt={key:0,class:"error-message"},Yt={key:1},ea={slot:"start",class:"prefix-container"},ta=["value"],aa={key:0,class:"error-message"},la={style:{"font-size":"16px","font-weight":"600px",color:"red"}},na={key:1},oa={style:{"font-weight":"400","font-size":"19px"}},sa={style:{display:"flex","align-items":"center"}},ra={style:{"font-weight":"400","font-size":"20px"}},ia={style:{display:"flex","align-items":"center"}},da=q({name:"UpdateNCDNumberModal"}),ua=q({...da,emits:["closePopover","save"],setup(l,{emit:_}){const g=qe(),x=Te(),{patient:S}=Fe(x),p=n(""),b=n(""),h=n(""),N=n(!1),P=new Ce;let r=null;const u=k=>{const D=k.target.value.replace(/[^0-9]/g,"");D!==k.target.value&&(N.value=!0,r&&clearTimeout(r),r=window.setTimeout(()=>{N.value=!1,r=null},3e3),p.value=D)},C=()=>{N.value=!1,r&&(clearTimeout(r),r=null)},v=se(()=>p.value&&p.value.trim()!==""),i=async()=>{try{const k=await Ee.getNextSuggestedNCDNumber(),D=k.ncd_number.replace(/^\D+|\s/g,""),T=k.ncd_number.replace(/\d+/g,"")+"-NCD-";p.value=D,b.value=T}catch(k){console.error("Error fetching suggested NCD number:",k),h.value="Failed to fetch suggested NCD number (missing SITE Prefix)"}};ae(()=>{i()}),J(()=>S.value.ID,()=>{i()},{deep:!0});const V=_;function O(){V("closePopover",!1),He.dismiss()}function U(k){try{console.log(k),g.push(k)}catch(D){console.error(D)}}async function A(){try{if(h.value="",!v.value){h.value="Please enter a valid NCD number";return}const k="".concat(b.value).concat(p.value),D=await Ce.findByID(S.value.patientID);for(const T of D.patient_identifiers)T.identifier_type===31&&(await P.updateNCDNumber(T.patient_identifier_id,k),V("save",{newNcdId:k}));await ut(S.value),O()}catch(k){console.error(k)}}return(k,D)=>(s(),B(te,null,[t(e(Ae),null,{default:a(()=>[t(e(fe),null,{default:a(()=>[t(e(de),null,{default:a(()=>[d("div",Gt,[t(e(Y),{icon:e(ze),class:"sub-menu-icon",style:{"font-size":"1.6rem"}},null,8,["icon"]),D[3]||(D[3]=d("b",{style:{"margin-left":"6px"}},"Update NCD Number",-1))])]),_:1}),t(e(De),{slot:"end"},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(oe),{onClick:D[0]||(D[0]=T=>O()),fill:"solid"},{default:a(()=>[d("span",Qt,[d("div",Jt,[t(e(Y),{icon:e(ee),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),D[4]||(D[4]=d("span",{style:{"margin-left":"6px"}},"Close",-1))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(e(Be),{class:"ion-padding"},{default:a(()=>[t(e($e),null,{default:a(()=>[t(e(be),{class:"current-ncd-item"},{default:a(()=>[t(e(j),null,{default:a(()=>[D[5]||(D[5]=d("h2",null,"Current NCD Number",-1)),d("p",Kt,$(e(S).NcdID||"Not assigned"),1)]),_:1})]),_:1}),t(e(be),null,{default:a(()=>[d("div",Zt,[N.value?(s(),B("div",Xt,[t(e(Y),{icon:e(We),color:"danger"},null,8,["icon"]),D[6]||(D[6]=d("span",{style:{"font-size":"16px","font-weight":"600px",color:"red"}},"Only numbers are allowed",-1)),t(e(oe),{fill:"clear",size:"small",onClick:C},{default:a(()=>[t(e(Y),{icon:e(ee)},null,8,["icon"])]),_:1})])):y("",!0),h.value?y("",!0):(s(),B("div",Yt,[D[7]||(D[7]=d("span",{style:{"font-weight":"600","font-size":"17px",color:"grey"}},"New NCD Number",-1)),t(e(je),{modelValue:p.value,"onUpdate:modelValue":D[1]||(D[1]=T=>p.value=T),placeholder:"Enter number",inputmode:"numeric",pattern:"[0-9]*",onInput:u,class:"custom-input"},{default:a(()=>[d("div",ea,[d("input",{value:b.value,readonly:"",class:"prefix-part",type:"text"},null,8,ta)])]),_:1},8,["modelValue"])]))])]),_:1}),h.value?(s(),B("div",aa,[t(e(Ge),{color:"danger"},{default:a(()=>[d("span",la,$(h.value),1)]),_:1})])):y("",!0),h.value?(s(),B("div",na,[t(e(oe),{onClick:D[2]||(D[2]=T=>U("setSitePrefix")),fill:"solid",style:{margin:"14px"}},{default:a(()=>[d("span",oa,[d("div",sa,[t(e(Y),{icon:e(Qe),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),D[8]||(D[8]=d("span",{style:{"margin-left":"6px"}},"set Site Prefix",-1))])])]),_:1})])):y("",!0)]),_:1})]),_:1}),t(e(Ue),null,{default:a(()=>[t(e(fe),null,{default:a(()=>[t(e(De),{slot:"end"},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(oe),{onClick:A,fill:"solid",disabled:!v.value},{default:a(()=>[d("span",ra,[d("div",ia,[t(e(Y),{icon:e(ue),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),D[9]||(D[9]=d("span",{style:{"margin-left":"6px"}},"Save",-1))])])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})],64))}}),ca=Z(ua,[["__scopeId","data-v-696e3b8f"]]),fa={key:0,style:{display:"flex","justify-content":"space-between",width:"100%"}},pa={key:0},ma={key:1,style:{"font-weight":"bold",padding:"1.7px"}},va={key:1,style:{display:"flex","flex-wrap":"wrap",gap:"20px",width:"100%"}},_a={key:0},ha={key:1},ya={key:2},ga={key:2},ba={style:{display:"flex","flex-wrap":"wrap",gap:"8px",width:"100%"}},wa={key:3,style:{display:"flex","flex-wrap":"wrap",gap:"20px",width:"100%"}},Da={key:0},Ia={key:1},Sa={key:2},ka={key:3},xa={key:4,style:{width:"100%","text-align":"center","border-collapse":"collapse",border:"1px solid black"}},Ca={key:0},Va={style:{border:"1px solid black"}},Na={style:{border:"1px solid black"}},Pa={style:{border:"1px solid black"}},Fa={style:{border:"1px solid black"}},$a=q({__name:"NCDVisitLbl",props:{imageOut:{type:Object},patient:{type:Object}},emits:["label-out"],setup(l,{emit:_}){const g=_,x=n(null),S=n(0),p=n(""),b=n(4),h=l,N=se(()=>{var v;return(v=h.patient)!=null&&v.medications?h.patient.medications.filter(i=>i&&(i.name||i.dose||i.frequency||i.quantity)):[]}),P=se(()=>{var i,V;const v=(i=h.patient)==null?void 0:i.vitals;return v&&(v.height||v.weight||v.bloodPressure||((V=h.patient)==null?void 0:V.bloodGlucose))}),r=se(()=>{const v=N.value;if(v.length===0)return[];if(S.value===0)return v.slice(0,2);{const i=2+(S.value-1)*b.value;return v.slice(i,i+b.value)}}),u=se(()=>{const v=N.value.length;if(v<=2)return 1;const i=v-2;return 1+Math.ceil(i/b.value)}),C=async()=>{const v=[];for(let i=0;i<u.value;i++){S.value=i,await new Promise(V=>setTimeout(V,100));try{let V;ie.getIsIpPrintersStatus()?V=await xe.toCanvas(x.value,{height:300,width:800}):V=await xe.toPng(x.value,{height:300,width:594}),v.push(V)}catch(V){console.error("Error generating image for page",i,V)}}return v};return ae(async()=>{try{const v=ie.getIsIpPrintersStatus();b.value=v?7:4,p.value=v?"800px":"594px";const i=await C();g("label-out",i),typeof h.imageOut=="function"&&h.imageOut(i)}catch(v){console.error("Error generating patient labels:",v)}}),(v,i)=>{var V,O,U,A,k,D,T,m,o,c,E,H,z,K,I,f,w,M,Q,le,ke;return s(),B("div",{ref_key:"lblComponent",ref:x,id:"container",style:Je("padding: 15px; width:"+p.value)},[S.value===0&&((V=l.patient)!=null&&V.latestVisitDate||(O=l.patient)!=null&&O.patientID)?(s(),B("div",fa,[(U=l.patient)!=null&&U.latestVisitDate?(s(),B("span",pa,[i[0]||(i[0]=d("b",null,"Visit:",-1)),R(" "+$(l.patient.latestVisitDate),1)])):y("",!0),(A=l.patient)!=null&&A.patientID?(s(),B("span",ma,$(l.patient.patientID),1)):y("",!0)])):y("",!0),S.value===0&&((k=l.patient)!=null&&k.patientName||(D=l.patient)!=null&&D.gender||(T=l.patient)!=null&&T.diagnoses&&l.patient.diagnoses.length>0)?(s(),B("div",va,[(m=l.patient)!=null&&m.patientName||(o=l.patient)!=null&&o.gender?(s(),B("span",_a,[d("b",null,$((c=l.patient)==null?void 0:c.patientName)+$((E=l.patient)!=null&&E.gender?"(".concat(l.patient.gender,")"):""),1)])):y("",!0),(H=l.patient)!=null&&H.prescriber?(s(),B("span",ha,[i[1]||(i[1]=d("b",null,"Seen by:",-1)),R($(l.patient.prescriber),1)])):y("",!0),(z=l.patient)!=null&&z.nextAppointment?(s(),B("span",ya,[i[2]||(i[2]=d("b",null,"Nxt App:",-1)),R(" "+$(l.patient.nextAppointment),1)])):y("",!0)])):y("",!0),S.value===0&&((K=l.patient)!=null&&K.diagnoses)&&l.patient.diagnoses.length>0?(s(),B("div",ga,[d("span",ba,[i[3]||(i[3]=d("b",null,"Diagnoses:",-1)),R(" "+$(l.patient.diagnoses.filter(G=>G).join(", ")),1)])])):y("",!0),S.value===0&&P.value?(s(),B("div",wa,[(f=(I=l.patient)==null?void 0:I.vitals)!=null&&f.height?(s(),B("span",Da,$(l.patient.vitals.height||""),1)):y("",!0),(M=(w=l.patient)==null?void 0:w.vitals)!=null&&M.weight?(s(),B("span",Ia,$(l.patient.vitals.weight||""),1)):y("",!0),(le=(Q=l.patient)==null?void 0:Q.vitals)!=null&&le.bloodPressure?(s(),B("span",Sa,$(l.patient.vitals.bloodPressure||""),1)):y("",!0),(ke=l.patient)!=null&&ke.bloodGlucose?(s(),B("span",ka,$(l.patient.bloodGlucose||""),1)):y("",!0)])):y("",!0),r.value.length>0?(s(),B("table",xa,[S.value===0?(s(),B("thead",Ca,[...i[4]||(i[4]=[d("tr",null,[d("th",{style:{border:"1px solid black"}},"Drug"),d("th",{style:{border:"1px solid black"}},"Dose"),d("th",{style:{border:"1px solid black"}},"Freq"),d("th",{style:{border:"1px solid black"}},"Qty")],-1)])])):y("",!0),d("tbody",null,[(s(!0),B(te,null,pe(r.value,(G,Oe)=>(s(),B("tr",{key:Oe},[d("td",Va,$((G==null?void 0:G.name)||""),1),d("td",Na,$((G==null?void 0:G.dose)||""),1),d("td",Pa,$((G==null?void 0:G.frequency)||""),1),d("td",Fa,$((G==null?void 0:G.quantity)||""),1)]))),128))])])):y("",!0)],4)}}}),Aa=Z($a,[["__scopeId","data-v-cde3e630"]]);async function Ba(){await ct(Aa,{copies:1})}function Ra(){const l=n(Ke.isNativePlatform()),_=n([]),g=n(null),x=n(!1),S=n(null),b=Te().patient;return{isMobile:l,visits:_,event:g,popoverOpen:x,program:S,patient:b,openPopover:i=>{g.value=i,x.value=!0},openPIM:()=>{ce(vt,{class:"fullScreenModal"})},openOutCome:()=>{ce(jt,{class:"large-modal-x10"})},printVisitSummary:async()=>{ie.getProgramID()==1?await ft():ie.getProgramID()==32?await Ba():new Ve().printData("visit")},printID:()=>{new Ve().printData("barcode")},formatCurrentAddress:i=>{var O,U,A;return[(O=i==null?void 0:i.personInformation)==null?void 0:O.current_district,(U=i==null?void 0:i.personInformation)==null?void 0:U.current_traditional_authority,(A=i==null?void 0:i.personInformation)==null?void 0:A.current_village].filter(Boolean).join(",")},openUpdateNCDNUmbers:()=>{ce(ca,{class:"large-modal-x10"})}}}export{wt as A,yt as D,Ot as O,St as R,Re as _,Ct as a,Ut as b,vt as c,Ra as u};
