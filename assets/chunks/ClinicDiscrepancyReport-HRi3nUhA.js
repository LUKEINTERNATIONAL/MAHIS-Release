import{cd as t,cm as p,aF as n,aE as l}from"../index-2U28wY_v.js";import{P as d}from"./program_report_service-BCLjGzUo.js";import{d as m,r as c,O as u,f}from"./vendor-78jGb2J2.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-Bgv-43mM.js";const w=m({__name:"ClinicDiscrepancyReport",setup(_){const r=c("-"),o=c([]),i=[{label:"Drug Count Date",path:"verification_date",formatter:t},{label:"Drug Name",path:"short_name"},{label:"Expected Count",path:"expected_quantity",formatter:t},{label:"Verified Count",path:"current_quantity",formatter:t},{label:"Difference",path:"difference",formatter:t},{label:"Reason",path:"variance_reason"}];async function s(a){await n.show();try{const e=new d;e.setStartDate(a.dateRange.startDate),e.setEndDate(a.dateRange.endDate),r.value=e.getDateIntervalPeriod(),o.value=await e.generate("discrepancy_report")}catch(e){l("Unable to load report data"),console.error(e)}await n.hide()}return(a,e)=>(f(),u(p,{title:"Clinic Discrepancy Report","report-type":"Clinic",columns:i,rows:o.value,period:r.value,"use-date-range-filter":"","use-secure-export":"",onGenerate:s},null,8,["rows","period"]))}});export{w as default};
