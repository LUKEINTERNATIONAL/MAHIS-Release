System.register(["./vendor-legacy-rL86R-cQ.js","../index-legacy-CIS5mwDD.js","./DemographicBar-legacy-CDT3UHc0.js","./useFormWizard-legacy-DjVyaicU.js","./Vitals-legacy-BXt-efQG.js","./AbdominalExamination.vue_vue_type_script_setup_true_lang-legacy-Dt7bobJW.js","./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-legacy-CEbhpt1u.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-kzTeKYPj.js"],function(e,a){"use strict";var n,l,o,t,i,r,s,u,d,c,m,p,v,f,b,g,y,h,_,x,N,k,F,Y,w,S,T,C,A,E,P,D,R,B,I,M,V,G,O,W,U,j,z,K;return{setters:[e=>{n=e.d,l=e.r,o=e.c,t=e.O,i=e.f,r=e.J,s=e.k,u=e.l,d=e.u,c=e.N,m=e.Q,p=e.K,v=e.p,f=e.a,b=e.e,g=e.bw,y=e.F,h=e.am,_=e.b2,x=e.ab,N=e.m,k=e.i,F=e.bT,Y=e.v,w=e.ae},e=>{S=e.n,T=e.z,C=e._,A=e.J,E=e.b,P=e.F,D=e.t,R=e.u,B=e.T,I=e.D,M=e.I},e=>{V=e.D},e=>{G=e.u,O=e._},e=>{W=e.V},e=>{U=e.M,j=e._,z=e.a},e=>{K=e._},null,null],execute:function(){var a=document.createElement("style");a.textContent=".tb-button-container[data-v-4c6e4f0c]{padding:10px;margin-top:10px;border:1px dashed #fb8c00;border-radius:8px;background-color:#fff9f0}.muac-warning-box[data-v-a0da09fc]{padding:16px;margin:10px 5px;border-radius:8px;display:flex;flex-direction:column;gap:4px;border-left:6px solid;transition:all .3s ease}.status-red[data-v-a0da09fc]{background-color:#fee2e2;color:#991b1b;border-color:#dc2626}.status-yellow[data-v-a0da09fc]{background-color:#fef3c7;color:#92400e;border-color:#f59e0b}.status-green[data-v-a0da09fc]{background-color:#dcfce7;color:#166534;border-color:#22c55e}.warning-title[data-v-a0da09fc]{font-weight:800;font-size:13px;text-transform:uppercase;letter-spacing:.5px}.warning-message[data-v-a0da09fc]{font-size:16px;font-weight:600}[data-v-a0da09fc] .input-field-container{transition:background-color .4s ease}.m-card[data-v-536cbcf7]{padding:20px;margin-bottom:20px}.p-container[data-v-17c1cc7f] .fw-body{overflow:auto;padding-right:0}.p-container[data-v-17c1cc7f] .fw-overflow-scroll.fw-vertical .fw-body-list:hover{overflow-x:hidden!important;overflow-y:auto!important}\n/*$vite$:1*/",document.head.appendChild(a);const q=n({__name:"IsPallorPresent",setup(e,{expose:a}){const n=l(0),r=l(null),s=o(()=>[{componentType:"radioButtonField",name:"Is pallor present?",header:"Is pallor present?",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],onChange:(e,a)=>{if("Yes"===e)return{"ny action taken?":""}}},{name:"Any action taken?",componentType:"radioButtonField",header:"Any action taken?",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],onChange:(e,a)=>{if("Yes"===e)return{"Specify the action taken":""}},condition:e=>"Yes"===e["Is pallor present?"]},{header:"Specify the action taken",name:"Specify the action taken",componentType:"inputField",icon:S.editPen,condition:e=>"Yes"===e["Any action taken?"]}]);return a({onSubmit:async()=>{r.value||console.error("Form reference is not available")}}),(e,a)=>(i(),t(T,{subtitle:"Is pallor present",formData:s.value,key:n.value,ref_key:"formRef",ref:r},null,8,["formData"]))}}),L=n({__name:"oedemaPresent",setup(e,{expose:a}){const n=l(0),r=l(null),s=o(()=>[{name:"Is oedema present?",header:"Is oedema present?",componentType:"radioButtonField",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Select the type of Oedema the woman has?",header:"Select the type of Oedema the woman has?",componentType:"radioButtonField",options:[{label:"pitting ankle oedema",value:"pitting ankle oedema"},{label:"leg swelling",value:"leg swelling"},{label:"oedema of the hands and feet",value:"oedema of the hands and feet"},{label:"pitting lower back oedema",value:"pitting lower back oedema"},{label:"Facial oedema",value:"Facial oedema"},{label:"General body oedema",value:"General body oedema"}],condition:e=>"Yes"===e["Is oedema present?"]},{name:"Severity of Oedema?",header:"Severity of Oedema?",componentType:"radioButtonField",options:[{label:"+",value:"+"},{label:"++",value:"++"},{label:"+++",value:"+++"},{label:"++++",value:"++++"}],condition:e=>"Yes"===e["Is oedema present?"]},{name:"Varicose Veins Present",header:"Varicose Veins Present",componentType:"radioButtonField",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Any deformities present?",header:"Any deformities present?",componentType:"radioButtonField",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes",grid:{s:"12"},condition:e=>"Yes"===e["Any deformities present?"]},{name:"Specify the deformity",header:"Specify the deformity",componentType:"inputField",icon:S.editPen,condition:e=>"Yes"===e["Any deformities present?"]}]);return a({onSubmit:async()=>{r.value||console.error("Form reference is not available")}}),(e,a)=>(i(),t(T,{subtitle:"Extremities",formData:s.value,key:n.value,ref_key:"formRef",ref:r},null,8,["formData"]))}}),H={class:"tb-button-container"},J=C(n({__name:"respiratoryExamFindings",setup(e,{expose:a}){const n=l(0),p=l(null),v=o(()=>[{name:"Cough",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Cough",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],onChange:(e,a)=>{if("Yes"===e)return{Fever:"","Cough type:":"","Duration of cough:":"","Weight loss":"","Night sweats":""}}},{name:"Rapid breathing",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Rapid breathing",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Slow breathing",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Slow breathing",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Wheezing",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Wheezing",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Rales",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Rales",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Respiratory distress",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Respiratory distress",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Other findings",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Other findings",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],onChange:e=>{if("Yes"===e)return{"Specify other respiratory findings":""}}},{header:"Specify other respiratory findings",name:"Specify other respiratory findings",componentType:"inputField",icon:S.editPen,condition:e=>!0===e["Other findings"]},{componentType:"Dashes",grid:{s:"12"},condition:e=>!0===e.Cough},{name:"TB Screening",header:"TB Screening",componentType:"Heading",grid:{s:"12"},condition:e=>!0===e.Cough},{componentType:"inputField",name:"Duration of cough",header:"Duration of cough",icon:S.edit,unitOptions:[{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],condition:e=>!0===e.Cough},{name:"Weight loss",label:"Weight loss",header:"Weight loss",componentType:"radioButtonField",grid:{s:"5"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],condition:e=>!0===e.Cough},{name:"Fever",label:"Fever",header:"Fever",componentType:"radioButtonField",grid:{s:"5"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],condition:e=>!0===e.Cough},{name:"Cough type",label:"Dry or productive",header:"Cough type",componentType:"radioButtonField",grid:{s:"5"},options:[{label:"Dry",value:"Dry"},{label:"Productive",value:"Productive"}],condition:e=>!0===e.Cough},{name:"Night sweats",label:"Night sweats",header:"Night sweats",componentType:"radioButtonField",grid:{s:"5"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],condition:e=>!0===e.Cough},{componentType:"Dashes",condition:e=>"Yes"===e["Weight loss"]||"Yes"===e.Fever||"Yes"===e["Night sweats"]},{name:"tb_referral_slot",componentType:"Slot",slotName:"tb_button_slot",grid:{s:"12"},condition:e=>"Yes"===e["Weight loss"]||"Yes"===e.Fever||"Yes"===e["Night sweats"]||"Yes"===e.Cough}]);return a({onSubmit:async()=>{p.value||console.error("Form reference is not available")}}),(e,a)=>(i(),t(T,{subtitle:"Respiratory exam findings",formData:v.value,key:n.value,ref_key:"formRef",ref:p},{tb_button_slot:r(({formValues:e})=>[s("div",H,[u(d(c),{expand:"block",color:"warning",onClick:a=>{return n=e,console.log("Patient referred for TB testing with values:",n),void alert("Referral for TB Testing has been recorded.");var n}},{default:r(()=>[...a[0]||(a[0]=[m(" Send for TB testing ",-1)])]),_:1},8,["onClick"])])]),_:1},8,["formData"]))}}),[["__scopeId","data-v-4c6e4f0c"]]),$=n({__name:"Appearance",setup(e,{expose:a}){const n=l(0),r=l(null),s=o(()=>[{componentType:"radioButtonField",name:"Kempt",header:"Kempt",required:!0,obsValueType:"value_coded",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Gait",componentType:"radioButtonField",header:"Gait",required:!0,obsValueType:"value_coded",options:[{label:"Normal",value:"Normal"},{label:"Abnormal",value:"Abnormal"}]},{name:"Nutritional status",componentType:"radioButtonField",header:"Nutritional status",obsValueType:"value_coded",required:!0,options:[{label:"Well Nourished",value:"Well Nourished"},{label:"Malnourished",value:"Malnourished"}]}]);return a({onSubmit:async()=>{var e,a;if(!r.value)return void console.error("Form reference is not available");const n=(null===(e=r.value)||void 0===e?void 0:e.getFormValues())||{};null===(a=r.value)||void 0===a||a.validateForm(),n.Kempt||n.Gait||n["Nutritional status"]?(await A.buildAddObsToEncounterPatient(n,E.PHYSICAL_EXAMINATION),r.value.resetForm(),P("Appearance saved successfully")):D("No appearance data to save")},validateForm:()=>{var e;return null===(e=r.value)||void 0===e?void 0:e.validateForm()}}),(e,a)=>(i(),t(T,{subtitle:"Appearance",formData:s.value,key:n.value,ref_key:"formRef",ref:r},null,8,["formData"]))}}),Q={class:"warning-title"},X={class:"warning-message"},Z=C(n({__name:"MUAC",setup(e,{expose:a}){const n=l(0),u=l(null),d=e=>{const a=parseFloat(e);return!a||isNaN(a)?{class:"",label:"",color:"",message:""}:a<18?{class:"status-red",label:"Severe (Red)",color:"#ffcdd2",message:"Refer for nutritional management"}:a>=18&&a<=21?{class:"status-yellow",label:"Moderate (Yellow)",color:"#fff9c4",message:"Refer for nutritional management"}:{class:"status-green",label:"Normal (Green)",color:"#c8e6c9",message:"Patient is well nourished"}},c=o(()=>[{name:"MUAC - Number",header:"MUAC - Number",componentType:"inputField",icon:S.height,unit:"cm",eventType:"number",onChange:e=>({backgroundColor:d(e).color})},{name:"muac_alert_container",componentType:"Slot",slotName:"muac_warning_slot",grid:{s:"12"},condition:e=>{const a=parseFloat(e["MUAC - Number"]);return!isNaN(a)&&a>0}}]);return a({onSubmit:async()=>{u.value||console.error("Form reference is not available")}}),(e,a)=>(i(),t(T,{subtitle:"Mid-Upper Arm Circumference (MUAC)",formData:c.value,key:n.value,ref_key:"formRef",ref:u},{muac_warning_slot:r(({formValues:e})=>[s("div",{class:v(["muac-warning-box",d(e["MUAC - Number"]).class])},[s("div",Q," Nutritional Status: "+p(d(e["MUAC - Number"]).label),1),s("div",X,p(d(e["MUAC - Number"]).message),1)],2)]),_:1},8,["formData"]))}}),[["__scopeId","data-v-a0da09fc"]]),ee=C(n({__name:"GeneralExamination",setup(e,{expose:a}){const n=l(null),o=l(null),t=l(null),s=l(null),c=l(null),m=l(null);return f(()=>{}),a({validateForm:()=>{},onSubmit:()=>{try{var e,a,l,i,r,u,d,p,v,f,b,g;const y=[null===(e=n.value)||void 0===e||null===(a=e.onSubmit)||void 0===a?void 0:a.call(e),null===(l=o.value)||void 0===l||null===(i=l.onSubmit)||void 0===i?void 0:i.call(l),null===(r=t.value)||void 0===r||null===(u=r.onSubmit)||void 0===u?void 0:u.call(r),null===(d=s.value)||void 0===d||null===(p=d.onSubmit)||void 0===p?void 0:p.call(d),null===(v=c.value)||void 0===v||null===(f=v.onSubmit)||void 0===f?void 0:f.call(v),null===(b=m.value)||void 0===b||null===(g=b.onSubmit)||void 0===g?void 0:g.call(b)].filter(e=>void 0!==e);return 0===y.length||y.every(e=>!0===e)}catch(y){return console.error("Error in GeneralExamination onSubmit:",y),!1}}}),(e,a)=>(i(),b(y,null,[u(d(g),{class:"m-card"},{default:r(()=>[u(K,{ref_key:"levelOfConsciousnessRef",ref:n},null,512)]),_:1}),u(d(g),{class:"m-card"},{default:r(()=>[u($,{ref_key:"MUACref",ref:o},null,512)]),_:1}),u(d(g),{class:"m-card"},{default:r(()=>[u(Z,{ref_key:"apperanceRef",ref:t},null,512)]),_:1}),u(d(g),{class:"m-card"},{default:r(()=>[u(J,{ref_key:"respiratoryExamFindingsRef",ref:s},null,512)]),_:1}),u(d(g),{class:"m-card"},{default:r(()=>[u(q,{ref_key:"isPallorPresentRef",ref:c},null,512)]),_:1}),u(d(g),{class:"m-card"},{default:r(()=>[u(L,{ref_key:"oedemaPresentRef",ref:m},null,512)]),_:1})],64))}}),[["__scopeId","data-v-536cbcf7"]]),ae={style:{width:"90vw",margin:"0 auto","margin-top":"10px"},class:"p-container"},ne={class:"back_profile"};e("default",C(n({__name:"physicalExamination",setup(e){const a=h(),{onTabBeforeChange:n,currentTabIndex:c}=G(),m=l(null),p=l(null),v=l(null),b=l(null),g=l(null),y=R(),{patient:S}=_(y),T=()=>{var e;if(!K.value||0===K.value.length)return null;const a=c.value>=0&&c.value<K.value.length?c.value:0;switch(null===(e=K.value[a])||void 0===e?void 0:e.title){case"Vital Signs":return"Vitals";case"General Examination":return"GeneralExamination";case"Maternal Exam":return"MaternalExam";case"Abdominal examination":return"AbdominalExamination";case"Presenting signs for IPV":return"PresentingSigns";default:return null}},C=l(!0),A=l(!1),E=l(!1),P=o(()=>({text:E.value?"Saving...":"Finish",icon:E.value?"hourglass-outline":"checkmark",hideText:!1,hideIcon:!1,disabled:A.value||E.value})),K=l([{title:"Vital Signs",icon:""},{title:"General Examination",icon:""},{title:"Maternal Exam",icon:""},{title:"Abdominal examination",icon:""},{title:"Presenting signs for IPV",icon:""}]),q=()=>{a.push("/contact")},L=e=>{console.log("Done button change received from wizard:",e),e.newOptions.disabled&&console.log("Done button has been disabled"),e.isLastStep&&console.log("User is on the last step, done button should be visible")},H=async(e,a)=>{var n;const l=null===(n=K.value[a])||void 0===n?void 0:n.title;var o,t,i,r,s;e%1==0&&(c.value=e),"Vital Signs"==l&&(null===(o=m.value)||void 0===o||o.onSubmit()),"General Examination"==l&&(console.log("General Examination: ",g.value),null===(t=g.value)||void 0===t||t.onSubmit()),"Maternal Exam"==l&&(null===(i=p.value)||void 0===i||i.onSubmit()),"Abdominal examination"==l&&(null===(r=v.value)||void 0===r||r.onSubmit()),"Presenting signs for IPV"==l&&(null===(s=b.value)||void 0===s||s.onSubmit()),await M(S.value)};return f(async()=>{(void 0===c.value||c.value<0)&&(c.value=0,console.log("Setting initial tab index to 0"))}),(e,a)=>(i(),t(d(w),null,{default:r(()=>[u(B),u(d(x),{fullscreen:!0},{default:r(()=>[u(V),s("div",ae,[C.value?(i(),t(O,{key:0,ref:"wizard",headingTitle:"Physical examination","vertical-tabs":"","navigable-tabs":"","scrollable-tabs":"",startIndex:0,doneButton:P.value,"custom-tabs":K.value,beforeChange:d(n),onChange:H,"onComplete:wizard":a[1]||(a[1]=e=>(async()=>{E.value=!0;try{await M(S.value),q()}catch(e){console.error("Error saving data:",e),D("Error occurred while saving data. Please try again.")}finally{E.value=!1}})()),onDoneButtonChanged:L},{default:r(()=>[s("div",null,[s("div",ne,[u(I,{name:"Back to Contact",iconSlot:"start",fill:"clear",icon:d(F),"font-weight":"600",onClick:a[0]||(a[0]=e=>q())},null,8,["icon"])])]),k(s("div",null,[u(W,{ref_key:"vitalsRef",ref:m},null,512)],512),[[Y,"Vitals"==T()]]),k(s("div",null,[u(U,{ref_key:"MaternalExamRef",ref:p},null,512)],512),[[Y,"MaternalExam"==T()]]),k(s("div",null,[u(j,{ref_key:"AbdominalExaminationRef",ref:v},null,512)],512),[[Y,"AbdominalExamination"==T()]]),k(s("div",null,[u(z,{ref_key:"PresentingSignsRef",ref:b},null,512)],512),[[Y,"PresentingSigns"==T()]]),k(s("div",null,[u(ee,{ref_key:"GeneralExaminationRef",ref:g},null,512)],512),[[Y,"GeneralExamination"==T()]])]),_:1},8,["doneButton","custom-tabs","beforeChange"])):N("",!0)])]),_:1})]),_:1}))}}),[["__scopeId","data-v-17c1cc7f"]]))}}});
