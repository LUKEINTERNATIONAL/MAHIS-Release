System.register(["./vendor-legacy-JORBMK6M.js","./NavigationMenu-legacy-q7SKEf3t.js","./AEFIReportTemplate-legacy-e8siTRug.js","./vaccines_service-legacy-UlpnZTSW.js","./EIRreportsStore-legacy-CQowGuMD.js","../index-legacy-CviGIXf-.js","./lodash-legacy-pOOc9Efu.js","./bottomNavBar-legacy-DOsua2vw.js","./sms_service-legacy-CJscDZfT.js","./Export-legacy-CUvDF2Tn.js","./apexcharts-legacy-DCPssBEa.js"],function(e,t){"use strict";var a,o,n,l,s,d,c,i,r,u,h,b,m,f,p,y,g,C,x,v,T,_,w,k,I,P,R,S,E,D,M,j,N,F,L;return{setters:[e=>{a=e.d,o=e.ah,n=e.a5,l=e.a4,s=e.dw,d=e.dx,c=e.a6,i=e.a3,r=e.dp,u=e.eY,h=e.H,b=e.e,m=e.f,f=e.l,p=e.k,y=e.J,g=e.p,C=e.F,x=e.P,v=e.K,T=e.Q,_=e.i,w=e.b8,k=e.O},e=>{I=e.N},e=>{P=e.P,R=e.A},e=>{S=e.c,E=e.d,D=e.e},e=>{M=e.E},e=>{j=e.P,N=e.u,F=e.m,L=e._},null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent="[data-v-5b5a0e38] ion-content{--background: white}.custom-table[data-v-5b5a0e38]{width:100%;border-collapse:separate;border-spacing:0;background-color:#fff}.custom-table th[data-v-5b5a0e38],.custom-table td[data-v-5b5a0e38]{padding:8px;text-align:center;cursor:pointer}.custom-table th[data-v-5b5a0e38]{background-color:#f3f3f3;border:1px solid #f0f0f0}.custom-table tr[data-v-5b5a0e38]:nth-child(2n){background-color:#fff}.custom-table th[data-v-5b5a0e38]:nth-child(1),.custom-table td[data-v-5b5a0e38]:nth-child(1){border-right:1px solid #006401}.custom-table thead tr:nth-child(1) th[data-v-5b5a0e38]:not(:first-child),.custom-table thead tr:nth-child(2) th[data-v-5b5a0e38]:not(:first-child){border-bottom:1px solid #006401}.custom-table th[data-v-5b5a0e38]:first-child,.custom-table td[data-v-5b5a0e38]:first-child{border-left:none}.custom-table thead tr:first-child th[data-v-5b5a0e38]{border-top:none}.custom-table tbody td[data-v-5b5a0e38]{border-left:none;border-right:none}.custom-table tbody td[data-v-5b5a0e38]:first-child{border-right:1px solid #006401}.custom-table tbody td[data-v-5b5a0e38]{border-bottom:1px solid #acabab}.custom-table tbody tr:last-child td[data-v-5b5a0e38]{border-bottom:none}.custom-table .selected[data-v-5b5a0e38]{background-color:#c0c0ff}.editable-input[data-v-5b5a0e38]{width:100%;border:none;background-color:transparent;text-align:center;outline:none;font-size:14px}.editable-input[data-v-5b5a0e38]:focus{background-color:#e0e0ff;border:1px solid #006401}[data-v-caf79033] ion-content{--background: white}\n/*$vite$:1*/",document.head.appendChild(t);const V=a({name:"TableComponent",components:{IonContent:i,IonPage:c,IonFab:d,IonFabButton:s,NavigationMenu:I,IonRow:l,IonCol:n,PersonCardComponent:P},data:()=>({selectedSection:"",selectedColumn:"",tableData:[],fileTray:u,downloadOutline:r,exportReportToCSV:D,peopleArray:[{id:1,firstName:"John",lastName:"Doe",age:30,dob:"1993-05-15",sex:"Male"},{id:2,firstName:"Jane",lastName:"Smith",age:28,dob:"1995-09-22",sex:"Female"}]}),watch:{$route:{async handler(e){"EIRReport"==e.name&&await this.getDrugs(),await this.initReport()},deep:!0}},computed:{...o(M,["start_date","end_date","navigationPayload"])},async mounted(){await this.getDrugs(),await this.initReport()},methods:{selectSection(e){this.selectedSection=e,this.selectedColumn=""},selectColumn(e){this.selectedColumn=e,this.selectedSection=""},async initReport(){const e=await E(this.start_date,this.end_date);e.less_than_one_year.forEach(e=>{this.fillCells(e,"lessThan1y")}),e.greater_than_one_year.forEach(e=>{this.fillCells(e,"moreThan1y")})},fillCells(e,t){this.tableData.forEach(a=>{if(a.drug.name==e.value_text&&t in a.fixed){let o=t+"Persons",n=a.fixed[t];a.fixed[t]=n+1,a.fixed[o].push(e)}})},async getDrugs(){const e=await S(),t=[];e.forEach(e=>{const a={label:e.name,fixed:{lessThan1y:0,moreThan1y:0,lessThan1yPersons:[],moreThan1yPersons:[]},outreach:{lessThan1y:0,moreThan1y:0},drug:e};t.push(a)}),this.tableData=t,M().setImmunizationMonthlyRepoartData(this.tableData)},openPersonCardComponent(e){console.log(e);const t={people:e,headingText:`Immunization (Client Drill Down | ${this.navigationPayload.subTxt})`};F(P,{class:"large-modal"},!0,t,{"view-client":e=>{this.openPatientProfile(e.detail.client_id)}})},async openPatientProfile(e){(await j.findByID(e)).patient_identifiers.forEach(async e=>{if(3==e.identifier_type){const t=await j.findByNpid(e.identifier);await N().setPatientRecord(t[0]),this.$router.push("patientProfile")}})}}}),z={class:"custom-table"},A=["onUpdate:modelValue"],$=["onUpdate:modelValue"],B=a({name:"TableComponent",components:{IonContent:i,IonPage:c,NavigationMenu:I,AEFIReportTemplate:R,EIR_Report_Template:L(V,[["render",function(e,t,a,o,n,l){const s=h("ion-col"),d=h("ion-row"),c=h("ion-icon"),i=h("ion-fab-button"),r=h("ion-fab"),u=h("pan");return m(),b(C,null,[f(d,null,{default:y(()=>[f(s,null,{default:y(()=>[...t[6]||(t[6]=[p("h1",{style:{width:"100%","text-align":"left","font-weight":"400"}},"Immunization",-1)])]),_:1})]),_:1}),f(r,{slot:"fixed",horizontal:"end",vertical:"top",onClick:e.exportReportToCSV},{default:y(()=>[f(i,null,{default:y(()=>[f(c,{icon:e.downloadOutline},null,8,["icon"])]),_:1})]),_:1},8,["onClick"]),p("table",z,[t[9]||(t[9]=p("colgroup",null,[p("col",{style:{width:"20%"}}),p("col",{style:{width:"20%"}}),p("col",{style:{width:"20%"}}),p("col",{style:{width:"20%"}}),p("col",{style:{width:"20%"}})],-1)),p("thead",null,[p("tr",null,[t[7]||(t[7]=p("th",null,null,-1)),p("th",{colspan:"2",onClick:t[0]||(t[0]=t=>e.selectSection("fixed")),class:g({selected:"fixed"===e.selectedSection})},"Static",2),p("th",{colspan:"2",onClick:t[1]||(t[1]=t=>e.selectSection("outreach")),class:g({selected:"outreach"===e.selectedSection})},"Outreach",2)]),p("tr",null,[t[8]||(t[8]=p("th",null,null,-1)),p("th",{onClick:t[2]||(t[2]=t=>e.selectColumn("fixedLessThan1y")),class:g({selected:"fixedLessThan1y"===e.selectedColumn})},"<1y",2),p("th",{onClick:t[3]||(t[3]=t=>e.selectColumn("fixedMoreThan1y")),class:g({selected:"fixedMoreThan1y"===e.selectedColumn})},">1y",2),p("th",{onClick:t[4]||(t[4]=t=>e.selectColumn("outreachLessThan1y")),class:g({selected:"outreachLessThan1y"===e.selectedColumn})},"<1y",2),p("th",{onClick:t[5]||(t[5]=t=>e.selectColumn("outreachMoreThan1y")),class:g({selected:"outreachMoreThan1y"===e.selectedColumn})},">1y",2)])]),p("tbody",null,[(m(!0),b(C,null,x(e.tableData,(t,a)=>(m(),b("tr",{key:a},[p("td",null,v(t.label),1),p("td",{class:g({selected:"fixed"===e.selectedSection||"fixedLessThan1y"===e.selectedColumn})},[f(u,{onClick:a=>e.openPersonCardComponent(t.fixed.lessThan1yPersons)},{default:y(()=>[T(v(t.fixed.lessThan1y),1)]),_:2},1032,["onClick"])],2),p("td",{class:g({selected:"fixed"===e.selectedSection||"fixedMoreThan1y"===e.selectedColumn})},[f(u,{onClick:a=>e.openPersonCardComponent(t.fixed.moreThan1yPersons)},{default:y(()=>[T(v(t.fixed.moreThan1y),1)]),_:2},1032,["onClick"])],2),p("td",{class:g({selected:"outreach"===e.selectedSection||"outreachLessThan1y"===e.selectedColumn})},[_(p("input",{"onUpdate:modelValue":e=>t.outreach.lessThan1y=e,class:"editable-input"},null,8,A),[[w,t.outreach.lessThan1y]])],2),p("td",{class:g({selected:"outreach"===e.selectedSection||"outreachMoreThan1y"===e.selectedColumn})},[_(p("input",{"onUpdate:modelValue":e=>t.outreach.moreThan1y=e,class:"editable-input"},null,8,$),[[w,t.outreach.moreThan1y]])],2)]))),128))])])],64)}],["__scopeId","data-v-5b5a0e38"]]),IonRow:l,IonCol:n},data:()=>({}),watch:{},computed:{},async mounted(){},methods:{}});e("default",L(B,[["render",function(e,t,a,o,n,l){const s=h("NavigationMenu"),d=h("EIR_Report_Template"),c=h("AEFIReportTemplate"),i=h("ion-content"),r=h("ion-page");return m(),k(r,null,{default:y(()=>[f(s),f(i,{class:"ion-padding"},{default:y(()=>[f(d),f(c)]),_:1})]),_:1})}],["__scopeId","data-v-caf79033"]]))}}});
