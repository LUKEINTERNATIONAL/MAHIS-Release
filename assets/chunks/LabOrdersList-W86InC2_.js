var Je=Object.defineProperty;var Ee=(v,p,c)=>p in v?Je(v,p,{enumerable:!0,configurable:!0,writable:!0,value:c}):v[p]=c;var ee=(v,p,c)=>Ee(v,typeof p!="symbol"?p+"":p,c);import{d as pe,r as y,ap as Oe,b2 as ie,a as De,H as k,e as z,f as h,F as ne,l as n,u as f,I as ke,J as r,G as ge,E as Y,k as O,K as se,aW as _e,N as he,a3 as We,a4 as de,M as Ae,bo as je,R as Ce,aj as ze,a7 as qe,X as Ke,dn as Ue,dX as Ge,ak as Xe,$ as Ye,bj as Qe,O as $,Q as G,P as Pe,c as Se,w as X,m as E,cp as Ze,eq as et,n as ye,b7 as Re,cW as tt}from"./vendor-CzFJ4KTZ.js";import{b2 as He,O as q,u as Le,l as Q,aE as Te,S as M,o as we,af as V,bm as $e,G as ce,_ as me,J as ae,q as Me,aD as Ne,t as Fe,bH as Ve,s as ue,aR as Ie,aK as at,m as xe,bI as st,H as te,V as nt,a as ot,i as rt}from"../index-DijUtNzv.js";import{B as lt}from"./BasicForm-BergQQ6P.js";import{u as it}from"./useUserActivities-CzAzY4lO.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-C9muk_WD.js";import"./DateInputField-C4dq8JE0.js";class dt extends He{constructor(c){super(c,32);ee(this,"patientID");ee(this,"testTypeID");ee(this,"resultDate");ee(this,"testID");this.patientID=c,this.testTypeID=-1,this.resultDate="",this.testID=-1}createLabResult(c){return He.postJson("lab/tests/".concat(this.testID,"/results"),{encounter_id:this.encounterID,date:this.resultDate,measures:c})}getTestID(){return this.testID}getTestTypeID(){return this.testTypeID}setTestTypeID(c){this.testTypeID=c}setResultDate(c){this.resultDate=c}setTestID(c){this.testID=c}getTestsWithoutResults(){return q.getOrders(this.patientID,{status:"drawn"})}getTestIndicators(){return q.getJson("lab/test_result_indicators",{test_type_id:this.testTypeID})}static getTestIndicatorsWithID(c){return q.getJson("lab/test_result_indicators",{test_type_id:c})}}const ct={style:{display:"flex","align-items":"center"}},ut={style:{"margin-left":"6px"}},pt={style:{"font-weight":"400","font-size":"19px"}},mt={style:{display:"flex","align-items":"center"}},ft={style:{"font-weight":"400","font-size":"20px"}},bt={style:{display:"flex","align-items":"center"}},vt=pe({__name:"EnterLabResultsModal",props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{default:()=>({})},popoverOpen:{type:Boolean,default:!1},event:{default:""},title:{default:""},test_data:{}},emits:["closePopoover","closeModal","saved"],setup(v,{emit:p}){var D,w;const c=v;let B=y([]);Oe();const K=Le(),{patient:U}=ie(K),_=y(null),N=y(((D=c.test_data)==null?void 0:D.tests[0])||{}),l=y(((w=N.value)==null?void 0:w.name)||""),F=()=>{Ce.dismiss()},R=async H=>{let g;M.getPouchDbStatus()||M.getLanConnectionStatus()?g=await we("test_result_indicators",{selector:{concept_id:H.concept_id}}):g=await dt.getTestIndicatorsWithID(H.concept_id),g.forEach(a=>{let I={componentType:"inputField",name:a.name,header:a.name,grid:{s:"3"}};if((a.name=="RBS"||a.name=="FBS")&&(I={...I,unit:"mg/dl"}),a.name=="MRDT"||a.name=="Tuberculosis program"||a.name=="Vdrl"||a.name=="Hepatitis B"||a.name=="Lam"||a.name=="CrAg"||a.name=="CD4 count"||a.name=="Leukocytes"||a.name=="Protein"||a.name=="Nitrite"||a.name=="Urine Ketones"||a.name=="HIV test"){let b=[];(a.name=="MRDT"||a.name=="Vdrl"||a.name=="Hepatitis B"||a.name=="CrAg"||a.name=="Lam")&&(b=[{id:"1",name:"Positive"},{id:"2",name:"Negative"},{id:"3",name:"Invalid"}]),a.name=="Tuberculosis program"&&(b=[{id:"1",name:"Scanty"},{id:"2",name:"Negative"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"}]),a.name=="CD4 count"&&(b=[{id:"1",name:"below reference line"},{id:"2",name:"above reference line"}]),(a.name=="Leukocytes"||a.name=="Protein"||a.name=="Nitrite"||a.name=="Ketones"||a.name=="Urine Ketones")&&(b=[{id:"2",name:"Negative"},{id:"1",name:"Trace"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"},{id:"6",name:"4+"}]),a.name=="HIV test"&&(b=[{id:"2",name:"Positive"},{id:"1",name:"Negative"},{id:"3",name:"Invalid"}]),I={componentType:"multiSelectInputField",header:a.name,name:a.name,trackBy:"id",icon:Q.search,options:b}}B.value.push(I)})},P=async()=>{var I,b,J;const H=(I=_.value)==null?void 0:I.getFormValues(),g=await Promise.all(Object.entries(H).map(async([W,x])=>({name:W,concept_id:await V.getConceptID(W,!0),value:(x==null?void 0:x.name)||x}))),a=await $e.buildResults(g);await $e.saveResults(U.value,a,(b=N.value)==null?void 0:b.id,(J=c.test_data)==null?void 0:J.offline_id),ce("Lab results saved successfully"),F()};return De(async()=>{await R(N.value)}),(H,g)=>{const a=k("ion-icon");return h(),z(ne,null,[n(f(ke),null,{default:r(()=>[n(f(ge),null,{default:r(()=>[n(f(Y),null,{default:r(()=>[O("div",ct,[n(a,{icon:f(Q).saveWhite,class:"sub-menu-icon",style:{"font-size":"1.6rem"}},null,8,["icon"]),O("b",ut,"Enter lab results for "+se(l.value),1)])]),_:1}),n(f(_e),{slot:"end"},{default:r(()=>[n(f(Y),null,{default:r(()=>[n(f(he),{onClick:g[0]||(g[0]=I=>F()),fill:"solid"},{default:r(()=>[O("span",pt,[O("div",mt,[n(a,{icon:f(We),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),g[1]||(g[1]=O("span",{style:{"margin-left":"6px"}},"Close",-1))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(f(de),{class:"ion-padding"},{default:r(()=>[n(Te,{formData:f(B),ref_key:"formRef",ref:_},null,8,["formData"])]),_:1}),n(f(Ae),null,{default:r(()=>[n(f(ge),null,{default:r(()=>[n(f(_e),{slot:"end"},{default:r(()=>[n(f(Y),null,{default:r(()=>[n(f(he),{onClick:P,color:"primary",fill:"solid"},{default:r(()=>[O("span",ft,[O("div",bt,[n(a,{icon:f(je),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),g[2]||(g[2]=O("span",{style:{"margin-left":"6px"}},"Save",-1))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),yt=me(vt,[["__scopeId","data-v-9a2f68e9"]]),gt=pe({components:{IonButtons:_e,IonButton:he,IonModal:Qe,IonHeader:ke,IonContent:de,IonToolbar:ge,IonTitle:Y,IonItem:Ye,IonList:Xe,IonAvatar:Ge,IonImg:Ue,IonLabel:Ke,IonPage:qe,IonMenu:ze,BasicForm:lt,IonFooter:Ae,DynamicButton:ae},data(){return{popoverStatus:null}},props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{default:[]},popoverOpen:{type:Boolean,default:!1},event:{type:Event,default:""},title:{type:String,default:""}},methods:{dismiss(){Ce.dismiss()},nav(v,p){this.dismiss(),this.$router.push(v)}}}),_t={class:"modal_wrapper"},ht={class:"center text_12"};function St(v,p,c,B,K,U){const _=k("ion-title"),N=k("ion-button"),l=k("ion-buttons"),F=k("ion-toolbar"),R=k("ion-header"),P=k("ion-skeleton-text"),D=k("ion-col"),w=k("ion-row"),H=k("ion-content"),g=k("ion-modal");return h(),$(g,{"is-open":v.popoverOpen,"show-backdrop":!0,onDidDismiss:p[1]||(p[1]=a=>v.$emit("closePopover",!1)),"keyboard-close":v.keyboardClose},{default:r(()=>[n(R,null,{default:r(()=>[n(F,null,{default:r(()=>[n(_,null,{default:r(()=>[O("b",null,"Lab results for ("+se(v.content.name)+") test",1)]),_:1}),n(l,{slot:"end"},{default:r(()=>[n(N,{onClick:p[0]||(p[0]=a=>v.$emit("closeModal"))},{default:r(()=>[...p[2]||(p[2]=[G("Close",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),n(H,{class:"ion-padding"},{default:r(()=>[O("div",_t,[O("div",ht,[n(w,null,{default:r(()=>[(h(!0),z(ne,null,Pe(v.content.result,(a,I)=>(h(),$(D,{size:"4",key:I},{default:r(()=>[n(w,null,{default:r(()=>[n(D,{size:"8"},{default:r(()=>[a.indicator&&a.indicator.name?(h(),z(ne,{key:0},[G(se(a.indicator.name),1)],64)):(h(),$(P,{key:1,animated:"",style:{width:"80%"}}))]),_:2},1024),n(D,{class:"bold",size:"0.5"},{default:r(()=>[...p[3]||(p[3]=[G(":",-1)])]),_:1}),n(D,{class:"bold",size:"2"},{default:r(()=>[G(se(a.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])])]),_:1})]),_:1},8,["is-open","keyboard-close"])}const Tt=me(gt,[["render",St],["__scopeId","data-v-a0bebd3e"]]),wt=pe({__name:"AddLabTestModal",setup(v){const p=Le(),c=Me(),{patient:B}=ie(p),K=Oe(),U=Q,_=y(""),N=y(""),l=y(""),F=y(""),R=y(null),P=y(null),D=y([]),w=Se(()=>[{componentType:"multiSelectInputField",name:"test",header:"Test",options:F.value,grid:{s:"6"},icon:Q.search,validation:Ne.required,onChange:u=>{_.value=u.name,b()&&(l.value=[])}},{componentType:"multiSelectInputField",name:"specimen",header:"Specimen",grid:{s:"6"},icon:Q.search,validation:Ne.required,value:l.value.length==1?l.value[0]:"",options:l.value.length>1?l.value:[]}]),H=Se(()=>[{componentType:"checkboxField",type:"single",name:"HIV test",label:"HIV test",value:_.value=="HIV test"},{componentType:"checkboxField",type:"single",name:"Hepatitis B Test",label:"Hepatitis B Test",value:_.value=="Hepatitis B Test"},{componentType:"checkboxField",type:"single",name:"Syphilis",label:"Syphilis",value:_.value=="Syphilis"},{componentType:"checkboxField",type:"single",name:"Hepatitis C Test",label:"Hepatitis C Test",value:_.value=="Hepatitis C Test"}]);X(_,async u=>{if(u)try{l.value=await g(u)}catch(i){l.value=[]}else l.value=[]});const g=async u=>{let i;return M.getPouchDbStatus()||M.getLanConnectionStatus()?i=await we("specimens"):i=await q.getSpecimens("",1e3),await V.getConceptSet(u,"",{names:i.map(C=>C.name)})};X(B,async()=>{N.value=[...B.value.labOrders.saved,...B.value.labOrders.unsaved]},{deep:!0});const a=()=>{Ce.dismiss()},I=()=>{_.value=""},b=()=>_.value=="HIV test"||_.value=="Syphilis"||_.value=="Hepatitis B Test"||_.value=="Hepatitis C Test",J=async()=>M.getPouchDbStatus()||M.getLanConnectionStatus()?await we("test_types"):await q.getTestTypes(),W=async()=>{if(!await re("referral",9)){Fe("No HIV Test selected");return}ce("HIV Test sent to HTS successfully"),await oe()},x=async()=>{if(await re("",4))try{await Ve.addPatientToStage(B.value,"LAB"),ce("The patient successfully sent to the lab. You may now attend to other patients."),await oe()}catch(u){console.error("Error sending to lab:",u),ue("Failed to send patient to lab")}a()},oe=async()=>{a();const u=String(localStorage.getItem("locationID"));if(!u){ue("Location not found");return}await c.refresh(u),await K.push("/home")},re=async(u="",i)=>{try{const d=P.value.getFormValues();if(!d||Object.keys(d).length===0||!Object.values(d).some(A=>A))return!1;const S=Object.keys(d).map(async A=>{d[A]&&D.value.push({order_type_id:i,concept_id:await V.getConceptID(A,!0),name:A,specimen:"Blood",reason:"Routine",specimenConcept:await V.getConceptID("Blood",!0),referral:u})});return await Promise.all(S),D.value.length>0&&await le(D.value),d}catch(d){return console.error("Error saving HIV tests:",d),!1}},fe=async()=>{if(R.value.validateForm()){Fe("Test not saved");return}if(!R.value){console.error("Form reference is not available");return}const u=R.value.getFormValues(),i=u.test.name,d=u.specimen.name,C=[{concept_id:u.test.concept_id,name:i,specimen:d,reason:"Routine",specimenConcept:await V.getConceptID(d,!0)}];await le(C),a()},le=async u=>{var C,S,A,e,o,s;const i=await q.buildLabOrders("",u),d=JSON.parse(JSON.stringify(B.value));(A=(S=(C=d.labOrders)!=null?C:d.labOrders={}).unsaved)!=null||(S.unsaved=[]),(s=(o=(e=d.labOrders)!=null?e:d.labOrders={}).saved)!=null||(o.saved=[]),d.labOrders.unsaved.push(...i),await Ie(d),N.value=[...d.labOrders.saved,...d.labOrders.unsaved]};return De(async()=>{F.value=await J()}),(u,i)=>{const d=k("ion-icon"),C=k("ion-footer");return h(),z(ne,null,[n(f(ke),{style:{display:"flex","justify-content":"space-between"}},{default:r(()=>[b()?E("",!0):(h(),$(f(Y),{key:0,class:"modalTitle"},{default:r(()=>[...i[5]||(i[5]=[G("Add Lab Test",-1)])]),_:1})),b()?(h(),$(f(Y),{key:1,class:"modalTitle"},{default:r(()=>[...i[6]||(i[6]=[G("Add HIV Test",-1)])]),_:1})):E("",!0),n(d,{onClick:i[0]||(i[0]=S=>a()),style:{"padding-top":"10px","padding-right":"10px"},icon:f(U).cancel},null,8,["icon"])]),_:1}),b()?E("",!0):(h(),$(f(de),{key:0,class:"ion-padding",style:{"--background":"#fff"}},{default:r(()=>[n(Te,{formData:w.value,ref_key:"formRef",ref:R},null,8,["formData"])]),_:1})),b()?(h(),$(f(de),{key:1,class:"ion-padding",style:{"--background":"#fff"}},{default:r(()=>[n(Te,{formData:H.value,ref_key:"formRefHiv",ref:P},null,8,["formData"])]),_:1})):E("",!0),n(C,{collapse:"fade",class:"ion-no-border"},{default:r(()=>[b()?E("",!0):(h(),$(ae,{key:0,onClick:i[1]||(i[1]=S=>fe()),name:"Save",fill:"solid",style:{float:"right",margin:"2%"}})),b()?(h(),$(ae,{key:1,onClick:i[2]||(i[2]=S=>W()),name:"Send to HTS",fill:"solid",style:{float:"right",margin:"2%"}})):E("",!0),b()?(h(),$(ae,{key:2,onClick:i[3]||(i[3]=S=>x()),name:"Send to Lab",fill:"solid",style:{float:"right",margin:"2%"}})):E("",!0),b()?(h(),$(ae,{key:3,onClick:i[4]||(i[4]=S=>I()),color:"danger",name:"Back",fill:"solid",style:{margin:"2%"}})):E("",!0)]),_:1})],64)}}}),It=me(wt,[["__scopeId","data-v-ad29d329"]]),Ot={class:"container"},Dt={class:"table-responsive"},kt=pe({__name:"LabOrdersList",props:{propOrders:{default:()=>[]}},setup(v){const p=v,c=Oe(),B=Ze(),K=Le(),U=at(),_=Me(),{hasWaitingList:N}=it(),{patient:l}=ie(K),{investigations:F}=ie(U),R=y(),P=y([]),D=y(["Lab Test","Specimen","Accession Number","Location","Order Date","Result","Action"]),w=y([]),H=y([]),g=y(""),a=y(!1),I=y(""),b=et(()=>{var e;return(e=l.value)==null?void 0:e.labOrders}),J=Q,W=y({responsive:!0,select:!1,layout:{topStart:"buttons",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},ordering:!1,buttons:[{text:" <b>+ Add other tests </b>",className:"add-test text-white",action:async()=>{await re()}},{text:" <b>Send to Lab </b>",className:"send-lab text-white",attr:{id:"send-to-lab-btn"},action:async()=>{await fe()}}]}),x=()=>{var t;const o=((t=ot().activeProgram)==null?void 0:t.program_id)===14&&!N("Waiting for Laboratory"),s=document.getElementById("send-to-lab-btn");s&&(o&&u.value?s.style.display="inline":s.style.display="none")},oe=async e=>{const o=[{concept_id:await V.getConceptID(e.name,!0),name:e.name,specimen:e.specimen,reason:"Routine",specimenConcept:await V.getConceptID(e.specimen,!0)}];let t=(await q.buildLabOrders("",o))[0];if(t.order_date=t.date||te.sessionDate(),t.specimen.name||(t.specimen.name=await V.getConceptName(t.specimen.concept_id)),t.tests&&t.tests.length>0)for(let m=0;m<t.tests.length;m++)t.tests[m].name||(t.tests[m].name=await V.getConceptName(t.tests[m].concept_id));l.value.labOrders.unsaved.push(t),await Ie(l.value),await S()},re=async()=>{await xe(It,{class:"lab-results-modal"},!0,{title:"name"}),await S()},fe=async()=>{await rt("Do you want to send this patient to the lab?",{cancelBtnLabel:"Cancel",confirmBtnLabel:"Send to Lab",returnName:!0})=="Confirm"&&await le()},le=async()=>{try{const e=String(localStorage.getItem("locationID"));if(!e){ue("Location not found");return}await Ve.addPatientToStage(l.value,"LAB"),await _.refresh(e),await c.push("home"),ce("The patient successfully sent to the lab. You may now attend to other patients.")}catch(e){console.error("Error sending to lab:",e),ue("Failed to send patient to lab")}},u=Se(()=>{const e=b.value;if(!e)return!1;const o=e.saved||[],s=e.unsaved||[],t=[...o,...s];return t.length===0?!1:t.some(m=>!(m!=null&&m.tests)||!Array.isArray(m.tests)?!1:m.tests.some(L=>!(L!=null&&L.result)||L.result.length===0))}),i=async()=>{var o,s,t,m,L;if(!((o=l.value)!=null&&o.labOrders)||(w.value=[...(t=(s=l.value)==null?void 0:s.labOrders)==null?void 0:t.saved,...(L=(m=l.value)==null?void 0:m.labOrders)==null?void 0:L.unsaved],!w.value))return;const e=await w.value.filter(T=>te.toStandardHisFormat(te.sessionDate())===te.toStandardHisFormat(T.order_date));e.length>0?F.value[0].selectedData=e:F.value[0].selectedData=""},d=async(e,o)=>{var t,m,L;if(await nt("Do you want to delete ".concat(e.tests[0].name," ?"),o)){const T=JSON.parse(JSON.stringify(l.value));T.labOrders.saved.some(j=>{var Z,Be;return j.order_date===e.order_date&&((Z=j==null?void 0:j.tests[0])==null?void 0:Z.name)==((Be=e==null?void 0:e.tests[0])==null?void 0:Be.name)})?(T.labOrders.saved=C(T.labOrders.saved,e.tests[0].name,e.order_date),(L=(m=(t=T.labOrders)!=null?t:T.labOrders={}).voided)!=null||(m.voided=[]),T.labOrders.voided.push({orderId:e.id,reason:"Mistake entry"})):T.labOrders.unsaved=C(T.labOrders.unsaved,e.tests[0].name,e.date),await Ie(T)}await S()},C=(e,o,s)=>e.filter(t=>(t.order_date===s&&(t.tests=t.tests.filter(m=>m.name!==o)),t.tests.length>0)),S=async()=>{if(!l.value.labOrders)return;w.value=[...l.value.labOrders.saved,...l.value.labOrders.unsaved];const e=A(w.value),s=(M.getProgramID()==32?[["FBS","Blood","","","","",'<button class="btn btn-outline-success btn-sm order-btn" data-id=\''.concat(JSON.stringify({name:"FBS",specimen:"Blood"}),"'>Order Test</button> ")],["HbA1c","Blood","","","","",'<button class="btn btn-outline-success btn-sm order-btn" data-id=\''.concat(JSON.stringify({name:"HbA1c",specimen:"Blood"}),"'>Order Test</button> ")],["RBS","Blood","","","","",'<button class="btn btn-outline-success btn-sm order-btn" data-id=\''.concat(JSON.stringify({name:"RBS",specimen:"Blood"}),"'>Order Test</button> ")]]:[]).filter(t=>!e.some(m=>m[0]===t[0]));P.value=[...e,...s],x(),await i(),Re.use(tt)},A=(e,o)=>e.length>0?e.flatMap(s=>s.tests.flatMap(t=>{var ve,j,Z;const m='<button class="btn btn-outline-success btn-sm result-btn" data-id=\''.concat(JSON.stringify(s),"'>Enter Result</button> "),L='<button class="btn btn-outline-secondary btn-sm view-btn" data-id=\''.concat(JSON.stringify(t),"'>").concat(J.view2,"</button> ");let T=m;((ve=t==null?void 0:t.result)==null?void 0:ve.length)==1?T=(t==null?void 0:t.result)!=null?((j=t==null?void 0:t.result[0])==null?void 0:j.value)||"":null:((Z=t==null?void 0:t.result)==null?void 0:Z.length)>1&&(t==null||t.result,T=L);let be="";return s!=null&&s.accession_number&&(be='<button class="btn btn-outline-secondary btn-sm" data-id=\''.concat(JSON.stringify(s),"'>").concat(J.print2,"</button>")),[[t==null?void 0:t.name,s==null?void 0:s.specimen.name,(s==null?void 0:s.accession_number)||"",(s==null?void 0:s.order_type_id)==9?"<span class='red-tag'>HTS</span>":"",te.toStandardHisFormat(s==null?void 0:s.order_date),T,be+'\n                        <button class="btn btn-outline-danger btn-sm delete-btn" data-id=\''.concat(JSON.stringify(s),"'>").concat(J.delete2,"</button>\n                        ")]]})):[];return De(async()=>{M.getProgramID()==14&&W.value.buttons.push(),await i(),await S(),ye(()=>{const e=R.value.dt;e.columns.adjust().draw(),e.on("click",".result-btn",async o=>{const s=o.target.getAttribute("data-id");await xe(yt,{class:"lab-results-modal"},!0,{test_data:JSON.parse(s)})}),e.on("click",".view-btn",o=>{const s=o.target.getAttribute("data-id");g.value=JSON.parse(s),a.value=!0}),e.on("click",".delete-btn",o=>{const s=o.target.getAttribute("data-id");d(JSON.parse(s),o)}),e.on("click",".order-btn",o=>{const s=o.target.getAttribute("data-id");oe(JSON.parse(s))})}),w.value=p.propOrders,I.value=new st(l.value.patientID),H.value=await M.getUserRoles()}),X(()=>B,async()=>{await S()},{deep:!0,immediate:!0}),X(()=>l,async()=>{await S()},{deep:!0,immediate:!0}),X(()=>{var e,o,s,t;return[(o=(e=l.value)==null?void 0:e.labOrders)==null?void 0:o.saved,(t=(s=l.value)==null?void 0:s.labOrders)==null?void 0:t.unsaved]},()=>{ye(()=>{x()})},{deep:!0,immediate:!0}),X(u,e=>{console.log("hasTestsWithoutResults changed:",e),ye(()=>{x()})},{deep:!0,immediate:!0}),(e,o)=>(h(),z("div",Ot,[O("div",Dt,[n(f(Re),{ref_key:"dataTable",ref:R,options:W.value,data:P.value,class:"display nowrap modern-table",width:"100%"},{default:r(()=>[O("thead",null,[O("tr",null,[(h(!0),z(ne,null,Pe(D.value,s=>(h(),z("th",{key:s},se(s),1))),128))])])]),_:1},8,["options","data"])]),n(Tt,{popoverOpen:a.value,content:g.value,onCloseModal:o[0]||(o[0]=s=>a.value=!1)},null,8,["popoverOpen","content"])]))}}),xt=me(kt,[["__scopeId","data-v-db7234c5"]]);export{xt as default};
