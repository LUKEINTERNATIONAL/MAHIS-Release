System.register(["./vendor-legacy-BV-WGgzk.js","../index-legacy-qZ3WdbT2.js","./NeonatalStepper-legacy-o9w6HIbW.js","./neonatal_service-legacy-DrxC7Fzm.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-CgZ9vWXi.js","./SaveProgressModal-legacy-BP4ET2UM.js","./images-legacy-gTS9vAYU.js","./enrollment-legacy-BWFKsMdA.js"],function(e,t){"use strict";var a,o,l,n,s,i,r,u,v,d,c,m,f,p,_,g,y,F,b,S,w,h,D,R,V,I,x,O,k,j,P,N,T;return{setters:[e=>{a=e.D,o=e.d,l=e.r,n=e.eR,s=e.w,i=e.e,r=e.f,u=e.l,v=e.u,d=e.c,c=e.O,m=e.m,f=e.a6,p=e.a3,_=e.an,g=e.aU,y=e.eS,F=e.H,b=e.J},e=>{S=e.aD,w=e._,h=e.cj,D=e.ck,R=e.T,V=e.u,I=e.t,x=e.G,O=e.s},e=>{k=e.j,j=e.k,P=e.l,N=e.N},e=>{T=e.N},null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".review-of-systems-section-wrapper[data-v-6b71ffe3],.review-of-systems-section-wrapper[data-v-ae40b2d0],.review-of-systems-section-wrapper[data-v-d18b28f7],.review-of-systems-section-wrapper[data-v-a2bf5654],.review-of-systems-section-wrapper[data-v-f42ebbfa],.review-of-systems-section-wrapper[data-v-d41ae811],.review-of-systems-section-wrapper[data-v-fd63510d]{display:flex;flex-direction:column;gap:1rem}.review-of-systems-page[data-v-31637e64]{--background: #f5f5f5}\n/*$vite$:1*/",document.head.appendChild(t);const A=()=>JSON.parse(JSON.stringify(k)),M=a("neonatalReviewOfSystemsStore",{state:()=>({activePatientId:null,formData:A(),storedForms:{}}),actions:{initializeForPatient(e){if(null==e)return this.activePatientId=null,void Object.assign(this.formData,A());this.activePatientId=e;const t=String(e),a=this.storedForms[t];a?Object.assign(this.formData,a):Object.assign(this.formData,A()),this.saveSnapshot()},saveSnapshot(){if(null==this.activePatientId)return;const e=String(this.activePatientId);this.storedForms[e]=JSON.parse(JSON.stringify(this.formData))},resetActiveForm(){Object.assign(this.formData,A()),this.saveSnapshot()},clearPatient(e){delete this.storedForms[String(e)]}},persist:{paths:["activePatientId","formData","storedForms"]}}),z={class:"review-of-systems-section-wrapper"},U=w(o({__name:"BowelMovementsSection",setup(e,{expose:t}){const a=l(null),o=j[0],d=o.formData,c=o.conditionalRules||[],m=n(P),f=e=>{m&&(m.is_baby_vomiting=e.is_baby_vomiting||"",m.frequency_of_vomiting=e.frequency_of_vomiting||"",m.passage_of_meconium=e.passage_of_meconium||"",m.frequency_of_stooling=e.frequency_of_stooling||"",m.color_of_stools=e.color_of_stools||"",m.consistency_of_stools=e.consistency_of_stools||"",m.blood_in_stools=e.blood_in_stools||"",m.mucus_in_stools=e.mucus_in_stools||"")};return s(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.formValues},e=>{e&&f(e)},{deep:!0}),s(()=>a.value,e=>{null!=e&&e.getFormValues&&f(e.getFormValues())},{immediate:!0}),t({getFormRef:()=>a.value,validateForm:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.validateForm)||void 0===t?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.getFormValues)||void 0===t?void 0:t.call(e))||{}}}),(e,t)=>(r(),i("div",z,[u(S,{formData:v(d),conditionalRules:v(c),ref_key:"formRef",ref:a},null,8,["formData","conditionalRules"])]))}}),[["__scopeId","data-v-6b71ffe3"]]),C={class:"review-of-systems-section-wrapper"},J=w(o({__name:"UrineOutputSection",setup(e,{expose:t}){const a=l(null),o=j[1],d=o.formData,c=o.conditionalRules||[],m=n(P),f=e=>{m&&(m.is_baby_passing_urine=e.is_baby_passing_urine||"",m.number_of_wet_nappies=e.number_of_wet_nappies||"",m.color_of_urine=e.color_of_urine||"",m.volume_ml=e.volume_ml||"")};return s(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.formValues},e=>{e&&f(e)},{deep:!0}),s(()=>a.value,e=>{null!=e&&e.getFormValues&&f(e.getFormValues())},{immediate:!0}),t({getFormRef:()=>a.value,validateForm:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.validateForm)||void 0===t?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.getFormValues)||void 0===t?void 0:t.call(e))||{}}}),(e,t)=>(r(),i("div",C,[u(S,{formData:v(d),conditionalRules:v(c),ref_key:"formRef",ref:a},null,8,["formData","conditionalRules"])]))}}),[["__scopeId","data-v-ae40b2d0"]]),q={class:"review-of-systems-section-wrapper"},E=w(o({__name:"GrowthSection",setup(e,{expose:t}){const a=l(null),o=j[2],d=o.formData,c=o.conditionalRules||[],m=n(P),f=e=>{m&&(m.weight_trend_since_birth=e.weight_trend_since_birth||"")};return s(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.formValues},e=>{e&&f(e)},{deep:!0}),s(()=>a.value,e=>{null!=e&&e.getFormValues&&f(e.getFormValues())},{immediate:!0}),t({getFormRef:()=>a.value,validateForm:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.validateForm)||void 0===t?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.getFormValues)||void 0===t?void 0:t.call(e))||{}}}),(e,t)=>(r(),i("div",q,[u(S,{formData:v(d),conditionalRules:v(c),ref_key:"formRef",ref:a},null,8,["formData","conditionalRules"])]))}}),[["__scopeId","data-v-d18b28f7"]]),G={class:"review-of-systems-section-wrapper"},B=w(o({__name:"MouthOropharynxSection",setup(e,{expose:t}){const a=l(null),o=j[3],d=o.formData,c=o.conditionalRules||[],m=n(P),f=e=>{m&&(m.does_baby_have_oral_thrush=e.does_baby_have_oral_thrush||"",m.does_baby_have_oral_sores=e.does_baby_have_oral_sores||"",m.does_baby_have_tongue_tie=e.does_baby_have_tongue_tie||"")};return s(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.formValues},e=>{e&&f(e)},{deep:!0}),s(()=>a.value,e=>{null!=e&&e.getFormValues&&f(e.getFormValues())},{immediate:!0}),t({getFormRef:()=>a.value,validateForm:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.validateForm)||void 0===t?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.getFormValues)||void 0===t?void 0:t.call(e))||{}}}),(e,t)=>(r(),i("div",G,[u(S,{formData:v(d),conditionalRules:v(c),ref_key:"formRef",ref:a},null,8,["formData","conditionalRules"])]))}}),[["__scopeId","data-v-a2bf5654"]]),H={class:"review-of-systems-section-wrapper"},$=w(o({__name:"AbdomenSection",setup(e,{expose:t}){const a=l(null),o=j[4],d=o.formData,c=o.conditionalRules||[],m=n(P),f=e=>{m&&(m.abdominal_distension=e.abdominal_distension||"",m.abdominal_pain=e.abdominal_pain||"",m.umbilical_condition=e.umbilical_condition||"")};return s(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.formValues},e=>{e&&f(e)},{deep:!0}),s(()=>a.value,e=>{null!=e&&e.getFormValues&&f(e.getFormValues())},{immediate:!0}),t({getFormRef:()=>a.value,validateForm:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.validateForm)||void 0===t?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.getFormValues)||void 0===t?void 0:t.call(e))||{}}}),(e,t)=>(r(),i("div",H,[u(S,{formData:v(d),conditionalRules:v(c),ref_key:"formRef",ref:a},null,8,["formData","conditionalRules"])]))}}),[["__scopeId","data-v-f42ebbfa"]]),W={class:"review-of-systems-section-wrapper"},K=w(o({__name:"MusculoskeletalSection",setup(e,{expose:t}){const a=l(null),o=j[5],d=o.formData,c=o.conditionalRules||[],m=n(P),f=e=>{m&&(m.skin_rash=e.skin_rash||"",m.talipes=e.talipes||"",m.extra_digits=e.extra_digits||"",m.spinal_bifida=e.spinal_bifida||"")};return s(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.formValues},e=>{e&&f(e)},{deep:!0}),s(()=>a.value,e=>{null!=e&&e.getFormValues&&f(e.getFormValues())},{immediate:!0}),t({getFormRef:()=>a.value,validateForm:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.validateForm)||void 0===t?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return(null===(e=a.value)||void 0===e||null===(t=e.getFormValues)||void 0===t?void 0:t.call(e))||{}}}),(e,t)=>(r(),i("div",W,[u(S,{formData:v(d),conditionalRules:v(c),ref_key:"formRef",ref:a},null,8,["formData","conditionalRules"])]))}}),[["__scopeId","data-v-d41ae811"]]),L={class:"review-of-systems-section-wrapper"},Q=w(o({__name:"SummarySection",setup(e,{expose:t}){const a=j[6],o=d(()=>a.formData.find(e=>"Alert"===e.componentType)),l=d(()=>a.formData.find(e=>"summaryField"===e.componentType)),s=n(P);return t({getFormRef:()=>null,validateForm:()=>null,getFormValues:()=>({...s||{}})}),(e,t)=>(r(),i("div",L,[o.value?(r(),c(h,{key:0,config:o.value,allFormValues:v(s)||{}},null,8,["config","allFormValues"])):m("",!0),l.value?(r(),c(D,{key:1,config:l.value,allFormValues:v(s)||{}},null,8,["config","allFormValues"])):m("",!0)]))}}),[["__scopeId","data-v-fd63510d"]]),X=o({name:"ReviewOfSystems",components:{IonContent:p,IonPage:f,Toolbar:R,NeonatalStepper:N,BowelMovementsSection:U,UrineOutputSection:J,GrowthSection:E,MouthOropharynxSection:B,AbdomenSection:$,MusculoskeletalSection:K,SummarySection:Q},setup(){const e=_(),t=V(),{patient:a}=g(t),o=l("1"),n=l(!1),i=M(),r=()=>{var e;const t=(e=>{const t=Number(e);return Number.isFinite(t)?t:null})(null===(e=a.value)||void 0===e?void 0:e.patientID);i.initializeForPatient(t)};r(),s(()=>{var e;return null===(e=a.value)||void 0===e?void 0:e.patientID},()=>r());const u=i.formData;y(P,u),s(()=>i.formData,()=>i.saveSnapshot(),{deep:!0});const v=l(j.map((e,t)=>({title:e.title,number:t+1,checked:!1,class:0===t?"open_step common_step":"common_step",last_step:t===j.length-1?"last_step":""}))),d=[{title:j[0].title,value:"1",component:U,configIndex:0},{title:j[1].title,value:"2",component:J,configIndex:1},{title:j[2].title,value:"3",component:E,configIndex:2},{title:j[3].title,value:"4",component:B,configIndex:3},{title:j[4].title,value:"5",component:$,configIndex:4},{title:j[5].title,value:"6",component:K,configIndex:5},{title:j[6].title,value:"7",component:Q,configIndex:6}];return{wizardData:v,stepperData:d,stepperTitle:"Review Of Systems",currentOpenStepper:o,updateStatus:e=>{e&&e.value&&v.value.forEach((t,a)=>{e.value===(a+1).toString()?(t.class="open_step common_step",t.checked=!1):a<parseInt(e.value)-1?(t.class="common_step color_white",t.checked=!0):(t.class="common_step",t.checked=!1)})},getSaveFunction:t=>t===d.length-1?async()=>{var t;if(null!==(t=a.value)&&void 0!==t&&t.patientID){if(!n.value)try{if(n.value=!0,!Object.values(u).some(e=>Array.isArray(e)?e.length>0:"boolean"==typeof e?!0===e:null!=e&&""!==e))return I("Please complete at least one section of the review"),void(n.value=!1);await T.saveReviewOfSystemsAssessment(a.value.patientID,u),x("Review of systems saved successfully"),await new Promise(e=>setTimeout(e,500)),e.push({path:"/neonatal/SystemicExamination"})}catch(o){console.error("Failed to save review of systems",o),O("Failed to save review of systems. Please try again."),n.value=!1}}else I("No patient selected")}:null,neonatalReviewOfSystemsSections:j,isSaving:n}}});e("default",w(X,[["render",function(e,t,a,o,l,n){const s=F("Toolbar"),i=F("NeonatalStepper"),v=F("ion-content"),d=F("ion-page");return r(),c(d,{class:"review-of-systems-page"},{default:b(()=>[u(s),u(v,{fullscreen:!0},{default:b(()=>[u(i,{wizardData:e.wizardData,StepperData:e.stepperData,stepperTitle:e.stepperTitle,openStepper:e.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:e.getSaveFunction,sectionsConfig:e.neonatalReviewOfSystemsSections,flowType:"reviewOfSystems",onUpdateStatus:e.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","sectionsConfig","onUpdateStatus"])]),_:1})]),_:1})}],["__scopeId","data-v-31637e64"]]))}}});
