import{d as E,r as h,a as L,a2 as W,c as x,e as u,f as o,Q as M,m as I,k as s,u as l,P as U,H as S,l as p,a3 as R,fj as z,N as G,bP as P,F as $,T as B,bW as q,bg as K,I as _,p as T,L as Q,fk as j,bq as H}from"./vendor-CJ2tyHrn.js";import{_ as D,T as Z,cm as J}from"../index-CPIhguZJ.js";import{neonatalInfographics as X}from"./infographics-BZUSnqEc.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-BtvCa6MI.js";import"./images-142qstiX.js";const Y={class:"toc-search"},ee={class:"toc-list"},ae=["onClick"],se={class:"category-name"},ne={class:"category-count"},te={key:0,class:"category-items"},oe=["href","onClick"],ie=E({__name:"TableOfContents",props:{categories:{},activeGuide:{}},emits:["guide-selected"],setup(k,{emit:C}){const v=k,c=C,b=z,g=q,w=K,d=h(!1),e=h(!1),a=h(""),n=h(new Set);L(()=>{v.categories.forEach(r=>{n.value.add(r.name)}),m(),window.addEventListener("resize",m),window.addEventListener("scroll",N)}),W(()=>{window.removeEventListener("resize",m),window.removeEventListener("scroll",N)});const m=()=>{d.value=window.innerWidth<1024,d.value||(e.value=!1)},y=()=>{e.value=!e.value},V=r=>{n.value.has(r)?n.value.delete(r):n.value.add(r)},F=x(()=>{if(!a.value.trim())return v.categories.map(t=>({...t,expanded:n.value.has(t.name)}));const r=a.value.toLowerCase();return v.categories.map(t=>({...t,items:t.items.filter(i=>i.title.toLowerCase().includes(r)),expanded:!0})).filter(t=>t.items.length>0)}),O=()=>{},A=r=>{c("guide-selected",r),d.value&&(e.value=!1)},N=()=>{};return(r,t)=>(o(),u("div",{class:T(["toc-container",{"toc-mobile-open":e.value}])},[d.value?(o(),M(l(U),{key:0,class:"toc-toggle",fill:"clear",onClick:y},{default:S(()=>[p(l(G),{icon:l(b),slot:"start"},null,8,["icon"]),t[1]||(t[1]=R(" Table of Contents ",-1))]),_:1})):I("",!0),s("div",{class:T(["toc-content",{"toc-hidden":d.value&&!e.value}])},[s("div",Y,[p(l(P),{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=i=>a.value=i),placeholder:"Search guides...",onIonInput:O},null,8,["modelValue"])]),s("div",ee,[(o(!0),u($,null,B(F.value,i=>(o(),u("div",{key:i.name,class:"toc-category"},[s("div",{class:"category-header",onClick:f=>V(i.name)},[p(l(G),{icon:i.expanded?l(g):l(w),class:"expand-icon"},null,8,["icon"]),s("span",se,_(i.name),1),s("span",ne,_(i.items.length),1)],8,ae),i.expanded?(o(),u("div",te,[(o(!0),u($,null,B(i.items,f=>(o(),u("a",{key:f.key,href:"#guide-".concat(f.key),class:T(["toc-item",{active:k.activeGuide===f.key}]),onClick:fe=>A(f.key)},[t[2]||(t[2]=s("span",{class:"item-dot"},null,-1)),R(" "+_(f.title),1)],10,oe))),128))])):I("",!0)]))),128))])],2),d.value&&e.value?(o(),u("div",{key:1,class:"toc-overlay",onClick:y})):I("",!0)],2))}}),le=D(ie,[["__scopeId","data-v-351bbb11"]]),re={class:"guides-container"},ce={class:"toc-sidebar"},ue={class:"guides-main"},de={class:"guides-scroll-area"},me={key:0,class:"guides-list"},ve={class:"guide-header"},ge={key:1,class:"guides-placeholder"},pe=E({__name:"NeonatalGuides",setup(k){const C=j,v=h(""),c=h(null),b=x(()=>{var e;return(e=c.value)!=null&&e.data?{componentType:"infographicField",infographicData:c.value.data,displayMode:"list",showStepNumber:!1}:{componentType:"infographicField",infographicData:{key:"empty",sections:[]},displayMode:"list",showStepNumber:!1}}),g=x(()=>[{name:"Emergency Management",keys:["EmergencyManagement","EmergencyTriage","EmergencyTriageObservations"]},{name:"Respiratory Assessment & Management",keys:["RespiratoryDistressSigns","ListenForBreathingSounds","RespiratoryRate","GruntingSevereChestIndrawings","GruntingIndrawingManagement","BabyRecoveredStillSevereRespiratory","BagValveMaskUsage"]},{name:"Oxygenation & Monitoring",keys:["StartMeasuringOxygenSaturation","CentralCyanosis","CentralCyanosisManagement"]},{name:"Temperature & Thermal Regulation",keys:["KeepWarmDryCovered","WarmTheBody","KeepTheBodyWarm"]},{name:"Neurological Assessment",keys:["ConsulvionsTwitching","ConvulsionsManagement","NeurologicalToneAssessment","NeurologicalSuckReflex","NeurologicalGraspReflex","NeurologicalMoreReflex"]},{name:"Referral & Transport",keys:["ReferralInstructions"]}].map(a=>({name:a.name,expanded:!0,items:a.keys.map(n=>{const m=X.find(y=>y.key===n);return m?{key:n,title:w(n),data:m}:null}).filter(n=>n!==null)}))),w=e=>e.replace(/([A-Z])/g," $1").replace(/^./,a=>a.toUpperCase()).trim(),d=e=>{v.value=e;for(const a of g.value){const n=a.items.find(m=>m.key===e);if(n){c.value=n;break}}};return L(()=>{if(g.value.length>0&&g.value[0].items.length>0){const e=g.value[0].items[0];c.value=e,v.value=e.key}}),(e,a)=>(o(),M(l(H),null,{default:S(()=>[p(Z),p(l(Q),{fullscreen:!0,class:"guides-content","scroll-y":!1},{default:S(()=>[s("div",re,[s("aside",ce,[p(le,{categories:g.value,"active-guide":v.value,onGuideSelected:d},null,8,["categories","active-guide"])]),s("main",ue,[s("div",de,[c.value?(o(),u("div",me,[s("div",ve,[s("h1",null,_(c.value.title),1)]),(o(),M(J,{key:c.value.key,config:b.value,"all-form-values":{}},null,8,["config"]))])):(o(),u("div",ge,[p(l(G),{icon:l(C),class:"placeholder-icon"},null,8,["icon"]),a[0]||(a[0]=s("h2",null,"Select a guide to view",-1)),a[1]||(a[1]=s("p",null,"Choose an instruction guide from the menu to display its content",-1))]))])])])]),_:1})]),_:1}))}}),we=D(pe,[["__scopeId","data-v-a21ca9ed"]]);export{we as default};
