System.register(["./vendor-legacy-CKuXRHbj.js","../index-legacy-BbRj4XQc.js","./lodash-legacy-pOOc9Efu.js","./BasicForm-legacy-DNfJv05i.js","./customDatePicker-legacy-BD-tOuf1.js","./VitalsMixin.vue_vue_type_script_lang-legacy-Dl9CXia0.js","./formatServerData-legacy-MQtXFeQZ.js"],function(t,e){"use strict";var a,i,n,s,l,o,d,r,u,c,v,h,p,g,m,b,y,f,x,D,w,H,I,C,k,T,P,B,V,_,S,O,W,M,F,R,j,N,A,E,z,U,$,J,q,G;return{setters:[t=>{a=t.D,i=t.d,n=t.ah,s=t.b1,l=t.G,o=t.E,d=t.ai,r=t.aj,u=t._,c=t.I,v=t.a3,h=t.R,p=t.am,g=t.be,m=t.aS,b=t.H,y=t.e,f=t.m,x=t.f,D=t.k,w=t.O,H=t.Q,I=t.K,C=t.l,k=t.J,T=t.a6},t=>{P=t.l,B=t.j,V=t.B,_=t.aP,S=t.N,O=t.u,W=t.H,M=t._,F=t.bd,R=t.M,j=t.S,N=t.bS,A=t.G,E=t.t,z=t.ce},t=>{U=t.l},t=>{$=t.B},t=>{J=t.c},t=>{q=t._},t=>{G=t.a}],execute:function(){var e=document.createElement("style");e.textContent=".vitals_title[data-v-07214b1e]{margin-bottom:50px}.input-with-icon[data-v-07214b1e]{position:relative}.input-icon[data-v-07214b1e]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-07214b1e]{padding-bottom:15px}h5[data-v-07214b1e]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-07214b1e]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.OtherVitalsHeading[data-v-07214b1e]{display:flex;justify-content:space-between;margin:20px;line-height:60px;flex-direction:column}.vitalsContent[data-v-07214b1e]{height:500px}.saveBtn[data-v-07214b1e]{display:flex;justify-content:space-between;margin:20px;width:330px;align-items:center}.btnContent[data-v-07214b1e]{display:flex;justify-content:center;line-height:60px}.modal_wrapper[data-v-07214b1e]{padding:0 10px;background:#fff}.TodaysDate[data-v-07214b1e]{display:flex;align-items:center}.TodaysDate span[data-v-07214b1e]{margin-left:5px}.lbl-tl[data-v-db5e7dd3]{min-width:20px;color:#b3b3b3!important;white-space:nowrap}.lbl-ct[data-v-db5e7dd3]{white-space:nowrap;color:#08475e}.pim-cls-1[data-v-db5e7dd3]{--background: #ffff}ion-footer[data-v-db5e7dd3]{--ion-toolbar-background: #fff}.dashed-hr[data-v-db5e7dd3]{border:none;border-top:2px dashed #b3b3b3;margin:20px 0}.modal_wrapper[data-v-db5e7dd3]{padding:0 10px;background:#fff}.OtherVitalsTitle[data-v-db5e7dd3]{font-style:normal;font-weight:600;font-size:16px;color:#00190e}.OtherVitalsHeading[data-v-db5e7dd3]{display:flex;justify-content:space-between;margin:10px;line-height:40px;flex-direction:column}.vitalsContent[data-v-db5e7dd3]{height:500px;margin:10px}.saveBtn[data-v-db5e7dd3]{display:flex;justify-content:space-between;margin:20px;width:330px;align-items:center}.btnContent[data-v-db5e7dd3]{display:flex;justify-content:center;line-height:60px}.TodaysDate[data-v-db5e7dd3]{display:flex;align-items:center}.TodaysDate span[data-v-db5e7dd3]{margin-left:5px}\n/*$vite$:1*/",document.head.appendChild(e);const L=[{data:{rowData:[{colData:[{inputHeader:"Systolic Pressure",unit:"mmHg",icon:P.systolicPressure,value:"",name:"Systolic",required:!0,eventType:"input",disabled:!1,valueType:"number",validationFunctionName:"vitalsSystolic"},{inputHeader:"Diastolic pressure",unit:"mmHg",icon:P.diastolicPressure,value:"",name:"Diastolic",required:!0,eventType:"input",disabled:!1,valueType:"number",validationFunctionName:"vitalsDiastolic"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"bp",index:""}],previousView:{name:"vitals"}},{data:{rowData:[{colData:[{inputHeader:"Temperature",unit:"C",icon:P.temprature,value:"",name:"Temperature",eventType:"input",validationFunctionName:"vitalsTemperature",valueType:"number"},{inputHeader:"Pulse rate",unit:"BMP",icon:P.pulse,value:"",name:"Pulse",eventType:"input",validationFunctionName:"vitalsPulseRate",valueType:"number"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"temp",index:""},{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"pulse",index:""}]},{data:{rowData:[{colData:[{inputHeader:"Respiratory rate",unit:"BMP",icon:P.respiratory,value:"",name:"Respiratory rate",eventType:"input",validationFunctionName:"vitalsRespiratoryRate",valueType:"number"},{inputHeader:"Oxygen saturation",unit:"%",icon:P.oxgenStaturation,value:"",name:"SAO2",eventType:"input",validationFunctionName:"vitalsOxygenSaturation",valueType:"number"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"respiratory",index:""},{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"oxygen",index:""}]}],K=a("immunizationVitalsStore",{state:()=>({vitals:[...L]}),actions:{setVitals(t){this.vitals=t},getInitialVitals:()=>[...U.cloneDeep(L)]},persist:!0}),Q=i({mixins:[q],components:{IonContent:v,IonHeader:c,IonItem:u,IonList:r,IonMenu:d,IonTitle:o,IonToolbar:l,IonInput:s,BasicInputField:V,BasicForm:$,PreviousVitals:B,customDatePicker:J},data:()=>({iconsContent:P,vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1,pulseRate:!1},showPD:!1,todays_date:W.sessionDate(),formOpen:!0}),computed:{...n(O,["patient"]),...n(K,["vitals"])},async serverPrefetch(){this.updateVitalsStores()},async mounted(){this.cleanVitalForm(),this.vitalsData=this.vitals,await this.setTodayVitals(),await this.validateRowData()},watch:{vitals:{handler(){this.vitalsData=this.vitals},deep:!0},$route:{handler(){this.cleanVitalForm(),this.vitalsData=this.vitals}}},setup:()=>({checkmark:m,pulseOutline:g}),methods:{cleanVitalForm(){const t=K();t.setVitals(t.getInitialVitals())},navigationMenu(t){p.close(),this.$router.push(t)},updateVitalsStores(){K().setVitals(this.vitals)},async validateRowData(){const t=S(this.vitals,"Height (cm)","value"),e=S(this.vitals,"Weight","value"),a=S(this.vitals,"Systolic","value"),i=S(this.vitals,"Diastolic","value"),n=S(this.vitals,"Temperature","value"),s=S(this.vitals,"Pulse","value"),l=S(this.vitals,"Respiratory rate","value"),o=S(this.vitals,"SAO2","value");await this.setBMI(t,e),await this.updateBP(a,i);const d=this.getPulseRateStatus(s);await this.updateRate("pulse",s," BMP",d,4);const r=this.getTemperatureStatus(n);this.updateRate("temp",n,"Â°C",r,4);const u=this.getRespiratoryRateStatus(l);this.updateRate("respiratory",l,"BMP",u,6);const c=this.getOxygenSaturationStatus(o);this.updateRate("oxygen",o,"%",c,6)},showCPD(){this.showPD=!0},closeForm(){this.formOpen=!1},async saveVitals(){h.dismiss();const t=await G(this.vitals);if(t.length>0){var e;let a=null===(e=this.patient)||void 0===e?void 0:e.vitals;a.unsaved=[...a.unsaved,...t],await _(this.patient)}}}}),Y={key:0,class:"modal_wrapper"},Z={class:"OtherVitalsHeading"},X={class:"TodaysDate"},tt={class:""},et={class:"btnContent"},at={class:"saveBtn"};t("O",M(Q,[["render",function(t,e,a,i,n,s){const l=b("basic-form"),o=b("customDatePicker"),d=b("ion-icon"),r=b("ion-button");return t.formOpen?(x(),y("div",Y,[D("div",Z,[e[3]||(e[3]=D("div",{class:"OtherVitalsTitle"},"OTHER VITALS",-1)),D("div",X,[e[1]||(e[1]=H("Todays Date: ",-1)),e[2]||(e[2]=D("span",null,null,-1)),H(" "+I(t.todays_date),1)])]),D("div",tt,[C(l,{contentData:t.vitals,"onUpdate:inputValue":e[0]||(e[0]=e=>t.validateRowData())},null,8,["contentData"])]),t.showPD?(x(),w(o,{key:0})):f("",!0),D("div",et,[D("div",at,[D("div",null,[C(r,{class:"btnText",fill:"solid",onClick:t.saveVitals},{default:k(()=>[e[4]||(e[4]=H(" Done today ",-1)),C(d,{slot:"end",size:"small",icon:t.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1},8,["onClick"])]),e[6]||(e[6]=D("div",null,null,-1)),D("div",null,[C(r,{class:"btnText",fill:"solid",onClick:t.showCPD},{default:k(()=>[e[5]||(e[5]=H(" Done earlier ",-1)),C(d,{slot:"end",size:"small",icon:t.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1},8,["onClick"])])])])])):f("",!0)}],["__scopeId","data-v-07214b1e"]]));const it=i({name:"Home",components:{IonContent:v,IonHeader:c,IonPage:T,IonTitle:o,IonToolbar:l,BasicForm:$,customDatePicker:J},data:()=>({popoverOpen:!1,iconContent:P,event:null,BMI:"",showPD:!1,vitals_date:W.toStandardHisFormat(W.sessionDate()),formOpen:!0,checkUnderSixWeeks:!1,showDateBtns:!0}),computed:{...n(O,["patient"]),...n(z,["vitalsWeightHeight"])},watch:{patient:{async handler(){this.checkAge()}}},mounted(){this.checkAge()},setup(){},methods:{checkAge(){var t,e;U.isEmpty(null===(t=this.patient)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.birthdate)||(this.checkUnderSixWeeks=W.dateDiffInDays(W.sessionDate(),null===(e=this.patient)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)<42,this.controlHeight())},nav(t){this.$router.push(t)},formatBirthdate(){var t;return W.getBirthdateAge(null===(t=this.patient)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.birthdate)},controlHeight(){this.checkUnderSixWeeks?(R(this.vitalsWeightHeight,"Height (cm)","inputHeader","Height"),R(this.vitalsWeightHeight,"Height (cm)","inputDisplayNone",!0)):R(this.vitalsWeightHeight,"Height (cm)","inputDisplayNone",!1)},async validaterowData(t){const e=j.getUserID(),a=new N(this.patient.patientID,e),i=S(this.vitalsWeightHeight,"weight","value"),n=S(this.vitalsWeightHeight,"Height (cm)","value"),s=a.validator({inputHeader:"Height*",value:n}),l=a.validator({inputHeader:"Weight*",value:i});R(this.vitalsWeightHeight,"Height (cm)","alertsErrorMassage",s&&n?s.flat(1/0)[0]:""),R(this.vitalsWeightHeight,"weight","alertsErrorMassage",l&&i?l.flat(1/0)[0]:""),this.setBMI(i,n)},async saveVitals(){const t=j.getUserID(),e=new N(this.patient.patientID,t),a=S(this.vitalsWeightHeight,"weight","value");S(this.vitalsWeightHeight,"Height (cm)","value");const i=e.validator({inputHeader:"Weight*",value:a}),n=await G(this.vitalsWeightHeight);if(n.length>0&&null==i){const t=JSON.parse(JSON.stringify(this.patient));let e=null==t?void 0:t.vitals;e.unsaved=[...e.unsaved,...n],await _(t),A("Vitals saved successful"),this.cleanInputFields()}else E("Please complete the form")},cleanInputFields(){R(this.vitalsWeightHeight,"weight","value",""),R(this.vitalsWeightHeight,"Height (cm)","value",""),this.dismiss()},dismiss(){h.dismiss()},async setBMI(t,e){var a,i,n,s;null!==(a=this.patient)&&void 0!==a&&null!==(a=a.personInformation)&&void 0!==a&&a.gender&&null!==(i=this.patient)&&void 0!==i&&null!==(i=i.personInformation)&&void 0!==i&&i.birthdate&&(this.BMI=await F.getBMI(parseInt(t),parseInt(e),null===(n=this.patient)||void 0===n||null===(n=n.personInformation)||void 0===n?void 0:n.gender,W.calculateAge(null===(s=this.patient)||void 0===s||null===(s=s.personInformation)||void 0===s?void 0:s.birthdate,W.sessionDate()))),this.updateBMI()},async updateBMI(){var t,e,a,i,n,s;const l=null!==(t=null===(e=this.BMI)||void 0===e?void 0:e.color)&&void 0!==t?t:[],o=this.vitalsWeightHeight[0].alerts[0];o.icon=F.iconBMI(l),o.backgroundColor=l[0],o.textColor=l[1],o.index="BMI "+(null!==(a=null===(i=this.BMI)||void 0===i?void 0:i.index)&&void 0!==a?a:""),o.value=null!==(n=null===(s=this.BMI)||void 0===s?void 0:s.result)&&void 0!==n?n:""},showCPD(){this.showPD=!0,this.showDateBtns=!1},updateDate(t){this.vitals_date=W.toStandardHisFormat(t)}}}),nt={key:0,class:"pim-cls-1 modal_wrapper"},st={class:"center text_12"},lt={class:"btnContent"},ot={key:0,class:"saveBtn"},dt={key:1,class:"saveBtn"};t("w",M(it,[["render",function(t,e,a,i,n,s){const l=b("BasicForm"),o=b("ion-row"),d=b("customDatePicker"),r=b("ion-icon"),u=b("ion-button"),c=b("ion-col");return t.formOpen?(x(),y("div",nt,[e[7]||(e[7]=D("div",{class:"OtherVitalsHeading"},[D("div",{class:"OtherVitalsTitle"},"Add Weight/Height")],-1)),D("div",null,[D("div",st,[C(o,null,{default:k(()=>[C(l,{contentData:t.vitalsWeightHeight,"onUpdate:inputValue":e[0]||(e[0]=e=>t.validaterowData(e))},null,8,["contentData"])]),_:1})])]),t.showPD?(x(),w(d,{key:0,onDateChange:t.updateDate},null,8,["onDateChange"])):f("",!0),D("div",lt,[t.showDateBtns?(x(),y("div",ot,[D("div",null,[C(u,{class:"btnText",fill:"solid",onClick:e[1]||(e[1]=e=>t.saveVitals())},{default:k(()=>[e[3]||(e[3]=H(" Done today ",-1)),C(r,{slot:"end",size:"small",icon:t.iconContent.calenderwithPlus},null,8,["icon"])]),_:1})]),D("div",null,[C(u,{class:"btnText",fill:"solid",onClick:t.showCPD},{default:k(()=>[e[4]||(e[4]=H(" Done earlier ",-1)),C(r,{slot:"end",size:"small",icon:t.iconContent.calenderWithPenEdit},null,8,["icon"])]),_:1},8,["onClick"])])])):f("",!0),t.showDateBtns?f("",!0):(x(),y("div",dt,[C(o,null,{default:k(()=>[C(c,null,{default:k(()=>[C(u,{onClick:t.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:k(()=>[...e[5]||(e[5]=[H(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:1}),C(c,null,{default:k(()=>[C(u,{onClick:e[2]||(e[2]=e=>t.saveVitals()),class:"btnText",fill:"solid",style:{width:"130px"}},{default:k(()=>[...e[6]||(e[6]=[H(" save ",-1)])]),_:1})]),_:1})]),_:1})]))])])):f("",!0)}],["__scopeId","data-v-db5e7dd3"]]))}}});
