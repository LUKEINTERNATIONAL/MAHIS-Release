import{d as C,an as w,cG as B,r as u,aU as d,a as P,O as V,f,J as v,e as I,m as x,l as a,k as e,u as s,bw as D,a3 as O,bL as m,b8 as T,a6 as L}from"./vendor-BpjEhVym.js";import{u as N,aX as R,T as A,J as l,bI as $,q as U,s as W,_ as J}from"../index-BDuRxHcr.js";import{D as q}from"./DemographicBar-OCmZ9J-d.js";import{_ as E}from"./Vitals.vue_vue_type_script_setup_true_lang-yslcneFz.js";import{u as G}from"./useUserActivities-DND8theH.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-DMAoEdNS.js";const M={key:0,class:"spinner-overlay"},X={class:"container"},j={class:"vitals-header"},z={class:"back_profile"},F={class:"vitals-content"},H={class:"action-buttons"},K=C({__name:"Vitals",setup(Q){const o=w();B();const n=u(!1),{hasWaitingList:p,ready:_}=G(),S=N(),g=R(),{patient:h}=d(S),{vitals:Y}=d(g),i=u(null);P(async()=>{_.value});const k=()=>{o.push("home")},y=()=>{o.push("patientProfile")},b=async()=>{n.value=!0;const r=String(localStorage.getItem("locationID"));try{i.value&&await i.value.onSubmit()&&(await $.addPatientToStage(h.value,"CONSULTATION"),await U().refresh(r),p("Waiting for Consultation")?await o.push("OPDConsultationPlan"):await o.push("home"))}catch(t){console.error("An unexpected error occurred in saveVitals (parent):",t),W("An unexpected error occurred. Please try again.")}finally{n.value=!1}};return(r,t)=>(f(),V(s(L),null,{default:v(()=>[n.value?(f(),I("div",M,[a(s(D),{name:"bubbles"}),t[3]||(t[3]=e("div",{class:"loading-text"},"Please wait...",-1))])):x("",!0),a(A),a(s(O),{fullscreen:!0},{default:v(()=>[a(q),e("div",X,[e("div",j,[e("div",z,[a(l,{name:"Back to Waiting list",iconSlot:"start",fill:"clear",icon:s(m),"font-weight":"600",onClick:t[0]||(t[0]=c=>k())},null,8,["icon"]),a(l,{name:"Back to Profile",iconSlot:"start",fill:"clear",icon:s(m),"font-weight":"600",onClick:t[1]||(t[1]=c=>y()),style:{"margin-left":"15px"}},null,8,["icon"])]),t[4]||(t[4]=e("div",{class:"vitals-title"},[e("h4",null,"Vital Signs"),e("hr",{class:"title-line"})],-1))]),e("div",F,[a(E,{ref_key:"vitalsRef",ref:i},null,512)]),e("div",H,[a(l,{name:"Save Vitals",iconSlot:"start",fill:"solid",color:"primary",icon:s(T),onClick:t[2]||(t[2]=c=>b()),disabled:n.value},null,8,["icon","disabled"])])])]),_:1})]),_:1}))}}),it=J(K,[["__scopeId","data-v-4f009c82"]]);export{it as default};
