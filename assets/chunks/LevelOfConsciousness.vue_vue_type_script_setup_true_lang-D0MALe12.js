import{u as D,H as O,z as f,J as A,b as W,F as x,t as C}from"../index-BqlopBXU.js";import{c as t,d as E,b2 as I,r as h,e as V,f as r,O as g,k as M,u as T,K as k}from"./vendor-Do1wNTJR.js";const R=t(()=>[{componentType:"radioButtonField",header:"Eye opening response",name:"Eye opening response",obsValueType:"value_coded",type:"inline",options:[{label:"Spontaneously",value:"Spontaneously"},{label:"To speech",value:"To speech"},{label:"To pain",value:"To pain"},{label:"No response",value:"No response"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best verbal response",name:"Best verbal response",obsValueType:"value_coded",type:"inline",options:[{label:"Oriented to time, place and person",value:"Oriented to time, place and person"},{label:"Confused",value:"Confused"},{label:"Inappropriate words",value:"Inappropriate words"},{label:"Incomprehensible sounds",value:"Incomprehensible sounds"},{label:"No response",value:"No response"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best motor response",name:"Best motor response",obsValueType:"value_coded",type:"inline",options:[{label:"Obeys commands",value:"Obeys commands"},{label:"Moves to localised pain",value:"Moves to localised pain"},{label:"Flexion withdrawal from pain",value:"Flexion withdrawal from pain"},{label:"Abnormal flexion (decorticate)",value:"Abnormal flexion (decorticate)"},{label:"Abnormal extension (decerebrate)",value:"Abnormal extension (decerebrate)"},{label:"No response",value:"No response"}]}]),L=t(()=>[{componentType:"radioButtonField",header:"Eye opening response",name:"Eye opening response",obsValueType:"value_coded",type:"inline",options:[{label:"Directed eye movements",value:"Directed eye movements"},{label:"Not directed",value:"Not directed"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best verbal response",name:"Best verbal response",obsValueType:"value_coded",type:"inline",options:[{label:"Appropriate cry",value:"Appropriate cry"},{label:"Inappropriate cry or moan",value:"Inappropriate cry or moan"},{label:"No cry",value:"No cry"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best motor response",name:"Best motor response",obsValueType:"value_coded",type:"inline",options:[{label:"Localizes pain",value:"Localizes pain"},{label:"Withdraws from pain",value:"Withdraws from pain"},{label:"Non specific or no response",value:"Non specific or no response"}]}]),$={Spontaneously:4,"To speech":3,"To pain":2,"No response":1},z={"Oriented to time, place and person":5,Confused:4,"Inappropriate words":3,"Incomprehensible sounds":2,"No response":1},G={"Obeys commands":6,"Moves to localised pain":5,"Flexion withdrawal from pain":4,"Abnormal flexion (decorticate)":3,"Abnormal extension (decerebrate)":2,"No response":1},H={"Not directed":0,"Directed eye movements":1},J={"Non specific or no response":0,"Withdraws from pain":1,"Localizes pain":2},K={"No cry":0,"Inappropriate cry or moan":1,"Appropriate cry":2},P={class:"modal_wrapper"},U=E({__name:"LevelOfConsciousness",setup(Y,{expose:B}){var p,i;const N=D(),{patient:a}=I(N),l=h(O.getAgeInYears((i=(p=a==null?void 0:a.value)==null?void 0:p.personInformation)==null?void 0:i.birthdate)),o=h(null),_=t(()=>{var d,b,v,y;const e=((d=o.value)==null?void 0:d.getFormValues())||{},s=e["Eye opening response"]||"",S=e["Best motor response"]||"",F=e["Best verbal response"]||"",n=l.value<18,c=(b=(n?H:$)[s])!=null?b:0,m=(v=(n?J:G)[S])!=null?v:0,u=(y=(n?K:z)[F])!=null?y:0,w=c+m+u;return"(M ".concat(m," V ").concat(u," E ").concat(c,") ").concat(w,"/").concat(n?5:15)});return B({onSubmit:async()=>{var s;if(!o.value){console.error("Form reference is not available");return}const e=((s=o.value)==null?void 0:s.getFormValues())||{};e["Eye opening response"]||e["Best motor response"]||e["Best verbal response"]?(await A.buildAddObsToEncounterPatient(e,W.ASSESSMENT),o.value.resetForm(),x("Level of Consciousness saved successfully")):C(" No level of consciousness data to save ")}}),(e,s)=>(r(),V("div",P,[l.value<18?(r(),g(f,{key:0,subtitle:"GCS (Glasgow Comma Scale)",formData:T(L),ref_key:"formRef",ref:o},null,8,["formData"])):(r(),g(f,{key:1,subtitle:"GCS (Glasgow Comma Scale)",formData:T(R),ref_key:"formRef",ref:o},null,8,["formData"])),M("h5",null,k(_.value),1)]))}});export{U as _,$ as a,G as b,z as c,H as e,J as m,K as v};
