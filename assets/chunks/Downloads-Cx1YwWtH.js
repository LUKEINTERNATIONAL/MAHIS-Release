import{d as O,an as W,r as _,a as q,O as k,f as r,J as i,l as n,u as l,a3 as E,k as e,e as v,m as y,dh as R,E as G,Q as c,K as w,F as H,P as T,aS as B,aP as C,V as z,L as I,N as h,p as V,ch as U,di as $,br as P,dj as K,a6 as j,dk as M,dl as A,dm as D}from"./vendor-CWILCKEU.js";import{i as J}from"./Img-CJEgX1Vr.js";import{_ as Q}from"../index-CARU1uIL.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-MUkJV7jj.js";const X={class:"download-container"},Y={class:"header-section"},Z={class:"logo-container"},ee={key:0,class:"version-info"},se={key:1,class:"loading-text"},oe={class:"downloads-grid"},le={class:"card-header"},ae={class:"platform-info"},ne={class:"platform-name"},ie={class:"platform-description"},te={class:"file-details"},de={class:"detail-item"},re={key:0,class:"detail-item"},ce={key:2},ue={key:3},pe={class:"help-buttons"},fe={class:"back-link"},me=O({__name:"Downloads",setup(ve){const S=W(),p=_(null),f=_(""),g=_(!0),m=_([{id:"windows",name:"Windows",icon:M,file:"",color:"#0078D4",description:"For Windows 10 and above"},{id:"mac",name:"macOS",icon:A,file:"",color:"#000000",description:"For macOS 10.15 and above"},{id:"linux",name:"Linux",icon:M,file:"",color:"#FCC624",description:"For Debian/Ubuntu distributions"},{id:"android",name:"Android",icon:D,file:"",color:"#3DDC84",description:"For Android 8.0 and above"}]),b=t=>{if(t===0)return"0 Bytes";const s=1024,o=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(t)/Math.log(s));return Math.round(t/Math.pow(s,d)*100)/100+" "+o[d]},x=async()=>{try{g.value=!0;const t=await fetch("https://api.github.com/repos/LUKEINTERNATIONAL/MAHIS-Release/releases/latest");if(!t.ok)throw new Error("Failed to fetch latest release");const s=await t.json();f.value=s.tag_name,s.assets.forEach(o=>{const d=o.name.toLowerCase();if(d.endsWith(".exe")){const a=m.value.find(u=>u.id==="windows");a&&(a.file=o.name,a.size=b(o.size))}else if(d.endsWith(".dmg")){const a=m.value.find(u=>u.id==="mac");a&&(a.file=o.name,a.size=b(o.size))}else if(d.endsWith(".deb")||d.endsWith(".appimage")){const a=m.value.find(u=>u.id==="linux");a&&(a.file=o.name,a.size=b(o.size))}else if(d.endsWith(".apk")){const a=m.value.find(u=>u.id==="android");a&&(a.file=o.name,a.size=b(o.size))}}),console.log("Latest release loaded:",f.value)}catch(t){console.error("Error fetching latest release:",t),f.value="v1.0.25-alpha.1",F()}finally{g.value=!1}},F=()=>{m.value=[{id:"windows",name:"Windows",icon:M,file:"MaHIS-Setup-1.0.25-alpha.1.exe",size:"85 MB",color:"#0078D4",description:"For Windows 10 and above"},{id:"mac",name:"macOS",icon:A,file:"MaHIS-1.0.25-alpha.1.dmg",size:"92 MB",color:"#000000",description:"For macOS 10.15 and above"},{id:"linux",name:"Linux",icon:M,file:"mahis_1.0.25-alpha.1_amd64.deb",size:"78 MB",color:"#FCC624",description:"For Debian/Ubuntu distributions"},{id:"android",name:"Android",icon:D,file:"MaHIS-1.0.25-alpha.1.apk",size:"45 MB",color:"#3DDC84",description:"For Android 8.0 and above"}]},L=(t,s)=>{if(!t){console.error("No file available for download");return}p.value=s;const o="https://github.com/LUKEINTERNATIONAL/MAHIS-Release/releases/download/".concat(f.value),d="".concat(o,"/").concat(t);window.open(d,"_blank"),console.log("Downloading ".concat(t," from ").concat(d)),setTimeout(()=>{p.value=null},3e3)},N=()=>{S.push("/")};return q(()=>{x()}),(t,s)=>(r(),k(l(j),null,{default:i(()=>[n(l(E),{class:"ion-padding download-page"},{default:i(()=>[e("div",X,[e("div",Y,[e("div",Z,[n(l(R),{src:l(J)("mw.png"),class:"logo-img"},null,8,["src"])]),n(l(G),{class:"page-title"},{default:i(()=>[...s[0]||(s[0]=[c("Download MaHIS",-1)])]),_:1}),s[1]||(s[1]=e("p",{class:"page-subtitle"},"Malawi Health Information System - Access healthcare data anywhere, anytime",-1)),f.value?(r(),v("p",ee,"Latest Version: "+w(f.value),1)):y("",!0),g.value?(r(),v("p",se,"Checking for latest version...")):y("",!0)]),e("div",oe,[(r(!0),v(H,null,T(m.value,o=>(r(),k(l(B),{key:o.id,class:"download-card"},{default:i(()=>[n(l(C),null,{default:i(()=>[e("div",le,[e("div",{class:"icon-wrapper",style:z({backgroundColor:o.color+"15"})},[n(l(I),{icon:o.icon,style:z({color:o.color}),class:"platform-icon"},null,8,["icon","style"])],4),e("div",ae,[e("h3",ne,w(o.name),1),e("p",ie,w(o.description),1)])]),e("div",te,[e("p",de,[s[2]||(s[2]=e("span",{class:"detail-label"},"File:",-1)),c(" "+w(o.file),1)]),o.size?(r(),v("p",re,[s[3]||(s[3]=e("span",{class:"detail-label"},"Size:",-1)),c(" "+w(o.size),1)])):y("",!0)]),n(l(h),{expand:"block",disabled:p.value===o.id||g.value,onClick:d=>L(o.file,o.id),class:V(["download-button",{downloaded:p.value===o.id}])},{default:i(()=>[p.value===o.id?(r(),k(l(I),{key:0,icon:l(U),slot:"start"},null,8,["icon"])):(r(),k(l(I),{key:1,icon:l($),slot:"start"},null,8,["icon"])),p.value===o.id?(r(),v("span",ce,"Downloaded!")):(r(),v("span",ue,"Download for "+w(o.name),1))]),_:2},1032,["disabled","onClick","class"])]),_:2},1024)]),_:2},1024))),128))]),n(l(B),{class:"requirements-card"},{default:i(()=>[n(l(C),null,{default:i(()=>[...s[4]||(s[4]=[e("h2",{class:"section-title"},"System Requirements",-1),e("div",{class:"requirements-grid"},[e("div",{class:"requirement-section"},[e("h3",{class:"requirement-title"},"Desktop Applications"),e("ul",{class:"requirement-list"},[e("li",null,[e("span",{class:"bullet"},"•"),e("span",null,"Minimum 4GB RAM (8GB recommended)")]),e("li",null,[e("span",{class:"bullet"},"•"),e("span",null,"500MB free disk space")]),e("li",null,[e("span",{class:"bullet"},"•"),e("span",null,"Internet connection for sync")])])]),e("div",{class:"requirement-section"},[e("h3",{class:"requirement-title"},"Mobile Application"),e("ul",{class:"requirement-list"},[e("li",null,[e("span",{class:"bullet"},"•"),e("span",null,"Android 8.0 or higher")]),e("li",null,[e("span",{class:"bullet"},"•"),e("span",null,"Minimum 2GB RAM")]),e("li",null,[e("span",{class:"bullet"},"•"),e("span",null,"200MB free storage space")])])])],-1)])]),_:1})]),_:1}),n(l(B),{class:"help-card"},{default:i(()=>[n(l(C),null,{default:i(()=>[s[9]||(s[9]=e("h2",{class:"section-title"},"Need Help Installing?",-1)),s[10]||(s[10]=e("p",{class:"help-text"},"Follow our step-by-step installation guides for your platform:",-1)),e("div",pe,[n(l(h),{fill:"outline",class:"guide-button"},{default:i(()=>[...s[5]||(s[5]=[c("Windows Guide",-1)])]),_:1}),n(l(h),{fill:"outline",class:"guide-button"},{default:i(()=>[...s[6]||(s[6]=[c("macOS Guide",-1)])]),_:1}),n(l(h),{fill:"outline",class:"guide-button"},{default:i(()=>[...s[7]||(s[7]=[c("Linux Guide",-1)])]),_:1}),n(l(h),{fill:"outline",class:"guide-button"},{default:i(()=>[...s[8]||(s[8]=[c("Android Guide",-1)])]),_:1})])]),_:1})]),_:1}),e("div",fe,[e("a",{href:"#",onClick:P(N,["prevent"])},[n(l(I),{icon:l(K)},null,8,["icon"]),s[11]||(s[11]=c(" Back to Login ",-1))])])])]),_:1})]),_:1}))}}),ke=Q(me,[["__scopeId","data-v-8568ebde"]]);export{ke as default};
