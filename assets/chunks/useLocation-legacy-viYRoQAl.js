System.register(["../index-legacy-ByMUQtpm.js","./vendor-legacy-h4cyiMXU.js"],function(t,e){"use strict";var a,i,s,r,n,c,l;return{setters:[t=>{a=t.f,i=t.S,s=t.V,r=t.g},t=>{n=t.r,c=t.c,l=t.w}],execute:function(){t("u",function(){const t=n([]),e=n([]),o=n([]),u=n([]),g=n(null),d=n([]),y=n([]),v=n(null),S=n(null),h=n(!1),w=a(),f=c(()=>w.apiStatus);l(v,async t=>{if(t)try{e.value=await A(t)}catch(a){e.value=[]}else e.value=[]}),l(S,async t=>{if(t)try{o.value=await D(t)}catch(e){o.value=[]}else o.value=[]});const D=async t=>{try{return!i.getAPIStatus()||i.getLanConnectionStatus()||i.getPouchDbStatus()?await r("villages",{selector:{traditional_authority_id:t}}):await s.getVillages(t)}catch(e){return console.error("Error getting villages:",e),[]}},A=async t=>{try{return!i.getAPIStatus()||i.getLanConnectionStatus()||i.getPouchDbStatus()?await r("traditional_authorities",{selector:{district_id:t}}):await s.getTraditionalAuthorities(t)}catch(e){return console.error("Error getting TAs:",e),[]}};return{districtList:t,countriesList:u,locations:y,isLoading:h,selectedDistrictId:v,TAs:e,villages:o,selectedTraditionalAuthorityId:S,facilityList:d,countryID:g,apiStatus:f,getVillages:D,getTAs:A,getDistricts:async()=>{h.value=!0;try{if(!i.getAPIStatus()||i.getLanConnectionStatus()||i.getPouchDbStatus())t.value=await r("districts",{selector:{region_id:{$ne:4}}});else for(let e of[1,2,3]){const a=await s.getDistricts(e);t.value.push(...a)}return t.value}catch(e){console.error("Error loading location data:",e)}finally{h.value=!1}},getCountries:async()=>{h.value=!0;try{return!i.getAPIStatus()||i.getLanConnectionStatus()||i.getPouchDbStatus()?u.value=await r("districts",{selector:{region_id:4}}):u.value=await s.getDistricts(4),u.value}catch(t){console.error("Error loading location data:",t)}finally{h.value=!1}},getFacilities:async()=>{d.value=await s.getAllFacilities()},getCountryID:async t=>{let e;e=!i.getAPIStatus()||i.getLanConnectionStatus()||i.getPouchDbStatus()?await r("countries",{selector:{region_id:4,name:t}}):await s.getDistricts(4,t),g.value=e[0].district_id}}})}}});
