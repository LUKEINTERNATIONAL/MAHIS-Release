import{d as N,am as F,c as x,e as d,f as u,l as n,J as a,u as e,G as m,E as I,k as s,L as i,aa as w,R as c,I as C,m as h,fo as E,Q as T,ab as B,M as P,F as S}from"./vendor-BTebhqHt.js";import{y as V,x as f,n as k,z as O,D as Y,t as A,J as D,b as M,F as R,_ as W}from"../index-CDqf5wLI.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-no8IW45T.js";const z={style:{display:"flex","align-items":"center"}},L={class:"content-wrapper"},q={key:0,class:"underage-warning"},J={class:"footer-actions"},U=N({__name:"AncEnrollmentModal",props:{isOpen:{type:Boolean},closeModalFunc:{},onYes:{},onNo:{},title:{},showUnderageWarning:{type:Boolean,default:!1}},setup(p){const g=p,y=E,{formRef:r}=V(),_=F(),v=x(()=>[{componentType:"radioButtonField",name:"Pregnancy confirmed",header:"Is the pregnancy confirmed?",type:"inline",obsValueType:"value_coded",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:f.required},{componentType:"radioButtonField",name:"Pregnancy planned",header:"Was the pregnancy planned?",type:"inline",condition:t=>t["Pregnancy confirmed"]=="Yes",obsValueType:"value_coded",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:f.required}]),b=async()=>{var t,o;if(((t=r.value)==null?void 0:t.validateForm())==null){const l=(o=r.value)==null?void 0:o.getFormValues();if(!l)return;if(l["Pregnancy confirmed"]=="No"){A("Pregnancy is not confirmed. Please confirm pregnancy before enrolling in the program."),c.dismiss();return}if(await D.buildSaveObs(l,M.ANC_ENROLLMENT)){R("Enrollment in ANC program successful"),c.dismiss(),_.push("/profile");return}}};return(t,o)=>(u(),d(S,null,[n(e(C),null,{default:a(()=>[n(e(m),null,{default:a(()=>[n(e(I),null,{default:a(()=>[s("div",z,[n(e(i),{icon:e(k).addPerson,class:"sub-menu-icon",style:{"font-size":"1.4rem"}},null,8,["icon"]),o[1]||(o[1]=s("b",{style:{"margin-left":"6px"}},"Enroll client in ANC program",-1))])]),_:1}),n(e(i),{slot:"end",onClick:o[0]||(o[0]=l=>e(c).dismiss()),style:{"font-size":"30px","padding-right":"10px"},icon:e(w)},null,8,["icon"])]),_:1})]),_:1}),n(e(B),{class:"modal-content"},{default:a(()=>[s("div",L,[n(O,{formData:v.value,ref_key:"formRef",ref:r},null,8,["formData"]),g.showUnderageWarning?(u(),d("div",q,[n(e(i),{icon:e(y),class:"warning-icon"},null,8,["icon"]),o[2]||(o[2]=s("div",{class:"warning-text"},[s("strong",null,"Warning:"),T(" The client you are enrolling is below 9 years of age.")],-1))])):h("",!0)])]),_:1}),n(e(P),{class:"modal-footer"},{default:a(()=>[n(e(m),{class:"footer-toolbar"},{default:a(()=>[s("div",J,[n(Y,{name:"Submit",onClick:b,fill:"solid",class:"submit-button"})])]),_:1})]),_:1})],64))}}),j=W(U,[["__scopeId","data-v-f541120f"]]);export{j as default};
