System.register(["../index-legacy-BOBcaga6.js","./vendor-legacy-h4cyiMXU.js"],function(e,a){"use strict";var n,i,t,r,o,s,l,u,c,d,p,v,m,h,y;return{setters:[e=>{n=e.x,i=e.z,t=e.J,r=e.b,o=e.F,s=e.t},e=>{l=e.c,u=e.d,c=e.r,d=e.am,p=e.e,v=e.f,m=e.k,h=e.l,y=e.u}],execute:function(){const a={class:"custom-card"};e("_",u({__name:"ReasonForVisit",setup(e,{expose:u}){const b=c(null),g=d(),{reasonForVisitForm:f}=function(e={}){const{isSubsequentVisit:a=!1}=e,i=["None","Central cyanosis","Pre-term labour","Unconscious","Fever","Imminent delivery","Severe headache","Severe vomiting","Severe abdominal pain","Draining liquor","Respiratory problems","Convulsion history","Vomiting","Oedema","Epigastric pain","Bleeding vaginally","Sepsis","Pre-eclampsia","Puerperal Psychosis","Breast engorgement","Other","Seizures"].map(e=>"None"===e?{label:e,value:e,exclusive:!0}:{label:e,value:e}),t=["Abnormal vaginal discharge","Change in blood pressure-up","Diarrhoea","Vomiting","Genital ulcers","Change in blood pressure-down","Constipation","Contractions","Vaginal bleeding","Intimate partner violence","Flu symptoms","Painful urination","Headache","Dyspepsia","Frequent urination/Polyuria","Injury","Jaundice","Mental health-Depression","Genital warts","Itchy vulva","Painful intercourse","No health concerns","Other"].map(e=>({label:e,value:e})),r=l(()=>{const e=[{label:"Scheduled subsequent ANC visit",value:"Scheduled subsequent ANC visit"},{label:"Specific complaint related to antenatal care",value:"Specific complaint related to antenatal care"}];return a||e.unshift({label:"First antenatal care contact",value:"First antenatal care contact"}),e});return{reasonForVisitForm:l(()=>[{componentType:"radioButtonField",header:"Reason the woman came to the facility today",name:"Reason for visit",obsValueType:"value_text",type:"inline",validation:n.required,options:r.value},{componentType:"checkboxField",header:"What danger signs does the woman have?",name:"Danger signs present",type:"multiple",twoColumns:!0,obsValueType:"value_coded",options:i},{componentType:"inputField",header:"Specify the danger signs",name:"_Danger signs present",obsValueType:"value_text",type:"text",grid:{s:"12"},condition:e=>Array.isArray(e["Danger signs present"])&&e["Danger signs present"].includes("Other"),validation:n.required},{componentType:"radioButtonField",header:"Do you want to refer the woman?",name:"Referral required",obsValueType:"value_text",type:"standard",condition:e=>Array.isArray(e["Danger signs present"])&&e["Danger signs present"].length>0&&!e["Danger signs present"].includes("None"),validation:n.required,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"checkboxField",header:"What are the specific health concerns for the patient?",name:"Specific health concerns",type:"multiple",twoColumns:!0,obsValueType:"value_coded",options:t,condition:e=>"No"===e["Referral required"]},{componentType:"inputField",header:"Other (specify)",name:"_Specific health concerns",obsValueType:"value_text",type:"text",condition:e=>"No"===e["Referral required"]&&Array.isArray(e["Specific health concerns"])&&e["Specific health concerns"].includes("Other"),validation:n.required},{componentType:"radioButtonField",header:"Does the woman have any previous ANC visit/s done at any facility?",name:"Previous visit",obsValueType:"value_text",type:"standard",condition:e=>"No"===e["Referral required"],validation:n.required,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"inputField",header:"Enter number of previous ANC visits",name:"Number of previous visits",obsValueType:"value_numeric",type:"number",condition:e=>"No"===e["Referral required"]&&"Yes"===e["Previous visit"],validation:e=>n.isWholeNumber(e)}])}}();return u({onSubmit:async()=>{var e,a;const n=null===(e=b.value)||void 0===e?void 0:e.getFormValues();var i;null==(null===(a=b.value)||void 0===a?void 0:a.validateForm())?(await t.buildSaveObs(n,r.QUICK_CHECK)&&o("Reason for Visit saved successfully"),null===(i=b.value)||void 0===i||i.resetForm(),g.push("contact")):s("Please fix validation errors before submitting")}}),(e,n)=>(v(),p("div",a,[n[0]||(n[0]=m("h3",{class:"ion-text-center"},"Quick Check",-1)),h(i,{"form-data":y(f),ref_key:"formRef",ref:b},null,8,["form-data"])]))}}))}}});
