!function(){function a(a,e,t){return(e=function(a){var e=function(a,e){if("object"!=typeof a||!a)return a;var t=a[Symbol.toPrimitive];if(void 0!==t){var n=t.call(a,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(a)}(a,"string");return"symbol"==typeof e?e:e+""}(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}System.register(["./vendor-legacy-C2-GgcAe.js","../index-legacy-DggixPvN.js","./neonatal_service-legacy-BwyLddh3.js","./images-legacy-BDisoOne.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-CQtQvBh8.js"],function(e,t){"use strict";var n,i,l,o,c,s,d,r,u,v,p,g,f,m,x,b,h,y,w,k,_,C,S,z,j,I,$,T,N,A,M,L,P,D,H,E;return{setters:[a=>{n=a.d,i=a.O,l=a.f,o=a.u,c=a.aS,s=a.p,d=a.J,r=a.l,u=a.aP,v=a.k,p=a.e,g=a.m,f=a.K,m=a.c,x=a.Q,b=a.bo,h=a.an,y=a.r,w=a.a,k=a.a4,_=a.F,C=a.P,S=a.a5,z=a.bm,j=a.I,I=a.G,$=a.E,T=a.a_,N=a.N,A=a.a3,M=a.bi,L=a.a6},a=>{P=a._,D=a.T},a=>{H=a.N},a=>{E=a.I},null,null],execute:function(){var t=document.createElement("style");t.textContent=".stat-card[data-v-cc8c780a]{margin:8px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .2s ease;cursor:default}.stat-card.is-clickable[data-v-cc8c780a]{cursor:pointer}.stat-card.is-clickable[data-v-cc8c780a]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.stat-content[data-v-cc8c780a]{text-align:center;padding:20px 16px}.stat-icon-wrapper[data-v-cc8c780a]{display:flex;justify-content:center;align-items:center;margin-bottom:12px}.stat-icon[data-v-cc8c780a]{width:60px;height:60px;object-fit:contain}.stat-icon.critical-icon[data-v-cc8c780a]{width:60px;height:60px}.stat-label[data-v-cc8c780a]{font-size:14px;color:#666;margin-bottom:8px;min-height:32px;display:flex;align-items:center;justify-content:center}.stat-value[data-v-cc8c780a]{font-size:28px;font-weight:700;color:#333}.stat-value.critical-value[data-v-cc8c780a]{color:#dc3545}@media(max-width:768px){.stat-card[data-v-cc8c780a]{margin:4px}.stat-content[data-v-cc8c780a]{padding:16px 12px}.stat-icon[data-v-cc8c780a]{width:50px;height:50px}.stat-label[data-v-cc8c780a]{font-size:12px;min-height:28px}.stat-value[data-v-cc8c780a]{font-size:24px}}.action-card[data-v-fc22b927]{margin:8px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);cursor:pointer;transition:transform .2s ease;background:#f8f9fa}.action-card[data-v-fc22b927]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.action-content[data-v-fc22b927]{text-align:center;padding:24px 16px}.action-icon-wrapper[data-v-fc22b927]{display:flex;justify-content:center;align-items:center;margin-bottom:12px}.action-icon[data-v-fc22b927],.action-icon.emergency-icon[data-v-fc22b927]{width:80px;height:80px}.action-label[data-v-fc22b927]{font-size:16px;font-weight:500;color:#333}@media(max-width:768px){.action-card[data-v-fc22b927]{margin:4px}.action-content[data-v-fc22b927]{padding:20px 12px}.action-icon[data-v-fc22b927]{width:60px;height:60px}.action-label[data-v-fc22b927]{font-size:14px}}.neonate-card[data-v-a76e5897]{border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);cursor:pointer;transition:transform .2s ease;margin:0}.neonate-card[data-v-a76e5897]:hover{transform:translate(4px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.neonate-content[data-v-a76e5897]{display:flex;justify-content:space-between;align-items:center;padding:16px}.neonate-info[data-v-a76e5897]{flex:1}.neonate-name[data-v-a76e5897]{font-size:16px;font-weight:600;color:#333;margin-bottom:4px}.neonate-mrn[data-v-a76e5897]{font-size:14px;color:#666;margin-bottom:8px}.neonate-details[data-v-a76e5897]{display:flex;gap:16px;font-size:14px;color:#666}.detail-item[data-v-a76e5897]{display:flex;align-items:center;gap:4px}.detail-icon[data-v-a76e5897]{font-size:16px;height:16px}.neonate-status[data-v-a76e5897]{flex-shrink:0}.status-badge[data-v-a76e5897]{padding:8px 16px;border-radius:20px;font-size:14px;font-weight:600}@media(max-width:768px){.neonate-content[data-v-a76e5897]{padding:12px}.neonate-name[data-v-a76e5897]{font-size:15px}.neonate-mrn[data-v-a76e5897]{font-size:13px}.neonate-details[data-v-a76e5897]{font-size:13px;gap:12px}.status-badge[data-v-a76e5897]{padding:6px 12px;font-size:12px}}@media(max-width:576px){.neonate-content[data-v-a76e5897]{flex-direction:column;align-items:flex-start;gap:12px}.neonate-status[data-v-a76e5897]{width:100%;display:flex;justify-content:flex-end}}.neonatal-dashboard[data-v-ef019cab]{width:100%;padding:0;margin:0}.header-image[data-v-ef019cab]{width:100%;height:200px;overflow:hidden;position:relative}.header-image img[data-v-ef019cab]{width:100%;height:100%;object-fit:cover;filter:brightness(.9)}.section-container[data-v-ef019cab]{padding:20px;max-width:1200px;margin:0 auto}.section-title[data-v-ef019cab]{font-size:20px;font-weight:600;color:#5a5a5a;margin-bottom:16px;padding-left:4px}.stats-grid[data-v-ef019cab],.actions-grid[data-v-ef019cab]{padding:0}.neonates-list[data-v-ef019cab]{display:flex;flex-direction:column;gap:12px}.empty-neonates[data-v-ef019cab]{text-align:center;padding:24px 0;color:#8a8a8a;font-size:14px}.drilldown-modal[data-v-ef019cab]{--height: 90%}.drilldown-content[data-v-ef019cab]{padding:20px}.drilldown-list[data-v-ef019cab]{display:flex;flex-direction:column;gap:12px;max-height:70vh;overflow-y:auto}.empty-drilldown[data-v-ef019cab]{text-align:center;padding:32px 16px;color:#7a7a7a}@media(max-width:768px){.header-image[data-v-ef019cab]{height:150px}.section-container[data-v-ef019cab]{padding:16px}.section-title[data-v-ef019cab]{font-size:18px;margin-bottom:12px}}ion-content[data-v-052dae1c]{--background: #f5f5f5}\n/*$vite$:1*/",document.head.appendChild(t);class F{constructor(){a(this,"statusColorMap",{admitted:"danger",discharged:"success",critical:"warning"})}getStatusColor(a){var e;return null!==(e=this.statusColorMap[a.toLowerCase()])&&void 0!==e?e:"medium"}formatWeight(a){return`${(a/1e3).toFixed(2)} kg`}static getInstance(){return F.instance||(F.instance=new F),F.instance}}a(F,"instance",void 0);const B=F.getInstance(),O=[{label:"Triaged without Registration",key:"enrolled",iconSrc:E.icons.triaged},{label:"Admitted Today",key:"admitted",iconSrc:E.icons.newborn},{label:"Discharged Today",key:"discharged",iconSrc:E.icons.babyCarriage},{label:"Critical",key:"critical",iconSrc:E.icons.warningSign,isCritical:!0}],G=[{label:"Start Emergency Triage",iconSrc:E.icons.electrocardiogram,iconClass:"emergency-icon",route:"/neonatal/triage"},{label:"Instruction Guides",iconSrc:E.icons.info,route:"/neonatal/guides"}],K={class:"stat-icon-wrapper"},Q=["innerHTML"],R=["src","alt"],W={class:"stat-label"},Y=n({__name:"card",props:{label:{},value:{},iconSrc:{},svgIcon:{},isCritical:{type:Boolean},clickable:{type:Boolean}},emits:["click"],setup(a,{emit:e}){const t=a,n=e,m=()=>{t.clickable&&n("click")};return(e,t)=>(l(),i(o(c),{class:s(["stat-card",{"is-clickable":a.clickable}]),onClick:m},{default:d(()=>[r(o(u),{class:"stat-content"},{default:d(()=>[v("div",K,[a.svgIcon?(l(),p("div",{key:0,innerHTML:a.svgIcon,class:"stat-icon"},null,8,Q)):a.iconSrc?(l(),p("img",{key:1,src:a.iconSrc,class:"stat-icon critical-icon",alt:a.label},null,8,R)):g("",!0)]),v("div",W,f(a.label),1),v("div",{class:s(["stat-value",{"critical-value":a.isCritical}])},f(a.value),3)]),_:1})]),_:1},8,["class"]))}}),J=P(Y,[["__scopeId","data-v-cc8c780a"]]),U={class:"action-icon-wrapper"},q=["innerHTML"],V=["src","alt"],X={class:"action-label"},Z=P(n({__name:"action-card",props:{label:{},svgIcon:{},iconSrc:{},iconClass:{}},emits:["click"],setup(a,{emit:e}){const t=e,n=()=>{t("click")};return(e,t)=>(l(),i(o(c),{class:"action-card",onClick:n},{default:d(()=>[r(o(u),{class:"action-content"},{default:d(()=>[v("div",U,[a.svgIcon?(l(),p("div",{key:0,innerHTML:a.svgIcon,class:s(["action-icon",a.iconClass])},null,10,q)):a.iconSrc?(l(),p("img",{key:1,src:a.iconSrc,class:s(["action-icon",a.iconClass]),alt:a.label},null,10,V)):g("",!0)]),v("div",X,f(a.label),1)]),_:1})]),_:1}))}}),[["__scopeId","data-v-fc22b927"]]),aa={class:"neonate-info"},ea={class:"neonate-name"},ta={class:"neonate-mrn"},na={class:"neonate-details"},ia={class:"detail-item"},la=["src"],oa={class:"detail-item"},ca=["src"],sa={class:"neonate-status"},da=P(n({__name:"neonate-card",props:{neonate:{},getStatusColor:{type:Function}},emits:["click"],setup(a,{emit:e}){const t=a,n=e,s=m(()=>t.getStatusColor(t.neonate.status)),p=()=>{n("click",t.neonate.id)};return(e,t)=>(l(),i(o(c),{class:"neonate-card",onClick:p},{default:d(()=>[r(o(u),{class:"neonate-content"},{default:d(()=>[v("div",aa,[v("div",ea,f(a.neonate.name),1),v("div",ta,f(a.neonate.mrn),1),v("div",na,[v("span",ia,[v("img",{src:o(E).icons.deliveryTime,class:"detail-icon"},null,8,la),x(" "+f(a.neonate.age),1)]),v("span",oa,[v("img",{src:o(E).icons.babyWeight,class:"detail-icon"},null,8,ca),x(" "+f(a.neonate.weight),1)])])]),v("div",sa,[r(o(b),{color:s.value,class:"status-badge"},{default:d(()=>[x(f(a.neonate.status),1)]),_:1},8,["color"])])]),_:1})]),_:1}))}}),[["__scopeId","data-v-a76e5897"]]),ra={class:"neonatal-dashboard"},ua={class:"header-image"},va=["src"],pa={class:"section-container"},ga={class:"section-container"},fa={class:"section-container"},ma={key:0,class:"neonates-list"},xa={key:1,class:"empty-neonates"},ba={class:"drilldown-content"},ha={key:0,class:"empty-drilldown"},ya={key:1,class:"drilldown-list"},wa=P(n({__name:"LandingPage",setup(a){const e={enrolled:"In patient",admitted:"Admitted",discharged:"Discharged",critical:"Critical"},t=()=>O.reduce((a,e)=>(a[e.key]={count:0,neonates:[]},a),{}),n=h(),c=y(t()),s=y([]),u=y(!1),g=y(null),b=m(()=>{var a,e;return g.value&&null!==(a=null===(e=c.value[g.value])||void 0===e?void 0:e.neonates)&&void 0!==a?a:[]}),L=m(()=>{const a=(e=g.value)&&null!==(t=null===(n=O.find(a=>a.key===e))||void 0===n?void 0:n.label)&&void 0!==t?t:"Neonates";var e,t,n;return b.value.length?`${a} (${b.value.length})`:a}),P=a=>{var e,t;return(null!==(e=null===(t=c.value[a])||void 0===t?void 0:t.neonates.length)&&void 0!==e?e:0)>0},D=()=>{u.value=!1,g.value=null},F=a=>{n.push({path:a})},K=a=>{F(`/patientProfile?id=${a}`)},Q=a=>B.getStatusColor(a),R=a=>{const e=t();return O.forEach(t=>{var n,i;const l=t.key,o=null!==(n=null==a?void 0:a[l])&&void 0!==n?n:null==a||null===(i=a.stats)||void 0===i?void 0:i[l],c=W(a,l);e[l]=Y(o,c,l)}),e},W=(a,e)=>{var t,n,i,l,o;if(!a)return[];return null!==(o=[null==a||null===(t=a.neonates)||void 0===t?void 0:t[e],null==a||null===(n=a.details)||void 0===n?void 0:n[e],null==a?void 0:a[`${e}_neonates`],null==a?void 0:a[`${e}_patients`],null==a?void 0:a[`${e}_records`],null==a||null===(i=a[e])||void 0===i?void 0:i.neonates,null==a||null===(l=a[e])||void 0===l?void 0:l.patients].find(a=>Array.isArray(a)))&&void 0!==o?o:[]},Y=(a,e,t)=>{if("number"==typeof a)return{count:a,neonates:U(e,t)};if(a&&"object"==typeof a){const n=Array.isArray(a.neonates)?a.neonates:Array.isArray(a.patients)?a.patients:e,i=U(n,t);return{count:"number"==typeof a.count?a.count:"number"==typeof a.total?a.total:"number"==typeof a.value?a.value:i.length,neonates:i}}const n=U(e,t);return{count:n.length,neonates:n}},U=(a,e)=>Array.isArray(a)?a.map((a,t)=>q(a,e,t)):[],q=(a,t,n)=>{var i,l,o,c,s,d,r,u,v,p,g,f;const m=e[t],x=`${t}-${n}`;var b,h,y,w;if(null!=a&&a.name&&null!=a&&a.mrn)return{id:String(null!==(b=a.id)&&void 0!==b?b:x),name:a.name,mrn:a.mrn,age:null!==(h=a.age)&&void 0!==h?h:"—",weight:null!==(y=a.weight)&&void 0!==y?y:"—",status:null!==(w=a.status)&&void 0!==w?w:m};const k=null!==(i=null==a?void 0:a.patient)&&void 0!==i?i:a,_=null!==(l=null!==(o=null!==(c=null==a?void 0:a.id)&&void 0!==c?c:null==a?void 0:a.patient_id)&&void 0!==o?o:null==k?void 0:k.patient_id)&&void 0!==l?l:x,C=[null==a?void 0:a.name,null==k?void 0:k.given_name,null==k?void 0:k.family_name].filter(Boolean).join(" ").trim()||"Unknown Neonate",S=null!==(s=null!==(d=null!==(r=null==a?void 0:a.mrn)&&void 0!==r?r:null==a?void 0:a.identifier)&&void 0!==d?d:null==k?void 0:k.identifier)&&void 0!==s?s:"N/A",z=null!==(u=null!==(v=null==a?void 0:a.age)&&void 0!==v?v:V(null==k?void 0:k.birthdate))&&void 0!==u?u:"—",j=null!==(p=null!==(g=null==a?void 0:a.weight)&&void 0!==g?g:null==a?void 0:a.latest_weight)&&void 0!==p?p:null==a?void 0:a.weight_kg,I="number"==typeof j?`${j.toFixed(2)} Kg`:null!=j?j:"—",$=null!==(f=null==a?void 0:a.status)&&void 0!==f?f:m;return{id:String(_),name:C,mrn:S,age:z,weight:I,status:$}},V=a=>{if(!a)return null;const e=new Date(a);if(Number.isNaN(e.getTime()))return null;const t=Date.now()-e.getTime(),n=Math.floor(t/36e5);if(n<24)return`${n} hrs old`;const i=Math.floor(n/24);return i<1?"Today":`${i} day${1===i?"":"s"} old`},X=()=>{const a=Object.values(c.value).flatMap(a=>a.neonates).slice(0,5);s.value=a};return w(()=>{(async()=>{try{const a=await H.getStatistics();c.value=R(a),X()}catch(a){console.error("[NeonatalLanding] Failed to load statistics",a),c.value=t(),s.value=[]}})()}),(a,e)=>(l(),p("div",ra,[v("div",ua,[v("img",{src:o(E).banners.babyHand,alt:"baby-hand-banner",style:{"object-fit":"cover"}},null,8,va)]),v("div",pa,[e[0]||(e[0]=v("h2",{class:"section-title"},"Today's Stats",-1)),r(o(z),{class:"stats-grid"},{default:d(()=>[r(o(k),null,{default:d(()=>[(l(!0),p(_,null,C(o(O),a=>(l(),i(o(S),{key:a.key,size:"6","size-md":"3"},{default:d(()=>{return[r(J,{label:a.label,value:(e=a.key,null!==(t=null===(n=c.value[e])||void 0===n?void 0:n.count)&&void 0!==t?t:0),"icon-src":a.iconSrc,"svg-icon":a.svgIcon,"is-critical":a.isCritical,clickable:P(a.key),onClick:e=>(a=>{P(a)&&(g.value=a,u.value=!0)})(a.key)},null,8,["label","value","icon-src","svg-icon","is-critical","clickable","onClick"])];var e,t,n}),_:2},1024))),128))]),_:1})]),_:1})]),v("div",ga,[e[1]||(e[1]=v("h2",{class:"section-title"},"Quick Actions",-1)),r(o(z),{class:"actions-grid"},{default:d(()=>[r(o(k),null,{default:d(()=>[(l(!0),p(_,null,C(o(G),a=>(l(),i(o(S),{key:a.route,size:"6","size-md":"6"},{default:d(()=>[r(Z,{label:a.label,"svg-icon":a.svgIcon,"icon-src":a.iconSrc,"icon-class":a.iconClass,onClick:e=>F(a.route)},null,8,["label","svg-icon","icon-src","icon-class","onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),v("div",fa,[e[2]||(e[2]=v("h2",{class:"section-title"},"Recent Neonates",-1)),s.value.length?(l(),p("div",ma,[(l(!0),p(_,null,C(s.value,a=>(l(),i(da,{key:a.id,neonate:a,"get-status-color":Q,onClick:K},null,8,["neonate"]))),128))])):(l(),p("div",xa," No recent neonates to display. "))]),r(o(M),{"is-open":u.value,onDidDismiss:D,class:"drilldown-modal"},{default:d(()=>[r(o(j),null,{default:d(()=>[r(o(I),null,{default:d(()=>[r(o($),null,{default:d(()=>[x(f(L.value),1)]),_:1}),r(o(T),{slot:"end"},{default:d(()=>[r(o(N),{fill:"clear",onClick:D},{default:d(()=>[...e[3]||(e[3]=[x("Close",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),r(o(A),null,{default:d(()=>[v("div",ba,[b.value.length?(l(),p("div",ya,[(l(!0),p(_,null,C(b.value,a=>(l(),i(da,{key:`${g.value}-${a.id}`,neonate:a,"get-status-color":Q,onClick:K},null,8,["neonate"]))),128))])):(l(),p("div",ha," No neonates available for this statistic. "))])]),_:1})]),_:1},8,["is-open"])]))}}),[["__scopeId","data-v-ef019cab"]]);e("default",P(n({__name:"NeonatalHome",setup:a=>(a,e)=>(l(),i(o(L),null,{default:d(()=>[r(D),r(o(A),{fullscreen:!0},{default:d(()=>[r(wa)]),_:1})]),_:1}))}),[["__scopeId","data-v-052dae1c"]]))}}})}();
