import{a3 as l,H as c}from"../index-CYcjB3lE.js";import{w as n}from"./vendor-BataJFSH.js";function g(t){const r=l(),u=()=>{if(!t.value||!r.user)return null;const e={healthcareWorkerId:r.user.username||"",electronicSignature:s(),userRole:a(),signOffDate:c.currentDate()};return Object.entries(e).forEach(([i,o])=>{t.value.setFormValue&&t.value.setFormValue(i,o)}),e},s=()=>{if(!r.user)return"";const e=[r.user.given_name,r.user.family_name].filter(Boolean);return e.length>0?e.join(" "):r.user.username||""},a=()=>{var e;return((e=r.user)==null?void 0:e.user_type)||"Clinician"};return n(()=>t.value,e=>{e&&e.setFormValue&&setTimeout(()=>{u()},100)},{immediate:!0}),n(()=>r.user,e=>{e&&t.value&&u()},{deep:!0}),{populateSignOffData:u,userStore:r,getFullName:s,getUserRole:a}}export{g as u};
