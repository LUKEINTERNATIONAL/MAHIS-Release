import{ci as p,cc as r,ch as d,aF as i,cy as _,cz as v,aE as b}from"../index-D-jLU0JI.js";import{d as f,r as s,O as h,f as g}from"./vendor-DoZkSJso.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-BgIpHCiE.js";const y=f({__name:"ActiveClientsWithAdverseOutcomes",setup(w){const o=s("-"),n=s([]),c=[p("patient_id")],l=[{path:"arv_number",label:"ARV Number"},{path:"filling_number",label:"Filling Number"},{path:"outcome",label:"Outcome"},{path:"outcome_date",label:"Outcome Date",formatter:r},{path:"dispensation_visit_date",label:"Last Dispensation Date",formatter:r}];async function u(a){await i.show();try{const t=new _;t.setStartDate(a.dateRange.startDate),t.setEndDate(a.dateRange.endDate),o.value=t.getDateIntervalPeriod();const m=await t.getCleaningToolReport(v.ActiveClientsWithAdverseOutcomes);n.value=m.map(e=>({arv_number:e.arv_number,filling_number:e.filling_number,outcome:e.outcome,outcome_date:e.outcome_date,dispensation_visit_date:e.dispensation_visit_date,patient_id:e.patient_id}))}catch(t){b("Unable to load report data"),console.error(t)}await i.hide()}return(a,t)=>(g(),h(d,{title:"Active Clients with Adverse Outcomes","report-type":"Clinic",columns:l,rows:n.value,period:o.value,"row-action-buttons":c,"use-date-range-filter":"","use-secure-export":"",onGenerate:u},null,8,["rows","period"]))}});export{y as default};
