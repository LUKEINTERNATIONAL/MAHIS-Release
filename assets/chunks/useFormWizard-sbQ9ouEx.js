import{d as k,c as u,H as _,e as l,f as o,m as v,k as d,p as h,j as r,l as y,K as T,r as P,w as j,a as V,F as L,P as M,O as E,u as H,J as q,n as N}from"./vendor-Do1wNTJR.js";const J={class:"fw-list-wrapper"},K=["id"],G={class:"fw-step-container"},Q={key:0},R={key:1},U=k({__name:"WizardStep",props:{tab:{type:Object,default:()=>{}},index:{type:Number,default:0},currentIndex:{type:Number,default:0},squaredTab:{type:Boolean,default:!1},showProgress:{type:Boolean,default:!0}},setup(t){const i=t,p=u(()=>i.currentIndex>i.index);u(()=>"pi pi-".concat(i.tab.icon));const c=u(()=>["fw-list-wrapper-icon",{"fw-step-active":i.tab.active,"fw-step-checked":i.tab.checked,"fw-squared-tab":i.squaredTab}]);return(e,a)=>{const f=_("ion-icon");return o(),l("li",null,[t.showProgress?(o(),l("div",{key:0,class:h(["fw-list-progress",{"fw-list-progress-active":p.value}])},null,2)):v("",!0),d("div",J,[d("div",{id:"step-".concat(t.tab.id),role:"tab",class:h(c.value)},[d("div",G,[r(e.$slots,"active-step",{},()=>[t.tab.icon?(o(),l("i",Q,[y(f,{icon:t.tab.icon,style:{"font-size":"16px"}},null,8,["icon"])])):(o(),l("i",R,T(t.index+1),1))])])],10,K),r(e.$slots,"title",{},()=>[d("span",{class:h(["fw-step-title",{active:t.tab.active}])},T(t.tab.title),3)])])])}}}),X=["disabled"],Y={key:0},B=k({__name:"Button",props:{options:{type:Object,default:function(){return{}}}},setup(t){const i=t,p=e=>"pi pi-".concat(e),c=u(()=>["fw-btn",{"fw-btn-disabled":i.options.disabled}]);return(e,a)=>(o(),l("button",{class:h(c.value),disabled:t.options.disabled},[t.options.hideText?v("",!0):(o(),l("span",Y,T(t.options.text),1)),t.options.hideIcon?v("",!0):(o(),l("i",{key:1,class:h(p(t.options.icon))},null,2))],10,X))}}),Z=["id"],ee={key:0,class:"fw-body-list",role:"tablist"},te={class:"fw-body"},ne={class:"fw-body-content"},ae={class:"fw-body-container"},se={key:0,class:"fw-footer"},oe={class:"fw-footer-left"},le={class:"fw-footer-right"},re=k({__name:"Wizard",props:{id:{type:String,default:"fw-"+new Date().valueOf()},headingTitle:{type:String,default:""},customTabs:{type:Array,default:()=>[{id:0,title:"Step 1",icon:"map"},{id:1,title:"Step 2",icon:"check"},{id:2,title:"Step 3",icon:"pencil"}]},nextButton:{type:Object,default:function(){return{}}},backButton:{type:Object,default:function(){return{}}},doneButton:{type:Object,default:function(){return{}}},hideButtons:{type:Boolean,default:!1},startIndex:{type:Number,default:0,validator:t=>t>=0},verticalTabs:{type:Boolean,default:!1},beforeChange:{type:Function,default:()=>{}},beforeMount:{type:Function,default:()=>{}},navigableTabs:{type:Boolean,default:!1},scrollableTabs:{type:Boolean,default:!1},cardBackground:{type:Boolean,default:!1},squaredTabs:{type:Boolean,default:!1},showProgress:{type:Boolean,default:!0},showWizard:{type:Boolean,default:!0}},emits:["change","complete:wizard","updated:tabs","onValidateTabs","done-button-changed"],setup(t,{expose:i,emit:p}){const c=p,e=t;let a=P(0);const f=u(()=>[...e.customTabs].map((s,b)=>({...s,checked:b<a.value,active:b===a.value}))),x=u(()=>f.value.length-1),I=u(()=>Object.assign({text:"Back",icon:"arrow-left",hideText:!1,hideIcon:!1,disabled:!1},e.backButton)),C=u(()=>Object.assign({text:"Next",icon:"arrow-right",hideText:!1,hideIcon:!1,disabled:!1},e.nextButton)),w=u(()=>Object.assign({text:"Done",icon:"check",hideText:!1,hideIcon:!1,disabled:!1},e.doneButton));j(()=>e.doneButton,(n,s)=>{c("done-button-changed",{newOptions:w.value,oldOptions:s?Object.assign({text:"Done",icon:"check",hideText:!1,hideIcon:!1,disabled:!1},s):null,currentTabIndex:a.value,isLastStep:$.value})},{deep:!0,immediate:!1}),j(w,(n,s)=>{console.log("Done button options changed:",{new:n,old:s,currentStep:a.value})},{deep:!0}),V(()=>{a.value=e.startIndex,O(),c("change",a.value)});const F=u(()=>a.value!==0),$=u(()=>a.value===x.value),W=u(()=>["form-wizard-vue",{"fw-vertical":e.verticalTabs},{"fw-overflow-scroll":e.scrollableTabs},{"fw-card":e.cardBackground}]),O=()=>{c("updated:tabs",f.value,a.value)},S=async()=>{if(a.value===x.value){w.value.disabled||D();return}if(C.value.disabled)return;const n=a.value+1,s=a.value;if(!e.navigableTabs){c("change",n,s,!0);return}c("change",n,s),await e.beforeChange(),g(n)},A=async()=>{if(a.value===0||I.value.disabled)return;const n=a.value-1,s=a.value;c("change",n,s),await e.beforeChange(),g(n)},D=()=>{const n=a.value,s=a.value-1;c("complete:wizard",n,s)},z=async n=>{if(!e.navigableTabs)return;const s=n,b=a.value;c("change",s,b),await e.beforeChange(),g(s)},g=async n=>{a.value=n,O(),await N(),await e.beforeMount()};return i({changeTab:g}),(n,s)=>(o(),l("div",{id:t.id,class:h(W.value)},[t.showWizard?(o(),l("ul",ee,[d("h4",null,T(t.headingTitle),1),(o(!0),l(L,null,M(f.value,(b,m)=>r(n.$slots,"wizard-step",{tab:b,index:m,navigateToTab:z},()=>[(o(),E(U,{key:b.id,tab:b,index:m,currentIndex:H(a),squaredTab:t.squaredTabs,showProgress:t.showProgress,onClick:ie=>z(m)},{"active-step":q(()=>[r(n.$slots,"active-step")]),title:q(()=>[r(n.$slots,"title")]),_:3},8,["tab","index","currentIndex","squaredTab","showProgress","onClick"]))])),256))])):v("",!0),d("div",te,[d("div",ne,[d("div",ae,[r(n.$slots,"default")])]),t.hideButtons?v("",!0):(o(),l("div",se,[r(n.$slots,"footer",{},()=>[d("div",oe,[F.value?(o(),l("span",{key:0,role:"button",onClick:A},[r(n.$slots,"back",{},()=>[y(B,{options:I.value},null,8,["options"])])])):v("",!0),r(n.$slots,"custom-buttons-left")]),d("div",le,[r(n.$slots,"custom-buttons-right"),$.value?(o(),l("span",{key:0,role:"button",onClick:S},[r(n.$slots,"done",{},()=>[y(B,{options:w.value},null,8,["options"])])])):(o(),l("div",{key:1,role:"button",onClick:S},[r(n.$slots,"next",{},()=>[y(B,{options:C.value},null,8,["options"])])]))])])]))])],10,Z))}}),ue=()=>{const t=P(""),i=e=>{e%1===0&&(t.value=e)};return{currentTabIndex:t,onChangeCurrentTab:i,onTabBeforeChange:e=>{t.value===0&&console.log("First Tab"),i(e)},changeBtnIconPosition:()=>{N(()=>{const e=document.querySelector(".fw-footer-left .fw-btn");if(!e)return;const a=e.querySelector("span"),f=e.querySelector("i");!a||!f||(e.removeChild(a),e.removeChild(f),e.appendChild(f),e.appendChild(a))})}}};export{re as _,ue as u};
