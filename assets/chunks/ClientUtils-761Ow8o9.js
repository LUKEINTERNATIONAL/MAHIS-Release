var c=Object.defineProperty;var s=(n,t,r)=>t in n?c(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r;var a=(n,t,r)=>s(n,typeof t!="symbol"?t+"":t,r);import{aM as l,aN as u}from"../index-DijUtNzv.js";function o(){l().clearSelectedMedicalDrugsList(),u().clearMedicationDataStores()}const e=class e{constructor(){a(this,"currentPatientID",null);a(this,"STORAGE_KEY","current_patient_id");this.loadStoredPatientID()}static getInstance(){return e.instance||(e.instance=new e),e.instance}loadStoredPatientID(){try{const t=localStorage.getItem(this.STORAGE_KEY);this.currentPatientID=t}catch(t){console.error("Error loading patient ID from localStorage:",t),this.currentPatientID=null}}savePatientID(t){try{localStorage.setItem(this.STORAGE_KEY,t)}catch(r){console.error("Error saving patient ID to localStorage:",r)}}removePatientID(){try{localStorage.removeItem(this.STORAGE_KEY)}catch(t){console.error("Error removing patient ID from localStorage:",t)}}setCurrentPatientID(t){this.currentPatientID!==null&&this.currentPatientID!==t&&(console.log("Patient changed from ".concat(this.currentPatientID," to ").concat(t,". Resetting medications.")),o()),this.currentPatientID=t,this.savePatientID(t)}getCurrentPatientID(){return this.currentPatientID}clearCurrentPatient(){this.currentPatientID=null,this.removePatientID(),o()}hasActiveSession(){return this.currentPatientID!==null}};a(e,"instance");let i=e;const h=i.getInstance();export{h as p};
