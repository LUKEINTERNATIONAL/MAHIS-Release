System.register(["./vendor-legacy-CdypqbXP.js","../index-legacy-a_4iRUcf.js","./useNeonatalEnrollmentStore-legacy-DHZSAMR0.js","./useSignsSymptomsStore-legacy--9SHXFQ_.js","./useNeonatalVitalsStore-legacy-CJJJZDCg.js","./NeonatalStepper-legacy-iqWQfdLH.js"],function(e,a){"use strict";var t,i,n,l,s,r,o,d,u,c,v,p,m,f,h,g,w,b,y,x,S,O,P,A,D,I,_,F,R,N,k,M,H,C,T,z,L,j,B;return{setters:[e=>{t=e.d,i=e.b2,n=e.r,l=e.w,s=e.bH,r=e.c,o=e.a,d=e.b,u=e.i,c=e.v,v=e.e,p=e.f,m=e.p,f=e.k,h=e.m,g=e.u,w=e.K,b=e.cx,y=e.bn,x=e.cy,S=e.l,O=e.J,P=e.N,A=e.Q,D=e.L,I=e.aF,_=e.D},e=>{F=e.u,R=e.a9,N=e.F,k=e.H,M=e._,H=e.z},e=>{C=e.u},e=>{T=e.u},e=>{z=e.u},e=>{L=e.j,j=e.k,B=e.x}],execute:function(){var G=document.createElement("style");G.textContent=".printable-admission-form[data-v-6a17dbc5]{width:100%;padding:16px 18px 24px;background:#fff;color:#000;font-family:Arial,sans-serif;font-size:10pt;border:1px dotted #ececec;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.page-header[data-v-6a17dbc5]{display:flex;justify-content:space-between;align-items:flex-start;gap:12px}.logo-container[data-v-6a17dbc5]{flex-shrink:0;display:flex;align-items:center;gap:8px}.header-logo[data-v-6a17dbc5]{width:60px;height:60px;object-fit:contain}.app-logo[data-v-6a17dbc5]{width:50px;height:50px}.facility-name[data-v-6a17dbc5]{font-weight:700;font-size:11pt}.facility-details[data-v-6a17dbc5]{font-size:9pt;color:#555;margin:2px 0}.form-title[data-v-6a17dbc5]{font-weight:700;margin:4px 0 2px}.patient-meta[data-v-6a17dbc5]{display:flex;flex-wrap:wrap;gap:12px;font-size:9pt}.barcode-container[data-v-6a17dbc5]{text-align:center}.qr-img[data-v-6a17dbc5]{width:90px;height:90px;object-fit:contain}.npid-text[data-v-6a17dbc5]{font-size:8.5pt;font-weight:700;margin-top:4px}.print-page[data-v-6a17dbc5]{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}.print-column[data-v-6a17dbc5]{display:flex;flex-direction:column;gap:10px}.print-section[data-v-6a17dbc5]{border:1px solid #d9d9d9;padding:8px 10px;break-inside:avoid}.section-title[data-v-6a17dbc5]{font-size:11pt;font-weight:700;margin:0 0 6px;border-bottom:1px solid #bfbfbf;padding-bottom:4px}.field-row[data-v-6a17dbc5]{display:flex;justify-content:space-between;gap:6px;font-size:9pt;padding:3px 0;border-bottom:1px dotted #d0d0d0}.field-row[data-v-6a17dbc5]:last-child{border-bottom:none}.field-row span[data-v-6a17dbc5]:first-child{color:#333}.field-row span[data-v-6a17dbc5]:last-child{font-weight:600;text-align:right}.field-row.single-line[data-v-6a17dbc5]{align-items:flex-start}.highlight[data-v-6a17dbc5]{color:#015d1c;font-weight:700}.print-footer[data-v-6a17dbc5]{display:flex;justify-content:space-between;margin-top:14px;padding-top:8px;border-top:1px solid #bfbfbf;font-size:8.5pt}@media print{body *{display:none!important;visibility:hidden!important}body .printable-admission-form.print-mode{display:block!important;visibility:visible!important;position:absolute;left:0;top:0;width:100%;padding:16px 18px 24px;box-shadow:none}.printable-admission-form.preview-mode[data-v-6a17dbc5]{display:none!important}.printable-admission-form.print-mode[data-v-6a17dbc5]{display:block!important;page-break-after:always;font-size:10pt}.barcode-container svg[data-v-6a17dbc5]{max-width:140px}}.print-summary-wrapper[data-v-c84df6d7]{display:flex;flex-direction:column;gap:1rem}.print-content[data-v-c84df6d7]{display:flex;flex-direction:column;align-items:center;gap:2rem;padding:2rem}.print-icon-container[data-v-c84df6d7]{display:flex;justify-content:center;align-items:center;width:120px;height:120px;background-color:#f5f5f5;border-radius:50%;border:3px solid #016302}.print-icon[data-v-c84df6d7]{font-size:64px;color:#016302}.print-actions[data-v-c84df6d7]{width:100%;max-width:400px}.print-button[data-v-c84df6d7]{--background: #016302;--background-hover: #014d02;--background-activated: #013d02;height:48px;font-size:16px;font-weight:600;text-transform:uppercase}.preview-section[data-v-c84df6d7]{width:100%;max-width:900px}.preview-title[data-v-c84df6d7]{font-size:18px;font-weight:600;color:#00190e;margin-bottom:1rem;text-align:center}.preview-container[data-v-c84df6d7]{width:100%;max-height:600px;overflow-y:auto;background:#f9f9f9}.preview-container[data-v-c84df6d7]::-webkit-scrollbar{width:8px}.preview-container[data-v-c84df6d7]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.preview-container[data-v-c84df6d7]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}.preview-container[data-v-c84df6d7]::-webkit-scrollbar-thumb:hover{background:#555}@media print{.print-summary-wrapper[data-v-c84df6d7]{display:none!important}}\n/*$vite$:1*/",document.head.appendChild(G);const V={class:"page-header"},W={class:"logo-container"},$=["src"],E=["src"],U={class:"header-meta"},q={class:"facility-name"},J={class:"facility-details"},Q={class:"patient-meta"},Y={key:0,class:"barcode-container"},K=["src"],X={class:"npid-text"},Z={class:"print-page"},ee={class:"print-column"},ae={class:"print-section"},te={class:"field-row"},ie={class:"field-row"},ne={class:"field-row"},le={class:"field-row"},se={class:"field-row"},re={class:"field-row"},oe={class:"field-row"},de={class:"field-row"},ue={class:"field-row"},ce={class:"field-row"},ve={class:"field-row"},pe={class:"print-section"},me={class:"field-row"},fe={class:"field-row"},he={class:"field-row"},ge={class:"field-row"},we={class:"field-row"},be={class:"field-row"},ye={class:"field-row"},xe={class:"field-row"},Se={class:"field-row"},Oe={class:"print-section"},Pe={class:"field-row"},Ae={class:"field-row"},De={class:"field-row"},Ie={class:"field-row"},_e={class:"field-row"},Fe={class:"field-row"},Re={class:"field-row"},Ne={class:"print-section"},ke={class:"field-row"},Me={class:"highlight"},He={class:"field-row"},Ce={class:"print-column"},Te={class:"print-section"},ze={class:"field-row"},Le={class:"field-row"},je={class:"field-row"},Be={class:"field-row"},Ge={class:"field-row"},Ve={class:"field-row"},We={class:"field-row"},$e={class:"print-section"},Ee={class:"field-row single-line"},Ue={class:"field-row single-line"},qe={class:"field-row single-line"},Je={class:"field-row single-line"},Qe={key:0,class:"print-section"},Ye={class:"field-row"},Ke={class:"field-row"},Xe={class:"field-row"},Ze={class:"field-row"},ea={class:"field-row"},aa={class:"field-row"},ta={class:"field-row"},ia={class:"print-section"},na={class:"field-row"},la={class:"field-row"},sa={class:"field-row"},ra={class:"field-row"},oa={class:"print-footer"},da=t({__name:"PrintableAdmissionForm",props:{forceShow:{type:Boolean,default:!1}},setup(e,{expose:t}){const S=F(),{patient:O}=i(S),P=C(),A=T(),D=n(!1),I=async e=>{var a;const t=null===(a=O.value)||void 0===a?void 0:a.patientID;if(!t)return[];try{const a=await N.getAll(t,e,k.sessionDate());return a&&a.length?(await Promise.all(a.map(e=>N.resolvePrimaryValue(e)))).map(e=>null==e?"":String(e)).map(e=>e.trim()).filter(e=>e.length>0):[]}catch(i){return console.warn(`[PrintableAdmissionForm] Unable to load ${e} observations`,i),[]}},_=async e=>{const a=await I(e);return a.length>0?a[0]:""},M=async()=>{var e;if(null!==(e=O.value)&&void 0!==e&&e.patientID)try{const[e,a,t,i,n,l,s,r,o,d,u,c,v,p,m,f,h,g,w,b,y,x,S,O,P,A,D,F,R,N]=await Promise.all([_("Twin"),_("Place of birth"),_("Name of birth facility"),_("Type of birth"),_("Birth weight"),_("Gestation"),_("APGAR score at 1 minute"),_("APGAR score at 5 minutes"),_("APGAR score at 10 minutes"),_("Cried after birth"),I("Resuscitation method"),_("Mode of delivery"),_("Rupture of membranes"),_("Duration of rupture of membranes"),_("Offensive liquor"),_("Meconium present"),_("Maternal analgesia"),_("Anaesthesia used"),_("Steroids given"),_("Gestation method of assessment"),_("Mother name"),_("Mother national ID"),_("Mother HIV status"),_("Last HIV test date"),_("Mother VDRL result"),_("Mother Hepatitis result"),I("Tetanus/Diphtheria immunisation"),_("Admitted from"),_("Referred from"),_("Mode of transport")]);ma.value={hasTwin:e,placeOfBirth:a,nameOfBirthFacility:t,typeOfBirth:i,birthWeight:n,gestationWeeks:l,apgarScoreAt1:s,apgarScoreAt5:r,apgarScoreAt10:o,criedAfterBirth:d,resuscitationMethods:u,modeOfDelivery:c,ruptureOfMembranes:v,durationOfRuptureMembranes:p,offensiveLiquor:m,meconiumPresent:f,maternalAnalgesia:h,anesthesiaUsed:g,steroidsGiven:w,gestationMethodAssessment:b,motherName:y,motherNationalId:x,motherHivStatus:S,lastHivTestDate:O,motherVdrlResult:P,motherHepatitisResult:A,tetanusDiphtheria:D,admittedFrom:F,referredFrom:R,modeOfTransport:N}}catch(a){console.error("[PrintableAdmissionForm] Failed to load enrollment from observations:",a)}},H=async()=>{var e;if(null!==(e=O.value)&&void 0!==e&&e.patientID)try{const[e,a,t,i,n,l,s]=await Promise.all([_("Temperature"),_("Heart rate"),_("Respiratory rate"),_("Oxygen saturation"),_("Blood sugar"),_("Weight"),_("Head circumference")]);fa.value={temperature:e,heart_rate:a,respiratory_rate:t,oxygen_saturation:i,blood_sugar:n,current_weight:l,head_circumference:s}}catch(a){console.error("[PrintableAdmissionForm] Failed to load vitals from observations:",a)}},j=async()=>{var e;if(null!==(e=O.value)&&void 0!==e&&e.patientID)try{const[e,a,t,i,n,l]=await Promise.all([_("Admission outcome"),_("Safeguard concerns"),_("Healthcare worker ID"),_("User role"),_("Electronic signature"),_("Sign-off date")]);ha.value={admissionOutcome:e,safeguardConcerns:a,healthcareWorkerId:t,userRole:i,electronicSignature:n,signOffDate:l}}catch(a){console.error("[PrintableAdmissionForm] Failed to load admission outcomes from observations:",a)}},B=async()=>{var e;if(null!==(e=O.value)&&void 0!==e&&e.patientID&&!ga.value){ga.value=!0;try{await Promise.all([M(),H(),j(),G()])}finally{ga.value=!1}}},G=async()=>{var e;if((null===(e=O.value)||void 0===e?void 0:e.patientID)&&!(()=>{const e=A.formData;return!!e&&(Array.isArray(e.presenting_complaints)&&e.presenting_complaints.length>0||!!e.detailed_assessment_notes||!!e.symptom_onset_time||!!e.symptom_severity)})()&&!D.value){D.value=!0;try{const[e,a,t,i]=await Promise.all([I("Presenting complaint"),I("Signs/Symptoms notes"),I("Symptom onset time"),I("Symptom severity")]),n={};e.length&&(n.presenting_complaints=e),a.length&&(n.detailed_assessment_notes=a[0]),t.length&&(n.symptom_onset_time=t[0]),i.length&&(n.symptom_severity=i[0]),Object.keys(n).length&&(Object.assign(A.formData,n),A.saveSnapshot())}finally{D.value=!1}}};l(()=>{var e;return null===(e=O.value)||void 0===e?void 0:e.patientID},()=>{(()=>{var e,a;const t=null!==(e=null===(a=O.value)||void 0===a?void 0:a.patientID)&&void 0!==e?e:null;A.initializeForPatient(t)})(),G()},{immediate:!0});const da=z(),ua=R(),ca=s(L,{}),va=n(!1),pa=n(""),ma=n({}),fa=n({}),ha=n({}),ga=n(!1),wa=new URL(""+new URL("../neotree.4QnvY_lU.png",a.meta.url).href,a.meta.url).href,ba="./mw.png",ya=new Map,xa=wa,Sa=ba,Oa=async e=>e?ya.has(e)?ya.get(e):await new Promise(a=>{const t=new Image;t.crossOrigin="anonymous",t.onload=()=>{try{const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const n=i.getContext("2d");if(!n)return void a(null);n.drawImage(t,0,0);const l=i.toDataURL("image/png");ya.set(e,l),a(l)}catch(i){console.warn("Image toDataURL failed",i),a(null)}},t.onerror=()=>a(null),t.src=e}):null,Pa=r(()=>{var e;const a=null===(e=O.value)||void 0===e?void 0:e.personInformation;return a&&`${a.given_name||""} ${a.family_name||""}`.trim()||"N/A"}),Aa=r(()=>{var e,a;return(null===(e=O.value)||void 0===e?void 0:e.nationalId)||(null===(a=O.value)||void 0===a?void 0:a.patientID)||"N/A"}),Da=r(()=>{var e;return(null===(e=O.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender)||"N/A"}),Ia=r(()=>{var e;return(null===(e=O.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)||"N/A"}),_a=r(()=>{var e;return(null===(e=O.value)||void 0===e?void 0:e.patientID)?Object.keys(ma.value).length>0?{...P.enrollmentForm,...ma.value}:P.enrollmentForm||{}:{}}),Fa=r(()=>{var e;return(null===(e=O.value)||void 0===e?void 0:e.patientID)&&A.formData||null}),Ra=r(()=>{var e;return(null===(e=O.value)||void 0===e?void 0:e.patientID)?Object.keys(fa.value).length>0?{...da.formData,...fa.value}:da.formData||null:null}),Na=r(()=>Object.keys(ha.value).length>0?{...ca,...ha.value}:ca),ka=r(()=>{var e;return ja(null===(e=_a.value)||void 0===e?void 0:e.resuscitationMethods)}),Ma=r(()=>ua.userFacilityName||localStorage.getItem("facilityName")||"Healthcare Facility"),Ha=r(()=>{var e;return(null===(e=ua.facilityLocation)||void 0===e?void 0:e.code)||localStorage.getItem("facility_code")||"-"}),Ca=r(()=>{var e;return(null===(e=ua.facilityLocation)||void 0===e?void 0:e.district)||localStorage.getItem("locationDistrict")||"-"}),Ta=r(()=>{const e=[Ma.value];return Ca.value&&"-"!==Ca.value&&e.push(Ca.value),Ha.value&&"-"!==Ha.value&&e.push(`Code: ${Ha.value}`),e.join(" · ")}),za=r(()=>Na.value.signOffDate?new Date(Na.value.signOffDate).toLocaleString():(new Date).toLocaleString()),La=e=>null==e||""===e?"-":Array.isArray(e)?e.length?e.join(", "):"-":String(e),ja=e=>e&&e.length?e.join(", "):"-",Ba=async()=>{const e=La(Aa.value);if(e&&"-"!==e)try{pa.value=await y.toDataURL(e,{width:140,margin:1})}catch(a){console.error("Error generating QR:",a),pa.value=""}else pa.value=""},Ga=()=>{va.value=!0,setTimeout(Ba,50)},Va=()=>{va.value=!1};return o(async()=>{var e;window.addEventListener("beforeprint",Ga),window.addEventListener("afterprint",Va);const a=null===(e=O.value)||void 0===e?void 0:e.patientID;a&&(da.initializeForPatient(Number(a)),P.initializeEnrollmentForm(Number(a)),A.initializeForPatient(Number(a)),await B())}),d(()=>{window.removeEventListener("beforeprint",Ga),window.removeEventListener("afterprint",Va)}),l([Aa,va],()=>{va.value&&setTimeout(Ba,50)}),l(()=>{var e;return null===(e=O.value)||void 0===e?void 0:e.patientID},async e=>{e&&(da.initializeForPatient(Number(e)),P.initializeEnrollmentForm(Number(e)),A.initializeForPatient(Number(e)),await B())}),t({showPreview:()=>{va.value=!0,setTimeout(Ba,50)},hidePreview:()=>{va.value=!1},exportPdf:async()=>{var e,a,t,i,n,l,s,r,o,d,u;const[c,v]=await Promise.all([Oa(wa),Oa(ba)]),p=new b({orientation:"portrait",unit:"pt",format:"a4"}),m=p.internal.pageSize.getWidth(),f=p.internal.pageSize.getHeight(),h=28,g=(m-56-14)/2,w=h+g+14;let S,O,P=36,A=h;if(c&&(p.addImage(c,"PNG",h,h,52,52),A=90),v){const e=A;p.addImage(v,"PNG",e,h,52,52),A=e+52+10}p.setFontSize(14),p.setFont("helvetica","bold"),p.text(String(Ma.value||"Facility"),A,P),P+=18,p.text("Neotree Malawi · Tertiary Admission Form",A,P),p.setFontSize(11),p.setFont("helvetica","normal"),P+=16,[`Patient: ${La(Pa.value)}`,`NPID: ${La(Aa.value)}`,`DOB: ${La(Ia.value)}`].forEach(e=>{p.text(e,A,P),P+=14});const D=La(Aa.value);let I=h;if(D&&"-"!==D)try{const e=await y.toDataURL(D,{width:100,margin:1}),a=m-h-100,t=h;p.addImage(e,"PNG",a,t,100,100),I=t+100}catch(M){console.warn("QR generation failed",M)}const _=Math.max(P,I+6)+12;S=_,O=_;const F=(e,a,t)=>{const i="left"===t?28:w,n="left"===t?S:O;x(p,{startY:n,margin:{left:i,right:m-i-g},tableWidth:g,head:[[e,""]],body:a.map(([e,a])=>[e,La(a)]),theme:"grid",styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[232,232,232],textColor:20,fontStyle:"bold"},columnStyles:{0:{cellWidth:.48*g},1:{cellWidth:.52*g,halign:"right"}}});const l=p.lastAutoTable.finalY||n;"left"===t?S=l+10:O=l+10};F("Birth Details",[["Twin",_a.value.hasTwin],["Place of birth",_a.value.placeOfBirth],["Birth facility",_a.value.nameOfBirthFacility],["Type of birth",_a.value.typeOfBirth],["Birth weight (g)",_a.value.birthWeight],["Gestation (weeks)",_a.value.gestationWeeks],["APGAR (1 min)",_a.value.apgarScoreAt1],["APGAR (5 min)",_a.value.apgarScoreAt5],["APGAR (10 min)",_a.value.apgarScoreAt10],["Cried after birth",_a.value.criedAfterBirth],["Resuscitation",ka.value]],"left"),F("Pregnancy & Delivery",[["Mode of delivery",_a.value.modeOfDelivery],["Rupture of membranes",_a.value.ruptureOfMembranes],["Duration of ROM",_a.value.durationOfRuptureMembranes],["Offensive liquor",_a.value.offensiveLiquor],["Meconium present",_a.value.meconiumPresent],["Maternal analgesia",_a.value.maternalAnalgesia],["Anaesthesia used",_a.value.anesthesiaUsed],["Steroids given",_a.value.steroidsGiven],["Gestation assessment",_a.value.gestationMethodAssessment]],"left"),F("Maternal Information",[["Mother name",_a.value.motherName],["Mother NPID",_a.value.motherNationalId],["HIV status",_a.value.motherHivStatus],["Last HIV test",_a.value.lastHivTestDate],["VDRL result",_a.value.motherVdrlResult],["Hepatitis result",_a.value.motherHepatitisResult],["Tetanus/Diphtheria",ja(_a.value.tetanusDiphtheria)]],"left"),F("Admission Outcome",[["Outcome",Na.value.admissionOutcome],["Safeguard concerns",Na.value.safeguardConcerns]],"left"),F("Patient Information",[["Name",Pa.value],["NPID",Aa.value],["Gender",Da.value],["Date of birth",Ia.value||Ia],["Admitted from",_a.value.admittedFrom],["Referred from",_a.value.referredFrom],["Transport mode",_a.value.modeOfTransport]],"right"),console.log(Fa.value),F("Presenting Complaints",[["Complaints",ja(null===(e=Fa.value)||void 0===e?void 0:e.presenting_complaints)],["Onset",null===(a=Fa.value)||void 0===a?void 0:a.symptom_onset_time],["Severity",null===(t=Fa.value)||void 0===t?void 0:t.symptom_severity],["Notes",null===(i=Fa.value)||void 0===i?void 0:i.detailed_assessment_notes]],"right"),F("Vital Signs",[["Temp (°C)",null===(n=Ra.value)||void 0===n?void 0:n.temperature],["Heart rate",null===(l=Ra.value)||void 0===l?void 0:l.heart_rate],["Resp rate",null===(s=Ra.value)||void 0===s?void 0:s.respiratory_rate],["Oxygen saturation",null===(r=Ra.value)||void 0===r?void 0:r.oxygen_saturation],["Blood sugar",null===(o=Ra.value)||void 0===o?void 0:o.blood_sugar],["Current weight (g)",null===(d=Ra.value)||void 0===d?void 0:d.current_weight],["Head circumference",null===(u=Ra.value)||void 0===u?void 0:u.head_circumference]],"right"),F("Sign-off",[["Healthcare Worker",Na.value.healthcareWorkerId],["Role/Cadre",Na.value.userRole],["Signature",Na.value.electronicSignature],["Date",za.value]],"right");const R=p.getNumberOfPages(),N=`Generated: ${(new Date).toLocaleString()}`;for(let b=1;b<=R;b++){p.setPage(b),p.setFontSize(8),p.setFont("helvetica","normal");const e=f-16;p.text(N,h,e,{align:"left"}),p.text(`Page ${b} of ${R}`,m-h,e,{align:"right"})}const k=`admission-summary-${Aa.value||"patient"}.pdf`;p.save(k)}}),(a,t)=>{var i,n,l,s;return u((p(),v("div",{class:m(["printable-admission-form",{"preview-mode":e.forceShow,"print-mode":!e.forceShow}])},[f("header",V,[f("div",W,[f("img",{src:g(xa),alt:"Neotree logo",class:"header-logo"},null,8,$),f("img",{src:g(Sa),alt:"Coat of arms",class:"header-logo app-logo"},null,8,E)]),f("div",U,[f("div",q,w(Ma.value),1),f("div",J,w(Ca.value)+" · Code: "+w(Ha.value),1),t[0]||(t[0]=f("div",{class:"form-title"},"Neotree Malawi · Tertiary Admission Form",-1)),f("div",Q,[f("span",null,"Patient: "+w(Pa.value),1),f("span",null,"NPID: "+w(Aa.value),1),f("span",null,"DOB: "+w(Ia.value),1)])]),e.forceShow?h("",!0):(p(),v("div",Y,[pa.value?(p(),v("img",{key:0,src:pa.value,class:"qr-img",alt:"Patient QR"},null,8,K)):h("",!0),f("div",X,w(Aa.value),1)]))]),f("div",Z,[f("div",ee,[f("section",ae,[t[12]||(t[12]=f("h3",{class:"section-title"},"Birth Details",-1)),f("div",te,[t[1]||(t[1]=f("span",null,"Twin",-1)),f("span",null,w(La(_a.value.hasTwin)),1)]),f("div",ie,[t[2]||(t[2]=f("span",null,"Place of birth",-1)),f("span",null,w(La(_a.value.placeOfBirth)),1)]),f("div",ne,[t[3]||(t[3]=f("span",null,"Birth facility",-1)),f("span",null,w(La(_a.value.nameOfBirthFacility)),1)]),f("div",le,[t[4]||(t[4]=f("span",null,"Type of birth",-1)),f("span",null,w(La(_a.value.typeOfBirth)),1)]),f("div",se,[t[5]||(t[5]=f("span",null,"Birth weight (g)",-1)),f("span",null,w(La(_a.value.birthWeight)),1)]),f("div",re,[t[6]||(t[6]=f("span",null,"Gestation (weeks)",-1)),f("span",null,w(La(_a.value.gestationWeeks)),1)]),f("div",oe,[t[7]||(t[7]=f("span",null,"APGAR (1 min)",-1)),f("span",null,w(La(_a.value.apgarScoreAt1)),1)]),f("div",de,[t[8]||(t[8]=f("span",null,"APGAR (5 min)",-1)),f("span",null,w(La(_a.value.apgarScoreAt5)),1)]),f("div",ue,[t[9]||(t[9]=f("span",null,"APGAR (10 min)",-1)),f("span",null,w(La(_a.value.apgarScoreAt10)),1)]),f("div",ce,[t[10]||(t[10]=f("span",null,"Cried after birth",-1)),f("span",null,w(La(_a.value.criedAfterBirth)),1)]),f("div",ve,[t[11]||(t[11]=f("span",null,"Resuscitation",-1)),f("span",null,w(ka.value),1)])]),f("section",pe,[t[22]||(t[22]=f("h3",{class:"section-title"},"Pregnancy & Delivery",-1)),f("div",me,[t[13]||(t[13]=f("span",null,"Mode of delivery",-1)),f("span",null,w(La(_a.value.modeOfDelivery)),1)]),f("div",fe,[t[14]||(t[14]=f("span",null,"Rupture of membranes",-1)),f("span",null,w(La(_a.value.ruptureOfMembranes)),1)]),f("div",he,[t[15]||(t[15]=f("span",null,"Duration of ROM",-1)),f("span",null,w(La(_a.value.durationOfRuptureMembranes)),1)]),f("div",ge,[t[16]||(t[16]=f("span",null,"Offensive liquor",-1)),f("span",null,w(La(_a.value.offensiveLiquor)),1)]),f("div",we,[t[17]||(t[17]=f("span",null,"Meconium present",-1)),f("span",null,w(La(_a.value.meconiumPresent)),1)]),f("div",be,[t[18]||(t[18]=f("span",null,"Maternal analgesia",-1)),f("span",null,w(La(_a.value.maternalAnalgesia)),1)]),f("div",ye,[t[19]||(t[19]=f("span",null,"Anaesthesia used",-1)),f("span",null,w(La(_a.value.anesthesiaUsed)),1)]),f("div",xe,[t[20]||(t[20]=f("span",null,"Steroids given",-1)),f("span",null,w(La(_a.value.steroidsGiven)),1)]),f("div",Se,[t[21]||(t[21]=f("span",null,"Gestation assessment",-1)),f("span",null,w(La(_a.value.gestationMethodAssessment)),1)])]),f("section",Oe,[t[30]||(t[30]=f("h3",{class:"section-title"},"Maternal Information",-1)),f("div",Pe,[t[23]||(t[23]=f("span",null,"Mother name",-1)),f("span",null,w(La(_a.value.motherName)),1)]),f("div",Ae,[t[24]||(t[24]=f("span",null,"Mother NPID",-1)),f("span",null,w(La(_a.value.motherNationalId)),1)]),f("div",De,[t[25]||(t[25]=f("span",null,"HIV status",-1)),f("span",null,w(La(_a.value.motherHivStatus)),1)]),f("div",Ie,[t[26]||(t[26]=f("span",null,"Last HIV test",-1)),f("span",null,w(La(_a.value.lastHivTestDate)),1)]),f("div",_e,[t[27]||(t[27]=f("span",null,"VDRL result",-1)),f("span",null,w(La(_a.value.motherVdrlResult)),1)]),f("div",Fe,[t[28]||(t[28]=f("span",null,"Hepatitis result",-1)),f("span",null,w(La(_a.value.motherHepatitisResult)),1)]),f("div",Re,[t[29]||(t[29]=f("span",null,"Tetanus/Diphtheria",-1)),f("span",null,w(ja(_a.value.tetanusDiphtheria)),1)])]),f("section",Ne,[t[33]||(t[33]=f("h3",{class:"section-title"},"Admission Outcome",-1)),f("div",ke,[t[31]||(t[31]=f("span",null,"Outcome",-1)),f("span",Me,w(La(Na.value.admissionOutcome)),1)]),f("div",He,[t[32]||(t[32]=f("span",null,"Safeguard concerns",-1)),f("span",null,w(La(Na.value.safeguardConcerns)),1)])])]),f("div",Ce,[f("section",Te,[t[41]||(t[41]=f("h3",{class:"section-title"},"Patient Information",-1)),f("div",ze,[t[34]||(t[34]=f("span",null,"Name",-1)),f("span",null,w(Pa.value),1)]),f("div",Le,[t[35]||(t[35]=f("span",null,"NPID",-1)),f("span",null,w(Aa.value),1)]),f("div",je,[t[36]||(t[36]=f("span",null,"Gender",-1)),f("span",null,w(Da.value),1)]),f("div",Be,[t[37]||(t[37]=f("span",null,"Date of birth",-1)),f("span",null,w(Ia.value),1)]),f("div",Ge,[t[38]||(t[38]=f("span",null,"Admitted from",-1)),f("span",null,w(La(_a.value.admittedFrom)),1)]),f("div",Ve,[t[39]||(t[39]=f("span",null,"Referred from",-1)),f("span",null,w(La(_a.value.referredFrom)),1)]),f("div",We,[t[40]||(t[40]=f("span",null,"Transport mode",-1)),f("span",null,w(La(_a.value.modeOfTransport)),1)])]),f("section",$e,[t[46]||(t[46]=f("h3",{class:"section-title"},"Presenting Complaints",-1)),f("div",Ee,[t[42]||(t[42]=f("span",null,"Complaints",-1)),f("span",null,w(ja(null===(i=Fa.value)||void 0===i?void 0:i.presenting_complaints)),1)]),f("div",Ue,[t[43]||(t[43]=f("span",null,"Onset",-1)),f("span",null,w(La(null===(n=Fa.value)||void 0===n?void 0:n.symptom_onset_time)),1)]),f("div",qe,[t[44]||(t[44]=f("span",null,"Severity",-1)),f("span",null,w(La(null===(l=Fa.value)||void 0===l?void 0:l.symptom_severity)),1)]),f("div",Je,[t[45]||(t[45]=f("span",null,"Notes",-1)),f("span",null,w(La(null===(s=Fa.value)||void 0===s?void 0:s.detailed_assessment_notes)),1)])]),Ra.value?(p(),v("section",Qe,[t[54]||(t[54]=f("h3",{class:"section-title"},"Vital Signs",-1)),f("div",Ye,[t[47]||(t[47]=f("span",null,"Temp (°C)",-1)),f("span",null,w(La(Ra.value.temperature)),1)]),f("div",Ke,[t[48]||(t[48]=f("span",null,"Heart rate",-1)),f("span",null,w(La(Ra.value.heart_rate)),1)]),f("div",Xe,[t[49]||(t[49]=f("span",null,"Resp rate",-1)),f("span",null,w(La(Ra.value.respiratory_rate)),1)]),f("div",Ze,[t[50]||(t[50]=f("span",null,"Oxygen saturation",-1)),f("span",null,w(La(Ra.value.oxygen_saturation)),1)]),f("div",ea,[t[51]||(t[51]=f("span",null,"Blood sugar",-1)),f("span",null,w(La(Ra.value.blood_sugar)),1)]),f("div",aa,[t[52]||(t[52]=f("span",null,"Current weight (g)",-1)),f("span",null,w(La(Ra.value.current_weight)),1)]),f("div",ta,[t[53]||(t[53]=f("span",null,"Head circumference",-1)),f("span",null,w(La(Ra.value.head_circumference)),1)])])):h("",!0),f("section",ia,[t[59]||(t[59]=f("h3",{class:"section-title"},"Sign-off",-1)),f("div",na,[t[55]||(t[55]=f("span",null,"Healthcare Worker",-1)),f("span",null,w(La(Na.value.healthcareWorkerId)),1)]),f("div",la,[t[56]||(t[56]=f("span",null,"Role/Cadre",-1)),f("span",null,w(La(Na.value.userRole)),1)]),f("div",sa,[t[57]||(t[57]=f("span",null,"Signature",-1)),f("span",null,w(La(Na.value.electronicSignature)),1)]),f("div",ra,[t[58]||(t[58]=f("span",null,"Date",-1)),f("span",null,w(za.value),1)])])])]),f("div",oa,[f("span",null,"Generated: "+w((new Date).toLocaleString()),1),f("span",null,w(Ta.value),1)])],2)),[[c,e.forceShow||va.value]])}}}),ua=M(da,[["__scopeId","data-v-6a17dbc5"]]),ca={class:"print-summary-wrapper"},va={class:"print-content"},pa={class:"print-actions"},ma=(e("P",M(t({__name:"PrintSummarySection",setup(e,{expose:a}){const t=n(null),i=n(null),l=n(null),s=j[1],r=s.formData,o=s.subtitle,d=async()=>{var e,a;null!==(e=i.value)&&void 0!==e&&e.exportPdf?await i.value.exportPdf():null!==(a=l.value)&&void 0!==a&&a.exportPdf&&await l.value.exportPdf()};return a({getFormRef:()=>t.value,validateForm:()=>null,getFormValues:()=>({})}),(e,a)=>(p(),v("div",ca,[S(H,{formData:g(r),subtitle:g(o),ref_key:"formRef",ref:t,class:"main-form"},{printSection:O(()=>[f("div",va,[f("div",pa,[S(g(P),{expand:"block",color:"primary",onClick:d,class:"print-button"},{default:O(()=>[S(g(D),{icon:g(I),slot:"start"},null,8,["icon"]),a[0]||(a[0]=A(" Print Admission Summary ",-1))]),_:1})])])]),_:1},8,["formData","subtitle"]),S(ua,{ref_key:"printablePrintRef",ref:l},null,512)]))}}),[["__scopeId","data-v-c84df6d7"]])),()=>JSON.parse(JSON.stringify(B)));e("u",_("neonatalAdmissionOutcomesStore",{state:()=>({activePatientId:null,admissionOutcomesForm:ma(),admissionOutcomesFormCache:{}}),getters:{getActivePatientId(){return this.activePatientId}},actions:{initializeAdmissionOutcomesForm(e){if(null==e)return this.activePatientId=null,void Object.assign(this.admissionOutcomesForm,ma());this.activePatientId=e;const a=this.admissionOutcomesFormCache[String(e)];a?Object.assign(this.admissionOutcomesForm,a):Object.assign(this.admissionOutcomesForm,ma()),this.saveAdmissionOutcomesSnapshot()},saveAdmissionOutcomesSnapshot(){null!=this.activePatientId&&(this.admissionOutcomesFormCache[String(this.activePatientId)]=JSON.parse(JSON.stringify(this.admissionOutcomesForm)))},resetAdmissionOutcomesForm(){Object.assign(this.admissionOutcomesForm,ma()),this.saveAdmissionOutcomesSnapshot()},clearAdmissionOutcomesForm(e){delete this.admissionOutcomesFormCache[String(e)],this.activePatientId===e&&this.resetAdmissionOutcomesForm()}},persist:{paths:["activePatientId","admissionOutcomesForm","admissionOutcomesFormCache"]}}))}}});
