import{d as b,r as d,bH as T,w as g,e as y,f as k,l as S,u as O,ab as P,ae as V,am as z,b2 as C,eU as R,H as f,O as $,J as h,k as B}from"./vendor-CAxM8KGs.js";import{z as U,_ as A,T as j,u as E}from"../index-CSiBRz_H.js";import{k as m,j as I,N as H}from"./NeonatalStepper-uAfLQ8AM.js";import{A as W}from"./AdmissionProgressBar-CIxDOz0A.js";import{u as J}from"./useAdmissionSignOff-DlVp6AlI.js";import{P as F,u as K}from"./useNeonatalAdmissionOutcomesStore-Bb8xclAZ.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-y0ZeiY9V.js";import"./SaveProgressModal-BP95xqUB.js";import"./images-Zb0Yk5XL.js";import"./enrollment-DU-PLRUa.js";import"./neonatal_service-CM1yLg5R.js";import"./admissionWorkflow-C1e4oic-.js";import"./useNeonatalEnrollmentStore-Dr5mQm84.js";import"./useSignsSymptomsStore-zSaivufi.js";import"./useNeonatalVitalsStore-bxf6ZKul.js";const L={class:"admission-signoff-wrapper"},q=b({__name:"AdmissionSignOffSection",setup(n,{expose:l}){const s=d(null),i=m[0],c=i.formData,u=i.subtitle,r=T(I);J(s);const p=e=>{r&&(r.healthcareWorkerId=e.healthcareWorkerId||"",r.electronicSignature=e.electronicSignature||"",r.userRole=e.userRole||"",r.signOffDate=e.signOffDate||"")};return g(()=>{var e;return(e=s.value)==null?void 0:e.formValues},e=>{e&&p(e)},{deep:!0}),g(()=>s.value,e=>{e!=null&&e.getFormValues&&p(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>s.value,validateForm:()=>{var e,a;return((a=(e=s.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=s.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(k(),y("div",L,[S(U,{formData:O(c),subtitle:O(u),ref_key:"formRef",ref:s,class:"main-form"},null,8,["formData","subtitle"])]))}}),D=A(q,[["__scopeId","data-v-d193646e"]]),G=b({name:"NeonatalAdmissionSignOff",components:{IonPage:V,IonContent:P,Toolbar:j,NeonatalStepper:H,AdmissionProgressBar:W,AdmissionSignOffSection:D,PrintSummarySection:F},setup(){const n=z(),l=E(),{patient:s}=C(l),i=K(),c=d(!1),u=o=>{const t=Number(o);return Number.isFinite(t)?t:null},r=()=>{var t;const o=u((t=s.value)==null?void 0:t.patientID);i.initializeAdmissionOutcomesForm(o)};r(),g(()=>{var o;return(o=s.value)==null?void 0:o.patientID},()=>r());const p=i.admissionOutcomesForm;R(I,p),g(()=>i.admissionOutcomesForm,()=>i.saveAdmissionOutcomesSnapshot(),{deep:!0});const e=d("1"),a=d(m.map((o,t)=>({title:o.title,number:t+1,checked:!1,class:t===0?"open_step common_step":"common_step",last_step:t===m.length-1?"last_step":""}))),_=[{title:m[0].title,value:"1",component:D,configIndex:0},{title:m[1].title,value:"2",component:F,configIndex:1}],w=o=>{o&&o.value&&a.value.forEach((t,v)=>{o.value===(v+1).toString()?(t.class="open_step common_step",t.checked=!1):v<parseInt(o.value)-1?(t.class="common_step color_white",t.checked=!0):(t.class="common_step",t.checked=!1)})},N=_.length-1;return{wizardData:a,stepperData:_,stepperTitle:"Sign Off & Print",currentOpenStepper:e,updateStatus:w,getSaveFunction:o=>o===N?async()=>{if(!c.value){c.value=!0;try{n.push("/patientProfile")}finally{c.value=!1}}}:null,isSaving:c,neonatalAdmissionSignOffSections:m}}}),M={class:"signoff-container"};function Q(n,l,s,i,c,u){const r=f("Toolbar"),p=f("NeonatalStepper"),e=f("ion-content"),a=f("ion-page");return k(),$(a,{class:"neonatal-admission-signoff-page"},{default:h(()=>[S(r),S(e,{fullscreen:!0,class:"ion-padding"},{default:h(()=>[B("div",M,[S(p,{wizardData:n.wizardData,StepperData:n.stepperData,stepperTitle:n.stepperTitle,openStepper:n.currentOpenStepper,backUrl:"/patientProfile",flowType:"admissionOutcomes",sectionsConfig:n.neonatalAdmissionSignOffSections,useSkipLogic:!0,getSaveFunction:n.getSaveFunction,onUpdateStatus:n.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","sectionsConfig","getSaveFunction","onUpdateStatus"])])]),_:1})]),_:1})}const fe=A(G,[["render",Q],["__scopeId","data-v-b6e6d1fe"]]);export{fe as default};
