import{d as y,r as g,bH as R,w as f,e as S,f as d,l as v,u as _,c as O,O as I,m as $,ae as H,ab as j,am as E,b2 as G,eU as W,H as V,J as C}from"./vendor-DXMRec6a.js";import{z as w,_ as b,cl as J,cm as K,T as L,u as Q,t as T,F as X,w as Y}from"../index-DFvmUOLO.js";import{r as a,s as h,N as Z}from"./NeonatalStepper-CFl2PHrR.js";import{N as ee}from"./neonatal_service-CTPlnWgZ.js";import{u as oe}from"./useReviewOfSystemsStore-DZXiwRhc.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-89lqyBgH.js";import"./SaveProgressModal-CyD4LnOw.js";import"./images-Zb0Yk5XL.js";import"./enrollment-DU-PLRUa.js";const te={class:"review-of-systems-section-wrapper"},se=y({__name:"FeedingHistorySection",setup(m,{expose:u}){const o=g(null),n=a[0],l=n.formData,i=n.conditionalRules||[],s=R(h),r=e=>{s&&(s.type_of_feed=e.type_of_feed||"",s.mode_of_feeding=e.mode_of_feeding||"",s.frequency_of_feeding=e.frequency_of_feeding||"",s.duration_of_feeding=e.duration_of_feeding||"",s.effort_during_feeding=e.effort_during_feeding||"")};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(d(),S("div",te,[v(w,{formData:_(l),conditionalRules:_(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),N=b(se,[["__scopeId","data-v-a25a2bb1"]]),ae={class:"review-of-systems-section-wrapper"},ne=y({__name:"BowelMovementsSection",setup(m,{expose:u}){const o=g(null),n=a[1],l=n.formData,i=n.conditionalRules||[],s=R(h),r=e=>{s&&(s.is_baby_vomiting=e.is_baby_vomiting||"",s.frequency_of_vomiting=e.frequency_of_vomiting||"",s.passage_of_meconium=e.passage_of_meconium||"",s.frequency_of_stooling=e.frequency_of_stooling||"",s.color_of_stools=e.color_of_stools||"",s.consistency_of_stools=e.consistency_of_stools||"",s.blood_in_stools=e.blood_in_stools||"",s.mucus_in_stools=e.mucus_in_stools||"")};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(d(),S("div",ae,[v(w,{formData:_(l),conditionalRules:_(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),z=b(ne,[["__scopeId","data-v-f45bb653"]]),re={class:"review-of-systems-section-wrapper"},ie=y({__name:"UrineOutputSection",setup(m,{expose:u}){const o=g(null),n=a[2],l=n.formData,i=n.conditionalRules||[],s=R(h),r=e=>{s&&(s.is_baby_passing_urine=e.is_baby_passing_urine||"",s.number_of_wet_nappies=e.number_of_wet_nappies||"",s.color_of_urine=e.color_of_urine||"",s.volume_ml=e.volume_ml||"")};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(d(),S("div",re,[v(w,{formData:_(l),conditionalRules:_(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),A=b(ie,[["__scopeId","data-v-26cddab2"]]),le={class:"review-of-systems-section-wrapper"},ce=y({__name:"GrowthSection",setup(m,{expose:u}){const o=g(null),n=a[3],l=n.formData,i=n.conditionalRules||[],s=R(h),r=e=>{s&&(s.weight_trend_since_birth=e.weight_trend_since_birth||"")};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(d(),S("div",le,[v(w,{formData:_(l),conditionalRules:_(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),P=b(ce,[["__scopeId","data-v-206bac1f"]]),ue={class:"review-of-systems-section-wrapper"},me=y({__name:"MouthOropharynxSection",setup(m,{expose:u}){const o=g(null),n=a[4],l=n.formData,i=n.conditionalRules||[],s=R(h),r=e=>{s&&(s.does_baby_have_oral_thrush=e.does_baby_have_oral_thrush||"",s.does_baby_have_oral_sores=e.does_baby_have_oral_sores||"",s.does_baby_have_tongue_tie=e.does_baby_have_tongue_tie||"")};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(d(),S("div",ue,[v(w,{formData:_(l),conditionalRules:_(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),q=b(me,[["__scopeId","data-v-fc5c83d3"]]),fe={class:"review-of-systems-section-wrapper"},_e=y({__name:"AbdomenSection",setup(m,{expose:u}){const o=g(null),n=a[5],l=n.formData,i=n.conditionalRules||[],s=R(h),r=e=>{s&&(s.abdominal_distension=e.abdominal_distension||"",s.abdominal_pain=e.abdominal_pain||"",s.umbilical_condition=e.umbilical_condition||"")};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(d(),S("div",fe,[v(w,{formData:_(l),conditionalRules:_(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),M=b(_e,[["__scopeId","data-v-f83dc14b"]]),pe={class:"review-of-systems-section-wrapper"},de=y({__name:"MusculoskeletalSection",setup(m,{expose:u}){const o=g(null),n=a[6],l=n.formData,i=n.conditionalRules||[],s=R(h),r=e=>{s&&(s.skin_rash=e.skin_rash||"",s.talipes=e.talipes||"",s.extra_digits=e.extra_digits||"",s.spinal_bifida=e.spinal_bifida||"")};return f(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),f(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),u({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(d(),S("div",pe,[v(w,{formData:_(l),conditionalRules:_(i),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),U=b(de,[["__scopeId","data-v-fcac21c8"]]),ge={class:"review-of-systems-section-wrapper"},ve=y({__name:"SummarySection",setup(m,{expose:u}){const o=a[7],n=O(()=>o.formData.find(s=>s.componentType==="Alert")),l=O(()=>o.formData.find(s=>s.componentType==="summaryField")),i=R(h);return u({getFormRef:()=>null,validateForm:()=>null,getFormValues:()=>({...i||{}})}),(s,r)=>(d(),S("div",ge,[n.value?(d(),I(J,{key:0,config:n.value,allFormValues:_(i)||{}},null,8,["config","allFormValues"])):$("",!0),l.value?(d(),I(K,{key:1,config:l.value,allFormValues:_(i)||{}},null,8,["config","allFormValues"])):$("",!0)]))}}),B=b(ve,[["__scopeId","data-v-a186299b"]]),Fe=y({name:"ReviewOfSystems",components:{IonContent:j,IonPage:H,Toolbar:L,NeonatalStepper:Z,FeedingHistorySection:N,BowelMovementsSection:z,UrineOutputSection:A,GrowthSection:P,MouthOropharynxSection:q,AbdomenSection:M,MusculoskeletalSection:U,SummarySection:B},setup(){const m=E(),u=Q(),{patient:o}=G(u),n="Review Of Systems",l=g("1"),i=g(!1),s=oe(),r=p=>{const c=Number(p);return Number.isFinite(c)?c:null},e=()=>{var c;const p=r((c=o.value)==null?void 0:c.patientID);s.initializeForPatient(p)};e(),f(()=>{var p;return(p=o.value)==null?void 0:p.patientID},()=>e());const t=s.formData;W(h,t),f(()=>s.formData,()=>s.saveSnapshot(),{deep:!0});const k=g(a.map((p,c)=>({title:p.title,number:c+1,checked:!1,class:c===0?"open_step common_step":"common_step",last_step:c===a.length-1?"last_step":""}))),x=[{title:a[0].title,subtitle:a[0].subtitle,value:"1",component:N,configIndex:0},{title:a[1].title,subtitle:a[1].subtitle,value:"2",component:z,configIndex:1},{title:a[2].title,subtitle:a[2].subtitle,value:"3",component:A,configIndex:2},{title:a[3].title,subtitle:a[3].subtitle,value:"4",component:P,configIndex:3},{title:a[4].title,subtitle:a[4].subtitle,value:"5",component:q,configIndex:4},{title:a[5].title,subtitle:a[5].subtitle,value:"6",component:M,configIndex:5},{title:a[6].title,subtitle:a[6].subtitle,value:"7",component:U,configIndex:6},{title:a[7].title,subtitle:a[7].subtitle,value:"8",component:B,configIndex:7}];return{wizardData:k,stepperData:x,stepperTitle:n,currentOpenStepper:l,updateStatus:p=>{p&&p.value&&k.value.forEach((c,D)=>{p.value===(D+1).toString()?(c.class="open_step common_step",c.checked=!1):D<parseInt(p.value)-1?(c.class="common_step color_white",c.checked=!0):(c.class="common_step",c.checked=!1)})},getSaveFunction:p=>p===x.length-1?async()=>{var c;if(!((c=o.value)!=null&&c.patientID)){T("No patient selected");return}if(!i.value)try{if(i.value=!0,!Object.values(t).some(F=>Array.isArray(F)?F.length>0:typeof F=="boolean"?F===!0:F!=null&&F!=="")){T("Please complete at least one section of the review"),i.value=!1;return}await ee.saveReviewOfSystemsAssessment(o.value.patientID,t),X("Review of systems saved successfully"),await new Promise(F=>setTimeout(F,500)),m.push({path:"/neonatal/checkpoint"})}catch(D){console.error("Failed to save review of systems",D),Y("Failed to save review of systems. Please try again."),i.value=!1}}:null,neonatalReviewOfSystemsSections:a,isSaving:i}}});function ye(m,u,o,n,l,i){const s=V("Toolbar"),r=V("NeonatalStepper"),e=V("ion-content"),t=V("ion-page");return d(),I(t,{class:"review-of-systems-page"},{default:C(()=>[v(s),v(e,{fullscreen:!0},{default:C(()=>[v(r,{wizardData:m.wizardData,StepperData:m.stepperData,stepperTitle:m.stepperTitle,openStepper:m.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:m.getSaveFunction,sectionsConfig:m.neonatalReviewOfSystemsSections,flowType:"reviewOfSystems",onUpdateStatus:m.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","sectionsConfig","onUpdateStatus"])]),_:1})]),_:1})}const Ce=b(Fe,[["render",ye],["__scopeId","data-v-2f28f858"]]);export{Ce as default};
