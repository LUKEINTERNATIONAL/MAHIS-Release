import{d as P,a as Ye,r as x,e as m,f as c,k as o,l as n,J as s,Q as d,K as D,u as k,X as ee,bj as rt,N as W,F as O,R as U,fk as ct,H as a,O as T,ak as ce,$ as H,a0 as qe,a1 as Ke,P as te,ai as A,a5 as z,a6 as j,b3 as Qe,G as oe,E as Y,aj as Ze,I as q,a4 as K,i as ae,m as C,v as le,bo as he,am as de,al as X,aR as fe,cB as _e,aS as ge,aV as ve,bw as be,a7 as ye,cs as Se,M as De,L as pe,ba as dt,a3 as Xe,b2 as ut,c as ze,fl as pt,br as mt,di as ht,dj as ft,dk as _t,dl as gt,c6 as vt,d1 as bt,dX as yt,aU as St,bT as Dt,p as Ct}from"./vendor-BataJFSH.js";import{m as y,_ as R,t as J,l as Ce,B as Je,a3 as Vt,S as B,H as E,u as ne,n as Q,o as w,K as Ve,g as kt,aG as Ge,M as et,ai as wt,ci as Tt,Z as $t,w as It,cH as We,P as tt,W as At,T as Nt,bQ as Mt,bE as Bt,ab as Ot,a$ as Pt,a_ as Ft,aZ as Et}from"../index-CYcjB3lE.js";import{D as Rt}from"./DemographicBar-BmFdNEyR.js";import{S as Lt}from"./SaveProgressModal-BPbswCru.js";import{S as xt}from"./Stepper-BrwUBGhW.js";import{T as Ht}from"./nonPharmaTherapyStore-BeLj4Wxw.js";import{l as L}from"./lodash-NJiRuGo9.js";import{D as je,a as Ut}from"./drug_prescription_service-CAmeZFJa.js";import zt from"./WeightHeightChart-Ft4mrg5F.js";import{w as Gt,O as Wt}from"./weightAndHeight-UpWzgM_i.js";import{c as nt}from"./customDatePicker-BNK8L6Gt.js";import{i as se,s as st,j as jt,A as Yt,N as qt}from"./vaccines_service-jL4y0Qg3.js";import{I as Kt}from"./barcode-qrcode-reader-C5_YPMDe.js";import{S as ot}from"./stock_service-Qd2D6aOu.js";import{u as Qt,a as Zt,_ as Xt}from"./Registration-DEByNCkM.js";import{u as Jt}from"./AdministerOtherVaccinesStore-DKL9kpHC.js";import{B as en}from"./BasicForm-BGQiOLaa.js";import{_ as tn}from"./usePatientProfile-BH-LjvQ2.js";import{O as nn}from"./Outcome-T6JLQrwS.js";import"./apexcharts-BVd6_RNM.js";import"./NextAppointment-DAOKpNNs.js";import"./LabOrdersList-CIGW242p.js";import"./EnterLabResultsModal-D2Z2wbNc.js";import"./useUserActivities-BZ8hCdUF.js";import"./DateInputField-CuXM8Muc.js";import"./group_validation-B4vdPYQh.js";import"./RadiologyStore-BEC0RqeJ.js";import"./formatServerData-CrPFhp8u.js";import"./DashBox-MvA5RkFq.js";import"./previousComplaints-DWtu4qAA.js";import"./patient_complaints_service-CqslE5al.js";import"./useFormWizard-WA0BdVFf.js";import"./user_role_management-BpRRS3k4.js";import"./ncd_appointment_service-i5Ey5kTC.js";import"./OPDOutcome-DvtKc-We.js";import"./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-B3khOm_s.js";import"./VitalsMixin.vue_vue_type_script_lang-DA2Aouwm.js";import"./TreatmentPlan-Cd1Uspiz.js";import"./patient_diagnosis_service-Dw0KiIvk.js";import"./ComplicationsStore-BbalwQUK.js";import"./OPDDiagnosis-CUqmGVaH.js";import"./MedicalHistory-D5SZjFHa.js";import"./FeatusModal-Did74_aj.js";import"./AbdominalExamination-Cpnprn3u.js";import"./dewormingStore-HrwcJ5OD.js";import"./BasicCard-DGVeOuOR.js";import"./UpcomingFeature-DxFE7uji.js";import"./PastObstreticHistoryStore-BIJfUlKQ.js";import"./chartjs-B5Utg8dS.js";import"./sms_service-CfLPAmD3.js";import"./EIRreportsStore-DPBsJTJR.js";import"./Export-kNnnCNnD.js";import"./useLocation-Bl6i7Nj8.js";import"./useNeonatalEnrollmentStore-eD5cG8pe.js";import"./enrollment-DU-PLRUa.js";import"./wardsStore-CIkFtO0D.js";const sn={class:"flex flex-col items-center justify-center mt-6"},on={class:"phone mt-6"},an={class:"content"},ln={class:"overlay"},rn={style:{"margin-top":"20px"}},cn=P({__name:"QRCodeReader",emits:["scanresult"],setup(e,{emit:t}){Ye(async()=>{S()});const i=x(void 0),r=x(!1);function _(g){i.value=g,i.value!=null&&(y().setTempScannedBatchNumber(i.value),b(i.value))}function $(g){r.value=g}const u=x(null);function S(){var g;(g=u.value)==null||g.onCanPlay()}function f(){U.dismiss()}const v=t;function b(g){v("scanresult",g),f()}return(g,p)=>(c(),m(O,null,[o("div",sn,[o("div",on,[n(k(ee),null,{default:s(()=>[d(D(i.value),1)]),_:1}),o("div",an,[o("div",ln,[n(k(Kt),{ref_key:"refCamera",ref:u,capture:"shoot","show-on-stream":"",onOnloading:$,onResult:_},null,512),p[0]||(p[0]=rt('<div class="focus-frame" data-v-e0d52d85></div><div class="dark-overlay top" data-v-e0d52d85></div><div class="dark-overlay bottom" data-v-e0d52d85></div><div class="dark-overlay left" data-v-e0d52d85></div><div class="dark-overlay right" data-v-e0d52d85></div>',5))])])])]),o("div",rn,[n(k(W),{onClick:f,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"99%"}},{default:s(()=>[...p[1]||(p[1]=[d(" Cancel ",-1)])]),_:1})])],64))}}),it=R(cn,[["__scopeId","data-v-e0d52d85"]]),dn=P({name:"MyComponent",components:{IonAlert:ct},data(){return{isOpen:!1,alertButtons:[{text:"Close",role:"cancel",cssClass:"alert-danger-button"}],messageContent:"No available batches/lot numbers"}},methods:{setOpen(e){this.isOpen=e},handleDismiss(){this.setOpen(!1),this.$emit("alertClosed"),this.dismiss()},dismiss(){U.dismiss()}},mounted(){this.setOpen(!0)}});function un(e,t,i,r,_,$){const u=a("ion-alert");return c(),T(u,{"is-open":e.isOpen,header:"Please update stock","sub-header":"",message:e.messageContent,buttons:e.alertButtons,"css-class":"my-custom-alert",onDidDismiss:e.handleDismiss},null,8,["is-open","message","buttons","onDidDismiss"])}const re=R(dn,[["render",un],["__scopeId","data-v-cf655518"]]),pn=P({components:{IonRadioGroup:Ke,IonRadio:qe,IonItem:H,IonList:ce},props:{action:{type:Function,required:!0},retro:{type:Boolean,required:!0}},async mounted(){this.loadCurrentSelectedDrug()},watch:{retro:{handler(){this.checkToShow()},deep:!0}},data(){return{lotNumbers:[],selectedOption:{}}},methods:{compareWith(e,t){return e.id===t.id},handleChange(e){this.selectedOption=e.detail.value},checkIfSelected(){return L.has(this.selectedOption,"lotNumber")||this.checkDrugNameInt()==!0?!0:(J("Select a batch number!"),!1)},performAction(){this.checkIfSelected()==!0&&this.$emit("actionTriggered",this.selectedOption)},async loadCurrentSelectedDrug(){try{const t=y().getCurrentSelectedDrug();await this.formBatchList(t.drug.drug_id)}catch(e){}},async formBatchList(e){try{const i=y().getLotNumberData();console.log("ðŸš€ ~ data:",i),i.length==0&&this.$emit("emptyList",""),i.forEach(r=>{const _={id:r.id,lotNumber:r.batch_number};this.lotNumbers.push(_)}),this.checkToShow()}catch(t){}},addUnkownLotNumberOption(){const t=y().getCurrentSelectedDrug();this.lotNumbers.push({id:t.drug.drug_id,lotNumber:"Unknown"})},checkToShow(){this.$props.retro==!0&&this.addUnkownLotNumberOption(),this.checkDrugNameInt()},checkDrugNameInt(){const t=y().getCurrentSelectedDrug();return se(t.drug)==!0?(this.lotNumbers=[],this.lotNumbers.push({id:t.drug.drug_id,lotNumber:"Unknown"}),!0):!1}}});function mn(e,t,i,r,_,$){const u=a("ion-radio"),S=a("ion-item"),f=a("ion-radio-group"),v=a("ion-list"),b=a("ion-card"),g=a("ion-row");return c(),T(g,null,{default:s(()=>[n(b,{class:"shadowless-card",style:{width:"100%",padding:"0"}},{default:s(()=>[n(v,null,{default:s(()=>[n(f,{compareWith:e.compareWith,onIonChange:t[0]||(t[0]=p=>e.handleChange(p)),value:"start"},{default:s(()=>[(c(!0),m(O,null,te(e.lotNumbers,p=>(c(),T(S,{key:p.id},{default:s(()=>[n(u,{value:p},{default:s(()=>[d(D(p.lotNumber),1)]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["compareWith"])]),_:1})]),_:1})]),_:1})}const at=R(pn,[["render",mn],["__scopeId","data-v-aa570aee"]]),hn=P({components:{IonContent:K,IonHeader:q,IonItem:H,IonList:ce,IonMenu:Ze,IonTitle:Y,IonToolbar:oe,IonInput:Qe,BasicInputField:Je,PreviousVitals:Ce,customDatePicker:nt,lotNumberList:at,alert:re,IonCol:j,IonButton:W,IonRow:z},data(){return{iconsContent:Q,showPD:!1,showDateBtns:!0,vaccineDate:"",batchNumber:"",drugName:"",currentDrug:"",is_batch_number_valid:!1,batch_number_error_message:"Enter a valid batch number",full_name:"",sessionDate:E.toStandardHisDisplayFormat(B.getSessionDate()),InnerActionBtnPropeties:{name:"Scan",show:!0,fn:()=>{w(it,{class:"otherVitalsModal qr_code_modal"},!1)},icon:"",show_icon:!1},selected_date_:"",is_a_vaccine:!0}},computed:{...A(y,["tempScannedBatchNumber"]),...A(ne,["patient"])},setup(){const e=x(null);return{childComponentRef:e,triggerChildAction:()=>{e.value&&e.value.performAction()}}},async mounted(){this.loadCurrentSelectedDrug(),this.displayUserNames();const e=y();this.showPD=e.isVaccinePassed(),this.showDateBtns=!this.showPD},props:{customSchedule:{type:[],default:[]}},watch:{batchNumber:{handler(){this.validateBatchNumber()},deep:!0},tempScannedBatchNumber:{handler(){this.tempScannedBatchNumber!=null&&(this.batchNumber=this.tempScannedBatchNumber.text,this.validateBatchNumber())}}},methods:{loadCurrentSelectedDrug(){const e=y();this.currentDrug=e.getCurrentSelectedDrug(),this.drugName=this.currentDrug.drug.drug_name,this.batchNumber=this.currentDrug.drug.vaccine_batch_number?this.currentDrug.drug.vaccine_batch_number:"",se(this.currentDrug.drug)==!0&&(this.is_a_vaccine=!1,this.batchNumber="unknown")},showCPD(){this.showPD=!0,this.showDateBtns=!1},dismiss(){U.dismiss()},updateDate(e){this.vaccineDate=E.toStandardHisFormat(e)},saveBatchWithTodayDate(){let e=B.getSessionDate();this.saveDta(e)},saveBatch(){let e;L.isEmpty(this.vaccineDate)==!0?e=B.getSessionDate():e=this.vaccineDate,this.saveDta(e)},updateBatchNumber(e){var i;const t=e.target.value;this.batchNumber=t||((i=this.tempScannedBatchNumber)==null?void 0:i.text)||""},async ActionTriggered(e){const t={batch_number:e.lotNumber,date_administered:this.selected_date_,drug_id:this.currentDrug.drug.drug_id,drug_:this.currentDrug},i=y();i.setAdministeredVaccine(t),await st(this.patient),i.setTempScannedBatchNumber(null),this.dismiss()},saveDta(e){this.selected_date_=e,this.triggerChildAction()},isAlphaNumeric(e){return/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/.test(e)},validateBatchNumber(){this.isAlphaNumeric(this.batchNumber)==!0&&(this.is_batch_number_valid=!1),this.isAlphaNumeric(this.batchNumber)==!1&&(this.is_batch_number_valid=!0)},updateBatchNumberByPassValue(e){this.batchNumber=e},displayUserNames(){const t=Vt().getUser(),i=t.person.names[0].given_name,r=t.person.names[0].family_name;this.full_name=i+" "+r},childAction(){},ShowAlert(){}}}),fn={class:"modal_wrapper"},_n={class:"lbl-ct"},gn={class:"client_admi"},vn={class:"client_admin_sub_x"},bn={class:"btnContent"},yn={key:0,class:"saveBtn"},Sn={key:1,class:"saveBtn"};function Dn(e,t,i,r,_,$){const u=a("ion-col"),S=a("ion-label"),f=a("ion-row"),v=a("lotNumberList"),b=a("customDatePicker"),g=a("ion-icon"),p=a("ion-button");return c(),m("div",fn,[n(f,{style:{"margin-top":"10px"}},{default:s(()=>[n(u,{style:{"margin-left":"-3px"}},{default:s(()=>[...t[0]||(t[0]=[o("div",{class:"om"},"Administer Vaccine",-1)])]),_:1}),n(u,{size:"6",style:{"text-align":"right"}},{default:s(()=>[n(S,{class:"lbl-tl",style:{"font-size":"13"}},{default:s(()=>[t[1]||(t[1]=d(" Todays Date: ",-1)),o("span",_n,D(e.sessionDate),1)]),_:1})]),_:1})]),_:1}),n(f,null,{default:s(()=>[n(S,{style:{"font-weight":"600px","font-size":"20px",margin:"10px","margin-left":"0px"}},{default:s(()=>[d(D(e.drugName),1)]),_:1})]),_:1}),ae(n(f,null,{default:s(()=>[n(S,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:s(()=>[...t[2]||(t[2]=[d("Select Batch number",-1),o("span",{style:{color:"#b42318"}},"*",-1)])]),_:1})]),_:1},512),[[le,e.is_a_vaccine]]),ae(o("div",null,[n(v,{action:e.childAction,retro:e.showPD,ref:"childComponentRef",onActionTriggered:e.ActionTriggered,onEmptyList:e.ShowAlert},null,8,["action","retro","onActionTriggered","onEmptyList"])],512),[[le,e.is_a_vaccine]]),o("div",gn,[t[3]||(t[3]=o("span",{class:"client_admi_sub"},"Vaccination done by: ",-1)),o("span",vn,D(e.full_name),1)]),e.showPD?(c(),T(b,{key:0,onDateChange:e.updateDate},null,8,["onDateChange"])):C("",!0),o("div",bn,[e.showDateBtns?(c(),m("div",yn,[o("div",null,[n(p,{onClick:e.saveBatchWithTodayDate,class:"btnText",fill:"solid"},{default:s(()=>[t[4]||(t[4]=d(" Done today ",-1)),n(g,{slot:"end",size:"small",icon:e.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1},8,["onClick"])]),t[6]||(t[6]=o("div",{style:{"margin-bottom":"20px"}},null,-1)),o("div",null,[n(p,{class:"btnText",fill:"solid",onClick:e.showCPD},{default:s(()=>[t[5]||(t[5]=d(" Done earlier ",-1)),n(g,{slot:"end",size:"small",icon:e.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1},8,["onClick"])])])):C("",!0),e.showDateBtns?C("",!0):(c(),m("div",Sn,[n(f,{class:"ion-justify-content-between",style:{width:"100%"}},{default:s(()=>[n(u,{size:"auto"},{default:s(()=>[n(p,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[7]||(t[7]=[d(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:1}),n(u,{size:"auto"},{default:s(()=>[n(p,{onClick:e.saveBatch,class:"btnText",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[8]||(t[8]=[d(" Save ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]))])])}const me=R(hn,[["render",Dn],["__scopeId","data-v-6b431d87"]]),Cn=P({components:{IonRow:z,IonItem:H,IonList:ce,IonRadio:qe,IonRadioGroup:Ke,IonButton:W,IonCol:j},data(){return{reasons:[{id:1,name:"Mistake/ Wrong Entry",type:"Mistake/ Wrong Entry"},{id:2,name:"Duplicate",type:"Duplicate"},{id:3,name:"System Error",type:"System Error"}],selectedOption:{}}},computed:{...A(ne,["patient"])},async mounted(){},props:{},methods:{compareWith(e,t){return e.id===t.id},handleChange(e){this.selectedOption=e.detail.value},dismiss(){try{U.dismiss()}catch(e){}},checkIfSelected(){return L.has(this.selectedOption,"name")==!0?!0:(J("Select a reason!"),!1)},async voidVaccine1(){if(this.checkIfSelected()==!0)try{const e=y(),t=e.getVaccineToBeVoided();await jt(this.patient,t,this.selectedOption.name),Ve("Vaccine was successfully voided!"),e.setVaccineReload(!e.getVaccineReload()),U.dismiss({voided:!0})}catch(e){}}}}),Vn={class:"saveBtn"};function kn(e,t,i,r,_,$){const u=a("ion-row"),S=a("ion-radio"),f=a("ion-item"),v=a("ion-radio-group"),b=a("ion-list"),g=a("ion-button"),p=a("ion-col");return c(),m(O,null,[n(u,{class:"centered-content"},{default:s(()=>[...t[1]||(t[1]=[o("div",{class:"text-container"},[o("div",null,"Do you want to void this vaccine?"),o("div",null,"Please specify reason for voiding this administered vaccine?")],-1)])]),_:1}),n(u,null,{default:s(()=>[n(b,{style:{width:"100%"}},{default:s(()=>[n(v,{compareWith:e.compareWith,onIonChange:t[0]||(t[0]=V=>e.handleChange(V)),value:"start"},{default:s(()=>[(c(!0),m(O,null,te(e.reasons,V=>(c(),T(f,null,{default:s(()=>[n(S,{value:V},{default:s(()=>[d(D(V.name),1)]),_:2},1032,["value"])]),_:2},1024))),256))]),_:1},8,["compareWith"])]),_:1})]),_:1}),o("div",Vn,[n(u,{class:"ion-justify-content-between",style:{width:"100%"}},{default:s(()=>[n(p,{size:"auto"},{default:s(()=>[n(g,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[2]||(t[2]=[d(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:1}),n(p,{size:"auto"},{default:s(()=>[n(g,{onClick:e.voidVaccine1,class:"btnText",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[3]||(t[3]=[d(" Void ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})])],64)}const wn=R(Cn,[["render",kn],["__scopeId","data-v-6bfc32c8"]]),Tn=P({name:"Home",components:{IonContent:K,IonHeader:q,IonMenuButton:Se,IonPage:ye,IonTitle:Y,IonToolbar:oe,IonButton:W,IonCard:be,IonCardContent:ve,IonCardHeader:ge,IonCardSubtitle:_e,IonCardTitle:fe,IonAccordion:X,IonAccordionGroup:de,IonItem:H,IonLabel:ee,IonModal:he,IonCol:j,IonRow:z,alert:re},data(){return{iconsContent:Q,fowardData:{}}},computed:{},created(){},mounted(){},props:{vaccines:{type:{},default:{}},milestone_status:{type:String,default:0}},watch:{},setup(){let e=!1;return{isModalOpening:e,cleanupModal:()=>{e=!1;const i=document.querySelector(".pr_o");i&&i.remove()}}},methods:{covertToDate(e){return E.toStandardHisDisplayFormat(e)},getColorForVaccine(e){if(e.status=="administered")return"success";if(e.status!="administered")return this.milestone_status=="upcoming"?"medium":this.milestone_status=="current"?"success":"danger"},getInjectSignForVaccine(e){if(e.status=="administered")return this.iconsContent.greenInjection;if(e.status!="administered")return this.milestone_status=="upcoming"?"":this.iconsContent.fadedGreenIjection},getCheckBoxForVaccine(e){if(e.status=="administered")return this.iconsContent.improvedGreenTick;if(e.status!="administered")return this.milestone_status=="upcoming"?"":this.iconsContent.whiteCheckbox},async openAdministerVaccineModal(e){const t=document.querySelector(".pr_o");if(this.isModalOpening||t){console.log("Modal already open or opening, current state:",{isModalOpening:this.isModalOpening,modalExists:!!t});return}try{this.isModalOpening=!0;const i=y();i.setCurrentSelectedDrug(e);const r=new ot;let _;B.getPouchDbStatus()||B.getLanConnectionStatus()?_=await kt("stock",{selector:{drug_id:e.drug_id}}):_=await r.getDrugBatches(e.drug_id),i.setLotNumberData(_),this.checkIfAdminstredAndAskToVoid()||(_.length===0?se(e)?w(me,{class:"otherVitalsModal pr_o"}):w(re,{class:"otherVitalsModal pr_o"}):w(me,{class:"otherVitalsModal pr_o"}))}catch(i){throw console.error("Error opening modal:",i),i}finally{this.isModalOpening=!1,console.log("Modal open process completed")}},disableVaccine(e){if(e.status!=null&&e.status=="administered")return!1;if(e.can_administer!=null&&e.can_administer==!1)return!0;if(e.can_administer!=null&&e.can_administer==!0)return!1},checkVaccineName(e){return e.replace(/Pentavalent/g,"Penta")},checkIfAdminstredAndAskToVoid(){const e=y(),t=e.getCurrentSelectedDrug();return t.drug.status=="administered"?(e.setVaccineToBeVoided(t),w(wn,{class:"otherVitalsModal"},!1),!0):!1}}}),$n={class:"vaccinesList"},In={class:"button-content"},An={style:{"margin-top":"20px"}};function Nn(e,t,i,r,_,$){const u=a("ion-icon"),S=a("ion-button"),f=a("ion-col"),v=a("ion-row");return c(),m("div",$n,[n(v,null,{default:s(()=>[n(f,null,{default:s(()=>[(c(!0),m(O,null,te(e.vaccines,b=>(c(),T(S,{disabled:e.disableVaccine(b),class:"administerVac",key:b,onClick:g=>e.openAdministerVaccineModal(b),fill:"solid",color:e.getColorForVaccine(b),style:{background:"#ddeedd","border-radius":"8px",color:"#636363"}},{default:s(()=>[n(u,{slot:"start",icon:e.getInjectSignForVaccine(b)},null,8,["icon"]),o("div",In,[o("div",An,D(e.checkVaccineName(b.drug_name)),1),o("div",null,D(e.covertToDate(b.date_administered)),1)]),n(u,{slot:"end",icon:e.getCheckBoxForVaccine(b)},null,8,["icon"])]),_:2},1032,["disabled","onClick","color"]))),128))]),_:1})]),_:1})])}const ue=R(Tn,[["render",Nn],["__scopeId","data-v-a72ee172"]]),Mn=P({name:"Home",components:{IonIcon:pe,IonButton:W,customVaccine:ue,IonHeader:q,IonTitle:Y,IonFooter:De,IonCol:j,IonRow:z,IonContent:K},data(){return{iconsContent:Q,vaccineHistory:[]}},setup(){return{closeCircleOutline:Xe,checkmarkOutline:dt}},computed:{...A(y,["vaccineReload","vaccineSchedule"])},methods:{vaccinesGivenCount(e){const t=[];return e.antigens.forEach(i=>{i.status=="administered"&&t.push(i)}),t.length},dismiss(){U.dismiss()}}}),Bn={style:{color:"#016302"}},On={style:{color:"#316CBA","margin-left":"10%"}};function Pn(e,t,i,r,_,$){const u=a("ion-title"),S=a("ion-header"),f=a("ion-icon"),v=a("row"),b=a("customVaccine"),g=a("ion-content"),p=a("ion-button"),V=a("ion-col"),I=a("ion-row"),N=a("ion-footer");return c(),m(O,null,[n(S,null,{default:s(()=>[n(u,{style:{"margin-bottom":"20px"},class:"modalTitle OtherVitalsTitle"},{default:s(()=>[...t[1]||(t[1]=[d("Vaccination History",-1)])]),_:1})]),_:1}),n(g,{fullscreen:!0,class:"ion-padding"},{default:s(()=>[(c(!0),m(O,null,te(e.vaccineSchedule.vaccine_schedule,(l,h)=>(c(),m("div",{class:"mod-ls",key:h},[n(v,null,{default:s(()=>[n(f,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),o("span",null,[t[2]||(t[2]=d(" at ",-1)),o("span",Bn,D(l.age),1)]),o("span",On,D(e.vaccinesGivenCount(l))+"/"+D(l.antigens.length)+" vaccine(s) given",1)]),_:2},1024),n(v,null,{default:s(()=>[n(b,{vaccines:l.antigens,milestone_status:l.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),n(N,{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(I,null,{default:s(()=>[n(V,null,{default:s(()=>[n(p,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:t[0]||(t[0]=l=>e.dismiss())},{default:s(()=>[...t[3]||(t[3]=[d(" Cancel ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Fn=R(Mn,[["render",Pn],["__scopeId","data-v-59edb4e4"]]),En={style:{display:"flex","align-items":"center",gap:"10px"}},Rn={class:""},Ln={class:"ion-padding",slot:"content",style:{"padding-bottom":"200px"}},xn={class:""},Hn={class:"ion-padding",slot:"content"},Un={class:"ion-padding",slot:"content",style:{"padding-bottom":"120px"}},zn=P({__name:"followUpVisitModal",props:{protectedStatus:{},lastVaccinesGiven:{}},setup(e){const t=ne(),{patient:i}=ut(t),{setGuardianInformation:r}=Qt(),{getRelationships:_}=Zt(),$=ze(()=>[{componentType:"Heading",name:"Adverse event (s)"},{componentType:"checkboxField",name:"Severe local reaction",label:"Severe local reaction",type:"single",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Sepsis",label:"Sepsis",type:"single",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"High fever > 38*c",label:"High fever > 38*c",type:"single",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Encephalopathy",label:"Encephalopathy",type:"single",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Toxic Shock syndrome",label:"Toxic Shock syndrome",type:"single",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Convulsions",label:"Convulsions",type:"single",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Abscess",label:"Abscess",type:"single",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Thrombocytopenia",label:"Thrombocytopenia",type:"single",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Anaphylaxis",label:"Anaphylaxis",type:"single",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Other",label:"Other",type:"single",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"Dashes"},{componentType:"radioButtonField",name:"SeriousCheck",header:"Serious?",type:"inline",obsValueType:"value_coded",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Heading",name:"Seriousness of adverse effects",condition:l=>l.SeriousCheck==="Yes"},{componentType:"checkboxField",name:"Death",label:"Death",type:"single",condition:l=>l.SeriousCheck==="Yes",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Life threatening condition",label:"Life threatening condition",type:"single",condition:l=>l.SeriousCheck==="Yes",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Disability",label:"Disability",type:"single",condition:l=>l.SeriousCheck==="Yes",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Congenital disorders",label:"Congenital disorders",type:"single",condition:l=>l.SeriousCheck==="Yes",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Hospitalization",label:"Hospitalization",type:"single",condition:l=>l.SeriousCheck==="Yes",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"checkboxField",name:"Other",label:"Other",type:"single",condition:l=>l.SeriousCheck==="Yes",grid:{s:"6"},obsValueType:"value_coded"},{componentType:"Dashes"},{componentType:"radioButtonField",name:"Adverse effects outcome",header:"Outcome",type:"inline",obsValueType:"value_coded",options:[{label:"Recovering",value:"Recovering"},{label:"Not Recovered",value:"Not Recovered"},{label:"Recovered with sequelae",value:"Recovered with sequelae"},{label:"Died",value:"Patient died"},{label:"Recovered",value:"Cured - TB"},{label:"Unknown",value:"Unknown"}]},{componentType:"Dashes"},{componentType:"radioButtonField",name:"Investigation needed",header:"Investigation needed",type:"inline",obsValueType:"value_coded",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"dateInputField",header:"Date investigation planned",name:"Date investigation planned",obsValueType:"value_date",condition:l=>l["Investigation needed"]==="Yes"}]),u=ze(()=>[{componentType:"radioButtonField",name:"Protected at birth",header:"Protected at birth (PAB)",type:"inline",options:[{label:"Yes",value:"1065"},{label:"No",value:"1066"},{label:"Don't know",value:"1067"}]}]),S=x([]),f=x(null),v=x(null);async function b(){const{guardianObj:l,relationshipId:h}=await I();if(g(l)){const M=new Tt;await M.registerGuardian(l);const G=M.getPersonID();return h&&await $t.createRelation(i.value.patientID,G,h),Ve("Guarding information save successfully",3e3),!0}else return J("Guarding Information not save",3e3),!1}function g(l){return Object.values(l).some(h=>h!==""&&h!==null&&h!==void 0)}async function p(){const l=await b(),h=await V();l&&h&&U.dismiss()}async function V(){var l;if(i.value.patientID){const h=((l=v.value)==null?void 0:l.formValues)||{},M=await wt.buildObsValues(h);console.log("ðŸš€ ~ saveVaccineAdverseEffects ~ data:",M)}}async function I(){var G,Z,ie;const l=((G=f.value)==null?void 0:G.currentFormValues)||{},h=((Z=l==null?void 0:l.relationship)==null?void 0:Z.id)||"";return{guardianObj:{person_id:i.value.patientID||"",given_name:(l==null?void 0:l.guardianFirstname)||"",family_name:(l==null?void 0:l.guardianLastname)||"",middle_name:(l==null?void 0:l.guardianMiddleName)||"",gender:"",birthdate:"",cell_phone_number:((ie=l==null?void 0:l.guardianPhoneNumber)==null?void 0:ie.phoneNumber)||"",birthdate_estimated:!1,home_district:"",home_traditional_authority:"",home_village:"",current_district:"",current_traditional_authority:"",current_village:"",landmark:"",occupation:"",facility_name:"",patient_type:"",national_id:(l==null?void 0:l.guardianNationalID)||""},relationshipId:h}}function N(){U.dismiss()}return Ye(async()=>{i.value.personInformation.gender,r(f.value),S.value=await _(i.value.personInformation.gender)}),(l,h)=>{const M=a("ion-label"),G=a("ion-col");return c(),m(O,null,[n(k(q),{style:{display:"flex","justify-content":"space-between","align-items":"center"}},{default:s(()=>[o("div",En,[n(k(pe),{icon:k(pt),style:{"font-size":"1.5rem",color:"#08475e","padding-left":"10px"}},null,8,["icon"]),n(k(Y),{class:"modalTitle"},{default:s(()=>[...h[2]||(h[2]=[d("Follow up visits",-1)])]),_:1})]),n(k(pe),{onClick:h[0]||(h[0]=Z=>N()),style:{"padding-top":"10px","padding-right":"10px","font-size":"2rem",color:"#dc2626",cursor:"pointer"},icon:k(Xe)},null,8,["icon"])]),_:1}),n(k(K),{fullscreen:!0,class:"ion-padding",style:{"--background":"#fff"}},{default:s(()=>[o("div",Rn,[n(k(de),{ref:"accordionGroup",class:""},{default:s(()=>[n(k(X),{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(k(H),{slot:"header",color:"light"},{default:s(()=>[n(M,{class:"previousLabel"},{default:s(()=>[...h[3]||(h[3]=[d("Change Guardian",-1)])]),_:1})]),_:1}),o("div",Ln,[o("div",xn,[n(Xt,{relationshipsData:S.value,ref_key:"guardianInformationRef",ref:f},null,8,["relationshipsData"])])])]),_:1}),n(k(X),{value:"second","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(k(H),{slot:"header",color:"light"},{default:s(()=>[n(M,{class:"previousLabel"},{default:s(()=>[...h[4]||(h[4]=[d("Vaccine adverse effects",-1)])]),_:1})]),_:1}),o("div",Hn,[o("div",null,[n(Ge,{formData:$.value,ref_key:"vaccineAdverseEffectsFormRef",ref:v},null,8,["formData"])])])]),_:1}),e.protectedStatus!="Yes"?(c(),T(k(X),{key:0,value:"third","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(k(H),{slot:"header",color:"light"},{default:s(()=>[n(M,{class:"previousLabel"},{default:s(()=>[...h[5]||(h[5]=[d("Child protected at birth",-1)])]),_:1})]),_:1}),o("div",Un,[n(Ge,{formData:u.value,ref:"childProtectedAtBirthFormRef"},null,8,["formData"])])]),_:1})):C("",!0)]),_:1},512)])]),_:1}),n(k(De),{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(k(z),null,{default:s(()=>[n(G,null,{default:s(()=>[n(et,{onClick:h[1]||(h[1]=Z=>p()),name:"Save",fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})],64)}}}),Gn=R(zn,[["__scopeId","data-v-d3804593"]]),Wn=P({components:{IonContent:K,IonHeader:q,IonItem:H,IonList:ce,IonMenu:Ze,IonTitle:Y,IonToolbar:oe,IonInput:Qe,BasicInputField:Je,BasicForm:en,PreviousVitals:Ce,customDatePicker:nt,IonCol:j,IonRow:z,VueMultiselect:mt,IonLabel:ee,lotNumberList:at},data(){const e=x(0),t=x([]);return{iconsContent:Q,showPD:!1,batchNumber:"",vaccineName:"",currentDrugOb:{},comp_key:e,otherVaccinesList:t,is_batch_number_valid:!1,vaccineDate:"",is_vaccine_name_valid:!1,drugErrMsg:"",batch_number_error_message:"Enter a valid batch number",vaccine_name_error_message:"Enter a valid valid vaccine name",sessionDate:E.toStandardHisDisplayFormat(B.getSessionDate()),InnerActionBtnPropeties:{name:"Scan",show:!0,fn:()=>{w(it,{class:"otherVitalsModal qr_code_modal"},!1)},icon:"",show_icon:!1},showDateBtns:!0,selected_date_:"",show_select_batch:!1,skip_validation:!1,antigens:t}},computed:{...A(Jt,["administerOtherVaccine"]),...A(y,["tempScannedBatchNumber","vaccineSchedule"]),...A(ne,["patient"])},async mounted(){this.vaccineSchedule.vaccine_schedule.forEach(e=>{this.antigens.push(...e.antigens)})},watch:{batchNumber:{handler(){this.validateBatchNumber()},deep:!0},tempScannedBatchNumber:{handler(){this.tempScannedBatchNumber!=null&&(this.batchNumber=this.tempScannedBatchNumber.text,this.validateBatchNumber())}},vaccineName:{handler(){this.validateVaccineName()}}},setup(){const e=x(null);return{childComponentRef:e,triggerChildAction:()=>{e.value&&e.value.performAction()}}},methods:{showCPD(){this.showPD=!0,this.showDateBtns=!1},updateBatchNumber(e){var i;const t=e.target.value;this.batchNumber=t||((i=this.tempScannedBatchNumber)==null?void 0:i.text)||""},saveBatchWithTodayDate(){let e=B.getSessionDate();this.saveDta(e)},dismiss(){U.dismiss()},saveBatch(){let e;L.isEmpty(this.vaccineDate)==!0?e=B.getSessionDate():e=this.vaccineDate,this.saveDta(e)},validateVaccineName(){if(L.isEmpty(this.vaccineName)==!0)return this.is_vaccine_name_valid=!0,!1;if(L.isEmpty(this.vaccineName)==!1)return this.is_vaccine_name_valid=!1,!0},updateVaccineName(e){this.currentDrugOb=e,console.log(this.currentDrugOb),y().setCurrentSelectedDrug(e),this.pullLotNumbersForVaccine(this.currentDrugOb)},async pullLotNumbersForVaccine(e){this.show_select_batch=!1;const t=y(),r=await new ot().getDrugBatches(e.drug_id);t.setLotNumberData(r),r.length==0&&(se(e)==!1&&w(re,{class:"otherVitalsModal"}),se(e)==!0&&(this.show_select_batch=!1,this.skip_validation=!0)),r.length>0&&(this.comp_key=this.comp_key+1,this.show_select_batch=!0)},isAlphaNumeric(e){return/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/.test(e)},validateBatchNumber(){this.isAlphaNumeric(this.batchNumber)==!0&&(this.is_batch_number_valid=!1),this.isAlphaNumeric(this.batchNumber)==!1&&(this.is_batch_number_valid=!0)},updateBatchNumberByPassValue(e){this.batchNumber=e},ActionTriggered(e){const t={batch_number:e.lotNumber,date_administered:this.selected_date_,drug_id:this.currentDrugOb.drug_id,drug_:this.currentDrugOb},i=y();i.setAdministeredVaccine(t),st(this.patient),i.setTempScannedBatchNumber(null),this.dismiss()},saveDta(e){this.validateVaccineName()==!0&&(this.selected_date_=e,this.triggerChildAction(),this.show_select_batch==!1&&this.skip_validation==!1&&It("Please Update Stock for Selected Vaccine"))},childAction(){}}}),jn={class:"modal_wrapper"},Yn={class:"lbl-ct"},qn={style:{"margin-top":"30px"}},Kn={class:"btnContent"},Qn={key:0,class:"saveBtn"},Zn={key:1,class:"saveBtn"};function Xn(e,t,i,r,_,$){const u=a("ion-col"),S=a("ion-label"),f=a("ion-row"),v=a("VueMultiselect"),b=a("lotNumberList"),g=a("customDatePicker"),p=a("ion-icon"),V=a("ion-button");return c(),m("div",jn,[n(f,{style:{"margin-top":"10px"}},{default:s(()=>[n(u,{style:{"margin-left":"-3px"}},{default:s(()=>[...t[3]||(t[3]=[o("div",{class:"om"},"Add Other Vaccine",-1)])]),_:1}),n(u,{size:"6",style:{"text-align":"right"}},{default:s(()=>[n(S,{class:"lbl-tl",style:{"font-size":"13"}},{default:s(()=>[t[4]||(t[4]=d(" Todays Date: ",-1)),o("span",Yn,D(e.sessionDate),1)]),_:1})]),_:1})]),_:1}),o("div",qn,[n(f,null,{default:s(()=>[n(S,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:s(()=>[...t[5]||(t[5]=[d("Vaccine name",-1),o("span",{style:{color:"#b42318"}},"*",-1)])]),_:1})]),_:1}),n(v,{modelValue:e.vaccineName,"onUpdate:modelValue":[t[0]||(t[0]=I=>e.vaccineName=I),t[1]||(t[1]=I=>e.updateVaccineName(I))],multiple:!1,taggable:!1,"hide-selected":!1,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"select vaccine",placeholder:"select vaccine",selectLabel:"",label:"drug_name",searchable:!0,onSearchChange:t[2]||(t[2]=I=>e.$emit("search-change",I)),"track-by":"drug_id",options:e.otherVaccinesList},null,8,["modelValue","options"]),o("div",null,[e.is_vaccine_name_valid?(c(),T(S,{key:0,style:{padding:"3%"},class:"error-label"},{default:s(()=>[d(D(e.vaccine_name_error_message),1)]),_:1})):C("",!0)])]),ae(n(f,null,{default:s(()=>[n(S,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:s(()=>[...t[6]||(t[6]=[d("Batch numbers",-1),o("span",{style:{color:"#b42318"}},"*",-1)])]),_:1})]),_:1},512),[[le,e.show_select_batch]]),ae(o("div",null,[(c(),T(b,{action:e.childAction,retro:e.showPD,ref:"childComponentRef",onActionTriggered:e.ActionTriggered,key:e.comp_key},null,8,["action","retro","onActionTriggered"]))],512),[[le,e.show_select_batch]]),e.showPD?(c(),T(g,{key:0})):C("",!0),o("div",Kn,[e.showDateBtns?(c(),m("div",Qn,[o("div",null,[n(V,{onClick:e.saveBatchWithTodayDate,class:"btnText",fill:"solid"},{default:s(()=>[t[7]||(t[7]=d(" Done today ",-1)),n(p,{slot:"end",size:"small",icon:e.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1},8,["onClick"])]),t[9]||(t[9]=o("div",{style:{"margin-bottom":"20px"}},null,-1)),o("div",null,[n(V,{class:"btnText",fill:"solid",onClick:e.showCPD},{default:s(()=>[t[8]||(t[8]=d(" Done earlier ",-1)),n(p,{slot:"end",size:"small",icon:e.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1},8,["onClick"])])])):C("",!0),e.showDateBtns?C("",!0):(c(),m("div",Zn,[n(f,{class:"ion-justify-content-between"},{default:s(()=>[n(u,{size:"auto"},{default:s(()=>[n(V,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[10]||(t[10]=[d(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:1}),n(u,{size:"auto"},{default:s(()=>[n(V,{onClick:e.saveBatch,class:"btnText",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[11]||(t[11]=[d(" Save ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]))])])}const lt=R(Wn,[["render",Xn],["__scopeId","data-v-eb04f444"]]),Jn=P({name:"xxxComponent",components:{Carousel:gt,Slide:_t,Pagination:ft,Navigation:ht,customVaccine:ue,IonButton:W,IonCol:j,IonRow:z,IonLabel:ee},data(){return{vaccine_schArray:[],vaccineSchudulesCount:0,milestones:[],iconsContent:Q,showCurrentMilestoneAlert:!1,landingSlide:0,msg:"Upcoming Vaccines",current_milestone:"",componentKey:0}},computed:{...A(y,["vaccineReload"]),...A(ne,["patient"])},async mounted(){await this.loadVaccineSchedule()},watch:{vaccineReload:{async handler(){await this.loadVaccineSchedule()},deep:!0},patient:{async handler(){await this.loadVaccineSchedule()},deep:!0},vaccine_schArray:{handler(){this.reloadVaccines()}}},methods:{openAdministerOtherVaccineModal(){w(lt,{class:"otherVitalsModal"})},async loadVaccineSchedule(){var r,_,$,u,S,f,v,b,g;await this.setAppointmentDate();const e=this.patient.vaccineSchedule,t=y();t.setVaccineSchedule(e),t.setLastVaccinesGiven([]),this.vaccineSchudulesCount=(_=(r=t.getVaccineSchedule())==null?void 0:r.vaccine_schedule)==null?void 0:_.length,t.resetMissedVaccineSchedules(),this.vaccine_schArray=[],this.vaccine_schArray.push(($=t.getVaccineSchedule())==null?void 0:$.vaccine_schedule),(S=(u=t.getVaccineSchedule())==null?void 0:u.vaccine_schedule)==null||S.forEach(p=>{this.findMissingVaccines(p),this.findPreviouslyAdministeredVaccineSchedule(p),this.handleSchedule(p);const V={visit:p.visit,age:p.age};this.milestones=this.appendUniqueObject(this.milestones,V)});let i=!1;(v=(f=t.getVaccineSchedule())==null?void 0:f.vaccine_schedule)==null||v.forEach(p=>{if(!i&&this.findSingleUpcomingMilestone(p)==!0){i=!0;return}}),(g=(b=t.getVaccineSchedule())==null?void 0:b.vaccine_schedule)==null||g.forEach(p=>{this.findCurrentMilestone(p)})},setSB(e){const t=y();t.setCurrentMilestoneToAdminister({currentMilestone:e.age}),this.landingSlide=e.visit-1,this.current_milestone=e.age,t.setCurrentMilestone(e.age)},handleSchedule(e){e.milestone_status=="upcoming"?(y().setCurrentSchedFound(!1),this.msg="Upcoming Vaccines",this.showCurrentMilestoneAlert=!0,this.setSB(e)):(this.setSB(e),y().setCurrentSchedFound(!1))},findSingleUpcomingMilestone(e){return e.milestone_status=="upcoming"?(this.setSB(e),!0):!1},findCurrentMilestone(e){e.milestone_status=="current"&&(this.msg="Vaccines due today",y().setCurrentSchedFound(!0),this.showCurrentMilestoneAlert=!0,this.setSB(e))},slideEvent(e){const t=y(),i=t.getCurrentMilestoneToAdminister();this.milestones.forEach(_=>{_.visit-1==e.currentSlideIndex&&(t.setCurrentMilestone(_.age),this.current_milestone=_.age)});const r=t.getCurrentMilestone();if(r==i.currentMilestone){t.getCurrentSchedFound()==!1&&(this.msg="Upcoming Vaccines"),t.getCurrentSchedFound()==!0&&(this.msg="Vaccines due today"),this.showCurrentMilestoneAlert=!0;return}r.age!=i.currentMilestone&&(this.showCurrentMilestoneAlert=!1)},appendUniqueObject(e,t){return e.some(r=>r.visit===t.visit&&r.age===t.age)||e.push(t),e},isListEmpty(e){if(e.length>0)return!0;if(e.length==0)return!1},findMissingVaccines(e){const t={age:e.age,antigens:[]};e.milestone_status=="passed"&&e.antigens.forEach(r=>{r.status=="pending"&&t.antigens.push(r)});const i=y();t.antigens.length>0&&i.setMissedVaccineSchedules(t)},findPreviouslyAdministeredVaccineSchedule(e){const t=[];e.antigens.forEach(i=>{i.status=="administered"&&t.push(i)}),t.length>0&&y().setLastVaccinesGiven(t)},reloadVaccines(){this.componentKey+=1},openNextVaccineAppoinment(){w(qt,{class:"otherVitalsModal"},!1)},async setAppointmentDate(){const e=y(),i=await new Yt().getNextAppointment();i!=null&&i.next_appointment_date&&e.setNextAppointMentDate(i.next_appointment_date)}}}),es={key:0,class:"alert_banner"},ts={key:1,class:"alert_banner",style:{background:"inherit"}},ns={class:"container"},ss={class:"center-content"},os={class:"centerBtns"},is={class:"otherVaccine center-content"},as={class:"centerBtns"};function ls(e,t,i,r,_,$){const u=a("apan"),S=a("customVaccine"),f=a("ion-button"),v=a("ion-row"),b=a("slide"),g=a("navigation"),p=a("pagination"),V=a("carousel");return c(),m(O,null,[e.showCurrentMilestoneAlert?(c(),m("div",es,[n(u,null,{default:s(()=>[d(D(e.msg),1)]),_:1})])):C("",!0),e.showCurrentMilestoneAlert?C("",!0):(c(),m("div",ts)),e.vaccineSchudulesCount>0?(c(),T(V,{key:2,"items-to-show":1,modelValue:e.landingSlide,onSlideEnd:e.slideEvent},{addons:s(()=>[n(g),n(p)]),default:s(()=>[(c(!0),m(O,null,te(e.vaccineSchudulesCount,(I,N)=>(c(),T(b,{key:I},{default:s(()=>[n(v,{class:""},{default:s(()=>[o("div",ns,[(c(),T(S,{vaccines:e.vaccine_schArray[0][N].antigens,milestone_status:e.vaccine_schArray[0][N].milestone_status,key:e.componentKey},null,8,["vaccines","milestone_status"]))]),n(v,{class:"bottom-row"},{default:s(()=>[o("div",ss,[o("div",os,[n(f,{onClick:t[0]||(t[0]=l=>e.openNextVaccineAppoinment()),class:"btnText",fill:"solid"},{default:s(()=>[...t[1]||(t[1]=[d("Set Next Appointment Date",-1)])]),_:1})])])]),_:1})]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue","onSlideEnd"])):C("",!0),n(v,{class:"bottom-row"},{default:s(()=>[o("div",is,[o("div",as,[n(f,{onClick:e.openAdministerOtherVaccineModal,class:"btnText",fill:"solid"},{default:s(()=>[...t[2]||(t[2]=[d(" Add Other Vaccines ",-1)])]),_:1},8,["onClick"])])])]),_:1})],64)}const rs=R(Jn,[["render",ls],["__scopeId","data-v-2fd0d538"]]),cs=P({name:"Home",components:{IonHeader:q,IonMenuButton:Se,IonPage:ye,IonTitle:Y,IonToolbar:oe,IonButton:W,IonCard:be,IonCardContent:ve,IonCardHeader:ge,IonCardSubtitle:_e,IonCardTitle:fe,IonAccordion:X,IonAccordionGroup:de,IonItem:H,IonLabel:ee,IonModal:he,IonRow:z,customVaccine:ue,IonCol:j,IonFooter:De,IonContent:K},data(){return{iconsContent:Q}},computed:{...A(y,["currentMilestone","missedVaccineSchedules"])},methods:{vaccinesGivenCount(e){const t=[];return e.antigens.forEach(i=>{i.status=="administered"&&t.push(i)}),t.length},dismiss(){U.dismiss()}}}),ds={style:{color:"#016302"}},us={style:{color:"#316CBA","margin-left":"10%"}};function ps(e,t,i,r,_,$){const u=a("ion-title"),S=a("ion-header"),f=a("ion-icon"),v=a("row"),b=a("customVaccine"),g=a("ion-content"),p=a("ion-button"),V=a("ion-col"),I=a("ion-row"),N=a("ion-footer");return c(),m(O,null,[n(S,null,{default:s(()=>[n(u,{style:{"margin-bottom":"20px"},class:"modalTitle"},{default:s(()=>[...t[1]||(t[1]=[d("Missed Vaccines",-1)])]),_:1})]),_:1}),n(g,{fullscreen:!0,class:"ion-padding"},{default:s(()=>[(c(!0),m(O,null,te(e.missedVaccineSchedules,(l,h)=>(c(),m("div",{key:h},[n(v,{style:{width:"90%"}},{default:s(()=>[n(f,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),o("span",null,[t[2]||(t[2]=d(" at ",-1)),o("span",ds,D(l.age),1)]),o("span",us,D(e.vaccinesGivenCount(l))+"/"+D(l.antigens.length)+" vaccine(s) given",1)]),_:2},1024),n(v,{style:{"text-align":"center"},class:"mod-ls"},{default:s(()=>[n(b,{vaccines:l.antigens,milestone_status:l.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),n(N,{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(I,null,{default:s(()=>[n(V,null,{default:s(()=>[n(p,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:t[0]||(t[0]=l=>e.dismiss())},{default:s(()=>[...t[3]||(t[3]=[d(" Cancel ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})],64)}const ms=R(cs,[["render",ps],["__scopeId","data-v-3ba5e9df"]]),hs=P({name:"Menu",data(){return{isMobile:!1,visits:[],event:null,popoverOpen:!1,program:null}},mounted(){},computed:{...A(ne,["patient"])},methods:{openPopover(e){this.event=e,this.popoverOpen=!0},openPIM(){w(tn,{class:"fullScreenModal"})},openOutCome(){w(nn,{class:"otherVitalsModal largeModal"})},async printVisitSummary(){if(this.visits=await tt.getPatientVisits(this.patient.patientID,!1),this.visits.length)return new We(this.patient.patientID).printVisitSummaryLbl(this.visits[0]);J("No visits available")},printID(){new We(this.patient.patientID).printNidLbl()},formatCurrentAddress(e){var i,r,_;return[(i=e==null?void 0:e.personInformation)==null?void 0:i.current_district,(r=e==null?void 0:e.personInformation)==null?void 0:r.current_traditional_authority,(_=e==null?void 0:e.personInformation)==null?void 0:_.current_village].filter(Boolean).join(",")}}}),fs=P({mixins:[hs],name:"Home",components:{IonContent:K,IonHeader:q,IonMenuButton:Se,IonPage:ye,IonTitle:Y,IonToolbar:oe,Toolbar:Nt,ToolbarSearch:At,DemographicBar:Rt,IonButton:W,IonCard:be,IonCardContent:ve,IonCardHeader:ge,IonCardSubtitle:_e,IonCardTitle:fe,IonAccordion:X,IonAccordionGroup:de,IonItem:H,IonLabel:ee,IonModal:he,Stepper:xt,DynamicButton:et,WeightHeightChart:zt,PreviousVitals:Ce,customSlider:rs,IonRow:z,customVaccine:ue},data(){return{wizardData:[],StepperData:[],isOpen:!1,iconsContent:Q,current_milestone:"",checkUnderSixWeeks:!1,unprotected_at_birth:"",protectedStatus:"",todays_date:E.toStandardHisDisplayFormat(B.getSessionDate()),lastVaccine:[],visits:[],selectedStatus:7}},computed:{...A(Et,["vitals"]),...A(Ft,["selectedMedicalDrugsList","nonPharmalogicalTherapyAndOtherNotes","selectedMedicalAllergiesList"]),...A(Pt,["outcomes"]),...A(y,["currentMilestone","missedVaccineSchedules","overDueVaccinesCount","lastVaccinesGiven","lastVaccineGievenDate","nextAppointMentDate"])},async mounted(){this.loadCurrentMilestone(),this.checkAge(),await this.checkProtectedStatus(),await this.programEnrollment()},watch:{currentMilestone:{handler(){this.loadCurrentMilestone()}},$route:{async handler(e){e.name=="patientProfile"&&this.patient.patientID&&(await this.checkProtectedStatus(),await this.programEnrollment())}},patient:{async handler(){this.patient&&(await this.checkProtectedStatus(),await this.programEnrollment(),this.checkAge(),this.setMilestoneReload())}}},setup(){return{chevronBackOutline:Dt,checkmark:St,ellipsisVerticalSharp:yt,person:bt,clipboardOutline:vt}},methods:{handleChange(e){this.selectedStatus=e},async programEnrollment(){if(this.patient.patientID){this.program=new Ot(this.patient.patientID);const e=await this.program.getProgramCurrentStates();if(e)this.selectedStatus=e.state;else{try{await this.program.enrollProgram(),await this.program.setStateId(7)}catch(t){await this.program.setStateId(7)}await this.program.updateState(),this.selectedStatus=7}}},async updateState(e){this.selectedStatus=e,await this.program.setStateId(e),await this.program.updateState()},getAge(e){return E.calculateDisplayAge(E.toStandardHisFormat(e))},async checkProtectedStatus(){this.protectedStatus=this.getData(this.patient.birthRegistration,11759)[0]},getData(e,t){try{const i=[...e==null?void 0:e.saved,...e==null?void 0:e.unsaved];return i?i.filter(r=>r.concept_id==t).map(r=>r.value_text):""}catch(i){return console.error("Error in getData:",i),""}},checkAge(){var e,t,i,r;L.isEmpty((t=(e=this.patient)==null?void 0:e.personInformation)==null?void 0:t.birthdate)||(this.checkUnderSixWeeks=E.dateDiffInDays(E.sessionDate(),(r=(i=this.patient)==null?void 0:i.personInformation)==null?void 0:r.birthdate)<42)},openVitalsModal(){w(Wt,{class:"otherVitalsModal"})},openWH(){w(Gt,{class:"otherVitalsModal"})},openVH(){w(Fn,{class:"otherVitalsModal vaccineHistoryModal"})},async openFollowModal(){var e;if((e=this.patient)!=null&&e.patientID){this.lastVaccine=await Bt.getLastDrugsReceived(this.patient.patientID);const t={protectedStatus:this.protectedStatus,lastVaccinesGiven:this.lastVaccinesGiven};this.lastVaccinesGiven.length>0&&w(Gn,{class:"fullScreenModal"},!0,t)}},openAdministerVaccineModal(){w(me,{class:"otherVitalsModal"})},openAdministerOtherVaccineModal(){w(lt,{class:"otherVitalsModal"})},isChild(){return!!new tt().isUnderFive()},getFormatedData(e){return e.map(t=>t==null?void 0:t.data)},async saveVitals(){if(this.vitals.validationStatus){const e=B.getUserID();new Mt(this.patient.patientID,e).onFinish(this.vitals)}},async saveTreatmentPlan(){const e=B.getUserID(),t=this.patient.patientID,i=new Ht;if(!L.isEmpty(this.selectedMedicalAllergiesList)){const r=this.mapToAllergies();i.onSubmitAllergies(t,e,r)}if(!L.isEmpty(this.nonPharmalogicalTherapyAndOtherNotes)){const r=[{concept_id:2688,obs_datetime:B.getSessionDate(),value_text:this.nonPharmalogicalTherapyAndOtherNotes}];i.onSubmitNotes(t,e,r)}if(!L.isEmpty(this.selectedMedicalDrugsList)){const r=this.mapToOrders(),_=new je(t,e);if(!await _.createEncounter())return J("Unable to create treatment encounter");if(!await _.createDrugOrder(r))return J("Unable to create drug orders!");Ve("Drug order has been created")}},openModal(){w(Lt)},mapToOrders(){return this.selectedMedicalDrugsList.map(e=>{const t=je.getSessionDate(),i=Ut.find(r=>r.label===e.frequency)||{};return{drug_inventory_id:e.drug_id,equivalent_daily_dose:e.dose=="Unknown"?0:e.dose*(i==null?void 0:i.value)||0,start_date:t,auto_expire_date:this.calculateExpireDate(t,e.duration),units:e.units,instructions:"".concat(e.drugName,": ").concat(e.dose," ").concat(e.units," ").concat((i==null?void 0:i.code)||""," for ").concat(e.duration," days"),dose:e.dose,frequency:(i==null?void 0:i.code)||""}})},formatBirthdate(){var e,t;return E.toStandardHisDisplayFormat((t=(e=this.patient)==null?void 0:e.personInformation)==null?void 0:t.birthdate)},calculateExpireDate(e,t){const i=new Date(e);return i.setDate(i.getDate()+parseInt(t)),E.toStandardHisFormat(i)},mapToAllergies(){return this.selectedMedicalAllergiesList.map(e=>({concept_id:985,obs_datetime:B.getSessionDate(),value_coded:e.concept_id}))},loadCurrentMilestone(){const e=y();this.current_milestone=e.getCurrentMilestone()},showMissedVaccines(){this.missedVaccineSchedules.length>0&&w(ms,{class:"otherVitalsModal vaccineHistoryModal"})},setMilestoneReload(){const e=y();e.setVaccineReload(!e.getVaccineReload())},getLastVaccinesGivenDisplayDate(){return E.toStandardHisDisplayFormat(this.lastVaccineGievenDate)}}}),_s={fullscreen:!0,style:{"--background":"#fff","max-width":"900px",margin:"auto"}},gs={class:"demographics"},vs={style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},bs={style:{display:"flex","justify-content":"space-between","align-content":"center","padding-bottom":"5px","padding-top":"5px","padding-left":"5px"}},ys={style:{"margin-right":"5px"}},Ss={class:"demographicsFirstRow"},Ds={class:"name"},Cs={class:"demographicsOtherRow",style:{"margin-top":"10px"}},Vs={class:"demographicsText"},ks={key:0,class:"demographicsOtherRow"},ws={class:"demographicsText mediumFontColor"},Ts={key:1,class:"demographicsOtherRow"},$s={class:"demographicsText mediumFontColor"},Is={class:"demographicsOtherRow"},As={class:"demographicsText smallFont"},Ns={class:"mediumFontColor"},Ms={class:"demographicsOtherRow"},Bs={key:0,class:"demographicsText smallFont"},Os={key:1,class:"demographicsText smallFont"},Ps={key:2,class:"demographicsText smallFont"},Fs={class:"demographicsOtherRow",style:{"margin-bottom":"10px"}},Es={class:"demographicsText smallFont"},Rs={key:0,style:{background:"#fedf89",color:"#b54708"},class:"protectedStatus"},Ls={key:1,style:{background:"#ddeedd"},class:"protectedStatus"},xs={key:2,class:"protectedStatus",style:{background:"#fecdca",color:"#b42318"}},Hs={class:"graphSection"},Us={class:"graphBtn",style:{"margin-bottom":"5px"}},zs={class:"weightHeightGraphBtns"},Gs={key:0},Ws={key:1},js={key:0,class:"graphBtn"},Ys={class:"dueAlert"},qs={class:"missed_vaccine_alert"},Ks={style:{"margin-right":"5px"}},Qs={class:"vaccinesTitle"},Zs={style:{width:"100%",display:"flex","justify-content":"space-between","align-content":"center"}},Xs={class:"vaccinesTitleDate"},Js={class:"milestone"},eo={style:{display:"flex","justify-content":"space-between","align-content":"center"}},to={style:{color:"#636363","margin-left":"5px","margin-top":"-4px"}},no={style:{color:"#636363","font-weight":"bold","font-size":"14px"}},so={class:"lastVaccine"},oo={class:"lastVaccineTitle"},io={key:0,class:"lastVaccineText"},ao={class:"seeFullList"},lo={style:{color:"#316cba","margin-left":"1%"}},ro={class:"ion-padding",slot:"content"};function co(e,t,i,r,_,$){var ke,we,Te,$e,Ie,Ae,Ne,Me,Be,Oe,Pe,Fe,Ee,Re,Le,xe,He,Ue;const u=a("ion-icon"),S=a("WeightHeightChart"),f=a("PreviousVitals"),v=a("ion-button"),b=a("ion-col"),g=a("ion-row"),p=a("customSlider"),V=a("row"),I=a("customVaccine"),N=a("ion-label"),l=a("ion-item"),h=a("ion-accordion"),M=a("ion-toggle"),G=a("ion-list"),Z=a("ion-accordion-group"),ie=a("ion-popover");return c(),m(O,null,[o("div",_s,[o("div",gs,[o("div",vs,[o("div",bs,[o("div",ys,[o("div",{class:Ct(((we=(ke=e.patient)==null?void 0:ke.personInformation)==null?void 0:we.gender)=="M"?"initialsBox maleColor":"initialsBox femaleColor")},[n(u,{style:{color:"#fff","font-size":"100px"},icon:e.person},null,8,["icon"])],2)]),o("div",null,[o("div",Ss,[o("div",Ds,D(($e=(Te=e.patient)==null?void 0:Te.personInformation)==null?void 0:$e.given_name)+" "+D((Ae=(Ie=e.patient)==null?void 0:Ie.personInformation)==null?void 0:Ae.middle_name)+" "+D((Me=(Ne=e.patient)==null?void 0:Ne.personInformation)==null?void 0:Me.family_name),1)]),o("div",Cs,[o("div",Vs,[d(D(((Oe=(Be=e.patient)==null?void 0:Be.personInformation)==null?void 0:Oe.gender)=="M"?"Male":"Female")+" ",1),t[12]||(t[12]=o("span",{class:"dot"},".",-1)),d(" "+D(e.getAge((Fe=(Pe=e.patient)==null?void 0:Pe.personInformation)==null?void 0:Fe.birthdate))+" ("+D(e.formatBirthdate())+") ",1)])]),(Re=(Ee=e.patient)==null?void 0:Ee.personInformation)!=null&&Re.current_district?(c(),m("div",ks,[t[13]||(t[13]=o("div",{class:"demographicsText"},"Current Address:",-1)),o("div",ws,D(e.formatCurrentAddress(e.patient)),1)])):C("",!0),(xe=(Le=e.patient)==null?void 0:Le.personInformation)!=null&&xe.country?(c(),m("div",Ts,[t[14]||(t[14]=o("div",{class:"demographicsText"},"Country:",-1)),o("div",$s,D((Ue=(He=e.patient)==null?void 0:He.personInformation)==null?void 0:Ue.country),1)])):C("",!0),o("div",Is,[o("div",As,[t[15]||(t[15]=d(" MRN: ",-1)),o("span",Ns,D(e.patient.ID),1)])]),o("div",Ms,[e.selectedStatus==7?(c(),m("div",Bs,[...t[16]||(t[16]=[d(" Outcome: ",-1),o("span",{class:"outcomeStatus"}," Active",-1)])])):C("",!0),e.selectedStatus==6?(c(),m("div",Os,[...t[17]||(t[17]=[d(" Outcome: ",-1),o("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Inactive",-1)])])):C("",!0),e.selectedStatus==3?(c(),m("div",Ps,[...t[18]||(t[18]=[d(" Outcome: ",-1),o("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Died",-1)])])):C("",!0)]),o("div",Fs,[o("div",Es,[t[19]||(t[19]=d(" Status: ",-1)),e.protectedStatus=="No"?(c(),m("span",Rs,"Unprotected at birth")):e.protectedStatus=="Yes"?(c(),m("span",Ls,"Protected at birth")):(c(),m("span",xs,"Unknown protection at birth"))])])])])]),o("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:t[0]||(t[0]=F=>e.openPopover(F))},[n(u,{icon:e.ellipsisVerticalSharp},null,8,["icon"])])]),o("div",Hs,[o("div",null,[e.isChild()?(c(),T(S,{key:0,checkUnderSixWeeks:e.checkUnderSixWeeks,showHeightWeight:!0},null,8,["checkUnderSixWeeks"])):C("",!0),e.isChild()?C("",!0):(c(),T(f,{key:1}))]),o("div",Us,[o("div",zs,[o("div",null,[n(v,{class:"btnText",fill:"solid",onClick:t[1]||(t[1]=F=>e.openWH())},{default:s(()=>[e.checkUnderSixWeeks?(c(),m("span",Ws," Enter Weight")):(c(),m("span",Gs," Enter Weight/Height")),n(u,{slot:"end",size:"small",icon:e.iconsContent.whiteHeightWeight},null,8,["icon"])]),_:1})]),o("div",null,[n(v,{class:"btnText",fill:"solid",onClick:t[2]||(t[2]=F=>e.openVitalsModal())},{default:s(()=>[t[20]||(t[20]=d(" Enter Other Vitals ",-1)),n(u,{slot:"end",size:"small",icon:e.iconsContent.whiteVitals},null,8,["icon"])]),_:1})])])])]),o("div",null,[e.overDueVaccinesCount>0?(c(),m("div",js,[o("div",Ys,[n(g,null,{default:s(()=>[e.overDueVaccinesCount>0?(c(),T(b,{key:0,style:{display:"flex","justify-content":"center",cursor:"pointer"},onClick:e.showMissedVaccines},{default:s(()=>[o("div",qs,[n(u,{slot:"start",icon:e.iconsContent.alertDangerRed},null,8,["icon"]),o("span",Ks,D(e.overDueVaccinesCount)+" vaccine(s) overdue",1)])]),_:1},8,["onClick"])):C("",!0)]),_:1})])])):C("",!0),o("div",Qs,[o("div",Zs,[t[22]||(t[22]=o("div",{class:"vaccinesTitleText"},"Administer Vaccines",-1)),o("div",Xs,[t[21]||(t[21]=o("span",{style:{"font-size":"13px"}},"Next Appt. Date: ",-1)),o("b",null,D(e.nextAppointMentDate),1)])])]),o("div",Js,[o("div",eo,[n(u,{size:"small",icon:e.iconsContent.greenCalender},null,8,["icon"]),o("div",to,[t[23]||(t[23]=d(" at ",-1)),o("span",no,D(e.current_milestone),1)])]),t[24]||(t[24]=o("div",{class:"vaccinesTitleDate"},"(Swipe left or right for other milestones)",-1))]),n(p),o("div",so,[o("div",oo,[e.lastVaccinesGiven.length>0?(c(),m("div",io,"Last vaccines given")):C("",!0),o("div",ao,[n(v,{onClick:t[3]||(t[3]=F=>e.openVH()),style:{color:"#016302","margin-bottom":"10px"},class:"btnText btnTextWeight",size:"small",fill:"outline"},{default:s(()=>[t[25]||(t[25]=o("span",null,"See full History",-1)),n(u,{slot:"end",size:"medium",icon:e.clipboardOutline},null,8,["icon"])]),_:1})])]),e.lastVaccinesGiven.length>0?(c(),T(V,{key:0},{default:s(()=>[n(u,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),o("span",lo,D(e.getLastVaccinesGivenDisplayDate()),1)]),_:1})):C("",!0),e.lastVaccinesGiven.length>0?(c(),T(V,{key:1},{default:s(()=>[n(I,{vaccines:e.lastVaccinesGiven,milestone_status:""},null,8,["vaccines"])]),_:1})):C("",!0)])])]),n(ie,{style:{"--offset-x":"-10px"},"is-open":e.popoverOpen,"show-backdrop":!1,event:e.event,onDidDismiss:t[11]||(t[11]=F=>e.popoverOpen=!1)},{default:s(()=>[o("div",null,[n(Z,{multiple:!0},{default:s(()=>[n(h,{value:"first","toggle-icon":"",onClick:t[4]||(t[4]=F=>e.openPIM())},{default:s(()=>[n(l,{slot:"header",color:"light"},{default:s(()=>[n(N,null,{default:s(()=>[...t[26]||(t[26]=[d("Update demographics",-1)])]),_:1})]),_:1})]),_:1}),n(h,{value:"first","toggle-icon":"",onClick:t[5]||(t[5]=F=>e.openFollowModal())},{default:s(()=>[n(l,{slot:"header",color:"light"},{default:s(()=>[n(N,null,{default:s(()=>[...t[27]||(t[27]=[d("Follow up visits",-1)])]),_:1})]),_:1})]),_:1}),n(h,{value:"second","toggle-icon":"",onClick:t[6]||(t[6]=F=>e.printVisitSummary())},{default:s(()=>[n(l,{slot:"header",color:"light"},{default:s(()=>[n(N,null,{default:s(()=>[...t[28]||(t[28]=[d("Print visit summary",-1)])]),_:1})]),_:1})]),_:1}),n(h,{value:"third","toggle-icon":"",onClick:t[7]||(t[7]=F=>e.printID())},{default:s(()=>[n(l,{slot:"header",color:"light"},{default:s(()=>[n(N,null,{default:s(()=>[...t[29]||(t[29]=[d("Print client identifier",-1)])]),_:1})]),_:1})]),_:1}),n(h,{value:"fourth"},{default:s(()=>[n(l,{slot:"header",color:"light"},{default:s(()=>[n(N,null,{default:s(()=>[...t[30]||(t[30]=[d("Update outcome",-1)])]),_:1})]),_:1}),o("div",ro,[n(G,null,{default:s(()=>[n(l,null,{default:s(()=>[n(M,{checked:e.selectedStatus==7,value:"active",onIonChange:t[8]||(t[8]=F=>e.updateState(7))},{default:s(()=>[...t[31]||(t[31]=[d(" Active ",-1)])]),_:1},8,["checked"])]),_:1}),n(l,null,{default:s(()=>[n(M,{checked:e.selectedStatus==6,value:"inactive",onIonChange:t[9]||(t[9]=F=>e.updateState(6))},{default:s(()=>[...t[32]||(t[32]=[d(" Inactive ",-1)])]),_:1},8,["checked"])]),_:1}),n(l,null,{default:s(()=>[n(M,{checked:e.selectedStatus==3,value:"died",onIonChange:t[10]||(t[10]=F=>e.updateState(3))},{default:s(()=>[...t[33]||(t[33]=[d(" Died ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1},8,["is-open","event"])],64)}const mi=R(fs,[["render",co],["__scopeId","data-v-f844635c"]]);export{mi as default};
