import{d as I,am as F,c as N,e as d,f as u,l as n,J as a,u as e,G as m,E as x,k as s,L as i,aa as w,R as c,I as C,m as h,fo as T,Q as S,ab as V,M as B,F as E}from"./vendor-DXMRec6a.js";import{y as P,x as f,n as k,z as Y,D as A,t as D,J as O,b as W,F as M,_ as R}from"../index-BqLLtAX6.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-89lqyBgH.js";const z={style:{display:"flex","align-items":"center"}},q={class:"content-wrapper"},J={key:0,class:"underage-warning"},U={class:"footer-actions"},G=I({__name:"AncEnrollmentModal",props:{isOpen:{type:Boolean},closeModalFunc:{},onYes:{},onNo:{},title:{},showUnderageWarning:{type:Boolean,default:!1}},setup(p){const g=p,y=T,{formRef:r}=P(),_=F(),b=N(()=>[{componentType:"radioButtonField",name:"Pregnancy confirmed",header:"Is the pregnancy confirmed?",type:"inline",obsValueType:"value_coded",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:f.required},{componentType:"radioButtonField",name:"Pregnancy planned",header:"Was the pregnancy planned?",type:"inline",condition:t=>t["Pregnancy confirmed"]=="Yes",obsValueType:"value_coded",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:f.required}]),v=async()=>{var t,o;if(((t=r.value)==null?void 0:t.validateForm())==null){const l=(o=r.value)==null?void 0:o.getFormValues();if(!l)return;if(l["Pregnancy confirmed"]=="No"){D("Pregnancy is not confirmed. Please confirm pregnancy before enrolling in the program."),c.dismiss();return}if(await O.buildSaveObs(l,W.ANC_VISIT)){M("Enrollment in ANC program successful"),c.dismiss(),_.push("/profile");return}}};return(t,o)=>(u(),d(E,null,[n(e(C),null,{default:a(()=>[n(e(m),null,{default:a(()=>[n(e(x),null,{default:a(()=>[s("div",z,[n(e(i),{icon:e(k).addPerson,class:"sub-menu-icon",style:{"font-size":"1.4rem"}},null,8,["icon"]),o[1]||(o[1]=s("b",{style:{"margin-left":"6px"}},"Enroll client in ANC program",-1))])]),_:1}),n(e(i),{slot:"end",onClick:o[0]||(o[0]=l=>e(c).dismiss()),style:{"font-size":"30px","padding-right":"10px"},icon:e(w)},null,8,["icon"])]),_:1})]),_:1}),n(e(V),{class:"modal-content"},{default:a(()=>[s("div",q,[n(Y,{formData:b.value,ref_key:"formRef",ref:r},null,8,["formData"]),g.showUnderageWarning?(u(),d("div",J,[n(e(i),{icon:e(y),class:"warning-icon"},null,8,["icon"]),o[2]||(o[2]=s("div",{class:"warning-text"},[s("strong",null,"Warning:"),S(" The client you are enrolling is below 9 years of age.")],-1))])):h("",!0)])]),_:1}),n(e(B),{class:"modal-footer"},{default:a(()=>[n(e(m),{class:"footer-toolbar"},{default:a(()=>[s("div",U,[n(A,{name:"Submit",onClick:v,fill:"solid",class:"submit-button"})])]),_:1})]),_:1})],64))}}),j=R(G,[["__scopeId","data-v-0bea3345"]]);export{j as default};
