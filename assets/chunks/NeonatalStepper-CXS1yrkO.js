const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./infographics--dBBqKyl.js","./images-DJIykHYW.js"])))=>i.map(i=>d[i]);
import{cA as l,d as G,L as K,bw as W,a4 as z,a5 as U,aP as j,aS as J,N as Q,eN as E,cz as X,dk as Z,f6 as ee,bL as te,H as h,O as g,f as m,J as y,l as f,k as b,e as F,F as ne,P as ie,i as ae,m as N,K as M,bT as re,Q as I,v as oe}from"./vendor-Dp4LKYDn.js";import{l as s,J as se,t as A,i as le,m as R,_ as ce}from"../index-CGP8Smqf.js";import{S as x}from"./SaveProgressModal-CKo0duHb.js";import{I as P}from"./images-DJIykHYW.js";import{n as ue}from"./enrollment-DU-PLRUa.js";const pe=["not_breathing","gasping","hr_low","floppy"],O=e=>(e!=null?e:"").toString().trim().toLowerCase(),H=(e,t)=>e?Array.isArray(e)?e.some(n=>t.includes(O(n))):t.includes(O(e)):!1,v=e=>H(e,pe),de=e=>H(e,["stable"]),me=e=>Array.isArray(e)?e.length>0:!!e,he=(e,t,n)=>{const i=Math.floor(1e3+Math.random()*9e3);n("neonat-".concat(i))},ge=(e,t,n)=>{const i=new Date,a=T=>T.toString().padStart(2,"0"),r=a(i.getDate()),d=a(i.getMonth()+1),o=i.getFullYear();let p=i.getHours();const S=a(i.getMinutes()),_=p>=12?"PM":"AM";p=p%12,p=p||12,n("".concat(r,"-").concat(d,"-").concat(o,"|").concat(p,":").concat(S).concat(_))},k=[{title:"Emergency Triage",subtitle:"Initial assessment",formData:[{componentType:"listSelectionField",name:"crying",header:"Is the baby crying?",titleStyle:"tonal",type:"single",allowDeselect:!1,options:[{label:"Yes, baby is crying",value:"yes"},{label:"No, the baby is not crying",value:"no"}],validation:e=>e?null:"Please select one option"},{componentType:"listSelectionField",name:"breathing",header:"Is the baby breathing?",subtitle:"Check the Airway, Heart Rate and Tone.",titleStyle:"tonal",type:"multiple",allowDeselect:!1,showCheckmark:!0,options:[{label:"NOT BREATHING!",value:"not_breathing"},{label:"GASPING or irregular breathing",value:"gasping"},{label:"Normal breathing but HR < 100",value:"hr_low"},{label:"VERY FLOPPY (Normal breathing & HR)",value:"floppy"},{label:"Stable",value:"stable"}],validation:e=>e?null:"Please select one option",condition:e=>e.crying==="no"}]},{title:"Emergency Management 1",subtitle:"Immediate intervention required",description:"Critical breathing status detected - immediate action needed",formData:[{componentType:"infographicField",name:"emergency_management_flow",header:"Emergency Management - Helping Babies Breathe",displayMode:"visual",showStepNumber:!1,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("EmergencyManagement"))}],skipCondition:e=>{e.crying;const t=e.breathing;return!v(t)}},{title:"Emergency Triage 1",subtitle:"emergency triage",description:"emergency triage",formData:[{componentType:"infographicField",name:"emergency_triage",header:"Emergency Triage",displayMode:"visual",showStepNumber:!1,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("StartMeasuringOxygenSaturation"))}]},{title:"Oxygen Saturation",subtitle:"Measure oxygen saturation level",formData:[{componentType:"listSelectionField",name:"observations",header:"Can you observe any of the following on the baby?",subtitle:"Check the Airway, Heart Rate and Tone.",titleStyle:"tonal",type:"multiple",allowDeselect:!1,showCheckmark:!0,options:[{label:"Grunting or Severe chest indrawing's",value:"grunting"},{label:"Central cyanosis",value:"Central_cyanosis"},{label:"Convulsions or twitching",value:"Convulsions_twitching"},{label:"None",value:"None"}],validation:e=>e?null:"Please select one option"}]},{title:"Emergency Management 2",subtitle:"Grunting or severe chest indrawings",description:"Critical breathing status detected - immediate action needed",formData:[{componentType:"infographicField",name:"emergency_management_severe_chest",header:"Emergency Management - Helping Babies Breathe",displayMode:"visual",showStepNumber:!1,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("GruntingSevereChestIndrawings"))}],skipCondition:e=>e.observations||Array.isArray(e.observations)?!e.observations.includes("grunting"):!0},{title:"Emergency Management 3",subtitle:"Central cyanosis",description:"",formData:[{componentType:"infographicField",name:"emergency_management_central_cyanosis",header:"Emergency Management - Helping Babies Breathe",displayMode:"visual",showStepNumber:!1,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("CentralCyanosis"))}],skipCondition:e=>e.observations||Array.isArray(e.observations)?!e.observations.includes("Central_cyanosis"):!0},{title:"Emergency Management 4",subtitle:"Cunvalsion or twitching",description:"",formData:[{componentType:"infographicField",name:"emergency_management_central_cyanosis",header:"Emergency Management",displayMode:"visual",showStepNumber:!1,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("ConsulvionsTwitching"))}],skipCondition:e=>e.observations||Array.isArray(e.observations)?!e.observations.includes("Convulsions_twitching"):!0},{title:"Central Cyanosis",subtitle:"Check for central cyanosis",formData:[{componentType:"radioButtonField",name:"central_cyanosis",header:"Is central cyanosis present?",type:"standard",allowDeselect:!1,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],validation:e=>e?null:"Please select one option",showClearButton:!0}],skipCondition:e=>{const t=e.crying==="yes",n=v(e.breathing);return t||!n}},{title:"Convulsions/Twitching",subtitle:"Neurological assessment",formData:[{componentType:"radioButtonField",name:"convulsions",header:"Are convulsions or twitching present?",type:"standard",allowDeselect:!1,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],validation:e=>e?null:"Please select one option",showClearButton:!0}],skipCondition:e=>{const t=e.crying==="yes",n=v(e.breathing);return t||!n}},{title:"Emergency Observations",subtitle:"Can you observe any of the following on the baby?",description:"Select all those that are present",formData:[{componentType:"checkboxField",name:"emergency_observations",header:"Select all those that are present",type:"multiple",options:[{label:"Grunting or Severe chest indrawing's",value:"grunting_indrawing"},{label:"Central cyanosis",value:"central_cyanosis"},{label:"Convulsions or twitching",value:"convulsions"},{label:"NONE",value:"none"}]}],skipCondition:e=>{const t=e.crying==="yes",n=de(e.breathing),i=v(e.breathing),a=!me(e.breathing);return t||n?!1:!!(i||a)}},{title:"Emergency Management - Grunting/Indrawing",subtitle:"Respiratory distress management",description:"Immediate intervention for grunting or severe chest indrawing",formData:[{componentType:"infographicField",name:"grunting_indrawing_management",header:"Respiratory Distress Management",displayMode:"cards",showStepNumber:!0,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("GruntingIndrawingManagement"))}],skipCondition:e=>{const t=e.emergency_observations;return!t||!Array.isArray(t)?!0:!t.includes("grunting_indrawing")}},{title:"Emergency Management - Central Cyanosis",subtitle:"Oxygenation emergency management",description:"Immediate intervention for central cyanosis",formData:[{componentType:"infographicField",name:"central_cyanosis_management",header:"Central Cyanosis Management",displayMode:"cards",showStepNumber:!0,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("CentralCyanosisManagement"))}],skipCondition:e=>{const t=e.emergency_observations;return!t||!Array.isArray(t)?!0:!t.includes("central_cyanosis")}},{title:"Emergency Management - Convulsions",subtitle:"Seizure management",description:"Immediate intervention for convulsions or twitching",formData:[{componentType:"infographicField",name:"convulsions_management",header:"Convulsions Management",displayMode:"cards",showStepNumber:!0,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("ConvulsionsManagement"))}],skipCondition:e=>{const t=e.emergency_observations;return!t||!Array.isArray(t)?!0:!t.includes("convulsions")}},{title:"Danger Signs",subtitle:"Assess for danger signs",description:"Perform physical assessments as shown",formData:[{componentType:"infographicField",name:"danger_signs_instructions",header:"Physical Assessment Instructions",subtitle:"Perform physical assessments as shown",displayMode:"visual",showStepNumber:!0,infographicData:{key:"danger_signs_assessment",sections:[{title:"Feel the trunk",content:"Check if the trunk feels warm or cold.",description:"A cold trunk indicates hypothermia.",image:P.infographics.feelTheTrunk},{title:"Measure capillary refill time",content:"Press on the chest and count the seconds until the colour returns.",description:"Normal refill time is &lt; 3 seconds."},{title:"Feel the femoral pulse",content:"Locate and assess the femoral pulse strength.",description:"A weak pulse indicates poor circulation.",image:P.infographics.feelFemoralPulse}]}}],skipCondition:e=>v(e.breathing)},{title:"Select Present Signs",subtitle:"Identify danger signs present",formData:[{componentType:"listSelectionField",name:"present_signs",header:"select all that apply",subtitle:"select all that apply",type:"multiple",allowDeselect:!1,showCheckmark:!0,options:[{label:"Trunk feels cold",value:"trunk_cold"},{label:"Capillary refill >3 seconds",value:"capillary_refill"},{label:"Weak femoral pulse",value:"weak_pulse"},{label:"None",value:"none"}],validation:e=>e?null:"Please select one option"}]},{title:"Trunk Feels Cold",subtitle:"Temperature management required",description:"Baby's trunk is cold - immediate warming needed",formData:[{componentType:"infographicField",name:"trunk_cold_warning",header:"Hypothermia Alert",subtitle:"Baby's trunk is cold - immediate warming needed",displayMode:"cards",showStepNumber:!0,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("WarmTheBody"))}],skipCondition:e=>{var t;return!((t=e.present_signs)!=null&&t.includes("trunk_cold"))}},{title:"Emmergency Management 4",subtitle:"Temperature management required",description:"This baby may be in Shock! See pg 74 COIN\n(NB. Don't give a bolus to a baby that has not responded to resuscitation)",formData:[{componentType:"infographicField",name:"keep_the_baby_warm",header:"",subtitle:"",displayMode:"cards",showStepNumber:!0,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("KeepTheBodyWarm"))}],skipCondition:e=>{var t,n;return!((t=e.present_signs)!=null&&t.includes("capillary_refill"))&&!((n=e.present_signs)!=null&&n.includes("weak_pulse"))}},{title:"Vital Signs",subtitle:"Measure and record vital signs",formData:[{componentType:"inputField",name:"respiratory_rate",header:"Respiratory Rate (breaths/min)",type:"number",placeholder:"Count for 60 seconds",validation:e=>{const t=Number(e);return e?t<=0||t>200?"Enter valid respiratory rate (1-200)":null:"Respiratory rate is required"}},{componentType:"inputField",name:"heart_rate",header:"Heart Rate (beats/min)",type:"number",placeholder:"Enter heart rate",validation:e=>{const t=Number(e);return e?t<=0||t>300?"Enter valid heart rate (1-300)":null:"Heart rate is required"}},{componentType:"switchField",name:"can_measure_oxygen_saturation",prefixText:"Are you able to measure",label:"Oxygen Saturation",allowClearToNull:!0},{componentType:"inputField",name:"oxygen_saturation_vital",header:"Oxygen Saturation (%)",type:"number",placeholder:"Enter SpO2",validation:e=>{const t=Number(e);return e?t<0||t>100?"Enter valid oxygen saturation (0-100)":null:"Oxygen saturation is required"},condition:e=>e.can_measure_oxygen_saturation},{componentType:"radioButtonField",name:"oxygen_facility_available",header:"Is oxygen available at the facility?",type:"inline",allowDeselect:!0,options:[{label:"Yes",value:"Yes"},{label:"No",value:2,icon:"No"}],validation:e=>e?null:"Please select one option.",showClearButton:!0}]},{title:"Emergency Management 6",subtitle:"Immediate intervention required",description:"Critical breathing status detected - immediate action needed",formData:[{componentType:"infographicField",name:"emergency_management_six",header:"Emergency Management - Helping Babies Breathe",displayMode:"visual",showStepNumber:!1,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("EmergencyManagement"))}],skipCondition:e=>!(e.heart_rate&&Number(e.heart_rate)<60)},{title:"Referral Instructions",subtitle:"Referral Instruction",description:"Referral instructions",formData:[{componentType:"infographicField",name:"referral_instructions",header:"Referral Instructions",displayMode:"visual",showStepNumber:!1,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("ReferralInstructions"))}],skipCondition:e=>{const t=e.oxygen_saturation_vital;return!(t&&Number(t)<90)}},{title:"Emergency Management Vitals",subtitle:"Grunting or severe chest indrawings",description:"Critical breathing status detected - immediate action needed",formData:[{componentType:"infographicField",name:"emergency_management",header:"Emergency Management - Helping Babies Breathe",displayMode:"visual",showStepNumber:!1,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("GruntingSevereChestIndrawings"))}]},{title:"Vital Signs 2",subtitle:"Measure and record vital signs",formData:[{componentType:"inputField",name:"saturation_in_oxygen",header:"saturation in Oxygen (%)",type:"number",placeholder:"Enter saturation in Oxygen",validation:e=>{const t=Number(e);return e?t<0||t>100?"Enter valid oxygen saturation (0-100)":null:"Oxygen saturation is required"}}]},{title:"Emergency Management 7",subtitle:"Immediate intervention required",description:"Critical breathing status detected - immediate action needed",formData:[{componentType:"infographicField",name:"emergency_management_six",header:"Emergency Management - Helping Babies Breathe",displayMode:"visual",showStepNumber:!1,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("EmergencyManagement"))}],skipCondition:e=>!(e.saturation_in_oxygen&&Number(e.saturation_in_oxygen)<80)},{title:"Baby Recovered",subtitle:"Baby Recovere",description:"Baby Recovered",formData:[{componentType:"infographicField",name:"baby_recovered_still_severe_respiratory",header:"Baby",displayMode:"visual",showStepNumber:!1,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("BabyRecoveredStillSevereRespiratory"))}]},{title:"Vital Signs 3",subtitle:"Measure and record vital signs",formData:[{componentType:"switchField",name:"can_measure_temp",prefixText:"Are you able to measure",label:"Temperature",allowClearToNull:!0},{componentType:"inputField",name:"temperature",header:"temperature (deg C)",type:"number",placeholder:"Enter temperature",validation:e=>{const t=Number(e);return e?t<30||t>45?"Enter valid temperature (30-45°C)":null:"Temperature is required"},condition:e=>e.can_measure_temp}]},{title:"Emergency Management 8",subtitle:"",description:"",formData:[{componentType:"infographicField",name:"keep_the_baby_warm",header:"",subtitle:"",displayMode:"cards",showStepNumber:!0,infographicData:()=>l(()=>import("./infographics--dBBqKyl.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.getInfographicByKey("WarmTheBody"))}]},{title:"Temperature High",subtitle:"",description:"",formData:[{componentType:"infographicField",name:"keep_the_baby_warm",header:"",subtitle:"",displayMode:"cards",showStepNumber:!0,infographicData:{key:"TempHigh",sections:[{title:"Unwrap the body"},{title:"Remove from warmer or skin-skin"},{title:"For baby that is less than 2500 consider paracetamol or tepid sponging."}]}}]},{title:"Emergency Triage Blood Sugar",subtitle:"",description:"",formData:[{componentType:"switchField",name:"can_measure_temp",prefixText:"Are you able to measure",label:"Blood Sugar",allowClearToNull:!0},{componentType:"inputField",header:"Blood Sugar",name:"bloodSugar",initialUnit:"mg/dL",unitOptions:[{label:"mg/dL",value:"mg/dL"},{label:"mmol/L",value:"mmol/L"}],unitValidation:e=>!e||e===""?"Please select a unit.":null,condition:e=>e.can_measure_temp}]},{title:"Hypoglycemia-Symptomatic",subtitle:"",description:"",formData:[{componentType:"infographicField",name:"hypoglycemia Symptomatic",header:"",subtitle:"",displayMode:"cards",showStepNumber:!0,infographicData:{key:"hypoglycemia",sections:[{title:"Give dextrose bolus",bullets:["2ml/kg of 10% dextrose IV over 5 minutes.","If no IV line, give the same IV dextrose by gastric tube."]},{title:"Give maintenance fluids",bullets:["For fluid and rate see wall chart."]},{title:"Monitor blood glucose after 30 minutes",bullets:["For further management refer to the wall chart."]}]}}],skipCondition(e){const t=e.bloodSugar_unit,n=Number(e.blood_sugar),i=e.can_measure_temp;return t==="mg/dL"&&n<45||t==="mmol/L"&&n<2.5||!i}},{title:"Hypoglycemia-Asymptomatic",subtitle:"",description:"",formData:[{componentType:"infographicField",name:"hypoglycemia Asymptomatic",header:"",subtitle:"",displayMode:"cards",showStepNumber:!0,infographicData:{key:"hypoglycemia",sections:[{title:"Continue breast feeding or giving EBM by cup.",bullets:["Monitor blood sugar 30 minutes after feed."]},{title:"Increase frequency of feeds",bullets:["E.g 3 to 2 hourly or from 2 to 1 hourly."]},{title:"Monitor blood glucose before next feed or immediately if any symptoms.",bullets:["If 3 normal blood sugar (2.5 - 8.3 mmol) monitoring can be stopped."]}]},footerNote:"For further management refer to the wall chart."}],skipCondition(e){const t=e.bloodSugar_unit,n=Number(e.blood_sugar),i=e.can_measure_temp;return t==="mg/dL"&&n<45||t==="mmol/L"&&n<2.5||!i}},{title:"Vital Signs Four",subtitle:"",formData:[{componentType:"inputField",name:"admission_weight",header:"Admission Weight(g)",type:"number",placeholder:"",validation:e=>e?null:"Admission weight is required"},{componentType:"inputField",name:"birth_weight",header:"Birth Weight(g)",type:"number",placeholder:"",validation:e=>e?null:"Birth weight is required"},{componentType:"inputField",name:"head_circumference",header:"Head Circumference (CM)",type:"number",placeholder:"",validation:e=>e?null:"Head Circumference is required"}]},{title:"Triage Summary",subtitle:"Summary of chest examination findings",description:"Review the chest examination findings before proceeding",formData:[{componentType:"summaryField",name:"triageSummaryComputed",title:"Triage summary",subtitle:"Auto-generated from the respiratory, auscultation, and murmur findings",description:"Confirm that the values below match your observations before adding any extra notes.",emptyStateMessage:"No triage findings captured yet.",builder:e=>{const t=a=>a?"(".concat(a.toLowerCase(),")"):void 0,n=[],i=(a,r,d,o)=>{!d&&!o&&!r||n.push({section:a,label:r,value:d,detail:o})};return i("Triage","Is the baby crying?",t(e.crying)),i("Triage","Is the baby breathing?",t(e.breathing)),i("Triage","Trunk feels cold","Yes"),i("Triage","Respiratory Rate",e.respiratory_rate),i("Triage","Heart Rate (bpm)",e.heart_rate),i("Triage","Oxygen Sats in Air (%)",e.oxygen_saturation_vital),i("Triage","Saturations in Oxygen (%)",e.saturation_in_oxygen),i("Triage","Temperature (degs C)",e.temperature),i("Chest Auscultation","Is a stethoscope available?",t(e.stethoscopeAvailable)),n}}]},{title:"Demographics",subtitle:"demographics",formData:[{componentType:"inputField",name:"firstName",header:"First Name",type:"string",placeholder:"Enter First Name",onActionClick:he,actionButton:{show:!0,text:"Generate"},validation:e=>e?null:"First Name is required"},{componentType:"inputField",name:"lastName",header:"Last Name",type:"string",placeholder:"Enter Last Name",onActionClick:ge,actionButton:{show:!0,text:"Generate"},validation:e=>e?null:"Last Name is required"}]},{title:"Respiratory Distress",subtitle:"High respiratory rate detected",description:"Respiratory rate >60 requires additional assessment",formData:[{componentType:"checkboxField",name:"respiratory_distress_signs",header:"Select signs of respiratory distress present",type:"multiple",options:[{label:"Nasal flaring",value:"nasal_flaring"},{label:"Grunting",value:"grunting"},{label:"Chest retractions",value:"chest_retractions"},{label:"Cyanosis",value:"cyanosis"}]}],skipCondition:e=>{const t=Number(e.respiratory_rate);return!t||t<=60}},{title:"Temperature High",subtitle:"Elevated temperature management",description:"Temperature >37.5°C requires intervention",formData:[{componentType:"radioButtonField",name:"fever_management",header:"Fever management initiated?",type:"standard",allowDeselect:!1,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],validation:e=>e?null:"Please select one option"}],skipCondition:e=>{const t=Number(e.temperature);return!t||t<=37.5}},{title:"Second Vital Signs",subtitle:"Repeat vital signs measurement",description:"Record second set of vital signs for monitoring",formData:[{componentType:"inputField",name:"respiratory_rate_2",header:"Respiratory Rate (breaths/min)",type:"number",placeholder:"Count for 60 seconds",validation:e=>{const t=Number(e);return e?t<=0||t>200?"Enter valid respiratory rate (1-200)":null:"Respiratory rate is required"}},{componentType:"inputField",name:"heart_rate_2",header:"Heart Rate (beats/min)",type:"number",placeholder:"Enter heart rate",validation:e=>{const t=Number(e);return e?t<=0||t>300?"Enter valid heart rate (1-300)":null:"Heart rate is required"}},{componentType:"inputField",name:"oxygen_saturation_2",header:"Oxygen Saturation (%)",type:"number",placeholder:"Enter SpO2",validation:e=>{const t=Number(e);return e?t<0||t>100?"Enter valid oxygen saturation (0-100)":null:"Oxygen saturation is required"}}],skipCondition:e=>{const t=Number(e.respiratory_rate);return!t||t<=60}},{title:"Blood Sugar",subtitle:"Blood glucose assessment",formData:[{componentType:"inputField",name:"blood_sugar",header:"Blood Glucose (mg/dL)",type:"number",placeholder:"Enter blood glucose level",validation:e=>{const t=Number(e);return e?t<0||t>600?"Enter valid blood glucose (0-600)":null:"Blood glucose is required"}}]},{title:"Referral Instructions",subtitle:"Complete triage assessment",formData:[{componentType:"textAreaField",name:"referral_notes",header:"Referral Notes",placeholder:"Enter any additional notes for referral",minHeight:120},{componentType:"radioButtonField",name:"referral_required",header:"Is referral required?",type:"standard",allowDeselect:!1,options:[{label:"Yes, immediate referral",value:"immediate"},{label:"Yes, routine referral",value:"routine"},{label:"No referral needed",value:"none"}],validation:e=>e?null:"Please select referral status"},{componentType:"inputField",name:"referral_facility",header:"Referral Facility Name",type:"text",placeholder:"Enter the name of the referral facility",validation:e=>e?null:"Facility name is required for referrals"},{componentType:"inputField",name:"transport_method",header:"Transport Method",type:"text",placeholder:"How will the baby be transported?"}],conditionalRules:[{id:"hide_referral_fields_if_no_referral",name:"Hide referral fields when no referral is needed",condition:"referral_required === 'none'",actions:[{type:"hideField",target:["referral_facility","transport_method"]},{type:"clearValue",target:["referral_facility","transport_method"]}]},{id:"require_facility_for_immediate_referral",name:"Make facility required for immediate referrals",condition:"referral_required === 'immediate'",actions:[{type:"setRequired",target:"referral_facility"}]}]}];function Y(e,t){const n=e+1;if(n>=k.length)return null;const i=k[n];return i.skipCondition&&i.skipCondition(t)?Y(n,t):n}function L(e,t){const n=e-1;if(n<0)return null;const i=k[n];return i.skipCondition&&i.skipCondition(t)?L(n,t):n}const c=e=>e.map(t=>({value:t,label:t})),B=(e,t)=>Array.from({length:t-e+1},(n,i)=>{const a=(e+i).toString();return{value:a,label:a}}),ye=["Stimulation","Suctioning","Oxygen","Bag Valve Mask Ventilation (BVM)","Cardio Pulmonary Resuscitation (CPR)","Unknown","None"],D=[{title:"Birth details",subtitle:"Capture the initial arrival information",formData:[{componentType:"radioButtonField",header:"Does the baby have a twin?",name:"hasTwin",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether the neonate has a twin"},{componentType:"multiSelectInputField",header:"Place of Birth",name:"placeOfBirth",placeholder:"Select type",icon:s.search,options:c(["Hospital","Health Center","Home","Other"]),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select the place of birth"},{componentType:"multiSelectInputField",header:"Name of Birth Facility",name:"birthFacility",placeholder:"Select facility",icon:s.search,options:[],trackBy:"name",searchable:!0,validation:e=>e!=null&&e.name||e?null:"Select a facility"},{componentType:"multiSelectInputField",header:"Type of Birth",name:"typeOfBirth",placeholder:"Select type",icon:s.search,options:c(["Singleton","Twin","Triplet"]),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select the type of birth"},{componentType:"inputField",header:"Birth weight (grams)",name:"birthWeight",type:"number",placeholder:"Enter weight",validation:e=>Number(e)>0?null:"Provide the birth weight"},{componentType:"timeInputField",header:"Time of birth",name:"birthTime",placeholder:"HH:mm",validation:e=>e?null:"Capture the time of birth"}]},{title:"Referral information",subtitle:"Document how the neonate arrived",description:"Required when the baby was referred from another facility.",formData:[{componentType:"radioButtonField",header:"Is the baby referred from another facility?",name:"referredFromAnotherFacility",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Indicate whether the neonate was referred"},{componentType:"multiSelectInputField",header:"Referred from",name:"referredFrom",placeholder:"Select referee type",icon:s.search,options:c(["District Hospital","Health Center","Private Clinic","Other"]),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select the referral source",condition:e=>e.referredFromAnotherFacility==="Yes"},{componentType:"multiSelectInputField",header:"Name of facility",name:"referringFacilityName",placeholder:"Search and select facility",icon:s.search,options:[],trackBy:"name",searchable:!0,validation:(e,t)=>(t==null?void 0:t.referredFromAnotherFacility)!=="Yes"||e!=null&&e.name||e?null:"Select the referring facility",condition:e=>e.referredFromAnotherFacility==="Yes"},{componentType:"multiSelectInputField",header:"Mode of transport",name:"modeOfTransport",placeholder:"Select mode",icon:s.search,options:c(["Ambulance","Private vehicle","Bicycle","Other"]),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select how the neonate arrived",condition:e=>e.referredFromAnotherFacility==="Yes"},{componentType:"multiSelectInputField",header:"Admitted from",name:"admittedFrom",placeholder:"Select origin",icon:s.search,options:c(["Clinic","Home","Maternity Ward","Other"]),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select where the baby was admitted from",condition:e=>e.referredFromAnotherFacility==="Yes"}]},{title:"Birth assessment",subtitle:"Capture the immediate clinical state",formData:[{componentType:"radioButtonField",header:"Did the baby cry straight after birth?",name:"criedAfterBirth",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Indicate whether the baby cried"},{componentType:"multiSelectInputField",header:"Apgar score at 1 minute",name:"apgar1",placeholder:"Select",icon:s.search,options:B(0,10),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select the Apgar score at 1 min"},{componentType:"multiSelectInputField",header:"Apgar score at 5 minutes",name:"apgar5",placeholder:"Select",icon:s.search,options:B(0,10),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select the Apgar score at 5 min"},{componentType:"multiSelectInputField",header:"Apgar score at 10 minutes",name:"apgar10",placeholder:"Select",icon:s.search,options:B(0,10),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select the Apgar score at 10 min"},{componentType:"multiSelectInputField",header:"Was resuscitation needed at birth?",name:"resuscitationMethods",placeholder:"Select the methods",icon:s.search,options:c(ye),trackBy:"value",isMultiple:!0,closeOnSelect:!1,validation:e=>e&&e.length?null:"Select at least one method"}]},{title:"Mother's Information",subtitle:"Search and link the mother's record",description:"Find the mother's existing record or register a new mother if not found.",formData:[]},{title:"Pregnancy",subtitle:"Pregnancy and delivery history",formData:[{componentType:"inputField",header:"Gestation in weeks",name:"gestationWeeks",type:"number",placeholder:"Weeks",validation:e=>{const t=Number(e);return t>0&&t<=45?null:"Enter valid gestation weeks (1-45)"}},{componentType:"radioButtonField",header:"Were steroids given?",name:"steroidsGiven",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether steroids were given"},{componentType:"multiSelectInputField",header:"Gestation method assessment",name:"gestationMethodAssessment",placeholder:"Select method",icon:s.search,options:c(["LMP","Ultrasound","Clinical Assessment","Ballard Score"]),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select gestation assessment method"},{componentType:"radioButtonField",header:"Ultra sound scanning - USS",name:"ultraSoundScanning",options:[{label:"Early",value:"Early"},{label:"Late",value:"Late"}],validation:e=>e?null:"Select ultrasound timing"},{componentType:"timeInputField",header:"Onset of labor",name:"onsetOfLabor",placeholder:"HH:mm",validation:e=>e?null:"Enter onset of labor time"},{componentType:"radioButtonField",header:"Rupture of membranes?",name:"ruptureOfMembranes",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify rupture of membranes status"},{componentType:"radioButtonField",header:"Duration of Rupture of Membranes",name:"durationOfRuptureMembranes",options:[{label:"< 18 hours",value:"< 18 hours"},{label:"18 hours >",value:"18 hours >"}],validation:e=>e?null:"Select duration",condition:e=>e.ruptureOfMembranes==="Yes"},{componentType:"radioButtonField",header:"Offensive Liquor?",name:"offensiveLiquor",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify offensive liquor status"},{componentType:"multiSelectInputField",header:"Mode of Delivery",name:"modeOfDelivery",placeholder:"Select mode",icon:s.search,options:c(["Spontaneous Vaginal Delivery","Caesarean Section","Vacuum Extraction","Forceps Delivery","Breech Delivery"]),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select mode of delivery"},{componentType:"radioButtonField",header:"Meconium present?",name:"meconiumPresent",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify meconium presence"},{componentType:"radioButtonField",header:"Maternal Analgesia?",name:"maternalAnalgesia",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify maternal analgesia status"},{componentType:"multiSelectInputField",header:"Analgesia Drug",name:"analgesiasDrug",placeholder:"Select drug",icon:s.search,options:c(["Paracetamol","Pethidine","Morphine","Epidural","Other"]),trackBy:"value",validation:(e,t)=>(t==null?void 0:t.maternalAnalgesia)!=="Yes"||e!=null&&e.value||e?null:"Select analgesia drug",condition:e=>e.maternalAnalgesia==="Yes"},{componentType:"radioButtonField",header:"Anesthesia used?",name:"anesthesiaUsed",options:[{label:"General",value:"General"},{label:"Spinal",value:"Spinal"},{label:"No",value:"No"}],validation:e=>e?null:"Specify anesthesia used"},{componentType:"radioButtonField",header:"TEO?",name:"teo",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify TEO status"},{componentType:"radioButtonField",header:"Chlorohexidine of cord care?",name:"chlorohexidineCordCare",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify chlorohexidine cord care"},{componentType:"radioButtonField",header:"Vitamin K given?",name:"vitaminKGiven",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify Vitamin K status"},{componentType:"radioButtonField",header:"Dextrose 10% given?",name:"dextroseGiven",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify Dextrose 10% status"}]},{title:"Mother's enrollment details",subtitle:"HIV, VDRL, and Hepatitis status",formData:[{componentType:"radioButtonField",header:"Mother's status",name:"motherStatus",options:[{label:"Alive",value:"Alive"},{label:"Died",value:"Died"}],validation:e=>e?null:"Select mother's status"},{componentType:"multiSelectInputField",header:"HIV Status",name:"motherHivStatus",placeholder:"Select status",icon:s.search,options:c(["Reactive","Non-Reactive","Unknown"]),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select HIV status"},{componentType:"dateInputField",header:"Last HIV Test Date",name:"lastHivTestDate",placeholder:"Select date",validation:e=>e?null:"Select the last HIV test date"},{componentType:"radioButtonField",header:"Do a HIV re-test?",name:"doHivRetest",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether to do HIV re-test"},{componentType:"radioButtonField",header:"Who baby given NVP?",name:"babyGivenNvp",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether baby was given NVP"},{componentType:"multiSelectInputField",header:"Mother's VDRL/Syphilis result",name:"motherVdrlResult",placeholder:"Select result",icon:s.search,options:c(["Positive","Negative","Unknown"]),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select VDRL/Syphilis result"},{componentType:"radioButtonField",header:"Who mother treated for VDRL/Syphilis?",name:"motherTreatedForVdrl",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether mother was treated"},{componentType:"radioButtonField",header:"Was the baby tested for Hepatitis?",name:"babyTestedForHepatitis",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether baby was tested"},{componentType:"radioButtonField",header:"Were all 3 doses of the treatment completed?",name:"allThreeDosesCompleted",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:e=>e?null:"Specify whether all doses were completed"},{componentType:"multiSelectInputField",header:"Mother's Hepatitis result",name:"motherHepatitisResult",placeholder:"Select result",icon:s.search,options:c(["Positive","Negative","Unknown"]),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select Hepatitis result"}]},{title:"Known Medical Conditions",subtitle:"Tetanus vaccination history",formData:[{componentType:"multiSelectInputField",header:"Tetanus Diphtheria",name:"tetanusDiphtheria",placeholder:"Search and select",icon:s.search,options:c(["Td1","Td2","Td3","Td4","Td5","Unknown","None"]),trackBy:"value",validation:e=>e!=null&&e.value||e?null:"Select Tetanus Diphtheria status"}]}];function V(e,t){const n=e+1;if(n>=D.length)return null;const i=D[n];return i.skipCondition&&i.skipCondition(t)?V(n,t):n}function q(e,t){const n=e-1;if(n<0)return null;const i=D[n];return i.skipCondition&&i.skipCondition(t)?q(n,t):n}const Ee={crying:"",breathing:void 0,oxygen_saturation:"",central_cyanosis:"",convulsions:"",present_signs:[],respiratory_rate:"",heart_rate:"",oxygen_saturation_vital:"",temperature:"",respiratory_distress_signs:[],fever_management:"",respiratory_rate_2:"",heart_rate_2:"",oxygen_saturation_2:"",blood_sugar:"",referral_notes:"",referral_required:""},fe=Symbol("neonatalTriageForm"),be=G({name:"NeonatalStepper",components:{IonButton:Q,IonCard:J,IonCardContent:j,IonCol:U,IonRow:z,IonSpinner:W,IonIcon:K,DynamicButton:se},data(){return{currentStepIndex:0,stepRefs:new Map,isProcessing:!1}},props:{wizardData:{default:[]},StepperData:{default:[]},stepperTitle:{type:String,default:""},openStepper:{type:String,default:"1"},backBtn:{type:String,default:"Back to profile"},backUrl:{type:String,default:""},getSaveFunction:{type:Function,required:!0},useSkipLogic:{type:Boolean,default:!0},showComponetTitle:{type:Boolean,default:!0},flowType:{type:String,default:"triage"},sectionsConfig:{type:Array,default:()=>[]}},setup(e){const t=E(fe),n=E(ue),i=e.flowType==="enrollment"?V:Y,a=e.flowType==="enrollment"?q:L,r=e.flowType==="enrollment"?n:t;return{chevronBackOutline:te,closeOutline:ee,arrowBack:Z,arrowForward:X,triageForm:t,enrollmentForm:n,formData:r,getNextSectionIndex:i,getPreviousSectionIndex:a}},mounted(){const e=parseInt(this.openStepper)-1;this.currentStepIndex=e>=0?e:0},methods:{setStepRef(e,t){e&&this.stepRefs.set(t,e)},buildTriageSnapshot(e){const t={...this.formData||{}},n=this.stepRefs.get(e);return n!=null&&n.getFormValues&&Object.assign(t,n.getFormValues()),t},getStepConfigIndices(e){const t=this.StepperData[e];return t?Array.isArray(t.configIndices)&&t.configIndices.length?t.configIndices:typeof t.configIndex=="number"?[t.configIndex]:[e]:[e]},findStepperIndexForConfig(e){return this.StepperData.findIndex((t,n)=>(Array.isArray(t.configIndices)&&t.configIndices.length?t.configIndices:[typeof t.configIndex=="number"?t.configIndex:n]).includes(e))},openBackController(){this.backUrl?this.$router.push(this.backUrl):R(x)},async nextStep(e){if(this.isProcessing)return;const t=await this.validateCurrentStep(e);if(t){const o=Object.values(t).join(", ");A("Please fix the following errors: ".concat(o));return}const n=this.getSaveFunction(e);if(n&&typeof n=="function")try{this.isProcessing=!0,await n(),this.isProcessing=!1}catch(o){this.isProcessing=!1,console.error("Error in save function:",o);return}if(!this.useSkipLogic){const o=e+1;o<this.StepperData.length&&(this.currentStepIndex=o,this.updateWizardStatus(o),this.$emit("updateStatus",{value:this.StepperData[o].value}));return}const i=this.buildTriageSnapshot(e),a=this.getStepConfigIndices(e),r=Math.max(...a),d=this.getNextSectionIndex(r,i);if(d!==null){const o=this.findStepperIndexForConfig(d);o!==-1&&o<this.StepperData.length&&(this.currentStepIndex=o,this.updateWizardStatus(o),this.$emit("updateStatus",{value:this.StepperData[o].value}))}},async validateCurrentStep(e){const t=this.stepRefs.get(e);if(!t)return console.warn("No component instance found for step ".concat(e)),null;if(this.sectionsConfig&&this.sectionsConfig.length>0){const n=this.getStepConfigIndices(e)[0],i=this.sectionsConfig[n];if(i&&typeof i.validateSection=="function"){const a=t.getFormValues?t.getFormValues():{},r=i.validateSection(a);if(r)return{_section:r}}}return typeof t.validateForm=="function"?t.validateForm():null},previousStep(e){if(!this.useSkipLogic){const r=e-1;r>=0&&(this.currentStepIndex=r,this.updateWizardStatus(r),this.$emit("updateStatus",{value:this.StepperData[r].value}));return}const t=this.buildTriageSnapshot(e),n=this.getStepConfigIndices(e),i=Math.min(...n),a=this.getPreviousSectionIndex(i,t);if(a!==null&&a>=0){const r=this.findStepperIndexForConfig(a);r!==-1&&r>=0&&(this.currentStepIndex=r,this.updateWizardStatus(r),this.$emit("updateStatus",{value:this.StepperData[r].value}))}},async handleCancel(){await le("Are you sure you want to cancel? All unsaved progress will be lost.",{header:"Cancel ".concat(this.stepperTitle),confirmBtnLabel:"Yes, Cancel",cancelBtnLabel:"No, Continue"})&&(this.backUrl?this.$router.push(this.backUrl):R(x))},updateWizardStatus(e){this.wizardData.forEach((t,n)=>{n===e?(t.class="open_step common_step",t.checked=!1):n<e?(t.class="common_step color_white",t.checked=!0):(t.class="common_step",t.checked=!1)})},goToStep(e){if(typeof e!="number"||e<0||e>=this.StepperData.length){console.warn("[NeonatalStepper] Invalid step index:",e);return}this.currentStepIndex=e,this.updateWizardStatus(e),this.$emit("updateStatus",{value:this.StepperData[e].value})},async handleNextClick(e){const t=this.StepperData[e];if(this.isProcessing)return;const n=await this.validateCurrentStep(e);if(n){const i=Object.values(n).join(", ");A("Please fix the following errors: ".concat(i));return}if(t!=null&&t.hasDialog){this.triggerStepDialog(e);return}this.nextStep(e)},triggerStepDialog(e){const t=this.stepRefs.get(e);t!=null&&t.openDialog?t.openDialog():console.warn("Dialog requested but child component has no openDialog() method")}}}),ve={class:"back_profile"},Se={key:0,class:"section_header"},_e={class:"section_content"},Te={class:"button-row"},Ce={class:"left-button-group"},we={class:"right-button-group"};function Fe(e,t,n,i,a,r){const d=h("DynamicButton"),o=h("ion-icon"),p=h("ion-button"),S=h("ion-spinner"),_=h("ion-card"),T=h("ion-col"),$=h("ion-row");return m(),g($,{class:"ion-justify-content-center"},{default:y(()=>[f(T,{class:"stepper-col","size-sm":"12","size-xl":"8","size-md":"10","size-lg":"8"},{default:y(()=>[b("div",ve,[f(d,{name:e.backBtn,iconSlot:"start",fill:"clear",icon:e.chevronBackOutline,onClick:t[0]||(t[0]=C=>e.openBackController())},null,8,["name","icon"])]),f(_,{class:"stepper_content_wrapper"},{default:y(()=>[(m(!0),F(ne,null,ie(e.StepperData,(C,u)=>ae((m(),F("div",{key:u,class:"step_section"},[e.showComponetTitle?(m(),F("div",Se,[b("h2",null,M(C.title),1)])):N("",!0),b("div",_e,[(m(),g(re(C.component),{ref_for:!0,ref:w=>e.setStepRef(w,u),stepIndex:u,goToNext:()=>e.nextStep(u),goToPrevious:()=>e.previousStep(u),goToStep:e.goToStep},null,8,["stepIndex","goToNext","goToPrevious","goToStep"]))]),b("div",Te,[b("div",Ce,[u===0?(m(),g(p,{key:0,class:"cancel-button",onClick:e.handleCancel},{default:y(()=>[f(o,{icon:e.closeOutline,slot:"start"},null,8,["icon"]),t[1]||(t[1]=I(" Cancel ",-1))]),_:1},8,["onClick"])):(m(),g(p,{key:1,class:"previous-button",onClick:w=>e.previousStep(u)},{default:y(()=>[f(o,{icon:e.arrowBack,slot:"start"},null,8,["icon"]),t[2]||(t[2]=I(" Back ",-1))]),_:1},8,["onClick"]))]),b("div",we,[f(p,{class:"next-button",onClick:w=>e.handleNextClick(u),disabled:e.isProcessing},{default:y(()=>[e.isProcessing&&u===e.StepperData.length-1?(m(),g(S,{key:0,name:"crescent",slot:"start",class:"button-spinner"})):N("",!0),I(" "+M(u<e.StepperData.length-1?"Next":e.isProcessing?"Saving...":"Finish")+" ",1),e.isProcessing?N("",!0):(m(),g(o,{key:1,icon:u<e.StepperData.length-1?e.arrowForward:e.checkmark,slot:"end"},null,8,["icon"]))]),_:2},1032,["onClick","disabled"])])])])),[[oe,e.currentStepIndex===u]])),128))]),_:1})]),_:1})]),_:1})}const Me=ce(be,[["render",Fe],["__scopeId","data-v-e9fd9d64"]]);export{Me as N,k as a,fe as b,Ee as d,D as n};
