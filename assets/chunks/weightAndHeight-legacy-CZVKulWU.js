System.register(["./vendor-legacy-DjGXx6Xl.js","../index-legacy-ByYLEw00.js","./lodash-legacy-pOOc9Efu.js","./BasicForm-legacy-DsDCWh5d.js","./customDatePicker-legacy-Jy_8n2Dz.js","./VitalsMixin.vue_vue_type_script_lang-legacy-iFTCfABF.js","./formatServerData-legacy-D2Ly5wDN.js"],function(t,e){"use strict";var a,i,n,s,l,o,d,r,u,c,v,h,p,g,m,b,y,f,w,x,D,I,H,C,k,T,B,P,V,_,S,O,W,M,R,F,j,N,z,A,E,U,$,G,J,L,q,Q,K,Y;return{setters:[t=>{a=t.D,i=t.d,n=t.ah,s=t.b2,l=t.G,o=t.E,d=t.ai,r=t.aj,u=t._,c=t.I,v=t.a3,h=t.R,p=t.am,g=t.bf,m=t.aT,b=t.H,y=t.e,f=t.m,w=t.f,x=t.k,D=t.O,I=t.Q,H=t.K,C=t.l,k=t.J,T=t.L,B=t.N,P=t.a5,V=t.a4,_=t.a6},t=>{S=t.l,O=t.j,W=t.B,M=t.aQ,R=t.N,F=t.u,j=t.H,N=t._,z=t.bb,A=t.M,E=t.S,U=t.bT,$=t.G,G=t.t,J=t.cf},t=>{L=t.l},t=>{q=t.B},t=>{Q=t.c},t=>{K=t._},t=>{Y=t.a}],execute:function(){var e=document.createElement("style");e.textContent=".vitals_title[data-v-07214b1e]{margin-bottom:50px}.input-with-icon[data-v-07214b1e]{position:relative}.input-icon[data-v-07214b1e]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-07214b1e]{padding-bottom:15px}h5[data-v-07214b1e]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.OtherVitalsTitle[data-v-07214b1e]{font-style:normal;font-weight:600;font-size:20px;color:#00190e}.OtherVitalsHeading[data-v-07214b1e]{display:flex;justify-content:space-between;margin:20px;line-height:60px;flex-direction:column}.vitalsContent[data-v-07214b1e]{height:500px}.saveBtn[data-v-07214b1e]{display:flex;justify-content:space-between;margin:20px;width:330px;align-items:center}.btnContent[data-v-07214b1e]{display:flex;justify-content:center;line-height:60px}.modal_wrapper[data-v-07214b1e]{padding:0 10px;background:#fff}.TodaysDate[data-v-07214b1e]{display:flex;align-items:center}.TodaysDate span[data-v-07214b1e]{margin-left:5px}.lbl-tl[data-v-656b29db]{min-width:20px;color:#b3b3b3!important;white-space:nowrap}.lbl-ct[data-v-656b29db]{white-space:nowrap;color:#08475e}.pim-cls-1[data-v-656b29db]{--background: #ffff}ion-footer[data-v-656b29db]{--ion-toolbar-background: #fff}.dashed-hr[data-v-656b29db]{border:none;border-top:2px dashed #b3b3b3;margin:20px 0}.modal_wrapper[data-v-656b29db]{padding:0 10px;background:#fff}.OtherVitalsTitle[data-v-656b29db]{font-style:normal;font-weight:600;font-size:16px;color:#00190e}.OtherVitalsHeading[data-v-656b29db]{display:flex;justify-content:space-between;margin:10px;line-height:40px;flex-direction:column}.vitalsContent[data-v-656b29db]{height:500px;margin:10px}.saveBtn[data-v-656b29db]{display:flex;justify-content:space-between;padding:20px 20px 0;width:100%;align-items:center}.btnContent[data-v-656b29db]{display:flex;justify-content:center;line-height:60px}.TodaysDate[data-v-656b29db]{display:flex;align-items:center}.TodaysDate span[data-v-656b29db]{margin-left:5px}\n/*$vite$:1*/",document.head.appendChild(e);const X=[{data:{rowData:[{colData:[{inputHeader:"Systolic Pressure",unit:"mmHg",icon:S.systolicPressure,value:"",name:"Systolic",required:!0,eventType:"input",disabled:!1,valueType:"number",validationFunctionName:"vitalsSystolic"},{inputHeader:"Diastolic pressure",unit:"mmHg",icon:S.diastolicPressure,value:"",name:"Diastolic",required:!0,eventType:"input",disabled:!1,valueType:"number",validationFunctionName:"vitalsDiastolic"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"bp",index:""}],previousView:{name:"vitals"}},{data:{rowData:[{colData:[{inputHeader:"Temperature",unit:"C",icon:S.temprature,value:"",name:"Temperature",eventType:"input",validationFunctionName:"vitalsTemperature",valueType:"number"},{inputHeader:"Pulse rate",unit:"BMP",icon:S.pulse,value:"",name:"Pulse",eventType:"input",validationFunctionName:"vitalsPulseRate",valueType:"number"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"temp",index:""},{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"pulse",index:""}]},{data:{rowData:[{colData:[{inputHeader:"Respiratory rate",unit:"BMP",icon:S.respiratory,value:"",name:"Respiratory rate",eventType:"input",validationFunctionName:"vitalsRespiratoryRate",valueType:"number"},{inputHeader:"Oxygen saturation",unit:"%",icon:S.oxgenStaturation,value:"",name:"SAO2",eventType:"input",validationFunctionName:"vitalsOxygenSaturation",valueType:"number"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"respiratory",index:""},{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"oxygen",index:""}]}],Z=a("immunizationVitalsStore",{state:()=>({vitals:[...X]}),actions:{setVitals(t){this.vitals=t},getInitialVitals:()=>[...L.cloneDeep(X)]},persist:!0}),tt=i({mixins:[K],components:{IonContent:v,IonHeader:c,IonItem:u,IonList:r,IonMenu:d,IonTitle:o,IonToolbar:l,IonInput:s,BasicInputField:W,BasicForm:q,PreviousVitals:O,customDatePicker:Q},data:()=>({iconsContent:S,vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1,pulseRate:!1},showPD:!1,todays_date:j.sessionDate(),formOpen:!0}),computed:{...n(F,["patient"]),...n(Z,["vitals"])},async serverPrefetch(){this.updateVitalsStores()},async mounted(){this.cleanVitalForm(),this.vitalsData=this.vitals,await this.setTodayVitals(),await this.validateRowData()},watch:{vitals:{handler(){this.vitalsData=this.vitals},deep:!0},$route:{handler(){this.cleanVitalForm(),this.vitalsData=this.vitals}}},setup:()=>({checkmark:m,pulseOutline:g}),methods:{cleanVitalForm(){const t=Z();t.setVitals(t.getInitialVitals())},navigationMenu(t){p.close(),this.$router.push(t)},updateVitalsStores(){Z().setVitals(this.vitals)},async validateRowData(){const t=R(this.vitals,"Height (cm)","value"),e=R(this.vitals,"Weight","value"),a=R(this.vitals,"Systolic","value"),i=R(this.vitals,"Diastolic","value"),n=R(this.vitals,"Temperature","value"),s=R(this.vitals,"Pulse","value"),l=R(this.vitals,"Respiratory rate","value"),o=R(this.vitals,"SAO2","value");await this.setBMI(t,e),await this.updateBP(a,i);const d=this.getPulseRateStatus(s);await this.updateRate("pulse",s," BMP",d,4);const r=this.getTemperatureStatus(n);this.updateRate("temp",n,"Â°C",r,4);const u=this.getRespiratoryRateStatus(l);this.updateRate("respiratory",l,"BMP",u,6);const c=this.getOxygenSaturationStatus(o);this.updateRate("oxygen",o,"%",c,6)},showCPD(){this.showPD=!0},closeForm(){this.formOpen=!1},async saveVitals(){h.dismiss();const t=await Y(this.vitals);if(t.length>0){var e;let a=null===(e=this.patient)||void 0===e?void 0:e.vitals;a.unsaved=[...a.unsaved,...t],await M(this.patient)}}}}),et={key:0,class:"modal_wrapper"},at={class:"OtherVitalsHeading"},it={class:"TodaysDate"},nt={class:""},st={class:"btnContent"},lt={class:"saveBtn"};t("O",N(tt,[["render",function(t,e,a,i,n,s){const l=b("basic-form"),o=b("customDatePicker"),d=b("ion-icon"),r=b("ion-button");return t.formOpen?(w(),y("div",et,[x("div",at,[e[3]||(e[3]=x("div",{class:"OtherVitalsTitle"},"OTHER VITALS",-1)),x("div",it,[e[1]||(e[1]=I("Todays Date: ",-1)),e[2]||(e[2]=x("span",null,null,-1)),I(" "+H(t.todays_date),1)])]),x("div",nt,[C(l,{contentData:t.vitals,"onUpdate:inputValue":e[0]||(e[0]=e=>t.validateRowData())},null,8,["contentData"])]),t.showPD?(w(),D(o,{key:0})):f("",!0),x("div",st,[x("div",lt,[x("div",null,[C(r,{class:"btnText",fill:"solid",onClick:t.saveVitals},{default:k(()=>[e[4]||(e[4]=I(" Done today ",-1)),C(d,{slot:"end",size:"small",icon:t.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1},8,["onClick"])]),e[6]||(e[6]=x("div",null,null,-1)),x("div",null,[C(r,{class:"btnText",fill:"solid",onClick:t.showCPD},{default:k(()=>[e[5]||(e[5]=I(" Done earlier ",-1)),C(d,{slot:"end",size:"small",icon:t.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1},8,["onClick"])])])])])):f("",!0)}],["__scopeId","data-v-07214b1e"]]));const ot=i({name:"Home",components:{IonContent:v,IonHeader:c,IonPage:_,IonTitle:o,IonToolbar:l,IonRow:V,IonCol:P,IonButton:B,IonIcon:T,BasicForm:q,customDatePicker:Q},data:()=>({popoverOpen:!1,iconContent:S,event:null,BMI:"",showPD:!1,vitals_date:j.toStandardHisFormat(j.sessionDate()),formOpen:!0,checkUnderSixWeeks:!1,showDateBtns:!0}),computed:{...n(F,["patient"]),...n(J,["vitalsWeightHeight"])},watch:{patient:{async handler(){this.checkAge()}}},mounted(){this.checkAge()},setup(){},methods:{checkAge(){var t,e;L.isEmpty(null===(t=this.patient)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.birthdate)||(this.checkUnderSixWeeks=j.dateDiffInDays(j.sessionDate(),null===(e=this.patient)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)<42,this.controlHeight())},nav(t){this.$router.push(t)},formatBirthdate(){var t;return j.getBirthdateAge(null===(t=this.patient)||void 0===t||null===(t=t.personInformation)||void 0===t?void 0:t.birthdate)},controlHeight(){this.checkUnderSixWeeks?(A(this.vitalsWeightHeight,"Height (cm)","inputHeader","Height"),A(this.vitalsWeightHeight,"Height (cm)","inputDisplayNone",!0)):A(this.vitalsWeightHeight,"Height (cm)","inputDisplayNone",!1)},async validaterowData(t){const e=E.getUserID(),a=new U(this.patient.patientID,e),i=R(this.vitalsWeightHeight,"weight","value"),n=R(this.vitalsWeightHeight,"Height (cm)","value"),s=a.validator({inputHeader:"Height*",value:n}),l=a.validator({inputHeader:"Weight*",value:i});A(this.vitalsWeightHeight,"Height (cm)","alertsErrorMassage",s&&n?s.flat(1/0)[0]:""),A(this.vitalsWeightHeight,"weight","alertsErrorMassage",l&&i?l.flat(1/0)[0]:""),this.setBMI(i,n)},async saveVitals(){const t=E.getUserID(),e=new U(this.patient.patientID,t),a=R(this.vitalsWeightHeight,"weight","value");R(this.vitalsWeightHeight,"Height (cm)","value");const i=e.validator({inputHeader:"Weight*",value:a}),n=await Y(this.vitalsWeightHeight,this.vitals_date);if(n.length>0&&null==i){const t=JSON.parse(JSON.stringify(this.patient));let e=null==t?void 0:t.vitals;e.unsaved=[...e.unsaved,...n],await M(t),$("Vitals saved successful"),this.cleanInputFields()}else G("Please complete the form")},cleanInputFields(){A(this.vitalsWeightHeight,"weight","value",""),A(this.vitalsWeightHeight,"Height (cm)","value",""),this.dismiss()},dismiss(){h.dismiss()},async setBMI(t,e){var a,i,n,s;null!==(a=this.patient)&&void 0!==a&&null!==(a=a.personInformation)&&void 0!==a&&a.gender&&null!==(i=this.patient)&&void 0!==i&&null!==(i=i.personInformation)&&void 0!==i&&i.birthdate&&(this.BMI=await z.getBMI(parseInt(t),parseInt(e),null===(n=this.patient)||void 0===n||null===(n=n.personInformation)||void 0===n?void 0:n.gender,j.calculateAge(null===(s=this.patient)||void 0===s||null===(s=s.personInformation)||void 0===s?void 0:s.birthdate,j.sessionDate()))),this.updateBMI()},async updateBMI(){var t,e,a,i,n,s;const l=null!==(t=null===(e=this.BMI)||void 0===e?void 0:e.color)&&void 0!==t?t:[],o=this.vitalsWeightHeight[0].alerts[0];o.icon=z.iconBMI(l),o.backgroundColor=l[0],o.textColor=l[1],o.index="BMI "+(null!==(a=null===(i=this.BMI)||void 0===i?void 0:i.index)&&void 0!==a?a:""),o.value=null!==(n=null===(s=this.BMI)||void 0===s?void 0:s.result)&&void 0!==n?n:""},showCPD(){this.showPD=!0,this.showDateBtns=!1},updateDate(t){this.vitals_date=j.toStandardHisFormat(t)}}}),dt={key:0,class:"pim-cls-1 modal_wrapper"},rt={class:"center text_12"},ut={class:"btnContent"},ct={key:0,class:"saveBtn"},vt={key:1,class:"saveBtn"};t("w",N(ot,[["render",function(t,e,a,i,n,s){const l=b("BasicForm"),o=b("ion-row"),d=b("customDatePicker"),r=b("ion-icon"),u=b("ion-button"),c=b("ion-col");return t.formOpen?(w(),y("div",dt,[e[7]||(e[7]=x("div",{class:"OtherVitalsHeading"},[x("div",{class:"OtherVitalsTitle"},"Add Weight/Height")],-1)),x("div",null,[x("div",rt,[C(o,null,{default:k(()=>[C(l,{contentData:t.vitalsWeightHeight,"onUpdate:inputValue":e[0]||(e[0]=e=>t.validaterowData(e))},null,8,["contentData"])]),_:1})])]),t.showPD?(w(),D(d,{key:0,onDateChange:t.updateDate},null,8,["onDateChange"])):f("",!0),x("div",ut,[t.showDateBtns?(w(),y("div",ct,[x("div",null,[C(u,{class:"btnText",fill:"solid",onClick:e[1]||(e[1]=e=>t.saveVitals())},{default:k(()=>[e[3]||(e[3]=I(" Done today ",-1)),C(r,{slot:"end",size:"small",icon:t.iconContent.calenderwithPlus},null,8,["icon"])]),_:1})]),x("div",null,[C(u,{class:"btnText",fill:"solid",onClick:t.showCPD},{default:k(()=>[e[4]||(e[4]=I(" Done earlier ",-1)),C(r,{slot:"end",size:"small",icon:t.iconContent.calenderWithPenEdit},null,8,["icon"])]),_:1},8,["onClick"])])])):f("",!0),t.showDateBtns?f("",!0):(w(),y("div",vt,[C(o,{class:"ion-justify-content-between",style:{width:"100%"}},{default:k(()=>[C(c,{size:"auto"},{default:k(()=>[C(u,{onClick:t.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:k(()=>[...e[5]||(e[5]=[I(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:1}),C(c,{size:"auto"},{default:k(()=>[C(u,{onClick:e[2]||(e[2]=e=>t.saveVitals()),class:"btnText",fill:"solid",style:{width:"130px"}},{default:k(()=>[...e[6]||(e[6]=[I(" Save ",-1)])]),_:1})]),_:1})]),_:1})]))])])):f("",!0)}],["__scopeId","data-v-656b29db"]]))}}});
