import{d as b,r as d,at as T,w as g,e as y,f as k,l as S,u as h,L as V,bq as C,aF as P,bh as R,eV as z,G as f,Q as $,H as F,k as B}from"./vendor-CJ2tyHrn.js";import{C as U,_ as A,T as j,u as E}from"../index-CPIhguZJ.js";import{k as m,j as I,N as L}from"./NeonatalStepper-BvXO5k96.js";import{A as W}from"./AdmissionProgressBar-iDenwSxV.js";import{u as q}from"./useAdmissionSignOff-ClpJYOGq.js";import{P as O,u as G}from"./useNeonatalAdmissionOutcomesStore-DZeBpELK.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-BtvCa6MI.js";import"./SaveProgressModal-Bs8SOcXY.js";import"./enrollment-DU-PLRUa.js";import"./images-142qstiX.js";import"./neonatal_service-DKdrVzxM.js";import"./admissionWorkflow-C1e4oic-.js";import"./useNeonatalEnrollmentStore--u9Qw-om.js";import"./useSignsSymptomsStore-CPCJjl8z.js";import"./useNeonatalVitalsStore-DTiiFKPi.js";const H={class:"admission-signoff-wrapper"},K=b({__name:"AdmissionSignOffSection",setup(n,{expose:l}){const s=d(null),i=m[0],c=i.formData,u=i.subtitle,r=T(I);q(s);const p=e=>{r&&(r.healthcareWorkerId=e.healthcareWorkerId||"",r.electronicSignature=e.electronicSignature||"",r.userRole=e.userRole||"",r.signOffDate=e.signOffDate||"")};return g(()=>{var e;return(e=s.value)==null?void 0:e.formValues},e=>{e&&p(e)},{deep:!0}),g(()=>s.value,e=>{e!=null&&e.getFormValues&&p(e.getFormValues())},{immediate:!0}),l({getFormRef:()=>s.value,validateForm:()=>{var e,a;return((a=(e=s.value)==null?void 0:e.validateForm)==null?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return((a=(e=s.value)==null?void 0:e.getFormValues)==null?void 0:a.call(e))||{}}}),(e,a)=>(k(),y("div",H,[S(U,{formData:h(c),subtitle:h(u),ref_key:"formRef",ref:s,class:"main-form"},null,8,["formData","subtitle"])]))}}),D=A(K,[["__scopeId","data-v-d193646e"]]),Q=b({name:"NeonatalAdmissionSignOff",components:{IonPage:C,IonContent:V,Toolbar:j,NeonatalStepper:L,AdmissionProgressBar:W,AdmissionSignOffSection:D,PrintSummarySection:O},setup(){const n=P(),l=E(),{patient:s}=R(l),i=G(),c=d(!1),u=o=>{const t=Number(o);return Number.isFinite(t)?t:null},r=()=>{var t;const o=u((t=s.value)==null?void 0:t.patientID);i.initializeAdmissionOutcomesForm(o)};r(),g(()=>{var o;return(o=s.value)==null?void 0:o.patientID},()=>r());const p=i.admissionOutcomesForm;z(I,p),g(()=>i.admissionOutcomesForm,()=>i.saveAdmissionOutcomesSnapshot(),{deep:!0});const e=d("1"),a=d(m.map((o,t)=>({title:o.title,number:t+1,checked:!1,class:t===0?"open_step common_step":"common_step",last_step:t===m.length-1?"last_step":""}))),_=[{title:m[0].title,value:"1",component:D,configIndex:0},{title:m[1].title,value:"2",component:O,configIndex:1}],w=o=>{o&&o.value&&a.value.forEach((t,v)=>{o.value===(v+1).toString()?(t.class="open_step common_step",t.checked=!1):v<parseInt(o.value)-1?(t.class="common_step color_white",t.checked=!0):(t.class="common_step",t.checked=!1)})},N=_.length-1;return{wizardData:a,stepperData:_,stepperTitle:"Sign Off & Print",currentOpenStepper:e,updateStatus:w,getSaveFunction:o=>o===N?async()=>{if(!c.value){c.value=!0;try{n.push("/patientProfile")}finally{c.value=!1}}}:null,isSaving:c,neonatalAdmissionSignOffSections:m}}}),J={class:"signoff-container"};function M(n,l,s,i,c,u){const r=f("Toolbar"),p=f("NeonatalStepper"),e=f("ion-content"),a=f("ion-page");return k(),$(a,{class:"neonatal-admission-signoff-page"},{default:F(()=>[S(r),S(e,{fullscreen:!0,class:"ion-padding"},{default:F(()=>[B("div",J,[S(p,{wizardData:n.wizardData,StepperData:n.stepperData,stepperTitle:n.stepperTitle,openStepper:n.currentOpenStepper,backUrl:"/patientProfile",flowType:"admissionOutcomes",sectionsConfig:n.neonatalAdmissionSignOffSections,useSkipLogic:!0,getSaveFunction:n.getSaveFunction,onUpdateStatus:n.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","sectionsConfig","getSaveFunction","onUpdateStatus"])])]),_:1})]),_:1})}const fe=A(Q,[["render",M],["__scopeId","data-v-b6e6d1fe"]]);export{fe as default};
