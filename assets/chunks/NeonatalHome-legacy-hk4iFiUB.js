!function(){function a(a,e,t){return(e=function(a){var e=function(a,e){if("object"!=typeof a||!a)return a;var t=a[Symbol.toPrimitive];if(void 0!==t){var n=t.call(a,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(a)}(a,"string");return"symbol"==typeof e?e:e+""}(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}System.register(["./vendor-legacy-DjGXx6Xl.js","../index-legacy-ByYLEw00.js","./neonatal_service-legacy-vNSKsnne.js","./images-legacy-gTS9vAYU.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-CnQpVQ3m.js"],function(e,t){"use strict";var n,i,o,l,d,s,r,c,u,v,p,g,m,b,x,f,h,y,w,k,_,C,S,z,I,$,j,N,T,A,M,D,L,P,E,F,H,B,O,q;return{setters:[a=>{n=a.d,i=a.O,o=a.f,l=a.u,d=a.bq,s=a.p,r=a.J,c=a.l,u=a.aU,v=a.k,p=a.e,g=a.m,m=a.K,b=a.c,x=a.Q,f=a.bi,h=a.I,y=a.G,w=a.E,k=a.a_,_=a.N,C=a.L,S=a.aS,z=a.a3,I=a.j,$=a.ao,j=a.r,N=a.a,T=a.a4,A=a.F,M=a.P,D=a.a5,L=a.bm,P=a.dS,E=a.a6},a=>{F=a._,H=a.u,B=a.T},a=>{O=a.N},a=>{q=a.I},null,null],execute:function(){var t=document.createElement("style");t.textContent=".stat-card[data-v-de1dedbc]{margin:8px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .2s ease;cursor:default}.stat-card.is-clickable[data-v-de1dedbc]{cursor:pointer}.stat-card.is-clickable[data-v-de1dedbc]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.stat-content[data-v-de1dedbc]{text-align:center;padding:16px 12px}.stat-icon-wrapper[data-v-de1dedbc]{display:flex;justify-content:center;align-items:center;margin-bottom:12px}.stat-icon[data-v-de1dedbc]{width:48px;height:48px;object-fit:contain}.stat-icon.critical-icon[data-v-de1dedbc]{width:48px;height:48px}.stat-label[data-v-de1dedbc]{font-size:12px;color:#666;margin-bottom:6px;min-height:28px;display:flex;align-items:center;justify-content:center}.stat-value[data-v-de1dedbc]{font-size:22px;font-weight:700;color:#333}.stat-value.critical-value[data-v-de1dedbc]{color:#dc3545}@media(max-width:768px){.stat-card[data-v-de1dedbc]{margin:4px}.stat-content[data-v-de1dedbc]{padding:16px 12px}.stat-icon[data-v-de1dedbc]{width:40px;height:40px}.stat-label[data-v-de1dedbc]{font-size:11px;min-height:24px}.stat-value[data-v-de1dedbc]{font-size:20px}}.action-card[data-v-588146f9]{margin:0;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);cursor:pointer;transition:transform .2s ease;background:#f8f9fa}.action-card[data-v-588146f9]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.action-content[data-v-588146f9]{text-align:center;padding:24px 16px}.action-icon-wrapper[data-v-588146f9]{display:flex;justify-content:center;align-items:center;margin-bottom:12px}.action-icon[data-v-588146f9],.action-icon.emergency-icon[data-v-588146f9]{width:80px;height:80px}.action-label[data-v-588146f9]{font-size:16px;font-weight:500;color:#333}@media(max-width:768px){.action-content[data-v-588146f9]{padding:20px 12px}.action-icon[data-v-588146f9],.action-icon.emergency-icon[data-v-588146f9]{width:60px;height:60px}.action-label[data-v-588146f9]{font-size:14px}}.neonate-card[data-v-1d7d32b4]{border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);cursor:pointer;transition:transform .2s ease;margin:0}.neonate-card[data-v-1d7d32b4]:hover{transform:translate(4px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.neonate-content[data-v-1d7d32b4]{display:flex;justify-content:space-between;align-items:center;padding:16px}.neonate-info[data-v-1d7d32b4]{flex:1}.neonate-name[data-v-1d7d32b4]{font-size:14px;font-weight:600;color:#333;margin-bottom:4px}.neonate-mrn[data-v-1d7d32b4]{font-size:12px;color:#666;margin-bottom:6px}.neonate-details[data-v-1d7d32b4]{display:flex;gap:16px;font-size:12px;color:#666}.detail-item[data-v-1d7d32b4]{display:flex;align-items:center;gap:4px}.detail-icon[data-v-1d7d32b4]{font-size:16px;height:16px}.neonate-status[data-v-1d7d32b4]{flex-shrink:0}.status-badge[data-v-1d7d32b4]{padding:6px 12px;border-radius:16px;font-size:11px;font-weight:600}.status-primary[data-v-1d7d32b4]{background-color:rgba(var(--ion-color-primary-rgb),.15);color:rgba(var(--ion-color-primary-rgb),.85)}.status-danger[data-v-1d7d32b4]{background-color:rgba(var(--ion-color-danger-rgb),.15);color:rgba(var(--ion-color-danger-rgb),.85)}.status-success[data-v-1d7d32b4]{background-color:rgba(var(--ion-color-success-rgb),.15);color:rgba(var(--ion-color-success-rgb),.85)}.status-warning[data-v-1d7d32b4]{background-color:rgba(var(--ion-color-warning-rgb),.15);color:rgba(var(--ion-color-warning-rgb),.85)}.status-medium[data-v-1d7d32b4]{background-color:rgba(var(--ion-color-medium-rgb),.15);color:rgba(var(--ion-color-medium-rgb),.85)}@media(max-width:768px){.neonate-content[data-v-1d7d32b4]{padding:12px}.neonate-name[data-v-1d7d32b4]{font-size:13px}.neonate-mrn[data-v-1d7d32b4]{font-size:11px}.neonate-details[data-v-1d7d32b4]{font-size:11px;gap:12px}.status-badge[data-v-1d7d32b4]{padding:5px 10px;font-size:10px}}@media(max-width:576px){.neonate-content[data-v-1d7d32b4]{flex-direction:column;align-items:flex-start;gap:12px}.neonate-status[data-v-1d7d32b4]{width:100%;display:flex;justify-content:flex-end}}.drilldown-modal[data-v-912ed09a]{--height: 90%}.drilldown-content[data-v-912ed09a]{padding:20px}.drilldown-list[data-v-912ed09a]{display:flex;flex-direction:column;gap:12px;max-height:70vh;overflow-y:auto}.empty-drilldown[data-v-912ed09a]{text-align:center;padding:32px 16px;color:#7a7a7a;font-size:14px}.drilldown-list[data-v-912ed09a] .neonate-card{box-shadow:0 4px 12px rgba(0,0,0,.15)}.drilldown-list[data-v-912ed09a] .neonate-card:hover{box-shadow:0 6px 16px rgba(0,0,0,.2)}.neonatal-dashboard[data-v-8ed8dd68]{width:100%;padding:0;margin:0}.header-image[data-v-8ed8dd68]{width:100%;height:200px;overflow:hidden;position:relative}.header-image img[data-v-8ed8dd68]{width:100%;height:100%;object-fit:cover;filter:brightness(.9)}.section-container[data-v-8ed8dd68]{padding:20px;max-width:1200px;margin:0 auto}.section-title[data-v-8ed8dd68]{font-size:16px;font-weight:600;color:#5a5a5a;margin-bottom:12px;padding-left:4px}.stats-grid[data-v-8ed8dd68],.actions-grid[data-v-8ed8dd68]{padding:0}.neonates-list[data-v-8ed8dd68]{display:flex;flex-direction:column;gap:12px}.empty-neonates[data-v-8ed8dd68]{text-align:center;padding:24px 0;color:#8a8a8a;font-size:14px}.neonate-skeleton[data-v-8ed8dd68]{display:flex;align-items:center;gap:16px;padding:16px;background:#fff;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,.08)}.skeleton-content[data-v-8ed8dd68]{flex:1;display:flex;flex-direction:column;gap:4px}@media(max-width:768px){.header-image[data-v-8ed8dd68]{height:150px}.section-container[data-v-8ed8dd68]{padding:16px}.section-title[data-v-8ed8dd68]{font-size:15px;margin-bottom:10px}}ion-content[data-v-052dae1c]{--background: #f5f5f5}\n/*$vite$:1*/",document.head.appendChild(t);class R{constructor(){a(this,"statusColorMap",{admitted:"primary",discharged:"success",critical:"warning"})}getStatusColor(a){var e;return null!==(e=this.statusColorMap[a.toLowerCase()])&&void 0!==e?e:"medium"}formatWeight(a){return`${(a/1e3).toFixed(2)} kg`}static getInstance(){return R.instance||(R.instance=new R),R.instance}}a(R,"instance",void 0);const U=R.getInstance(),G=[{label:"Triaged without Registration",key:"triage_only",iconSrc:q.icons.triaged},{label:"Admitted Today",key:"admitted",iconSrc:q.icons.newborn},{label:"Discharged Today",key:"discharged",iconSrc:q.icons.babyCarriage},{label:"Critical",key:"critical",iconSrc:q.icons.warningSign,isCritical:!0}],K=[{label:"Start Emergency Triage",iconSrc:q.icons.electrocardiogram,iconClass:"emergency-icon",route:"/neonatal/triage",query:{source:"dashboard"}},{label:"Instruction Guides",iconSrc:q.icons.info,route:"/neonatal/guides"}],Q={class:"stat-icon-wrapper"},W=["innerHTML"],Y=["src","alt"],J={class:"stat-label"},V=n({__name:"card",props:{label:{},value:{},iconSrc:{},svgIcon:{},isCritical:{type:Boolean},clickable:{type:Boolean}},emits:["click"],setup(a,{emit:e}){const t=a,n=e,b=()=>{t.clickable&&n("click")};return(e,t)=>(o(),i(l(d),{class:s(["stat-card",{"is-clickable":a.clickable}]),onClick:b},{default:r(()=>[c(l(u),{class:"stat-content"},{default:r(()=>[v("div",Q,[a.svgIcon?(o(),p("div",{key:0,innerHTML:a.svgIcon,class:"stat-icon"},null,8,W)):a.iconSrc?(o(),p("img",{key:1,src:a.iconSrc,class:"stat-icon critical-icon",alt:a.label},null,8,Y)):g("",!0)]),v("div",J,m(a.label),1),v("div",{class:s(["stat-value",{"critical-value":a.isCritical}])},m(a.value),3)]),_:1})]),_:1},8,["class"]))}}),X=F(V,[["__scopeId","data-v-de1dedbc"]]),Z={class:"action-icon-wrapper"},aa=["innerHTML"],ea=["src","alt"],ta={class:"action-label"},na=F(n({__name:"action-card",props:{label:{},svgIcon:{},iconSrc:{},iconClass:{}},emits:["click"],setup(a,{emit:e}){const t=e,n=()=>{t("click")};return(e,t)=>(o(),i(l(d),{class:"action-card",onClick:n},{default:r(()=>[c(l(u),{class:"action-content"},{default:r(()=>[v("div",Z,[a.svgIcon?(o(),p("div",{key:0,innerHTML:a.svgIcon,class:s(["action-icon",a.iconClass])},null,10,aa)):a.iconSrc?(o(),p("img",{key:1,src:a.iconSrc,class:s(["action-icon",a.iconClass]),alt:a.label},null,10,ea)):g("",!0)]),v("div",ta,m(a.label),1)]),_:1})]),_:1}))}}),[["__scopeId","data-v-588146f9"]]),ia={class:"neonate-info"},oa={class:"neonate-name"},la={class:"neonate-mrn"},da={class:"neonate-details"},sa={class:"detail-item"},ra=["src"],ca={class:"detail-item"},ua=["src"],va={class:"neonate-status"},pa=F(n({__name:"neonate-card",props:{neonate:{},getStatusColor:{type:Function}},emits:["click"],setup(a,{emit:e}){const t=a,n=e,p=b(()=>t.getStatusColor(t.neonate.status)),g=()=>{n("click",t.neonate.id,t.neonate.status)};return(e,t)=>(o(),i(l(d),{class:"neonate-card",onClick:g},{default:r(()=>[c(l(u),{class:"neonate-content"},{default:r(()=>[v("div",ia,[v("div",oa,m(a.neonate.name),1),v("div",la,m(a.neonate.mrn),1),v("div",da,[v("span",sa,[v("img",{src:l(q).icons.deliveryTime,class:"detail-icon"},null,8,ra),x(" "+m(a.neonate.age),1)]),v("span",ca,[v("img",{src:l(q).icons.babyWeight,class:"detail-icon"},null,8,ua),x(" "+m(a.neonate.weight),1)])])]),v("div",va,[v("div",{class:s(["status-badge",`status-${p.value}`])},m(a.neonate.status),3)])]),_:1})]),_:1}))}}),[["__scopeId","data-v-1d7d32b4"]]),ga={class:"drilldown-content"},ma={key:0,class:"empty-drilldown"},ba={key:1,class:"drilldown-list"},xa=n({__name:"DrilldownModal",props:{isOpen:{type:Boolean},title:{},isEmpty:{type:Boolean,default:!1},emptyMessage:{default:"No items available."}},emits:["close","dismiss"],setup(a,{emit:e}){const t=e,n=S,d=()=>{t("close")},s=()=>{t("dismiss")};return(e,t)=>(o(),i(l(f),{"is-open":a.isOpen,onDidDismiss:s,class:"drilldown-modal"},{default:r(()=>[c(l(h),null,{default:r(()=>[c(l(y),null,{default:r(()=>[c(l(w),null,{default:r(()=>[x(m(a.title),1)]),_:1}),c(l(k),{slot:"end"},{default:r(()=>[c(l(_),{fill:"clear",onClick:d},{default:r(()=>[c(l(C),{slot:"icon-only",icon:l(n)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),c(l(z),null,{default:r(()=>[v("div",ga,[a.isEmpty?(o(),p("div",ma,m(a.emptyMessage),1)):(o(),p("div",ba,[I(e.$slots,"default",{},void 0,!0)]))])]),_:3})]),_:3},8,["is-open"]))}}),fa=F(xa,[["__scopeId","data-v-912ed09a"]]),ha={class:"neonatal-dashboard"},ya={class:"header-image"},wa=["src"],ka={class:"section-container"},_a={class:"section-container"},Ca={class:"section-container"},Sa={key:0,class:"neonates-list"},za={class:"skeleton-content"},Ia={key:1,class:"neonates-list"},$a={key:2,class:"empty-neonates"},ja=F(n({__name:"LandingPage",setup(a){const e={enrolled:"In patient",admitted:"Admitted",discharged:"Discharged",critical:"Critical",triage_only:"Triaged"},t=()=>G.reduce((a,e)=>(a[e.key]={count:0,neonates:[]},a),{}),n=$(),d=j(t()),s=j([]),u=j(!0),g=j(!1),m=j(null),x=b(()=>{var a,e;return m.value&&null!==(a=null===(e=d.value[m.value])||void 0===e?void 0:e.neonates)&&void 0!==a?a:[]}),f=b(()=>{const a=(e=m.value)&&null!==(t=null===(n=G.find(a=>a.key===e))||void 0===n?void 0:n.label)&&void 0!==t?t:"Neonates";var e,t,n;return x.value.length?`${a} (${x.value.length})`:a}),h=a=>{var e,t;return(null!==(e=null===(t=d.value[a])||void 0===t?void 0:t.neonates.length)&&void 0!==e?e:0)>0},y=()=>{g.value=!1,m.value=null},w=a=>{n.push({path:a})},k=async(a,e)=>{try{const t=H();await t.setPatientRecord({patientID:Number(a)}),w("Triaged"===e?`/registration/manual?patientID=${a}`:`/patientProfile?id=${a}`)}catch(t){console.error("[NeonatalLanding] Failed to load patient:",t),w(`/patientProfile?id=${a}`)}},_=a=>U.getStatusColor(a),C=a=>{const e=t();return G.forEach(t=>{var n,i;const o=t.key,l=null!==(n=null==a?void 0:a[o])&&void 0!==n?n:null==a||null===(i=a.stats)||void 0===i?void 0:i[o],d=S(a,o);e[o]=z(l,d,o)}),e},S=(a,e)=>{var t,n,i,o,l;if(!a)return[];return null!==(l=[null==a||null===(t=a.neonates)||void 0===t?void 0:t[e],null==a||null===(n=a.details)||void 0===n?void 0:n[e],null==a?void 0:a[`${e}_neonates`],null==a?void 0:a[`${e}_patients`],null==a?void 0:a[`${e}_records`],null==a||null===(i=a[e])||void 0===i?void 0:i.neonates,null==a||null===(o=a[e])||void 0===o?void 0:o.patients].find(a=>Array.isArray(a)))&&void 0!==l?l:[]},z=(a,e,t)=>{if("number"==typeof a)return{count:a,neonates:I(e,t)};if(a&&"object"==typeof a){const n=Array.isArray(a.neonates)?a.neonates:Array.isArray(a.patients)?a.patients:e,i=I(n,t);return{count:"number"==typeof a.count?a.count:"number"==typeof a.total?a.total:"number"==typeof a.value?a.value:i.length,neonates:i}}const n=I(e,t);return{count:n.length,neonates:n}},I=(a,e)=>Array.isArray(a)?a.map((a,t)=>E(a,e,t)):[],E=(a,t,n)=>{var i,o,l,d,s,r,c,u,v,p,g,m;const b=e[t],x=`${t}-${n}`;var f,h,y,w;if(null!=a&&a.name&&null!=a&&a.mrn)return{id:String(null!==(f=a.id)&&void 0!==f?f:x),name:a.name,mrn:a.mrn,age:null!==(h=a.age)&&void 0!==h?h:"—",weight:null!==(y=a.weight)&&void 0!==y?y:"—",status:null!==(w=a.status)&&void 0!==w?w:b};const k=null!==(i=null==a?void 0:a.patient)&&void 0!==i?i:a,_=null!==(o=null!==(l=null!==(d=null==a?void 0:a.id)&&void 0!==d?d:null==a?void 0:a.patient_id)&&void 0!==l?l:null==k?void 0:k.patient_id)&&void 0!==o?o:x,C=[null==a?void 0:a.name,null==k?void 0:k.given_name,null==k?void 0:k.family_name].filter(Boolean).join(" ").trim()||"Unknown Neonate",S=null!==(s=null!==(r=null!==(c=null==a?void 0:a.mrn)&&void 0!==c?c:null==a?void 0:a.identifier)&&void 0!==r?r:null==k?void 0:k.identifier)&&void 0!==s?s:"N/A",z=null!==(u=null!==(v=null==a?void 0:a.age)&&void 0!==v?v:F(null==k?void 0:k.birthdate))&&void 0!==u?u:"—",I=null!==(p=null!==(g=null==a?void 0:a.weight)&&void 0!==g?g:null==a?void 0:a.latest_weight)&&void 0!==p?p:null==a?void 0:a.weight_kg,$="number"==typeof I?`${I.toFixed(2)} Kg`:null!=I?I:"—",j=null!==(m=null==a?void 0:a.status)&&void 0!==m?m:b;return{id:String(_),name:C,mrn:S,age:z,weight:$,status:j}},F=a=>{if(!a)return null;const e=new Date(a);if(Number.isNaN(e.getTime()))return null;const t=Date.now()-e.getTime(),n=Math.floor(t/36e5);if(n<24)return`${n} hrs old`;const i=Math.floor(n/24);return i<1?"Today":`${i} day${1===i?"":"s"} old`},B=()=>{const a=Object.values(d.value).flatMap(a=>a.neonates).slice(0,5);s.value=a};return N(()=>{(async()=>{try{u.value=!0;const a=await O.getStatistics();d.value=C(a),a.recent_neonates&&Array.isArray(a.recent_neonates)?s.value=a.recent_neonates.map(a=>({id:String(a.id||a.patient_id||""),name:a.name||"Unknown Neonate",mrn:a.mrn||"N/A",age:a.age||"—",weight:a.weight||"—",status:a.status||"In patient"})):B()}catch(a){console.error("[NeonatalLanding] Failed to load statistics",a),d.value=t(),s.value=[]}finally{u.value=!1}})()}),(a,e)=>(o(),p("div",ha,[v("div",ya,[v("img",{src:l(q).banners.babyHand,alt:"baby-hand-banner",style:{"object-fit":"cover"}},null,8,wa)]),v("div",ka,[e[0]||(e[0]=v("h2",{class:"section-title"},"Today's Stats",-1)),c(l(L),{class:"stats-grid"},{default:r(()=>[c(l(T),null,{default:r(()=>[(o(!0),p(A,null,M(l(G),a=>(o(),i(l(D),{key:a.key,size:"6","size-md":"3"},{default:r(()=>{return[c(X,{label:a.label,value:(e=a.key,null!==(t=null===(n=d.value[e])||void 0===n?void 0:n.count)&&void 0!==t?t:0),"icon-src":a.iconSrc,"svg-icon":a.svgIcon,"is-critical":a.isCritical,clickable:h(a.key),onClick:e=>(a=>{h(a)&&(m.value=a,g.value=!0)})(a.key)},null,8,["label","value","icon-src","svg-icon","is-critical","clickable","onClick"])];var e,t,n}),_:2},1024))),128))]),_:1})]),_:1})]),v("div",_a,[e[1]||(e[1]=v("h2",{class:"section-title"},"Quick Actions",-1)),c(l(L),{class:"actions-grid"},{default:r(()=>[c(l(T),null,{default:r(()=>[(o(!0),p(A,null,M(l(K),a=>(o(),i(l(D),{key:a.route,size:"6","size-md":"6"},{default:r(()=>[c(na,{label:a.label,"svg-icon":a.svgIcon,"icon-src":a.iconSrc,"icon-class":a.iconClass,onClick:e=>(a=>{n.push({path:a.route,query:a.query})})(a)},null,8,["label","svg-icon","icon-src","icon-class","onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),v("div",Ca,[e[2]||(e[2]=v("h2",{class:"section-title"},"Recent Neonates",-1)),u.value?(o(),p("div",Sa,[(o(),p(A,null,M(5,a=>v("div",{key:`skeleton-${a}`,class:"neonate-skeleton"},[c(l(P),{animated:!0,style:{width:"60px",height:"60px","border-radius":"50%"}}),v("div",za,[c(l(P),{animated:!0,style:{width:"70%",height:"20px","margin-bottom":"8px"}}),c(l(P),{animated:!0,style:{width:"50%",height:"16px","margin-bottom":"4px"}}),c(l(P),{animated:!0,style:{width:"40%",height:"16px"}})]),c(l(P),{animated:!0,style:{width:"80px",height:"24px","border-radius":"12px"}})])),64))])):s.value.length?(o(),p("div",Ia,[(o(!0),p(A,null,M(s.value,a=>(o(),i(pa,{key:a.id,neonate:a,"get-status-color":_,onClick:k},null,8,["neonate"]))),128))])):(o(),p("div",$a,"No recent neonates to display."))]),c(fa,{"is-open":g.value,title:f.value,"is-empty":!x.value.length,"empty-message":"No neonates available for this statistic.",onClose:y,onDismiss:y},{default:r(()=>[(o(!0),p(A,null,M(x.value,a=>(o(),i(pa,{key:`${m.value}-${a.id}`,neonate:a,"get-status-color":_,onClick:k},null,8,["neonate"]))),128))]),_:1},8,["is-open","title","is-empty"])]))}}),[["__scopeId","data-v-8ed8dd68"]]);e("default",F(n({__name:"NeonatalHome",setup:a=>(a,e)=>(o(),i(l(E),null,{default:r(()=>[c(B),c(l(z),{fullscreen:!0},{default:r(()=>[c(ja)]),_:1})]),_:1}))}),[["__scopeId","data-v-052dae1c"]]))}}})}();
