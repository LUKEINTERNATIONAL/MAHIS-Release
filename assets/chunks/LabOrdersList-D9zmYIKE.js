var Je=Object.defineProperty;var Ee=(y,p,c)=>p in y?Je(y,p,{enumerable:!0,configurable:!0,writable:!0,value:c}):y[p]=c;var ee=(y,p,c)=>Ee(y,typeof p!="symbol"?p+"":p,c);import{d as pe,r as g,ap as Oe,b2 as ie,a as De,H as C,e as z,f as T,F as ne,l as o,u as f,I as ke,J as r,G as ge,E as Y,k as D,K as se,aW as _e,N as he,a3 as We,a4 as de,M as Ae,bo as je,R as Ce,aj as ze,a7 as qe,X as Ke,dn as Ue,dX as Ge,ak as Xe,$ as Ye,bj as Qe,O as $,Q as G,P as Pe,c as Se,w as X,m as E,cp as Ze,ep as et,n as ye,b7 as Re,cW as tt}from"./vendor-BuyqdZ53.js";import{b2 as He,O as q,u as Le,l as Q,aE as Te,S as M,o as we,af as V,bm as $e,G as ce,_ as me,J as ae,q as Me,aD as Ne,t as Fe,bH as Ve,s as ue,aR as Ie,aK as at,m as xe,bI as st,H as te,V as nt,a as ot,i as rt}from"../index-DAxTqYIj.js";import{B as lt}from"./BasicForm-Q9Fv0E32.js";import{u as it}from"./useUserActivities-CfWONS8f.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-BQpaTz5X.js";import"./DateInputField-DE11cajn.js";class dt extends He{constructor(c){super(c,32);ee(this,"patientID");ee(this,"testTypeID");ee(this,"resultDate");ee(this,"testID");this.patientID=c,this.testTypeID=-1,this.resultDate="",this.testID=-1}createLabResult(c){return He.postJson("lab/tests/".concat(this.testID,"/results"),{encounter_id:this.encounterID,date:this.resultDate,measures:c})}getTestID(){return this.testID}getTestTypeID(){return this.testTypeID}setTestTypeID(c){this.testTypeID=c}setResultDate(c){this.resultDate=c}setTestID(c){this.testID=c}getTestsWithoutResults(){return q.getOrders(this.patientID,{status:"drawn"})}getTestIndicators(){return q.getJson("lab/test_result_indicators",{test_type_id:this.testTypeID})}static getTestIndicatorsWithID(c){return q.getJson("lab/test_result_indicators",{test_type_id:c})}}const ct={style:{display:"flex","align-items":"center"}},ut={style:{"margin-left":"6px"}},pt={style:{"font-weight":"400","font-size":"19px"}},mt={style:{display:"flex","align-items":"center"}},ft={style:{"font-weight":"400","font-size":"20px"}},bt={style:{display:"flex","align-items":"center"}},vt=pe({__name:"EnterLabResultsModal",props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{default:()=>({})},popoverOpen:{type:Boolean,default:!1},event:{default:""},title:{default:""},test_data:{}},emits:["closePopoover","closeModal","saved"],setup(y,{emit:p}){var k,I;const c=y;let B=g([]);Oe();const K=Le(),{patient:U}=ie(K),h=g(null),N=g(((k=c.test_data)==null?void 0:k.tests[0])||{}),l=g(((I=N.value)==null?void 0:I.name)||""),F=()=>{Ce.dismiss()},R=async H=>{let _;M.getPouchDbStatus()||M.getLanConnectionStatus()?_=await we("test_result_indicators",{selector:{concept_id:H.concept_id}}):_=await dt.getTestIndicatorsWithID(H.concept_id),_.forEach(a=>{let O={componentType:"inputField",name:a.name,header:a.name,grid:{s:"3"}};if((a.name=="RBS"||a.name=="FBS")&&(O={...O,unit:"mg/dl"}),a.name=="MRDT"||a.name=="Tuberculosis program"||a.name=="Vdrl"||a.name=="Hepatitis B"||a.name=="Lam"||a.name=="CrAg"||a.name=="CD4 count"||a.name=="Leukocytes"||a.name=="Protein"||a.name=="Nitrite"||a.name=="Urine Ketones"||a.name=="HIV test"){let v=[];(a.name=="MRDT"||a.name=="Vdrl"||a.name=="Hepatitis B"||a.name=="CrAg"||a.name=="Lam")&&(v=[{id:"1",name:"Positive"},{id:"2",name:"Negative"},{id:"3",name:"Invalid"}]),a.name=="Tuberculosis program"&&(v=[{id:"1",name:"Scanty"},{id:"2",name:"Negative"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"}]),a.name=="CD4 count"&&(v=[{id:"1",name:"below reference line"},{id:"2",name:"above reference line"}]),(a.name=="Leukocytes"||a.name=="Protein"||a.name=="Nitrite"||a.name=="Ketones"||a.name=="Urine Ketones")&&(v=[{id:"2",name:"Negative"},{id:"1",name:"Trace"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"},{id:"6",name:"4+"}]),a.name=="HIV test"&&(v=[{id:"2",name:"Positive"},{id:"1",name:"Negative"},{id:"3",name:"Invalid"}]),O={componentType:"multiSelectInputField",header:a.name,name:a.name,trackBy:"id",icon:Q.search,options:v}}B.value.push(O)})},P=async()=>{var O,v,J;const H=(O=h.value)==null?void 0:O.getFormValues(),_=await Promise.all(Object.entries(H).map(async([W,x])=>({name:W,concept_id:await V.getConceptID(W,!0),value:(x==null?void 0:x.name)||x}))),a=await $e.buildResults(_);await $e.saveResults(U.value,a,(v=N.value)==null?void 0:v.id,(J=c.test_data)==null?void 0:J.offline_id),ce("Lab results saved successfully"),F()};return De(async()=>{await R(N.value)}),(H,_)=>{const a=C("ion-icon");return T(),z(ne,null,[o(f(ke),null,{default:r(()=>[o(f(ge),null,{default:r(()=>[o(f(Y),null,{default:r(()=>[D("div",ct,[o(a,{icon:f(Q).saveWhite,class:"sub-menu-icon",style:{"font-size":"1.6rem"}},null,8,["icon"]),D("b",ut,"Enter lab results for "+se(l.value),1)])]),_:1}),o(f(_e),{slot:"end"},{default:r(()=>[o(f(Y),null,{default:r(()=>[o(f(he),{onClick:_[0]||(_[0]=O=>F()),fill:"solid"},{default:r(()=>[D("span",pt,[D("div",mt,[o(a,{icon:f(We),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),_[1]||(_[1]=D("span",{style:{"margin-left":"6px"}},"Close",-1))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(f(de),{class:"ion-padding"},{default:r(()=>[o(Te,{formData:f(B),ref_key:"formRef",ref:h},null,8,["formData"])]),_:1}),o(f(Ae),null,{default:r(()=>[o(f(ge),null,{default:r(()=>[o(f(_e),{slot:"end"},{default:r(()=>[o(f(Y),null,{default:r(()=>[o(f(he),{onClick:P,color:"primary",fill:"solid"},{default:r(()=>[D("span",ft,[D("div",bt,[o(a,{icon:f(je),slot:"start",class:"sub-menu-icon"},null,8,["icon"]),_[2]||(_[2]=D("span",{style:{"margin-left":"6px"}},"Save",-1))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),yt=me(vt,[["__scopeId","data-v-9a2f68e9"]]),gt=pe({components:{IonButtons:_e,IonButton:he,IonModal:Qe,IonHeader:ke,IonContent:de,IonToolbar:ge,IonTitle:Y,IonItem:Ye,IonList:Xe,IonAvatar:Ge,IonImg:Ue,IonLabel:Ke,IonPage:qe,IonMenu:ze,BasicForm:lt,IonFooter:Ae,DynamicButton:ae},data(){return{popoverStatus:null}},props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{default:[]},popoverOpen:{type:Boolean,default:!1},event:{type:Event,default:""},title:{type:String,default:""}},methods:{dismiss(){Ce.dismiss()},nav(y,p){this.dismiss(),this.$router.push(y)}}}),_t={class:"modal_wrapper"},ht={class:"center text_12"};function St(y,p,c,B,K,U){const h=C("ion-title"),N=C("ion-button"),l=C("ion-buttons"),F=C("ion-toolbar"),R=C("ion-header"),P=C("ion-skeleton-text"),k=C("ion-col"),I=C("ion-row"),H=C("ion-content"),_=C("ion-modal");return T(),$(_,{"is-open":y.popoverOpen,"show-backdrop":!0,onDidDismiss:p[1]||(p[1]=a=>y.$emit("closePopover",!1)),"keyboard-close":y.keyboardClose},{default:r(()=>[o(R,null,{default:r(()=>[o(F,null,{default:r(()=>[o(h,null,{default:r(()=>[D("b",null,"Lab results for ("+se(y.content.name)+") test",1)]),_:1}),o(l,{slot:"end"},{default:r(()=>[o(N,{onClick:p[0]||(p[0]=a=>y.$emit("closeModal"))},{default:r(()=>[...p[2]||(p[2]=[G("Close",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),o(H,{class:"ion-padding"},{default:r(()=>[D("div",_t,[D("div",ht,[o(I,null,{default:r(()=>[(T(!0),z(ne,null,Pe(y.content.result,(a,O)=>(T(),$(k,{size:"4",key:O},{default:r(()=>[o(I,null,{default:r(()=>[o(k,{size:"8"},{default:r(()=>[a.indicator&&a.indicator.name?(T(),z(ne,{key:0},[G(se(a.indicator.name),1)],64)):(T(),$(P,{key:1,animated:"",style:{width:"80%"}}))]),_:2},1024),o(k,{class:"bold",size:"0.5"},{default:r(()=>[...p[3]||(p[3]=[G(":",-1)])]),_:1}),o(k,{class:"bold",size:"2"},{default:r(()=>[G(se(a.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])])]),_:1})]),_:1},8,["is-open","keyboard-close"])}const Tt=me(gt,[["render",St],["__scopeId","data-v-a0bebd3e"]]),wt=pe({__name:"AddLabTestModal",setup(y){const p=Le(),c=Me(),{patient:B}=ie(p),K=Oe(),U=Q,h=g(""),N=g(""),l=g(""),F=g(""),R=g(null),P=g(null),k=g([]),I=Se(()=>[{componentType:"multiSelectInputField",name:"test",header:"Test",options:F.value,grid:{s:"6"},icon:Q.search,validation:Ne.required,onChange:u=>{h.value=u.name,v()&&(l.value=[])}},{componentType:"multiSelectInputField",name:"specimen",header:"Specimen",grid:{s:"6"},icon:Q.search,validation:Ne.required,value:l.value.length==1?l.value[0]:"",options:l.value.length>1?l.value:[]}]),H=Se(()=>[{componentType:"checkboxField",type:"single",name:"HIV test",label:"HIV test",value:h.value=="HIV test"},{componentType:"checkboxField",type:"single",name:"Hepatitis B Test",label:"Hepatitis B Test",value:h.value=="Hepatitis B Test"},{componentType:"checkboxField",type:"single",name:"Syphilis",label:"Syphilis",value:h.value=="Syphilis"},{componentType:"checkboxField",type:"single",name:"Hepatitis C Test",label:"Hepatitis C Test",value:h.value=="Hepatitis C Test"}]);X(h,async u=>{if(u)try{l.value=await _(u)}catch(i){l.value=[]}else l.value=[]});const _=async u=>{let i;return M.getPouchDbStatus()||M.getLanConnectionStatus()?i=await we("specimens"):i=await q.getSpecimens("",1e3),await V.getConceptSet(u,"",{names:i.map(L=>L.name)})};X(B,async()=>{N.value=[...B.value.labOrders.saved,...B.value.labOrders.unsaved]},{deep:!0});const a=()=>{Ce.dismiss()},O=()=>{h.value=""},v=()=>h.value=="HIV test"||h.value=="Syphilis"||h.value=="Hepatitis B Test"||h.value=="Hepatitis C Test",J=async()=>M.getPouchDbStatus()||M.getLanConnectionStatus()?await we("test_types"):await q.getTestTypes(),W=async()=>{if(!await re("referral",9)){Fe("No HIV Test selected");return}ce("HIV Test sent to HTS successfully"),await oe()},x=async()=>{if(await re("",4))try{await Ve.addPatientToStage(B.value,"LAB"),ce("The patient successfully sent to the lab. You may now attend to other patients."),await oe()}catch(u){console.error("Error sending to lab:",u),ue("Failed to send patient to lab")}a()},oe=async()=>{a();const u=String(localStorage.getItem("locationID"));if(!u){ue("Location not found");return}await c.refresh(u),await K.push("/home")},re=async(u="",i)=>{try{const d=P.value.getFormValues();if(!d||Object.keys(d).length===0||!Object.values(d).some(A=>A))return!1;const w=Object.keys(d).map(async A=>{d[A]&&k.value.push({order_type_id:i,concept_id:await V.getConceptID(A,!0),name:A,specimen:"Blood",reason:"Routine",specimenConcept:await V.getConceptID("Blood",!0),referral:u})});return await Promise.all(w),k.value.length>0&&await le(k.value),d}catch(d){return console.error("Error saving HIV tests:",d),!1}},fe=async()=>{if(R.value.validateForm()){Fe("Test not saved");return}if(!R.value){console.error("Form reference is not available");return}const u=R.value.getFormValues(),i=u.test.name,d=u.specimen.name,L=[{concept_id:u.test.concept_id,name:i,specimen:d,reason:"Routine",specimenConcept:await V.getConceptID(d,!0)}];await le(L),a()},le=async u=>{var L,w,A,e,n,s;const i=await q.buildLabOrders("",u),d=JSON.parse(JSON.stringify(B.value));(A=(w=(L=d.labOrders)!=null?L:d.labOrders={}).unsaved)!=null||(w.unsaved=[]),(s=(n=(e=d.labOrders)!=null?e:d.labOrders={}).saved)!=null||(n.saved=[]),d.labOrders.unsaved.push(...i),await Ie(d),N.value=[...d.labOrders.saved,...d.labOrders.unsaved]};return De(async()=>{F.value=await J()}),(u,i)=>{const d=C("ion-icon"),L=C("ion-footer");return T(),z(ne,null,[o(f(ke),{style:{display:"flex","justify-content":"space-between"}},{default:r(()=>[v()?E("",!0):(T(),$(f(Y),{key:0,class:"modalTitle"},{default:r(()=>[...i[5]||(i[5]=[G("Add Lab Test",-1)])]),_:1})),v()?(T(),$(f(Y),{key:1,class:"modalTitle"},{default:r(()=>[...i[6]||(i[6]=[G("Add HIV Test",-1)])]),_:1})):E("",!0),o(d,{onClick:i[0]||(i[0]=w=>a()),style:{"padding-top":"10px","padding-right":"10px"},icon:f(U).cancel},null,8,["icon"])]),_:1}),v()?E("",!0):(T(),$(f(de),{key:0,class:"ion-padding",style:{"--background":"#fff"}},{default:r(()=>[o(Te,{formData:I.value,ref_key:"formRef",ref:R},null,8,["formData"])]),_:1})),v()?(T(),$(f(de),{key:1,class:"ion-padding",style:{"--background":"#fff"}},{default:r(()=>[o(Te,{formData:H.value,ref_key:"formRefHiv",ref:P},null,8,["formData"])]),_:1})):E("",!0),o(L,{collapse:"fade",class:"ion-no-border"},{default:r(()=>[v()?E("",!0):(T(),$(ae,{key:0,onClick:i[1]||(i[1]=w=>fe()),name:"Save",fill:"solid",style:{float:"right",margin:"2%"}})),v()?(T(),$(ae,{key:1,onClick:i[2]||(i[2]=w=>W()),name:"Send to HTS",fill:"solid",style:{float:"right",margin:"2%"}})):E("",!0),v()?(T(),$(ae,{key:2,onClick:i[3]||(i[3]=w=>x()),name:"Send to Lab",fill:"solid",style:{float:"right",margin:"2%"}})):E("",!0),v()?(T(),$(ae,{key:3,onClick:i[4]||(i[4]=w=>O()),color:"danger",name:"Back",fill:"solid",style:{margin:"2%"}})):E("",!0)]),_:1})],64)}}}),It=me(wt,[["__scopeId","data-v-ad29d329"]]),Ot={class:"container"},Dt={class:"table-responsive"},kt=pe({__name:"LabOrdersList",props:{propOrders:{default:()=>[]}},setup(y){const p=y,c=Oe(),B=Ze(),K=Le(),U=at(),h=Me(),{hasWaitingList:N}=it(),{patient:l}=ie(K),{investigations:F}=ie(U),R=g(),P=g([]),k=g(["Lab Test","Specimen","Accession Number","Location","Order Date","Result","Action"]),I=g([]),H=g([]),_=g(""),a=g(!1),O=g(""),v=et(()=>{var e;return(e=l.value)==null?void 0:e.labOrders}),J=Q,W=g({responsive:!0,select:!1,layout:{topStart:"buttons",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},ordering:!1,buttons:[{text:" <b>+ Add other tests </b>",className:"add-test text-white",action:async()=>{await re()}},{text:" <b>Send to Lab </b>",className:"send-lab text-white",attr:{id:"send-to-lab-btn"},action:async()=>{await fe()}}]}),x=()=>{var t;const n=((t=ot().activeProgram)==null?void 0:t.program_id)===14&&!N("Waiting for Laboratory"),s=document.getElementById("send-to-lab-btn");s&&(n&&u.value?s.style.display="inline":s.style.display="none")},oe=async e=>{const n=[{concept_id:await V.getConceptID(e.name,!0),name:e.name,specimen:e.specimen,reason:"Routine",specimenConcept:await V.getConceptID(e.specimen,!0)}];let t=(await q.buildLabOrders("",n))[0];if(t.order_date=t.date||te.sessionDate(),t.specimen.name||(t.specimen.name=await V.getConceptName(t.specimen.concept_id)),t.tests&&t.tests.length>0)for(let m=0;m<t.tests.length;m++)t.tests[m].name||(t.tests[m].name=await V.getConceptName(t.tests[m].concept_id));l.value.labOrders.unsaved.push(t),await Ie(l.value),await w()},re=async()=>{await xe(It,{class:"lab-results-modal"},!0,{title:"name"}),await w()},fe=async()=>{await rt("Do you want to send this patient to the lab?",{cancelBtnLabel:"Cancel",confirmBtnLabel:"Send to Lab",returnName:!0})=="Confirm"&&await le()},le=async()=>{try{const e=String(localStorage.getItem("locationID"));if(!e){ue("Location not found");return}await Ve.addPatientToStage(l.value,"LAB"),await h.refresh(e),await c.push("home"),ce("The patient successfully sent to the lab. You may now attend to other patients.")}catch(e){console.error("Error sending to lab:",e),ue("Failed to send patient to lab")}},u=Se(()=>{const e=v.value;if(!e)return!1;const n=e.saved||[],s=e.unsaved||[],t=[...n,...s];return t.length===0?!1:t.some(m=>!(m!=null&&m.tests)||!Array.isArray(m.tests)?!1:m.tests.some(S=>!(S!=null&&S.result)||S.result.length===0))}),i=async()=>{var n,s,t,m,S;if(!((n=l.value)!=null&&n.labOrders)||(I.value=[...(t=(s=l.value)==null?void 0:s.labOrders)==null?void 0:t.saved,...(S=(m=l.value)==null?void 0:m.labOrders)==null?void 0:S.unsaved],!I.value))return;const e=await I.value.filter(b=>te.toStandardHisFormat(te.sessionDate())===te.toStandardHisFormat(b.order_date));e.length>0?F.value[0].selectedData=e:F.value[0].selectedData=""},d=async(e,n)=>{var t,m,S;if(await nt("Do you want to delete ".concat(e.tests[0].name," ?"),n)){const b=JSON.parse(JSON.stringify(l.value));b.labOrders.saved.some(j=>{var Z,Be;return j.order_date===e.order_date&&((Z=j==null?void 0:j.tests[0])==null?void 0:Z.name)==((Be=e==null?void 0:e.tests[0])==null?void 0:Be.name)})?(b.labOrders.saved=L(b.labOrders.saved,e.tests[0].name,e.order_date),(S=(m=(t=b.labOrders)!=null?t:b.labOrders={}).voided)!=null||(m.voided=[]),b.labOrders.voided.push({orderId:e.id,reason:"Mistake entry"})):b.labOrders.unsaved=L(b.labOrders.unsaved,e.tests[0].name,e.date),await Ie(b)}await w()},L=(e,n,s)=>e.filter(t=>(t.order_date===s&&(t.tests=t.tests.filter(m=>m.name!==n)),t.tests.length>0)),w=async()=>{if(!l.value.labOrders)return;I.value=[...l.value.labOrders.saved,...l.value.labOrders.unsaved];const e=A(I.value),n=M.getProgramID()==32?[["FBS","Blood","","","","",'<button class="btn btn-outline-success btn-sm order-btn" data-id=\''.concat(JSON.stringify({name:"FBS",specimen:"Blood"}),"'>Order Test</button> ")],["HbA1c","Blood","","","","",'<button class="btn btn-outline-success btn-sm order-btn" data-id=\''.concat(JSON.stringify({name:"HbA1c",specimen:"Blood"}),"'>Order Test</button> ")],["RBS","Blood","","","","",'<button class="btn btn-outline-success btn-sm order-btn" data-id=\''.concat(JSON.stringify({name:"RBS",specimen:"Blood"}),"'>Order Test</button> ")]]:[],s=n.filter(S=>!e.some(b=>b[0]===S[0])),t=e.filter(S=>n.some(b=>b[0]===S[0])),m=e.filter(S=>!t.some(b=>b[0]===S[0]));P.value=[...t,...s,...m],x(),await i(),Re.use(tt)},A=(e,n)=>e.length>0?e.flatMap(s=>s.tests.flatMap(t=>{var ve,j,Z;const m='<button class="btn btn-outline-success btn-sm result-btn" data-id=\''.concat(JSON.stringify(s),"'>Enter Result</button> "),S='<button class="btn btn-outline-secondary btn-sm view-btn" data-id=\''.concat(JSON.stringify(t),"'>").concat(J.view2,"</button> ");let b=m;((ve=t==null?void 0:t.result)==null?void 0:ve.length)==1?b=(t==null?void 0:t.result)!=null?((j=t==null?void 0:t.result[0])==null?void 0:j.value)||"":null:((Z=t==null?void 0:t.result)==null?void 0:Z.length)>1&&(t==null||t.result,b=S);let be="";return s!=null&&s.accession_number&&(be='<button class="btn btn-outline-secondary btn-sm" data-id=\''.concat(JSON.stringify(s),"'>").concat(J.print2,"</button>")),[[t==null?void 0:t.name,s==null?void 0:s.specimen.name,(s==null?void 0:s.accession_number)||"",(s==null?void 0:s.order_type_id)==9?"<span class='red-tag'>HTS</span>":"",te.toStandardHisFormat(s==null?void 0:s.order_date),b,be+'\n                        <button class="btn btn-outline-danger btn-sm delete-btn" data-id=\''.concat(JSON.stringify(s),"'>").concat(J.delete2,"</button>\n                        ")]]})):[];return De(async()=>{M.getProgramID()==14&&W.value.buttons.push(),await i(),await w(),ye(()=>{const e=R.value.dt;e.columns.adjust().draw(),e.on("click",".result-btn",async n=>{const s=n.target.getAttribute("data-id");await xe(yt,{class:"lab-results-modal"},!0,{test_data:JSON.parse(s)})}),e.on("click",".view-btn",n=>{const s=n.target.getAttribute("data-id");_.value=JSON.parse(s),a.value=!0}),e.on("click",".delete-btn",n=>{const s=n.target.getAttribute("data-id");d(JSON.parse(s),n)}),e.on("click",".order-btn",n=>{const s=n.target.getAttribute("data-id");oe(JSON.parse(s))})}),I.value=p.propOrders,O.value=new st(l.value.patientID),H.value=await M.getUserRoles()}),X(()=>B,async()=>{await w()},{deep:!0}),X(()=>l.value,async()=>{await w()},{deep:!0}),X(()=>{var e,n,s,t;return[(n=(e=l.value)==null?void 0:e.labOrders)==null?void 0:n.saved,(t=(s=l.value)==null?void 0:s.labOrders)==null?void 0:t.unsaved]},()=>{ye(()=>{x()})},{deep:!0,immediate:!0}),X(u,e=>{console.log("hasTestsWithoutResults changed:",e),ye(()=>{x()})},{immediate:!0}),(e,n)=>(T(),z("div",Ot,[D("div",Dt,[o(f(Re),{ref_key:"dataTable",ref:R,options:W.value,data:P.value,class:"display nowrap modern-table",width:"100%"},{default:r(()=>[D("thead",null,[D("tr",null,[(T(!0),z(ne,null,Pe(k.value,s=>(T(),z("th",{key:s},se(s),1))),128))])])]),_:1},8,["options","data"])]),o(Tt,{popoverOpen:a.value,content:_.value,onCloseModal:n[0]||(n[0]=s=>a.value=!1)},null,8,["popoverOpen","content"])]))}}),xt=me(kt,[["__scopeId","data-v-33481fce"]]);export{xt as default};
