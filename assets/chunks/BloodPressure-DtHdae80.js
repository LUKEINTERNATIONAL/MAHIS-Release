import{d as g,ai as y,G as v,E as D,aj as w,ak as I,$ as B,I as k,a4 as C,R as S,bg as x,aU as H,H as n,e as A,f as r,l,k as c,J as d,O as p}from"./vendor-g-7mo7AQ.js";import{m as M}from"./apexcharts-BvabVeHX.js";import{b4 as O,H as m,ag as T,af as u,b6 as F,b5 as G,u as L,_ as $}from"../index-B4PcD-tN.js";import"./lodash-NJiRuGo9.js";const E=g({name:"Menu",components:{IonContent:C,IonHeader:k,IonItem:B,IonList:I,IonMenu:w,IonTitle:D,IonToolbar:v,ApexChart:M,List:O},computed:{...y(L,["patient"])},data(){return{valueNumericArray:[],obsDatetime:[],graphIcon:G(["#006401"]),listIcon:F(["#636363"]),displayGraph:!0,systolic:[],diastolic:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],options:{chart:{id:"vuechart-example",type:"line"},stroke:{curve:"straight",width:3},dataLabels:{enabled:!0,enabledOnSeries:void 0,textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"10px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",colors:void 0},background:{enabled:!0,foreColor:"#fff",padding:5,borderRadius:8,borderWidth:1,borderColor:"#fff",opacity:.9,dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},colors:["#FF1654","#247BA0"],yaxis:{min:0,forceNiceScale:!0}},series:[{name:"",data:[]},{name:"",data:[]}]}},watch:{patient:{async handler(){await this.updateData()},deep:!0}},setup(){return{checkmark:H,pulseOutline:x}},async mounted(){await this.updateData(),this.iconBg.graph="iconBg"},methods:{dismiss(){S.dismiss()},handleIcon(){},async updateData(){const t=(await T.getObsByEncounterId(6)).flatMap(e=>e.obs||[]),i=await u.getConceptID("Systolic blood pressure"),s=await u.getConceptID("Diastolic blood pressure");this.systolic=t.filter(e=>e.concept_id===i).map(e=>({value_numeric:e.value_numeric,obs_datetime:e.obs_datetime})).sort((e,o)=>new Date(e.obs_datetime).getTime()-new Date(o.obs_datetime).getTime()),this.diastolic=t.filter(e=>e.concept_id===s).map(e=>({value_numeric:e.value_numeric,obs_datetime:e.obs_datetime})).sort((e,o)=>new Date(e.obs_datetime).getTime()-new Date(o.obs_datetime).getTime()),this.setData()},setData(){var a,t,i;this.series[0].data=((a=this.diastolic)==null?void 0:a.map(s=>s.value_numeric))||[],this.series[0].name="Diastolic",this.series[1].data=((t=this.systolic)==null?void 0:t.map(s=>s.value_numeric))||[],this.series[1].name="Systolic",this.obsDatetime=((i=this.diastolic)==null?void 0:i.map(s=>m.toStandardHisFormat(s.obs_datetime)))||[],this.options={...this.options,xaxis:{categories:this.obsDatetime}}},setListData(a){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 25px;",display:["Date","Measure"]}),a.forEach(t=>{this.list.push({actionBtn:!1,minHeight:"--min-height: 25px;",class:"col_background",display:[m.toStandardHisFormat(t.obs_datetime),t.value_numeric]})})}}}),N={class:"modal_wrapper"};function W(a,t,i,s,e,o){const h=n("ion-col"),_=n("ion-row"),f=n("ApexChart"),b=n("list");return r(),A("div",N,[l(_,null,{default:d(()=>[l(h,{size:"4.5"},{default:d(()=>[...t[0]||(t[0]=[c("div",null,"Blood Pressure Graph",-1)])]),_:1})]),_:1}),c("div",null,[a.displayGraph?(r(),p(f,{key:0,width:"100%",height:"390px",type:"area",options:a.options,series:a.series},null,8,["options","series"])):(r(),p(b,{key:1,listData:a.list},null,8,["listData"]))])])}const j=$(E,[["render",W],["__scopeId","data-v-0d5260d9"]]);export{j as default};
