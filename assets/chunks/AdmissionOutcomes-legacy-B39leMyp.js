System.register(["./vendor-legacy-DjGXx6Xl.js","../index-legacy-ByYLEw00.js","./NeonatalStepper-legacy-Bz2FM82s.js","./useNeonatalEnrollmentStore-legacy-DdzM4oOf.js","./useSignsSymptomsStore-legacy-7RadqpQN.js","./useNeonatalVitalsStore-legacy-BVJa5qZy.js","./neonatal_service-legacy-vNSKsnne.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-CnQpVQ3m.js","./SaveProgressModal-legacy-RfNCsJX6.js","./images-legacy-gTS9vAYU.js","./enrollment-legacy-BWFKsMdA.js"],function(e,a){"use strict";var t,n,i,l,s,o,r,u,d,c,p,v,m,f,g,h,w,y,b,x,S,O,D,_,F,I,A,P,R,k,N,C,T,j,V,M,z,L,H,G,B,W,U,$,E,q,J,Q,Y,K;return{setters:[e=>{t=e.d,n=e.r,i=e.eT,l=e.w,s=e.e,o=e.f,r=e.l,u=e.u,d=e.aV,c=e.c,p=e.a,v=e.b,m=e.i,f=e.v,g=e.p,h=e.k,w=e.m,y=e.K,b=e.cv,x=e.be,S=e.cw,O=e.J,D=e.N,_=e.Q,F=e.L,I=e.aH,A=e.D,P=e.a3,R=e.a6,k=e.ao,N=e.eU,C=e.H,T=e.O},e=>{j=e.aD,V=e._,M=e.a1,z=e.H,L=e.u,H=e.T,G=e.t,B=e.G,W=e.s},e=>{U=e.m,$=e.o,E=e.p,q=e.N},e=>{J=e.u},e=>{Q=e.u},e=>{Y=e.u},e=>{K=e.N},null,null,null,null,null],execute:function(){var Z=document.createElement("style");Z.textContent=".admission-outcome-wrapper[data-v-8fed0253]{display:flex;flex-direction:column;margin:0}.safeguard-concerns-wrapper[data-v-2dda68fa],.admission-signoff-wrapper[data-v-0d826c68]{display:flex;flex-direction:column;gap:1rem}.printable-admission-form[data-v-4732c624]{width:100%;padding:16px 18px 24px;background:#fff;color:#000;font-family:Arial,sans-serif;font-size:10pt;border:1px dotted #ececec;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.page-header[data-v-4732c624]{display:flex;justify-content:space-between;align-items:flex-start;gap:12px}.logo-container[data-v-4732c624]{flex-shrink:0;display:flex;align-items:center;gap:8px}.header-logo[data-v-4732c624]{width:60px;height:60px;object-fit:contain}.app-logo[data-v-4732c624]{width:50px;height:50px}.facility-name[data-v-4732c624]{font-weight:700;font-size:11pt}.facility-details[data-v-4732c624]{font-size:9pt;color:#555;margin:2px 0}.form-title[data-v-4732c624]{font-weight:700;margin:4px 0 2px}.patient-meta[data-v-4732c624]{display:flex;flex-wrap:wrap;gap:12px;font-size:9pt}.barcode-container[data-v-4732c624]{text-align:center}.qr-img[data-v-4732c624]{width:90px;height:90px;object-fit:contain}.npid-text[data-v-4732c624]{font-size:8.5pt;font-weight:700;margin-top:4px}.print-page[data-v-4732c624]{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}.print-column[data-v-4732c624]{display:flex;flex-direction:column;gap:10px}.print-section[data-v-4732c624]{border:1px solid #d9d9d9;padding:8px 10px;break-inside:avoid}.section-title[data-v-4732c624]{font-size:11pt;font-weight:700;margin:0 0 6px;border-bottom:1px solid #bfbfbf;padding-bottom:4px}.field-row[data-v-4732c624]{display:flex;justify-content:space-between;gap:6px;font-size:9pt;padding:3px 0;border-bottom:1px dotted #d0d0d0}.field-row[data-v-4732c624]:last-child{border-bottom:none}.field-row span[data-v-4732c624]:first-child{color:#333}.field-row span[data-v-4732c624]:last-child{font-weight:600;text-align:right}.field-row.single-line[data-v-4732c624]{align-items:flex-start}.highlight[data-v-4732c624]{color:#015d1c;font-weight:700}.print-footer[data-v-4732c624]{display:flex;justify-content:space-between;margin-top:14px;padding-top:8px;border-top:1px solid #bfbfbf;font-size:8.5pt}@media print{body *{display:none!important;visibility:hidden!important}body .printable-admission-form.print-mode{display:block!important;visibility:visible!important;position:absolute;left:0;top:0;width:100%;padding:16px 18px 24px;box-shadow:none}.printable-admission-form.preview-mode[data-v-4732c624]{display:none!important}.printable-admission-form.print-mode[data-v-4732c624]{display:block!important;page-break-after:always;font-size:10pt}.barcode-container svg[data-v-4732c624]{max-width:140px}}.print-summary-wrapper[data-v-69ee3821]{display:flex;flex-direction:column;gap:1rem}.print-content[data-v-69ee3821]{display:flex;flex-direction:column;align-items:center;gap:2rem;padding:2rem}.print-icon-container[data-v-69ee3821]{display:flex;justify-content:center;align-items:center;width:120px;height:120px;background-color:#f5f5f5;border-radius:50%;border:3px solid #016302}.print-icon[data-v-69ee3821]{font-size:64px;color:#016302}.print-actions[data-v-69ee3821]{width:100%;max-width:400px}.print-button[data-v-69ee3821]{--background: #016302;--background-hover: #014d02;--background-activated: #013d02;height:48px;font-size:16px;font-weight:600;text-transform:uppercase}.preview-section[data-v-69ee3821]{width:100%;max-width:900px}.preview-title[data-v-69ee3821]{font-size:18px;font-weight:600;color:#00190e;margin-bottom:1rem;text-align:center}.preview-container[data-v-69ee3821]{width:100%;max-height:600px;overflow-y:auto;background:#f9f9f9}.preview-container[data-v-69ee3821]::-webkit-scrollbar{width:8px}.preview-container[data-v-69ee3821]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.preview-container[data-v-69ee3821]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}.preview-container[data-v-69ee3821]::-webkit-scrollbar-thumb:hover{background:#555}@media print{.print-summary-wrapper[data-v-69ee3821]{display:none!important}}.neonatal-admission-outcomes-page[data-v-780323dd]{min-height:100vh}\n/*$vite$:1*/",document.head.appendChild(Z);const X={class:"admission-outcome-wrapper"},ee=V(t({__name:"AdmissionOutcomeSection",setup(e,{expose:a}){const t=n(null),d=U[0],c=d.formData,p=d.subtitle,v=i($),m=e=>{v&&(v.admissionOutcome=e.admissionOutcome||"")};return l(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&m(e)},{deep:!0}),l(()=>t.value,e=>{null!=e&&e.getFormValues&&m(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>t.value,validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(o(),s("div",X,[r(j,{formData:u(c),subtitle:u(p),ref_key:"formRef",ref:t,class:"main-form"},null,8,["formData","subtitle"])]))}}),[["__scopeId","data-v-8fed0253"]]),ae={class:"safeguard-concerns-wrapper"},te=V(t({__name:"SafeguardConcernsSection",setup(e,{expose:a}){const t=n(null),i=U[1],l=i.formData,d=i.subtitle;return a({getFormRef:()=>t.value,validateForm:()=>null,getFormValues:()=>({})}),(e,a)=>(o(),s("div",ae,[r(j,{formData:u(l),subtitle:u(d),ref_key:"formRef",ref:t,class:"main-form"},null,8,["formData","subtitle"])]))}}),[["__scopeId","data-v-2dda68fa"]]),ne={class:"admission-signoff-wrapper"},ie=V(t({__name:"AdmissionSignOffSection",setup(e,{expose:a}){const t=n(null),d=U[2],c=d.formData,p=d.subtitle,v=i($);!function(e){const a=M(),t=()=>{if(!e.value||!a.user)return null;const t={healthcareWorkerId:a.user.username||"",electronicSignature:n(),userRole:i(),signOffDate:z.currentDate()};return Object.entries(t).forEach(([a,t])=>{e.value.setFormValue&&e.value.setFormValue(a,t)}),t},n=()=>{if(!a.user)return"";const e=[a.user.given_name,a.user.family_name].filter(Boolean);return e.length>0?e.join(" "):a.user.username||""},i=()=>{var e;return(null===(e=a.user)||void 0===e?void 0:e.user_type)||"Clinician"};l(()=>e.value,e=>{e&&e.setFormValue&&setTimeout(()=>{t()},100)},{immediate:!0}),l(()=>a.user,a=>{a&&e.value&&t()},{deep:!0})}(t);const m=e=>{v&&(v.healthcareWorkerId=e.healthcareWorkerId||"",v.electronicSignature=e.electronicSignature||"",v.userRole=e.userRole||"",v.signOffDate=e.signOffDate||"")};return l(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&m(e)},{deep:!0}),l(()=>t.value,e=>{null!=e&&e.getFormValues&&m(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>t.value,validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(o(),s("div",ne,[r(j,{formData:u(c),subtitle:u(p),ref_key:"formRef",ref:t,class:"main-form"},null,8,["formData","subtitle"])]))}}),[["__scopeId","data-v-0d826c68"]]),le={class:"page-header"},se={class:"logo-container"},oe=["src"],re=["src"],ue={class:"header-meta"},de={class:"facility-name"},ce={class:"facility-details"},pe={class:"patient-meta"},ve={key:0,class:"barcode-container"},me=["src"],fe={class:"npid-text"},ge={class:"print-page"},he={class:"print-column"},we={class:"print-section"},ye={class:"field-row"},be={class:"field-row"},xe={class:"field-row"},Se={class:"field-row"},Oe={class:"field-row"},De={class:"field-row"},_e={class:"field-row"},Fe={class:"field-row"},Ie={class:"field-row"},Ae={class:"field-row"},Pe={class:"field-row"},Re={class:"print-section"},ke={class:"field-row"},Ne={class:"field-row"},Ce={class:"field-row"},Te={class:"field-row"},je={class:"field-row"},Ve={class:"field-row"},Me={class:"field-row"},ze={class:"field-row"},Le={class:"field-row"},He={class:"print-section"},Ge={class:"field-row"},Be={class:"field-row"},We={class:"field-row"},Ue={class:"field-row"},$e={class:"field-row"},Ee={class:"field-row"},qe={class:"field-row"},Je={class:"print-section"},Qe={class:"field-row"},Ye={class:"highlight"},Ke={class:"field-row"},Ze={class:"print-column"},Xe={class:"print-section"},ea={class:"field-row"},aa={class:"field-row"},ta={class:"field-row"},na={class:"field-row"},ia={class:"field-row"},la={class:"field-row"},sa={class:"field-row"},oa={class:"print-section"},ra={class:"field-row single-line"},ua={class:"field-row single-line"},da={class:"field-row single-line"},ca={class:"field-row single-line"},pa={key:0,class:"print-section"},va={class:"field-row"},ma={class:"field-row"},fa={class:"field-row"},ga={class:"field-row"},ha={class:"field-row"},wa={class:"field-row"},ya={class:"field-row"},ba={class:"print-section"},xa={class:"field-row"},Sa={class:"field-row"},Oa={class:"field-row"},Da={class:"field-row"},_a={class:"print-footer"},Fa=t({__name:"PrintableAdmissionForm",props:{forceShow:{type:Boolean,default:!1}},setup(e,{expose:t}){const r=L(),{patient:O}=d(r),D=J(),_=Q(),F=Y(),I=M(),A=i($,{}),P=n(!1),R=n(""),k=new URL(""+new URL("../neotree.4QnvY_lU.png",a.meta.url).href,a.meta.url).href,N="./mw.png",C=new Map,T=k,j=N,V=async e=>e?C.has(e)?C.get(e):await new Promise(a=>{const t=new Image;t.crossOrigin="anonymous",t.onload=()=>{try{const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const i=n.getContext("2d");if(!i)return void a(null);i.drawImage(t,0,0);const l=n.toDataURL("image/png");C.set(e,l),a(l)}catch(n){console.warn("Image toDataURL failed",n),a(null)}},t.onerror=()=>a(null),t.src=e}):null,z=c(()=>{var e;const a=null===(e=O.value)||void 0===e?void 0:e.personInformation;return a&&`${a.given_name||""} ${a.family_name||""}`.trim()||"N/A"}),H=c(()=>{var e,a;return(null===(e=O.value)||void 0===e?void 0:e.nationalId)||(null===(a=O.value)||void 0===a?void 0:a.patientID)||"N/A"}),G=c(()=>{var e;return(null===(e=O.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.gender)||"N/A"}),B=c(()=>{var e;return(null===(e=O.value)||void 0===e||null===(e=e.personInformation)||void 0===e?void 0:e.birthdate)||"N/A"}),W=c(()=>{var e;return(null===(e=O.value)||void 0===e?void 0:e.patientID)&&D.enrollmentForm||{}}),U=c(()=>{var e;return(null===(e=O.value)||void 0===e?void 0:e.patientID)&&_.formData||null}),E=c(()=>{var e;return(null===(e=O.value)||void 0===e?void 0:e.patientID)&&F.formData||null}),q=c(()=>{var e;return ne(null===(e=W.value)||void 0===e?void 0:e.resuscitationMethods)}),K=c(()=>I.userFacilityName||localStorage.getItem("facilityName")||"Healthcare Facility"),Z=c(()=>{var e;return(null===(e=I.facilityLocation)||void 0===e?void 0:e.code)||localStorage.getItem("facility_code")||"-"}),X=c(()=>{var e;return(null===(e=I.facilityLocation)||void 0===e?void 0:e.district)||localStorage.getItem("locationDistrict")||"-"}),ee=c(()=>{const e=[K.value];return X.value&&"-"!==X.value&&e.push(X.value),Z.value&&"-"!==Z.value&&e.push(`Code: ${Z.value}`),e.join(" · ")}),ae=c(()=>A.signOffDate?new Date(A.signOffDate).toLocaleString():(new Date).toLocaleString()),te=e=>null==e||""===e?"-":Array.isArray(e)?e.length?e.join(", "):"-":String(e),ne=e=>e&&e.length?e.join(", "):"-",ie=async()=>{const e=te(H.value);if(e&&"-"!==e)try{R.value=await x.toDataURL(e,{width:140,margin:1})}catch(a){console.error("Error generating QR:",a),R.value=""}else R.value=""},Fa=()=>{P.value=!0,setTimeout(ie,50)},Ia=()=>{P.value=!1};return p(()=>{window.addEventListener("beforeprint",Fa),window.addEventListener("afterprint",Ia)}),v(()=>{window.removeEventListener("beforeprint",Fa),window.removeEventListener("afterprint",Ia)}),l([H,P],()=>{P.value&&setTimeout(ie,50)}),t({showPreview:()=>{P.value=!0,setTimeout(ie,50)},hidePreview:()=>{P.value=!1},exportPdf:async()=>{var e,a,t,n,i,l,s,o,r,u,d;const[c,p]=await Promise.all([V(k),V(N)]),v=new b({orientation:"portrait",unit:"pt",format:"a4"}),m=v.internal.pageSize.getWidth(),f=v.internal.pageSize.getHeight(),g=28,h=(m-56-14)/2,w=g+h+14;let y,O,D=36,_=g;if(c&&(v.addImage(c,"PNG",g,g,52,52),_=90),p){const e=_;v.addImage(p,"PNG",e,g,52,52),_=e+52+10}v.setFontSize(14),v.setFont("helvetica","bold"),v.text(String(K.value||"Facility"),_,D),D+=18,v.text("Neotree Malawi · Tertiary Admission Form",_,D),v.setFontSize(11),v.setFont("helvetica","normal"),D+=16,[`Patient: ${te(z.value)}`,`NPID: ${te(H.value)}`,`DOB: ${te(B.value)}`].forEach(e=>{v.text(e,_,D),D+=14});const F=te(H.value);let I=g;if(F&&"-"!==F)try{const e=await x.toDataURL(F,{width:100,margin:1}),a=m-g-100,t=g;v.addImage(e,"PNG",a,t,100,100),I=t+100}catch(M){console.warn("QR generation failed",M)}const P=Math.max(D,I+6)+12;y=P,O=P;const R=(e,a,t)=>{const n="left"===t?28:w,i="left"===t?y:O;S(v,{startY:i,margin:{left:n,right:m-n-h},tableWidth:h,head:[[e,""]],body:a.map(([e,a])=>[e,te(a)]),theme:"grid",styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[232,232,232],textColor:20,fontStyle:"bold"},columnStyles:{0:{cellWidth:.48*h},1:{cellWidth:.52*h,halign:"right"}}});const l=v.lastAutoTable.finalY||i;"left"===t?y=l+10:O=l+10};R("Birth Details",[["Twin",W.value.hasTwin],["Place of birth",W.value.placeOfBirth],["Birth facility",W.value.nameOfBirthFacility],["Type of birth",W.value.typeOfBirth],["Birth weight (g)",W.value.birthWeight],["Gestation (weeks)",W.value.gestationWeeks],["APGAR (1 min)",W.value.apgarScoreAt1],["APGAR (5 min)",W.value.apgarScoreAt5],["APGAR (10 min)",W.value.apgarScoreAt10],["Cried after birth",W.value.criedAfterBirth],["Resuscitation",q.value]],"left"),R("Pregnancy & Delivery",[["Mode of delivery",W.value.modeOfDelivery],["Rupture of membranes",W.value.ruptureOfMembranes],["Duration of ROM",W.value.durationOfRuptureMembranes],["Offensive liquor",W.value.offensiveLiquor],["Meconium present",W.value.meconiumPresent],["Maternal analgesia",W.value.maternalAnalgesia],["Anaesthesia used",W.value.anesthesiaUsed],["Steroids given",W.value.steroidsGiven],["Gestation assessment",W.value.gestationMethodAssessment]],"left"),R("Maternal Information",[["Mother name",W.value.motherName],["Mother NPID",W.value.motherNationalId],["HIV status",W.value.motherHivStatus],["Last HIV test",W.value.lastHivTestDate],["VDRL result",W.value.motherVdrlResult],["Hepatitis result",W.value.motherHepatitisResult],["Tetanus/Diphtheria",ne(W.value.tetanusDiphtheria)]],"left"),R("Admission Outcome",[["Outcome",A.admissionOutcome],["Safeguard concerns",A.safeguardConcerns]],"left"),R("Patient Information",[["Name",z.value],["NPID",H.value],["Gender",G.value],["Date of birth",B.value||B],["Admitted from",W.value.admittedFrom],["Referred from",W.value.referredFrom],["Transport mode",W.value.modeOfTransport]],"right"),R("Presenting Complaints",[["Complaints",ne(null===(e=U.value)||void 0===e?void 0:e.presenting_complaints)],["Onset",null===(a=U.value)||void 0===a?void 0:a.symptom_onset_time],["Severity",null===(t=U.value)||void 0===t?void 0:t.symptom_severity],["Notes",null===(n=U.value)||void 0===n?void 0:n.detailed_assessment_notes]],"right"),R("Vital Signs",[["Temp (°C)",null===(i=E.value)||void 0===i?void 0:i.temperature],["Heart rate",null===(l=E.value)||void 0===l?void 0:l.heart_rate],["Resp rate",null===(s=E.value)||void 0===s?void 0:s.respiratory_rate],["Oxygen saturation",null===(o=E.value)||void 0===o?void 0:o.oxygen_saturation],["Blood sugar",null===(r=E.value)||void 0===r?void 0:r.blood_sugar],["Current weight (g)",null===(u=E.value)||void 0===u?void 0:u.current_weight],["Head circumference",null===(d=E.value)||void 0===d?void 0:d.head_circumference]],"right"),R("Sign-off",[["Healthcare Worker",A.healthcareWorkerId],["Role/Cadre",A.userRole],["Signature",A.electronicSignature],["Date",ae.value]],"right");const C=v.getNumberOfPages(),T=`Generated: ${(new Date).toLocaleString()}`;for(let b=1;b<=C;b++){v.setPage(b),v.setFontSize(8),v.setFont("helvetica","normal");const e=f-16;v.text(T,g,e,{align:"left"}),v.text(`Page ${b} of ${C}`,m-g,e,{align:"right"})}const j=`admission-summary-${H.value||"patient"}.pdf`;v.save(j)}}),(a,t)=>{var n,i,l,r;return m((o(),s("div",{class:g(["printable-admission-form",{"preview-mode":e.forceShow,"print-mode":!e.forceShow}])},[h("header",le,[h("div",se,[h("img",{src:u(T),alt:"Neotree logo",class:"header-logo"},null,8,oe),h("img",{src:u(j),alt:"Coat of arms",class:"header-logo app-logo"},null,8,re)]),h("div",ue,[h("div",de,y(K.value),1),h("div",ce,y(X.value)+" · Code: "+y(Z.value),1),t[0]||(t[0]=h("div",{class:"form-title"},"Neotree Malawi · Tertiary Admission Form",-1)),h("div",pe,[h("span",null,"Patient: "+y(z.value),1),h("span",null,"NPID: "+y(H.value),1),h("span",null,"DOB: "+y(B.value),1)])]),e.forceShow?w("",!0):(o(),s("div",ve,[R.value?(o(),s("img",{key:0,src:R.value,class:"qr-img",alt:"Patient QR"},null,8,me)):w("",!0),h("div",fe,y(H.value),1)]))]),h("div",ge,[h("div",he,[h("section",we,[t[12]||(t[12]=h("h3",{class:"section-title"},"Birth Details",-1)),h("div",ye,[t[1]||(t[1]=h("span",null,"Twin",-1)),h("span",null,y(te(W.value.hasTwin)),1)]),h("div",be,[t[2]||(t[2]=h("span",null,"Place of birth",-1)),h("span",null,y(te(W.value.placeOfBirth)),1)]),h("div",xe,[t[3]||(t[3]=h("span",null,"Birth facility",-1)),h("span",null,y(te(W.value.nameOfBirthFacility)),1)]),h("div",Se,[t[4]||(t[4]=h("span",null,"Type of birth",-1)),h("span",null,y(te(W.value.typeOfBirth)),1)]),h("div",Oe,[t[5]||(t[5]=h("span",null,"Birth weight (g)",-1)),h("span",null,y(te(W.value.birthWeight)),1)]),h("div",De,[t[6]||(t[6]=h("span",null,"Gestation (weeks)",-1)),h("span",null,y(te(W.value.gestationWeeks)),1)]),h("div",_e,[t[7]||(t[7]=h("span",null,"APGAR (1 min)",-1)),h("span",null,y(te(W.value.apgarScoreAt1)),1)]),h("div",Fe,[t[8]||(t[8]=h("span",null,"APGAR (5 min)",-1)),h("span",null,y(te(W.value.apgarScoreAt5)),1)]),h("div",Ie,[t[9]||(t[9]=h("span",null,"APGAR (10 min)",-1)),h("span",null,y(te(W.value.apgarScoreAt10)),1)]),h("div",Ae,[t[10]||(t[10]=h("span",null,"Cried after birth",-1)),h("span",null,y(te(W.value.criedAfterBirth)),1)]),h("div",Pe,[t[11]||(t[11]=h("span",null,"Resuscitation",-1)),h("span",null,y(q.value),1)])]),h("section",Re,[t[22]||(t[22]=h("h3",{class:"section-title"},"Pregnancy & Delivery",-1)),h("div",ke,[t[13]||(t[13]=h("span",null,"Mode of delivery",-1)),h("span",null,y(te(W.value.modeOfDelivery)),1)]),h("div",Ne,[t[14]||(t[14]=h("span",null,"Rupture of membranes",-1)),h("span",null,y(te(W.value.ruptureOfMembranes)),1)]),h("div",Ce,[t[15]||(t[15]=h("span",null,"Duration of ROM",-1)),h("span",null,y(te(W.value.durationOfRuptureMembranes)),1)]),h("div",Te,[t[16]||(t[16]=h("span",null,"Offensive liquor",-1)),h("span",null,y(te(W.value.offensiveLiquor)),1)]),h("div",je,[t[17]||(t[17]=h("span",null,"Meconium present",-1)),h("span",null,y(te(W.value.meconiumPresent)),1)]),h("div",Ve,[t[18]||(t[18]=h("span",null,"Maternal analgesia",-1)),h("span",null,y(te(W.value.maternalAnalgesia)),1)]),h("div",Me,[t[19]||(t[19]=h("span",null,"Anaesthesia used",-1)),h("span",null,y(te(W.value.anesthesiaUsed)),1)]),h("div",ze,[t[20]||(t[20]=h("span",null,"Steroids given",-1)),h("span",null,y(te(W.value.steroidsGiven)),1)]),h("div",Le,[t[21]||(t[21]=h("span",null,"Gestation assessment",-1)),h("span",null,y(te(W.value.gestationMethodAssessment)),1)])]),h("section",He,[t[30]||(t[30]=h("h3",{class:"section-title"},"Maternal Information",-1)),h("div",Ge,[t[23]||(t[23]=h("span",null,"Mother name",-1)),h("span",null,y(te(W.value.motherName)),1)]),h("div",Be,[t[24]||(t[24]=h("span",null,"Mother NPID",-1)),h("span",null,y(te(W.value.motherNationalId)),1)]),h("div",We,[t[25]||(t[25]=h("span",null,"HIV status",-1)),h("span",null,y(te(W.value.motherHivStatus)),1)]),h("div",Ue,[t[26]||(t[26]=h("span",null,"Last HIV test",-1)),h("span",null,y(te(W.value.lastHivTestDate)),1)]),h("div",$e,[t[27]||(t[27]=h("span",null,"VDRL result",-1)),h("span",null,y(te(W.value.motherVdrlResult)),1)]),h("div",Ee,[t[28]||(t[28]=h("span",null,"Hepatitis result",-1)),h("span",null,y(te(W.value.motherHepatitisResult)),1)]),h("div",qe,[t[29]||(t[29]=h("span",null,"Tetanus/Diphtheria",-1)),h("span",null,y(ne(W.value.tetanusDiphtheria)),1)])]),h("section",Je,[t[33]||(t[33]=h("h3",{class:"section-title"},"Admission Outcome",-1)),h("div",Qe,[t[31]||(t[31]=h("span",null,"Outcome",-1)),h("span",Ye,y(te(u(A).admissionOutcome)),1)]),h("div",Ke,[t[32]||(t[32]=h("span",null,"Safeguard concerns",-1)),h("span",null,y(te(u(A).safeguardConcerns)),1)])])]),h("div",Ze,[h("section",Xe,[t[41]||(t[41]=h("h3",{class:"section-title"},"Patient Information",-1)),h("div",ea,[t[34]||(t[34]=h("span",null,"Name",-1)),h("span",null,y(z.value),1)]),h("div",aa,[t[35]||(t[35]=h("span",null,"NPID",-1)),h("span",null,y(H.value),1)]),h("div",ta,[t[36]||(t[36]=h("span",null,"Gender",-1)),h("span",null,y(G.value),1)]),h("div",na,[t[37]||(t[37]=h("span",null,"Date of birth",-1)),h("span",null,y(B.value),1)]),h("div",ia,[t[38]||(t[38]=h("span",null,"Admitted from",-1)),h("span",null,y(te(W.value.admittedFrom)),1)]),h("div",la,[t[39]||(t[39]=h("span",null,"Referred from",-1)),h("span",null,y(te(W.value.referredFrom)),1)]),h("div",sa,[t[40]||(t[40]=h("span",null,"Transport mode",-1)),h("span",null,y(te(W.value.modeOfTransport)),1)])]),h("section",oa,[t[46]||(t[46]=h("h3",{class:"section-title"},"Presenting Complaints",-1)),h("div",ra,[t[42]||(t[42]=h("span",null,"Complaints",-1)),h("span",null,y(ne(null===(n=U.value)||void 0===n?void 0:n.presenting_complaints)),1)]),h("div",ua,[t[43]||(t[43]=h("span",null,"Onset",-1)),h("span",null,y(te(null===(i=U.value)||void 0===i?void 0:i.symptom_onset_time)),1)]),h("div",da,[t[44]||(t[44]=h("span",null,"Severity",-1)),h("span",null,y(te(null===(l=U.value)||void 0===l?void 0:l.symptom_severity)),1)]),h("div",ca,[t[45]||(t[45]=h("span",null,"Notes",-1)),h("span",null,y(te(null===(r=U.value)||void 0===r?void 0:r.detailed_assessment_notes)),1)])]),E.value?(o(),s("section",pa,[t[54]||(t[54]=h("h3",{class:"section-title"},"Vital Signs",-1)),h("div",va,[t[47]||(t[47]=h("span",null,"Temp (°C)",-1)),h("span",null,y(te(E.value.temperature)),1)]),h("div",ma,[t[48]||(t[48]=h("span",null,"Heart rate",-1)),h("span",null,y(te(E.value.heart_rate)),1)]),h("div",fa,[t[49]||(t[49]=h("span",null,"Resp rate",-1)),h("span",null,y(te(E.value.respiratory_rate)),1)]),h("div",ga,[t[50]||(t[50]=h("span",null,"Oxygen saturation",-1)),h("span",null,y(te(E.value.oxygen_saturation)),1)]),h("div",ha,[t[51]||(t[51]=h("span",null,"Blood sugar",-1)),h("span",null,y(te(E.value.blood_sugar)),1)]),h("div",wa,[t[52]||(t[52]=h("span",null,"Current weight (g)",-1)),h("span",null,y(te(E.value.current_weight)),1)]),h("div",ya,[t[53]||(t[53]=h("span",null,"Head circumference",-1)),h("span",null,y(te(E.value.head_circumference)),1)])])):w("",!0),h("section",ba,[t[59]||(t[59]=h("h3",{class:"section-title"},"Sign-off",-1)),h("div",xa,[t[55]||(t[55]=h("span",null,"Healthcare Worker",-1)),h("span",null,y(te(u(A).healthcareWorkerId)),1)]),h("div",Sa,[t[56]||(t[56]=h("span",null,"Role/Cadre",-1)),h("span",null,y(te(u(A).userRole)),1)]),h("div",Oa,[t[57]||(t[57]=h("span",null,"Signature",-1)),h("span",null,y(te(u(A).electronicSignature)),1)]),h("div",Da,[t[58]||(t[58]=h("span",null,"Date",-1)),h("span",null,y(ae.value),1)])])])]),h("div",_a,[h("span",null,"Generated: "+y((new Date).toLocaleString()),1),h("span",null,y(ee.value),1)])],2)),[[f,e.forceShow||P.value]])}}}),Ia=V(Fa,[["__scopeId","data-v-4732c624"]]),Aa={class:"print-summary-wrapper"},Pa={class:"print-content"},Ra={class:"print-actions"},ka=V(t({__name:"PrintSummarySection",setup(e,{expose:a}){const t=n(null),i=n(null),l=n(null),d=U[3],c=d.formData,p=d.subtitle,v=async()=>{var e,a;null!==(e=i.value)&&void 0!==e&&e.exportPdf?await i.value.exportPdf():null!==(a=l.value)&&void 0!==a&&a.exportPdf&&await l.value.exportPdf()};return a({getFormRef:()=>t.value,validateForm:()=>null,getFormValues:()=>({})}),(e,a)=>(o(),s("div",Aa,[r(j,{formData:u(c),subtitle:u(p),ref_key:"formRef",ref:t,class:"main-form"},{printSection:O(()=>[h("div",Pa,[h("div",Ra,[r(u(D),{expand:"block",color:"primary",onClick:v,class:"print-button"},{default:O(()=>[r(u(F),{icon:u(I),slot:"start"},null,8,["icon"]),a[0]||(a[0]=_(" Print Admission Summary ",-1))]),_:1})])])]),_:1},8,["formData","subtitle"]),r(Ia,{ref_key:"printablePrintRef",ref:l},null,512)]))}}),[["__scopeId","data-v-69ee3821"]]),Na=()=>JSON.parse(JSON.stringify(E)),Ca=A("neonatalAdmissionOutcomesStore",{state:()=>({activePatientId:null,admissionOutcomesForm:Na(),admissionOutcomesFormCache:{}}),getters:{getActivePatientId(){return this.activePatientId}},actions:{initializeAdmissionOutcomesForm(e){if(null==e)return this.activePatientId=null,void Object.assign(this.admissionOutcomesForm,Na());this.activePatientId=e;const a=this.admissionOutcomesFormCache[String(e)];a?Object.assign(this.admissionOutcomesForm,a):Object.assign(this.admissionOutcomesForm,Na()),this.saveAdmissionOutcomesSnapshot()},saveAdmissionOutcomesSnapshot(){null!=this.activePatientId&&(this.admissionOutcomesFormCache[String(this.activePatientId)]=JSON.parse(JSON.stringify(this.admissionOutcomesForm)))},resetAdmissionOutcomesForm(){Object.assign(this.admissionOutcomesForm,Na()),this.saveAdmissionOutcomesSnapshot()},clearAdmissionOutcomesForm(e){delete this.admissionOutcomesFormCache[String(e)],this.activePatientId===e&&this.resetAdmissionOutcomesForm()}},persist:{paths:["activePatientId","admissionOutcomesForm","admissionOutcomesFormCache"]}}),Ta=t({name:"NeonatalAdmissionOutcomes",components:{IonPage:R,IonContent:P,Toolbar:H,NeonatalStepper:q,AdmissionOutcomeSection:ee,SafeguardConcernsSection:te,AdmissionSignOffSection:ie,PrintSummarySection:ka},setup(){const e=k(),a=L(),{patient:t}=d(a),i=n(!1),s=Ca(),o=()=>{var e;const a=(e=>{const a=Number(e);return Number.isFinite(a)?a:null})(null===(e=t.value)||void 0===e?void 0:e.patientID);s.initializeAdmissionOutcomesForm(a)};o(),l(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.patientID},()=>o());const r=s.admissionOutcomesForm;N($,r),l(()=>s.admissionOutcomesForm,()=>s.saveAdmissionOutcomesSnapshot(),{deep:!0});const u=n(U.map((e,a)=>({title:e.title,number:a+1,checked:!1,class:0===a?"open_step common_step":"common_step",last_step:a===U.length-1?"last_step":""}))),c=[{title:U[0].title,value:"1",component:ee,configIndex:0},{title:U[1].title,value:"2",component:te,configIndex:1},{title:U[2].title,value:"3",component:ie,configIndex:2,buttonText:"SIGN"},{title:U[3].title,value:"4",component:ka,configIndex:3}];return{router:e,patient:t,admissionOutcomesFormData:r,stepperTitle:"Admission Outcomes",currentOpenStepper:"1",wizardData:u,stepperData:c,updateStatus:e=>{e&&e.value&&u.value.forEach((a,t)=>{e.value===(t+1).toString()?(a.class="open_step common_step",a.checked=!1):t<parseInt(e.value)-1?(a.class="common_step color_white",a.checked=!0):(a.class="common_step",a.checked=!1)})},getSaveFunction:a=>a===c.length-1?async()=>{var a;if(null!==(a=t.value)&&void 0!==a&&a.patientID){if(!i.value)try{if(i.value=!0,!r.admissionOutcome)return G("Please select an admission outcome"),void(i.value=!1);await K.saveAdmissionOutcomes(t.value.patientID,r,z.sessionDate()),B("Admission outcomes saved successfully"),s.clearAdmissionOutcomesForm(t.value.patientID),e.push({name:"neonatalPatientProfile"})}catch(n){console.error("Failed to save admission outcomes",n),W("Failed to save admission outcomes. Please try again."),i.value=!1}}else G("No patient selected")}:null,isSaving:i,neonatalAdmissionOutcomesSections:U}}});e("default",V(Ta,[["render",function(e,a,t,n,i,l){const s=C("Toolbar"),u=C("NeonatalStepper"),d=C("ion-content"),c=C("ion-page");return o(),T(c,{class:"neonatal-admission-outcomes-page"},{default:O(()=>[r(s),r(d,{fullscreen:!0},{default:O(()=>[r(u,{wizardData:e.wizardData,StepperData:e.stepperData,stepperTitle:e.stepperTitle,openStepper:e.currentOpenStepper,backUrl:"/patientProfile",getSaveFunction:e.getSaveFunction,flowType:"admissionOutcomes",sectionsConfig:e.neonatalAdmissionOutcomesSections,useSkipLogic:!0,onUpdateStatus:e.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","sectionsConfig","onUpdateStatus"])]),_:1})]),_:1})}],["__scopeId","data-v-780323dd"]]))}}});
