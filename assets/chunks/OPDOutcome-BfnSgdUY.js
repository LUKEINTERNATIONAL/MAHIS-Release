import{d as ae,aV as Ae,r as n,c as K,a as ke,H as ue,e as w,f as l,l as e,m as v,O as C,J as s,k as o,u as a,_ as te,Q as N,F as Q,av as xe,ey as ea,ez as ta,eA as aa,eB as na,aG as yt,w as pe,ax as bt,bW as sa,P as ce,aO as oa,K as S,p as ot,bt as la,ah as ia,L as Le,eC as lt,eD as it,bk as Fe,bf as rt,eE as ut,eF as ct,da as dt,eG as mt,eH as pt,eI as vt,df as ft,bV as ra,az as ua,c1 as ca,W as le,bz as da,al as Xe,ak as ge,N as se,bs as oe,a4 as ie,bl as $e,b2 as ma,bn as Dt,a2 as wt,b$ as pa,bv as va,aj as kt,a5 as z,c7 as _t,bw as fa,dt as _a,ea as ht}from"./vendor-ChpUWbYC.js";import{bp as ha,l as Ne,aC as Re,aB as ga,b4 as ya,aD as ba,J as we,m as Ct,M as Se,S as He,ag as re,b2 as J,t as De,G as Be,_ as ve,u as qe,H as Ue,aS as he,aT as St,bU as Da,bn as wa,bo as ka,aZ as ye,a$ as be,bV as Ca,bJ as Sa,P as It,aK as Oe,aR as Ia,K as Pa,B as Ce,ax as gt,ao as Ye,as as Ke,aM as Ea,ar as Oa}from"../index-rYNkOVTy.js";import{e as xa,a as Aa,m as Va,b as Na,v as $a,c as Ha,_ as Ma}from"./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-57WbdpUI.js";import{p as Ta}from"./previousComplaints-Cy01TZAX.js";import{P as Ra}from"./patient_complaints_service-CsqC4ySb.js";import{D as La}from"./DashBox-SzyHa3gY.js";import{_ as Fa,A as Ua,D as Ba,a as qa}from"./NextAppointment-BX7icBA1.js";import{B as Qe}from"./BasicForm-WNyfXg7b.js";import{f as Ze,c as Pt,a as Et}from"./formatServerData-DlLQGbqY.js";import{a as Ga,b as Wa}from"./drug_prescription_service-B1AF49mA.js";import{P as za}from"./nonPharmaTherapyStore-BBpK3wk-.js";import{l as Ie}from"./lodash-NJiRuGo9.js";import{_ as Je,D as ja,A as Ya,R as Ka,a as Ja,b as Xa}from"./usePatientProfile-Gn6fuH8L.js";const Qa={key:0},Za={style:{"align-content":"center"}},en={class:"ion-padding",slot:"content"},tn=ae({__name:"PresentingComplaints",setup(i,{expose:r}){const u=ha(),{presentingComplaints:_}=Ae(u),k=n(Ne),A=n(!0),$=n(!1),V=n(!1),y=n(!0),E=n(!1),c=n([]),O=n([]),F=n(),p=K(()=>[{componentType:"multiSelectInputField",header:"Presenting Complaints",name:"PresentingComplaints",trackBy:"concept_id",icon:Ne.search,hideSelected:!0,validation:m=>G(m==null?void 0:m.name,c.value)?"Presenting complaint already added":Re.required(m),options:O.value,grid:{s:"6"}},{componentType:"inputField",header:"Duration",name:"duration",icon:Ne.time,validation:m=>Re.isNotEmptyandNumber(m),grid:{s:"6"},unitOptions:[{label:"Hours",value:"Hours"},{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],unitValidation:m=>!m||m===""?"Please select a unit.":null},{componentType:"inputField",header:"Specify the presenting complaint(s)",name:"Other (specify)",icon:Ne.editPen,validation:m=>G(m,c.value)?"Presenting complaint already added":Re.required(m),condition:m=>{var t;return((t=m==null?void 0:m.PresentingComplaints)==null?void 0:t.name)==="Other"}},{componentType:"Alert",condition:m=>{var t;return Re.required((t=m==null?void 0:m.PresentingComplaints)==null?void 0:t.name)!=null},backgroundColor:"lightyellow",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}]),{formRef:h}=ga(),R=async()=>{Ct(Fa,{class:"fullScreenModal"})},I=async()=>{O.value=await Ra.getComplaintsList("Presenting complaint"),Se(_.value,"PresentingComplaints","multiSelectData",O.value)},x=()=>{A.value=!1,y.value=!1,V.value=!0},H=async()=>{var f,B;const m=(f=h.value)==null?void 0:f.getFormValues();((B=h.value)==null?void 0:B.validateForm())==null&&(q(m),V.value=!1,y.value=!0)},q=m=>{var j;const t=m.duration+" "+m.duration_unit,f=m.PresentingComplaints,B=f.name==="Other"?m["Other (specify)"]:f.name;c.value.push({actionBtn:!0,btn:["delete"],name:B,concept_id:f.concept_id,duration:f.duration,durationUnits:f.duration_unit,display:[B,t],data:[{concept_id:8578,value_coded:f.concept_id,obs_datetime:He.getSessionDate(),child:[{concept_id:f.concept_id,value_text:t,obs_datetime:He.getSessionDate()}]}]}),(j=h.value)==null||j.resetForm(),E.value=!0,L()},L=()=>{const m=["Cough","Convulsions"];$.value=c.value.some(t=>m.includes(t.name))},G=(m,t)=>t.some(f=>f.name===m),M=m=>{c.value=c.value.filter(t=>t.display[0]!==m.name)},X=async()=>{const m=await re.getObsByEncounterIdAndDate(J.PRESENTING_COMPLAINTS),t=c.value.flatMap(f=>f.data);if(t.length<=0&&m.length<=0)return De("Presenting complaints is required");t.length<=0||(await re.addObsToEncounterPatient(t,J.PRESENTING_COMPLAINTS),Be("Presenting complaints saved successful"),c.value=[])};return ke(async()=>{await I()}),r({onSubmit:X}),(m,t)=>{const f=ue("ion-row"),B=ue("ion-label"),j=ue("ion-accordion"),de=ue("ion-accordion-group");return l(),w(Q,null,[e(La,{status:A.value,content:"No presenting complaints added"},null,8,["status"]),E.value?(l(),w("span",Qa,[e(ya,{listData:c.value,"onClicked:delete":M},null,8,["listData"])])):v("",!0),V.value?(l(),C(f,{key:1},{default:s(()=>[e(ba,{formData:p.value,ref_key:"formRef",ref:h},null,8,["formData"]),o("div",Za,[e(we,{fill:"clear",icon:k.value.plus,iconSlot:"icon-only","onClicked:btn":t[0]||(t[0]=me=>H()),name:"Save"},null,8,["icon"])])]),_:1})):v("",!0),y.value?(l(),C(f,{key:2,style:{"margin-top":"10px"}},{default:s(()=>[e(we,{fill:"clear",icon:k.value.plus,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=me=>x()),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):v("",!0),$.value?(l(),C(f,{key:3,class:"ion-float-right"},{default:s(()=>[e(we,{color:"danger","onClicked:btn":t[2]||(t[2]=me=>R()),name:"AHD Screening"})]),_:1})):v("",!0),e(f,null,{default:s(()=>[e(de,{ref_key:"accordionGroup",ref:F,class:"previousView"},{default:s(()=>[e(j,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(B,{class:"previousLabel"},{default:s(()=>[...t[3]||(t[3]=[N("Previous presenting complaints",-1)])]),_:1})]),_:1}),o("div",en,[e(Ta)])]),_:1})]),_:1},512)]),_:1})],64)}}}),an=ve(tn,[["__scopeId","data-v-0aa2f61c"]]),nn={class:"visit-section"},sn={class:"section-header"},on={key:0,class:"no-data"},ln={key:1,class:"allergy-accordion"},rn=["onClick"],un={class:"acc-left"},cn={class:"acc-title"},dn={class:"acc-count"},mn={key:0,class:"accordion-body"},pn={class:"item-label"},vn={class:"item-value"},fn=ae({__name:"AllergiesListing",setup(i){const r=qe(),{patient:u}=Ae(r),_=n({}),k={antiviral:/abacavir|lamivudine|lopinavir|ritonavir|zidovudine|efavirenz|tenofovir/i,antibiotic:/penicillin|amoxicillin|cephalexin|azithromycin|ciprofloxacin|doxycycline/i,analgesic:/aspirin|ibuprofen|acetaminophen|morphine|codeine|tramadol/i,cardiac:/metoprolol|lisinopril|amlodipine|atorvastatin|warfarin/i,activated:/activated\s+charcoal/i},A={985:{name:"Other",icon:xe,severity:"danger"},7759:{name:"Location/Environmental",icon:yt,severity:"info"},7579:{name:"Medical Condition",icon:na,severity:"warning"},drug:{name:"Drug Allergy",icon:xe,severity:"danger"},food:{name:"Food Allergy",icon:aa,severity:"danger"},environmental:{name:"Environmental",icon:ta,severity:"warning"},contact:{name:"Contact Allergy",icon:ea,severity:"warning"},unknown:{name:"Drug Allergy",icon:xe,severity:"danger"}},$=p=>{const h=p.toLowerCase();return k.antiviral.test(h)?{type:"Antiviral Medication",icon:"shield-outline"}:k.antibiotic.test(h)?{type:"Antibiotic",icon:"bandage-outline"}:k.analgesic.test(h)?{type:"Pain Medication",icon:"fitness-outline"}:k.cardiac.test(h)?{type:"Cardiac Medication",icon:"heart-outline"}:k.activated.test(h)?{type:"Detoxification Agent",icon:"flask-outline"}:{type:"Medication",icon:"medical-outline"}},V=K(()=>{var h,R,I,x,H,q;return[...(I=(R=(h=u.value)==null?void 0:h.allergies)==null?void 0:R.saved)!=null?I:[],...(q=(H=(x=u.value)==null?void 0:x.allergies)==null?void 0:H.unsaved)!=null?q:[]].length>0}),y=K(()=>{var I,x,H,q,L,G;const p=(H=(x=(I=u.value)==null?void 0:I.allergies)==null?void 0:x.saved)!=null?H:[],h=(G=(L=(q=u.value)==null?void 0:q.allergies)==null?void 0:L.unsaved)!=null?G:[],R=[...p,...h];return R.length===0?[]:R.map(M=>{var j;const X=((j=M.concept_id)==null?void 0:j.toString())||"unknown",m=A[X]||A.unknown;let t="Unknown",f=null;return M.value_text&&M.value_text!=="Unknown"&&M.value_text!==""?(t=M.value_text,(X==="985"||X==="985###")&&(f=$(M.value_text))):M.concept_name&&(t=M.concept_name),{...f?{...m,name:f.type,icon:f.icon}:m,displayValue:t,conceptId:M.concept_id,date:M.obs_datetime||M.encounter_datetime,providerId:M.provider_id,locationId:M.location_id,encounterId:M.encounter_id,isDrug:X==="985",raw:M}})}),E=K(()=>{const p={};y.value.forEach(I=>{const x=I.date?O(I.date):"Unknown Date";p[x]||(p[x]=[]),p[x].push(I)});const h={};return Object.keys(p).sort((I,x)=>I==="Unknown Date"?1:x==="Unknown Date"?-1:new Date(x).getTime()-new Date(I).getTime()).forEach(I=>{h[I]=p[I]}),h}),c=p=>{_.value[p]=!_.value[p]},O=p=>{if(!p)return"Unknown Date";try{return new Date(p).toISOString().split("T")[0]}catch(h){return"Unknown Date"}},F=p=>{if(p==="Unknown Date")return"Unknown Date";try{const h=new Date(p),R=Ue.sessionDate(),I=new Date(R),x=new Date(I);x.setDate(x.getDate()-1);const H=h.toDateString(),q=I.toDateString(),L=x.toDateString();return H===q?"Today":H===L?"Yesterday":h.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(h){return p}};return pe(()=>E.value,p=>{const h=Object.keys(p);h.length>0&&(_.value[h[0]]=!0)},{immediate:!0}),pe(()=>{var p;return(p=u.value)==null?void 0:p.allergies},p=>{console.log("Allergies updated:",p)},{deep:!0}),ke(()=>{var p;console.log("Allergies component mounted",(p=u.value)==null?void 0:p.allergies)}),(p,h)=>{const R=ue("ion-icon");return l(),w("div",nn,[o("div",sn,[e(R,{icon:a(bt),class:"section-icon"},null,8,["icon"]),h[0]||(h[0]=o("h3",null,"Allergies",-1))]),V.value?(l(),w("div",ln,[(l(!0),w(Q,null,ce(E.value,(I,x)=>(l(),w("div",{key:x,class:"accordion-section"},[o("div",{class:ot(["accordion-header",{open:_.value[x]}]),onClick:H=>c(x)},[o("div",un,[e(R,{icon:a(oa),class:"acc-icon"},null,8,["icon"]),o("span",cn,S(F(x)),1),o("span",dn,"("+S(I.length)+")",1)]),e(R,{icon:a(la),class:ot(["chevron",{rotate:_.value[x]}])},null,8,["icon","class"])],10,rn),_.value[x]?(l(),w("div",mn,[(l(!0),w(Q,null,ce(I,(H,q)=>(l(),w("div",{class:"allergy-item",key:q},[o("span",pn,S(H.name)+":",1),o("span",vn,S(H.displayValue),1)]))),128))])):v("",!0)]))),128))])):(l(),w("div",on,[e(R,{icon:a(sa),class:"no-data-icon"},null,8,["icon"]),h[1]||(h[1]=o("p",null,"No known allergies",-1))]))])}}}),Ot=ve(fn,[["__scopeId","data-v-fa3ff98b"]]),_n=ae({name:"VisitHistory",components:{AllergiesListing:Ot,IonIcon:Le},setup(){const i=St();return{selectedAllergiesList2:K(()=>i.selectedMedicalAllergiesList),alertCircleOutline:bt,documentTextOutline:ca,femaleOutline:ua,medicalOutline:xe,warningOutline:ra,bodyOutline:lt,eyeOutline:ft,nutritionOutline:vt,fitnessOutline:ct,pulseOutline:rt,earOutline:pt,happyOutline:mt,manOutline:dt,moveOutline:ut,addOutline:Fe,scanOutline:it}},data(){return{presentingComplaintsWithDuration:[],pastMedicalHistory:[],levelOfConsciousness:{eyeResponse:null,verbalResponse:null,motorResponse:null},pregnancy:{patientPregnant:null,breastFeeding:null},physicalExamCategories:{Eyes:{icon:ft,abnormalities:[],normal:!1},Mouth:{icon:vt,abnormalities:[],normal:!1},Ears:{icon:pt,abnormalities:[],normal:!1},Face:{icon:mt,abnormalities:[],normal:!1},Neck:{icon:dt,abnormalities:[],normal:!1},Chest:{icon:ct,abnormalities:[],normal:!1},"Chest Movement":{icon:ut,abnormalities:[],normal:!1},"Heart Sounds":{icon:rt,abnormalities:[],normal:!1},"Breath Sounds":{icon:Fe,abnormalities:[],normal:!1},"Added Breath Sounds":{icon:Fe,abnormalities:[],normal:!1},"Abdominal Inspection":{icon:it,abnormalities:[],normal:!1},"Genital Examination":{icon:lt,abnormalities:[],normal:!1}}}},computed:{...ia(qe,["patient"]),hasLevelOfConsciousness(){return this.levelOfConsciousness.eyeResponse||this.levelOfConsciousness.verbalResponse||this.levelOfConsciousness.motorResponse},hasPresentingComplaints(){var i;return((i=this.presentingComplaintsWithDuration)==null?void 0:i.length)>0},hasPregnancyData(){return this.pregnancy.patientPregnant||this.pregnancy.breastFeeding},hasPastMedicalHistory(){var i;return((i=this.uniquePastMedicalHistory)==null?void 0:i.length)>0},hasAllergies(){var i,r;return((r=(i=this.selectedAllergiesList2)==null?void 0:i.filter(u=>u.selected))==null?void 0:r.length)>0},hasPhysicalExam(){return Object.values(this.physicalExamCategories).some(i=>i.abnormalities.length>0||i.normal)},uniquePastMedicalHistory(){return[...new Set(this.pastMedicalHistory)]},uniquePresentingComplaints(){return[...new Set(this.presentingComplaintsWithDuration.map(i=>i.name))]},isMinor(){var i,r;return Ue.getAgeInYears((r=(i=this.patient)==null?void 0:i.personInformation)==null?void 0:r.birthdate)<18},gcsScore(){var V,y,E;if(!this.hasLevelOfConsciousness)return null;const i=this.levelOfConsciousness.eyeResponse,r=this.levelOfConsciousness.motorResponse,u=this.levelOfConsciousness.verbalResponse,_=i&&(V=(this.isMinor?xa:Aa)[i])!=null?V:0,k=r&&(y=(this.isMinor?Va:Na)[r])!=null?y:0,A=u&&(E=(this.isMinor?$a:Ha)[u])!=null?E:0,$=_+k+A;return"(M ".concat(k," V ").concat(A," E ").concat(_,") ").concat($,"/").concat(this.isMinor?5:15)}},methods:{async updateData(){var i;(i=this.patient)!=null&&i.patientID&&(await this.loadPresentingComplaints(),await this.loadPastMedicalHistory(),await this.loadLevelOfConsciousness(),await this.loadPregnancyStatus(),await this.loadPhysicalExam())},async loadPresentingComplaints(){try{const i=await re.getObsByEncounterIdAndDate(J.PRESENTING_COMPLAINTS);this.presentingComplaintsWithDuration=[];const r=i.filter(u=>u.concept_name==="Presenting complaint");for(const u of r){const _=i.find(A=>A.concept_id===u.value_coded&&A.concept_name!=="Presenting complaint"),k=await he.getConceptName(u.value_coded);this.presentingComplaintsWithDuration.push({name:k,duration:(_==null?void 0:_.value_text)||"Duration not specified"})}}catch(i){console.error("Error loading presenting complaints:",i)}},async loadPastMedicalHistory(){try{const r=(await re.getObsByEncounterIdAndDate(J.PAST_MEDICAL_HISTORY)).filter(u=>u.concept_name==="Chronic disease");this.pastMedicalHistory=await Promise.all(r.map(async u=>await he.getConceptName(u.value_coded)))}catch(i){console.error("Error loading past medical history:",i)}},async loadLevelOfConsciousness(){try{const i=await re.getObsByEncounterIdAndDate(J.ASSESSMENT);if(i&&Array.isArray(i)){const r=i.find(k=>k.concept_name==="Eye opening response");this.levelOfConsciousness.eyeResponse=r!=null&&r.value_coded?await he.getConceptName(r.value_coded):null;const u=i.find(k=>k.concept_name==="Best verbal response");this.levelOfConsciousness.verbalResponse=u!=null&&u.value_coded?await he.getConceptName(u.value_coded):null;const _=i.find(k=>k.concept_name==="Best motor response");this.levelOfConsciousness.motorResponse=_!=null&&_.value_coded?await he.getConceptName(_.value_coded):null}}catch(i){console.error("Error loading level of consciousness:",i)}},async loadPregnancyStatus(){try{const i=await re.getObsByEncounterIdAndDate(J.PREGNANCY_STATUS);if(i&&Array.isArray(i)){const r=i.find(_=>_.concept_name==="Patient pregnant");this.pregnancy.patientPregnant=r!=null&&r.value_coded?await he.getConceptName(r.value_coded):null;const u=i.find(_=>_.concept_name==="Is patient breast feeding?");this.pregnancy.breastFeeding=u!=null&&u.value_coded?await he.getConceptName(u.value_coded):null}}catch(i){console.error("Error loading pregnancy status:",i)}},async loadPhysicalExam(){try{const i=await re.getObsByEncounterIdAndDate(J.PHYSICAL_EXAMINATION);Object.values(this.physicalExamCategories).forEach(r=>{r.abnormalities=[],r.normal=!1});for(const r of i)if(r.concept_id){if(r.value_coded===1065)switch(r.concept_id){case 10837:this.physicalExamCategories.Eyes.normal=!0;break;case 10842:this.physicalExamCategories.Mouth.normal=!0;break;case 11028:this.physicalExamCategories.Ears.normal=!0;break;case 10854:this.physicalExamCategories.Face.normal=!0;break;case 10858:this.physicalExamCategories.Neck.normal=!0;break;case 10894:this.physicalExamCategories.Chest.normal=!0;break;case 10903:this.physicalExamCategories["Heart Sounds"].normal=!0;break;case 10909:this.physicalExamCategories["Breath Sounds"].normal=!0;break;case 10919:case 10928:case 10939:this.physicalExamCategories["Abdominal Inspection"].normal=!0;break;case 10803:case 10946:this.physicalExamCategories["Genital Examination"].normal=!0;break}if(r.value_coded){const u=await he.getConceptName(r.value_coded);switch(r.concept_id){case 10838:this.physicalExamCategories.Eyes.abnormalities.push(u);break;case 10843:this.physicalExamCategories.Mouth.abnormalities.push(u);break;case 10852:this.physicalExamCategories.Ears.abnormalities.push(u);break;case 10855:this.physicalExamCategories.Face.abnormalities.push(u);break;case 10859:this.physicalExamCategories.Neck.abnormalities.push(u);break;case 10897:this.physicalExamCategories.Chest.abnormalities.push(u);break;case 10904:this.physicalExamCategories["Heart Sounds"].abnormalities.push(u);break;case 10910:this.physicalExamCategories["Breath Sounds"].abnormalities.push(u);break;case 10920:case 10929:case 10939:this.physicalExamCategories["Abdominal Inspection"].abnormalities.push(u);break;case 10797:case 10804:case 10947:this.physicalExamCategories["Genital Examination"].abnormalities.push(u);break}}}}catch(i){console.error("Error loading physical exam:",i)}}},watch:{patient:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()}}),hn={class:"visit-container"},gn={class:"visit-sections"},yn={key:0,class:"visit-section"},bn={class:"section-header"},Dn={class:"section-content"},wn={key:0,class:"info-item"},kn={class:"info-value"},Cn={key:1,class:"info-item"},Sn={class:"info-value"},In={key:2,class:"info-item"},Pn={class:"info-value"},En={key:3,class:"info-item"},On={class:"info-value highlight"},xn={key:1,class:"visit-section"},An={class:"section-header"},Vn={class:"complaints-container"},Nn={class:"complaint-name"},$n={class:"complaint-duration"},Hn={key:2,class:"visit-section"},Mn={class:"section-header"},Tn={class:"section-content"},Rn={key:0,class:"info-item"},Ln={class:"info-value highlight"},Fn={key:1,class:"info-item"},Un={class:"info-value highlight"},Bn={key:3,class:"visit-section"},qn={class:"section-header"},Gn={class:"tags-container"},Wn={class:"allergies-section"},zn={class:"allergies-container"},jn={key:4,class:"visit-section"},Yn={class:"section-header"},Kn={class:"exam-section"},Jn={key:0,class:"exam-category"},Xn={class:"exam-category-header"},Qn={class:"exam-items"},Zn={key:1,class:"exam-item normal"};function es(i,r,u,_,k,A){const $=ue("ion-icon"),V=ue("AllergiesListing");return l(),w("div",hn,[r[11]||(r[11]=o("div",{class:"visit-header"},[o("h5",null,"Patient's Clinical Assessment Summary")],-1)),o("div",gn,[i.hasLevelOfConsciousness?(l(),w("div",yn,[o("div",bn,[e($,{icon:i.alertCircleOutline,class:"section-icon"},null,8,["icon"]),r[0]||(r[0]=o("h3",null,"Level of Consciousness",-1))]),o("div",Dn,[i.levelOfConsciousness.eyeResponse?(l(),w("div",wn,[r[1]||(r[1]=o("span",{class:"info-label"},"Eye Response:",-1)),o("span",kn,S(i.levelOfConsciousness.eyeResponse),1)])):v("",!0),i.levelOfConsciousness.verbalResponse?(l(),w("div",Cn,[r[2]||(r[2]=o("span",{class:"info-label"},"Verbal Response:",-1)),o("span",Sn,S(i.levelOfConsciousness.verbalResponse),1)])):v("",!0),i.levelOfConsciousness.motorResponse?(l(),w("div",In,[r[3]||(r[3]=o("span",{class:"info-label"},"Motor Response:",-1)),o("span",Pn,S(i.levelOfConsciousness.motorResponse),1)])):v("",!0),i.gcsScore?(l(),w("div",En,[r[4]||(r[4]=o("span",{class:"info-label"},"Score:",-1)),o("span",On,S(i.gcsScore),1)])):v("",!0)])])):v("",!0),i.hasPresentingComplaints?(l(),w("div",xn,[o("div",An,[e($,{icon:i.documentTextOutline,class:"section-icon"},null,8,["icon"]),r[5]||(r[5]=o("h3",null,"Presenting Complaints",-1))]),o("div",Vn,[(l(!0),w(Q,null,ce(i.presentingComplaintsWithDuration,(y,E)=>(l(),w("div",{class:"complaint-item",key:E},[o("div",Nn,S(y.name),1),o("div",$n,S(y.duration),1)]))),128))])])):v("",!0),i.hasPregnancyData?(l(),w("div",Hn,[o("div",Mn,[e($,{icon:i.femaleOutline,class:"section-icon"},null,8,["icon"]),r[6]||(r[6]=o("h3",null,"Pregnancy Status",-1))]),o("div",Tn,[i.pregnancy.patientPregnant?(l(),w("div",Rn,[r[7]||(r[7]=o("span",{class:"info-label"},"Pregnant:",-1)),o("span",Ln,S(i.pregnancy.patientPregnant),1)])):v("",!0),i.pregnancy.breastFeeding?(l(),w("div",Fn,[r[8]||(r[8]=o("span",{class:"info-label"},"Breastfeeding:",-1)),o("span",Un,S(i.pregnancy.breastFeeding),1)])):v("",!0)])])):v("",!0),i.hasPastMedicalHistory?(l(),w("div",Bn,[o("div",qn,[e($,{icon:i.medicalOutline,class:"section-icon"},null,8,["icon"]),r[9]||(r[9]=o("h3",null,"Medical History",-1))]),o("div",Gn,[(l(!0),w(Q,null,ce(i.uniquePastMedicalHistory,(y,E)=>(l(),w("div",{class:"medical-tag",key:E},S(y),1))),128))])])):v("",!0),o("div",Wn,[o("div",zn,[e(V)])]),i.hasPhysicalExam?(l(),w("div",jn,[o("div",Yn,[e($,{icon:i.bodyOutline,class:"section-icon"},null,8,["icon"]),r[10]||(r[10]=o("h3",null,"Physical Examination",-1))]),o("div",Kn,[(l(!0),w(Q,null,ce(i.physicalExamCategories,(y,E)=>(l(),w(Q,{key:E},[y.abnormalities.length>0||y.normal?(l(),w("div",Jn,[o("div",Xn,[e($,{icon:y.icon},null,8,["icon"]),o("h4",null,S(E),1)]),o("div",Qn,[y.abnormalities.length>0?(l(!0),w(Q,{key:0},ce(y.abnormalities,(c,O)=>(l(),w("div",{class:"exam-item abnormal",key:O},S(c),1))),128)):y.normal?(l(),w("div",Zn," Normal examination ")):v("",!0)])])):v("",!0)],64))),128))])])):v("",!0)])])}const ts=ve(_n,[["render",es],["__scopeId","data-v-795e1865"]]),as={class:"modal_wrapper"},ns=ae({__name:"PregnancyBreastfeeding",setup(i,{expose:r}){const u=Da(),{pregnancy:_}=Ae(u),k=()=>{};return r({onSubmit:async()=>{const $=await Ze(_.value);$.length>0?(await re.addObsToEncounterPatient($,J.PREGNANCY_STATUS),Be("Pregnancy status saved successfully")):De("No pregnancy status data to save ")}}),($,V)=>(l(),w("div",as,[e(Qe,{contentData:a(_),"onUpdate:inputValue":k},null,8,["contentData"])]))}}),ss={class:"modal_wrapper"},os={class:"uniform_columns"},ls=ae({__name:"PastMedicalHistory",setup(i,{expose:r}){const u=wa(),{pastMedicalHistory:_}=Ae(u),k=n([]);ke(()=>{k.value=u.getInitial(),A()}),pe(_,()=>{A()},{deep:!0});const A=()=>{var c;const E=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];(c=ka(_.value,"None"))!=null&&c.checked?E.forEach(O=>{ye(_.value,"TB treatment","displayNone",!0),Se(_.value,"TB drugs","displayNone",!0),Se(_.value,"TB drug start date","displayNone",!0),ye(_.value,"Hypertension medication","displayNone",!0),Se(_.value,"Current hypertension treatment regimen","displayNone",!0),ye(_.value,"HIV status","displayNone",!0),Se(_.value,"ARV start date","displayNone",!0),ye(_.value,"Diabetes","displayNone",!0),ye(_.value,"Controlled by","displayNone",!0),be(_.value,O,"checked",!1),be(_.value,O,"disabled",!0)}):E.forEach(O=>{be(_.value,O,"disabled",!1)})},$=E=>{Se(_.value,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine 'O' (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),Se(_.value,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})},V=async()=>[...await Pt(_.value),...await Ze(_.value),...await Et(_.value)];return r({onSubmit:async()=>{const E=await V();if(E.length===0){De("No past medical history data to save");return}await re.addObsToEncounterPatient(E,J.PAST_MEDICAL_HISTORY),Be("Past medical history saved successful")}}),(E,c)=>(l(),w("div",ss,[o("div",os,[e(Qe,{contentData:a(_),initialData:k.value,"onUpdate:inputValue":$,"onUpdate:selected":$},null,8,["contentData","initialData"])])]))}}),is=ve(ls,[["__scopeId","data-v-49fdce72"]]),rs={class:"container"},us=ae({__name:"PhysicalExamination",setup(i,{expose:r}){const u=Ca(),_=qe(),{physicalExam:k}=Ae(u),{patient:A}=Ae(_),$=n([]);ke(()=>{$.value=u.getInitial(),V(),y()}),pe(k,()=>{V(),y()},{deep:!0});const V=()=>{Sa(k.value,"Physical examination")=="No"?ye(k.value,"Reason why physical examination not done","displayNone",!1):(ye(k.value,"Reason why physical examination not done","displayNone",!0),ye(k.value,"Reason why physical examination not done","selectedValue",""))},y=()=>{var F,p;const O=(p=(F=A.value)==null?void 0:F.personInformation)==null?void 0:p.gender;O=="M"&&(be(k.value,"Vulva examination","disabled",!0),be(k.value,"Visible bleeding","disabled",!0)),O=="F"&&(be(k.value,"Urethral meatus abnormal","disabled",!0),be(k.value,"Scrotal swelling","disabled",!0),be(k.value,"Tastes swelling","disabled",!0))},E=async()=>[...await Pt(k.value),...await Ze(k.value),...await Et(k.value)];return r({onSubmit:async()=>{const O=await E();if(console.log("Selected physical data is",O),O.length===0){De("No physical examination data to save");return}await re.addObsToEncounterPatient(O,J.PHYSICAL_EXAMINATION),Be("Physical examination saved successful")}}),(O,F)=>{const p=ue("ion-card-content"),h=ue("ion-card");return l(),w("div",rs,[e(h,{class:"section"},{default:s(()=>[e(p,null,{default:s(()=>[e(Qe,{contentData:a(k),initialData:$.value},null,8,["contentData","initialData"])]),_:1})]),_:1})])}}}),cs=ve(us,[["__scopeId","data-v-f45150df"]]),ds={key:0},ms={class:"ion-padding",slot:"content"},ps={class:"nav-buttons"},vs={class:"ion-padding",slot:"content"},fs={class:"nav-buttons"},_s={class:"ion-padding",slot:"content"},hs={class:"nav-buttons"},gs={class:"ion-padding",slot:"content"},ys={class:"nav-buttons"},bs={class:"ion-padding",slot:"content"},Ds={class:"nav-buttons"},ws={class:"ion-padding",slot:"content"},ks={class:"nav-buttons"},Cs=ae({__name:"ClinicalAssessment",setup(i,{expose:r}){const u=n("loc"),_=n(0),k=n(!1),A=n(!1),$=new It,V=qe(),y=()=>{_.value++},E=n(null),c=n(null),O=n(null),F=n(null),p=n(null),h=n(null),R=[{id:"loc",label:"Level of consciousness",show:!0},{id:"pc",label:"Presenting complaints",show:!0},{id:"pbs",label:"Pregnancy and breastfeeding status",show:()=>$.isChildBearing()},{id:"pmh",label:"Past medical history",show:!0},{id:"al",label:"Allergies",show:!0},{id:"pe",label:"Physical examination",show:!0}];async function I(){const m=He.getSessionDate(),t=[J.ASSESSMENT,J.PRESENTING_COMPLAINTS,J.PAST_MEDICAL_HISTORY,J.PHYSICAL_EXAMINATION,J.PREGNANCY_STATUS];let f=!1;for(const B of t)try{const j=await re.getObsByEncounterIdAndDate(B);if(j&&j.some(de=>de.obs_datetime?Ue.toStandardHisFormat(de.obs_datetime)===Ue.toStandardHisFormat(m):!1)){f=!0;break}}catch(j){console.error("Error checking observations for encounter type ".concat(B,":"),j)}k.value=f}ke(I),pe(()=>V.patient,I);const x=K(()=>k.value),H=K(()=>R.filter(m=>typeof m.show=="function"?m.show():m.show)),q=m=>{const t=R.find(f=>f.id===m);return t?typeof t.show=="function"?t.show():t.show:!1},L=m=>H.value.findIndex(t=>t.id===m),G=m=>{const t=L(m);t>0&&(u.value=H.value[t-1].id)},M=m=>{const f=L(m)+1;f<H.value.length?u.value=H.value[f].id:(u.value="",y())};return r({onSubmit:async()=>{const m=[{ref:E,name:"PresentingComplaints"},{ref:c,name:"LevelOfConsciousness"},{ref:O,name:"PastMedicalHistory"},{ref:p,name:"PregnancyBreastfeeding"},{ref:h,name:"PhysicalExamination"}];for(const t of m)if(t.ref.value&&typeof t.ref.value.onSubmit=="function")try{await t.ref.value.onSubmit()}catch(f){console.error("Error calling ".concat(t.name," onSubmit:"),f)}else console.log("".concat(t.name," component ref not available or no onSubmit method"))}}),(m,t)=>(l(),w(Q,null,[x.value?(l(),w("div",ds,[e(a(te),{lines:"none"},{default:s(()=>[e(a(le),null,{default:s(()=>[...t[14]||(t[14]=[N("Switch between Capture Mode and Summary Mode",-1)])]),_:1}),e(a(da),{checked:A.value,onIonChange:t[0]||(t[0]=f=>A.value=f.detail.checked),slot:"end"},null,8,["checked"])]),_:1}),A.value?v("",!0):(l(),C(ts,{key:_.value}))])):v("",!0),!x.value||A.value?(l(),C(a(ie),{key:1,style:{width:"100%"}},{default:s(()=>[e(a(Xe),{value:u.value,"onUpdate:value":t[13]||(t[13]=f=>u.value=f),ref:"accordionGroup",class:"previousView"},{default:s(()=>[q("loc")?(l(),C(a(ge),{key:0,value:"loc",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[15]||(t[15]=[N("Level of consciousness",-1)])]),_:1})]),_:1}),o("div",ms,[e(Ma,{"is-active":u.value==="loc",ref_key:"levelOfConsciousnessFormRef",ref:c,onDataSaved:y},null,8,["is-active"]),o("div",ps,[L("loc")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[1]||(t[1]=oe(f=>G("loc"),["stop"]))},{default:s(()=>[...t[16]||(t[16]=[N(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[2]||(t[2]=oe(f=>M("loc"),["stop"]))},{default:s(()=>[N(S(L("loc")<H.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),q("pc")?(l(),C(a(ge),{key:1,value:"pc",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[17]||(t[17]=[N("Presenting complaints",-1)])]),_:1})]),_:1}),o("div",vs,[e(an,{"is-active":u.value==="pc",onDataSaved:y,ref_key:"presentingComplaintsFormRef",ref:E},null,8,["is-active"]),o("div",fs,[L("pc")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[3]||(t[3]=oe(f=>G("pc"),["stop"]))},{default:s(()=>[...t[18]||(t[18]=[N(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[4]||(t[4]=oe(f=>M("pc"),["stop"]))},{default:s(()=>[N(S(L("pc")<H.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),q("pbs")?(l(),C(a(ge),{key:2,value:"pbs",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[19]||(t[19]=[N("Pregnancy and breastfeeding status",-1)])]),_:1})]),_:1}),o("div",_s,[e(ns,{"is-active":u.value==="pbs",ref_key:"pregnancyBreastfeedingFormRef",ref:p,onDataSaved:y},null,8,["is-active"]),o("div",hs,[L("pbs")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[5]||(t[5]=oe(f=>G("pbs"),["stop"]))},{default:s(()=>[...t[20]||(t[20]=[N(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[6]||(t[6]=oe(f=>M("pbs"),["stop"]))},{default:s(()=>[N(S(L("pbs")<H.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),q("pmh")?(l(),C(a(ge),{key:3,value:"pmh",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[21]||(t[21]=[N("Past medical history",-1)])]),_:1})]),_:1}),o("div",gs,[e(is,{"is-active":u.value==="pmh",ref_key:"pastMedicalHistoryFormRef",ref:O,onDataSaved:y},null,8,["is-active"]),o("div",ys,[L("pmh")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[7]||(t[7]=oe(f=>G("pmh"),["stop"]))},{default:s(()=>[...t[22]||(t[22]=[N(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[8]||(t[8]=oe(f=>M("pmh"),["stop"]))},{default:s(()=>[N(S(L("pmh")<H.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),q("al")?(l(),C(a(ge),{key:4,value:"al",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[23]||(t[23]=[N("Allergies",-1)])]),_:1})]),_:1}),o("div",bs,[e(Ua,{"is-active":u.value==="al",ref_key:"allergiesFormRef",ref:F,onDataSaved:y},null,8,["is-active"]),o("div",Ds,[L("al")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[9]||(t[9]=oe(f=>G("al"),["stop"]))},{default:s(()=>[...t[24]||(t[24]=[N(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[10]||(t[10]=oe(f=>M("al"),["stop"]))},{default:s(()=>[N(S(L("al")<H.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),q("pe")?(l(),C(a(ge),{key:5,value:"pe",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[25]||(t[25]=[N("Physical examination",-1)])]),_:1})]),_:1}),o("div",ws,[e(cs,{"is-active":u.value==="pe",ref_key:"physicalExaminationFormRef",ref:h,onDataSaved:y},null,8,["is-active"]),o("div",ks,[L("pe")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[11]||(t[11]=oe(f=>G("pe"),["stop"]))},{default:s(()=>[...t[26]||(t[26]=[N(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[12]||(t[12]=oe(f=>M("pe"),["stop"]))},{default:s(()=>[N(S(L("pe")<H.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0)]),_:1},8,["value"])]),_:1})):v("",!0)],64))}}),bo=ve(Cs,[["__scopeId","data-v-cb8d8ed7"]]),Ss={class:"allergies-section"},Is={class:"allergies-container"},Ps={class:"medication-section"},Es={class:"medication-content"},Os={key:0,class:"add-medication-form"},xs={class:"form-group"},As={class:"option-label"},Vs={key:0,class:"error-message"},Ns={class:"form-row"},$s={class:"form-group"},Hs={key:0,class:"error-message"},Ms={class:"form-group"},Ts={key:0,class:"error-message"},Rs={class:"form-group"},Ls={key:0,class:"error-message"},Fs={class:"action-buttons"},Us={class:"notes-section"},Bs={class:"notes-content"},qs={class:"notes-input-container"},Gs={class:"ion-padding",slot:"content"},Ws={class:"notes-timeline"},zs={class:"note-date"},js={class:"note-content"},Ys={class:"ion-padding",slot:"content"},Ks={class:"note-date"},Js={class:"note-content"},Xs=ae({watch:{},name:"xxxComponent"}),Qs=ae({...Xs,setup(i){const r=Ne,u=Ga,_=n(!1),k=n(!1),A=n(!0),$=n(0),V=n(""),y=n(!1),E=n(),c=n(!1),O=n(""),F=n(""),p=n(""),h=n(""),R=n(""),I=n(""),x="Add new medication",H=Oe(),q=St(),L=K(()=>q.selectedMedicalAllergiesList),G=K(()=>H.selectedMedicalDrugsList),M=K(()=>H.partialOPDdrugList),X=K(()=>H.nonPharmalogicalTherapyAndOtherNotes),m=["first","second","third"],t=n(),f=n(),B=n(),j=n(!1),de=n(!1),me=n("Show more notes"),Me=n(),Ge=n(),fe=n(),Pe=K(()=>H.editingDrugItem),Te=n("Select a route"),b=n(!1),P=n("Select frequency"),T=n(!1),ne=n("Select drug"),We=n(!1),Z=n(),ee=n(),_e=n(),Ve=n([]),xt=n([{concept_id:11797,name:"Buccal",concept_name_id:null,id:1769},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:6284},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:6285},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:6286},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:6295},{concept_id:3327,name:"Oral",concept_name_id:null,id:8686},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:8920},{concept_id:11792,name:"Rectally",concept_name_id:null,id:10785},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:12342},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:12344},{concept_id:11792,name:"Rectally",concept_name_id:null,id:14078},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:14079},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:14080},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:14081},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:14082},{concept_id:11797,name:"Buccal",concept_name_id:null,id:14083},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:14084},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:14085},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:14086}]),At=K(()=>Ve.value.length?Ve.value:xt.value);function Vt(g){Z.value=g}async function Nt(){return await Wa()}async function $t(g=5,d=1e3){let D=0;for(;D<g&&(Ve.value=await Nt(),!(Ve.value.length>0));)D++,await new Promise(U=>setTimeout(U,d));Ve.value.length===0&&console.warn("Failed to fetch route list after maximum retries.")}ke(async()=>{const g=new za,{previousDrugPrescriptions:d,previousClinicalNotes:D,previousDrugAllergies:U}=await g.getPatientEncounters();t.value=d,f.value=Object.entries(D)[0];const[,...W]=Object.entries(D);B.value=W,Me.value=Object.entries(U)[0];const[,...Y]=Object.entries(U);Ge.value=Y,await $t()}),pe(()=>F.value,async g=>{Lt()}),pe(()=>p.value,async g=>{et()});function Ht(){if(Ie.isEmpty(Z.value)==!0)return b.value=!0,!1;if(Ie.isEmpty(Z.value)==!1)return b.value=!1,!0}function Mt(){if(Ie.isEmpty(ee.value)==!0)return T.value=!0,!1;if(Ie.isEmpty(ee.value)==!1)return T.value=!1,!0}function Tt(){if(Ie.isEmpty(_e.value)==!0)return We.value=!0,!1;if(Ie.isEmpty(_e.value)==!1)return We.value=!1,!0}function Rt(){A.value=!A.value,_.value=!0,y.value=!1,c.value=!1}async function Lt(){return nt(F.value)?y.value=!1:(V.value="please enter a number",y.value=!0),y.value}async function et(){return nt(p.value)?c.value=!1:(E.value="please enter a number",c.value=!0),c.value}async function tt(){const g=await et(),d=Mt(),D=Tt(),U=Ht();return!g&&d==!0&&D==!0&&U==!0}function Ft(g){ee.value=g}async function at(){try{const g=()=>fe.value.dose_strength!=null&&fe.value.dose_strength?Math.trunc(fe.value.dose_strength):1;if(Pe.value!==null){if(!await tt()){De("Please enter correct data values",4e3);return}const D=He.getSessionDate(),U=st(D,parseInt(p.value));let W=!1;ze(fe.value)==!0&&(W=!0);const Y={drugName:O.value,dose:g(),frequency:ee.value.label,frequency_code:ee.value.code,duration:p.value,prescription:U,drug_id:I.value,units:R.value,route_concept_id:Z.value.concept_id,route_name:Z.value.name,highlightbackground:W},je=Oe();console.log(je.setSelectedMedicalDrugsList([Y])),je.editingDrugItem=null,A.value=!0}else{if(!await tt()){De("Please enter correct data values",4e3);return}Kt();const D=He.getSessionDate(),U=st(D,parseInt(p.value));let W=!1;ze(fe.value)==!0&&(W=!0);const Y={drugName:O.value,dose:g(),frequency:ee.value.label,frequency_code:ee.value.code,duration:p.value,prescription:U,drug_id:I.value,units:R.value,route_concept_id:Z.value.concept_id,route_name:Z.value.name,highlightbackground:W};Oe().setSelectedMedicalDrugsList([Y])}I.value="",O.value="",F.value="",ee.value=null,p.value="",h.value="",$.value++,_e.value=null,Z.value=null}catch(g){console.error("Error saving data:",g)}}async function Ut(g){const d=g,W=await Pa.getOfflineOPDDrugs({name:d,page:1,page_size:10});W.map(Y=>({label:Y.name,value:Y.name,other:Y})),H.setPartialOPDdrugList(W)}function ze(g){const d=[];return L.value.forEach(U=>{U.selected&&d.push(U.concept_id)}),Bt([g],d)==!0?(De("Client is allergic to the selected medication",4e6),!0):!1}function Bt(g,d){try{return g.some(D=>d.includes(D.concept_id))}catch(D){return!1}}function qt(g){g&&(O.value=g.name,I.value=g.drug_id,R.value=g.units,fe.value=g,ze(g))}function Gt(g){const d=G.value[g],D=Oe();D.removeDrugById(d.drug_id),D.editingDrugItem=d,I.value="",O.value="",F.value="",ee.value=null,p.value="",h.value="",_e.value=null,Z.value=null,I.value=d.drug_id,O.value=d.drugName,F.value=d.dose,ee.value={label:d.frequency,code:d.frequency_code},p.value=d.duration,h.value=d.prescription;const U=M.value.find(W=>W.name===d.drugName);U&&(_e.value=U),Z.value={concept_id:d.route_concept_id,name:d.route_name},A.value=!1,$.value++}function Wt(){if(Pe.value!==null){I.value="",O.value="",F.value="",ee.value=null,p.value="",h.value="",_e.value=null,Z.value=null;const g=Oe();g.setSelectedMedicalDrugsList([Pe.value]),g.editingDrugItem=null}A.value=!0,$.value++}function zt(g){G.value.splice(g,1),$.value++,De("you have removed a drug from list",6e3)}function jt(g){let d=g.target.value;Yt(d)}function Yt(g){Oe().setNonPharmalogicalTherapyAndOtherNotes(g)}function nt(g){return/^[0-9]+$/.test(g)}function st(g,d){const D=new Date(g);D.setDate(D.getDate()+d);const U=D.getFullYear(),W=String(D.getMonth()+1).padStart(2,"0"),Y=String(D.getDate()).padStart(2,"0");return"".concat(U,"-").concat(W,"-").concat(Y)}function Kt(){_.value=!1,k.value=!0,A.value=!0}function Jt(g){m.filter(D=>D!==g.detail.value);const d=g.detail.value;d!==void 0?d=="third"&&(me.value="Show less notes",de.value=!j.value):(me.value="Show more notes",de.value=!j.value)}function Xt(g){return g[1]}function Qt(g){(g.key==="Enter"||g.key==="ArrowDown")&&(g.preventDefault(),at())}const Ee=K(()=>[{showAddItemButton:!0,addItemButton:!0,name:Pe.value!==null?"Update":"ADD",fn:at},{showAddItemButton:!0,addItemButton:!0,name:"CANCEL",fn:Zt}]),Zt=async()=>{Ct(Ia,{class:"otherVitalsModal"},!0,{message:"Are you sure you want to cancel?"},{cancel:U=>{},confirm:async U=>{U.detail==!0&&Wt()}})};return(g,d)=>(l(),C(a(kt),null,{default:s(()=>[o("div",Ss,[o("div",Is,[e(Ot)])]),o("div",Ps,[e(a(te),{lines:"none",class:"section-header"},{default:s(()=>[e(a(Le),{icon:a(xe),class:"section-icon"},null,8,["icon"]),e(a(le),{class:"section-title",style:{"margin-top":"12px"}},{default:s(()=>[...d[9]||(d[9]=[N("Medication",-1)])]),_:1})]),_:1}),o("div",Es,[(l(),C(Ba,{_selectedMedicalDrugsList:G.value,onEditItem:Gt,onRemoveItem:zt,key:$.value,class:"medication-list"},null,8,["_selectedMedicalDrugsList"])),A.value?v("",!0):(l(),w("div",Os,[o("div",xs,[d[10]||(d[10]=o("label",{class:"input-label"},"Medication",-1)),e(a($e),{modelValue:_e.value,"onUpdate:modelValue":[d[0]||(d[0]=D=>_e.value=D),d[1]||(d[1]=D=>qt(D))],options:M.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select medication",label:"name","track-by":"drug_id",onSearchChange:d[2]||(d[2]=D=>Ut(D))},{option:s(D=>[o("div",As,S(D.option.name),1)]),_:1},8,["modelValue","options"]),We.value?(l(),w("div",Vs,S(ne.value),1)):v("",!0)]),o("div",Ns,[o("div",$s,[d[11]||(d[11]=o("label",{class:"input-label"},"Route",-1)),e(a($e),{modelValue:Z.value,"onUpdate:modelValue":[d[3]||(d[3]=D=>Z.value=D),d[4]||(d[4]=D=>Vt(D))],options:At.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select route",label:"name","track-by":"concept_id",disabled:!1},null,8,["modelValue","options"]),b.value?(l(),w("div",Hs,S(Te.value),1)):v("",!0)]),o("div",Ms,[d[12]||(d[12]=o("label",{class:"input-label"},"Frequency",-1)),e(a($e),{modelValue:ee.value,"onUpdate:modelValue":[d[5]||(d[5]=D=>ee.value=D),d[6]||(d[6]=D=>Ft(D))],options:a(u),searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select frequency",label:"label","track-by":"code"},null,8,["modelValue","options"]),T.value?(l(),w("div",Ts,S(P.value),1)):v("",!0)]),o("div",Rs,[d[13]||(d[13]=o("label",{class:"input-label"},"Duration (days)",-1)),e(a(ma),{modelValue:p.value,"onUpdate:modelValue":d[7]||(d[7]=D=>p.value=D),type:"number",inputmode:"numeric",pattern:"[0-9]*",fill:"outline",placeholder:"Enter duration",onKeydown:Qt},null,8,["modelValue"]),c.value?(l(),w("div",Ls,S(E.value),1)):v("",!0)])]),o("div",Fs,[Ee.value[0].addItemButton?(l(),C(we,{key:0,name:Ee.value[0].name,icon:a(Dt),"onClicked:btn":Ee.value[0].fn,class:"save-button"},null,8,["name","icon","onClicked:btn"])):v("",!0),Ee.value[1].addItemButton?(l(),C(we,{key:1,name:Ee.value[1].name,icon:a(wt),"onClicked:btn":Ee.value[1].fn,class:"cancel-button"},null,8,["name","icon","onClicked:btn"])):v("",!0)])])),A.value?(l(),C(we,{key:1,name:x,icon:a(Fe),fontWeight:"600","onClicked:btn":Rt,class:"add-new-button"},null,8,["icon"])):v("",!0)])]),o("div",Us,[e(a(te),{lines:"none",class:"section-header"},{default:s(()=>[e(a(Le),{icon:a(pa),class:"section-icon"},null,8,["icon"]),e(a(le),{class:"section-title"},{default:s(()=>[...d[14]||(d[14]=[N("Non-pharmacological therapy and other notes",-1)])]),_:1})]),_:1}),o("div",Bs,[e(qa,{class:"intervention-component"}),o("div",qs,[e(a(te),{class:"notes-input-item"},{default:s(()=>[e(a(Le),{slot:"start",icon:a(r).editPen,class:"edit-icon","aria-hidden":"true"},null,8,["icon"]),e(a(va),{modelValue:X.value,"onUpdate:modelValue":d[8]||(d[8]=D=>X.value=D),onIonInput:jt,placeholder:"Enter notes here...","auto-grow":!0,class:"notes-textarea",fill:"outline",style:{"--padding-start":"16px"}},null,8,["modelValue"])]),_:1})]),e(a(Xe),{ref:"accordionGroup",class:"previous-notes"},{default:s(()=>[e(a(ge),{value:"fourth","toggle-icon-slot":"start"},{default:s(()=>[e(a(te),{slot:"header",color:"light",class:"previous-notes-header"},{default:s(()=>[e(a(le),null,{default:s(()=>[...d[15]||(d[15]=[N("Previous visit notes",-1)])]),_:1})]),_:1}),o("div",Gs,[o("div",Ws,[g.index===1?(l(!0),w(Q,{key:0},ce(f.value,(D,U)=>(l(),w("div",{key:U,class:"note-entry"},[(l(!0),w(Q,null,ce(D,(W,Y)=>(l(),w("div",{key:Y},[o("div",zs,S(W.date),1),o("div",js,S(W.notes),1)]))),128))]))),128)):v("",!0),e(a(Xe),{onIonChange:Jt},{default:s(()=>[e(a(ge),{value:"third","toggle-icon-slot":"start"},{default:s(()=>[e(a(te),{slot:"header",color:"light",class:"show-more-header"},{default:s(()=>[e(a(le),{color:"primary"},{default:s(()=>[N(S(me.value),1)]),_:1})]),_:1}),o("div",Ys,[(l(!0),w(Q,null,ce(B.value,(D,U)=>(l(),w("div",{key:U,class:"note-entry"},[(l(!0),w(Q,null,ce(Xt(D),(W,Y)=>(l(),w("div",{key:Y},[o("div",Ks,S(W.date),1),o("div",Js,S(W.notes),1)]))),128))]))),128))])]),_:1})]),_:1})])])]),_:1})]),_:1},512)])])]),_:1}))}}),Do=ve(Qs,[["__scopeId","data-v-0c2a73b2"]]),Zs=ae({name:"xxxComponent"}),eo=ae({...Zs,emits:["dataSaved"],setup(i,{emit:r}){const u=n(),_=n("gurdian phone number");n(!0),n(!0);const k=n(!0),A=n(),$=n();ke(async()=>{Ge()});const V=[{placeHolder:{default:"Enter time of death if known"},property_name:"timeOfDeath",dataHandler:H,dataValue:n(),show_error:n(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time arrived"},property_name:"timeArrived",dataHandler:q,dataValue:n(),show_error:n(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time confirming death"},property_name:"timeOfDeathConfirmation",dataHandler:L,dataValue:n(),show_error:n(!1),error_message:"Time required",skip_validation:!1}],y=[{placeHolder:{default:"Enter date of death"},property_name:"dateOfDeath",dataHandler:G,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date arrived"},property_name:"dateArrived",dataHandler:M,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date confirming death"},property_name:"dateOfDeathConfirmation",dataHandler:X,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1}],E=[{lblTxt:"Was the individual pregnant at the time of death?",value:n(!1),disable_checkbox:n(!0)}],c=[{placeHolder:"Enter place of death",property_name:"placeOfDeath",dataHandler:m,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of guardian",property_name:"nameOfGuardian",dataHandler:t,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of person confirming death",property_name:"nameOfPersonConfirmindDeath",dataHandler:f,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter position of the person confirming death",property_name:"positionOfthePersonConfirmingDeath",dataHandler:B,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter medical council registration number of the person confirming death",property_name:"medicalConcilRegistrationNumberOfThePersonConfirmingDeath",dataHandler:j,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters and numbers are allowed",type:"alphanumeric",skip_validation:!1},{placeHolder:"Other (specify)",property_name:"otherNotes",dataHandler:de,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",dissabled:k.value,type:"text",skip_validation:!0}],O=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:fe},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:R}],F=n([{id:1,name:"Natural",selected:!1},{id:2,name:"Accident",selected:!1},{id:3,name:"Homicide",selected:!1},{id:4,name:"Suicide",selected:!1},{id:5,name:"Pending investigation",selected:!1},{id:6,name:"Could not be determined",selected:!1},{id:7,name:"Other - specify",selected:!1}]),p=n([{id:1,name:"Motor vehicle (passenger)",selected:!1},{id:2,name:"Motor vehicle (pedestrian)",selected:!1},{id:3,name:"Drowning",selected:!1},{id:4,name:"Other - specify",selected:!1}]),h=[{multi_Selection:!1,manner_of_death_Selection_value:n(),show_list_label:!0,unqueId:"qwerty",name_of_list:"Manner of death ",property_name:"mannerOfDeath",placeHolder:"Choose one",items:F.value,listUpdatedFN:me,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!1),show_error:n(!1),error_message:"selection required"},{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty1hjkn",name_of_list:"How did it occur?",property_name:"howDiditOccur",placeHolder:"Choose one",items:p.value,listUpdatedFN:Me,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!0),show_error:n(!1),error_message:"selection required"}];function R(){x()}const I=r;function x(b={dataSaved:!0}){I("dataSaved",b)}function H(b){V[0].dataValue.value=b}function q(b){V[1].dataValue.value=b}function L(b){V[2].dataValue.value=b}function G(b){const P={day:b.value.day,month:b.value.month,year:b.value.year,formattedDate:b.value.formattedDate};y[0].dataValue.value=P}function M(b){const P={day:b.value.day,month:b.value.month,year:b.value.year,formattedDate:b.value.formattedDate};y[1].dataValue.value=P,console.log(y[2].dataValue.value)}function X(b){const P={day:b.value.day,month:b.value.month,year:b.value.year,formattedDate:b.value.formattedDate};y[2].dataValue.value=P,console.log(y[2].dataValue.value)}function m(b){const P=b.target.value;c[0].dataValue.value=P}function t(b){const P=b.target.value;c[1].dataValue.value=P}function f(b){const P=b.target.value;c[2].dataValue.value=P}function B(b){const P=b.target.value;c[3].dataValue.value=P}function j(b){const P=b.target.value;c[4].dataValue.value=P}function de(b){const P=b.target.value;c[5].dataValue.value=P}function me(b){F.value.forEach(T=>T.selected=!1);const P=F.value.find(T=>T.id==b.id);h[1].disabled.value=b.name!="Accident",P.selected=!0}function Me(b){console.log("listUpdated",b),p.value.forEach(T=>T.selected=!1);const P=p.value.find(T=>T.id==b.id);P.selected=!0}function Ge(){const P=new It().isChildBearing;P==!0&&(E[0].disable_checkbox.value=!1),P==!1&&(E[0].disable_checkbox.value=!0)}function fe(){Ye(c),Ye(y),Ye(V),Pe();const b=Ie.merge(Ke(c),Ke(y),Ke(V),Te(h[0]),Te(h[1]));console.log(b)}function Pe(){const b=F.value.filter(P=>P.selected);if(b.length==0)h[0].show_error.value=!0;else if(h[0].show_error.value=!1,b[0].name=="Accident"){const P=p.value.filter(T=>T.selected);h[1].show_error.value=P.length==0}}function Te(b){const P=[];let T={};return b.items.forEach(ne=>{ne.selected==!0&&P.push({property_name:b.property_name,name:ne.name})}),P.length>0&&(T[P[0].property_name]=P[0].name),T}return(b,P)=>{const T=ue("ion-label");return l(),w(Q,null,[e(a(ie),{class:"checkbox_content md"},{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[0].placeHolder,icon:a(yt),inputValue:c[0].dataValue.value,"onUpdate:inputValue":c[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[0].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(c[0].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(gt,{place_holder:y[0].placeHolder,onDateUpDated:y[0].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),o("div",null,[y[0].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(y[0].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(ie),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Je,{place_holder:V[0].placeHolder,onTimeUpDated:V[0].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),o("div",null,[V[0].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(V[0].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z))]),_:1}),e(a(ie),{class:"checkbox_content md"},{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[1].placeHolder,icon:a(_t),inputValue:c[1].dataValue.value,"onUpdate:inputValue":c[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[1].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(c[1].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(a(fa),{value:E[0].value,alignment:"start",class:"ion-lblCls",disabled:E[0].disable_checkbox.value},{default:s(()=>[N(S(E[0].lblTxt),1)]),_:1},8,["value","disabled"])]),_:1})]),_:1}),e(a(ie),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:_.value,icon:a(_a),inputValue:u.value},null,8,["placeholder","icon","inputValue"])]),_:1}),e(a(z))]),_:1}),e(a(ie),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(gt,{place_holder:y[1].placeHolder,onDateUpDated:y[1].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),o("div",null,[y[1].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(y[1].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(Je,{place_holder:V[1].placeHolder,onTimeUpDated:V[1].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),o("div",null,[V[1].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(V[1].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(ie),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(a($e),{modelValue:A.value,"onUpdate:modelValue":[P[0]||(P[0]=ne=>A.value=ne),P[1]||(P[1]=ne=>me(ne))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Manner of death",placeholder:"Manner of death",selectLabel:"",label:"name",searchable:!0,"track-by":"id",options:F.value},null,8,["modelValue","options"]),o("div",null,[h[0].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(h[0].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(a($e),{modelValue:$.value,"onUpdate:modelValue":[P[2]||(P[2]=ne=>$.value=ne),P[3]||(P[3]=ne=>Me(ne))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"How did it occur?",placeholder:"How did it occur?",selectLabel:"",label:"name",disabled:h[1].disabled.value,searchable:!0,"track-by":"id",options:p.value},null,8,["modelValue","disabled","options"]),o("div",null,[h[1].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(h[1].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(ie),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[5].placeHolder,icon:a(ht),inputValue:c[5].dataValue.value,disabled:k.value,"onUpdate:inputValue":c[5].dataHandler},null,8,["placeholder","icon","inputValue","disabled","onUpdate:inputValue"]),o("div",null,[c[5].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(c[5].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(ie),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Je,{place_holder:V[2].placeHolder,onTimeUpDated:V[2].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),o("div",null,[V[2].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(V[2].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[2].placeHolder,icon:a(_t),inputValue:c[2].dataValue.value,"onUpdate:inputValue":c[2].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[2].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(c[2].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(ie),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[3].placeHolder,icon:a(xe),inputValue:c[3].dataValue.value,"onUpdate:inputValue":c[3].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[3].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(c[3].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[4].placeHolder,icon:a(ht),inputValue:c[4].dataValue.value,"onUpdate:inputValue":c[4].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[4].show_error.value?(l(),C(T,{key:0,class:"error-label"},{default:s(()=>[N(S(c[4].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),(l(),C(a(ie),{key:0,class:"spc_btwn"},{default:s(()=>[O[0].addItemButton?(l(),C(we,{key:0,name:O[0].name,fill:O[0].btnFill,icon:a(Dt),"onClicked:btn":O[0].fn},null,8,["name","fill","icon","onClicked:btn"])):v("",!0),O[1].addItemButton?(l(),C(we,{key:1,name:O[1].name,fill:O[1].btnFill,icon:a(wt),"onClicked:btn":O[1].fn},null,8,["name","fill","icon","onClicked:btn"])):v("",!0)]),_:1}))],64)}}}),to=ve(eo,[["__scopeId","data-v-0aad2f08"]]),ao={class:"dash_box"},no={key:1},so=ae({name:"xxxComponent"}),oo=ae({...so,setup(i){const r=n("No outcome created yet"),u=n(!1),_=n("please select a type"),k=n(!0),A=n(""),$=n(!0),V=n(!1),y=Ea(),E=K(()=>y.outcomes),c=n(!1),O=n(!1),F=n(!1),p=n(!1),h=n(!1),R=n(!1),I=n([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1},{name:"Send to Another Clinic",selected:!1}]),x=[{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty2",name_of_list:"Add new outcome",placeHolder:"Choose one",items:I.value,listUpdatedFN:H,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!1)}];function H(t){I.value=t,I.value.forEach(f=>{f.selected==!0&&(A.value=f.name)})}ke(async()=>{L()}),pe(()=>A.value,async t=>{c.value==!0?c.value=!1:X()}),pe(()=>E.value.length,async t=>{L()});function q(){I.value.forEach(t=>{t.selected=!1}),A.value=""}function L(){E.value.length>0?$.value=!1:E.value.length==0&&V.value==!1&&($.value=!0)}function G(t){E.value.splice(t,1)}const M=t=>{};async function X(t=!0){const f=A.value;console.log(f),A.value=f;const B=A.value;B==I.value[0].name?F.value=!0:F.value=!1,B==I.value[1].name?(p.value=!0,console.log("show_discharged_options is set to true")):p.value=!1,B==I.value[2].name?(h.value=!0,console.log("show_discharged_options is set to true")):h.value=!1,B==I.value[3].name?R.value=!0:R.value=!1}function m(){O.value=!1,F.value=!1,p.value=!1,h.value=!1,q()}return(t,f)=>{const B=ue("ion-row");return l(),C(a(kt),null,{default:s(()=>[e(B,null,{default:s(()=>[e(a(z),null,{default:s(()=>[(l(),C(ja,{key:0,"onUpdate:removeItem":G,"onUpdate:editItem":M,displayData:E.value},null,8,["displayData"]))]),_:1})]),_:1}),$.value?(l(),C(B,{key:0},{default:s(()=>[o("span",ao,S(r.value),1)]),_:1})):v("",!0),k.value?(l(),w("div",no,[e(B,null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Oa,{multiSelection:x[0].multi_Selection,show_label:x[0].show_list_label,uniqueId:x[0].unqueId,name_of_list:x[0].name_of_list,choose_place_holder:x[0].placeHolder,"items_-list":x[0].items,use_internal_filter:x[0].use_internal_filter,disabled:x[0].disabled.value,onItemListUpDated:x[0].listUpdatedFN,onItemListFiltered:x[0].listFilteredFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered"]),o("div",null,[u.value?(l(),C(a(le),{key:0,class:"error-label"},{default:s(()=>[N(S(_.value),1)]),_:1})):v("",!0)])]),_:1})]),_:1})])):v("",!0),F.value?(l(),C(Ya,{key:2,onDataSaved:m,selected_ward_prop:"",admitted_other_props:""})):v("",!0),p.value?(l(),C(Ka,{key:3,onDataSaved:m,selected_referral_data:"",selected_other_referral_data:""})):v("",!0),h.value?(l(),C(Ja,{key:4,onDataSaved:m,selected_discharged_prop:"",selected_discharged_data:""})):v("",!0),O.value?(l(),C(to,{key:5,onDataSaved:m})):v("",!0),R.value?(l(),C(Xa,{key:6,onDataSaved:m})):v("",!0)]),_:1})}}}),wo=ve(oo,[["__scopeId","data-v-fc637de7"]]);export{bo as C,wo as O,an as P,ns as _,cs as a,Do as b};
