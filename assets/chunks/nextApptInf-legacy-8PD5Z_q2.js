System.register(["./vendor-legacy-BPXifZFo.js","../index-legacy-BwUjfSRa.js","./vaccines_service-legacy-CgTlGL6-.js","./voidReason-legacy-ByLtLVAG.js","./sms_service-legacy-BeuXuxG3.js"],function(e,n){"use strict";var t,o,a,i,s,l,d,p,r,c,u,m,f,h,g,_,y,v,x,C,R,b,w,A,z,I,O,D,P,M,j;return{setters:[e=>{t=e.d,o=e.L,a=e.N,i=e.a5,s=e.a4,l=e.bm,d=e.aP,p=e.aS,r=e.R,c=e.db,u=e.c5,m=e.bG,f=e.aN,h=e.H,g=e.O,_=e.f,y=e.J,v=e.l,x=e.k,C=e.Q,R=e.K},e=>{b=e.m,w=e.P,A=e.u,z=e._},e=>{I=e.a,O=e.u,D=e.v,P=e.N},e=>{M=e.v},e=>{j=e.S}],execute:function(){var n=document.createElement("style");n.textContent=".divider[data-v-6257a72e]{margin-top:0;margin-bottom:0}.line[data-v-6257a72e]{height:1px;background-color:#ccc;width:100%}.actions[data-v-6257a72e]{margin-top:10px}.button-container[data-v-6257a72e]{display:flex;justify-content:flex-end;gap:10px}\n/*$vite$:1*/",document.head.appendChild(n);const k=t({name:"PersonCard",components:{IonCard:p,IonCardContent:d,IonGrid:l,IonRow:s,IonCol:i,IonButton:a,IonIcon:o},data:()=>({}),props:{person:{type:Object,required:!0}},setup:()=>({calendarOutline:f,trashOutline:m,personCircleOutline:u,eyeOutline:c}),methods:{handleReschedule(){this.openNextVaccineAppoinment(this.person.person_id,this.person.encounter_id)},handleRemove(){this.voidAppoinment()},openNextVaccineAppoinment(e,n){b(P,{class:"otherVitalsModal"},!1,{patient_Id:e,encounter_Id:n})},async openClientProfile(e){const n=await w.findByNpid(e);await A().setPatientRecord(n[0]),this.$router.push("patientProfile")},async voidAppoinment(){await this.openVoidModal()},async openVoidModal(){const e=await r.create({component:M,cssClass:"otherVitalsModal",componentProps:{}});e.onDidDismiss().then(async e=>{if(e&&e.data)try{await D(this.person.encounter_id,e.data.name),(await j.getConfigurations()).show_sms_popup?await this.smsmodal(this.person):this.setAppointmentMentsReload()}catch(n){this.setAppointmentMentsReload()}}),await e.present()},async setAppointmentMentsReload(){const e=O();e.setAppointmentsReload(!e.getAppointmentsReload())},async smsmodal(e){(await b(I,{componentProps:{patient:e.person_id,date:e.appointmentDate},class:"smsConfirmation"})).onDidDismiss().then(async e=>{this.setAppointmentMentsReload()})}}}),N={class:"button-container"};e("n",z(k,[["render",function(e,n,t,o,a,i){const s=h("ion-icon"),l=h("ion-button"),d=h("ion-col"),p=h("ion-row"),r=h("ion-grid"),c=h("ion-card-content"),u=h("ion-card");return _(),g(u,{style:{"margin-bottom":"10px"}},{default:y(()=>[v(c,{style:{padding:"2px"}},{default:y(()=>[v(l,{style:{position:"absolute",top:"10px",right:"10px","--padding-start":"8px","--padding-end":"8px","--padding-top":"4px","--padding-bottom":"4px","--box-shadow":"none"},onClick:n[0]||(n[0]=n=>e.openClientProfile(e.person.npid)),color:"primary",fill:"clear",size:"small"},{default:y(()=>[v(s,{icon:e.eyeOutline,style:{"font-size":"24px"}},null,8,["icon"])]),_:1}),v(r,null,{default:y(()=>[v(p,null,{default:y(()=>[v(d,{size:"6"},{default:y(()=>[n[1]||(n[1]=x("strong",null,"Name:",-1)),C(" "+R(e.person.name),1)]),_:1}),v(d,{size:"5"},{default:y(()=>[n[2]||(n[2]=x("strong",null,"Gender:",-1)),C(" "+R(e.person.gender),1)]),_:1})]),_:1}),v(p,null,{default:y(()=>[v(d,{size:"6"},{default:y(()=>[n[3]||(n[3]=x("strong",null,"Age/DOB:",-1)),C(" "+R(e.person.ageDob),1)]),_:1}),v(d,{size:"6"},{default:y(()=>[n[4]||(n[4]=x("strong",null,"Village:",-1)),C(" "+R(e.person.village),1)]),_:1})]),_:1}),v(p,null,{default:y(()=>[v(d,{size:"12"},{default:y(()=>[n[5]||(n[5]=x("strong",null,"Appointment Date:",-1)),C(" "+R(e.person.appointmentDate),1)]),_:1})]),_:1}),v(p,{class:"divider"},{default:y(()=>[v(d,{size:"12"},{default:y(()=>[...n[6]||(n[6]=[x("div",{class:"line"},null,-1)])]),_:1})]),_:1}),v(p,{class:"actions"},{default:y(()=>[v(d,{size:"12"},{default:y(()=>[x("div",N,[v(l,{onClick:e.handleReschedule,color:"primary",fill:"outline",size:"small"},{default:y(()=>[v(s,{icon:e.calendarOutline,slot:"start"},null,8,["icon"]),n[7]||(n[7]=C(" Reschedule ",-1))]),_:1},8,["onClick"]),v(l,{onClick:e.handleRemove,color:"danger",fill:"outline",size:"small"},{default:y(()=>[v(s,{icon:e.trashOutline,slot:"start"},null,8,["icon"]),n[8]||(n[8]=C(" Cancel ",-1))]),_:1},8,["onClick"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-6257a72e"]]))}}});
