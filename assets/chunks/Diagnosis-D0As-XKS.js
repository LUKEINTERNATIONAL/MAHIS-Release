import{_ as $,T}from"../index-CGP8Smqf.js";import{d as S,bl as P,e as g,f as u,m as w,k as e,l as _,j as B,u as b,J as y,Q as M,K as v,r as h,w as E,c as D,O as x,p as A,cy as j,f7 as F,D as W,bT as O,F as C,P as N,a3 as U,a6 as z}from"./vendor-Dp4LKYDn.js";import{N as H}from"./NeonatalStepper-CXS1yrkO.js";import{V as L}from"./VueMultiselectStaticList-CFtjR2fn.js";import{I as Y}from"./images-DJIykHYW.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-DnvKZynX.js";import"./SaveProgressModal-CKo0duHb.js";import"./enrollment-DU-PLRUa.js";const q={class:"multiselect-header-wrapper"},G={key:0,class:"question-header"},J={class:"selection-instruction"},K={class:"custom__tag"},Q=["onClick"],X=S({name:"VueMultiselectStyledMulti",components:{VueMultiselect:P},__name:"VueMultiselectStyledMulti",props:{options:{type:Array,required:!0,validator:t=>t.every(l=>"label"in l&&"value"in l)},modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:l}){const i=l,m=()=>{i("update:modelValue",[])};return(d,r)=>(u(),g("div",q,[d.$slots.header?(u(),g("div",G,[B(d.$slots,"header",{},void 0,!0)])):w("",!0),e("div",J,[r[1]||(r[1]=e("span",null,"Select one or more.",-1)),t.modelValue.length>0?(u(),g("button",{key:0,onClick:m,class:"clear-button",type:"button"}," Clear All ")):w("",!0)]),_(b(P),{"model-value":t.modelValue,"onUpdate:modelValue":r[0]||(r[0]=n=>i("update:modelValue",n)),options:t.options,"track-by":"value",label:"label",searchable:!0,multiple:!0,"close-on-select":!1,"hide-selected":!0,class:"default-multiselect-styling"},{tag:y(({option:n,remove:o})=>[e("span",K,[e("span",null,v(n.label),1),e("span",{class:"custom__remove",onClick:p=>o(n)},"âŒ",8,Q)])]),placeholder:y(()=>[...r[2]||(r[2]=[M(" Select the appropriate diagnosis... ",-1)])]),_:1},8,["model-value","options"])]))}}),Z=$(X,[["__scopeId","data-v-4628b659"]]),ee={class:"selected-diagnoses-list"},se={key:0,class:"empty-state"},te=["src"],ie={key:1,class:"rank-number"},ae={class:"item-label"},oe=["onClick","aria-label","title"],le=S({__name:"SelectedDiagnosisDisplay",props:{items:{default:()=>[]},isDifferential:{type:Boolean,default:!1},allowDragging:{type:Boolean,default:!1}},emits:["remove-item","update:items"],setup(t,{emit:l}){const i=t,m=l,d=h([]),r=h(null);E(()=>i.items,s=>{s?d.value=[...s]:d.value=[]},{immediate:!0});const n=D(()=>({animation:250,disabled:!i.allowDragging||!i.isDifferential,ghostClass:"ghost",dragClass:"dragging-element",forceFallback:!0,fallbackTolerance:5,touchStartThreshold:5,delay:0,delayOnTouchOnly:!0})),o=s=>i.allowDragging&&i.isDifferential,p=s=>{s.oldIndex!==void 0&&d.value[s.oldIndex]&&(r.value=d.value[s.oldIndex].value)},k=s=>{m("update:items",d.value),r.value=null},f=s=>{m("remove-item",s)};return(s,a)=>(u(),g("div",ee,[!t.items||t.items.length===0?(u(),g("div",se,[e("p",null,"No "+v(t.isDifferential?"differential":"working")+" diagnosis selected",1)])):(u(),x(b(F),j({key:1,modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=c=>d.value=c),"item-key":"value",handle:".drag-handle-wrapper",onStart:p,onEnd:k},n.value,{move:o}),{item:y(({element:c,index:I})=>[e("div",{class:A(["selected-item",{differential:t.isDifferential,"is-dragging":r.value===c.value,"draggable-enabled":t.allowDragging&&t.isDifferential}])},[t.allowDragging&&t.isDifferential?(u(),g("div",{key:0,class:A(["drag-handle-wrapper",{"is-active":r.value===c.value}]),title:"Drag to reorder"},[e("img",{src:b(Y).icons.dragIcon,alt:"Drag to reorder",class:"drag-icon"},null,8,te)],2)):w("",!0),t.isDifferential?(u(),g("span",ie,"#"+v(I+1),1)):w("",!0),e("span",ae,v(c.label),1),e("button",{onClick:Be=>f(c),class:"remove-button",type:"button","aria-label":"Remove "+c.label,title:"Remove "+c.label},[...a[1]||(a[1]=[e("span",{class:"trash-icon"},"ðŸ—‘ï¸",-1)])],8,oe)],2)]),_:1},16,["modelValue"]))]))}}),V=$(le,[["__scopeId","data-v-28d6b7a6"]]),R=W("diagnosisStore",{state:()=>({workingDiagnosis:null,differentialDiagnoses:[],diagnosisNotes:""}),actions:{setWorkingDiagnosis(t){this.workingDiagnosis=t},setDifferentialDiagnoses(t){this.differentialDiagnoses=t},addDifferentialDiagnosis(t){this.differentialDiagnoses.some(l=>l.value===t.value)||this.differentialDiagnoses.push(t)},removeDifferentialDiagnosis(t){this.differentialDiagnoses=this.differentialDiagnoses.filter(l=>l.value!==t.value)},setDiagnosisNotes(t){this.diagnosisNotes=t},resetDiagnosisData(){this.$reset(),console.log("Diagnosis Store Data has been reset.")}},persist:!0}),ne={class:"diagnosis-selection-panel"},re={class:"diagnosis-section"},de={class:"diagnosis-section"},ue=S({__name:"DiagnosisSelection",setup(t){const l=L,i=R(),m=[{label:"Hypoglycaemia (symptomatic)",value:"Hypo_S"},{label:"Abscess",value:"Abscess"},{label:"Fever",value:"Fever"},{label:"Birth Asphyxia",value:"Asphyxia"},{label:"Neonatal Sepsis (Early onset - Symptomatic)",value:"Sepsis_EoS"},{label:"Prematurity with Respiratory Distress",value:"Prem_RD"},{label:"Suspected Neonatal Sepsis",value:"Sepsis_Sus"},{label:"Possible Meconium Aspiration",value:"Meconium"}],d=D({get:()=>i.workingDiagnosis,set:f=>{i.setWorkingDiagnosis(f)}}),r=D(()=>i.workingDiagnosis?[i.workingDiagnosis]:[]),n=()=>{i.setWorkingDiagnosis(null)},o=D({get:()=>i.differentialDiagnoses,set:f=>{i.setDifferentialDiagnoses(f)}}),p=D(()=>i.differentialDiagnoses),k=f=>{i.removeDifferentialDiagnosis(f)};return(f,s)=>(u(),g("div",ne,[e("div",re,[s[3]||(s[3]=e("div",{class:"description-box"}," Select the diagnoses you think the baby has (you can select more than 1) ",-1)),s[4]||(s[4]=e("h3",{class:"diagnosis-section-title"},"Your Selected Working Diagnosis",-1)),_(V,{items:r.value,onRemoveItem:n},null,8,["items"]),(u(),x(O(b(l)),{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=a=>d.value=a),options:m,class:"multiselect-component"},{header:y(()=>[...s[2]||(s[2]=[M(" Primary Diagnosis (Select ONE) ",-1)])]),_:1},8,["modelValue"]))]),s[7]||(s[7]=e("hr",{class:"separator"},null,-1)),e("div",de,[s[6]||(s[6]=e("h3",{class:"diagnosis-section-title"},"Your Selected Differential Diagnosis",-1)),_(V,{items:p.value,"is-differential":!0,onRemoveItem:k},null,8,["items"]),_(Z,{modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=a=>o.value=a),options:m,class:"multiselect-component"},{header:y(()=>[...s[5]||(s[5]=[M(" Differential Diagnoses ",-1)])]),_:1},8,["modelValue"])])]))}}),ce=$(ue,[["__scopeId","data-v-b394e04e"]]),ge={class:"systems-suggestions-panel"},me={class:"diagnosis-section"},pe={class:"diagnosis-section"},fe={class:"suggested-diagnosis-section"},ve={class:"suggestion-content"},De={class:"suggestion-label"},_e={class:"suggestion-details"},ye=["onClick"],be={class:"rejected-diagnosis-section"},he={class:"rejected-content"},Se={class:"rejected-label"},ke={class:"rejected-details"},we=["onClick"],$e=S({__name:"SystemsSuggestions",setup(t){const l=R(),i=D(()=>l.workingDiagnosis?[l.workingDiagnosis]:[]),m=()=>{l.setWorkingDiagnosis(null)},d=D(()=>l.differentialDiagnoses),r=s=>{l.removeDifferentialDiagnosis(s)},n=s=>{l.setDifferentialDiagnoses(s)},o=h([{label:"Term with Respiratory Distress",value:"Term_RD",details:"Baby is term and showed one of the signs/risks of respiratory distress - this baby needs referral."},{label:"Mild Hypothermia",value:"Mild_Hypothermia",details:"Baby's temperature is recorded as 36 degrees up to 36. degrees."}]),p=h([]),k=s=>{o.value=o.value.filter(a=>a.value!==s.value),p.value.push(s)},f=s=>{p.value=p.value.filter(a=>a.value!==s.value),o.value.push(s)};return(s,a)=>(u(),g("div",ge,[e("div",me,[a[0]||(a[0]=e("h3",{class:"diagnosis-section-title"},"Your Selected Working Diagnosis",-1)),_(V,{items:i.value,"allow-dragging":!1,onRemoveItem:m},null,8,["items"])]),e("div",pe,[a[1]||(a[1]=e("h3",{class:"diagnosis-section-title"},"Your Selected Differential Diagnosis",-1)),_(V,{items:d.value,"is-differential":!0,"allow-dragging":!0,onRemoveItem:r,"onUpdate:items":n},null,8,["items"])]),a[6]||(a[6]=e("p",{class:"suggestion-instruction"}," Please consider the suggested diagnoses below and click on the suggestions you agree with. ",-1)),e("div",fe,[a[3]||(a[3]=e("h3",{class:"suggested-title"},"Suggested Diagnosis",-1)),(u(!0),g(C,null,N(o.value,c=>(u(),g("div",{key:c.value,class:"suggestion-item"},[e("div",ve,[e("p",De,v(c.label),1),e("p",_e,v(c.details),1)]),e("button",{onClick:I=>k(c),class:"suggestion-action-button reject-button"},[...a[2]||(a[2]=[e("span",{class:"cross-icon"},"âŒ",-1)])],8,ye)]))),128))]),e("div",be,[a[5]||(a[5]=e("h3",{class:"rejected-title"},"Rejected Diagnosis",-1)),(u(!0),g(C,null,N(p.value,c=>(u(),g("div",{key:c.value,class:"rejected-item"},[e("div",he,[e("p",Se,v(c.label),1),e("p",ke,v(c.details),1)]),e("button",{onClick:I=>f(c),class:"suggestion-action-button undo-button"},[...a[4]||(a[4]=[e("span",{class:"undo-icon"},"â†»",-1)])],8,we)]))),128))])]))}}),Ve=$($e,[["__scopeId","data-v-8874acbe"]]),Ie={class:"diagnosis-summary-panel"},Me={class:"summary-section"},Ce={class:"diagnosis-list"},Ne={class:"diagnosis-item primary-item"},xe={class:"summary-section"},Re={class:"diagnosis-list"},Pe={key:0,class:"no-data-item"},Ae=S({__name:"DiagnosisSummary",setup(t){const l=R(),i=D(()=>{var d;return((d=l.workingDiagnosis)==null?void 0:d.label)||"(None selected)"}),m=D(()=>l.differentialDiagnoses);return(d,r)=>(u(),g("div",Ie,[e("div",Me,[r[0]||(r[0]=e("h2",{class:"section-title"},"Primary Diagnosis",-1)),e("div",Ce,[e("p",Ne,v(i.value),1)])]),e("div",xe,[r[1]||(r[1]=e("h2",{class:"section-title"},"Differential Diagnosis",-1)),e("div",Re,[(u(!0),g(C,null,N(m.value,n=>(u(),g("p",{key:n.value,class:"diagnosis-item differential-item"},v(n.label),1))),128)),m.value.length?w("",!0):(u(),g("p",Pe," (None selected) "))])])]))}}),Te=$(Ae,[["__scopeId","data-v-60387580"]]),Ye=S({__name:"Diagnosis",setup(t){const l=h("1"),i=[{title:"Diagnosis",value:"1",component:ce},{title:"Systems Suggestions",value:"2",component:Ve},{title:"Summary",value:"3",component:Te}],m=h(i.map((n,o)=>({title:n.title,number:o+1,checked:!1,class:o===0?"open_step common_step":"common_step",last_step:o===i.length-1?"last_step":""}))),d=n=>{n&&n.value&&m.value.forEach((o,p)=>{n.value===(p+1).toString()?(o.class="open_step common_step",o.checked=!1):p<parseInt(n.value)-1?(o.class="common_step color_white",o.checked=!0):(o.class="common_step",o.checked=!1)})},r=n=>{const o=i.length-1;return n===o?()=>{}:()=>Promise.resolve()};return(n,o)=>(u(),x(b(z),{class:"neonatal-enrollment-page"},{default:y(()=>[_(T),_(b(U),{fullscreen:!0},{default:y(()=>[_(H,{wizardData:m.value,StepperData:i,stepperTitle:"General Examination",openStepper:l.value,backUrl:"/patientProfile",getSaveFunction:r,onUpdateStatus:d,"flow-type":"enrollment","show-componet-title":!0},null,8,["wizardData","openStepper"])]),_:1})]),_:1}))}});export{Ye as default};
