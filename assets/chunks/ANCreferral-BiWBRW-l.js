import{D as _,d as h,af as o,G as S,E as b,ag as g,ah as D,ae as R,a6 as I,I as C,ab as B,aU as A,bT as F,H as t,O as k,f as w,J as n,l as a}from"./vendor-BTebhqHt.js";import{D as y}from"./DemographicBar-U02Y7WZM.js";import{B as N,T,S as x,t as s,F as V,u as U,n as $,_ as O}from"../index-Bgj4Spg5.js";import{S as P,R as z}from"./Stepper-Ik18ChN2.js";import{b as L,c as W,f as E}from"./formatServerData-BoYpqMLB.js";import{R as H}from"./referral_service-6AjheOS0.js";import{B as G}from"./BasicFooter-BNPnxxLj.js";import{b as J}from"./NextAppointment-DUt0y5m6.js";import{_ as M}from"./SetEncounter.vue_vue_type_script_lang-Bffcz0wX.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-no8IW45T.js";import"./OPDOutcome-DzXy7my4.js";import"./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-DjxKO8Mw.js";import"./previousComplaints-C_h7tQYj.js";import"./patient_complaints_service-e6hgEl8p.js";import"./DashBox-Da22Pdhz.js";import"./drug_prescription_service-C2NREufZ.js";import"./nonPharmaTherapyStore-ikiojejh.js";import"./patient_diagnosis_service-BNZIyXgv.js";import"./Outcome-C0V07PpY.js";import"./wardsStore-Cr6vl_qK.js";import"./BasicForm-L1Fe7doK.js";import"./DateInputField-DkQBtt49.js";import"./VitalsMixin.vue_vue_type_script_lang-DQX87qhb.js";import"./TreatmentPlan-Du5oX7vA.js";import"./group_validation-CvqjV6cu.js";import"./ComplicationsStore-r8tmvgC8.js";import"./OPDDiagnosis-DHPVi2OJ.js";import"./MedicalHistory-ClIgIPxc.js";import"./ReasonForVisit.vue_vue_type_script_setup_true_lang-BrRKQfl4.js";import"./UpcomingFeature-Cx1Ersyp.js";import"./AbdominalExamination.vue_vue_type_script_setup_true_lang-B-Gz0i8P.js";import"./TB-Z5HRUL8K.js";import"./ClinicalCounselling-B-EF0eMn.js";import"./SaveProgressModal-KfKP-2Cq.js";import"./useLocation-CLP2Lqkf.js";import"./BasicCard-DS3OGd-l.js";import"./PastObstreticHistoryStore-Bk6pR5pi.js";import"./LabOrdersList-DwDu4u5h.js";import"./EnterLabResultsModal-yxh2f1uV.js";import"./useUserActivities-bqLkLFUN.js";import"./RadiologyStore-DsLwnxwp.js";import"./useFormWizard-Ccxlnnh2.js";import"./user_role_management-rkhra-Iw.js";import"./ncd_appointment_service-BbVOdlkc.js";const j={"Referral for urgent care":"value_text","Reason for referral":"value_text","Other reasons for referral":"value_text","Any treatment given before referral?":"value_text","Summary of current condition and treatment provided on referral?":"value_text","Provisional Diagnosis":"value_text","Location of referral":"value_text",Department:"value_text","Contact Person":"value_text","Accompanying Staff":"value_text","Transport Type":"value_text","Provider’s phone number":"value_text","Referral notes":"value_text"},i={"Referral for urgent care":"","Reason for referral":"","Other reasons for referral":"","Any treatment given before referral?":"","Summary of current condition and treatment provided on referral?":"","Provisional Diagnosis":"","Location of referral":"",Department:"","Contact Person":"","Accompanying Staff":"","Transport Type":[],"Provider’s phone number":"","Referral notes":""},q=_("referralStore",{state:()=>({formValues:{...i},obsValueType:{...j}}),actions:{setFormValues(e){this.formValues={...this.formValues,...e}},resetFormValues(){this.formValues={...i}}}}),K=h({name:"treatment",mixins:[J,M],components:{BasicFooter:G,IonContent:B,IonHeader:C,IonItem:I,IonPage:R,IonList:D,Toolbar:T,DemographicBar:y,IonMenu:g,IonTitle:b,IonToolbar:S,BasicInputField:N,Referral:z,Stepper:P},data(){return{iconsContent:$,isOpen:!0,wizardData:[{title:"ANC referral",class:"common_step",checked:!1,disabled:!1,number:1,last_step:"last_step"}],StepperData:[{title:"Referral details",component:"Referral",value:"1"}]}},setup(){return{chevronBackOutline:F,checkmark:A}},computed:{...o(U,["patient"]),...o(q,["referralInfo"])},methods:{markWizard(){},getSaveFunction(){},async saveData(){this.saveReferral(),this.$router.push("ANChome")},async saveReferral(){if(this.referralInfo.length>0){const e=x.getUserID(),r=new H(this.patient.patientID,e);if(!await r.createEncounter())return s("Unable to create ANC referral encounter");if(!await r.saveObservationList(await this.buildANCReferral()))return s("Unable to create referral details for ANC!");V("ANC referral details have been created")}console.log(await this.buildANCReferral())},async buildANCReferral(){return[...await L(this.referralInfo),...await W(this.referralInfo),...await E(this.referralInfo)]}}});function Q(e,r,p,l,X,Y){const m=t("Toolbar"),f=t("DemographicBar"),c=t("Stepper"),u=t("ion-content"),d=t("BasicFooter"),v=t("ion-page");return w(),k(v,null,{default:n(()=>[a(m),a(u,{fullscreen:!0},{default:n(()=>[a(f),a(c,{"stepper-title":"ANC referral",wizardData:e.wizardData,onUpdateStatus:e.markWizard,StepperData:e.StepperData,backUrl:e.userRoleSettings.url,backBtn:e.userRoleSettings.btnName,getSaveFunction:e.getSaveFunction},null,8,["wizardData","onUpdateStatus","StepperData","backUrl","backBtn","getSaveFunction"])]),_:1}),a(d,{onFinishBtn:r[0]||(r[0]=Z=>e.saveData())})]),_:1})}const Je=O(K,[["render",Q]]);export{Je as default};
