import{x as n,z as m,J as v,b as h,F as y,t as f}from"../index-DmWNBpr9.js";import{c,d as b,r as g,am as F,e as S,f as _,k as p,l as N,u as C,F as T}from"./vendor-Do41i3tR.js";function V(s={}){const{isSubsequentVisit:i=!1}=s,a=["None","Central cyanosis","Pre-term labour","Unconscious","Fever","Imminent delivery","Severe headache","Severe vomiting","Severe abdominal pain","Draining liquor","Respiratory problems","Convulsion history","Vomiting","Oedema","Epigastric pain","Bleeding vaginally","Sepsis","Pre-eclampsia","Puerperal Psychosis","Breast engorgement","Other","Seizures"].map(e=>e==="None"?{label:e,value:e,exclusive:!0}:{label:e,value:e}),r=["Abnormal vaginal discharge","Change in blood pressure-up","Diarrhoea","Vomiting","Genital ulcers","Change in blood pressure-down","Constipation","Contractions","Vaginal bleeding","Intimate partner violence","Flu symptoms","Painful urination","Headache","Dyspepsia","Frequent urination/Polyuria","Injury","Jaundice","Mental health-Depression","Genital warts","Itchy vulva","Painful intercourse","No health concerns","Other"].map(e=>({label:e,value:e})),o=c(()=>{const e=[{label:"Scheduled subsequent ANC visit",value:"Scheduled subsequent ANC visit"},{label:"Specific complaint related to antenatal care",value:"Specific complaint related to antenatal care"}];return i||e.unshift({label:"First antenatal care contact",value:"First antenatal care contact"}),e});return{reasonForVisitForm:c(()=>[{componentType:"radioButtonField",header:"Reason the woman came to the facility today",name:"Reason for visit",obsValueType:"value_text",type:"inline",validation:n.required,options:o.value},{componentType:"checkboxField",header:"What danger signs does the woman have?",name:"Danger signs present",type:"multiple",twoColumns:!0,obsValueType:"value_coded",options:a},{componentType:"inputField",header:"Specify the danger signs",name:"_Danger signs present",obsValueType:"value_text",type:"text",grid:{s:"12"},condition:e=>Array.isArray(e["Danger signs present"])&&e["Danger signs present"].includes("Other"),validation:n.required},{componentType:"radioButtonField",header:"Do you want to refer the woman?",name:"Referral required",obsValueType:"value_text",type:"standard",condition:e=>Array.isArray(e["Danger signs present"])&&e["Danger signs present"].length>0&&!e["Danger signs present"].includes("None"),validation:n.required,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"checkboxField",header:"What are the specific health concerns for the patient?",name:"Specific health concerns",type:"multiple",twoColumns:!0,obsValueType:"value_coded",options:r,condition:e=>e["Referral required"]==="No"},{componentType:"inputField",header:"Other (specify)",name:"_Specific health concerns",obsValueType:"value_text",type:"text",condition:e=>e["Referral required"]==="No"&&Array.isArray(e["Specific health concerns"])&&e["Specific health concerns"].includes("Other"),validation:n.required},{componentType:"radioButtonField",header:"Does the woman have any previous ANC visit/s done at any facility?",name:"Previous visit",obsValueType:"value_text",type:"standard",condition:e=>e["Referral required"]==="No",validation:n.required,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"inputField",header:"Enter number of previous ANC visits",name:"Number of previous visits",obsValueType:"value_numeric",type:"number",condition:e=>e["Referral required"]==="No"&&e["Previous visit"]==="Yes",validation:e=>n.isWholeNumber(e)}])}}const q={class:"custom-card"},x=b({__name:"ReasonForVisit",setup(s,{expose:i}){const a=g(null),r=F(),{reasonForVisitForm:o}=V();return i({onSubmit:async()=>{var t,l,u;const e=(t=a.value)==null?void 0:t.getFormValues();((l=a.value)==null?void 0:l.validateForm())==null?(await v.buildSaveObs(e,h.QUICK_CHECK)&&y("Reason for Visit saved successfully"),(u=a.value)==null||u.resetForm(),r.push("contact")):f("Please fix validation errors before submitting")}}),(e,t)=>(_(),S(T,null,[t[0]||(t[0]=p("h3",{class:"ion-text-center"},"Quick Check",-1)),p("div",q,[N(m,{"form-data":C(o),ref_key:"formRef",ref:a},null,8,["form-data"])])],64))}});export{x as _};
