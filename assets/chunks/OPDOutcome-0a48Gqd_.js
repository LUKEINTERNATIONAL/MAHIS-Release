import{d as ae,aU as Ae,r as n,c as K,a as ke,H as ie,e as D,f as l,l as e,m as v,O as C,J as s,k as o,u as a,_ as te,Q as $,F as Q,au as xe,ev as ea,ew as ta,ex as aa,ey as na,aF as yt,w as pe,aw as bt,bV as sa,P as ce,aN as oa,K as S,p as ot,bs as la,ah as ia,L as Ue,ez as lt,eA as it,bj as Le,be as rt,eB as ut,eC as ct,d8 as dt,eD as mt,eE as pt,eF as vt,dd as ft,bU as ra,ay as ua,c0 as ca,W as le,al as Je,ak as ge,N as se,br as oe,a4 as re,bk as $e,b1 as da,bm as Dt,a2 as wt,b_ as ma,bu as pa,aj as kt,a5 as z,c6 as _t,bv as va,dr as fa,e8 as ht}from"./vendor-BpjEhVym.js";import{bq as _a,l as Ve,aB as Re,aA as ha,b6 as ga,aC as ya,J as we,m as Ct,M as Se,S as He,af as ue,aX as X,t as De,G as Be,_ as ve,u as qe,H as Fe,aR as he,aS as St,bT as ba,bo as Da,bp as wa,b0 as ye,b2 as be,bU as ka,aU as Ca,P as It,aJ as Oe,aQ as Sa,K as Ia,B as Ce,aw as gt,an as Ye,ar as Ke,aL as Pa,aq as Ea}from"../index-CgDetJyr.js";import{e as Oa,a as xa,m as Aa,b as Na,v as Va,c as $a,_ as Ha}from"./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-w873tgsP.js";import{p as Ma}from"./previousComplaints-0GctF_A3.js";import{P as Ta}from"./patient_complaints_service-CJqXByQV.js";import{D as Ra}from"./DashBox-BfMREBnp.js";import{_ as Ua,A as La,D as Fa,a as Ba}from"./NextAppointment-CegtuGNu.js";import{B as Qe}from"./BasicForm-DI8tVd_D.js";import{f as Ze,c as Pt,a as Et}from"./formatServerData-CKCdj5H0.js";import{a as qa,b as Ga}from"./drug_prescription_service-DIv6Px4y.js";import{P as Wa}from"./nonPharmaTherapyStore-CafAQWXf.js";import{l as Ie}from"./lodash-NJiRuGo9.js";import{_ as Xe,D as za,A as ja,R as Ya,a as Ka,b as Xa}from"./usePatientProfile-BAl7o-gp.js";const Ja={key:0},Qa={style:{"align-content":"center"}},Za={class:"ion-padding",slot:"content"},en=ae({__name:"PresentingComplaints",setup(i,{expose:r}){const u=_a(),{presentingComplaints:f}=Ae(u),w=n(Ve),A=n(!0),H=n(!1),V=n(!1),g=n(!0),E=n(!1),c=n([]),O=n([]),F=n(),p=K(()=>[{componentType:"multiSelectInputField",header:"Presenting Complaints",name:"PresentingComplaints",trackBy:"concept_id",icon:Ve.search,hideSelected:!0,validation:m=>G(m==null?void 0:m.name,c.value)?"Presenting complaint already added":Re.required(m),options:O.value,grid:{s:"6"}},{componentType:"inputField",header:"Duration",name:"duration",icon:Ve.time,validation:m=>Re.isNotEmptyandNumber(m),grid:{s:"6"},unitOptions:[{label:"Hours",value:"Hours"},{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],unitValidation:m=>!m||m===""?"Please select a unit.":null},{componentType:"inputField",header:"Specify the presenting complaint(s)",name:"Other (specify)",icon:Ve.editPen,validation:m=>G(m,c.value)?"Presenting complaint already added":Re.required(m),condition:m=>{var t;return((t=m==null?void 0:m.PresentingComplaints)==null?void 0:t.name)==="Other"}},{componentType:"Alert",condition:m=>{var t;return Re.required((t=m==null?void 0:m.PresentingComplaints)==null?void 0:t.name)!=null},backgroundColor:"lightyellow",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}]),{formRef:_}=ha(),U=async()=>{Ct(Ua,{class:"fullScreenModal"})},I=async()=>{O.value=await Ta.getComplaintsList("Presenting complaint"),Se(f.value,"PresentingComplaints","multiSelectData",O.value)},x=()=>{A.value=!1,g.value=!1,V.value=!0},M=async()=>{var k,N;const m=(k=_.value)==null?void 0:k.getFormValues();((N=_.value)==null?void 0:N.validateForm())==null&&(q(m),V.value=!1,g.value=!0)},q=m=>{var j;const t=m.duration+" "+m.duration_unit,k=m.PresentingComplaints,N=k.name==="Other"?m["Other (specify)"]:k.name;c.value.push({actionBtn:!0,btn:["delete"],name:N,concept_id:k.concept_id,duration:k.duration,durationUnits:k.duration_unit,display:[N,t],data:[{concept_id:8578,value_coded:k.concept_id,obs_datetime:He.getSessionDate(),child:[{concept_id:k.concept_id,value_text:t,obs_datetime:He.getSessionDate()}]}]}),(j=_.value)==null||j.resetForm(),E.value=!0,L()},L=()=>{const m=["Cough","Convulsions"];H.value=c.value.some(t=>m.includes(t.name))},G=(m,t)=>t.some(k=>k.name===m),T=m=>{c.value=c.value.filter(t=>t.display[0]!==m.name)},J=async()=>{const m=await ue.getObsByEncounterIdAndDate(X.PRESENTING_COMPLAINTS),t=c.value.flatMap(k=>k.data);if(t.length<=0&&m.length<=0)return De("Presenting complaints is required");t.length<=0||(await ue.addObsToEncounterPatient(t,X.PRESENTING_COMPLAINTS),Be("Presenting complaints saved successful"),c.value=[])};return ke(async()=>{await I()}),r({onSubmit:J}),(m,t)=>{const k=ie("ion-row"),N=ie("ion-label"),j=ie("ion-accordion"),de=ie("ion-accordion-group");return l(),D(Q,null,[e(Ra,{status:A.value,content:"No presenting complaints added"},null,8,["status"]),E.value?(l(),D("span",Ja,[e(ga,{listData:c.value,"onClicked:delete":T},null,8,["listData"])])):v("",!0),V.value?(l(),C(k,{key:1},{default:s(()=>[e(ya,{formData:p.value,ref_key:"formRef",ref:_},null,8,["formData"]),o("div",Qa,[e(we,{fill:"clear",icon:w.value.plus,iconSlot:"icon-only","onClicked:btn":t[0]||(t[0]=me=>M()),name:"Save"},null,8,["icon"])])]),_:1})):v("",!0),g.value?(l(),C(k,{key:2,style:{"margin-top":"10px"}},{default:s(()=>[e(we,{fill:"clear",icon:w.value.plus,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=me=>x()),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):v("",!0),H.value?(l(),C(k,{key:3,class:"ion-float-right"},{default:s(()=>[e(we,{color:"danger","onClicked:btn":t[2]||(t[2]=me=>U()),name:"AHD Screening"})]),_:1})):v("",!0),e(k,null,{default:s(()=>[e(de,{ref_key:"accordionGroup",ref:F,class:"previousView"},{default:s(()=>[e(j,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(N,{class:"previousLabel"},{default:s(()=>[...t[3]||(t[3]=[$("Previous presenting complaints",-1)])]),_:1})]),_:1}),o("div",Za,[e(Ma)])]),_:1})]),_:1},512)]),_:1})],64)}}}),tn=ve(en,[["__scopeId","data-v-0aa2f61c"]]),an={class:"visit-section"},nn={class:"section-header"},sn={key:0,class:"no-data"},on={key:1,class:"allergy-accordion"},ln=["onClick"],rn={class:"acc-left"},un={class:"acc-title"},cn={class:"acc-count"},dn={key:0,class:"accordion-body"},mn={class:"item-label"},pn={class:"item-value"},vn=ae({__name:"AllergiesListing",setup(i){const r=qe(),{patient:u}=Ae(r),f=n({}),w={antiviral:/abacavir|lamivudine|lopinavir|ritonavir|zidovudine|efavirenz|tenofovir/i,antibiotic:/penicillin|amoxicillin|cephalexin|azithromycin|ciprofloxacin|doxycycline/i,analgesic:/aspirin|ibuprofen|acetaminophen|morphine|codeine|tramadol/i,cardiac:/metoprolol|lisinopril|amlodipine|atorvastatin|warfarin/i,activated:/activated\s+charcoal/i},A={985:{name:"Other",icon:xe,severity:"danger"},7759:{name:"Location/Environmental",icon:yt,severity:"info"},7579:{name:"Medical Condition",icon:na,severity:"warning"},drug:{name:"Drug Allergy",icon:xe,severity:"danger"},food:{name:"Food Allergy",icon:aa,severity:"danger"},environmental:{name:"Environmental",icon:ta,severity:"warning"},contact:{name:"Contact Allergy",icon:ea,severity:"warning"},unknown:{name:"Drug Allergy",icon:xe,severity:"danger"}},H=p=>{const _=p.toLowerCase();return w.antiviral.test(_)?{type:"Antiviral Medication",icon:"shield-outline"}:w.antibiotic.test(_)?{type:"Antibiotic",icon:"bandage-outline"}:w.analgesic.test(_)?{type:"Pain Medication",icon:"fitness-outline"}:w.cardiac.test(_)?{type:"Cardiac Medication",icon:"heart-outline"}:w.activated.test(_)?{type:"Detoxification Agent",icon:"flask-outline"}:{type:"Medication",icon:"medical-outline"}},V=K(()=>{var _,U,I,x,M,q;return[...(I=(U=(_=u.value)==null?void 0:_.allergies)==null?void 0:U.saved)!=null?I:[],...(q=(M=(x=u.value)==null?void 0:x.allergies)==null?void 0:M.unsaved)!=null?q:[]].length>0}),g=K(()=>{var I,x,M,q,L,G;const p=(M=(x=(I=u.value)==null?void 0:I.allergies)==null?void 0:x.saved)!=null?M:[],_=(G=(L=(q=u.value)==null?void 0:q.allergies)==null?void 0:L.unsaved)!=null?G:[],U=[...p,..._];return U.length===0?[]:U.map(T=>{var j;const J=((j=T.concept_id)==null?void 0:j.toString())||"unknown",m=A[J]||A.unknown;let t="Unknown",k=null;return T.value_text&&T.value_text!=="Unknown"&&T.value_text!==""?(t=T.value_text,(J==="985"||J==="985###")&&(k=H(T.value_text))):T.concept_name&&(t=T.concept_name),{...k?{...m,name:k.type,icon:k.icon}:m,displayValue:t,conceptId:T.concept_id,date:T.obs_datetime||T.encounter_datetime,providerId:T.provider_id,locationId:T.location_id,encounterId:T.encounter_id,isDrug:J==="985",raw:T}})}),E=K(()=>{const p={};g.value.forEach(I=>{const x=I.date?O(I.date):"Unknown Date";p[x]||(p[x]=[]),p[x].push(I)});const _={};return Object.keys(p).sort((I,x)=>I==="Unknown Date"?1:x==="Unknown Date"?-1:new Date(x).getTime()-new Date(I).getTime()).forEach(I=>{_[I]=p[I]}),_}),c=p=>{f.value[p]=!f.value[p]},O=p=>{if(!p)return"Unknown Date";try{return new Date(p).toISOString().split("T")[0]}catch(_){return"Unknown Date"}},F=p=>{if(p==="Unknown Date")return"Unknown Date";try{const _=new Date(p),U=Fe.sessionDate(),I=new Date(U),x=new Date(I);x.setDate(x.getDate()-1);const M=_.toDateString(),q=I.toDateString(),L=x.toDateString();return M===q?"Today":M===L?"Yesterday":_.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(_){return p}};return pe(()=>E.value,p=>{const _=Object.keys(p);_.length>0&&(f.value[_[0]]=!0)},{immediate:!0}),pe(()=>{var p;return(p=u.value)==null?void 0:p.allergies},p=>{console.log("Allergies updated:",p)},{deep:!0}),ke(()=>{var p;console.log("Allergies component mounted",(p=u.value)==null?void 0:p.allergies)}),(p,_)=>{const U=ie("ion-icon");return l(),D("div",an,[o("div",nn,[e(U,{icon:a(bt),class:"section-icon"},null,8,["icon"]),_[0]||(_[0]=o("h3",null,"Allergies",-1))]),V.value?(l(),D("div",on,[(l(!0),D(Q,null,ce(E.value,(I,x)=>(l(),D("div",{key:x,class:"accordion-section"},[o("div",{class:ot(["accordion-header",{open:f.value[x]}]),onClick:M=>c(x)},[o("div",rn,[e(U,{icon:a(oa),class:"acc-icon"},null,8,["icon"]),o("span",un,S(F(x)),1),o("span",cn,"("+S(I.length)+")",1)]),e(U,{icon:a(la),class:ot(["chevron",{rotate:f.value[x]}])},null,8,["icon","class"])],10,ln),f.value[x]?(l(),D("div",dn,[(l(!0),D(Q,null,ce(I,(M,q)=>(l(),D("div",{class:"allergy-item",key:q},[o("span",mn,S(M.name)+":",1),o("span",pn,S(M.displayValue),1)]))),128))])):v("",!0)]))),128))])):(l(),D("div",sn,[e(U,{icon:a(sa),class:"no-data-icon"},null,8,["icon"]),_[1]||(_[1]=o("p",null,"No known allergies",-1))]))])}}}),Ot=ve(vn,[["__scopeId","data-v-fa3ff98b"]]),fn=ae({name:"VisitHistory",components:{AllergiesListing:Ot,IonIcon:Ue},setup(){const i=St();return{selectedAllergiesList2:K(()=>i.selectedMedicalAllergiesList),alertCircleOutline:bt,documentTextOutline:ca,femaleOutline:ua,medicalOutline:xe,warningOutline:ra,bodyOutline:lt,eyeOutline:ft,nutritionOutline:vt,fitnessOutline:ct,pulseOutline:rt,earOutline:pt,happyOutline:mt,manOutline:dt,moveOutline:ut,addOutline:Le,scanOutline:it}},data(){return{presentingComplaintsWithDuration:[],pastMedicalHistory:[],levelOfConsciousness:{eyeResponse:null,verbalResponse:null,motorResponse:null},pregnancy:{patientPregnant:null,breastFeeding:null},physicalExamCategories:{Eyes:{icon:ft,abnormalities:[],normal:!1},Mouth:{icon:vt,abnormalities:[],normal:!1},Ears:{icon:pt,abnormalities:[],normal:!1},Face:{icon:mt,abnormalities:[],normal:!1},Neck:{icon:dt,abnormalities:[],normal:!1},Chest:{icon:ct,abnormalities:[],normal:!1},"Chest Movement":{icon:ut,abnormalities:[],normal:!1},"Heart Sounds":{icon:rt,abnormalities:[],normal:!1},"Breath Sounds":{icon:Le,abnormalities:[],normal:!1},"Added Breath Sounds":{icon:Le,abnormalities:[],normal:!1},"Abdominal Inspection":{icon:it,abnormalities:[],normal:!1},"Genital Examination":{icon:lt,abnormalities:[],normal:!1}}}},computed:{...ia(qe,["patient"]),hasLevelOfConsciousness(){return this.levelOfConsciousness.eyeResponse||this.levelOfConsciousness.verbalResponse||this.levelOfConsciousness.motorResponse},hasPresentingComplaints(){var i;return((i=this.presentingComplaintsWithDuration)==null?void 0:i.length)>0},hasPregnancyData(){return this.pregnancy.patientPregnant||this.pregnancy.breastFeeding},hasPastMedicalHistory(){var i;return((i=this.uniquePastMedicalHistory)==null?void 0:i.length)>0},hasAllergies(){var i,r;return((r=(i=this.selectedAllergiesList2)==null?void 0:i.filter(u=>u.selected))==null?void 0:r.length)>0},hasPhysicalExam(){return Object.values(this.physicalExamCategories).some(i=>i.abnormalities.length>0||i.normal)},uniquePastMedicalHistory(){return[...new Set(this.pastMedicalHistory)]},uniquePresentingComplaints(){return[...new Set(this.presentingComplaintsWithDuration.map(i=>i.name))]},isMinor(){var i,r;return Fe.getAgeInYears((r=(i=this.patient)==null?void 0:i.personInformation)==null?void 0:r.birthdate)<18},gcsScore(){var V,g,E;if(!this.hasLevelOfConsciousness)return null;const i=this.levelOfConsciousness.eyeResponse,r=this.levelOfConsciousness.motorResponse,u=this.levelOfConsciousness.verbalResponse,f=i&&(V=(this.isMinor?Oa:xa)[i])!=null?V:0,w=r&&(g=(this.isMinor?Aa:Na)[r])!=null?g:0,A=u&&(E=(this.isMinor?Va:$a)[u])!=null?E:0,H=f+w+A;return"(M ".concat(w," V ").concat(A," E ").concat(f,") ").concat(H,"/").concat(this.isMinor?5:15)}},methods:{async updateData(){var i;(i=this.patient)!=null&&i.patientID&&(await this.loadPresentingComplaints(),await this.loadPastMedicalHistory(),await this.loadLevelOfConsciousness(),await this.loadPregnancyStatus(),await this.loadPhysicalExam())},async loadPresentingComplaints(){try{const i=await ue.getObsByEncounterIdAndDate(X.PRESENTING_COMPLAINTS);this.presentingComplaintsWithDuration=[];const r=i.filter(u=>u.concept_name==="Presenting complaint");for(const u of r){const f=i.find(A=>A.concept_id===u.value_coded&&A.concept_name!=="Presenting complaint"),w=await he.getConceptName(u.value_coded);this.presentingComplaintsWithDuration.push({name:w,duration:(f==null?void 0:f.value_text)||"Duration not specified"})}}catch(i){console.error("Error loading presenting complaints:",i)}},async loadPastMedicalHistory(){try{const r=(await ue.getObsByEncounterIdAndDate(X.PAST_MEDICAL_HISTORY)).filter(u=>u.concept_name==="Chronic disease");this.pastMedicalHistory=await Promise.all(r.map(async u=>await he.getConceptName(u.value_coded)))}catch(i){console.error("Error loading past medical history:",i)}},async loadLevelOfConsciousness(){try{const i=await ue.getObsByEncounterIdAndDate(X.ASSESSMENT);if(i&&Array.isArray(i)){const r=i.find(w=>w.concept_name==="Eye opening response");this.levelOfConsciousness.eyeResponse=r!=null&&r.value_coded?await he.getConceptName(r.value_coded):null;const u=i.find(w=>w.concept_name==="Best verbal response");this.levelOfConsciousness.verbalResponse=u!=null&&u.value_coded?await he.getConceptName(u.value_coded):null;const f=i.find(w=>w.concept_name==="Best motor response");this.levelOfConsciousness.motorResponse=f!=null&&f.value_coded?await he.getConceptName(f.value_coded):null}}catch(i){console.error("Error loading level of consciousness:",i)}},async loadPregnancyStatus(){try{const i=await ue.getObsByEncounterIdAndDate(X.PREGNANCY_STATUS);if(i&&Array.isArray(i)){const r=i.find(f=>f.concept_name==="Patient pregnant");this.pregnancy.patientPregnant=r!=null&&r.value_coded?await he.getConceptName(r.value_coded):null;const u=i.find(f=>f.concept_name==="Is patient breast feeding?");this.pregnancy.breastFeeding=u!=null&&u.value_coded?await he.getConceptName(u.value_coded):null}}catch(i){console.error("Error loading pregnancy status:",i)}},async loadPhysicalExam(){try{const i=await ue.getObsByEncounterIdAndDate(X.PHYSICAL_EXAMINATION);Object.values(this.physicalExamCategories).forEach(r=>{r.abnormalities=[],r.normal=!1});for(const r of i)if(r.concept_id){if(r.value_coded===1065)switch(r.concept_id){case 10837:this.physicalExamCategories.Eyes.normal=!0;break;case 10842:this.physicalExamCategories.Mouth.normal=!0;break;case 11028:this.physicalExamCategories.Ears.normal=!0;break;case 10854:this.physicalExamCategories.Face.normal=!0;break;case 10858:this.physicalExamCategories.Neck.normal=!0;break;case 10894:this.physicalExamCategories.Chest.normal=!0;break;case 10903:this.physicalExamCategories["Heart Sounds"].normal=!0;break;case 10909:this.physicalExamCategories["Breath Sounds"].normal=!0;break;case 10919:case 10928:case 10939:this.physicalExamCategories["Abdominal Inspection"].normal=!0;break;case 10803:case 10946:this.physicalExamCategories["Genital Examination"].normal=!0;break}if(r.value_coded){const u=await he.getConceptName(r.value_coded);switch(r.concept_id){case 10838:this.physicalExamCategories.Eyes.abnormalities.push(u);break;case 10843:this.physicalExamCategories.Mouth.abnormalities.push(u);break;case 10852:this.physicalExamCategories.Ears.abnormalities.push(u);break;case 10855:this.physicalExamCategories.Face.abnormalities.push(u);break;case 10859:this.physicalExamCategories.Neck.abnormalities.push(u);break;case 10897:this.physicalExamCategories.Chest.abnormalities.push(u);break;case 10904:this.physicalExamCategories["Heart Sounds"].abnormalities.push(u);break;case 10910:this.physicalExamCategories["Breath Sounds"].abnormalities.push(u);break;case 10920:case 10929:case 10939:this.physicalExamCategories["Abdominal Inspection"].abnormalities.push(u);break;case 10797:case 10804:case 10947:this.physicalExamCategories["Genital Examination"].abnormalities.push(u);break}}}}catch(i){console.error("Error loading physical exam:",i)}}},watch:{patient:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()}}),_n={class:"visit-container"},hn={class:"visit-sections"},gn={key:0,class:"visit-section"},yn={class:"section-header"},bn={class:"section-content"},Dn={key:0,class:"info-item"},wn={class:"info-value"},kn={key:1,class:"info-item"},Cn={class:"info-value"},Sn={key:2,class:"info-item"},In={class:"info-value"},Pn={key:3,class:"info-item"},En={class:"info-value highlight"},On={key:1,class:"visit-section"},xn={class:"section-header"},An={class:"complaints-container"},Nn={class:"complaint-name"},Vn={class:"complaint-duration"},$n={key:2,class:"visit-section"},Hn={class:"section-header"},Mn={class:"section-content"},Tn={key:0,class:"info-item"},Rn={class:"info-value highlight"},Un={key:1,class:"info-item"},Ln={class:"info-value highlight"},Fn={key:3,class:"visit-section"},Bn={class:"section-header"},qn={class:"tags-container"},Gn={class:"allergies-section"},Wn={class:"allergies-container"},zn={key:4,class:"visit-section"},jn={class:"section-header"},Yn={class:"exam-section"},Kn={key:0,class:"exam-category"},Xn={class:"exam-category-header"},Jn={class:"exam-items"},Qn={key:1,class:"exam-item normal"};function Zn(i,r,u,f,w,A){const H=ie("ion-icon"),V=ie("AllergiesListing");return l(),D("div",_n,[r[11]||(r[11]=o("div",{class:"visit-header"},[o("h5",null,"Patient's Clinical Assessment Summary")],-1)),o("div",hn,[i.hasLevelOfConsciousness?(l(),D("div",gn,[o("div",yn,[e(H,{icon:i.alertCircleOutline,class:"section-icon"},null,8,["icon"]),r[0]||(r[0]=o("h3",null,"Level of Consciousness",-1))]),o("div",bn,[i.levelOfConsciousness.eyeResponse?(l(),D("div",Dn,[r[1]||(r[1]=o("span",{class:"info-label"},"Eye Response:",-1)),o("span",wn,S(i.levelOfConsciousness.eyeResponse),1)])):v("",!0),i.levelOfConsciousness.verbalResponse?(l(),D("div",kn,[r[2]||(r[2]=o("span",{class:"info-label"},"Verbal Response:",-1)),o("span",Cn,S(i.levelOfConsciousness.verbalResponse),1)])):v("",!0),i.levelOfConsciousness.motorResponse?(l(),D("div",Sn,[r[3]||(r[3]=o("span",{class:"info-label"},"Motor Response:",-1)),o("span",In,S(i.levelOfConsciousness.motorResponse),1)])):v("",!0),i.gcsScore?(l(),D("div",Pn,[r[4]||(r[4]=o("span",{class:"info-label"},"Score:",-1)),o("span",En,S(i.gcsScore),1)])):v("",!0)])])):v("",!0),i.hasPresentingComplaints?(l(),D("div",On,[o("div",xn,[e(H,{icon:i.documentTextOutline,class:"section-icon"},null,8,["icon"]),r[5]||(r[5]=o("h3",null,"Presenting Complaints",-1))]),o("div",An,[(l(!0),D(Q,null,ce(i.presentingComplaintsWithDuration,(g,E)=>(l(),D("div",{class:"complaint-item",key:E},[o("div",Nn,S(g.name),1),o("div",Vn,S(g.duration),1)]))),128))])])):v("",!0),i.hasPregnancyData?(l(),D("div",$n,[o("div",Hn,[e(H,{icon:i.femaleOutline,class:"section-icon"},null,8,["icon"]),r[6]||(r[6]=o("h3",null,"Pregnancy Status",-1))]),o("div",Mn,[i.pregnancy.patientPregnant?(l(),D("div",Tn,[r[7]||(r[7]=o("span",{class:"info-label"},"Pregnant:",-1)),o("span",Rn,S(i.pregnancy.patientPregnant),1)])):v("",!0),i.pregnancy.breastFeeding?(l(),D("div",Un,[r[8]||(r[8]=o("span",{class:"info-label"},"Breastfeeding:",-1)),o("span",Ln,S(i.pregnancy.breastFeeding),1)])):v("",!0)])])):v("",!0),i.hasPastMedicalHistory?(l(),D("div",Fn,[o("div",Bn,[e(H,{icon:i.medicalOutline,class:"section-icon"},null,8,["icon"]),r[9]||(r[9]=o("h3",null,"Medical History",-1))]),o("div",qn,[(l(!0),D(Q,null,ce(i.uniquePastMedicalHistory,(g,E)=>(l(),D("div",{class:"medical-tag",key:E},S(g),1))),128))])])):v("",!0),o("div",Gn,[o("div",Wn,[e(V)])]),i.hasPhysicalExam?(l(),D("div",zn,[o("div",jn,[e(H,{icon:i.bodyOutline,class:"section-icon"},null,8,["icon"]),r[10]||(r[10]=o("h3",null,"Physical Examination",-1))]),o("div",Yn,[(l(!0),D(Q,null,ce(i.physicalExamCategories,(g,E)=>(l(),D(Q,{key:E},[g.abnormalities.length>0||g.normal?(l(),D("div",Kn,[o("div",Xn,[e(H,{icon:g.icon},null,8,["icon"]),o("h4",null,S(E),1)]),o("div",Jn,[g.abnormalities.length>0?(l(!0),D(Q,{key:0},ce(g.abnormalities,(c,O)=>(l(),D("div",{class:"exam-item abnormal",key:O},S(c),1))),128)):g.normal?(l(),D("div",Qn," Normal examination ")):v("",!0)])])):v("",!0)],64))),128))])])):v("",!0)])])}const es=ve(fn,[["render",Zn],["__scopeId","data-v-795e1865"]]),ts={class:"modal_wrapper"},as=ae({__name:"PregnancyBreastfeeding",setup(i,{expose:r}){const u=ba(),{pregnancy:f}=Ae(u),w=()=>{};return r({onSubmit:async()=>{const H=await Ze(f.value);H.length>0?(await ue.addObsToEncounterPatient(H,X.PREGNANCY_STATUS),Be("Pregnancy status saved successfully")):De("No pregnancy status data to save ")}}),(H,V)=>(l(),D("div",ts,[e(Qe,{contentData:a(f),"onUpdate:inputValue":w},null,8,["contentData"])]))}}),ns={class:"modal_wrapper"},ss={class:"uniform_columns"},os=ae({__name:"PastMedicalHistory",setup(i,{expose:r}){const u=Da(),{pastMedicalHistory:f}=Ae(u),w=n([]);ke(()=>{w.value=u.getInitial(),A()}),pe(f,()=>{A()},{deep:!0});const A=()=>{var c;const E=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];(c=wa(f.value,"None"))!=null&&c.checked?E.forEach(O=>{ye(f.value,"TB treatment","displayNone",!0),Se(f.value,"TB drugs","displayNone",!0),Se(f.value,"TB drug start date","displayNone",!0),ye(f.value,"Hypertension medication","displayNone",!0),Se(f.value,"Current hypertension treatment regimen","displayNone",!0),ye(f.value,"HIV status","displayNone",!0),Se(f.value,"ARV start date","displayNone",!0),ye(f.value,"Diabetes","displayNone",!0),ye(f.value,"Controlled by","displayNone",!0),be(f.value,O,"checked",!1),be(f.value,O,"disabled",!0)}):E.forEach(O=>{be(f.value,O,"disabled",!1)})},H=E=>{Se(f.value,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine 'O' (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),Se(f.value,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})},V=async()=>[...await Pt(f.value),...await Ze(f.value),...await Et(f.value)];return r({onSubmit:async()=>{const E=await V();if(E.length===0){De("No past medical history data to save");return}await ue.addObsToEncounterPatient(E,X.PAST_MEDICAL_HISTORY),Be("Past medical history saved successful")}}),(E,c)=>(l(),D("div",ns,[o("div",ss,[e(Qe,{contentData:a(f),initialData:w.value,"onUpdate:inputValue":H,"onUpdate:selected":H},null,8,["contentData","initialData"])])]))}}),ls=ve(os,[["__scopeId","data-v-49fdce72"]]),is={class:"container"},rs=ae({__name:"PhysicalExamination",setup(i,{expose:r}){const u=ka(),f=qe(),{physicalExam:w}=Ae(u),{patient:A}=Ae(f),H=n([]);ke(()=>{H.value=u.getInitial(),V(),g()}),pe(w,()=>{V(),g()},{deep:!0});const V=()=>{Ca(w.value,"Physical examination")=="No"?ye(w.value,"Reason why physical examination not done","displayNone",!1):(ye(w.value,"Reason why physical examination not done","displayNone",!0),ye(w.value,"Reason why physical examination not done","selectedValue",""))},g=()=>{var F,p;const O=(p=(F=A.value)==null?void 0:F.personInformation)==null?void 0:p.gender;O=="M"&&(be(w.value,"Vulva examination","disabled",!0),be(w.value,"Visible bleeding","disabled",!0)),O=="F"&&(be(w.value,"Urethral meatus abnormal","disabled",!0),be(w.value,"Scrotal swelling","disabled",!0),be(w.value,"Tastes swelling","disabled",!0))},E=async()=>[...await Pt(w.value),...await Ze(w.value),...await Et(w.value)];return r({onSubmit:async()=>{const O=await E();if(console.log("Selected physical data is",O),O.length===0){De("No physical examination data to save");return}await ue.addObsToEncounterPatient(O,X.PHYSICAL_EXAMINATION),Be("Physical examination saved successful")}}),(O,F)=>{const p=ie("ion-card-content"),_=ie("ion-card");return l(),D("div",is,[e(_,{class:"section"},{default:s(()=>[e(p,null,{default:s(()=>[e(Qe,{contentData:a(w),initialData:H.value},null,8,["contentData","initialData"])]),_:1})]),_:1})])}}}),us=ve(rs,[["__scopeId","data-v-f45150df"]]),cs={key:0},ds={class:"ion-padding",slot:"content"},ms={class:"nav-buttons"},ps={class:"ion-padding",slot:"content"},vs={class:"nav-buttons"},fs={class:"ion-padding",slot:"content"},_s={class:"nav-buttons"},hs={class:"ion-padding",slot:"content"},gs={class:"nav-buttons"},ys={class:"ion-padding",slot:"content"},bs={class:"nav-buttons"},Ds={class:"ion-padding",slot:"content"},ws={class:"nav-buttons"},ks=ae({__name:"ClinicalAssessment",setup(i,{expose:r}){const u=n("loc"),f=n(0),w=n(!1),A=n(!1),H=new It,V=qe(),g=()=>{f.value++},E=n(null),c=n(null),O=n(null),F=n(null),p=n(null),_=n(null),U=[{id:"loc",label:"Level of consciousness",show:!0},{id:"pc",label:"Presenting complaints",show:!0},{id:"pbs",label:"Pregnancy and breastfeeding status",show:()=>H.isChildBearing()},{id:"pmh",label:"Past medical history",show:!0},{id:"al",label:"Allergies",show:!0},{id:"pe",label:"Physical examination",show:!0}];async function I(){const m=He.getSessionDate(),t=[X.ASSESSMENT,X.PRESENTING_COMPLAINTS,X.PAST_MEDICAL_HISTORY,X.PHYSICAL_EXAMINATION,X.PREGNANCY_STATUS];let k=!1;for(const N of t)try{const j=await ue.getObsByEncounterIdAndDate(N);if(j&&j.some(de=>de.obs_datetime?Fe.toStandardHisFormat(de.obs_datetime)===Fe.toStandardHisFormat(m):!1)){k=!0;break}}catch(j){console.error("Error checking observations for encounter type ".concat(N,":"),j)}w.value=k}ke(I),pe(()=>V.patient,I);const x=K(()=>w.value),M=K(()=>U.filter(m=>typeof m.show=="function"?m.show():m.show)),q=m=>{const t=U.find(k=>k.id===m);return t?typeof t.show=="function"?t.show():t.show:!1},L=m=>M.value.findIndex(t=>t.id===m),G=m=>{const t=L(m);t>0&&(u.value=M.value[t-1].id)},T=m=>{const k=L(m)+1;k<M.value.length?u.value=M.value[k].id:(u.value="",g())};return r({onSubmit:async()=>{const m=[{ref:E,name:"PresentingComplaints"},{ref:c,name:"LevelOfConsciousness"},{ref:O,name:"PastMedicalHistory"},{ref:p,name:"PregnancyBreastfeeding"},{ref:_,name:"PhysicalExamination"}];for(const t of m)if(t.ref.value&&typeof t.ref.value.onSubmit=="function")try{await t.ref.value.onSubmit()}catch(k){console.error("Error calling ".concat(t.name," onSubmit:"),k)}else console.log("".concat(t.name," component ref not available or no onSubmit method"))}}),(m,t)=>{const k=ie("ion-toggle");return l(),D(Q,null,[x.value?(l(),D("div",cs,[e(a(te),{lines:"none"},{default:s(()=>[e(a(le),null,{default:s(()=>[...t[14]||(t[14]=[$("Switch between Capture Mode and Summary Mode",-1)])]),_:1}),e(k,{checked:A.value,onIonChange:t[0]||(t[0]=N=>A.value=N.detail.checked),slot:"end"},null,8,["checked"])]),_:1}),A.value?v("",!0):(l(),C(es,{key:f.value}))])):v("",!0),!x.value||A.value?(l(),C(a(re),{key:1,style:{width:"100%"}},{default:s(()=>[e(a(Je),{value:u.value,"onUpdate:value":t[13]||(t[13]=N=>u.value=N),ref:"accordionGroup",class:"previousView"},{default:s(()=>[q("loc")?(l(),C(a(ge),{key:0,value:"loc",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[15]||(t[15]=[$("Level of consciousness",-1)])]),_:1})]),_:1}),o("div",ds,[e(Ha,{"is-active":u.value==="loc",ref_key:"levelOfConsciousnessFormRef",ref:c,onDataSaved:g},null,8,["is-active"]),o("div",ms,[L("loc")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[1]||(t[1]=oe(N=>G("loc"),["stop"]))},{default:s(()=>[...t[16]||(t[16]=[$(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[2]||(t[2]=oe(N=>T("loc"),["stop"]))},{default:s(()=>[$(S(L("loc")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),q("pc")?(l(),C(a(ge),{key:1,value:"pc",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[17]||(t[17]=[$("Presenting complaints",-1)])]),_:1})]),_:1}),o("div",ps,[e(tn,{"is-active":u.value==="pc",onDataSaved:g,ref_key:"presentingComplaintsFormRef",ref:E},null,8,["is-active"]),o("div",vs,[L("pc")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[3]||(t[3]=oe(N=>G("pc"),["stop"]))},{default:s(()=>[...t[18]||(t[18]=[$(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[4]||(t[4]=oe(N=>T("pc"),["stop"]))},{default:s(()=>[$(S(L("pc")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),q("pbs")?(l(),C(a(ge),{key:2,value:"pbs",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[19]||(t[19]=[$("Pregnancy and breastfeeding status",-1)])]),_:1})]),_:1}),o("div",fs,[e(as,{"is-active":u.value==="pbs",ref_key:"pregnancyBreastfeedingFormRef",ref:p,onDataSaved:g},null,8,["is-active"]),o("div",_s,[L("pbs")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[5]||(t[5]=oe(N=>G("pbs"),["stop"]))},{default:s(()=>[...t[20]||(t[20]=[$(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[6]||(t[6]=oe(N=>T("pbs"),["stop"]))},{default:s(()=>[$(S(L("pbs")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),q("pmh")?(l(),C(a(ge),{key:3,value:"pmh",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[21]||(t[21]=[$("Past medical history",-1)])]),_:1})]),_:1}),o("div",hs,[e(ls,{"is-active":u.value==="pmh",ref_key:"pastMedicalHistoryFormRef",ref:O,onDataSaved:g},null,8,["is-active"]),o("div",gs,[L("pmh")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[7]||(t[7]=oe(N=>G("pmh"),["stop"]))},{default:s(()=>[...t[22]||(t[22]=[$(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[8]||(t[8]=oe(N=>T("pmh"),["stop"]))},{default:s(()=>[$(S(L("pmh")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),q("al")?(l(),C(a(ge),{key:4,value:"al",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[23]||(t[23]=[$("Allergies",-1)])]),_:1})]),_:1}),o("div",ys,[e(La,{"is-active":u.value==="al",ref_key:"allergiesFormRef",ref:F,onDataSaved:g},null,8,["is-active"]),o("div",bs,[L("al")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[9]||(t[9]=oe(N=>G("al"),["stop"]))},{default:s(()=>[...t[24]||(t[24]=[$(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[10]||(t[10]=oe(N=>T("al"),["stop"]))},{default:s(()=>[$(S(L("al")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),q("pe")?(l(),C(a(ge),{key:5,value:"pe",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(le),{class:"previousLabel"},{default:s(()=>[...t[25]||(t[25]=[$("Physical examination",-1)])]),_:1})]),_:1}),o("div",Ds,[e(us,{"is-active":u.value==="pe",ref_key:"physicalExaminationFormRef",ref:_,onDataSaved:g},null,8,["is-active"]),o("div",ws,[L("pe")>0?(l(),C(a(se),{key:0,fill:"outline",onClick:t[11]||(t[11]=oe(N=>G("pe"),["stop"]))},{default:s(()=>[...t[26]||(t[26]=[$(" Back ",-1)])]),_:1})):v("",!0),e(a(se),{fill:"outline",onClick:t[12]||(t[12]=oe(N=>T("pe"),["stop"]))},{default:s(()=>[$(S(L("pe")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0)]),_:1},8,["value"])]),_:1})):v("",!0)],64)}}}),yo=ve(ks,[["__scopeId","data-v-597092a6"]]),Cs={class:"allergies-section"},Ss={class:"allergies-container"},Is={class:"medication-section"},Ps={class:"medication-content"},Es={key:0,class:"add-medication-form"},Os={class:"form-group"},xs={class:"option-label"},As={key:0,class:"error-message"},Ns={class:"form-row"},Vs={class:"form-group"},$s={key:0,class:"error-message"},Hs={class:"form-group"},Ms={key:0,class:"error-message"},Ts={class:"form-group"},Rs={key:0,class:"error-message"},Us={class:"action-buttons"},Ls={class:"notes-section"},Fs={class:"notes-content"},Bs={class:"notes-input-container"},qs={class:"ion-padding",slot:"content"},Gs={class:"notes-timeline"},Ws={class:"note-date"},zs={class:"note-content"},js={class:"ion-padding",slot:"content"},Ys={class:"note-date"},Ks={class:"note-content"},Xs=ae({watch:{},name:"xxxComponent"}),Js=ae({...Xs,setup(i){const r=Ve,u=qa,f=n(!1),w=n(!1),A=n(!0),H=n(0),V=n(""),g=n(!1),E=n(),c=n(!1),O=n(""),F=n(""),p=n(""),_=n(""),U=n(""),I=n(""),x="Add new medication",M=Oe(),q=St(),L=K(()=>q.selectedMedicalAllergiesList),G=K(()=>M.selectedMedicalDrugsList),T=K(()=>M.partialOPDdrugList),J=K(()=>M.nonPharmalogicalTherapyAndOtherNotes),m=["first","second","third"],t=n(),k=n(),N=n(),j=n(!1),de=n(!1),me=n("Show more notes"),Me=n(),Ge=n(),fe=n(),Pe=K(()=>M.editingDrugItem),Te=n("Select a route"),y=n(!1),P=n("Select frequency"),R=n(!1),ne=n("Select drug"),We=n(!1),Z=n(),ee=n(),_e=n(),Ne=n([]),xt=n([{concept_id:11797,name:"Buccal",concept_name_id:null,id:1769},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:6284},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:6285},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:6286},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:6295},{concept_id:3327,name:"Oral",concept_name_id:null,id:8686},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:8920},{concept_id:11792,name:"Rectally",concept_name_id:null,id:10785},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:12342},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:12344},{concept_id:11792,name:"Rectally",concept_name_id:null,id:14078},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:14079},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:14080},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:14081},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:14082},{concept_id:11797,name:"Buccal",concept_name_id:null,id:14083},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:14084},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:14085},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:14086}]),At=K(()=>Ne.value.length?Ne.value:xt.value);function Nt(h){Z.value=h}async function Vt(){return await Ga()}async function $t(h=5,d=1e3){let b=0;for(;b<h&&(Ne.value=await Vt(),!(Ne.value.length>0));)b++,await new Promise(B=>setTimeout(B,d));Ne.value.length===0&&console.warn("Failed to fetch route list after maximum retries.")}ke(async()=>{const h=new Wa,{previousDrugPrescriptions:d,previousClinicalNotes:b,previousDrugAllergies:B}=await h.getPatientEncounters();t.value=d,k.value=Object.entries(b)[0];const[,...W]=Object.entries(b);N.value=W,Me.value=Object.entries(B)[0];const[,...Y]=Object.entries(B);Ge.value=Y,await $t()}),pe(()=>F.value,async h=>{Ut()}),pe(()=>p.value,async h=>{et()});function Ht(){if(Ie.isEmpty(Z.value)==!0)return y.value=!0,!1;if(Ie.isEmpty(Z.value)==!1)return y.value=!1,!0}function Mt(){if(Ie.isEmpty(ee.value)==!0)return R.value=!0,!1;if(Ie.isEmpty(ee.value)==!1)return R.value=!1,!0}function Tt(){if(Ie.isEmpty(_e.value)==!0)return We.value=!0,!1;if(Ie.isEmpty(_e.value)==!1)return We.value=!1,!0}function Rt(){A.value=!A.value,f.value=!0,g.value=!1,c.value=!1}async function Ut(){return nt(F.value)?g.value=!1:(V.value="please enter a number",g.value=!0),g.value}async function et(){return nt(p.value)?c.value=!1:(E.value="please enter a number",c.value=!0),c.value}async function tt(){const h=await et(),d=Mt(),b=Tt(),B=Ht();return!h&&d==!0&&b==!0&&B==!0}function Lt(h){ee.value=h}async function at(){try{const h=()=>fe.value.dose_strength!=null&&fe.value.dose_strength?Math.trunc(fe.value.dose_strength):1;if(Pe.value!==null){if(!await tt()){De("Please enter correct data values",4e3);return}const b=He.getSessionDate(),B=st(b,parseInt(p.value));let W=!1;ze(fe.value)==!0&&(W=!0);const Y={drugName:O.value,dose:h(),frequency:ee.value.label,frequency_code:ee.value.code,duration:p.value,prescription:B,drug_id:I.value,units:U.value,route_concept_id:Z.value.concept_id,route_name:Z.value.name,highlightbackground:W},je=Oe();console.log(je.setSelectedMedicalDrugsList([Y])),je.editingDrugItem=null,A.value=!0}else{if(!await tt()){De("Please enter correct data values",4e3);return}Kt();const b=He.getSessionDate(),B=st(b,parseInt(p.value));let W=!1;ze(fe.value)==!0&&(W=!0);const Y={drugName:O.value,dose:h(),frequency:ee.value.label,frequency_code:ee.value.code,duration:p.value,prescription:B,drug_id:I.value,units:U.value,route_concept_id:Z.value.concept_id,route_name:Z.value.name,highlightbackground:W};Oe().setSelectedMedicalDrugsList([Y])}I.value="",O.value="",F.value="",ee.value=null,p.value="",_.value="",H.value++,_e.value=null,Z.value=null}catch(h){console.error("Error saving data:",h)}}async function Ft(h){const d=h,W=await Ia.getOfflineOPDDrugs({name:d,page:1,page_size:10});W.map(Y=>({label:Y.name,value:Y.name,other:Y})),M.setPartialOPDdrugList(W)}function ze(h){const d=[];return L.value.forEach(B=>{B.selected&&d.push(B.concept_id)}),Bt([h],d)==!0?(De("Client is allergic to the selected medication",4e6),!0):!1}function Bt(h,d){try{return h.some(b=>d.includes(b.concept_id))}catch(b){return!1}}function qt(h){h&&(O.value=h.name,I.value=h.drug_id,U.value=h.units,fe.value=h,ze(h))}function Gt(h){const d=G.value[h],b=Oe();b.removeDrugById(d.drug_id),b.editingDrugItem=d,I.value="",O.value="",F.value="",ee.value=null,p.value="",_.value="",_e.value=null,Z.value=null,I.value=d.drug_id,O.value=d.drugName,F.value=d.dose,ee.value={label:d.frequency,code:d.frequency_code},p.value=d.duration,_.value=d.prescription;const B=T.value.find(W=>W.name===d.drugName);B&&(_e.value=B),Z.value={concept_id:d.route_concept_id,name:d.route_name},A.value=!1,H.value++}function Wt(){if(Pe.value!==null){I.value="",O.value="",F.value="",ee.value=null,p.value="",_.value="",_e.value=null,Z.value=null;const h=Oe();h.setSelectedMedicalDrugsList([Pe.value]),h.editingDrugItem=null}A.value=!0,H.value++}function zt(h){G.value.splice(h,1),H.value++,De("you have removed a drug from list",6e3)}function jt(h){let d=h.target.value;Yt(d)}function Yt(h){Oe().setNonPharmalogicalTherapyAndOtherNotes(h)}function nt(h){return/^[0-9]+$/.test(h)}function st(h,d){const b=new Date(h);b.setDate(b.getDate()+d);const B=b.getFullYear(),W=String(b.getMonth()+1).padStart(2,"0"),Y=String(b.getDate()).padStart(2,"0");return"".concat(B,"-").concat(W,"-").concat(Y)}function Kt(){f.value=!1,w.value=!0,A.value=!0}function Xt(h){m.filter(b=>b!==h.detail.value);const d=h.detail.value;d!==void 0?d=="third"&&(me.value="Show less notes",de.value=!j.value):(me.value="Show more notes",de.value=!j.value)}function Jt(h){return h[1]}function Qt(h){(h.key==="Enter"||h.key==="ArrowDown")&&(h.preventDefault(),at())}const Ee=K(()=>[{showAddItemButton:!0,addItemButton:!0,name:Pe.value!==null?"Update":"ADD",fn:at},{showAddItemButton:!0,addItemButton:!0,name:"CANCEL",fn:Zt}]),Zt=async()=>{Ct(Sa,{class:"otherVitalsModal"},!0,{message:"Are you sure you want to cancel?"},{cancel:B=>{},confirm:async B=>{B.detail==!0&&Wt()}})};return(h,d)=>(l(),C(a(kt),null,{default:s(()=>[o("div",Cs,[o("div",Ss,[e(Ot)])]),o("div",Is,[e(a(te),{lines:"none",class:"section-header"},{default:s(()=>[e(a(Ue),{icon:a(xe),class:"section-icon"},null,8,["icon"]),e(a(le),{class:"section-title",style:{"margin-top":"12px"}},{default:s(()=>[...d[9]||(d[9]=[$("Medication",-1)])]),_:1})]),_:1}),o("div",Ps,[(l(),C(Fa,{_selectedMedicalDrugsList:G.value,onEditItem:Gt,onRemoveItem:zt,key:H.value,class:"medication-list"},null,8,["_selectedMedicalDrugsList"])),A.value?v("",!0):(l(),D("div",Es,[o("div",Os,[d[10]||(d[10]=o("label",{class:"input-label"},"Medication",-1)),e(a($e),{modelValue:_e.value,"onUpdate:modelValue":[d[0]||(d[0]=b=>_e.value=b),d[1]||(d[1]=b=>qt(b))],options:T.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select medication",label:"name","track-by":"drug_id",onSearchChange:d[2]||(d[2]=b=>Ft(b))},{option:s(b=>[o("div",xs,S(b.option.name),1)]),_:1},8,["modelValue","options"]),We.value?(l(),D("div",As,S(ne.value),1)):v("",!0)]),o("div",Ns,[o("div",Vs,[d[11]||(d[11]=o("label",{class:"input-label"},"Route",-1)),e(a($e),{modelValue:Z.value,"onUpdate:modelValue":[d[3]||(d[3]=b=>Z.value=b),d[4]||(d[4]=b=>Nt(b))],options:At.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select route",label:"name","track-by":"concept_id",disabled:!1},null,8,["modelValue","options"]),y.value?(l(),D("div",$s,S(Te.value),1)):v("",!0)]),o("div",Hs,[d[12]||(d[12]=o("label",{class:"input-label"},"Frequency",-1)),e(a($e),{modelValue:ee.value,"onUpdate:modelValue":[d[5]||(d[5]=b=>ee.value=b),d[6]||(d[6]=b=>Lt(b))],options:a(u),searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select frequency",label:"label","track-by":"code"},null,8,["modelValue","options"]),R.value?(l(),D("div",Ms,S(P.value),1)):v("",!0)]),o("div",Ts,[d[13]||(d[13]=o("label",{class:"input-label"},"Duration (days)",-1)),e(a(da),{modelValue:p.value,"onUpdate:modelValue":d[7]||(d[7]=b=>p.value=b),type:"number",inputmode:"numeric",pattern:"[0-9]*",fill:"outline",placeholder:"Enter duration",onKeydown:Qt},null,8,["modelValue"]),c.value?(l(),D("div",Rs,S(E.value),1)):v("",!0)])]),o("div",Us,[Ee.value[0].addItemButton?(l(),C(we,{key:0,name:Ee.value[0].name,icon:a(Dt),"onClicked:btn":Ee.value[0].fn,class:"save-button"},null,8,["name","icon","onClicked:btn"])):v("",!0),Ee.value[1].addItemButton?(l(),C(we,{key:1,name:Ee.value[1].name,icon:a(wt),"onClicked:btn":Ee.value[1].fn,class:"cancel-button"},null,8,["name","icon","onClicked:btn"])):v("",!0)])])),A.value?(l(),C(we,{key:1,name:x,icon:a(Le),fontWeight:"600","onClicked:btn":Rt,class:"add-new-button"},null,8,["icon"])):v("",!0)])]),o("div",Ls,[e(a(te),{lines:"none",class:"section-header"},{default:s(()=>[e(a(Ue),{icon:a(ma),class:"section-icon"},null,8,["icon"]),e(a(le),{class:"section-title"},{default:s(()=>[...d[14]||(d[14]=[$("Non-pharmacological therapy and other notes",-1)])]),_:1})]),_:1}),o("div",Fs,[e(Ba,{class:"intervention-component"}),o("div",Bs,[e(a(te),{class:"notes-input-item"},{default:s(()=>[e(a(Ue),{slot:"start",icon:a(r).editPen,class:"edit-icon","aria-hidden":"true"},null,8,["icon"]),e(a(pa),{modelValue:J.value,"onUpdate:modelValue":d[8]||(d[8]=b=>J.value=b),onIonInput:jt,placeholder:"Enter notes here...","auto-grow":!0,class:"notes-textarea",fill:"outline",style:{"--padding-start":"16px"}},null,8,["modelValue"])]),_:1})]),e(a(Je),{ref:"accordionGroup",class:"previous-notes"},{default:s(()=>[e(a(ge),{value:"fourth","toggle-icon-slot":"start"},{default:s(()=>[e(a(te),{slot:"header",color:"light",class:"previous-notes-header"},{default:s(()=>[e(a(le),null,{default:s(()=>[...d[15]||(d[15]=[$("Previous visit notes",-1)])]),_:1})]),_:1}),o("div",qs,[o("div",Gs,[h.index===1?(l(!0),D(Q,{key:0},ce(k.value,(b,B)=>(l(),D("div",{key:B,class:"note-entry"},[(l(!0),D(Q,null,ce(b,(W,Y)=>(l(),D("div",{key:Y},[o("div",Ws,S(W.date),1),o("div",zs,S(W.notes),1)]))),128))]))),128)):v("",!0),e(a(Je),{onIonChange:Xt},{default:s(()=>[e(a(ge),{value:"third","toggle-icon-slot":"start"},{default:s(()=>[e(a(te),{slot:"header",color:"light",class:"show-more-header"},{default:s(()=>[e(a(le),{color:"primary"},{default:s(()=>[$(S(me.value),1)]),_:1})]),_:1}),o("div",js,[(l(!0),D(Q,null,ce(N.value,(b,B)=>(l(),D("div",{key:B,class:"note-entry"},[(l(!0),D(Q,null,ce(Jt(b),(W,Y)=>(l(),D("div",{key:Y},[o("div",Ys,S(W.date),1),o("div",Ks,S(W.notes),1)]))),128))]))),128))])]),_:1})]),_:1})])])]),_:1})]),_:1},512)])])]),_:1}))}}),bo=ve(Js,[["__scopeId","data-v-0c2a73b2"]]),Qs=ae({name:"xxxComponent"}),Zs=ae({...Qs,emits:["dataSaved"],setup(i,{emit:r}){const u=n(),f=n("gurdian phone number");n(!0),n(!0);const w=n(!0),A=n(),H=n();ke(async()=>{Ge()});const V=[{placeHolder:{default:"Enter time of death if known"},property_name:"timeOfDeath",dataHandler:M,dataValue:n(),show_error:n(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time arrived"},property_name:"timeArrived",dataHandler:q,dataValue:n(),show_error:n(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time confirming death"},property_name:"timeOfDeathConfirmation",dataHandler:L,dataValue:n(),show_error:n(!1),error_message:"Time required",skip_validation:!1}],g=[{placeHolder:{default:"Enter date of death"},property_name:"dateOfDeath",dataHandler:G,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date arrived"},property_name:"dateArrived",dataHandler:T,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date confirming death"},property_name:"dateOfDeathConfirmation",dataHandler:J,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1}],E=[{lblTxt:"Was the individual pregnant at the time of death?",value:n(!1),disable_checkbox:n(!0)}],c=[{placeHolder:"Enter place of death",property_name:"placeOfDeath",dataHandler:m,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of guardian",property_name:"nameOfGuardian",dataHandler:t,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of person confirming death",property_name:"nameOfPersonConfirmindDeath",dataHandler:k,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter position of the person confirming death",property_name:"positionOfthePersonConfirmingDeath",dataHandler:N,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter medical council registration number of the person confirming death",property_name:"medicalConcilRegistrationNumberOfThePersonConfirmingDeath",dataHandler:j,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters and numbers are allowed",type:"alphanumeric",skip_validation:!1},{placeHolder:"Other (specify)",property_name:"otherNotes",dataHandler:de,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",dissabled:w.value,type:"text",skip_validation:!0}],O=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:fe},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:U}],F=n([{id:1,name:"Natural",selected:!1},{id:2,name:"Accident",selected:!1},{id:3,name:"Homicide",selected:!1},{id:4,name:"Suicide",selected:!1},{id:5,name:"Pending investigation",selected:!1},{id:6,name:"Could not be determined",selected:!1},{id:7,name:"Other - specify",selected:!1}]),p=n([{id:1,name:"Motor vehicle (passenger)",selected:!1},{id:2,name:"Motor vehicle (pedestrian)",selected:!1},{id:3,name:"Drowning",selected:!1},{id:4,name:"Other - specify",selected:!1}]),_=[{multi_Selection:!1,manner_of_death_Selection_value:n(),show_list_label:!0,unqueId:"qwerty",name_of_list:"Manner of death ",property_name:"mannerOfDeath",placeHolder:"Choose one",items:F.value,listUpdatedFN:me,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!1),show_error:n(!1),error_message:"selection required"},{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty1hjkn",name_of_list:"How did it occur?",property_name:"howDiditOccur",placeHolder:"Choose one",items:p.value,listUpdatedFN:Me,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!0),show_error:n(!1),error_message:"selection required"}];function U(){x()}const I=r;function x(y={dataSaved:!0}){I("dataSaved",y)}function M(y){V[0].dataValue.value=y}function q(y){V[1].dataValue.value=y}function L(y){V[2].dataValue.value=y}function G(y){const P={day:y.value.day,month:y.value.month,year:y.value.year,formattedDate:y.value.formattedDate};g[0].dataValue.value=P}function T(y){const P={day:y.value.day,month:y.value.month,year:y.value.year,formattedDate:y.value.formattedDate};g[1].dataValue.value=P,console.log(g[2].dataValue.value)}function J(y){const P={day:y.value.day,month:y.value.month,year:y.value.year,formattedDate:y.value.formattedDate};g[2].dataValue.value=P,console.log(g[2].dataValue.value)}function m(y){const P=y.target.value;c[0].dataValue.value=P}function t(y){const P=y.target.value;c[1].dataValue.value=P}function k(y){const P=y.target.value;c[2].dataValue.value=P}function N(y){const P=y.target.value;c[3].dataValue.value=P}function j(y){const P=y.target.value;c[4].dataValue.value=P}function de(y){const P=y.target.value;c[5].dataValue.value=P}function me(y){F.value.forEach(R=>R.selected=!1);const P=F.value.find(R=>R.id==y.id);_[1].disabled.value=y.name!="Accident",P.selected=!0}function Me(y){console.log("listUpdated",y),p.value.forEach(R=>R.selected=!1);const P=p.value.find(R=>R.id==y.id);P.selected=!0}function Ge(){const P=new It().isChildBearing;P==!0&&(E[0].disable_checkbox.value=!1),P==!1&&(E[0].disable_checkbox.value=!0)}function fe(){Ye(c),Ye(g),Ye(V),Pe();const y=Ie.merge(Ke(c),Ke(g),Ke(V),Te(_[0]),Te(_[1]));console.log(y)}function Pe(){const y=F.value.filter(P=>P.selected);if(y.length==0)_[0].show_error.value=!0;else if(_[0].show_error.value=!1,y[0].name=="Accident"){const P=p.value.filter(R=>R.selected);_[1].show_error.value=P.length==0}}function Te(y){const P=[];let R={};return y.items.forEach(ne=>{ne.selected==!0&&P.push({property_name:y.property_name,name:ne.name})}),P.length>0&&(R[P[0].property_name]=P[0].name),R}return(y,P)=>{const R=ie("ion-label");return l(),D(Q,null,[e(a(re),{class:"checkbox_content md"},{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[0].placeHolder,icon:a(yt),inputValue:c[0].dataValue.value,"onUpdate:inputValue":c[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[0].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[0].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(gt,{place_holder:g[0].placeHolder,onDateUpDated:g[0].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),o("div",null,[g[0].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(g[0].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Xe,{place_holder:V[0].placeHolder,onTimeUpDated:V[0].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),o("div",null,[V[0].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(V[0].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z))]),_:1}),e(a(re),{class:"checkbox_content md"},{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[1].placeHolder,icon:a(_t),inputValue:c[1].dataValue.value,"onUpdate:inputValue":c[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[1].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[1].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(a(va),{value:E[0].value,alignment:"start",class:"ion-lblCls",disabled:E[0].disable_checkbox.value},{default:s(()=>[$(S(E[0].lblTxt),1)]),_:1},8,["value","disabled"])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:f.value,icon:a(fa),inputValue:u.value},null,8,["placeholder","icon","inputValue"])]),_:1}),e(a(z))]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(gt,{place_holder:g[1].placeHolder,onDateUpDated:g[1].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),o("div",null,[g[1].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(g[1].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(Xe,{place_holder:V[1].placeHolder,onTimeUpDated:V[1].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),o("div",null,[V[1].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(V[1].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(a($e),{modelValue:A.value,"onUpdate:modelValue":[P[0]||(P[0]=ne=>A.value=ne),P[1]||(P[1]=ne=>me(ne))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Manner of death",placeholder:"Manner of death",selectLabel:"",label:"name",searchable:!0,"track-by":"id",options:F.value},null,8,["modelValue","options"]),o("div",null,[_[0].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(_[0].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(a($e),{modelValue:H.value,"onUpdate:modelValue":[P[2]||(P[2]=ne=>H.value=ne),P[3]||(P[3]=ne=>Me(ne))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"How did it occur?",placeholder:"How did it occur?",selectLabel:"",label:"name",disabled:_[1].disabled.value,searchable:!0,"track-by":"id",options:p.value},null,8,["modelValue","disabled","options"]),o("div",null,[_[1].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(_[1].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[5].placeHolder,icon:a(ht),inputValue:c[5].dataValue.value,disabled:w.value,"onUpdate:inputValue":c[5].dataHandler},null,8,["placeholder","icon","inputValue","disabled","onUpdate:inputValue"]),o("div",null,[c[5].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[5].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Xe,{place_holder:V[2].placeHolder,onTimeUpDated:V[2].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),o("div",null,[V[2].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(V[2].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[2].placeHolder,icon:a(_t),inputValue:c[2].dataValue.value,"onUpdate:inputValue":c[2].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[2].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[2].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[3].placeHolder,icon:a(xe),inputValue:c[3].dataValue.value,"onUpdate:inputValue":c[3].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[3].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[3].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[4].placeHolder,icon:a(ht),inputValue:c[4].dataValue.value,"onUpdate:inputValue":c[4].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),o("div",null,[c[4].show_error.value?(l(),C(R,{key:0,class:"error-label"},{default:s(()=>[$(S(c[4].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),(l(),C(a(re),{key:0,class:"spc_btwn"},{default:s(()=>[O[0].addItemButton?(l(),C(we,{key:0,name:O[0].name,fill:O[0].btnFill,icon:a(Dt),"onClicked:btn":O[0].fn},null,8,["name","fill","icon","onClicked:btn"])):v("",!0),O[1].addItemButton?(l(),C(we,{key:1,name:O[1].name,fill:O[1].btnFill,icon:a(wt),"onClicked:btn":O[1].fn},null,8,["name","fill","icon","onClicked:btn"])):v("",!0)]),_:1}))],64)}}}),eo=ve(Zs,[["__scopeId","data-v-0aad2f08"]]),to={class:"dash_box"},ao={key:1},no=ae({name:"xxxComponent"}),so=ae({...no,setup(i){const r=n("No outcome created yet"),u=n(!1),f=n("please select a type"),w=n(!0),A=n(""),H=n(!0),V=n(!1),g=Pa(),E=K(()=>g.outcomes),c=n(!1),O=n(!1),F=n(!1),p=n(!1),_=n(!1),U=n(!1),I=n([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1},{name:"Send to Another Clinic",selected:!1}]),x=[{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty2",name_of_list:"Add new outcome",placeHolder:"Choose one",items:I.value,listUpdatedFN:M,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!1)}];function M(t){I.value=t,I.value.forEach(k=>{k.selected==!0&&(A.value=k.name)})}ke(async()=>{L()}),pe(()=>A.value,async t=>{c.value==!0?c.value=!1:J()}),pe(()=>E.value.length,async t=>{L()});function q(){I.value.forEach(t=>{t.selected=!1}),A.value=""}function L(){E.value.length>0?H.value=!1:E.value.length==0&&V.value==!1&&(H.value=!0)}function G(t){E.value.splice(t,1)}const T=t=>{};async function J(t=!0){const k=A.value;console.log(k),A.value=k;const N=A.value;N==I.value[0].name?F.value=!0:F.value=!1,N==I.value[1].name?(p.value=!0,console.log("show_discharged_options is set to true")):p.value=!1,N==I.value[2].name?(_.value=!0,console.log("show_discharged_options is set to true")):_.value=!1,N==I.value[3].name?U.value=!0:U.value=!1}function m(){O.value=!1,F.value=!1,p.value=!1,_.value=!1,q()}return(t,k)=>{const N=ie("ion-row");return l(),C(a(kt),null,{default:s(()=>[e(N,null,{default:s(()=>[e(a(z),null,{default:s(()=>[(l(),C(za,{key:0,"onUpdate:removeItem":G,"onUpdate:editItem":T,displayData:E.value},null,8,["displayData"]))]),_:1})]),_:1}),H.value?(l(),C(N,{key:0},{default:s(()=>[o("span",to,S(r.value),1)]),_:1})):v("",!0),w.value?(l(),D("div",ao,[e(N,null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ea,{multiSelection:x[0].multi_Selection,show_label:x[0].show_list_label,uniqueId:x[0].unqueId,name_of_list:x[0].name_of_list,choose_place_holder:x[0].placeHolder,"items_-list":x[0].items,use_internal_filter:x[0].use_internal_filter,disabled:x[0].disabled.value,onItemListUpDated:x[0].listUpdatedFN,onItemListFiltered:x[0].listFilteredFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered"]),o("div",null,[u.value?(l(),C(a(le),{key:0,class:"error-label"},{default:s(()=>[$(S(f.value),1)]),_:1})):v("",!0)])]),_:1})]),_:1})])):v("",!0),F.value?(l(),C(ja,{key:2,onDataSaved:m,selected_ward_prop:"",admitted_other_props:""})):v("",!0),p.value?(l(),C(Ya,{key:3,onDataSaved:m,selected_referral_data:"",selected_other_referral_data:""})):v("",!0),_.value?(l(),C(Ka,{key:4,onDataSaved:m,selected_discharged_prop:"",selected_discharged_data:""})):v("",!0),O.value?(l(),C(eo,{key:5,onDataSaved:m})):v("",!0),U.value?(l(),C(Xa,{key:6,onDataSaved:m})):v("",!0)]),_:1})}}}),Do=ve(so,[["__scopeId","data-v-fc637de7"]]);export{yo as C,Do as O,tn as P,as as _,us as a,bo as b};
