!function(){function e(e,a,t){return(a=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var l=t.call(e,a||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}System.register(["./vendor-legacy-zFWXXa6m.js","../index-legacy-k0kzcEj4.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-BCtySm-E.js"],function(a,t){"use strict";var l,n,i,o,r,u,s,d,c,v,p,b,f,g,m,h,y,_,x,w,A,V,k,N,I,R,D,P,T,C,S,B,F,H,$,O,E,M,U,W,j,L,G,z,q,K,Y,J,Q,X,Z,ee,ae,te,le,ne;return{setters:[e=>{l=e.d,n=e.r,i=e.c,o=e.w,r=e.a,u=e.O,s=e.f,d=e.u,c=e.bj,v=e.J,p=e.l,b=e.G,f=e.E,g=e.Q,m=e.aW,h=e.N,y=e.I,_=e.k,x=e.m,w=e.X,A=e.p,V=e.i,k=e.K,N=e.b9,I=e.Z,R=e.e,D=e.V,P=e.a4,T=e.bA,C=e.L,S=e.dq,B=e.am,F=e.al,H=e.$,$=e.aG,O=e.br,E=e.aV,M=e.bn,U=e.a5,W=e.a6,j=e.bq,L=e.F,G=e.P,z=e.a7},e=>{q=e.P,K=e.u,Y=e.a8,J=e.z,Q=e.t,X=e.I,Z=e.G,ee=e._,ae=e.ag,te=e.cd,le=e.H,ne=e.c6},null,null],execute:function(){var t=document.createElement("style");t.textContent=".arv-number-modal[data-v-9e415ee0]{--width: 100%;--max-width: 500px;--height: 400px;--max-height: 80vh;--border-radius: 8px}.modal-content[data-v-9e415ee0]{--padding-top: 16px;--padding-bottom: 16px;height:100%;display:flex;flex-direction:column}.modal-title[data-v-9e415ee0]{font-size:1.3rem;font-weight:500;padding-left:15px}.close-button[data-v-9e415ee0]{--color: var(--ion-color-primary)}.form-container[data-v-9e415ee0]{padding:16px}.arv-input-section[data-v-9e415ee0]{margin-bottom:32px}.form-label[data-v-9e415ee0]{font-size:1rem;font-weight:600;color:#333;margin-bottom:12px;display:block}.required[data-v-9e415ee0]{color:#dc3545}.arv-input-container[data-v-9e415ee0]{width:100%}.input-group[data-v-9e415ee0]{display:flex;width:100%;border:1px solid #ddd;border-radius:4px;overflow:hidden;transition:border-color .3s ease}.input-group[data-v-9e415ee0]:focus-within{border-color:var(--ion-color-primary);box-shadow:0 0 0 2px rgba(var(--ion-color-primary-rgb),.2)}.input-group-error[data-v-9e415ee0]{border-color:#dc3545!important;box-shadow:0 0 0 2px rgba(220,53,69,.2)!important}.input-group-text[data-v-9e415ee0]{background-color:#f8f9fa;border:none;padding:12px 16px;color:#6c757d;font-weight:500;font-size:.95rem;display:flex;align-items:center;white-space:nowrap}.form-control[data-v-9e415ee0]{flex:1;border:none;padding:12px 16px;font-size:1rem;outline:none;background:#fff}.form-control[data-v-9e415ee0]:focus{outline:none}.has-error[data-v-9e415ee0]{background-color:#fff5f5}.error-label[data-v-9e415ee0]{color:#dc3545;font-size:.875rem;margin-top:8px;display:block;font-weight:500}.success-label[data-v-9e415ee0]{color:#28a745;font-size:.875rem;margin-top:8px;display:block;font-weight:500}.action-buttons[data-v-9e415ee0]{display:flex;gap:12px;justify-content:flex-end;padding-top:16px;border-top:1px solid #eee}.cancel-button[data-v-9e415ee0]{--padding-start: 20px;--padding-end: 20px;--padding-top: 12px;--padding-bottom: 12px}.save-button[data-v-9e415ee0]{--padding-start: 20px;--padding-end: 20px;--padding-top: 12px;--padding-bottom: 12px;--background: var(--ion-color-primary);min-width:80px}.save-button[data-v-9e415ee0]:disabled{--background: #ccc;--color: #666}@media(max-width:768px){.arv-number-modal[data-v-9e415ee0]{--width: 95%;--max-width: none}.action-buttons[data-v-9e415ee0]{flex-direction:column-reverse}.cancel-button[data-v-9e415ee0],.save-button[data-v-9e415ee0]{width:100%}}.header[data-v-596a6369]{border-bottom:2px dashed #ccc}.field[data-v-596a6369]{min-height:60px;padding:6px 8px;border-radius:8px;background:#f9f9f9}.demo-field[data-v-596a6369]{min-height:60px;padding:6px 8px;border-radius:15px;color:#000;background:#ebe9e9}.option-label[data-v-596a6369]{color:#6b6b6b}.option-value[data-v-596a6369]{font-weight:600;color:#111}.modal-content[data-v-596a6369]{padding:20px;text-align:left}.modal-content h3[data-v-596a6369]{margin-bottom:20px}.modal-content ul[data-v-596a6369]{list-style-type:none;padding:0}.modal-content ul li[data-v-596a6369]{margin-bottom:10px}.table-card[data-v-596a6369]{overflow:auto;border-radius:8px;background:#fff;padding:0}table[data-v-596a6369]{width:100%;border-collapse:collapse}thead th[data-v-596a6369]{padding:10px 12px;background:#2f6b20;color:#fff;text-align:left;font-weight:700}tbody td[data-v-596a6369]{padding:12px;border-top:1px solid #f1f1f1;color:#333}tr.empty td[data-v-596a6369]{text-align:center;color:#6b6b6b}\n/*$vite$:1*/",document.head.appendChild(t);class ie extends q{constructor(...a){super(...a),e(this,"suggestedNextARVNumber",void 0),e(this,"patientHasARVNumber",!1),e(this,"prependValue","")}async _getArvNumber_(){try{var e;const a=null===(e=K().$state)||void 0===e?void 0:e.patient.patientID;if(!a)return"";const t=await q.findByID(a);if(null==t||!t.patient_identifiers)return"";const l=t.patient_identifiers.find(e=>4==e.identifier_type);return(null==l?void 0:l.identifier)||""}catch(a){return""}}async getARVnumber(){try{const e=await this._getArvNumber_();if("Unknown"!==e){const a=e.split("-");this.suggestedNextARVNumber=a[2].replace(/^\D+|\s/g,""),this.prependValue=`${a[0]}-${a[1]}-`,this.patientHasARVNumber=!0}else{const e=await Y.getNextSuggestedARVNumber();this.suggestedNextARVNumber=e.arv_number.replace(/^\D+|\s/g,"")}}catch(e){const a=await Y.getNextSuggestedARVNumber();this.suggestedNextARVNumber=a.arv_number.replace(/^\D+|\s/g,"")}return this.suggestedNextARVNumber}async saveARVNumber(e){const a=`${J().$state.globalPropertyStore.sitePrefix}-ARV-${e}`;if(a===await this._getArvNumber_())return void Q("ARV number is the same as the current one",5e3);if(await X.arvNumberExists(a))Q("ARV number already exists",5e3);else try{this.patientHasARVNumber?(await this.updateARVNumber(a),Z("ARV number updated successfully")):(await this.createArvNumber(a),Z("ARV number created successfully"))}catch(t){Q(`${t}`)}}}const oe={class:"form-container"},re={class:"arv-input-section"},ue={class:"arv-input-container"},se={class:"input-group-text"},de={class:"action-buttons"},ce={key:1},ve=l({__name:"ArvNumberModal",props:{isOpen:{type:Boolean,required:!0}},emits:["close","arvNumberSaved"],setup(e,{emit:a}){const t=e,l=a,T=J(),C=K(),S=n(""),B=n(""),F=n(""),H=n(!1),$=new ie,O=i(()=>T.globalPropertyStore.sitePrefix||"SITE"),E=i(()=>`${O.value}-ARV-${S.value}`),M=()=>{U(),l("close")},U=()=>{S.value="",B.value="",F.value="",H.value=!1},W=e=>{const a=e.target.value.replace(/[^0-9]/g,"");S.value=a,B.value="",F.value="",j()},j=()=>S.value?/^\d+$/.test(S.value)?parseInt(S.value)<=0?(B.value="Number must be positive",!1):(B.value="",!0):(B.value="Only numbers are allowed",!1):(B.value="ARV number is required",!1),L=async()=>{if(j()){H.value=!0,B.value="";try{const t=await $._getArvNumber_(),n=E.value;if(t!==n){if(await X.arvNumberExists(n))return B.value="ARV number already exists",void(H.value=!1)}await $.saveARVNumber(S.value);try{var e;const a=await q.findByID(null===(e=C.$state)||void 0===e?void 0:e.patient.patientID);a&&await C.setRecord(a)}catch(a){console.warn("Could not update demographics store:",a)}F.value="ARV number saved successfully",Z("ARV number updated successfully"),l("arvNumberSaved",n),setTimeout(()=>{M()},1e3)}catch(t){console.error("Error saving ARV number:",t),B.value="Error saving ARV number. Please try again.",Q("Failed to save ARV number")}finally{H.value=!1}}};return o(()=>t.isOpen,e=>{e&&(async()=>{try{const e=await $._getArvNumber_();if(e&&"Unknown"!==e&&""!==e){const a=e.split("-");a.length>=3&&(S.value=a[2],$.patientHasARVNumber=!0)}else{const e=await $.getARVnumber();S.value=e,$.patientHasARVNumber=!1}}catch(e){console.error("Error loading current ARV number:",e);try{const e=await $.getARVnumber();S.value=e,$.patientHasARVNumber=!1}catch(a){console.error("Error getting suggested ARV number:",a)}}})()}),r(()=>{T.loadSitePrefix()}),(a,t)=>(s(),u(d(c),{"is-open":e.isOpen,onDidDismiss:M,class:"arv-number-modal"},{default:v(()=>[p(d(y),null,{default:v(()=>[p(d(b),null,{default:v(()=>[p(d(f),{class:"modal-title"},{default:v(()=>[...t[1]||(t[1]=[g("Update ARV Number",-1)])]),_:1}),p(d(m),{slot:"end"},{default:v(()=>[p(d(h),{onClick:M,class:"close-button"},{default:v(()=>[...t[2]||(t[2]=[g("Close",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),p(d(P),{class:"ion-padding modal-content"},{default:v(()=>[_("div",oe,[_("div",re,[p(d(w),{class:"form-label"},{default:v(()=>[...t[3]||(t[3]=[g("ARV Number ",-1),_("span",{class:"required"},"*",-1)])]),_:1}),_("div",ue,[_("div",{class:A(["input-group",{"input-group-error":B.value}])},[_("span",se,k(O.value)+"-ARV- ",1),V(_("input",{type:"text",class:A(["form-control",{"has-error":B.value}]),"onUpdate:modelValue":t[0]||(t[0]=e=>S.value=e),onInput:W,placeholder:"Enter number",inputmode:"numeric",pattern:"[0-9]*"},null,34),[[N,S.value]])],2)]),B.value?(s(),u(d(I),{key:0,class:"error-label"},{default:v(()=>[g(k(B.value),1)]),_:1})):x("",!0),F.value?(s(),u(d(I),{key:1,class:"success-label"},{default:v(()=>[g(k(F.value),1)]),_:1})):x("",!0)]),_("div",de,[p(d(h),{color:"danger",fill:"outline",onClick:M,class:"cancel-button"},{default:v(()=>[...t[4]||(t[4]=[g(" Cancel ",-1)])]),_:1}),p(d(h),{onClick:L,disabled:!S.value||!!B.value||H.value,class:"save-button"},{default:v(()=>[H.value?(s(),u(d(D),{key:0,name:"crescent"})):(s(),R("span",ce,"Save"))]),_:1},8,["disabled"])])])]),_:1})]),_:1},8,["is-open"]))}}),pe=ee(ve,[["__scopeId","data-v-9e415ee0"]]),be={style:{"font-weight":"bold"}},fe={slot:"content"},ge={class:"field"},me={class:"option-value"},he={class:"field"},ye={class:"option-value"},_e={class:"option-value"},xe={class:"field"},we={class:"field"},Ae={class:"option-value"},Ve={class:"option-value"},ke={class:"option-value"},Ne={class:"field"},Ie={class:"option-value"},Re={class:"option-value"},De={class:"option-value"},Pe={class:"option-value"},Te={class:"field"},Ce={class:"option-value"},Se={class:"option-value"},Be={class:"option-value"},Fe={class:"field"},He={class:"option-value"},$e={class:"option-value"},Oe={class:"option-value"},Ee={class:"option-value"},Me={class:"field"},Ue={class:"option-value"},We={class:"option-value"},je={class:"option-value"},Le={class:"table-card card"},Ge={key:0},ze=["innerHTML"],qe={key:1},Ke={class:"modal-content"};a("default",ee(l({__name:"Mastercard",setup(e){const a=n([]),t=n([]),l=new q,i=n([]),o=n(!1),A=n([]),V=n(!1),N=n(!1),I=n(!1),D=n(!1),K=T({name:"Unknown person",arvNumber:"...",nationalPatientId:"...",age:"Unknown Age",sex:"Unknown gender",location:"...",landmark:"...",guardian:"...",initWKg:"...",initHCm:"...",initBmi:"...",initPreg:"...",initBreastfeeding:"...",curPreg:"...",curBreastfeeding:"...",ti:"...",agreesToFollowUp:"...",reasonForStartingArt:"...",hivTestDate:"...",hivTestPlace:"...",dateOfStartingFirstLineArt:"...",pulmonaryTbWithinLast2Years:"...",extraPulmonaryTb:"...",pulmonaryTbCurrent:"...",kaposisSarcoma:"..."}),J={name:{init:async()=>{l.reloadPatient()},val:()=>`${l.getGivenName()} ${l.getFamilyName()}`},arvNumber:{val:async()=>{var e,a,t;const n=await q.findByID(l.getID());return null!==(e=null===(a=(null!==(t=null==n?void 0:n.patient_identifiers)&&void 0!==t?t:[]).find(e=>"ARV Number"===e.type.name))||void 0===a?void 0:a.identifier)&&void 0!==e?e:"Add"},click:()=>{N.value=!0}},nationalPatientId:{val:()=>l.getNationalID()},age:{val:()=>`${l.getAge()} years`},sex:{val:()=>"M"===l.getGender()?"Male":"F"===l.getGender()?"Female":"Unknown"},location:{val:()=>l.getCurrentVillage()},landmark:{val:()=>"N/A"},guardian:{val:async()=>(await ne.getGuardianDetails(l.getID())).map(e=>` ${e.name} (${e.relationshipType})`).join(" ")||"Add Guardian",click:()=>{V.value=!0}},initWKg:{val:()=>l.getInitialWeight()},initHCm:{val:()=>l.getInitialHeight()},initBmi:{val:()=>l.getInitialBMI()},initPreg:{val:()=>l.getInitialObs("Is patient pregnant","value_coded")},initBreastfeeding:{val:async()=>await l.isBreastfeeding()?"Yes":"No"},curPreg:{val:async()=>await l.isPregnant()?"Yes":"No"},curBreastfeeding:{val:async()=>await l.isBreastfeeding()?"Yes":"No"},ti:{val:()=>ae.getFirstValueCoded(l.getID(),"Ever received ART")},agreesToFollowUp:{val:()=>ae.getFirstValueCoded(l.getID(),"Agrees to followup")},reasonForStartingArt:{val:()=>ae.getFirstValueCoded(l.getID(),"Reason for ART eligibility")},hivTestDate:{val:async()=>{const e=await ae.getFirstValueDatetime(l.getID(),"Confirmatory HIV test date");return e?le.toStandardHisDisplayFormat(e):""}},hivTestPlace:{val:()=>ae.getFirstValueText(l.getID(),"Confirmatory HIV test location")},dateOfStartingFirstLineArt:{val:async()=>{const e=await ae.getFirstValueDatetime(l.getID(),"Date ART started");return e?le.toStandardHisDisplayFormat(e):""}},pulmonaryTbWithinLast2Years:{init:async()=>{a.value=await ae.getAllValueCoded(l.getID(),"Who stages criteria present")||[]},val:()=>Q("Tuberculosis (PTB or EPTB) within the last 2 years")},extraPulmonaryTb:{val:()=>Q("Extrapulmonary tuberculosis (EPTB)")},pulmonaryTbCurrent:{val:()=>Q("Pulmonary tuberculosis (current)")},kaposisSarcoma:{val:()=>Q("Kaposis sarcoma")}};function Q(e){return a.value.includes(e)?"Yes":"No"}async function X(){for(const a in J){const t=J[a];try{"function"==typeof t.init&&await t.init(),K[a]=await t.val()||"-"}catch(e){K[a]="Error",console.error("Error initializing card item",t,e)}}}function Z(e){!function(e){const a=e=>e.map(([e,a])=>`${e} (${a})`).join("/");A.value=[{label:"Outcome",value:e.outcome},{label:"Outcome Date",value:e.outcome_date},{label:"Side effects",value:e.side_effects},{label:"Viral load",value:e.viral_load},{label:"Pills Brought",value:a(e.pills_brought)},{label:"Pills dispensed",value:a(e.pills_dispensed)},{label:"Visit by",value:e.visit_by},{label:"Regimen",value:e.regimen},{label:"Adherence",value:a(e.adherence)},{label:"TB Status",value:e.tb_status},{label:"Height (cm)",value:e.height},{label:"Weight (Kg)",value:e.weight},{label:"BMI",value:e.bmi},{label:"Is pregnant",value:e.isPregnant,visible:l.isFemale()},{label:"Is breastfeeding",value:e.isBreastfeeding,visible:l.isFemale()}]}(e),o.value=!0}function ee(){o.value=!1}function ie(e){V.value=!1,X()}function oe(e){V.value=!1,X()}async function re(e){var a;N.value=!1,(null!==(a=t.value)&&void 0!==a?a:[]).find(e=>"ARV Number"===e.label).value=e}return r(()=>{X(),(I.value=!1,D.value=!0,q.getPatientVisits(l.getID(),!0).then(e=>{i.value=e.map(e=>[{val:le.toStandardHisDisplayFormat(e),actualDate:e},{val:"..."},{val:"..."},{val:"..."},{val:"..."},{val:"..."},{val:"..."},{btn:{label:"More"}}])}).finally(()=>{I.value=!0,D.value=!1})).then(()=>async function(){D.value=!0;for(let e=0;e<i.value.length;++e){const a=i.value[e],t=a[0].actualDate,n=l.getID(),o=await Y.getCurrentProgramInformation(n,t),r=await Y.getMastercardDrugInformation(n,t),u=((null==r?void 0:r.pills_given)||[]).map(e=>`${e.short_name||e.name} <b>(${e.quantity||"?"})</b>`).join("<br/>");if(l.isFemale()){const e=await ae.getFirstObs(n,"Is patient pregnant",t);e&&le.toStandardHisDisplayFormat(e.obs_datetime)===t&&e.value_coded;const a=await ae.getFirstObs(n,"Is patient breast feeding",t);a&&le.toStandardHisDisplayFormat(a.obs_datetime)===t&&a.value_coded}a[1].val=o.weight,a[2].val=o.regimen,a[3].val=o.viral_load,a[4].val=o.tb_status,a[5].val=o.outcome.match(/Unk/i)?"Unknown":o.outcome,a[6].val=u,a[7].btn={label:"More",onClick:()=>Z(o)}}D.value=!0}()).finally(()=>D.value=!1)}),(e,a)=>(s(),u(d(z),null,{default:v(()=>[p(d(y),null,{default:v(()=>[p(d(b),null,{default:v(()=>[p(d(m),{slot:"start"},{default:v(()=>[p(d(h),{onClick:a[0]||(a[0]=a=>e.$router.back())},{default:v(()=>[p(d(C),{icon:d(S)},null,8,["icon"])]),_:1})]),_:1}),p(d(f),{class:"ion-text-center"},{default:v(()=>[...a[5]||(a[5]=[g("Patient Mastercard",-1)])]),_:1})]),_:1})]),_:1}),p(d(P),null,{default:v(()=>[p(d(B),{value:"info"},{default:v(()=>[p(d(F),{class:"ion-padding",value:"info"},{default:v(()=>[p(d(H),{color:"light",slot:"header"},{default:v(()=>[p(d(C),{icon:d($)},null,8,["icon"]),p(d(w),{style:{"font-weight":"bold","margin-left":"10px"}},{default:v(()=>[_("h2",null,[g(k(K.name)+" ",1),_("small",be,"("+k(K.sex)+", "+k(K.age)+")",1)])]),_:1})]),_:1}),_("div",fe,[p(d(O),null,{default:v(()=>[p(d(E),null,{default:v(()=>[p(d(M),null,{default:v(()=>[p(d(U),null,{default:v(()=>[p(d(W),null,{default:v(()=>[_("div",ge,[_("div",null,[a[6]||(a[6]=g("ARV: ",-1)),_("a",{href:"!#",onClick:a[1]||(a[1]=e=>{e.preventDefault(),J.arvNumber.click()}),fill:"outline"},[_("b",null,k(K.arvNumber),1)])]),_("div",null,[a[7]||(a[7]=g("National ID: ",-1)),_("b",me,k(K.nationalPatientId),1)])])]),_:1}),p(d(W),null,{default:v(()=>[_("div",he,[_("div",null,[_("div",null,[a[8]||(a[8]=g("Location: ",-1)),_("b",ye,k(K.location),1)]),_("div",null,[a[9]||(a[9]=g(" Landmark: ",-1)),_("b",_e,k(K.landmark),1)])])])]),_:1}),p(d(W),null,{default:v(()=>[_("div",xe,[a[10]||(a[10]=_("h2",null,"Guardian",-1)),_("div",null,[_("a",{href:"!#",onClick:a[2]||(a[2]=e=>{e.preventDefault(),J.guardian.click()}),fill:"clear"},[_("b",null,k(K.guardian),1)])])])]),_:1})]),_:1}),p(d(U),null,{default:v(()=>[p(d(W),null,{default:v(()=>[_("div",we,[_("div",null,[a[14]||(a[14]=_("h2",{class:"header"},"Vitals",-1)),_("div",null,[a[11]||(a[11]=g("Init HT (CM): ",-1)),_("b",Ae,k(K.initHCm),1)]),_("div",null,[a[12]||(a[12]=g("Init WT (KG): ",-1)),_("b",Ve,k(K.initWkg),1)]),_("div",null,[a[13]||(a[13]=g("Init BMI: ",-1)),_("b",ke,k(K.initBmi),1)])])])]),_:1}),d(l).isFemale()?(s(),u(d(W),{key:0},{default:v(()=>[_("div",Ne,[a[19]||(a[19]=_("h2",{class:"header"},"Pregnancy",-1)),p(d(M),null,{default:v(()=>[p(d(U),null,{default:v(()=>[p(d(W),null,{default:v(()=>[_("div",null,[a[15]||(a[15]=_("span",{class:"option-label"},"Init Preg: ",-1)),_("b",Ie,k(K.initPreg),1)])]),_:1}),p(d(W),null,{default:v(()=>[_("div",null,[a[16]||(a[16]=_("span",{class:"option-label"},"Cur Preg: ",-1)),_("b",Re,k(K.curPreg),1)])]),_:1})]),_:1}),p(d(U),null,{default:v(()=>[p(d(W),null,{default:v(()=>[a[17]||(a[17]=_("span",{class:"option-label"},"Cur breastfeeding: ",-1)),_("b",De,k(K.curBreastfeeding),1)]),_:1}),p(d(W),null,{default:v(()=>[a[18]||(a[18]=_("span",{class:"option-label"},"Init Breastfeeding: ",-1)),_("b",Pe,k(K.initBreastfeeding),1)]),_:1})]),_:1})]),_:1})])]),_:1})):x("",!0),p(d(W),null,{default:v(()=>[_("div",Te,[a[23]||(a[23]=_("h2",{class:"header"},"TB",-1)),p(d(M),null,{default:v(()=>[p(d(U),null,{default:v(()=>[p(d(W),null,{default:v(()=>[_("div",null,[a[20]||(a[20]=_("span",{class:"option-label"},"Pulmonary TB within the last 2 years: ",-1)),_("b",Ce,k(K.pulmonaryTbWithinLast2Years),1)])]),_:1}),p(d(W),null,{default:v(()=>[_("div",null,[a[21]||(a[21]=_("span",{class:"option-label"},"Extra pulmonart TB (EPTB):",-1)),_("b",Se,k(K.extraPulmonaryTb),1)])]),_:1})]),_:1}),p(d(U),null,{default:v(()=>[p(d(W),null,{default:v(()=>[a[22]||(a[22]=_("span",{class:"option-label"}," Pulmonary TB (current): ",-1)),_("b",Be,k(K.pulmonaryTbCurrent),1)]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}),p(d(U),null,{default:v(()=>[p(d(W),null,{default:v(()=>[_("div",Fe,[a[28]||(a[28]=_("h2",{class:"header"},"ART",-1)),p(d(M),null,{default:v(()=>[p(d(U),null,{default:v(()=>[p(d(W),null,{default:v(()=>[_("div",null,[a[24]||(a[24]=_("span",{class:"option-label"},"HIV test date: ",-1)),_("b",He,k(K.hivTestDate),1)])]),_:1}),p(d(W),null,{default:v(()=>[_("div",null,[a[25]||(a[25]=_("span",{class:"option-label"},"HIV test place:",-1)),_("b",$e,k(K.hivTestPlace),1)])]),_:1})]),_:1}),p(d(U),null,{default:v(()=>[p(d(W),null,{default:v(()=>[a[26]||(a[26]=_("span",{class:"option-label"}," Date of starting first line ART: ",-1)),_("b",Oe,k(K.dateOfStartingFirstLineArt),1)]),_:1}),p(d(W),null,{default:v(()=>[a[27]||(a[27]=_("span",{class:"option-label"}," Reason for starting ART: ",-1)),_("b",Ee,k(K.reasonForStartingArt),1)]),_:1})]),_:1})]),_:1})])]),_:1}),p(d(W),null,{default:v(()=>[_("div",Me,[a[32]||(a[32]=_("h2",{class:"header"},"Other",-1)),p(d(M),null,{default:v(()=>[p(d(U),null,{default:v(()=>[p(d(W),null,{default:v(()=>[_("div",null,[a[29]||(a[29]=_("span",{class:"option-label"},"TI: ",-1)),_("span",Ue,k(K.ti),1)])]),_:1}),p(d(W),null,{default:v(()=>[_("div",null,[a[30]||(a[30]=_("span",{class:"option-label"},"Agrees to follow up: ",-1)),_("b",We,k(K.agreesToFollowUp),1)])]),_:1})]),_:1}),p(d(U),null,{default:v(()=>[p(d(W),null,{default:v(()=>[a[31]||(a[31]=_("span",{class:"option-label"}," Kaposis sarcoma: ",-1)),_("b",je,k(K.kaposisSarcoma),1)]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}),D.value?(s(),u(d(j),{key:0,type:"indeterminate"})):x("",!0),_("table",Le,[a[34]||(a[34]=_("thead",null,[_("tr",null,[_("th",null,"Visit Date"),_("th",null,"Weight (kg)"),_("th",null,"Reg"),_("th",null,"Viral Load"),_("th",null,"TB Status"),_("th",null,"Outcome"),_("th",null,"Pills Dispensed"),_("th",null,"Actions")])],-1)),I.value?(s(),R("tbody",Ge,[(s(!0),R(L,null,G(i.value,(e,a)=>(s(),R("tr",{key:a},[(s(!0),R(L,null,G(e,(e,a)=>(s(),R("td",{key:a},[e.val?(s(),R("span",{key:0,innerHTML:e.val},null,8,ze)):e.btn&&"function"==typeof(null==e?void 0:e.btn.onClick)?(s(),u(d(h),{key:1,onClick:e.btn.onClick},{default:v(()=>[g(k(e.btn.label),1)]),_:2},1032,["onClick"])):x("",!0)]))),128))]))),128))])):(s(),R("tbody",qe,[(s(),R(L,null,G(6,e=>_("tr",{key:e},[...a[33]||(a[33]=[_("td",null,"...",-1),_("td",null,"...",-1),_("td",null,"...",-1),_("td",null,"...",-1),_("td",null,"...",-1),_("td",null,"...",-1),_("td",null,"...",-1),_("td",null,"...",-1)])])),64))]))]),p(d(c),{"is-open":o.value,onIonModalDidDismiss:ee},{default:v(()=>[_("div",Ke,[a[36]||(a[36]=_("h3",null,"Details",-1)),_("ul",null,[(s(!0),R(L,null,G(A.value,e=>(s(),R("li",{key:e.label},[_("strong",null,k(e.label)+":",1),g(" "+k(e.value),1)]))),128))]),p(d(h),{expand:"block",onClick:ee},{default:v(()=>[...a[35]||(a[35]=[g("Close",-1)])]),_:1})])]),_:1},8,["is-open"]),p(te,{isOpen:V.value,onClose:a[3]||(a[3]=e=>V.value=!1),onGuardianSelected:ie,onWhenSaved:oe},null,8,["isOpen"]),p(pe,{isOpen:N.value,onClose:a[4]||(a[4]=e=>N.value=!1),onArvNumberSaved:re},null,8,["isOpen"])]),_:1})]),_:1}))}}),[["__scopeId","data-v-596a6369"]]))}}})}();
