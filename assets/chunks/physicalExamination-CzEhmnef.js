import{d as S,r as o,c as w,O as N,f as y,J as p,k as d,l,u as b,N as Q,Q as X,K as q,p as Z,a as L,e as j,bw as R,F as ee,am as ae,b2 as ne,ab as oe,m as te,i as E,bT as le,v as B,ae as se}from"./vendor-CAxM8KGs.js";import{n as P,z as D,_ as V,F as re,b as ie,Z as ue,t as J,u as ce,T as me,D as de,C as H}from"../index-CSiBRz_H.js";import{D as pe}from"./DemographicBar-Bk6HKvtx.js";import{u as fe,_ as be}from"./useFormWizard-C1Sj9LRM.js";import{V as ve}from"./Vitals-Cdr2ZV6O.js";import{M as ge,_ as he,a as ye}from"./AbdominalExamination.vue_vue_type_script_setup_true_lang-BBEWUnoU.js";import{_ as _e}from"./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-BUbzJJIJ.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-y0ZeiY9V.js";const xe=S({__name:"IsPallorPresent",setup(F,{expose:u}){const i=o(0),n=o(null),s=w(()=>[{componentType:"radioButtonField",name:"Is pallor present?",header:"Is pallor present?",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],onChange:(a,e)=>{if(a==="Yes")return{"ny action taken?":""}}},{name:"Any action taken?",componentType:"radioButtonField",header:"Any action taken?",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],onChange:(a,e)=>{if(a==="Yes")return{"Specify the action taken":""}},condition:a=>a["Is pallor present?"]==="Yes"},{header:"Specify the action taken",name:"Specify the action taken",componentType:"inputField",icon:P.editPen,condition:a=>a["Any action taken?"]==="Yes"}]);return u({onSubmit:async()=>{if(!n.value){console.error("Form reference is not available");return}}}),(a,e)=>(y(),N(D,{subtitle:"Is pallor present",formData:s.value,key:i.value,ref_key:"formRef",ref:n},null,8,["formData"]))}}),Ne=S({__name:"oedemaPresent",setup(F,{expose:u}){const i=o(0),n=o(null),s=w(()=>[{name:"Is oedema present?",header:"Is oedema present?",componentType:"radioButtonField",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Select the type of Oedema the woman has?",header:"Select the type of Oedema the woman has?",componentType:"radioButtonField",options:[{label:"pitting ankle oedema",value:"pitting ankle oedema"},{label:"leg swelling",value:"leg swelling"},{label:"oedema of the hands and feet",value:"oedema of the hands and feet"},{label:"pitting lower back oedema",value:"pitting lower back oedema"},{label:"Facial oedema",value:"Facial oedema"},{label:"General body oedema",value:"General body oedema"}],condition:a=>a["Is oedema present?"]==="Yes"},{name:"Severity of Oedema?",header:"Severity of Oedema?",componentType:"radioButtonField",options:[{label:"+",value:"+"},{label:"++",value:"++"},{label:"+++",value:"+++"},{label:"++++",value:"++++"}],condition:a=>a["Is oedema present?"]==="Yes"},{name:"Varicose Veins Present",header:"Varicose Veins Present",componentType:"radioButtonField",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Any deformities present?",header:"Any deformities present?",componentType:"radioButtonField",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes",grid:{s:"12"},condition:a=>a["Any deformities present?"]==="Yes"},{name:"Specify the deformity",header:"Specify the deformity",componentType:"inputField",icon:P.editPen,condition:a=>a["Any deformities present?"]==="Yes"}]);return u({onSubmit:async()=>{if(!n.value){console.error("Form reference is not available");return}}}),(a,e)=>(y(),N(D,{subtitle:"Extremities",formData:s.value,key:i.value,ref_key:"formRef",ref:n},null,8,["formData"]))}}),Se={class:"tb-button-container"},Fe=S({__name:"respiratoryExamFindings",setup(F,{expose:u}){const i=o(0),n=o(null),s=e=>{console.log("Patient referred for TB testing with values:",e),alert("Referral for TB Testing has been recorded.")},m=w(()=>[{name:"Cough",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Cough",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],onChange:(e,t)=>{if(e==="Yes")return{Fever:"","Cough type:":"","Duration of cough:":"","Weight loss":"","Night sweats":""}}},{name:"Rapid breathing",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Rapid breathing",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Slow breathing",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Slow breathing",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Wheezing",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Wheezing",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Rales",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Rales",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Respiratory distress",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Respiratory distress",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Other findings",type:"single",componentType:"checkboxField",grid:{s:"5"},label:"Other findings",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],onChange:e=>{if(e==="Yes")return{"Specify other respiratory findings":""}}},{header:"Specify other respiratory findings",name:"Specify other respiratory findings",componentType:"inputField",icon:P.editPen,condition:e=>e["Other findings"]===!0},{componentType:"Dashes",grid:{s:"12"},condition:e=>e.Cough===!0},{name:"TB Screening",header:"TB Screening",componentType:"Heading",grid:{s:"12"},condition:e=>e.Cough===!0},{componentType:"inputField",name:"Duration of cough",header:"Duration of cough",icon:P.edit,unitOptions:[{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],condition:e=>e.Cough===!0},{name:"Weight loss",label:"Weight loss",header:"Weight loss",componentType:"radioButtonField",grid:{s:"5"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],condition:e=>e.Cough===!0},{name:"Fever",label:"Fever",header:"Fever",componentType:"radioButtonField",grid:{s:"5"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],condition:e=>e.Cough===!0},{name:"Cough type",label:"Dry or productive",header:"Cough type",componentType:"radioButtonField",grid:{s:"5"},options:[{label:"Dry",value:"Dry"},{label:"Productive",value:"Productive"}],condition:e=>e.Cough===!0},{name:"Night sweats",label:"Night sweats",header:"Night sweats",componentType:"radioButtonField",grid:{s:"5"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],condition:e=>e.Cough===!0},{componentType:"Dashes",condition:e=>e["Weight loss"]==="Yes"||e.Fever==="Yes"||e["Night sweats"]==="Yes"},{name:"tb_referral_slot",componentType:"Slot",slotName:"tb_button_slot",grid:{s:"12"},condition:e=>e["Weight loss"]==="Yes"||e.Fever==="Yes"||e["Night sweats"]==="Yes"||e.Cough==="Yes"}]);return u({onSubmit:async()=>{if(!n.value){console.error("Form reference is not available");return}}}),(e,t)=>(y(),N(D,{subtitle:"Respiratory exam findings",formData:m.value,key:i.value,ref_key:"formRef",ref:n},{tb_button_slot:p(({formValues:c})=>[d("div",Se,[l(b(Q),{expand:"block",color:"warning",onClick:_=>s(c)},{default:p(()=>[...t[0]||(t[0]=[X(" Send for TB testing ",-1)])]),_:1},8,["onClick"])])]),_:1},8,["formData"]))}}),Te=V(Fe,[["__scopeId","data-v-4c6e4f0c"]]),ke=S({__name:"Appearance",setup(F,{expose:u}){const i=o(0),n=o(null),s=w(()=>[{componentType:"radioButtonField",name:"Kempt",header:"Kempt",required:!0,obsValueType:"value_coded",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"Gait",componentType:"radioButtonField",header:"Gait",required:!0,obsValueType:"value_coded",options:[{label:"Normal",value:"Normal"},{label:"Abnormal",value:"Abnormal"}]},{name:"Nutritional status",componentType:"radioButtonField",header:"Nutritional status",obsValueType:"value_coded",required:!0,options:[{label:"Well Nourished",value:"Well Nourished"},{label:"Malnourished",value:"Malnourished"}]}]);return u({onSubmit:async()=>{var e,t;if(!n.value){console.error("Form reference is not available");return}const a=((e=n.value)==null?void 0:e.getFormValues())||{};(t=n.value)==null||t.validateForm(),a.Kempt||a.Gait||a["Nutritional status"]?(await re.buildAddObsToEncounterPatient(a,ie.PHYSICAL_EXAMINATION),n.value.resetForm(),ue("Appearance saved successfully")):J("No appearance data to save")},validateForm:()=>{var a;return(a=n.value)==null?void 0:a.validateForm()}}),(a,e)=>(y(),N(D,{subtitle:"Appearance",formData:s.value,key:i.value,ref_key:"formRef",ref:n},null,8,["formData"]))}}),Ce={class:"warning-title"},Ye={class:"warning-message"},Re=S({__name:"MUAC",setup(F,{expose:u}){const i=o(0),n=o(null),s=e=>{const t=parseFloat(e);return!t||isNaN(t)?{class:"",label:"",color:"",message:""}:t<18?{class:"status-red",label:"Severe (Red)",color:"#ffcdd2",message:"Refer for nutritional management"}:t>=18&&t<=21?{class:"status-yellow",label:"Moderate (Yellow)",color:"#fff9c4",message:"Refer for nutritional management"}:{class:"status-green",label:"Normal (Green)",color:"#c8e6c9",message:"Patient is well nourished"}},m=w(()=>[{name:"MUAC - Number",header:"MUAC - Number",componentType:"inputField",icon:P.height,unit:"cm",eventType:"number",onChange:e=>({backgroundColor:s(e).color})},{name:"muac_alert_container",componentType:"Slot",slotName:"muac_warning_slot",grid:{s:"12"},condition:e=>{const t=parseFloat(e["MUAC - Number"]);return!isNaN(t)&&t>0}}]);return u({onSubmit:async()=>{if(!n.value){console.error("Form reference is not available");return}}}),(e,t)=>(y(),N(D,{subtitle:"Mid-Upper Arm Circumference (MUAC)",formData:m.value,key:i.value,ref_key:"formRef",ref:n},{muac_warning_slot:p(({formValues:c})=>[d("div",{class:Z(["muac-warning-box",s(c["MUAC - Number"]).class])},[d("div",Ce," Nutritional Status: "+q(s(c["MUAC - Number"]).label),1),d("div",Ye,q(s(c["MUAC - Number"]).message),1)],2)]),_:1},8,["formData"]))}}),we=V(Re,[["__scopeId","data-v-a0da09fc"]]),Ae=S({__name:"GeneralExamination",setup(F,{expose:u}){const i=o(null),n=o(null),s=o(null),m=o(null),a=o(null),e=o(null);return L(()=>{}),u({validateForm:()=>{},onSubmit:()=>{var c,_,v,M,T,h,k,G,f,A,C,I;try{const Y=[(_=(c=i.value)==null?void 0:c.onSubmit)==null?void 0:_.call(c),(M=(v=n.value)==null?void 0:v.onSubmit)==null?void 0:M.call(v),(h=(T=s.value)==null?void 0:T.onSubmit)==null?void 0:h.call(T),(G=(k=m.value)==null?void 0:k.onSubmit)==null?void 0:G.call(k),(A=(f=a.value)==null?void 0:f.onSubmit)==null?void 0:A.call(f),(I=(C=e.value)==null?void 0:C.onSubmit)==null?void 0:I.call(C)].filter(r=>r!==void 0);return Y.length===0||Y.every(r=>r===!0)}catch(Y){return console.error("Error in GeneralExamination onSubmit:",Y),!1}}}),(c,_)=>(y(),j(ee,null,[l(b(R),{class:"m-card"},{default:p(()=>[l(_e,{ref_key:"levelOfConsciousnessRef",ref:i},null,512)]),_:1}),l(b(R),{class:"m-card"},{default:p(()=>[l(ke,{ref_key:"MUACref",ref:n},null,512)]),_:1}),l(b(R),{class:"m-card"},{default:p(()=>[l(we,{ref_key:"apperanceRef",ref:s},null,512)]),_:1}),l(b(R),{class:"m-card"},{default:p(()=>[l(Te,{ref_key:"respiratoryExamFindingsRef",ref:m},null,512)]),_:1}),l(b(R),{class:"m-card"},{default:p(()=>[l(xe,{ref_key:"isPallorPresentRef",ref:a},null,512)]),_:1}),l(b(R),{class:"m-card"},{default:p(()=>[l(Ne,{ref_key:"oedemaPresentRef",ref:e},null,512)]),_:1})],64))}}),Ee=V(Ae,[["__scopeId","data-v-536cbcf7"]]),Be={style:{width:"90vw",margin:"0 auto","margin-top":"10px"},class:"p-container"},Pe={class:"back_profile"},De=S({__name:"physicalExamination",setup(F){const u=ae(),{onTabBeforeChange:i,currentTabIndex:n}=fe(),s=o(null),m=o(null),a=o(null),e=o(null),t=o(null),c=ce(),{patient:_}=ne(c),v=()=>{var g;if(!f.value||f.value.length===0)return null;const r=n.value>=0&&n.value<f.value.length?n.value:0;switch((g=f.value[r])==null?void 0:g.title){case"Vital Signs":return"Vitals";case"General Examination":return"GeneralExamination";case"Maternal Exam":return"MaternalExam";case"Abdominal examination":return"AbdominalExamination";case"Presenting signs for IPV":return"PresentingSigns";default:return null}},M=o(!0),T=o(!1),h=o(!1),k=w(()=>({text:h.value?"Saving...":"Finish",icon:h.value?"hourglass-outline":"checkmark",hideText:!1,hideIcon:!1,disabled:T.value||h.value})),f=o([{title:"Vital Signs",icon:""},{title:"General Examination",icon:""},{title:"Maternal Exam",icon:""},{title:"Abdominal examination",icon:""},{title:"Presenting signs for IPV",icon:""}]),A=()=>{u.push("/contact")},C=r=>{console.log("Done button change received from wizard:",r),r.newOptions.disabled&&console.log("Done button has been disabled"),r.isLastStep&&console.log("User is on the last step, done button should be visible")},I=async(r,x)=>{var O,$,W,U,z,K;const g=(O=f.value[x])==null?void 0:O.title;r%1===0&&(n.value=r),g=="Vital Signs"&&(($=s.value)==null||$.onSubmit()),g=="General Examination"&&(console.log("General Examination: ",t.value),(W=t.value)==null||W.onSubmit()),g=="Maternal Exam"&&((U=m.value)==null||U.onSubmit()),g=="Abdominal examination"&&((z=a.value)==null||z.onSubmit()),g=="Presenting signs for IPV"&&((K=e.value)==null||K.onSubmit()),await H(_.value)};L(async()=>{(n.value===void 0||n.value<0)&&(n.value=0,console.log("Setting initial tab index to 0"))});const Y=async()=>{h.value=!0;try{await H(_.value),A()}catch(r){console.error("Error saving data:",r),J("Error occurred while saving data. Please try again.")}finally{h.value=!1}};return(r,x)=>(y(),N(b(se),null,{default:p(()=>[l(me),l(b(oe),{fullscreen:!0},{default:p(()=>[l(pe),d("div",Be,[M.value?(y(),N(be,{key:0,ref:"wizard",headingTitle:"Physical examination","vertical-tabs":"","navigable-tabs":"","scrollable-tabs":"",startIndex:0,doneButton:k.value,"custom-tabs":f.value,beforeChange:b(i),onChange:I,"onComplete:wizard":x[1]||(x[1]=g=>Y()),onDoneButtonChanged:C},{default:p(()=>[d("div",null,[d("div",Pe,[l(de,{name:"Back to Contact",iconSlot:"start",fill:"clear",icon:b(le),"font-weight":"600",onClick:x[0]||(x[0]=g=>A())},null,8,["icon"])])]),E(d("div",null,[l(ve,{ref_key:"vitalsRef",ref:s},null,512)],512),[[B,v()=="Vitals"]]),E(d("div",null,[l(ge,{ref_key:"MaternalExamRef",ref:m},null,512)],512),[[B,v()=="MaternalExam"]]),E(d("div",null,[l(he,{ref_key:"AbdominalExaminationRef",ref:a},null,512)],512),[[B,v()=="AbdominalExamination"]]),E(d("div",null,[l(ye,{ref_key:"PresentingSignsRef",ref:e},null,512)],512),[[B,v()=="PresentingSigns"]]),E(d("div",null,[l(Ee,{ref_key:"GeneralExaminationRef",ref:t},null,512)],512),[[B,v()=="GeneralExamination"]])]),_:1},8,["doneButton","custom-tabs","beforeChange"])):te("",!0)])]),_:1})]),_:1}))}}),Ke=V(De,[["__scopeId","data-v-17c1cc7f"]]);export{Ke as default};
