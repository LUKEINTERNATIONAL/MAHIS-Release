import{cn as p,cd as r,cm as d,aF as i,cD as _,cE as v,aE as b}from"../index-CgDetJyr.js";import{d as f,r as s,O as g,f as h}from"./vendor-BpjEhVym.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-DMAoEdNS.js";const R=f({__name:"ActiveClientsWithAdverseOutcomes",setup(D){const o=s("-"),n=s([]),c=[p("patient_id")],l=[{path:"arv_number",label:"ARV Number"},{path:"filling_number",label:"Filling Number"},{path:"outcome",label:"Outcome"},{path:"outcome_date",label:"Outcome Date",formatter:r},{path:"dispensation_visit_date",label:"Last Dispensation Date",formatter:r}];async function m(a){await i.show();try{const t=new _;t.setStartDate(a.dateRange.startDate),t.setEndDate(a.dateRange.endDate),o.value=t.getDateIntervalPeriod();const u=await t.getCleaningToolReport(v.ActiveClientsWithAdverseOutcomes);n.value=u.map(e=>({arv_number:e.arv_number,filling_number:e.filling_number,outcome:e.outcome,outcome_date:e.outcome_date,dispensation_visit_date:e.dispensation_visit_date,patient_id:e.patient_id}))}catch(t){b("Unable to load report data"),console.error(t)}await i.hide()}return(a,t)=>(h(),g(d,{title:"Active Clients with Adverse Outcomes","report-type":"Clinic",columns:l,rows:n.value,period:o.value,"row-action-buttons":c,"use-date-range-filter":"","use-secure-export":"",onGenerate:m},null,8,["rows","period"]))}});export{R as default};
