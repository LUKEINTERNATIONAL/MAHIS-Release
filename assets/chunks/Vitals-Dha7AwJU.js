import{d as P,am as C,cr as V,r as u,b2 as d,a as w,O as B,f,J as v,e as D,m as I,l as a,k as t,u as s,a0 as x,ab as T,bT as m,ba as O,ae as N}from"./vendor-DXMRec6a.js";import{u as R,b0 as A,T as L,D as l,r as $,bI as W,s as U,w as E,_ as J}from"../index-DFvmUOLO.js";import{D as M}from"./DemographicBar-CZzO1gJk.js";import{V as j}from"./Vitals-BvmHxnK5.js";import{u as q}from"./useUserActivities-1k2n1pGK.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-89lqyBgH.js";const z={key:0,class:"spinner-overlay"},F={class:"container"},G={class:"vitals-header"},H={class:"back_profile"},K={class:"vitals-content"},Q={class:"action-buttons"},X=P({__name:"Vitals",setup(Y){const o=C();V();const i=u(!1),{hasWaitingList:p,ready:S}=q(),g=R(),h=A(),{patient:_}=d(g),{vitals:Z}=d(h),n=u(null);w(async()=>{S.value});const k=()=>{o.push("home")},b=()=>{$()?o.push("/deathPatientProfile"):o.push("/patientProfile")},y=async()=>{i.value=!0;const r=String(localStorage.getItem("locationID"));try{n.value&&await n.value.onSubmit()&&(await W.addPatientToStage(_.value,"CONSULTATION"),await U().refresh(r),p("Waiting for Consultation")?await o.push("OPDConsultationPlan"):await o.push("home"))}catch(e){console.error("An unexpected error occurred in saveVitals (parent):",e),E("An unexpected error occurred. Please try again.")}finally{i.value=!1}};return(r,e)=>(f(),B(s(N),null,{default:v(()=>[i.value?(f(),D("div",z,[a(s(x),{name:"bubbles"}),e[3]||(e[3]=t("div",{class:"loading-text"},"Please wait...",-1))])):I("",!0),a(L),a(s(T),{fullscreen:!0},{default:v(()=>[a(M),t("div",F,[t("div",G,[t("div",H,[a(l,{name:"Back to Waiting list",iconSlot:"start",fill:"clear",icon:s(m),"font-weight":"600",onClick:e[0]||(e[0]=c=>k())},null,8,["icon"]),a(l,{name:"Back to Profile",iconSlot:"start",fill:"clear",icon:s(m),"font-weight":"600",onClick:e[1]||(e[1]=c=>b()),style:{"margin-left":"15px"}},null,8,["icon"])]),e[4]||(e[4]=t("div",{class:"vitals-title"},[t("h4",null,"Vital Signs"),t("hr",{class:"title-line"})],-1))]),t("div",K,[a(j,{ref_key:"vitalsRef",ref:n},null,512)]),t("div",Q,[a(l,{name:"Save Vitals",iconSlot:"start",fill:"solid",color:"primary",icon:s(O),onClick:e[2]||(e[2]=c=>y()),disabled:i.value},null,8,["icon","disabled"])])])]),_:1})]),_:1}))}}),le=J(X,[["__scopeId","data-v-c732a966"]]);export{le as default};
