System.register(["./vendor-legacy-DOgEQ5pP.js","../index-legacy-BCuDgchl.js","./neonatal_service-legacy-kLiDMrwU.js","./DemographicBar-legacy-B5K2Jn-x.js","./NeonatalStepper-legacy-DsMgRg_a.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-CjC0usxL.js","./SaveProgressModal-legacy-C-PgJnKZ.js","./images-legacy-gTS9vAYU.js","./enrollment-legacy-BWFKsMdA.js"],function(e,a){"use strict";var t,n,s,l,i,o,r,c,m,u,p,d,v,g,f,h,y,S,_,b,D,F,I,P,N,j,C,w;return{setters:[e=>{t=e.D,n=e.d,s=e.r,l=e.eN,i=e.w,o=e.e,r=e.f,c=e.l,m=e.u,u=e.a3,p=e.a6,d=e.an,v=e.aV,g=e.eO,f=e.H,h=e.O,y=e.J},e=>{S=e.l,_=e.aC,b=e._,D=e.T,F=e.u,I=e.t,P=e.H,N=e.G},e=>{j=e.N},e=>{C=e.D},e=>{w=e.N},null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".signs-symptoms-section-wrapper[data-v-312c3ac7],.signs-symptoms-section-wrapper[data-v-2ad14f66]{display:flex;flex-direction:column;gap:1rem}.neonatal-signs-symptoms-page[data-v-c92f7cbc]{--background: #f5f5f5}ion-content[data-v-c92f7cbc]{--background: #f5f5f5}\n/*$vite$:1*/",document.head.appendChild(a);const k=[{title:"Admission",subtitle:"Initial admission assessment",formData:[{componentType:"yesNoQuestion",name:"is_readmission",header:"Is this a re-admission?",validation:e=>e?null:"Please select Yes or No"}]},{title:"Signs/Symptoms",formData:[{componentType:"Alert",name:"presenting_complaints_banner",type:"warning",backgroundColor:"#FEDF89",textColor:"#B54708",message:"Reason for Admission / Presenting complaints"},{componentType:"multiSelectInputField",name:"presenting_complaints",header:"Your Selection",placeholder:"Search",icon:S.search,isMultiple:!0,closeOnSelect:!1,searchable:!0,trackBy:"value",options:[{label:"Lethargy",value:"lethargy"},{label:"Difficulty breathing",value:"difficulty_breathing"},{label:"Fever",value:"fever"},{label:"Irritability",value:"irritability"},{label:"Not tolerating feeds",value:"not_tolerating_feeds"},{label:"Vomiting",value:"vomiting"},{label:"Eye Discharge",value:"eye_discharge"},{label:"Diarrhoea",value:"diarrhoea"},{label:"Jaundice",value:"jaundice"},{label:"Convulsions",value:"convulsions"},{label:"Hypothermia",value:"hypothermia"},{label:"Poor feeding",value:"poor_feeding"},{label:"Cyanosis",value:"cyanosis"},{label:"Bleeding",value:"bleeding"},{label:"Abdominal distension",value:"abdominal_distension"},{label:"Umbilical discharge",value:"umbilical_discharge"},{label:"Skin rash",value:"skin_rash"},{label:"Pallor",value:"pallor"},{label:"Apnoea",value:"apnoea"}],validation:e=>e&&Array.isArray(e)&&0!==e.length?null:"Please select at least one presenting complaint"}]}],A={is_readmission:"",presenting_complaints:[],detailed_assessment_notes:"",symptom_onset_time:"",symptom_severity:""},O=Symbol("neonatalSignsSymptomsForm"),T=()=>JSON.parse(JSON.stringify(A)),V=t("neonatalSignsSymptomsStore",{state:()=>({activePatientId:null,formData:T(),formCache:{}}),actions:{initializeForPatient(e){if(null==e)return this.activePatientId=null,void Object.assign(this.formData,T());this.activePatientId=e;const a=String(e),t=this.formCache[a];t?Object.assign(this.formData,t):Object.assign(this.formData,T()),this.saveSnapshot()},saveSnapshot(){if(null==this.activePatientId)return;const e=String(this.activePatientId);this.formCache[e]=JSON.parse(JSON.stringify(this.formData))},resetActiveForm(){Object.assign(this.formData,T()),this.saveSnapshot()},clearPatient(e){delete this.formCache[String(e)],this.activePatientId===e&&this.resetActiveForm()}},persist:{paths:["activePatientId","formData","formCache"]}}),x={class:"signs-symptoms-section-wrapper"},R=b(n({__name:"AdmissionSection",setup(e,{expose:a}){const t=s(null),n=k[0],u=n.formData,p=n.conditionalRules||[],d=l(O),v=e=>{d&&(d.is_readmission=e.is_readmission||"")};return i(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&v(e)},{deep:!0}),i(()=>t.value,e=>{null!=e&&e.getFormValues&&v(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>t.value,validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(r(),o("div",x,[c(_,{formData:m(u),conditionalRules:m(p),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),[["__scopeId","data-v-312c3ac7"]]),z={class:"signs-symptoms-section-wrapper"},J=b(n({__name:"PresentingComplaintsSection",setup(e,{expose:a}){const t=s(null),n=k[1],u=n.formData,p=n.conditionalRules||[],d=l(O),v=e=>{d&&(d.presenting_complaints=e.presenting_complaints||[])};return i(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.formValues},e=>{e&&v(e)},{deep:!0}),i(()=>t.value,e=>{null!=e&&e.getFormValues&&v(e.getFormValues())},{immediate:!0}),a({getFormRef:()=>t.value,validateForm:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e))||null},getFormValues:()=>{var e,a;return(null===(e=t.value)||void 0===e||null===(a=e.getFormValues)||void 0===a?void 0:a.call(e))||{}}}),(e,a)=>(r(),o("div",z,[c(_,{formData:m(u),conditionalRules:m(p),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),[["__scopeId","data-v-2ad14f66"]]),B=n({name:"NeonatalSignsSymptoms",components:{IonPage:p,IonContent:u,Toolbar:D,DemographicBar:C,NeonatalStepper:w,AdmissionSection:R,PresentingComplaintsSection:J},setup(){const e=d(),a=F(),{patient:t}=v(a),n=V(),l=()=>{var e;const a=(e=>{const a=Number(e);return Number.isFinite(a)?a:null})(null===(e=t.value)||void 0===e?void 0:e.patientID);n.initializeForPatient(a)};l(),i(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.patientID},()=>l());const o=n.formData;g(O,o),i(()=>n.formData,()=>n.saveSnapshot(),{deep:!0});const r=s(k.map((e,a)=>({title:e.title,number:a+1,checked:!1,class:0===a?"open_step common_step":"common_step",last_step:a===k.length-1?"last_step":""}))),c=[{title:k[0].title,value:"1",component:R,configIndex:0},{title:k[1].title,value:"2",component:J,configIndex:1}],m=s("1");return{wizardData:r,stepperData:c,stepperTitle:"Signs & Symptoms Assessment",currentOpenStepper:m,updateStatus:e=>{e&&e.value&&r.value.forEach((a,t)=>{e.value===(t+1).toString()?(a.class="open_step common_step",a.checked=!1):t<parseInt(e.value)-1?(a.class="common_step color_white",a.checked=!0):(a.class="common_step",a.checked=!1)})},getSaveFunction:a=>a===c.length-1?async()=>{var a;if(null!==(a=t.value)&&void 0!==a&&a.patientID)try{const a=P.sessionDate();await j.saveSignsSymptomsAssessment(t.value.patientID,o,a),N("Signs & symptoms assessment saved successfully"),n.clearPatient(t.value.patientID),e.push({path:"/neonatal/review-of-systems"})}catch(s){console.error("Failed to save signs/symptoms assessment",s),I("Failed to save signs/symptoms assessment")}else I("No patient selected")}:null}}});e("default",b(B,[["render",function(e,a,t,n,s,l){const i=f("Toolbar"),o=f("NeonatalStepper"),m=f("ion-content"),u=f("ion-page");return r(),h(u,{class:"neonatal-signs-symptoms-page"},{default:y(()=>[c(i),c(m,{fullscreen:!0},{default:y(()=>[c(o,{wizardData:e.wizardData,StepperData:e.stepperData,stepperTitle:e.stepperTitle,openStepper:e.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:e.getSaveFunction,flowType:"signsSymptoms",onUpdateStatus:e.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","onUpdateStatus"])]),_:1})]),_:1})}],["__scopeId","data-v-c92f7cbc"]]))}}});
