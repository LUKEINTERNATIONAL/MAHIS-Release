System.register(["./vendor-legacy-CdypqbXP.js","../index-legacy-a_4iRUcf.js","./neonatal_service-legacy-pA3wFKsg.js","./admissionWorkflow-legacy-BPvQ4T84.js","./AdmissionProgressBar-legacy-lUzqg9Dd.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-DPlv51y0.js"],function(e,t){"use strict";var n,a,o,l,i,s,r,u,N,c,d,A,m,p,T,E,S,v,O,I,f,y,g,L,C,M,_,h;return{setters:[e=>{n=e.d,a=e.am,o=e.b2,l=e.r,i=e.c,s=e.a,r=e.w,u=e.O,N=e.f,c=e.J,d=e.l,A=e.u,m=e.ab,p=e.k,T=e.N,E=e.Q,S=e.L,v=e.f8,O=e.K,I=e.ae},e=>{f=e.u,y=e.b,g=e.T,L=e.t,C=e._},e=>{M=e.N},e=>{_=e.g},e=>{h=e.A},null,null],execute:function(){var t=document.createElement("style");t.textContent=".checkpoint-container[data-v-162d27fd]{max-width:900px;margin:0 auto}.control-buttons[data-v-162d27fd]{margin-top:24px;display:flex;flex-direction:column;gap:12px}ion-button[data-v-162d27fd]{font-weight:500}\n/*$vite$:1*/",document.head.appendChild(t);const x={class:"checkpoint-container"},R={class:"control-buttons"};e("default",C(n({__name:"NeonatalCheckpoint",setup(e){const t=a(),n=f(),{patient:C}=o(n),P=l(!1),D=l([]),Y=l(!1),b=l(!1),G=l([{encounterType:y.NEONATAL_SIGNS_SYMPTOMS,title:"Signs & Symptoms",route:"/neonatal/signs-symptoms",encounterNames:["NEONATAL SIGNS & SYMPTOMS","NEONATAL SIGNS SYMPTOMS"],isCompleted:!1},{encounterType:y.NEONATAL_REVIEW_OF_SYSTEMS,title:"Review of Systems",route:"/neonatal/review-of-systems",encounterNames:["NEONATAL REVIEW OF SYSTEMS"],isCompleted:!1},{encounterType:y.PHYSICAL_EXAMINATION_BABY,title:"General Examination",route:"/neonatal/general-examination",encounterNames:["PHYSICAL EXAMINATION BABY","NEONATAL GENERAL EXAMINATION"],isCompleted:!1},{encounterType:y.VITALS,title:"Vitals",route:"/neonatal/vitals",encounterNames:["VITALS","NEONATAL VITALS"],isCompleted:!1},{encounterType:y.NEONATAL_SYSTEMIC_EXAMINATION,title:"Systemic Examination",route:"/neonatal/SystemicExamination",encounterNames:["NEONATAL SYSTEMIC EXAMINATION"],isCompleted:!1},{encounterType:y.DIAGNOSIS,title:"Diagnosis",route:"/neonatal/diagnosis",encounterNames:["DIAGNOSIS","NEONATAL DIAGNOSIS"],isCompleted:!1},{title:"Investigations",route:"/neonatal/investigation",encounterNames:["LAB ORDERS","LAB RESULTS"],isCompleted:!1},{encounterType:y.TREATMENT,title:"Treatment Plan",route:"/neonatal/treatment-plan",encounterNames:["TREATMENT","NEONATAL TREATMENT PLAN"],isCompleted:!1},{encounterType:y.NEONATAL_ADMISSION_OUTCOMES,title:"Admission Outcomes",route:"/neonatal/admission-outcomes",encounterNames:["NEONATAL ADMISSION OUTCOMES","ADMISSION OUTCOMES"],isCompleted:!1},{title:"Sign Off",route:"/neonatal/admission-signoff",encounterNames:["NEONATAL SIGNOFF"],isCompleted:!1}]),k=e=>(null!=e?e:"").trim().toUpperCase(),j=i(()=>{if(!b.value)return"Next: Triage";if(!Y.value)return"Next: Profiling";const e=G.value.find(e=>!e.isCompleted);return e?`Next: ${e.title}`:"Print Summary"}),w=i(()=>G.value.every(e=>e.isCompleted)),B=async()=>{var e;if(null===(e=C.value)||void 0===e||!e.patientID)return L("No patient selected"),void t.push("/patientProfile");P.value=!0;try{const e=await M.getSavedEncounters(C.value.patientID);D.value=Array.isArray(null==e?void 0:e.encounters)?e.encounters:[],Y.value=D.value.some(e=>{const t=k(e);return"NEONATAL ENROLLMENT"===t||"NEONATAL ENROLMENT"===t}),b.value=D.value.some(e=>"NEONATAL TRIAGE"===k(e));const t=_(D.value,G.value);G.value.forEach((e,n)=>{e.isCompleted=n<t})}catch(n){console.error("Error loading progress:",n),L("Unable to load progress")}finally{P.value=!1}},U=()=>{if(!b.value)return void t.push("/neonatal/triage");if(!Y.value)return void t.push("/neonatal/enrollment");const e=G.value.find(e=>!e.isCompleted);e?t.push({path:e.route,query:e.query||{}}):w.value&&t.push("/neonatal/admission-outcomes")};return s(()=>{B()}),r(()=>{var e;return null===(e=C.value)||void 0===e?void 0:e.patientID},e=>{e&&B()}),r(()=>t.currentRoute.value.fullPath,e=>{"/neonatal/checkpoint"===e&&B()}),(e,t)=>(N(),u(A(I),null,{default:c(()=>[d(g),d(A(m),{class:"ion-padding"},{default:c(()=>[p("div",x,[d(h),p("div",R,[d(A(T),{expand:"block",fill:"solid",color:"primary",onClick:U,disabled:P.value},{default:c(()=>[d(A(S),{slot:"start",icon:A(v)},null,8,["icon"]),E(" "+O(j.value),1)]),_:1},8,["disabled"])])])]),_:1})]),_:1}))}}),[["__scopeId","data-v-162d27fd"]]))}}});
