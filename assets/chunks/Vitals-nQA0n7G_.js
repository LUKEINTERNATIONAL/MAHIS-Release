import{d as P,ap as V,cr as C,r as u,b2 as d,a as w,O as B,f,J as v,e as x,m as D,l as a,k as e,u as s,V as I,a4 as T,bT as p,ba as O,a7 as N}from"./vendor-BataJFSH.js";import{u as R,aZ as A,T as L,M as l,r as $,bG as W,s as M,w as U,_ as E}from"../index-BPAV0PIM.js";import{D as G}from"./DemographicBar-moo3cMAH.js";import{V as J}from"./Vitals-YbDM0dTn.js";import{u as Z}from"./useUserActivities-CcslbutR.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-BVd6_RNM.js";const j={key:0,class:"spinner-overlay"},q={class:"container"},z={class:"vitals-header"},F={class:"back_profile"},H={class:"vitals-content"},K={class:"action-buttons"},Q=P({__name:"Vitals",setup(X){const o=V();C();const i=u(!1),{hasWaitingList:m,ready:S}=Z(),g=R(),h=A(),{patient:_}=d(g),{vitals:Y}=d(h),n=u(null);w(async()=>{S.value});const k=()=>{o.push("home")},y=()=>{$()?o.push("/deathPatientProfile"):o.push("/patientProfile")},b=async()=>{i.value=!0;const r=String(localStorage.getItem("locationID"));try{n.value&&await n.value.onSubmit()&&(await W.addPatientToStage(_.value,"CONSULTATION"),await M().refresh(r),m("Waiting for Consultation")?await o.push("OPDConsultationPlan"):await o.push("home"))}catch(t){console.error("An unexpected error occurred in saveVitals (parent):",t),U("An unexpected error occurred. Please try again.")}finally{i.value=!1}};return(r,t)=>(f(),B(s(N),null,{default:v(()=>[i.value?(f(),x("div",j,[a(s(I),{name:"bubbles"}),t[3]||(t[3]=e("div",{class:"loading-text"},"Please wait...",-1))])):D("",!0),a(L),a(s(T),{fullscreen:!0},{default:v(()=>[a(G),e("div",q,[e("div",z,[e("div",F,[a(l,{name:"Back to Waiting list",iconSlot:"start",fill:"clear",icon:s(p),"font-weight":"600",onClick:t[0]||(t[0]=c=>k())},null,8,["icon"]),a(l,{name:"Back to Profile",iconSlot:"start",fill:"clear",icon:s(p),"font-weight":"600",onClick:t[1]||(t[1]=c=>y()),style:{"margin-left":"15px"}},null,8,["icon"])]),t[4]||(t[4]=e("div",{class:"vitals-title"},[e("h4",null,"Vital Signs"),e("hr",{class:"title-line"})],-1))]),e("div",H,[a(J,{ref_key:"vitalsRef",ref:n},null,512)]),e("div",K,[a(l,{name:"Save Vitals",iconSlot:"start",fill:"solid",color:"primary",icon:s(O),onClick:t[2]||(t[2]=c=>b()),disabled:i.value},null,8,["icon","disabled"])])])]),_:1})]),_:1}))}}),lt=E(Q,[["__scopeId","data-v-c732a966"]]);export{lt as default};
