import{d as F,r as g,eN as k,w as S,e as I,f as y,l as d,u as v,a3 as C,a6 as $,an as b,aV as z,by as A,eO as B,H as _,O as H,J as R}from"./vendor-v_5UaDDk.js";import{aC as T,_ as D,T as O,u as P,t as V,H as U,G as E}from"../index-C8cssZLO.js";import{N as j}from"./neonatal_service-BmbxUdPS.js";import{D as x}from"./DemographicBar-Dqaj5vV2.js";import{f as h,g as f,N as G,h as J}from"./NeonatalStepper-2_qbiWZE.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-Cw3il1Pz.js";import"./SaveProgressModal-C7AK-dgz.js";import"./images-CiU2O8T9.js";const K={class:"signs-symptoms-section-wrapper"},W=F({__name:"AdmissionSection",setup(a,{expose:m}){const t=g(null),n=f[0],p=n.formData,c=n.conditionalRules||[],r=k(h),l=e=>{r&&(r.is_readmission=e.is_readmission||"")};return S(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&l(e)},{deep:!0}),S(()=>t.value,e=>{e!=null&&e.getFormValues&&l(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>t.value,validateForm:()=>{var e,s;return((s=(e=t.value)==null?void 0:e.validateForm)==null?void 0:s.call(e))||null},getFormValues:()=>{var e,s;return((s=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:s.call(e))||{}}}),(e,s)=>(y(),I("div",K,[d(T,{formData:v(p),conditionalRules:v(c),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),w=D(W,[["__scopeId","data-v-312c3ac7"]]),q={class:"signs-symptoms-section-wrapper"},L=F({__name:"PresentingComplaintsSection",setup(a,{expose:m}){const t=g(null),n=f[1],p=n.formData,c=n.conditionalRules||[],r=k(h),l=e=>{r&&(r.presenting_complaints=e.presenting_complaints||[])};return S(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&l(e)},{deep:!0}),S(()=>t.value,e=>{e!=null&&e.getFormValues&&l(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>t.value,validateForm:()=>{var e,s;return((s=(e=t.value)==null?void 0:e.validateForm)==null?void 0:s.call(e))||null},getFormValues:()=>{var e,s;return((s=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:s.call(e))||{}}}),(e,s)=>(y(),I("div",q,[d(T,{formData:v(p),conditionalRules:v(c),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),N=D(L,[["__scopeId","data-v-2ad14f66"]]),M=F({name:"NeonatalSignsSymptoms",components:{IonPage:$,IonContent:C,Toolbar:O,DemographicBar:x,NeonatalStepper:G,AdmissionSection:w,PresentingComplaintsSection:N},setup(){const a=b(),m=P(),{patient:t}=z(m),n=A({...J});B(h,n);const p=g(f.map((i,o)=>({title:i.title,number:o+1,checked:!1,class:o===0?"open_step common_step":"common_step",last_step:o===f.length-1?"last_step":""}))),c=[{title:f[0].title,value:"1",component:w,configIndex:0},{title:f[1].title,value:"2",component:N,configIndex:1}],r="Signs & Symptoms Assessment",l=g("1");return{wizardData:p,stepperData:c,stepperTitle:r,currentOpenStepper:l,updateStatus:i=>{i&&i.value&&p.value.forEach((o,u)=>{i.value===(u+1).toString()?(o.class="open_step common_step",o.checked=!1):u<parseInt(i.value)-1?(o.class="common_step color_white",o.checked=!0):(o.class="common_step",o.checked=!1)})},getSaveFunction:i=>i===c.length-1?async()=>{var o;if(!((o=t.value)!=null&&o.patientID)){V("No patient selected");return}try{const u=U.sessionDate();await j.saveSignsSymptomsAssessment(t.value.patientID,n,u),E("Signs & symptoms assessment saved successfully"),a.push({path:"/neonatal/review-of-systems"})}catch(u){console.error("Failed to save signs/symptoms assessment",u),V("Failed to save signs/symptoms assessment")}}:null}}});function Q(a,m,t,n,p,c){const r=_("Toolbar"),l=_("NeonatalStepper"),e=_("ion-content"),s=_("ion-page");return y(),H(s,{class:"neonatal-signs-symptoms-page"},{default:R(()=>[d(r),d(e,{fullscreen:!0},{default:R(()=>[d(l,{wizardData:a.wizardData,StepperData:a.stepperData,stepperTitle:a.stepperTitle,openStepper:a.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:a.getSaveFunction,flowType:"signsSymptoms",onUpdateStatus:a.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","onUpdateStatus"])]),_:1})]),_:1})}const re=D(M,[["render",Q],["__scopeId","data-v-6b60ede0"]]);export{re as default};
