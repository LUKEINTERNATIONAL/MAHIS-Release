import{d as ne,aU as Ae,r as n,c as K,a as ke,H as ae,e as D,f as o,l as e,m as v,O as S,J as s,k as l,u as a,_ as te,Q as H,F as Q,au as xe,ev as ea,ew as ta,ex as aa,ey as na,aF as yt,w as pe,aw as bt,bV as sa,P as ce,aN as la,K as C,p as Ne,bs as oa,ah as ia,L as Ue,ez as ot,eA as it,bj as Le,be as rt,eB as ut,eC as ct,d8 as dt,eD as mt,eE as pt,eF as vt,dd as ft,bU as ra,ay as ua,c0 as ca,W as ie,al as Qe,ak as ge,N as le,br as oe,a4 as re,bk as $e,b1 as da,bm as Dt,a2 as wt,b_ as ma,bu as pa,aj as kt,a5 as z,c6 as _t,bv as va,dr as fa,e8 as ht}from"./vendor-BpjEhVym.js";import{bu as _a,l as He,aC as Fe,aB as ha,b7 as ga,aD as ya,J as we,m as Ct,M as Se,S as Me,ag as ue,aY as X,t as De,G as qe,_ as ve,u as Ge,H as Be,aS as he,aT as St,bT as ba,bs as Da,bt as wa,b1 as ye,b3 as be,bU as ka,aV as Ca,P as It,aK as Oe,aR as Sa,K as Ia,B as Ce,ax as gt,ao as Ke,as as Xe,aM as Pa,ar as Ea}from"../index-CeTGTpf8.js";import{e as Oa,a as xa,m as Aa,b as Va,v as Na,c as Ha,_ as $a}from"./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-B09AZCHf.js";import{p as Ma}from"./previousComplaints-Dj4gevrh.js";import{P as Ta}from"./patient_complaints_service-TIja7WRK.js";import{D as Ra}from"./DashBox-CRfByxGn.js";import{_ as Fa,A as Ua,D as La,a as Ba}from"./AHDWorkflow.vue_vue_type_script_setup_true_lang-DPgGuh8b.js";import{B as Ze}from"./BasicForm-Bsxv-ugF.js";import{f as et,c as Pt,a as Et}from"./formatServerData-CTknK62C.js";import{a as qa,b as Ga}from"./drug_prescription_service-BOxCLSaZ.js";import{P as Wa}from"./useFormWizard-Ccoe3SlC.js";import{l as Ie}from"./lodash-NJiRuGo9.js";import{_ as Je,D as za,A as ja,R as Ya,a as Ka,b as Xa}from"./usePatientProfile-BY8wQBH2.js";const Ja={key:0},Qa={style:{"align-content":"center"}},Za={class:"ion-padding",slot:"content"},en=ne({__name:"PresentingComplaints",setup(i,{expose:r}){const u=_a(),{presentingComplaints:f}=Ae(u),w=n(He),x=n(!0),$=n(!1),V=n(!1),g=n(!0),E=n(!1),c=n([]),O=n([]),B=n(),p=K(()=>[{componentType:"multiSelectInputField",header:"Presenting Complaints",name:"PresentingComplaints",trackBy:"concept_id",icon:He.search,hideSelected:!0,validation:m=>G(m==null?void 0:m.name,c.value)?"Presenting complaint already added":Fe.required(m),options:O.value,grid:{s:"6"}},{componentType:"inputField",header:"Duration",name:"duration",icon:He.time,validation:m=>Fe.isNotEmptyandNumber(m),grid:{s:"6"},unitOptions:[{label:"Hours",value:"Hours"},{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],unitValidation:m=>!m||m===""?"Please select a unit.":null},{componentType:"inputField",header:"Specify the presenting complaint(s)",name:"Other (specify)",icon:He.editPen,validation:m=>G(m,c.value)?"Presenting complaint already added":Fe.required(m),condition:m=>{var t;return((t=m==null?void 0:m.PresentingComplaints)==null?void 0:t.name)==="Other"}},{componentType:"Alert",condition:m=>{var t;return Fe.required((t=m==null?void 0:m.PresentingComplaints)==null?void 0:t.name)!=null},backgroundColor:"lightyellow",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}]),{formRef:_}=ha(),U=async()=>{Ct(Fa,{class:"fullScreenModal"})},I=async()=>{O.value=await Ta.getComplaintsList("Presenting complaint"),Se(f.value,"PresentingComplaints","multiSelectData",O.value)},N=()=>{x.value=!1,g.value=!1,V.value=!0},M=async()=>{var k,A;const m=(k=_.value)==null?void 0:k.getFormValues();((A=_.value)==null?void 0:A.validateForm())==null&&(L(m),V.value=!1,g.value=!0)},L=m=>{var j;const t=m.duration+" "+m.duration_unit,k=m.PresentingComplaints,A=k.name==="Other"?m["Other (specify)"]:k.name;c.value.push({actionBtn:!0,btn:["delete"],name:A,concept_id:k.concept_id,duration:k.duration,durationUnits:k.duration_unit,display:[A,t],data:[{concept_id:8578,value_coded:k.concept_id,obs_datetime:Me.getSessionDate(),child:[{concept_id:k.concept_id,value_text:t,obs_datetime:Me.getSessionDate()}]}]}),(j=_.value)==null||j.resetForm(),E.value=!0,F()},F=()=>{const m=["Cough","Convulsions"];$.value=c.value.some(t=>m.includes(t.name))},G=(m,t)=>t.some(k=>k.name===m),T=m=>{c.value=c.value.filter(t=>t.display[0]!==m.name)},J=async()=>{const m=await ue.getObsByEncounterIdAndDate(X.PRESENTING_COMPLAINTS),t=c.value.flatMap(k=>k.data);if(t.length<=0&&m.length<=0)return De("Presenting complaints is required");t.length<=0||(await ue.addObsToEncounterPatient(t,X.PRESENTING_COMPLAINTS),qe("Presenting complaints saved successful"),c.value=[])};return ke(async()=>{await I()}),r({onSubmit:J}),(m,t)=>{const k=ae("ion-row"),A=ae("ion-label"),j=ae("ion-accordion"),de=ae("ion-accordion-group");return o(),D(Q,null,[e(Ra,{status:x.value,content:"No presenting complaints added"},null,8,["status"]),E.value?(o(),D("span",Ja,[e(ga,{listData:c.value,"onClicked:delete":T},null,8,["listData"])])):v("",!0),V.value?(o(),S(k,{key:1},{default:s(()=>[e(ya,{formData:p.value,ref_key:"formRef",ref:_},null,8,["formData"]),l("div",Qa,[e(we,{fill:"clear",icon:w.value.plus,iconSlot:"icon-only","onClicked:btn":t[0]||(t[0]=me=>M()),name:"Save"},null,8,["icon"])])]),_:1})):v("",!0),g.value?(o(),S(k,{key:2,style:{"margin-top":"10px"}},{default:s(()=>[e(we,{fill:"clear",icon:w.value.plus,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=me=>N()),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):v("",!0),$.value?(o(),S(k,{key:3,class:"ion-float-right"},{default:s(()=>[e(we,{color:"danger","onClicked:btn":t[2]||(t[2]=me=>U()),name:"AHD Screening"})]),_:1})):v("",!0),e(k,null,{default:s(()=>[e(de,{ref_key:"accordionGroup",ref:B,class:"previousView"},{default:s(()=>[e(j,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(A,{class:"previousLabel"},{default:s(()=>[...t[3]||(t[3]=[H("Previous presenting complaints",-1)])]),_:1})]),_:1}),l("div",Za,[e(Ma)])]),_:1})]),_:1},512)]),_:1})],64)}}}),tn=ve(en,[["__scopeId","data-v-0aa2f61c"]]),an={class:"allergies-container"},nn={key:0,class:"no-allergies"},sn={key:1,class:"date-groups"},ln=["onClick"],on={class:"date-info"},rn={class:"date-text"},un={class:"allergy-count"},cn={class:"card-header"},dn={class:"allergy-type"},mn={class:"card-content"},pn=ne({__name:"AllergiesListing",setup(i){const r=Ge(),{patient:u}=Ae(r),f=n({}),w={antiviral:/abacavir|lamivudine|lopinavir|ritonavir|zidovudine|efavirenz|tenofovir/i,antibiotic:/penicillin|amoxicillin|cephalexin|azithromycin|ciprofloxacin|doxycycline/i,analgesic:/aspirin|ibuprofen|acetaminophen|morphine|codeine|tramadol/i,cardiac:/metoprolol|lisinopril|amlodipine|atorvastatin|warfarin/i,activated:/activated\s+charcoal/i},x={985:{name:"Other",icon:xe,severity:"danger"},7759:{name:"Location/Environmental",icon:yt,severity:"info"},7579:{name:"Medical Condition",icon:na,severity:"warning"},drug:{name:"Drug Allergy",icon:xe,severity:"danger"},food:{name:"Food Allergy",icon:aa,severity:"danger"},environmental:{name:"Environmental",icon:ta,severity:"warning"},contact:{name:"Contact Allergy",icon:ea,severity:"warning"},unknown:{name:"Drug Allergy",icon:xe,severity:"danger"}},$=p=>{const _=p.toLowerCase();return w.antiviral.test(_)?{type:"Antiviral Medication",icon:"shield-outline"}:w.antibiotic.test(_)?{type:"Antibiotic",icon:"bandage-outline"}:w.analgesic.test(_)?{type:"Pain Medication",icon:"fitness-outline"}:w.cardiac.test(_)?{type:"Cardiac Medication",icon:"heart-outline"}:w.activated.test(_)?{type:"Detoxification Agent",icon:"flask-outline"}:{type:"Medication",icon:"medical-outline"}},V=K(()=>{var _,U,I,N,M,L;return[...(I=(U=(_=u.value)==null?void 0:_.allergies)==null?void 0:U.saved)!=null?I:[],...(L=(M=(N=u.value)==null?void 0:N.allergies)==null?void 0:M.unsaved)!=null?L:[]].length>0}),g=K(()=>{var I,N,M,L,F,G;const p=(M=(N=(I=u.value)==null?void 0:I.allergies)==null?void 0:N.saved)!=null?M:[],_=(G=(F=(L=u.value)==null?void 0:L.allergies)==null?void 0:F.unsaved)!=null?G:[],U=[...p,..._];return U.length===0?[]:U.map(T=>{var j;const J=((j=T.concept_id)==null?void 0:j.toString())||"unknown",m=x[J]||x.unknown;let t="Unknown",k=null;return T.value_text&&T.value_text!=="Unknown"&&T.value_text!==""?(t=T.value_text,(J==="985"||J==="985###")&&(k=$(T.value_text))):T.concept_name&&(t=T.concept_name),{...k?{...m,name:k.type,icon:k.icon}:m,displayValue:t,conceptId:T.concept_id,date:T.obs_datetime||T.encounter_datetime,providerId:T.provider_id,locationId:T.location_id,encounterId:T.encounter_id,isDrug:J==="985",raw:T}})}),E=K(()=>{const p={};g.value.forEach(I=>{const N=I.date?O(I.date):"Unknown Date";p[N]||(p[N]=[]),p[N].push(I)});const _={};return Object.keys(p).sort((I,N)=>I==="Unknown Date"?1:N==="Unknown Date"?-1:new Date(N).getTime()-new Date(I).getTime()).forEach(I=>{_[I]=p[I]}),_}),c=p=>{f.value[p]=!f.value[p]},O=p=>{if(!p)return"Unknown Date";try{return new Date(p).toISOString().split("T")[0]}catch(_){return"Unknown Date"}},B=p=>{if(p==="Unknown Date")return"Unknown Date";try{const _=new Date(p),U=Be.sessionDate(),I=new Date(U),N=new Date(I);N.setDate(N.getDate()-1);const M=_.toDateString(),L=I.toDateString(),F=N.toDateString();return M===L?"Today":M===F?"Yesterday":_.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(_){return p}};return pe(()=>E.value,p=>{const _=Object.keys(p);_.length>0&&(f.value[_[0]]=!0)},{immediate:!0}),pe(()=>{var p;return(p=u.value)==null?void 0:p.allergies},p=>{console.log("Allergies updated:",p)},{deep:!0}),ke(()=>{var p;console.log("Allergies component mounted",(p=u.value)==null?void 0:p.allergies)}),(p,_)=>{const U=ae("ion-icon"),I=ae("ion-label");return o(),D("div",an,[e(I,{class:"section-title"},{default:s(()=>[e(U,{icon:a(bt),class:"alert-icon"},null,8,["icon"]),e(I,null,{default:s(()=>[..._[0]||(_[0]=[H("Allergies (Medication, Healthcare items, Environment and Food)",-1)])]),_:1})]),_:1}),V.value?(o(),D("div",sn,[(o(!0),D(Q,null,ce(E.value,(N,M)=>(o(),D("div",{key:M,class:"date-group"},[l("div",{class:Ne(["date-header",{expanded:f.value[M]}]),onClick:L=>c(M)},[l("div",on,[e(U,{icon:a(la),class:"date-icon"},null,8,["icon"]),l("span",rn,C(B(M)),1),l("span",un,"("+C(N.length)+" "+C(N.length===1?"allergy":"allergies")+")",1)]),e(U,{icon:a(oa),class:Ne(["expand-icon",{rotated:f.value[M]}])},null,8,["icon","class"])],10,ln),l("div",{class:Ne(["allergies-grid",{collapsed:!f.value[M]}])},[(o(!0),D(Q,null,ce(N,(L,F)=>(o(),D("div",{key:F,class:Ne(["allergy-card",L.severity])},[l("div",cn,[e(U,{icon:L.icon,class:"allergy-icon"},null,8,["icon"]),l("span",dn,C(L.name),1)]),l("div",mn,[l("div",{class:Ne(["allergy-value",{"drug-name":L.isDrug}])},C(L.displayValue),3)])],2))),128))],2)]))),128))])):(o(),D("div",nn,[e(U,{icon:a(sa),class:"no-allergies-icon"},null,8,["icon"]),_[1]||(_[1]=l("p",null,"No known allergies",-1))]))])}}}),Ot=ve(pn,[["__scopeId","data-v-57be2407"]]),vn=ne({name:"VisitHistory",components:{AllergiesListing:Ot,IonIcon:Ue},setup(){const i=St();return{selectedAllergiesList2:K(()=>i.selectedMedicalAllergiesList),alertCircleOutline:bt,documentTextOutline:ca,femaleOutline:ua,medicalOutline:xe,warningOutline:ra,bodyOutline:ot,eyeOutline:ft,nutritionOutline:vt,fitnessOutline:ct,pulseOutline:rt,earOutline:pt,happyOutline:mt,manOutline:dt,moveOutline:ut,addOutline:Le,scanOutline:it}},data(){return{presentingComplaintsWithDuration:[],pastMedicalHistory:[],levelOfConsciousness:{eyeResponse:null,verbalResponse:null,motorResponse:null},pregnancy:{patientPregnant:null,breastFeeding:null},physicalExamCategories:{Eyes:{icon:ft,abnormalities:[],normal:!1},Mouth:{icon:vt,abnormalities:[],normal:!1},Ears:{icon:pt,abnormalities:[],normal:!1},Face:{icon:mt,abnormalities:[],normal:!1},Neck:{icon:dt,abnormalities:[],normal:!1},Chest:{icon:ct,abnormalities:[],normal:!1},"Chest Movement":{icon:ut,abnormalities:[],normal:!1},"Heart Sounds":{icon:rt,abnormalities:[],normal:!1},"Breath Sounds":{icon:Le,abnormalities:[],normal:!1},"Added Breath Sounds":{icon:Le,abnormalities:[],normal:!1},"Abdominal Inspection":{icon:it,abnormalities:[],normal:!1},"Genital Examination":{icon:ot,abnormalities:[],normal:!1}}}},computed:{...ia(Ge,["patient"]),hasLevelOfConsciousness(){return this.levelOfConsciousness.eyeResponse||this.levelOfConsciousness.verbalResponse||this.levelOfConsciousness.motorResponse},hasPresentingComplaints(){var i;return((i=this.presentingComplaintsWithDuration)==null?void 0:i.length)>0},hasPregnancyData(){return this.pregnancy.patientPregnant||this.pregnancy.breastFeeding},hasPastMedicalHistory(){var i;return((i=this.uniquePastMedicalHistory)==null?void 0:i.length)>0},hasAllergies(){var i,r;return((r=(i=this.selectedAllergiesList2)==null?void 0:i.filter(u=>u.selected))==null?void 0:r.length)>0},hasPhysicalExam(){return Object.values(this.physicalExamCategories).some(i=>i.abnormalities.length>0||i.normal)},uniquePastMedicalHistory(){return[...new Set(this.pastMedicalHistory)]},uniquePresentingComplaints(){return[...new Set(this.presentingComplaintsWithDuration.map(i=>i.name))]},isMinor(){var i,r;return Be.getAgeInYears((r=(i=this.patient)==null?void 0:i.personInformation)==null?void 0:r.birthdate)<18},gcsScore(){var V,g,E;if(!this.hasLevelOfConsciousness)return null;const i=this.levelOfConsciousness.eyeResponse,r=this.levelOfConsciousness.motorResponse,u=this.levelOfConsciousness.verbalResponse,f=i&&(V=(this.isMinor?Oa:xa)[i])!=null?V:0,w=r&&(g=(this.isMinor?Aa:Va)[r])!=null?g:0,x=u&&(E=(this.isMinor?Na:Ha)[u])!=null?E:0,$=f+w+x;return"(M ".concat(w," V ").concat(x," E ").concat(f,") ").concat($,"/").concat(this.isMinor?5:15)}},methods:{async updateData(){var i;(i=this.patient)!=null&&i.patientID&&(await this.loadPresentingComplaints(),await this.loadPastMedicalHistory(),await this.loadLevelOfConsciousness(),await this.loadPregnancyStatus(),await this.loadPhysicalExam())},async loadPresentingComplaints(){try{const i=await ue.getObsByEncounterIdAndDate(X.PRESENTING_COMPLAINTS);this.presentingComplaintsWithDuration=[];const r=i.filter(u=>u.concept_name==="Presenting complaint");for(const u of r){const f=i.find(x=>x.concept_id===u.value_coded&&x.concept_name!=="Presenting complaint"),w=await he.getConceptName(u.value_coded);this.presentingComplaintsWithDuration.push({name:w,duration:(f==null?void 0:f.value_text)||"Duration not specified"})}}catch(i){console.error("Error loading presenting complaints:",i)}},async loadPastMedicalHistory(){try{const r=(await ue.getObsByEncounterIdAndDate(X.PAST_MEDICAL_HISTORY)).filter(u=>u.concept_name==="Chronic disease");this.pastMedicalHistory=await Promise.all(r.map(async u=>await he.getConceptName(u.value_coded)))}catch(i){console.error("Error loading past medical history:",i)}},async loadLevelOfConsciousness(){try{const i=await ue.getObsByEncounterIdAndDate(X.ASSESSMENT);if(i&&Array.isArray(i)){const r=i.find(w=>w.concept_name==="Eye opening response");this.levelOfConsciousness.eyeResponse=r!=null&&r.value_coded?await he.getConceptName(r.value_coded):null;const u=i.find(w=>w.concept_name==="Best verbal response");this.levelOfConsciousness.verbalResponse=u!=null&&u.value_coded?await he.getConceptName(u.value_coded):null;const f=i.find(w=>w.concept_name==="Best motor response");this.levelOfConsciousness.motorResponse=f!=null&&f.value_coded?await he.getConceptName(f.value_coded):null}}catch(i){console.error("Error loading level of consciousness:",i)}},async loadPregnancyStatus(){try{const i=await ue.getObsByEncounterIdAndDate(X.PREGNANCY_STATUS);if(i&&Array.isArray(i)){const r=i.find(f=>f.concept_name==="Patient pregnant");this.pregnancy.patientPregnant=r!=null&&r.value_coded?await he.getConceptName(r.value_coded):null;const u=i.find(f=>f.concept_name==="Is patient breast feeding?");this.pregnancy.breastFeeding=u!=null&&u.value_coded?await he.getConceptName(u.value_coded):null}}catch(i){console.error("Error loading pregnancy status:",i)}},async loadPhysicalExam(){try{const i=await ue.getObsByEncounterIdAndDate(X.PHYSICAL_EXAMINATION);Object.values(this.physicalExamCategories).forEach(r=>{r.abnormalities=[],r.normal=!1});for(const r of i)if(r.concept_id){if(r.value_coded===1065)switch(r.concept_id){case 10837:this.physicalExamCategories.Eyes.normal=!0;break;case 10842:this.physicalExamCategories.Mouth.normal=!0;break;case 11028:this.physicalExamCategories.Ears.normal=!0;break;case 10854:this.physicalExamCategories.Face.normal=!0;break;case 10858:this.physicalExamCategories.Neck.normal=!0;break;case 10894:this.physicalExamCategories.Chest.normal=!0;break;case 10903:this.physicalExamCategories["Heart Sounds"].normal=!0;break;case 10909:this.physicalExamCategories["Breath Sounds"].normal=!0;break;case 10919:case 10928:case 10939:this.physicalExamCategories["Abdominal Inspection"].normal=!0;break;case 10803:case 10946:this.physicalExamCategories["Genital Examination"].normal=!0;break}if(r.value_coded){const u=await he.getConceptName(r.value_coded);switch(r.concept_id){case 10838:this.physicalExamCategories.Eyes.abnormalities.push(u);break;case 10843:this.physicalExamCategories.Mouth.abnormalities.push(u);break;case 10852:this.physicalExamCategories.Ears.abnormalities.push(u);break;case 10855:this.physicalExamCategories.Face.abnormalities.push(u);break;case 10859:this.physicalExamCategories.Neck.abnormalities.push(u);break;case 10897:this.physicalExamCategories.Chest.abnormalities.push(u);break;case 10904:this.physicalExamCategories["Heart Sounds"].abnormalities.push(u);break;case 10910:this.physicalExamCategories["Breath Sounds"].abnormalities.push(u);break;case 10920:case 10929:case 10939:this.physicalExamCategories["Abdominal Inspection"].abnormalities.push(u);break;case 10797:case 10804:case 10947:this.physicalExamCategories["Genital Examination"].abnormalities.push(u);break}}}}catch(i){console.error("Error loading physical exam:",i)}}},watch:{patient:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()}}),fn={class:"visit-container"},_n={class:"visit-sections"},hn={key:0,class:"visit-section"},gn={class:"section-header"},yn={class:"section-content"},bn={key:0,class:"info-item"},Dn={class:"info-value"},wn={key:1,class:"info-item"},kn={class:"info-value"},Cn={key:2,class:"info-item"},Sn={class:"info-value"},In={key:3,class:"info-item"},Pn={class:"info-value highlight"},En={key:1,class:"visit-section"},On={class:"section-header"},xn={class:"complaints-container"},An={class:"complaint-name"},Vn={class:"complaint-duration"},Nn={key:2,class:"visit-section"},Hn={class:"section-header"},$n={class:"section-content"},Mn={key:0,class:"info-item"},Tn={class:"info-value highlight"},Rn={key:1,class:"info-item"},Fn={class:"info-value highlight"},Un={key:3,class:"visit-section"},Ln={class:"section-header"},Bn={class:"tags-container"},qn={class:"allergies-section"},Gn={class:"allergies-container"},Wn={key:4,class:"visit-section"},zn={class:"section-header"},jn={class:"exam-section"},Yn={key:0,class:"exam-category"},Kn={class:"exam-category-header"},Xn={class:"exam-items"},Jn={key:1,class:"exam-item normal"};function Qn(i,r,u,f,w,x){const $=ae("ion-icon"),V=ae("AllergiesListing");return o(),D("div",fn,[r[11]||(r[11]=l("div",{class:"visit-header"},[l("h5",null,"Patient's Clinical Assessment Summary")],-1)),l("div",_n,[i.hasLevelOfConsciousness?(o(),D("div",hn,[l("div",gn,[e($,{icon:i.alertCircleOutline,class:"section-icon"},null,8,["icon"]),r[0]||(r[0]=l("h3",null,"Level of Consciousness",-1))]),l("div",yn,[i.levelOfConsciousness.eyeResponse?(o(),D("div",bn,[r[1]||(r[1]=l("span",{class:"info-label"},"Eye Response:",-1)),l("span",Dn,C(i.levelOfConsciousness.eyeResponse),1)])):v("",!0),i.levelOfConsciousness.verbalResponse?(o(),D("div",wn,[r[2]||(r[2]=l("span",{class:"info-label"},"Verbal Response:",-1)),l("span",kn,C(i.levelOfConsciousness.verbalResponse),1)])):v("",!0),i.levelOfConsciousness.motorResponse?(o(),D("div",Cn,[r[3]||(r[3]=l("span",{class:"info-label"},"Motor Response:",-1)),l("span",Sn,C(i.levelOfConsciousness.motorResponse),1)])):v("",!0),i.gcsScore?(o(),D("div",In,[r[4]||(r[4]=l("span",{class:"info-label"},"Score:",-1)),l("span",Pn,C(i.gcsScore),1)])):v("",!0)])])):v("",!0),i.hasPresentingComplaints?(o(),D("div",En,[l("div",On,[e($,{icon:i.documentTextOutline,class:"section-icon"},null,8,["icon"]),r[5]||(r[5]=l("h3",null,"Presenting Complaints",-1))]),l("div",xn,[(o(!0),D(Q,null,ce(i.presentingComplaintsWithDuration,(g,E)=>(o(),D("div",{class:"complaint-item",key:E},[l("div",An,C(g.name),1),l("div",Vn,C(g.duration),1)]))),128))])])):v("",!0),i.hasPregnancyData?(o(),D("div",Nn,[l("div",Hn,[e($,{icon:i.femaleOutline,class:"section-icon"},null,8,["icon"]),r[6]||(r[6]=l("h3",null,"Pregnancy Status",-1))]),l("div",$n,[i.pregnancy.patientPregnant?(o(),D("div",Mn,[r[7]||(r[7]=l("span",{class:"info-label"},"Pregnant:",-1)),l("span",Tn,C(i.pregnancy.patientPregnant),1)])):v("",!0),i.pregnancy.breastFeeding?(o(),D("div",Rn,[r[8]||(r[8]=l("span",{class:"info-label"},"Breastfeeding:",-1)),l("span",Fn,C(i.pregnancy.breastFeeding),1)])):v("",!0)])])):v("",!0),i.hasPastMedicalHistory?(o(),D("div",Un,[l("div",Ln,[e($,{icon:i.medicalOutline,class:"section-icon"},null,8,["icon"]),r[9]||(r[9]=l("h3",null,"Medical History",-1))]),l("div",Bn,[(o(!0),D(Q,null,ce(i.uniquePastMedicalHistory,(g,E)=>(o(),D("div",{class:"medical-tag",key:E},C(g),1))),128))])])):v("",!0),l("div",qn,[l("div",Gn,[e(V)])]),i.hasPhysicalExam?(o(),D("div",Wn,[l("div",zn,[e($,{icon:i.bodyOutline,class:"section-icon"},null,8,["icon"]),r[10]||(r[10]=l("h3",null,"Physical Examination",-1))]),l("div",jn,[(o(!0),D(Q,null,ce(i.physicalExamCategories,(g,E)=>(o(),D(Q,{key:E},[g.abnormalities.length>0||g.normal?(o(),D("div",Yn,[l("div",Kn,[e($,{icon:g.icon},null,8,["icon"]),l("h4",null,C(E),1)]),l("div",Xn,[g.abnormalities.length>0?(o(!0),D(Q,{key:0},ce(g.abnormalities,(c,O)=>(o(),D("div",{class:"exam-item abnormal",key:O},C(c),1))),128)):g.normal?(o(),D("div",Jn," Normal examination ")):v("",!0)])])):v("",!0)],64))),128))])])):v("",!0)])])}const Zn=ve(vn,[["render",Qn],["__scopeId","data-v-795e1865"]]),es={class:"modal_wrapper"},ts=ne({__name:"PregnancyBreastfeeding",setup(i,{expose:r}){const u=ba(),{pregnancy:f}=Ae(u),w=()=>{};return r({onSubmit:async()=>{const $=await et(f.value);$.length>0?(await ue.addObsToEncounterPatient($,X.PREGNANCY_STATUS),qe("Pregnancy status saved successfully")):De("No pregnancy status data to save ")}}),($,V)=>(o(),D("div",es,[e(Ze,{contentData:a(f),"onUpdate:inputValue":w},null,8,["contentData"])]))}}),as={class:"modal_wrapper"},ns={class:"uniform_columns"},ss=ne({__name:"PastMedicalHistory",setup(i,{expose:r}){const u=Da(),{pastMedicalHistory:f}=Ae(u),w=n([]);ke(()=>{w.value=u.getInitial(),x()}),pe(f,()=>{x()},{deep:!0});const x=()=>{var c;const E=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];(c=wa(f.value,"None"))!=null&&c.checked?E.forEach(O=>{ye(f.value,"TB treatment","displayNone",!0),Se(f.value,"TB drugs","displayNone",!0),Se(f.value,"TB drug start date","displayNone",!0),ye(f.value,"Hypertension medication","displayNone",!0),Se(f.value,"Current hypertension treatment regimen","displayNone",!0),ye(f.value,"HIV status","displayNone",!0),Se(f.value,"ARV start date","displayNone",!0),ye(f.value,"Diabetes","displayNone",!0),ye(f.value,"Controlled by","displayNone",!0),be(f.value,O,"checked",!1),be(f.value,O,"disabled",!0)}):E.forEach(O=>{be(f.value,O,"disabled",!1)})},$=E=>{Se(f.value,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine 'O' (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),Se(f.value,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})},V=async()=>[...await Pt(f.value),...await et(f.value),...await Et(f.value)];return r({onSubmit:async()=>{const E=await V();if(E.length===0){De("No past medical history data to save");return}await ue.addObsToEncounterPatient(E,X.PAST_MEDICAL_HISTORY),qe("Past medical history saved successful")}}),(E,c)=>(o(),D("div",as,[l("div",ns,[e(Ze,{contentData:a(f),initialData:w.value,"onUpdate:inputValue":$,"onUpdate:selected":$},null,8,["contentData","initialData"])])]))}}),ls=ve(ss,[["__scopeId","data-v-49fdce72"]]),os={class:"container"},is=ne({__name:"PhysicalExamination",setup(i,{expose:r}){const u=ka(),f=Ge(),{physicalExam:w}=Ae(u),{patient:x}=Ae(f),$=n([]);ke(()=>{$.value=u.getInitial(),V(),g()}),pe(w,()=>{V(),g()},{deep:!0});const V=()=>{Ca(w.value,"Physical examination")=="No"?ye(w.value,"Reason why physical examination not done","displayNone",!1):(ye(w.value,"Reason why physical examination not done","displayNone",!0),ye(w.value,"Reason why physical examination not done","selectedValue",""))},g=()=>{var B,p;const O=(p=(B=x.value)==null?void 0:B.personInformation)==null?void 0:p.gender;O=="M"&&(be(w.value,"Vulva examination","disabled",!0),be(w.value,"Visible bleeding","disabled",!0)),O=="F"&&(be(w.value,"Urethral meatus abnormal","disabled",!0),be(w.value,"Scrotal swelling","disabled",!0),be(w.value,"Tastes swelling","disabled",!0))},E=async()=>[...await Pt(w.value),...await et(w.value),...await Et(w.value)];return r({onSubmit:async()=>{const O=await E();if(console.log("Selected physical data is",O),O.length===0){De("No physical examination data to save");return}await ue.addObsToEncounterPatient(O,X.PHYSICAL_EXAMINATION),qe("Physical examination saved successful")}}),(O,B)=>{const p=ae("ion-card-content"),_=ae("ion-card");return o(),D("div",os,[e(_,{class:"section"},{default:s(()=>[e(p,null,{default:s(()=>[e(Ze,{contentData:a(w),initialData:$.value},null,8,["contentData","initialData"])]),_:1})]),_:1})])}}}),rs=ve(is,[["__scopeId","data-v-f45150df"]]),us={key:0},cs={class:"ion-padding",slot:"content"},ds={class:"nav-buttons"},ms={class:"ion-padding",slot:"content"},ps={class:"nav-buttons"},vs={class:"ion-padding",slot:"content"},fs={class:"nav-buttons"},_s={class:"ion-padding",slot:"content"},hs={class:"nav-buttons"},gs={class:"ion-padding",slot:"content"},ys={class:"nav-buttons"},bs={class:"ion-padding",slot:"content"},Ds={class:"nav-buttons"},ws=ne({__name:"ClinicalAssessment",setup(i,{expose:r}){const u=n("loc"),f=n(0),w=n(!1),x=n(!1),$=new It,V=Ge(),g=()=>{f.value++},E=n(null),c=n(null),O=n(null),B=n(null),p=n(null),_=n(null),U=[{id:"loc",label:"Level of consciousness",show:!0},{id:"pc",label:"Presenting complaints",show:!0},{id:"pbs",label:"Pregnancy and breastfeeding status",show:()=>$.isChildBearing()},{id:"pmh",label:"Past medical history",show:!0},{id:"al",label:"Allergies",show:!0},{id:"pe",label:"Physical examination",show:!0}];async function I(){const m=Me.getSessionDate(),t=[X.ASSESSMENT,X.PRESENTING_COMPLAINTS,X.PAST_MEDICAL_HISTORY,X.PHYSICAL_EXAMINATION,X.PREGNANCY_STATUS];let k=!1;for(const A of t)try{const j=await ue.getObsByEncounterIdAndDate(A);if(j&&j.some(de=>de.obs_datetime?Be.toStandardHisFormat(de.obs_datetime)===Be.toStandardHisFormat(m):!1)){k=!0;break}}catch(j){console.error("Error checking observations for encounter type ".concat(A,":"),j)}w.value=k}ke(I),pe(()=>V.patient,I);const N=K(()=>w.value),M=K(()=>U.filter(m=>typeof m.show=="function"?m.show():m.show)),L=m=>{const t=U.find(k=>k.id===m);return t?typeof t.show=="function"?t.show():t.show:!1},F=m=>M.value.findIndex(t=>t.id===m),G=m=>{const t=F(m);t>0&&(u.value=M.value[t-1].id)},T=m=>{const k=F(m)+1;k<M.value.length?u.value=M.value[k].id:(u.value="",g())};return r({onSubmit:async()=>{const m=[{ref:E,name:"PresentingComplaints"},{ref:c,name:"LevelOfConsciousness"},{ref:O,name:"PastMedicalHistory"},{ref:p,name:"PregnancyBreastfeeding"},{ref:_,name:"PhysicalExamination"}];for(const t of m)if(t.ref.value&&typeof t.ref.value.onSubmit=="function")try{await t.ref.value.onSubmit()}catch(k){console.error("Error calling ".concat(t.name," onSubmit:"),k)}else console.log("".concat(t.name," component ref not available or no onSubmit method"))}}),(m,t)=>{const k=ae("ion-toggle");return o(),D(Q,null,[N.value?(o(),D("div",us,[e(a(te),{lines:"none"},{default:s(()=>[e(a(ie),null,{default:s(()=>[...t[14]||(t[14]=[H("Switch between Capture Mode and Summary Mode",-1)])]),_:1}),e(k,{checked:x.value,onIonChange:t[0]||(t[0]=A=>x.value=A.detail.checked),slot:"end"},null,8,["checked"])]),_:1}),x.value?v("",!0):(o(),S(Zn,{key:f.value}))])):v("",!0),!N.value||x.value?(o(),S(a(re),{key:1,style:{width:"100%"}},{default:s(()=>[e(a(Qe),{value:u.value,"onUpdate:value":t[13]||(t[13]=A=>u.value=A),ref:"accordionGroup",class:"previousView"},{default:s(()=>[L("loc")?(o(),S(a(ge),{key:0,value:"loc",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(ie),{class:"previousLabel"},{default:s(()=>[...t[15]||(t[15]=[H("Level of consciousness",-1)])]),_:1})]),_:1}),l("div",cs,[e($a,{"is-active":u.value==="loc",ref_key:"levelOfConsciousnessFormRef",ref:c,onDataSaved:g},null,8,["is-active"]),l("div",ds,[F("loc")>0?(o(),S(a(le),{key:0,fill:"outline",onClick:t[1]||(t[1]=oe(A=>G("loc"),["stop"]))},{default:s(()=>[...t[16]||(t[16]=[H(" Back ",-1)])]),_:1})):v("",!0),e(a(le),{fill:"outline",onClick:t[2]||(t[2]=oe(A=>T("loc"),["stop"]))},{default:s(()=>[H(C(F("loc")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),L("pc")?(o(),S(a(ge),{key:1,value:"pc",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(ie),{class:"previousLabel"},{default:s(()=>[...t[17]||(t[17]=[H("Presenting complaints",-1)])]),_:1})]),_:1}),l("div",ms,[e(tn,{"is-active":u.value==="pc",onDataSaved:g,ref_key:"presentingComplaintsFormRef",ref:E},null,8,["is-active"]),l("div",ps,[F("pc")>0?(o(),S(a(le),{key:0,fill:"outline",onClick:t[3]||(t[3]=oe(A=>G("pc"),["stop"]))},{default:s(()=>[...t[18]||(t[18]=[H(" Back ",-1)])]),_:1})):v("",!0),e(a(le),{fill:"outline",onClick:t[4]||(t[4]=oe(A=>T("pc"),["stop"]))},{default:s(()=>[H(C(F("pc")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),L("pbs")?(o(),S(a(ge),{key:2,value:"pbs",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(ie),{class:"previousLabel"},{default:s(()=>[...t[19]||(t[19]=[H("Pregnancy and breastfeeding status",-1)])]),_:1})]),_:1}),l("div",vs,[e(ts,{"is-active":u.value==="pbs",ref_key:"pregnancyBreastfeedingFormRef",ref:p,onDataSaved:g},null,8,["is-active"]),l("div",fs,[F("pbs")>0?(o(),S(a(le),{key:0,fill:"outline",onClick:t[5]||(t[5]=oe(A=>G("pbs"),["stop"]))},{default:s(()=>[...t[20]||(t[20]=[H(" Back ",-1)])]),_:1})):v("",!0),e(a(le),{fill:"outline",onClick:t[6]||(t[6]=oe(A=>T("pbs"),["stop"]))},{default:s(()=>[H(C(F("pbs")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),L("pmh")?(o(),S(a(ge),{key:3,value:"pmh",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(ie),{class:"previousLabel"},{default:s(()=>[...t[21]||(t[21]=[H("Past medical history",-1)])]),_:1})]),_:1}),l("div",_s,[e(ls,{"is-active":u.value==="pmh",ref_key:"pastMedicalHistoryFormRef",ref:O,onDataSaved:g},null,8,["is-active"]),l("div",hs,[F("pmh")>0?(o(),S(a(le),{key:0,fill:"outline",onClick:t[7]||(t[7]=oe(A=>G("pmh"),["stop"]))},{default:s(()=>[...t[22]||(t[22]=[H(" Back ",-1)])]),_:1})):v("",!0),e(a(le),{fill:"outline",onClick:t[8]||(t[8]=oe(A=>T("pmh"),["stop"]))},{default:s(()=>[H(C(F("pmh")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),L("al")?(o(),S(a(ge),{key:4,value:"al",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(ie),{class:"previousLabel"},{default:s(()=>[...t[23]||(t[23]=[H("Allergies",-1)])]),_:1})]),_:1}),l("div",gs,[e(Ua,{"is-active":u.value==="al",ref_key:"allergiesFormRef",ref:B,onDataSaved:g},null,8,["is-active"]),l("div",ys,[F("al")>0?(o(),S(a(le),{key:0,fill:"outline",onClick:t[9]||(t[9]=oe(A=>G("al"),["stop"]))},{default:s(()=>[...t[24]||(t[24]=[H(" Back ",-1)])]),_:1})):v("",!0),e(a(le),{fill:"outline",onClick:t[10]||(t[10]=oe(A=>T("al"),["stop"]))},{default:s(()=>[H(C(F("al")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0),L("pe")?(o(),S(a(ge),{key:5,value:"pe",class:"_card"},{default:s(()=>[e(a(te),{slot:"header",color:"light"},{default:s(()=>[e(a(ie),{class:"previousLabel"},{default:s(()=>[...t[25]||(t[25]=[H("Physical examination",-1)])]),_:1})]),_:1}),l("div",bs,[e(rs,{"is-active":u.value==="pe",ref_key:"physicalExaminationFormRef",ref:_,onDataSaved:g},null,8,["is-active"]),l("div",Ds,[F("pe")>0?(o(),S(a(le),{key:0,fill:"outline",onClick:t[11]||(t[11]=oe(A=>G("pe"),["stop"]))},{default:s(()=>[...t[26]||(t[26]=[H(" Back ",-1)])]),_:1})):v("",!0),e(a(le),{fill:"outline",onClick:t[12]||(t[12]=oe(A=>T("pe"),["stop"]))},{default:s(()=>[H(C(F("pe")<M.value.length-1?"Next":"Finish"),1)]),_:1})])])]),_:1})):v("",!0)]),_:1},8,["value"])]),_:1})):v("",!0)],64)}}}),hl=ve(ws,[["__scopeId","data-v-597092a6"]]),ks={class:"allergies-section"},Cs={class:"allergies-container"},Ss={class:"medication-section"},Is={class:"medication-content"},Ps={key:0,class:"add-medication-form"},Es={class:"form-group"},Os={class:"option-label"},xs={key:0,class:"error-message"},As={class:"form-row"},Vs={class:"form-group"},Ns={key:0,class:"error-message"},Hs={class:"form-group"},$s={key:0,class:"error-message"},Ms={class:"form-group"},Ts={key:0,class:"error-message"},Rs={class:"action-buttons"},Fs={class:"notes-section"},Us={class:"notes-content"},Ls={class:"notes-input-container"},Bs={class:"ion-padding",slot:"content"},qs={class:"notes-timeline"},Gs={class:"note-date"},Ws={class:"note-content"},zs={class:"ion-padding",slot:"content"},js={class:"note-date"},Ys={class:"note-content"},Ks=ne({watch:{},name:"xxxComponent"}),Xs=ne({...Ks,setup(i){const r=He,u=qa,f=n(!1),w=n(!1),x=n(!0),$=n(0),V=n(""),g=n(!1),E=n(),c=n(!1),O=n(""),B=n(""),p=n(""),_=n(""),U=n(""),I=n(""),N="Add new medication",M=Oe(),L=St(),F=K(()=>L.selectedMedicalAllergiesList),G=K(()=>M.selectedMedicalDrugsList),T=K(()=>M.partialOPDdrugList),J=K(()=>M.nonPharmalogicalTherapyAndOtherNotes),m=["first","second","third"],t=n(),k=n(),A=n(),j=n(!1),de=n(!1),me=n("Show more notes"),Te=n(),We=n(),fe=n(),Pe=K(()=>M.editingDrugItem),Re=n("Select a route"),y=n(!1),P=n("Select frequency"),R=n(!1),se=n("Select drug"),ze=n(!1),Z=n(),ee=n(),_e=n(),Ve=n([]),xt=n([{concept_id:11797,name:"Buccal",concept_name_id:null,id:1769},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:6284},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:6285},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:6286},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:6295},{concept_id:3327,name:"Oral",concept_name_id:null,id:8686},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:8920},{concept_id:11792,name:"Rectally",concept_name_id:null,id:10785},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:12342},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:12344},{concept_id:11792,name:"Rectally",concept_name_id:null,id:14078},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:14079},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:14080},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:14081},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:14082},{concept_id:11797,name:"Buccal",concept_name_id:null,id:14083},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:14084},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:14085},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:14086}]),At=K(()=>Ve.value.length?Ve.value:xt.value);function Vt(h){Z.value=h}async function Nt(){return await Ga()}async function Ht(h=5,d=1e3){let b=0;for(;b<h&&(Ve.value=await Nt(),!(Ve.value.length>0));)b++,await new Promise(q=>setTimeout(q,d));Ve.value.length===0&&console.warn("Failed to fetch route list after maximum retries.")}ke(async()=>{const h=new Wa,{previousDrugPrescriptions:d,previousClinicalNotes:b,previousDrugAllergies:q}=await h.getPatientEncounters();t.value=d,k.value=Object.entries(b)[0];const[,...W]=Object.entries(b);A.value=W,Te.value=Object.entries(q)[0];const[,...Y]=Object.entries(q);We.value=Y,await Ht()}),pe(()=>B.value,async h=>{Ft()}),pe(()=>p.value,async h=>{tt()});function $t(){if(Ie.isEmpty(Z.value)==!0)return y.value=!0,!1;if(Ie.isEmpty(Z.value)==!1)return y.value=!1,!0}function Mt(){if(Ie.isEmpty(ee.value)==!0)return R.value=!0,!1;if(Ie.isEmpty(ee.value)==!1)return R.value=!1,!0}function Tt(){if(Ie.isEmpty(_e.value)==!0)return ze.value=!0,!1;if(Ie.isEmpty(_e.value)==!1)return ze.value=!1,!0}function Rt(){x.value=!x.value,f.value=!0,g.value=!1,c.value=!1}async function Ft(){return st(B.value)?g.value=!1:(V.value="please enter a number",g.value=!0),g.value}async function tt(){return st(p.value)?c.value=!1:(E.value="please enter a number",c.value=!0),c.value}async function at(){const h=await tt(),d=Mt(),b=Tt(),q=$t();return!h&&d==!0&&b==!0&&q==!0}function Ut(h){ee.value=h}async function nt(){try{const h=()=>fe.value.dose_strength!=null&&fe.value.dose_strength?Math.trunc(fe.value.dose_strength):1;if(Pe.value!==null){if(!await at()){De("Please enter correct data values",4e3);return}const b=Me.getSessionDate(),q=lt(b,parseInt(p.value));let W=!1;je(fe.value)==!0&&(W=!0);const Y={drugName:O.value,dose:h(),frequency:ee.value.label,frequency_code:ee.value.code,duration:p.value,prescription:q,drug_id:I.value,units:U.value,route_concept_id:Z.value.concept_id,route_name:Z.value.name,highlightbackground:W},Ye=Oe();console.log(Ye.setSelectedMedicalDrugsList([Y])),Ye.editingDrugItem=null,x.value=!0}else{if(!await at()){De("Please enter correct data values",4e3);return}Kt();const b=Me.getSessionDate(),q=lt(b,parseInt(p.value));let W=!1;je(fe.value)==!0&&(W=!0);const Y={drugName:O.value,dose:h(),frequency:ee.value.label,frequency_code:ee.value.code,duration:p.value,prescription:q,drug_id:I.value,units:U.value,route_concept_id:Z.value.concept_id,route_name:Z.value.name,highlightbackground:W};Oe().setSelectedMedicalDrugsList([Y])}I.value="",O.value="",B.value="",ee.value=null,p.value="",_.value="",$.value++,_e.value=null,Z.value=null}catch(h){console.error("Error saving data:",h)}}async function Lt(h){const d=h,W=await Ia.getOfflineOPDDrugs({name:d,page:1,page_size:10});W.map(Y=>({label:Y.name,value:Y.name,other:Y})),M.setPartialOPDdrugList(W)}function je(h){const d=[];return F.value.forEach(q=>{q.selected&&d.push(q.concept_id)}),Bt([h],d)==!0?(De("Client is allergic to the selected medication",4e6),!0):!1}function Bt(h,d){try{return h.some(b=>d.includes(b.concept_id))}catch(b){return!1}}function qt(h){h&&(O.value=h.name,I.value=h.drug_id,U.value=h.units,fe.value=h,je(h))}function Gt(h){const d=G.value[h],b=Oe();b.removeDrugById(d.drug_id),b.editingDrugItem=d,I.value="",O.value="",B.value="",ee.value=null,p.value="",_.value="",_e.value=null,Z.value=null,I.value=d.drug_id,O.value=d.drugName,B.value=d.dose,ee.value={label:d.frequency,code:d.frequency_code},p.value=d.duration,_.value=d.prescription;const q=T.value.find(W=>W.name===d.drugName);q&&(_e.value=q),Z.value={concept_id:d.route_concept_id,name:d.route_name},x.value=!1,$.value++}function Wt(){if(Pe.value!==null){I.value="",O.value="",B.value="",ee.value=null,p.value="",_.value="",_e.value=null,Z.value=null;const h=Oe();h.setSelectedMedicalDrugsList([Pe.value]),h.editingDrugItem=null}x.value=!0,$.value++}function zt(h){G.value.splice(h,1),$.value++,De("you have removed a drug from list",6e3)}function jt(h){let d=h.target.value;Yt(d)}function Yt(h){Oe().setNonPharmalogicalTherapyAndOtherNotes(h)}function st(h){return/^[0-9]+$/.test(h)}function lt(h,d){const b=new Date(h);b.setDate(b.getDate()+d);const q=b.getFullYear(),W=String(b.getMonth()+1).padStart(2,"0"),Y=String(b.getDate()).padStart(2,"0");return"".concat(q,"-").concat(W,"-").concat(Y)}function Kt(){f.value=!1,w.value=!0,x.value=!0}function Xt(h){m.filter(b=>b!==h.detail.value);const d=h.detail.value;d!==void 0?d=="third"&&(me.value="Show less notes",de.value=!j.value):(me.value="Show more notes",de.value=!j.value)}function Jt(h){return h[1]}function Qt(h){(h.key==="Enter"||h.key==="ArrowDown")&&(h.preventDefault(),nt())}const Ee=K(()=>[{showAddItemButton:!0,addItemButton:!0,name:Pe.value!==null?"Update":"ADD",fn:nt},{showAddItemButton:!0,addItemButton:!0,name:"CANCEL",fn:Zt}]),Zt=async()=>{Ct(Sa,{class:"otherVitalsModal"},!0,{message:"Are you sure you want to cancel?"},{cancel:q=>{},confirm:async q=>{q.detail==!0&&Wt()}})};return(h,d)=>(o(),S(a(kt),null,{default:s(()=>[l("div",ks,[l("div",Cs,[e(Ot)])]),l("div",Ss,[e(a(te),{lines:"none",class:"section-header"},{default:s(()=>[e(a(Ue),{icon:a(xe),class:"section-icon"},null,8,["icon"]),e(a(ie),{class:"section-title",style:{"margin-top":"12px"}},{default:s(()=>[...d[9]||(d[9]=[H("Medication",-1)])]),_:1})]),_:1}),l("div",Is,[(o(),S(La,{_selectedMedicalDrugsList:G.value,onEditItem:Gt,onRemoveItem:zt,key:$.value,class:"medication-list"},null,8,["_selectedMedicalDrugsList"])),x.value?v("",!0):(o(),D("div",Ps,[l("div",Es,[d[10]||(d[10]=l("label",{class:"input-label"},"Medication",-1)),e(a($e),{modelValue:_e.value,"onUpdate:modelValue":[d[0]||(d[0]=b=>_e.value=b),d[1]||(d[1]=b=>qt(b))],options:T.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select medication",label:"name","track-by":"drug_id",onSearchChange:d[2]||(d[2]=b=>Lt(b))},{option:s(b=>[l("div",Os,C(b.option.name),1)]),_:1},8,["modelValue","options"]),ze.value?(o(),D("div",xs,C(se.value),1)):v("",!0)]),l("div",As,[l("div",Vs,[d[11]||(d[11]=l("label",{class:"input-label"},"Route",-1)),e(a($e),{modelValue:Z.value,"onUpdate:modelValue":[d[3]||(d[3]=b=>Z.value=b),d[4]||(d[4]=b=>Vt(b))],options:At.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select route",label:"name","track-by":"concept_id",disabled:!1},null,8,["modelValue","options"]),y.value?(o(),D("div",Ns,C(Re.value),1)):v("",!0)]),l("div",Hs,[d[12]||(d[12]=l("label",{class:"input-label"},"Frequency",-1)),e(a($e),{modelValue:ee.value,"onUpdate:modelValue":[d[5]||(d[5]=b=>ee.value=b),d[6]||(d[6]=b=>Ut(b))],options:a(u),searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select frequency",label:"label","track-by":"code"},null,8,["modelValue","options"]),R.value?(o(),D("div",$s,C(P.value),1)):v("",!0)]),l("div",Ms,[d[13]||(d[13]=l("label",{class:"input-label"},"Duration (days)",-1)),e(a(da),{modelValue:p.value,"onUpdate:modelValue":d[7]||(d[7]=b=>p.value=b),type:"number",inputmode:"numeric",pattern:"[0-9]*",fill:"outline",placeholder:"Enter duration",onKeydown:Qt},null,8,["modelValue"]),c.value?(o(),D("div",Ts,C(E.value),1)):v("",!0)])]),l("div",Rs,[Ee.value[0].addItemButton?(o(),S(we,{key:0,name:Ee.value[0].name,icon:a(Dt),"onClicked:btn":Ee.value[0].fn,class:"save-button"},null,8,["name","icon","onClicked:btn"])):v("",!0),Ee.value[1].addItemButton?(o(),S(we,{key:1,name:Ee.value[1].name,icon:a(wt),"onClicked:btn":Ee.value[1].fn,class:"cancel-button"},null,8,["name","icon","onClicked:btn"])):v("",!0)])])),x.value?(o(),S(we,{key:1,name:N,icon:a(Le),fontWeight:"600","onClicked:btn":Rt,class:"add-new-button"},null,8,["icon"])):v("",!0)])]),l("div",Fs,[e(a(te),{lines:"none",class:"section-header"},{default:s(()=>[e(a(Ue),{icon:a(ma),class:"section-icon"},null,8,["icon"]),e(a(ie),{class:"section-title"},{default:s(()=>[...d[14]||(d[14]=[H("Non-pharmacological therapy and other notes",-1)])]),_:1})]),_:1}),l("div",Us,[e(Ba,{class:"intervention-component"}),l("div",Ls,[e(a(te),{class:"notes-input-item"},{default:s(()=>[e(a(Ue),{slot:"start",icon:a(r).editPen,class:"edit-icon","aria-hidden":"true"},null,8,["icon"]),e(a(pa),{modelValue:J.value,"onUpdate:modelValue":d[8]||(d[8]=b=>J.value=b),onIonInput:jt,placeholder:"Enter notes here...","auto-grow":!0,class:"notes-textarea",fill:"outline",style:{"--padding-start":"16px"}},null,8,["modelValue"])]),_:1})]),e(a(Qe),{ref:"accordionGroup",class:"previous-notes"},{default:s(()=>[e(a(ge),{value:"fourth","toggle-icon-slot":"start"},{default:s(()=>[e(a(te),{slot:"header",color:"light",class:"previous-notes-header"},{default:s(()=>[e(a(ie),null,{default:s(()=>[...d[15]||(d[15]=[H("Previous visit notes",-1)])]),_:1})]),_:1}),l("div",Bs,[l("div",qs,[h.index===1?(o(!0),D(Q,{key:0},ce(k.value,(b,q)=>(o(),D("div",{key:q,class:"note-entry"},[(o(!0),D(Q,null,ce(b,(W,Y)=>(o(),D("div",{key:Y},[l("div",Gs,C(W.date),1),l("div",Ws,C(W.notes),1)]))),128))]))),128)):v("",!0),e(a(Qe),{onIonChange:Xt},{default:s(()=>[e(a(ge),{value:"third","toggle-icon-slot":"start"},{default:s(()=>[e(a(te),{slot:"header",color:"light",class:"show-more-header"},{default:s(()=>[e(a(ie),{color:"primary"},{default:s(()=>[H(C(me.value),1)]),_:1})]),_:1}),l("div",zs,[(o(!0),D(Q,null,ce(A.value,(b,q)=>(o(),D("div",{key:q,class:"note-entry"},[(o(!0),D(Q,null,ce(Jt(b),(W,Y)=>(o(),D("div",{key:Y},[l("div",js,C(W.date),1),l("div",Ys,C(W.notes),1)]))),128))]))),128))])]),_:1})]),_:1})])])]),_:1})]),_:1},512)])])]),_:1}))}}),gl=ve(Xs,[["__scopeId","data-v-0c2a73b2"]]),Js=ne({name:"xxxComponent"}),Qs=ne({...Js,emits:["dataSaved"],setup(i,{emit:r}){const u=n(),f=n("gurdian phone number");n(!0),n(!0);const w=n(!0),x=n(),$=n();ke(async()=>{We()});const V=[{placeHolder:{default:"Enter time of death if known"},property_name:"timeOfDeath",dataHandler:M,dataValue:n(),show_error:n(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time arrived"},property_name:"timeArrived",dataHandler:L,dataValue:n(),show_error:n(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time confirming death"},property_name:"timeOfDeathConfirmation",dataHandler:F,dataValue:n(),show_error:n(!1),error_message:"Time required",skip_validation:!1}],g=[{placeHolder:{default:"Enter date of death"},property_name:"dateOfDeath",dataHandler:G,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date arrived"},property_name:"dateArrived",dataHandler:T,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date confirming death"},property_name:"dateOfDeathConfirmation",dataHandler:J,dataValue:n(),show_error:n(!1),error_message:"Date required",type:"date",skip_validation:!1}],E=[{lblTxt:"Was the individual pregnant at the time of death?",value:n(!1),disable_checkbox:n(!0)}],c=[{placeHolder:"Enter place of death",property_name:"placeOfDeath",dataHandler:m,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of guardian",property_name:"nameOfGuardian",dataHandler:t,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of person confirming death",property_name:"nameOfPersonConfirmindDeath",dataHandler:k,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter position of the person confirming death",property_name:"positionOfthePersonConfirmingDeath",dataHandler:A,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter medical council registration number of the person confirming death",property_name:"medicalConcilRegistrationNumberOfThePersonConfirmingDeath",dataHandler:j,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters and numbers are allowed",type:"alphanumeric",skip_validation:!1},{placeHolder:"Other (specify)",property_name:"otherNotes",dataHandler:de,dataValue:n(),show_error:n(!1),error_message:"Input required, Only letters allowed",dissabled:w.value,type:"text",skip_validation:!0}],O=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:fe},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:U}],B=n([{id:1,name:"Natural",selected:!1},{id:2,name:"Accident",selected:!1},{id:3,name:"Homicide",selected:!1},{id:4,name:"Suicide",selected:!1},{id:5,name:"Pending investigation",selected:!1},{id:6,name:"Could not be determined",selected:!1},{id:7,name:"Other - specify",selected:!1}]),p=n([{id:1,name:"Motor vehicle (passenger)",selected:!1},{id:2,name:"Motor vehicle (pedestrian)",selected:!1},{id:3,name:"Drowning",selected:!1},{id:4,name:"Other - specify",selected:!1}]),_=[{multi_Selection:!1,manner_of_death_Selection_value:n(),show_list_label:!0,unqueId:"qwerty",name_of_list:"Manner of death ",property_name:"mannerOfDeath",placeHolder:"Choose one",items:B.value,listUpdatedFN:me,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!1),show_error:n(!1),error_message:"selection required"},{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty1hjkn",name_of_list:"How did it occur?",property_name:"howDiditOccur",placeHolder:"Choose one",items:p.value,listUpdatedFN:Te,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!0),show_error:n(!1),error_message:"selection required"}];function U(){N()}const I=r;function N(y={dataSaved:!0}){I("dataSaved",y)}function M(y){V[0].dataValue.value=y}function L(y){V[1].dataValue.value=y}function F(y){V[2].dataValue.value=y}function G(y){const P={day:y.value.day,month:y.value.month,year:y.value.year,formattedDate:y.value.formattedDate};g[0].dataValue.value=P}function T(y){const P={day:y.value.day,month:y.value.month,year:y.value.year,formattedDate:y.value.formattedDate};g[1].dataValue.value=P,console.log(g[2].dataValue.value)}function J(y){const P={day:y.value.day,month:y.value.month,year:y.value.year,formattedDate:y.value.formattedDate};g[2].dataValue.value=P,console.log(g[2].dataValue.value)}function m(y){const P=y.target.value;c[0].dataValue.value=P}function t(y){const P=y.target.value;c[1].dataValue.value=P}function k(y){const P=y.target.value;c[2].dataValue.value=P}function A(y){const P=y.target.value;c[3].dataValue.value=P}function j(y){const P=y.target.value;c[4].dataValue.value=P}function de(y){const P=y.target.value;c[5].dataValue.value=P}function me(y){B.value.forEach(R=>R.selected=!1);const P=B.value.find(R=>R.id==y.id);_[1].disabled.value=y.name!="Accident",P.selected=!0}function Te(y){console.log("listUpdated",y),p.value.forEach(R=>R.selected=!1);const P=p.value.find(R=>R.id==y.id);P.selected=!0}function We(){const P=new It().isChildBearing;P==!0&&(E[0].disable_checkbox.value=!1),P==!1&&(E[0].disable_checkbox.value=!0)}function fe(){Ke(c),Ke(g),Ke(V),Pe();const y=Ie.merge(Xe(c),Xe(g),Xe(V),Re(_[0]),Re(_[1]));console.log(y)}function Pe(){const y=B.value.filter(P=>P.selected);if(y.length==0)_[0].show_error.value=!0;else if(_[0].show_error.value=!1,y[0].name=="Accident"){const P=p.value.filter(R=>R.selected);_[1].show_error.value=P.length==0}}function Re(y){const P=[];let R={};return y.items.forEach(se=>{se.selected==!0&&P.push({property_name:y.property_name,name:se.name})}),P.length>0&&(R[P[0].property_name]=P[0].name),R}return(y,P)=>{const R=ae("ion-label");return o(),D(Q,null,[e(a(re),{class:"checkbox_content md"},{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[0].placeHolder,icon:a(yt),inputValue:c[0].dataValue.value,"onUpdate:inputValue":c[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),l("div",null,[c[0].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(c[0].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(gt,{place_holder:g[0].placeHolder,onDateUpDated:g[0].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),l("div",null,[g[0].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(g[0].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Je,{place_holder:V[0].placeHolder,onTimeUpDated:V[0].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),l("div",null,[V[0].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(V[0].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z))]),_:1}),e(a(re),{class:"checkbox_content md"},{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[1].placeHolder,icon:a(_t),inputValue:c[1].dataValue.value,"onUpdate:inputValue":c[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),l("div",null,[c[1].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(c[1].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(a(va),{value:E[0].value,alignment:"start",class:"ion-lblCls",disabled:E[0].disable_checkbox.value},{default:s(()=>[H(C(E[0].lblTxt),1)]),_:1},8,["value","disabled"])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:f.value,icon:a(fa),inputValue:u.value},null,8,["placeholder","icon","inputValue"])]),_:1}),e(a(z))]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(gt,{place_holder:g[1].placeHolder,onDateUpDated:g[1].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),l("div",null,[g[1].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(g[1].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(Je,{place_holder:V[1].placeHolder,onTimeUpDated:V[1].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),l("div",null,[V[1].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(V[1].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(a($e),{modelValue:x.value,"onUpdate:modelValue":[P[0]||(P[0]=se=>x.value=se),P[1]||(P[1]=se=>me(se))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Manner of death",placeholder:"Manner of death",selectLabel:"",label:"name",searchable:!0,"track-by":"id",options:B.value},null,8,["modelValue","options"]),l("div",null,[_[0].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(_[0].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(a($e),{modelValue:$.value,"onUpdate:modelValue":[P[2]||(P[2]=se=>$.value=se),P[3]||(P[3]=se=>Te(se))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"How did it occur?",placeholder:"How did it occur?",selectLabel:"",label:"name",disabled:_[1].disabled.value,searchable:!0,"track-by":"id",options:p.value},null,8,["modelValue","disabled","options"]),l("div",null,[_[1].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(_[1].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[5].placeHolder,icon:a(ht),inputValue:c[5].dataValue.value,disabled:w.value,"onUpdate:inputValue":c[5].dataHandler},null,8,["placeholder","icon","inputValue","disabled","onUpdate:inputValue"]),l("div",null,[c[5].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(c[5].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Je,{place_holder:V[2].placeHolder,onTimeUpDated:V[2].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),l("div",null,[V[2].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(V[2].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[2].placeHolder,icon:a(_t),inputValue:c[2].dataValue.value,"onUpdate:inputValue":c[2].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),l("div",null,[c[2].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(c[2].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),e(a(re),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[3].placeHolder,icon:a(xe),inputValue:c[3].dataValue.value,"onUpdate:inputValue":c[3].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),l("div",null,[c[3].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(c[3].error_message),1)]),_:1})):v("",!0)])]),_:1}),e(a(z),null,{default:s(()=>[e(Ce,{placeholder:c[4].placeHolder,icon:a(ht),inputValue:c[4].dataValue.value,"onUpdate:inputValue":c[4].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),l("div",null,[c[4].show_error.value?(o(),S(R,{key:0,class:"error-label"},{default:s(()=>[H(C(c[4].error_message),1)]),_:1})):v("",!0)])]),_:1})]),_:1}),(o(),S(a(re),{key:0,class:"spc_btwn"},{default:s(()=>[O[0].addItemButton?(o(),S(we,{key:0,name:O[0].name,fill:O[0].btnFill,icon:a(Dt),"onClicked:btn":O[0].fn},null,8,["name","fill","icon","onClicked:btn"])):v("",!0),O[1].addItemButton?(o(),S(we,{key:1,name:O[1].name,fill:O[1].btnFill,icon:a(wt),"onClicked:btn":O[1].fn},null,8,["name","fill","icon","onClicked:btn"])):v("",!0)]),_:1}))],64)}}}),Zs=ve(Qs,[["__scopeId","data-v-0aad2f08"]]),el={class:"dash_box"},tl={key:1},al=ne({name:"xxxComponent"}),nl=ne({...al,setup(i){const r=n("No outcome created yet"),u=n(!1),f=n("please select a type"),w=n(!0),x=n(""),$=n(!0),V=n(!1),g=Pa(),E=K(()=>g.outcomes),c=n(!1),O=n(!1),B=n(!1),p=n(!1),_=n(!1),U=n(!1),I=n([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1},{name:"Send to Another Clinic",selected:!1}]),N=[{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty2",name_of_list:"Add new outcome",placeHolder:"Choose one",items:I.value,listUpdatedFN:M,listFilteredFN:()=>{},use_internal_filter:!0,disabled:n(!1)}];function M(t){I.value=t,I.value.forEach(k=>{k.selected==!0&&(x.value=k.name)})}ke(async()=>{F()}),pe(()=>x.value,async t=>{c.value==!0?c.value=!1:J()}),pe(()=>E.value.length,async t=>{F()});function L(){I.value.forEach(t=>{t.selected=!1}),x.value=""}function F(){E.value.length>0?$.value=!1:E.value.length==0&&V.value==!1&&($.value=!0)}function G(t){E.value.splice(t,1)}const T=t=>{};async function J(t=!0){const k=x.value;console.log(k),x.value=k;const A=x.value;A==I.value[0].name?B.value=!0:B.value=!1,A==I.value[1].name?(p.value=!0,console.log("show_discharged_options is set to true")):p.value=!1,A==I.value[2].name?(_.value=!0,console.log("show_discharged_options is set to true")):_.value=!1,A==I.value[3].name?U.value=!0:U.value=!1}function m(){O.value=!1,B.value=!1,p.value=!1,_.value=!1,L()}return(t,k)=>{const A=ae("ion-row");return o(),S(a(kt),null,{default:s(()=>[e(A,null,{default:s(()=>[e(a(z),null,{default:s(()=>[(o(),S(za,{key:0,"onUpdate:removeItem":G,"onUpdate:editItem":T,displayData:E.value},null,8,["displayData"]))]),_:1})]),_:1}),$.value?(o(),S(A,{key:0},{default:s(()=>[l("span",el,C(r.value),1)]),_:1})):v("",!0),w.value?(o(),D("div",tl,[e(A,null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(Ea,{multiSelection:N[0].multi_Selection,show_label:N[0].show_list_label,uniqueId:N[0].unqueId,name_of_list:N[0].name_of_list,choose_place_holder:N[0].placeHolder,"items_-list":N[0].items,use_internal_filter:N[0].use_internal_filter,disabled:N[0].disabled.value,onItemListUpDated:N[0].listUpdatedFN,onItemListFiltered:N[0].listFilteredFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered"]),l("div",null,[u.value?(o(),S(a(ie),{key:0,class:"error-label"},{default:s(()=>[H(C(f.value),1)]),_:1})):v("",!0)])]),_:1})]),_:1})])):v("",!0),B.value?(o(),S(ja,{key:2,onDataSaved:m,selected_ward_prop:"",admitted_other_props:""})):v("",!0),p.value?(o(),S(Ya,{key:3,onDataSaved:m,selected_referral_data:"",selected_other_referral_data:""})):v("",!0),_.value?(o(),S(Ka,{key:4,onDataSaved:m,selected_discharged_prop:"",selected_discharged_data:""})):v("",!0),O.value?(o(),S(Zs,{key:5,onDataSaved:m})):v("",!0),U.value?(o(),S(Xa,{key:6,onDataSaved:m})):v("",!0)]),_:1})}}}),yl=ve(nl,[["__scopeId","data-v-fc637de7"]]);export{hl as C,yl as O,tn as P,ts as _,rs as a,gl as b};
