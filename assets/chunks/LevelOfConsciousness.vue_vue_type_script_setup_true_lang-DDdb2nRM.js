import{u as O,H as S,aC as f,af as A,aX as W,G as x,t as E}from"../index-DCB2BQuP.js";import{c as t,d as I,aU as V,r as h,e as C,f as r,O as g,k as M,u as T,K as k}from"./vendor-BpjEhVym.js";const R=t(()=>[{componentType:"radioButtonField",header:"Eye opening response",name:"Eye opening response",obsValueType:"value_coded",type:"inline",options:[{label:"Spontaneously",value:"Spontaneously"},{label:"To speech",value:"To speech"},{label:"To pain",value:"To pain"},{label:"No response",value:"No response"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best verbal response",name:"Best verbal response",obsValueType:"value_coded",type:"inline",options:[{label:"Oriented to time, place and person",value:"Oriented to time, place and person"},{label:"Confused",value:"Confused"},{label:"Inappropriate words",value:"Inappropriate words"},{label:"Incomprehensible sounds",value:"Incomprehensible sounds"},{label:"No response",value:"No response"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best motor response",name:"Best motor response",obsValueType:"value_coded",type:"inline",options:[{label:"Obeys commands",value:"Obeys commands"},{label:"Moves to localised pain",value:"Moves to localised pain"},{label:"Flexion withdrawal from pain",value:"Flexion withdrawal from pain"},{label:"Abnormal flexion (decorticate)",value:"Abnormal flexion (decorticate)"},{label:"Abnormal extension (decerebrate)",value:"Abnormal extension (decerebrate)"},{label:"No response",value:"No response"}]}]),L=t(()=>[{componentType:"radioButtonField",header:"Eye opening response",name:"Eye opening response",obsValueType:"value_coded",type:"inline",options:[{label:"Directed eye movements",value:"Directed eye movements"},{label:"Not directed",value:"Not directed"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best verbal response",name:"Best verbal response",obsValueType:"value_coded",type:"inline",options:[{label:"Appropriate cry",value:"Appropriate cry"},{label:"Inappropriate cry or moan",value:"Inappropriate cry or moan"},{label:"No cry",value:"No cry"}]},{componentType:"Dashes"},{componentType:"radioButtonField",header:"Best motor response",name:"Best motor response",obsValueType:"value_coded",type:"inline",options:[{label:"Localizes pain",value:"Localizes pain"},{label:"Withdraws from pain",value:"Withdraws from pain"},{label:"Non specific or no response",value:"Non specific or no response"}]}]),$={Spontaneously:4,"To speech":3,"To pain":2,"No response":1},z={"Oriented to time, place and person":5,Confused:4,"Inappropriate words":3,"Incomprehensible sounds":2,"No response":1},H={"Obeys commands":6,"Moves to localised pain":5,"Flexion withdrawal from pain":4,"Abnormal flexion (decorticate)":3,"Abnormal extension (decerebrate)":2,"No response":1},G={"Not directed":0,"Directed eye movements":1},K={"Non specific or no response":0,"Withdraws from pain":1,"Localizes pain":2},P={"No cry":0,"Inappropriate cry or moan":1,"Appropriate cry":2},U={class:"modal_wrapper"},J=I({__name:"LevelOfConsciousness",setup(X,{expose:B}){var p,i;const _=O(),{patient:a}=V(_),l=h(S.getAgeInYears((i=(p=a==null?void 0:a.value)==null?void 0:p.personInformation)==null?void 0:i.birthdate)),o=h(null),N=t(()=>{var d,v,b,y;const e=((d=o.value)==null?void 0:d.getFormValues())||{},s=e["Eye opening response"]||"",F=e["Best motor response"]||"",w=e["Best verbal response"]||"",n=l.value<18,c=(v=(n?G:$)[s])!=null?v:0,m=(b=(n?K:H)[F])!=null?b:0,u=(y=(n?P:z)[w])!=null?y:0,D=c+m+u;return"(M ".concat(m," V ").concat(u," E ").concat(c,") ").concat(D,"/").concat(n?5:15)});return B({onSubmit:async()=>{var s;if(!o.value){console.error("Form reference is not available");return}const e=((s=o.value)==null?void 0:s.getFormValues())||{};e["Eye opening response"]||e["Best motor response"]||e["Best verbal response"]?(await A.buildAddObsToEncounterPatient(e,W.ASSESSMENT),o.value.resetForm(),x("Level of Consciousness saved successfully")):E(" No level of consciousness data to save ")}}),(e,s)=>(r(),C("div",U,[l.value<18?(r(),g(f,{key:0,formData:T(L),ref_key:"formRef",ref:o},null,8,["formData"])):(r(),g(f,{key:1,formData:T(R),ref_key:"formRef",ref:o},null,8,["formData"])),M("h5",null,k(N.value),1)]))}});export{J as _,$ as a,H as b,z as c,G as e,K as m,P as v};
