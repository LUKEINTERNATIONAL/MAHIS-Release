import{cm as u,cn as f,aH as g,aG as y}from"../index-rnlHD_bJ.js";import{P as w}from"./program_report_service-IdhONvR8.js";import{d as v,r as o,O as A,f as C}from"./vendor-9T3c-tPq.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-qlDaiiMc.js";const E=v({__name:"ClinicHypertensionReport",setup(R){const i=o("-"),a=o([]),m=o("Hypertension Report"),s=[{path:"age_group",label:"Age Group"},{path:"gender",label:"Gender",formatter:u},{path:"screened",label:"Screened for HTN",drillable:!0},{path:"normal_reading",label:"Normal <140/<90",drillable:!0},{path:"mild_reading",label:"Mild 140-159/90-99",drillable:!0},{path:"moderate_reading",label:"Moderate 160-180/100-110",drillable:!0},{path:"severe_reading",label:"Severe >180/>110",drillable:!0},{path:"hydrochlorothiazide_25mg",label:"Hydrochlorothiazide 25mg",drillable:!0},{path:"amlodipine_5mg",label:"Amlodipine 5mg",drillable:!0},{path:"amlodipine_10mg",label:"Amlodipine 10mg",drillable:!0},{path:"captopril_25mg",label:"Captopril 25mg",drillable:!0},{path:"captopril_6_25mg",label:"Captopril 6.25mg",drillable:!0},{path:"captopril_12_5mg",label:"Captopril 12.5mg",drillable:!0},{path:"captopril_50mg",label:"Captopril 50mg",drillable:!0},{path:"enalapril_5mg",label:"Enalapril 5mg",drillable:!0},{path:"enalapril_10mg",label:"Enalapril 10mg",drillable:!0},{path:"atenolol_50mg",label:"Atenolol 50mg",drillable:!0},{path:"atenolol_100mg",label:"Atenolol 100mg",drillable:!0},{path:"nifedipine_10mg",label:"Nifedipine 10mg",drillable:!0},{path:"nifedipine_20mg",label:"Nifedipine 20mg",drillable:!0},{path:"total_regimen",label:"Total (regimen)",drillable:!0}];function c(e){return Object.keys(e).flatMap(l=>Object.keys(e[l]).map(t=>{const n=e[l][t],h=Object.keys(n).reduce((p,d)=>(p[d]=n[d].length,p),{});return{age_group:l,gender:t,...h}})).sort((l,t)=>l.gender<t.gender?-1:l.gender>t.gender?1:l.age_group<t.age_group?-1:l.age_group>t.age_group?1:0)}async function b(e){try{await g.show();const r=new w;r.setStartDate(e.dateRange.startDate),r.setEndDate(e.dateRange.endDate),r.setOccupation(e.occupation),i.value=r.getDateIntervalPeriod();const l=await r.generate("hypertension_report");l?a.value=c(l):a.value=[]}catch(r){console.error(r),y("ERROR! Unable to load report data")}finally{await g.hide()}}function _(e){return"".concat(e.column.label," | ").concat(e.row.age_group," | ").concat(u(e.row.gender))}return(e,r)=>(C(),A(f,{title:m.value,"report-type":"Clinic",columns:s,"drill-title":_,rows:a.value,period:i.value,"use-date-range-filter":"","use-secure-export":"","show-indices":"",onGenerate:b},null,8,["title","rows","period"]))}});export{E as default};
