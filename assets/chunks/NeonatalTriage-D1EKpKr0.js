import{d as b,r as F,bH as x,w as d,e as R,f as v,l as y,u,b2 as Ee,c as ee,F as ce,P as ue,k as f,K as J,H as K,O as Oe,J as G,m as Ne,aT as Me,L as me,av as He,Q as te,N as fe,b as Be,ab as Ae,ae as je,am as Pe,cr as Le,bE as We,eU as Ue}from"./vendor-BTebhqHt.js";import{z as I,_ as V,T as Ye,u as ze,ck as Ge,t as re,H as qe,J as z,ch as Ke,b as Je,F as Qe}from"../index-BpQfAx9h.js";import{D as Xe}from"./DemographicBar-D_Xk2wUF.js";import{l as h,m as D,u as M,N as Ze,o as et,t as tt}from"./NeonatalStepper-CJdKAZd5.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-no8IW45T.js";import"./SaveProgressModal-BE8xJoFQ.js";import"./images-Zb0Yk5XL.js";import"./enrollment-DU-PLRUa.js";const ot={class:"triage-section-wrapper"},at=b({__name:"EmergencyTriageSection",setup(g,{expose:m}){const o=F(null),a=h[0],l=a.formData,c=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&(n.crying=t.crying||"",r.setField("crying",t.crying||""),r.setField("breathing",t.breathing||""))};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),d(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.validateForm)==null?void 0:s.call(t))||null},getFormValues:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:s.call(t))||{}}}),(t,s)=>(v(),R("div",ot,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),de=V(at,[["__scopeId","data-v-4feaf236"]]),nt={class:"triage-section-wrapper"},rt=b({__name:"BreathingAssessmentSection",setup(g,{expose:m}){const o=F(null),a=h[1],l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&(n.breathing=e.breathing)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),d(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",nt,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ge=V(rt,[["__scopeId","data-v-ef50eec4"]]),st={class:"triage-section-wrapper"},it=b({__name:"EmergencyManagementSection",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Oxygen Saturation"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",st,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),lt=V(it,[["__scopeId","data-v-3306617f"]]),ct={class:"triage-section-wrapper"},ut=b({__name:"OxygenSaturationSection",setup(g,{expose:m}){const o=F(null),a=h[3],l=a.formData,c=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&(Object.assign(n,t),r.setField("observations",t.observations))};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.validateForm)==null?void 0:s.call(t))||null},getFormValues:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:s.call(t))||{}}}),(t,s)=>(v(),R("div",ct,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),pe=V(ut,[["__scopeId","data-v-740aefb2"]]),mt={class:"triage-section-wrapper"},ft=b({__name:"CentralCyanosisSection",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Emergency Management 3"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",mt,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),_e=V(ft,[["__scopeId","data-v-0e2784f0"]]),dt={class:"triage-section-wrapper"},gt=b({__name:"ConvulsionsSection",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Emergency Management 4"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",dt,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ve=V(gt,[["__scopeId","data-v-78f15785"]]),pt={class:"triage-section-wrapper"},_t=b({__name:"VitalSectionTwo",setup(g,{expose:m}){const o=F(null),a=h.find(t=>t.title==="Vital Signs 2"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&r.setField("saturation_in_oxygen",t.saturation_in_oxygen)};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),d(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.validateForm)==null?void 0:s.call(t))||null},getFormValues:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:s.call(t))||{}}}),(t,s)=>(v(),R("div",pt,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ye=V(_t,[["__scopeId","data-v-18df91a1"]]),vt={class:"triage-section-wrapper"},yt=b({__name:"VitalSectionThree",setup(g,{expose:m}){const o=F(null),a=h.find(t=>t.title==="Vital Signs 3"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&(r.setField("temperature",t.temperature),r.setField("can_measure_temp",t.can_measure_temp))};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),d(()=>o.value,t=>{t!=null&&t.getFormValues&&e(t.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.validateForm)==null?void 0:s.call(t))||null},getFormValues:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:s.call(t))||{}}}),(t,s)=>(v(),R("div",vt,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Fe=V(yt,[["__scopeId","data-v-8f1c7b62"]]),Ft={class:"summary-wrapper"},Rt={class:"summary-card-body"},ht={class:"summary-row-label"},St={class:"summary-row-value"},bt=b({__name:"TriageSummarySection",setup(g){const m=M(),{formValues:o}=Ee(m),a={not_breathing:"Not breathing",hr_low:"Heart rate low",hr_fast:"Heart rate fast",gasping:"GASPING or irregular breathing",chest_indrawing:"Chest indrawing",floppy:"VERY FLOPPY (Normal breathing & HR)",stable:"stable"},l={None:"None",Convulsions_twitching:"Convulsions or twitching",grunting:"Grunting or Severe chest indrawing's",Central_cyanosis:"Central cyanosis"},c={none:"None",trunk_cold:"Trunk feels cold",capillary_refill:"Capillary refill >3 seconds",weak_pulse:"Weak femoral pulse"},n=i=>i==null||i===""?null:i===!0||i==="yes"?"(yes)":i===!1||i==="no"?"(no)":String(i),r=i=>i==null||i===""?null:String(i),e=(i,k)=>!Array.isArray(i)||i.length===0?null:i.map(O=>{var S;const p=String(O);return(S=k==null?void 0:k[p])!=null?S:p}).join("\n"),t=ee(()=>{const i=o.value||{};return[{title:"Triage",items:[{label:"Is the baby crying?",value:n(i.crying)},{label:"Is the baby breathing?",value:e(i.breathing,a)},{label:"Observations",value:e(i.observations,l)},{label:"Present signs",value:e(i.present_signs,c)}]},{title:"Vitals",items:[{label:"Respiratory Rate",value:r(i.respiratory_rate)},{label:"Heart Rate (bpm)",value:r(i.heart_rate)},{label:"Oxygen Sats in Air (%)",value:r(i.oxygen_saturation_vital)},{label:"Saturations in Oxygen (%)",value:r(i.saturation_in_oxygen)},{label:"Temperature (degs C)",value:r(i.temperature)},{label:"Blood Sugar",value:i.blood_sugar?"".concat(i.blood_sugar," ").concat(i.bloodSugar_unit||"").trim():null},{label:"Admission Weight (kg)",value:r(i.admission_weight)},{label:"Birth Weight (kg)",value:r(i.birth_weight)},{label:"Head Circumference (cm)",value:r(i.head_circumference)}]}]}),s=ee(()=>t.value.map(i=>({...i,items:i.items.filter(k=>k.value!==null&&k.value!=="")})).filter(i=>i.items.length>0));return(i,k)=>(v(),R("div",Ft,[(v(!0),R(ce,null,ue(s.value,H=>(v(),R("div",{key:H.title,class:"summary-card"},[f("div",Rt,[(v(!0),R(ce,null,ue(H.items,O=>(v(),R("div",{key:O.label,class:"summary-row"},[f("span",ht,J(O.label),1),f("span",St,J(O.value),1)]))),128))])]))),128))]))}}),Vt=V(bt,[["__scopeId","data-v-6aeaf1fc"]]),Dt={class:"weight-loss"},xt=b({__name:"VitalSectionFour",setup(g,{expose:m}){const o=F(null),a=h.find(s=>s.title==="Vital Signs Four"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=M(),e=F(0),t=s=>{if(!n)return;r.setField("admission_weight",s.admission_weight),r.setField("birth_weight",s.birth_weight),r.setField("head_circumference",s.head_circumference);const i=Number(s.birth_weight),k=Number(s.admission_weight);i>0?e.value=parseFloat(((i-k)/i*100).toFixed(2)):e.value=0};return d(()=>{var s;return(s=o.value)==null?void 0:s.formValues},s=>{s&&t(s)},{deep:!0}),d(()=>o.value,s=>{s!=null&&s.getFormValues&&t(s.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var s,i;return((i=(s=o.value)==null?void 0:s.validateForm)==null?void 0:i.call(s))||null},getFormValues:()=>{var s,i;return((i=(s=o.value)==null?void 0:s.getFormValues)==null?void 0:i.call(s))||{}}}),(s,i)=>{const k=K("ion-card");return v(),Oe(k,{class:"triage-section-wrapper"},{default:G(()=>[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},{percentage:G(()=>[f("div",Dt,"Weight loss percentage: "+J(e.value)+"%",1)]),_:1},8,["formData","conditionalRules"])]),_:1})}}}),It=V(xt,[["__scopeId","data-v-cd93ef53"]]),Tt={class:"triage-section-wrapper"},wt=b({__name:"TemperatureHight",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Temperature High"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&(n.crying=e.crying||"")};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),d(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Tt,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}},[f("p",null,"The temperature is too high!")],-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Re=V(wt,[["__scopeId","data-v-2f9d8428"]]),Ct={class:"triage-section-wrapper"},kt={key:0,class:"triage-dialog-backdrop"},$t={class:"triage-dialog-card"},Et={class:"triage-dialog-header"},Ot={class:"triage-dialog-icon"},Nt={class:"triage-dialog-actions"},Mt=b({__name:"VitalBloodSugar",props:{stepIndex:{},goToNext:{type:Function},goToPrevious:{type:Function},goToStep:{type:Function}},setup(g,{expose:m}){const o=g,a=F(null),l=h.find(p=>p.title==="Emergency Triage Blood Sugar"),c=l.formData,n=l.conditionalRules||[],r=x(D),e=M(),t=F(!1),s=p=>{r&&(e.setField("can_measure_blood_sugar",p.can_measure_blood_sugar),e.setField("blood_sugar",p.bloodSugar),e.setField("bloodSugar_unit",p.bloodSugar_unit))};function i(){const p=e.formValues.bloodSugar_unit,S=Number(e.formValues.blood_sugar);if(p==="mg/dL"&&S<45||p==="mmol/L"&&S<2.5){t.value=!0;return}o.goToNext&&o.goToNext()}function k(){t.value=!1}function H(){e.setField("lowSugar","Hypoglycemia-Asymptomatic");const p=h.findIndex(S=>S.title==="Hypoglycemia-Asymptomatic");o.goToStep&&o.goToStep(p),t.value=!1}function O(){e.setField("lowSugar","Hypoglycemia-Symptomatic");const p=h.findIndex(S=>S.title==="Hypoglycemia-Symptomatic");o.goToStep&&o.goToStep(p),t.value=!1}return d(()=>{var p;return(p=a.value)==null?void 0:p.formValues},p=>{p&&s(p)},{deep:!0}),d(()=>a.value,p=>{p!=null&&p.getFormValues&&s(p.getFormValues())},{immediate:!0}),m({getFormRef:()=>a.value,validateForm:()=>{var p,S;return((S=(p=a.value)==null?void 0:p.validateForm)==null?void 0:S.call(p))||null},getFormValues:()=>{var p,S;return((S=(p=a.value)==null?void 0:p.getFormValues)==null?void 0:S.call(p))||{}},openDialog:i}),(p,S)=>(v(),R("div",Ct,[S[6]||(S[6]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Check Blood Sugar.",-1)),y(I,{formData:u(c),conditionalRules:u(n),ref_key:"formRef",ref:a},null,8,["formData","conditionalRules"]),t.value?(v(),R("div",kt,[f("div",$t,[f("button",{class:"triage-dialog-close",type:"button",onClick:k},[y(u(me),{icon:u(Me)},null,8,["icon"])]),f("div",Et,[f("div",Ot,[y(u(me),{icon:u(He)},null,8,["icon"])]),S[0]||(S[0]=f("h2",null,"Hypoglycemia?",-1))]),S[3]||(S[3]=f("div",{class:"triage-dialog-divider"},null,-1)),S[4]||(S[4]=f("p",{class:"triage-dialog-subtitle"},"The baby’s blood sugar is low.",-1)),S[5]||(S[5]=f("p",{class:"triage-dialog-body"},"Is the baby symptomatic? e.g Jittery, lethargic or not responding.",-1)),f("div",Nt,[y(u(fe),{class:"triage-dialog-btn secondary",expand:"block",onClick:H},{default:G(()=>[...S[1]||(S[1]=[te(" NO ",-1)])]),_:1}),y(u(fe),{class:"triage-dialog-btn primary",expand:"block",onClick:O},{default:G(()=>[...S[2]||(S[2]=[te(" YES ",-1)])]),_:1})])])])):Ne("",!0)]))}}),Ht=V(Mt,[["__scopeId","data-v-37bf7ce2"]]),Bt={class:"triage-section-wrapper"},At=b({__name:"EmergencyTriage",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Emergency Triage 1"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Bt,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}}," You may start measuring the vitals while continuing with the triage since the readings takes a while. ",-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),he=V(At,[["__scopeId","data-v-ef810f36"]]),jt={class:"triage-section-wrapper"},Pt=b({__name:"BabyDemographics",setup(g,{expose:m}){const o=F(null),a=h.find(t=>t.title==="Demographics"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&(Object.assign(n,t),r.setField("first_name",t.first_name),r.setField("last_name",t.last_name))};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.validateForm)==null?void 0:s.call(t))||null},getFormValues:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:s.call(t))||{}}}),(t,s)=>(v(),R("div",jt,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Lt=V(Pt,[["__scopeId","data-v-f14b7f8a"]]),Wt={class:"triage-section-wrapper"},Ut=b({__name:"HypoglycemiaSymptomatic",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Hypoglycemia-Symptomatic"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&(n.crying=e.crying||"")};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),d(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Wt,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Hypoglycemia - Symptomatic",-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Yt=V(Ut,[["__scopeId","data-v-84bba3cb"]]),zt={class:"triage-section-wrapper"},Gt=b({__name:"HypoglycemiaAsymptomatic",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Hypoglycemia-Asymptomatic"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&(n.crying=e.crying||"")};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),d(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",zt,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Hypoglycemia - Asymptomatic",-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),qt=V(Gt,[["__scopeId","data-v-d3132015"]]),Kt={class:"triage-section-wrapper"},Jt=b({__name:"EmergencyManagementTwo",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Emergency Management 2"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Kt,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}},"if not already on oxygen",-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Qt=V(Jt,[["__scopeId","data-v-ce21fbea"]]),Xt={class:"triage-section-wrapper"},Zt=b({__name:"EmergencyManagementSix",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Emergency Management 6"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Xt,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),eo=V(Zt,[["__scopeId","data-v-574bb0b2"]]),to={class:"triage-section-wrapper"},oo=b({__name:"EmergencyManagementSeven",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Emergency Management 7"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",to,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Se=V(oo,[["__scopeId","data-v-bda3a435"]]),ao={class:"triage-section-wrapper"},no=b({__name:"EmergencyManagementEight",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Temperature Low - Warm The Baby"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",ao,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}},[f("p",null,"Mild Hypothermia = 36 - 36.4 degs C"),f("p",null,"Moderate Hypothermia = 32 - 35.9 degs C"),f("p",null,"Severe Hypothermia = 32 degs C")],-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ro=V(no,[["__scopeId","data-v-708783bf"]]),so={class:"triage-section-wrapper"},io=b({__name:"BabyRecoveredStillSevereRespiratory",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Baby Recovered"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",so,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}},[f("p",null,[f("b",null,"The baby has recovered but still has severe respiratory distress and WILL require referral.")])],-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),lo=V(io,[["__scopeId","data-v-5f09a4b0"]]),co={class:"triage-section-wrapper"},uo=b({__name:"ConvulsionsVitalsSection",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Emergency Management Vitals"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",co,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}},"If not already on oxygen",-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),mo=V(uo,[["__scopeId","data-v-3b07968f"]]),fo={class:"triage-section-wrapper"},go=b({__name:"ObservationsSection",setup(g,{expose:m}){const o=F(null),a=h[6],l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",fo,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),be=V(go,[["__scopeId","data-v-2983b80f"]]),po={class:"triage-section-wrapper"},_o=b({__name:"DangerSignsSection",setup(g,{expose:m}){const o=F(null),a=h[7],l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",po,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Ve=V(_o,[["__scopeId","data-v-12f5a202"]]),vo={class:"triage-section-wrapper"},yo=b({__name:"SelectPresentSignsSection",setup(g,{expose:m}){const o=F(null),a=h[8],l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",vo,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),De=V(yo,[["__scopeId","data-v-d23dc7b9"]]),Fo={class:"triage-section-wrapper"},Ro=b({__name:"TrunkFeelsColdSection",setup(g,{expose:m}){const o=F(null),a=h[9],l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Fo,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),xe=V(Ro,[["__scopeId","data-v-4c89bfca"]]),ho={class:"triage-section-wrapper"},So=b({__name:"KeepWarmSection",setup(g,{expose:m}){const o=F(null),a=h[10],l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",ho,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Ie=V(So,[["__scopeId","data-v-e7f9f90d"]]),bo={class:"triage-section-wrapper"},Vo={class:"respiratory-timer-body"},Do={class:"respiratory-timer-time"},xo={class:"respiratory-timer-instruction"},se=60,Io=b({__name:"VitalSignsSection",setup(g,{expose:m}){const o=F(null),a=h.find(T=>T.title==="Vital Signs"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=F(se),e=F(!1),t=F(!1);let s=null;const i=ee(()=>{const T=Math.floor(r.value/60).toString().padStart(2,"0"),N=(r.value%60).toString().padStart(2,"0");return"".concat(T,":").concat(N)}),k=ee(()=>e.value?"TAP TO PAUSE COUNTDOWN":r.value===se?"TAP TO START COUNTDOWN":r.value===0?"TAP TO RESTART COUNTDOWN":"TAP TO RESUME COUNTDOWN"),H=()=>{s===null&&(e.value=!0,t.value=!1,s=window.setInterval(()=>{r.value>0?r.value-=1:(e.value=!1,t.value=!0,s!==null&&(clearInterval(s),s=null))},1e3))},O=()=>{s!==null&&(clearInterval(s),s=null),e.value=!1},p=()=>{O(),r.value=se,t.value=!1},S=()=>{e.value?O():(r.value===0&&p(),H())};Be(()=>{s!==null&&clearInterval(s)});const j=M(),P=T=>{n&&(Object.assign(n,T),j.setField("respiratory_rate",T.respiratory_rate),j.setField("heart_rate",T.heart_rate),j.setField("can_measure_oxygen_saturation",T.can_measure_oxygen_saturation),j.setField("oxygen_saturation_vital",T.oxygen_saturation_vital),j.setField("oxygen_facility_available",T.oxygen_facility_available))};return d(()=>{var T;return(T=o.value)==null?void 0:T.formValues},T=>{T&&P(T)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var T,N;return((N=(T=o.value)==null?void 0:T.validateForm)==null?void 0:N.call(T))||null},getFormValues:()=>{var T,N;return((N=(T=o.value)==null?void 0:T.getFormValues)==null?void 0:N.call(T))||{}}}),(T,N)=>(v(),R("div",bo,[f("div",{class:"respiratory-timer-card",onClick:S},[N[0]||(N[0]=f("div",{class:"respiratory-timer-header"},"Respiratory  Rate Timer",-1)),f("div",Vo,[f("div",Do,J(i.value),1),f("div",xo,J(k.value),1)])]),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Z=V(Io,[["__scopeId","data-v-54fa99a2"]]),To={class:"triage-section-wrapper"},wo=b({__name:"RespiratoryDistressSection",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Danger Signs"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",To,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}},"Feel for 3 danger signs.",-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Te=V(wo,[["__scopeId","data-v-e75e77c9"]]),Co={class:"triage-section-wrapper"},ko=b({__name:"TemperatureHighSection",setup(g,{expose:m}){const o=F(null),a=h.find(t=>t.title==="Select Present Signs"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=M(),e=t=>{n&&(Object.assign(n,t),r.setField("present_signs",t.present_signs))};return d(()=>{var t;return(t=o.value)==null?void 0:t.formValues},t=>{t&&e(t)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.validateForm)==null?void 0:s.call(t))||null},getFormValues:()=>{var t,s;return((s=(t=o.value)==null?void 0:t.getFormValues)==null?void 0:s.call(t))||{}}}),(t,s)=>(v(),R("div",Co,[y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),we=V(ko,[["__scopeId","data-v-b617adf2"]]),$o={class:"triage-section-wrapper"},Eo=b({__name:"SecondVitalSignsSection",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Trunk Feels Cold"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",$o,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}},[f("p",null,"Mild Hypothermia = 36 - 36.4 degs C"),f("p",null,"Moderate Hypothermia = 32 - 35.9 degs C"),f("p",null,"Severe Hypothermia = 32 degs C")],-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),Ce=V(Eo,[["__scopeId","data-v-4a384fc4"]]),Oo={class:"triage-section-wrapper"},No=b({__name:"BloodSugarSection",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Emmergency Management 4"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&Object.assign(n,e)};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Oo,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}}," This baby may be in Shock! See pg 74 COIN (NB. Don't give a bolus to a baby that has not responded to resuscitation) ",-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),ke=V(No,[["__scopeId","data-v-eec9c993"]]),Mo={class:"triage-section-wrapper"},Ho=b({__name:"ReferralInstructionsSection",setup(g,{expose:m}){const o=F(null),a=h.find(e=>e.title==="Referral Instructions"),l=a.formData,c=a.conditionalRules||[],n=x(D),r=e=>{n&&(n.crying=e.crying||"")};return d(()=>{var e;return(e=o.value)==null?void 0:e.formValues},e=>{e&&r(e)},{deep:!0}),d(()=>o.value,e=>{e!=null&&e.getFormValues&&r(e.getFormValues())},{immediate:!0}),m({getFormRef:()=>o.value,validateForm:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.validateForm)==null?void 0:t.call(e))||null},getFormValues:()=>{var e,t;return((t=(e=o.value)==null?void 0:e.getFormValues)==null?void 0:t.call(e))||{}}}),(e,t)=>(v(),R("div",Mo,[t[0]||(t[0]=f("div",{style:{"background-color":"#fedf89",padding:"10px"}},[f("p",null,[f("b",null,"If oxygen is NOT available CALL referral hospital immediately "),te(" for guidance and if possible send the baby with accompanying health worker with bag valve mask (BVM) ventilation equipment. "),f("br"),f("br"),te(" Continue with the Neotree examination. ")])],-1)),y(I,{formData:u(l),conditionalRules:u(c),ref_key:"formRef",ref:o},null,8,["formData","conditionalRules"])]))}}),$e=V(Ho,[["__scopeId","data-v-d4742399"]]),Bo=b({name:"NeonatalTriage",components:{IonPage:je,IonContent:Ae,Toolbar:Ye,DemographicBar:Xe,NeonatalStepper:Ze,EmergencyTriageSection:de,BreathingAssessmentSection:ge,EmergencyManagementSection:lt,OxygenSaturationSection:pe,CentralCyanosisSection:_e,ConvulsionsSection:ve,ObservationsSection:be,DangerSignsSection:Ve,SelectPresentSignsSection:De,TrunkFeelsColdSection:xe,KeepWarmSection:Ie,VitalSignsSection:Z,RespiratoryDistressSection:Te,TemperatureHighSection:we,SecondVitalSignsSection:Ce,BloodSugarSection:ke,VitalsSignsSection:Z,ReferralInstructionsSection:$e,VitalSectionThree:Fe,VitalSectionTwo:ye,TemperatureHigh:Re,EmergencyTriage:he,EmergencyManagementSeven:Se},setup(){var ie;const g=Pe(),m=Le(),o=ze(),a=M(),{patient:l}=Ee(o),c=()=>{const _=m.query.source;return Array.isArray(_)?_[0]:_},n=c();n==="dashboard"&&a.reset();const r=!!((ie=l.value)!=null&&ie.patientID),t=We({...et,_hasPatient:r,_forceDemographics:n==="dashboard"&&!r});Ue(D,t),d(()=>{var _;return(_=l.value)==null?void 0:_.patientID},_=>{const w=!!_;t._hasPatient=w,c()==="dashboard"&&(t._forceDemographics=!w)}),d(()=>c(),_=>{var w;t._forceDemographics=_==="dashboard"&&!((w=l.value)!=null&&w.patientID)});const s=F(h.map((_,w)=>({title:_.title,number:w+1,checked:!1,class:w===0?"open_step common_step":"common_step",last_step:w===h.length-1?"last_step":""}))),i=_=>h.findIndex(w=>w.title==_),k=new Set(["crying","can_measure_oxygen_saturation","oxygen_facility_available","can_measure_temp","central_cyanosis"]),H=new Set(["respiratory_rate","heart_rate","oxygen_saturation_vital","saturation_in_oxygen","temperature","head_circumference"]),O=new Set(["admission_weight","birth_weight"]),p=_=>{if(_==null||_==="")return null;if(typeof _=="string"){const w=_.toLowerCase();if(["yes","y","true","1"].includes(w))return"Yes";if(["no","n","false","0"].includes(w))return"No"}return _===!0||_===1?"Yes":_===!1||_===0||_===2?"No":null},S=async(_,w,$,L,W)=>{if($==null||$==="")return null;if(k.has(_)){const B=p($);return B?z.buildValueCoded(w,B,L):null}if(_==="blood_sugar"){const B=W.bloodSugar_unit||"mg/dL",U=Number($);if(Number.isNaN(U))return null;const A=B==="mmol/L"?U*18.018:U;return z.buildValueNumber(w,A,null,null,L)}if(H.has(_)||O.has(_)){let B=Number($);return Number.isNaN(B)?null:(O.has(_)&&(B=B/1e3),z.buildValueNumber(w,B,null,null,L))}const le=Array.isArray($)?$.join(", "):String($);return z.buildValueText(w,le,L)},P=[{title:"Emergency Triage",value:"1",component:de,configIndex:i("Emergency Triage")},{title:"Emergency Management",value:"2",component:ge,configIndex:i("Emergency Management 1")},{title:"Emergency Triage",value:"3",component:he,configIndex:i("Emergency Triage 1")},{title:"Oxygen Saturation",value:"4",component:pe,configIndex:i("Oxygen Saturation")},{title:"Emergency Management",value:"5",component:Qt,configIndex:i("Emergency Management 2")},{title:"Emergency Management",value:"6",component:_e,configIndex:i("Emergency Management 3")},{title:"Emergency Management",value:"7",component:ve,configIndex:i("Emergency Management 4")},{title:"Central Cyanosis",value:"8",component:be,configIndex:i("Central Cyanosis")},{title:"Convulsions/Twitching",value:"9",component:Ve,configIndex:i("Convulsions/Twitching")},{title:"Emergency Observations",value:"10",component:De,configIndex:i("Emergency Observations")},{title:"Emergency Management",value:"11",component:xe,configIndex:i("Emergency Management - Grunting/Indrawing")},{title:"Emergency Management",value:"12",component:Ie,configIndex:i("Emergency Management - Central Cyanosis")},{title:"Emergency Management",value:"13",component:Z,configIndex:i("Emergency Management - Convulsions")},{title:"Danger Signs",value:"14",component:Te,configIndex:i("Danger Signs")},{title:"Select Present Signs",value:"15",component:we,configIndex:i("Select Present Signs")},{title:"Trunk Feels Cold",value:"16",component:Ce,configIndex:i("Trunk Feels Cold")},{title:"Emmergency Management 4",value:"17",component:ke,configIndex:i("Emmergency Management 4")},{title:"Vital Signs",value:"18",component:Z,configIndex:i("Vital Signs")},{title:"Emergency Management 6",value:"19",component:eo,configIndex:i("Emergency Management 6")},{title:"Referral Instructions",value:"19",component:$e,configIndex:i("Referral Instructions")},{title:"Emergency Management Vitals",value:"20",component:mo,configIndex:i("Emergency Management Vitals")},{title:"Vital Signs",value:"21",component:ye,configIndex:i("Vital Signs 2")},{title:"Emergency Management",value:"21",component:Se,configIndex:i("Emergency Management 7")},{title:"Baby Recovered",value:"22",component:lo,configIndex:i("Baby Recovered")},{title:"Vital Signs",value:"23",component:Fe,configIndex:i("Vital Signs 3")},{title:"Temperature Low - Warm The Baby",value:"24",component:ro,configIndex:i("Temperature Low - Warm The Baby")},{title:"Temperature High",value:"25",component:Re,configIndex:i("Temperature High")},{title:"Emergency Triage",value:"26",component:Ht,configIndex:i("Emergency Triage Blood Sugar"),hasDialog:!0},{title:"Hypoglycemia Symptomatic",value:"27",component:Yt,configIndex:i("Hypoglycemia-Symptomatic")},{title:"Hypoglycemia-Asymptomatic",value:"28",component:qt,configIndex:i("Hypoglycemia-Asymptomatic")},{title:"Vital Signs",value:"29",component:It,configIndex:i("Vital Signs Four")},{title:"Triage Summary",value:"30",component:Vt,configIndex:i("Triage Summary")},{title:"Demographics",value:"31",component:Lt,configIndex:i("Demographics")}],T="Emergency Triage Assessment",N=F("1");return{wizardData:s,stepperData:P,stepperTitle:T,currentOpenStepper:N,updateStatus:_=>{_&&_.value&&s.value.forEach((w,$)=>{_.value===($+1).toString()?(w.class="open_step common_step",w.checked=!1):$<parseInt(_.value)-1?(w.class="common_step color_white",w.checked=!0):(w.class="common_step",w.checked=!1)})},getSaveFunction:_=>{var U;const w=P.findIndex(A=>A.title==="Triage Summary"),$=P.findIndex(A=>A.title==="Demographics"),L=P.length-1,W=!!((U=l.value)!=null&&U.patientID);if(c(),_===w&&W||_===$&&!W||_===L&&W)return async()=>{var A;try{const E={...t,...a.formValues};let q=(A=l.value)==null?void 0:A.patientID;if(!q&&E.first_name&&E.last_name){const C=new Date;C.setDate(C.getDate()-1);const Y=C.toISOString().split("T")[0],ae={given_name:E.first_name,family_name:E.last_name,gender:"U",birthdate:Y,birthdate_estimated:1},X=await new Ge().registerPatient(ae,[]);if(!(X!=null&&X.patient_id)){re("Failed to create temporary patient record");return}q=X.patient_id,await o.setPatientRecord({patient_id:q})}if(!q){re("No patient available to save triage data");return}const Q=[],oe=qe.sessionDate();if(Object.keys(E).some(C=>C!=="first_name"&&C!=="last_name"&&C!=="_hasPatient"&&C!=="_forceDemographics"&&E[C]!==void 0&&E[C]!==null&&E[C]!==""))for(const[C,Y]of Object.entries(tt)){const ae=E[C],ne=await S(C,Y,ae,oe,E);ne&&Q.push(ne)}else{const C=await z.buildValueText("First name",E.first_name||"Unknown",oe),Y=await z.buildValueText("Last name",E.last_name||"Unknown",oe);C&&Q.push(C),Y&&Q.push(Y)}await Ke(q,Je.NEONATAL_TRIAGE,Q),Qe("Emergency triage saved successfully"),await new Promise(C=>setTimeout(C,800)),g.push("/neonatal/checkpoint")}catch(E){console.error("Failed to save triage assessment",E),re("Failed to save triage assessment")}}}}}});function Ao(g,m,o,a,l,c){const n=K("Toolbar"),r=K("NeonatalStepper"),e=K("ion-content"),t=K("ion-page");return v(),Oe(t,{class:"neonatal-triage-page"},{default:G(()=>[y(n),y(e,{fullscreen:!0},{default:G(()=>[y(r,{wizardData:g.wizardData,StepperData:g.stepperData,stepperTitle:g.stepperTitle,openStepper:g.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:g.getSaveFunction,onUpdateStatus:g.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","onUpdateStatus"])]),_:1})]),_:1})}const Xo=V(Bo,[["render",Ao],["__scopeId","data-v-b213de71"]]);export{Xo as default};
