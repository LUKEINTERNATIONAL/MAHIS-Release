import{d as F,a4 as I,a5 as O,aP as R,aS as U,N as M,aZ as P,aY as E,f9 as V,aU as W,bK as L,H as c,O as u,f as a,J as i,l as r,k as s,K as d,e as f,F as w,P as C,p as y,m as b,i as T,bS as j,Q as v,v as A}from"./vendor-D6KKOjhr.js";import{J,i as K,m as g,t as Y,_ as q}from"../index-BVTwk_Db.js";import{S as z}from"./SaveProgressModal-C9L5rnvs.js";const H=F({name:"NeonatalStepper",components:{IonButton:M,IonCard:U,IonCardContent:R,IonCol:O,IonRow:I,DynamicButton:J},data(){return{currentStepIndex:0,stepRefs:new Map}},props:{wizardData:{default:[]},StepperData:{default:[]},stepperTitle:{type:String,default:""},openStepper:{type:String,default:"1"},backBtn:{type:String,default:"Back to profile"},backUrl:{type:String,default:""},getSaveFunction:{type:Function,required:!0}},setup(){return{chevronBackOutline:L,checkmark:W,closeOutline:V}},mounted(){const e=parseInt(this.openStepper)-1;this.currentStepIndex=e>=0?e:0},methods:{setStepRef(e,t){e&&this.stepRefs.set(t,e)},chevronBack(){return E},chevronForward(){return P},openBackController(){this.backUrl?this.$router.push(this.backUrl):g(z)},async nextStep(e){const t=await this.validateCurrentStep(e);if(t){const k=Object.values(t).join(", ");Y("Please fix the following errors: ".concat(k));return}const l=this.getSaveFunction(e);l&&typeof l=="function"&&await l();const p=e+1;p<this.StepperData.length&&(this.currentStepIndex=p,this.updateWizardStatus(p),this.$emit("updateStatus",{value:this.StepperData[p].value}))},async validateCurrentStep(e){const t=this.stepRefs.get(e);return t?typeof t.validateForm=="function"?t.validateForm():null:(console.warn("No component instance found for step ".concat(e)),null)},previousStep(e){const t=e-1;t>=0&&(this.currentStepIndex=t,this.updateWizardStatus(t),this.$emit("updateStatus",{value:this.StepperData[t].value}))},async handleCancel(){await K("Are you sure you want to cancel? All unsaved progress will be lost.",{header:"Cancel Neonatal Enrollment",confirmBtnLabel:"Yes, Cancel",cancelBtnLabel:"No, Continue"})&&(this.backUrl?this.$router.push(this.backUrl):g(z))},updateWizardStatus(e){this.wizardData.forEach((t,l)=>{l===e?(t.class="open_step common_step",t.checked=!1):l<e?(t.class="common_step color_white",t.checked=!0):(t.class="common_step",t.checked=!1)})}}}),Q={class:"wizard_title"},Z={id:"wizard_verticle",class:"form_wizard wizard_verticle"},G={class:"list-unstyled wizard_steps anchor"},X={class:"done",isdone:"1",rel:"1"},x={key:1,class:""},ee={class:"wizard_text"},te={class:"back_profile"},se={class:"stepper_content_wrapper"},ne={class:"section_header"},oe={class:"section_content"},ae={class:"button-row"},re={class:"left-button-group"},le={class:"right-button-group"};function ie(e,t,l,p,k,ce){const h=c("ion-icon"),B=c("ion-card-content"),D=c("ion-card"),S=c("ion-col"),N=c("DynamicButton"),_=c("ion-button"),$=c("ion-row");return a(),u($,null,{default:i(()=>[r(S,{"size-md":"4","size-xl":"2.5","size-sm":"0","size-lg":"4","offset-sm":"0","offset-md":"0.4","offset-xl":"0.8",class:"displayNoneMobile"},{default:i(()=>[r(D,{class:"wizard_card"},{default:i(()=>[s("div",Q,[s("strong",null,d(e.stepperTitle),1)]),r(B,null,{default:i(()=>[s("div",Z,[s("ul",G,[(a(!0),f(w,null,C(e.wizardData,(n,o)=>(a(),f("li",{key:o,class:y(n.last_step)},[s("a",X,[s("span",{class:y(n.class)},[n.checked?(a(),u(h,{key:0,icon:e.checkmark,class:"checked_step"},null,8,["icon"])):b("",!0),n.checked?b("",!0):(a(),f("span",x,d(n.number),1)),s("span",ee,d(n.title),1)],2)])],2))),128))])])]),_:1})]),_:1})]),_:1}),r(S,{"size-sm":"12","size-xl":"7","size-md":"7.2","size-lg":"7","offset-sm":"0","offset-md":"0.4","offset-xl":"0.8"},{default:i(()=>[s("div",te,[r(N,{name:e.backBtn,iconSlot:"start",fill:"clear",icon:e.chevronBackOutline,onClick:t[0]||(t[0]=n=>e.openBackController())},null,8,["name","icon"])]),s("div",se,[(a(!0),f(w,null,C(e.StepperData,(n,o)=>T((a(),f("div",{key:o,class:"step_section"},[s("div",ne,[s("h2",null,d(n.title),1)]),s("div",oe,[(a(),u(j(n.component),{ref_for:!0,ref:m=>e.setStepRef(m,o)},null,512))]),s("div",ae,[s("div",re,[o===0?(a(),u(_,{key:0,class:"cancel-button",onClick:e.handleCancel},{default:i(()=>[r(h,{icon:e.closeOutline,slot:"start"},null,8,["icon"]),t[1]||(t[1]=v(" Cancel ",-1))]),_:1},8,["onClick"])):(a(),u(_,{key:1,class:"previous-button",onClick:m=>e.previousStep(o)},{default:i(()=>[r(h,{icon:e.chevronBack(),slot:"start"},null,8,["icon"]),t[2]||(t[2]=v(" Previous ",-1))]),_:1},8,["onClick"]))]),s("div",le,[r(_,{class:"next-button",onClick:m=>e.nextStep(o)},{default:i(()=>[v(d(o<e.StepperData.length-1?"Next":"Finish")+" ",1),r(h,{icon:o<e.StepperData.length-1?e.chevronForward():e.checkmark,slot:"end"},null,8,["icon"])]),_:2},1032,["onClick"])])])])),[[A,e.currentStepIndex===o]])),128))])]),_:1})]),_:1})}const fe=q(H,[["render",ie],["__scopeId","data-v-21d48500"]]);export{fe as N};
