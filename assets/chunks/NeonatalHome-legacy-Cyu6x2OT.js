!function(){function a(a,e,t){return(e=function(a){var e=function(a,e){if("object"!=typeof a||!a)return a;var t=a[Symbol.toPrimitive];if(void 0!==t){var n=t.call(a,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(a)}(a,"string");return"symbol"==typeof e?e:e+""}(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}System.register(["./vendor-legacy-qbSDSsR3.js","../index-legacy-Dv0LJR52.js","./neonatal_service-legacy-DNDAqndD.js","./images-legacy-B07cw_V2.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-DebshAik.js"],function(e,t){"use strict";var n,i,l,o,c,s,d,r,u,v,p,g,m,x,f,h,b,y,w,k,_,C,S,z,I,j,N,$,A,T,M,P,L,D,F,H,E,B;return{setters:[a=>{n=a.d,i=a.O,l=a.f,o=a.u,c=a.aS,s=a.p,d=a.J,r=a.l,u=a.aP,v=a.k,p=a.e,g=a.m,m=a.K,x=a.c,f=a.Q,h=a.bo,b=a.an,y=a.r,w=a.a,k=a.a4,_=a.F,C=a.P,S=a.a5,z=a.bm,I=a.dN,j=a.I,N=a.G,$=a.E,A=a.a_,T=a.N,M=a.a3,P=a.bi,L=a.a6},a=>{D=a._,F=a.u,H=a.T},a=>{E=a.N},a=>{B=a.I},null,null],execute:function(){var t=document.createElement("style");t.textContent=".stat-card[data-v-cc8c780a]{margin:8px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .2s ease;cursor:default}.stat-card.is-clickable[data-v-cc8c780a]{cursor:pointer}.stat-card.is-clickable[data-v-cc8c780a]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.stat-content[data-v-cc8c780a]{text-align:center;padding:20px 16px}.stat-icon-wrapper[data-v-cc8c780a]{display:flex;justify-content:center;align-items:center;margin-bottom:12px}.stat-icon[data-v-cc8c780a]{width:60px;height:60px;object-fit:contain}.stat-icon.critical-icon[data-v-cc8c780a]{width:60px;height:60px}.stat-label[data-v-cc8c780a]{font-size:14px;color:#666;margin-bottom:8px;min-height:32px;display:flex;align-items:center;justify-content:center}.stat-value[data-v-cc8c780a]{font-size:28px;font-weight:700;color:#333}.stat-value.critical-value[data-v-cc8c780a]{color:#dc3545}@media(max-width:768px){.stat-card[data-v-cc8c780a]{margin:4px}.stat-content[data-v-cc8c780a]{padding:16px 12px}.stat-icon[data-v-cc8c780a]{width:50px;height:50px}.stat-label[data-v-cc8c780a]{font-size:12px;min-height:28px}.stat-value[data-v-cc8c780a]{font-size:24px}}.action-card[data-v-fc22b927]{margin:8px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);cursor:pointer;transition:transform .2s ease;background:#f8f9fa}.action-card[data-v-fc22b927]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.action-content[data-v-fc22b927]{text-align:center;padding:24px 16px}.action-icon-wrapper[data-v-fc22b927]{display:flex;justify-content:center;align-items:center;margin-bottom:12px}.action-icon[data-v-fc22b927],.action-icon.emergency-icon[data-v-fc22b927]{width:80px;height:80px}.action-label[data-v-fc22b927]{font-size:16px;font-weight:500;color:#333}@media(max-width:768px){.action-card[data-v-fc22b927]{margin:4px}.action-content[data-v-fc22b927]{padding:20px 12px}.action-icon[data-v-fc22b927]{width:60px;height:60px}.action-label[data-v-fc22b927]{font-size:14px}}.neonate-card[data-v-a76e5897]{border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);cursor:pointer;transition:transform .2s ease;margin:0}.neonate-card[data-v-a76e5897]:hover{transform:translate(4px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.neonate-content[data-v-a76e5897]{display:flex;justify-content:space-between;align-items:center;padding:16px}.neonate-info[data-v-a76e5897]{flex:1}.neonate-name[data-v-a76e5897]{font-size:16px;font-weight:600;color:#333;margin-bottom:4px}.neonate-mrn[data-v-a76e5897]{font-size:14px;color:#666;margin-bottom:8px}.neonate-details[data-v-a76e5897]{display:flex;gap:16px;font-size:14px;color:#666}.detail-item[data-v-a76e5897]{display:flex;align-items:center;gap:4px}.detail-icon[data-v-a76e5897]{font-size:16px;height:16px}.neonate-status[data-v-a76e5897]{flex-shrink:0}.status-badge[data-v-a76e5897]{padding:8px 16px;border-radius:20px;font-size:14px;font-weight:600}@media(max-width:768px){.neonate-content[data-v-a76e5897]{padding:12px}.neonate-name[data-v-a76e5897]{font-size:15px}.neonate-mrn[data-v-a76e5897]{font-size:13px}.neonate-details[data-v-a76e5897]{font-size:13px;gap:12px}.status-badge[data-v-a76e5897]{padding:6px 12px;font-size:12px}}@media(max-width:576px){.neonate-content[data-v-a76e5897]{flex-direction:column;align-items:flex-start;gap:12px}.neonate-status[data-v-a76e5897]{width:100%;display:flex;justify-content:flex-end}}.neonatal-dashboard[data-v-d9096e23]{width:100%;padding:0;margin:0}.header-image[data-v-d9096e23]{width:100%;height:200px;overflow:hidden;position:relative}.header-image img[data-v-d9096e23]{width:100%;height:100%;object-fit:cover;filter:brightness(.9)}.section-container[data-v-d9096e23]{padding:20px;max-width:1200px;margin:0 auto}.section-title[data-v-d9096e23]{font-size:20px;font-weight:600;color:#5a5a5a;margin-bottom:16px;padding-left:4px}.stats-grid[data-v-d9096e23],.actions-grid[data-v-d9096e23]{padding:0}.neonates-list[data-v-d9096e23]{display:flex;flex-direction:column;gap:12px}.empty-neonates[data-v-d9096e23]{text-align:center;padding:24px 0;color:#8a8a8a;font-size:14px}.neonate-skeleton[data-v-d9096e23]{display:flex;align-items:center;gap:16px;padding:16px;background:#fff;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,.08)}.skeleton-content[data-v-d9096e23]{flex:1;display:flex;flex-direction:column;gap:4px}.drilldown-modal[data-v-d9096e23]{--height: 90%}.drilldown-content[data-v-d9096e23]{padding:20px}.drilldown-list[data-v-d9096e23]{display:flex;flex-direction:column;gap:12px;max-height:70vh;overflow-y:auto}.empty-drilldown[data-v-d9096e23]{text-align:center;padding:32px 16px;color:#7a7a7a}@media(max-width:768px){.header-image[data-v-d9096e23]{height:150px}.section-container[data-v-d9096e23]{padding:16px}.section-title[data-v-d9096e23]{font-size:18px;margin-bottom:12px}}ion-content[data-v-052dae1c]{--background: #f5f5f5}\n/*$vite$:1*/",document.head.appendChild(t);class O{constructor(){a(this,"statusColorMap",{admitted:"danger",discharged:"success",critical:"warning"})}getStatusColor(a){var e;return null!==(e=this.statusColorMap[a.toLowerCase()])&&void 0!==e?e:"medium"}formatWeight(a){return`${(a/1e3).toFixed(2)} kg`}static getInstance(){return O.instance||(O.instance=new O),O.instance}}a(O,"instance",void 0);const R=O.getInstance(),G=[{label:"Triaged without Registration",key:"enrolled",iconSrc:B.icons.triaged},{label:"Admitted Today",key:"admitted",iconSrc:B.icons.newborn},{label:"Discharged Today",key:"discharged",iconSrc:B.icons.babyCarriage},{label:"Critical",key:"critical",iconSrc:B.icons.warningSign,isCritical:!0}],K=[{label:"Start Emergency Triage",iconSrc:B.icons.electrocardiogram,iconClass:"emergency-icon",route:"/neonatal/triage"},{label:"Instruction Guides",iconSrc:B.icons.info,route:"/neonatal/guides"}],Q={class:"stat-icon-wrapper"},U=["innerHTML"],W=["src","alt"],Y={class:"stat-label"},J=n({__name:"card",props:{label:{},value:{},iconSrc:{},svgIcon:{},isCritical:{type:Boolean},clickable:{type:Boolean}},emits:["click"],setup(a,{emit:e}){const t=a,n=e,x=()=>{t.clickable&&n("click")};return(e,t)=>(l(),i(o(c),{class:s(["stat-card",{"is-clickable":a.clickable}]),onClick:x},{default:d(()=>[r(o(u),{class:"stat-content"},{default:d(()=>[v("div",Q,[a.svgIcon?(l(),p("div",{key:0,innerHTML:a.svgIcon,class:"stat-icon"},null,8,U)):a.iconSrc?(l(),p("img",{key:1,src:a.iconSrc,class:"stat-icon critical-icon",alt:a.label},null,8,W)):g("",!0)]),v("div",Y,m(a.label),1),v("div",{class:s(["stat-value",{"critical-value":a.isCritical}])},m(a.value),3)]),_:1})]),_:1},8,["class"]))}}),q=D(J,[["__scopeId","data-v-cc8c780a"]]),V={class:"action-icon-wrapper"},X=["innerHTML"],Z=["src","alt"],aa={class:"action-label"},ea=D(n({__name:"action-card",props:{label:{},svgIcon:{},iconSrc:{},iconClass:{}},emits:["click"],setup(a,{emit:e}){const t=e,n=()=>{t("click")};return(e,t)=>(l(),i(o(c),{class:"action-card",onClick:n},{default:d(()=>[r(o(u),{class:"action-content"},{default:d(()=>[v("div",V,[a.svgIcon?(l(),p("div",{key:0,innerHTML:a.svgIcon,class:s(["action-icon",a.iconClass])},null,10,X)):a.iconSrc?(l(),p("img",{key:1,src:a.iconSrc,class:s(["action-icon",a.iconClass]),alt:a.label},null,10,Z)):g("",!0)]),v("div",aa,m(a.label),1)]),_:1})]),_:1}))}}),[["__scopeId","data-v-fc22b927"]]),ta={class:"neonate-info"},na={class:"neonate-name"},ia={class:"neonate-mrn"},la={class:"neonate-details"},oa={class:"detail-item"},ca=["src"],sa={class:"detail-item"},da=["src"],ra={class:"neonate-status"},ua=D(n({__name:"neonate-card",props:{neonate:{},getStatusColor:{type:Function}},emits:["click"],setup(a,{emit:e}){const t=a,n=e,s=x(()=>t.getStatusColor(t.neonate.status)),p=()=>{n("click",t.neonate.id)};return(e,t)=>(l(),i(o(c),{class:"neonate-card",onClick:p},{default:d(()=>[r(o(u),{class:"neonate-content"},{default:d(()=>[v("div",ta,[v("div",na,m(a.neonate.name),1),v("div",ia,m(a.neonate.mrn),1),v("div",la,[v("span",oa,[v("img",{src:o(B).icons.deliveryTime,class:"detail-icon"},null,8,ca),f(" "+m(a.neonate.age),1)]),v("span",sa,[v("img",{src:o(B).icons.babyWeight,class:"detail-icon"},null,8,da),f(" "+m(a.neonate.weight),1)])])]),v("div",ra,[r(o(h),{color:s.value,class:"status-badge"},{default:d(()=>[f(m(a.neonate.status),1)]),_:1},8,["color"])])]),_:1})]),_:1}))}}),[["__scopeId","data-v-a76e5897"]]),va={class:"neonatal-dashboard"},pa={class:"header-image"},ga=["src"],ma={class:"section-container"},xa={class:"section-container"},fa={class:"section-container"},ha={key:0,class:"neonates-list"},ba={class:"skeleton-content"},ya={key:1,class:"neonates-list"},wa={key:2,class:"empty-neonates"},ka={class:"drilldown-content"},_a={key:0,class:"empty-drilldown"},Ca={key:1,class:"drilldown-list"},Sa=D(n({__name:"LandingPage",setup(a){const e={enrolled:"In patient",admitted:"Admitted",discharged:"Discharged",critical:"Critical"},t=()=>G.reduce((a,e)=>(a[e.key]={count:0,neonates:[]},a),{}),n=b(),c=y(t()),s=y([]),u=y(!0),g=y(!1),h=y(null),L=x(()=>{var a,e;return h.value&&null!==(a=null===(e=c.value[h.value])||void 0===e?void 0:e.neonates)&&void 0!==a?a:[]}),D=x(()=>{const a=(e=h.value)&&null!==(t=null===(n=G.find(a=>a.key===e))||void 0===n?void 0:n.label)&&void 0!==t?t:"Neonates";var e,t,n;return L.value.length?`${a} (${L.value.length})`:a}),H=a=>{var e,t;return(null!==(e=null===(t=c.value[a])||void 0===t?void 0:t.neonates.length)&&void 0!==e?e:0)>0},O=()=>{g.value=!1,h.value=null},Q=a=>{n.push({path:a})},U=async a=>{try{const e=F();await e.setPatientRecord({patientID:Number(a)}),Q(`/patientProfile?id=${a}`)}catch(e){console.error("[NeonatalLanding] Failed to load patient:",e),Q(`/patientProfile?id=${a}`)}},W=a=>R.getStatusColor(a),Y=a=>{const e=t();return G.forEach(t=>{var n,i;const l=t.key,o=null!==(n=null==a?void 0:a[l])&&void 0!==n?n:null==a||null===(i=a.stats)||void 0===i?void 0:i[l],c=J(a,l);e[l]=V(o,c,l)}),e},J=(a,e)=>{var t,n,i,l,o;if(!a)return[];return null!==(o=[null==a||null===(t=a.neonates)||void 0===t?void 0:t[e],null==a||null===(n=a.details)||void 0===n?void 0:n[e],null==a?void 0:a[`${e}_neonates`],null==a?void 0:a[`${e}_patients`],null==a?void 0:a[`${e}_records`],null==a||null===(i=a[e])||void 0===i?void 0:i.neonates,null==a||null===(l=a[e])||void 0===l?void 0:l.patients].find(a=>Array.isArray(a)))&&void 0!==o?o:[]},V=(a,e,t)=>{if("number"==typeof a)return{count:a,neonates:X(e,t)};if(a&&"object"==typeof a){const n=Array.isArray(a.neonates)?a.neonates:Array.isArray(a.patients)?a.patients:e,i=X(n,t);return{count:"number"==typeof a.count?a.count:"number"==typeof a.total?a.total:"number"==typeof a.value?a.value:i.length,neonates:i}}const n=X(e,t);return{count:n.length,neonates:n}},X=(a,e)=>Array.isArray(a)?a.map((a,t)=>Z(a,e,t)):[],Z=(a,t,n)=>{var i,l,o,c,s,d,r,u,v,p,g,m;const x=e[t],f=`${t}-${n}`;var h,b,y,w;if(null!=a&&a.name&&null!=a&&a.mrn)return{id:String(null!==(h=a.id)&&void 0!==h?h:f),name:a.name,mrn:a.mrn,age:null!==(b=a.age)&&void 0!==b?b:"—",weight:null!==(y=a.weight)&&void 0!==y?y:"—",status:null!==(w=a.status)&&void 0!==w?w:x};const k=null!==(i=null==a?void 0:a.patient)&&void 0!==i?i:a,_=null!==(l=null!==(o=null!==(c=null==a?void 0:a.id)&&void 0!==c?c:null==a?void 0:a.patient_id)&&void 0!==o?o:null==k?void 0:k.patient_id)&&void 0!==l?l:f,C=[null==a?void 0:a.name,null==k?void 0:k.given_name,null==k?void 0:k.family_name].filter(Boolean).join(" ").trim()||"Unknown Neonate",S=null!==(s=null!==(d=null!==(r=null==a?void 0:a.mrn)&&void 0!==r?r:null==a?void 0:a.identifier)&&void 0!==d?d:null==k?void 0:k.identifier)&&void 0!==s?s:"N/A",z=null!==(u=null!==(v=null==a?void 0:a.age)&&void 0!==v?v:aa(null==k?void 0:k.birthdate))&&void 0!==u?u:"—",I=null!==(p=null!==(g=null==a?void 0:a.weight)&&void 0!==g?g:null==a?void 0:a.latest_weight)&&void 0!==p?p:null==a?void 0:a.weight_kg,j="number"==typeof I?`${I.toFixed(2)} Kg`:null!=I?I:"—",N=null!==(m=null==a?void 0:a.status)&&void 0!==m?m:x;return{id:String(_),name:C,mrn:S,age:z,weight:j,status:N}},aa=a=>{if(!a)return null;const e=new Date(a);if(Number.isNaN(e.getTime()))return null;const t=Date.now()-e.getTime(),n=Math.floor(t/36e5);if(n<24)return`${n} hrs old`;const i=Math.floor(n/24);return i<1?"Today":`${i} day${1===i?"":"s"} old`},ta=()=>{const a=Object.values(c.value).flatMap(a=>a.neonates).slice(0,5);s.value=a};return w(()=>{(async()=>{try{u.value=!0;const a=await E.getStatistics();c.value=Y(a),a.recent_neonates&&Array.isArray(a.recent_neonates)?s.value=a.recent_neonates.map(a=>({id:String(a.id||a.patient_id||""),name:a.name||"Unknown Neonate",mrn:a.mrn||"N/A",age:a.age||"—",weight:a.weight||"—",status:a.status||"In patient"})):ta()}catch(a){console.error("[NeonatalLanding] Failed to load statistics",a),c.value=t(),s.value=[]}finally{u.value=!1}})()}),(a,e)=>(l(),p("div",va,[v("div",pa,[v("img",{src:o(B).banners.babyHand,alt:"baby-hand-banner",style:{"object-fit":"cover"}},null,8,ga)]),v("div",ma,[e[0]||(e[0]=v("h2",{class:"section-title"},"Today's Stats",-1)),r(o(z),{class:"stats-grid"},{default:d(()=>[r(o(k),null,{default:d(()=>[(l(!0),p(_,null,C(o(G),a=>(l(),i(o(S),{key:a.key,size:"6","size-md":"3"},{default:d(()=>{return[r(q,{label:a.label,value:(e=a.key,null!==(t=null===(n=c.value[e])||void 0===n?void 0:n.count)&&void 0!==t?t:0),"icon-src":a.iconSrc,"svg-icon":a.svgIcon,"is-critical":a.isCritical,clickable:H(a.key),onClick:e=>(a=>{H(a)&&(h.value=a,g.value=!0)})(a.key)},null,8,["label","value","icon-src","svg-icon","is-critical","clickable","onClick"])];var e,t,n}),_:2},1024))),128))]),_:1})]),_:1})]),v("div",xa,[e[1]||(e[1]=v("h2",{class:"section-title"},"Quick Actions",-1)),r(o(z),{class:"actions-grid"},{default:d(()=>[r(o(k),null,{default:d(()=>[(l(!0),p(_,null,C(o(K),a=>(l(),i(o(S),{key:a.route,size:"6","size-md":"6"},{default:d(()=>[r(ea,{label:a.label,"svg-icon":a.svgIcon,"icon-src":a.iconSrc,"icon-class":a.iconClass,onClick:e=>Q(a.route)},null,8,["label","svg-icon","icon-src","icon-class","onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),v("div",fa,[e[2]||(e[2]=v("h2",{class:"section-title"},"Recent Neonates",-1)),u.value?(l(),p("div",ha,[(l(),p(_,null,C(5,a=>v("div",{key:`skeleton-${a}`,class:"neonate-skeleton"},[r(o(I),{animated:!0,style:{width:"60px",height:"60px","border-radius":"50%"}}),v("div",ba,[r(o(I),{animated:!0,style:{width:"70%",height:"20px","margin-bottom":"8px"}}),r(o(I),{animated:!0,style:{width:"50%",height:"16px","margin-bottom":"4px"}}),r(o(I),{animated:!0,style:{width:"40%",height:"16px"}})]),r(o(I),{animated:!0,style:{width:"80px",height:"24px","border-radius":"12px"}})])),64))])):s.value.length?(l(),p("div",ya,[(l(!0),p(_,null,C(s.value,a=>(l(),i(ua,{key:a.id,neonate:a,"get-status-color":W,onClick:U},null,8,["neonate"]))),128))])):(l(),p("div",wa," No recent neonates to display. "))]),r(o(P),{"is-open":g.value,onDidDismiss:O,class:"drilldown-modal"},{default:d(()=>[r(o(j),null,{default:d(()=>[r(o(N),null,{default:d(()=>[r(o($),null,{default:d(()=>[f(m(D.value),1)]),_:1}),r(o(A),{slot:"end"},{default:d(()=>[r(o(T),{fill:"clear",onClick:O},{default:d(()=>[...e[3]||(e[3]=[f("Close",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),r(o(M),null,{default:d(()=>[v("div",ka,[L.value.length?(l(),p("div",Ca,[(l(!0),p(_,null,C(L.value,a=>(l(),i(ua,{key:`${h.value}-${a.id}`,neonate:a,"get-status-color":W,onClick:U},null,8,["neonate"]))),128))])):(l(),p("div",_a," No neonates available for this statistic. "))])]),_:1})]),_:1},8,["is-open"])]))}}),[["__scopeId","data-v-d9096e23"]]);e("default",D(n({__name:"NeonatalHome",setup:a=>(a,e)=>(l(),i(o(L),null,{default:d(()=>[r(H),r(o(M),{fullscreen:!0},{default:d(()=>[r(Sa)]),_:1})]),_:1}))}),[["__scopeId","data-v-052dae1c"]]))}}})}();
