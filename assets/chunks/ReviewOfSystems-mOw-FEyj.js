import{D as G,d as v,r as h,eN as S,w as d,e as F,f,l as b,u as p,c as Y,O as M,m as $,a6 as J,a3 as H,an as K,aV as X,eO as Z,H as k,J as q}from"./vendor-Dp4LKYDn.js";import{aC as O,_ as g,cg as ee,ch as oe,T as te,u as se,t as B,G as ne,s as ae}from"../index-1iYQQ78Y.js";import{N as ie}from"./NeonatalStepper-CBWnEBRg.js";import{N as le}from"./neonatal_service-Bn2SHV-8.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-DnvKZynX.js";import"./SaveProgressModal-Bfq11jZT.js";import"./images-DJIykHYW.js";import"./enrollment-DU-PLRUa.js";const x={within_24_hours:"Within 24 hours",more_than_24_hours:"More than 24 hours"},D={white:"White",yellow:"Yellow",yellowish_green:"Yellowish-green",green:"Green",normal:"Normal"},T={loose:"Loose",soft:"Soft",hard:"Hard"},R={clear:"Clear",cloudy:"Cloudy",bloody:"Bloody",dark:"Dark",pus:"Pus"},I={weight_loss_above_10:"Weight loss > 10%",weight_loss_below_10:"Weight loss < 10%"},P={hernia:"Hernia",swelling:"Swelling",discharge_pus_blood:"Discharge (Pus/Blood)"},m=[{title:"Review Of Systems",subtitle:"Bowel Movements",description:"Bowel movement assessment",formData:[{componentType:"yesNoQuestion",name:"is_baby_vomiting",header:"Is the baby vomiting?",validation:o=>o?null:"Please select Yes or No"},{componentType:"inputField",name:"frequency_of_vomiting",header:"Frequency of vomiting",placeholder:"Enter frequency",type:"number",unit:"minutes",condition:o=>o.is_baby_vomiting==="Yes",validation:o=>o?null:"Please enter frequency of vomiting"},{componentType:"listSelectionField",name:"passage_of_meconium",header:"Passage of meconium?",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:x.within_24_hours,value:"within_24_hours"},{label:x.more_than_24_hours,value:"more_than_24_hours"}],validation:o=>o?null:"Please select passage of meconium"},{componentType:"inputField",name:"frequency_of_stooling",header:"Frequency of stooling",placeholder:"Enter frequency",type:"number",unit:"minutes",validation:o=>o?null:"Please enter frequency of stooling"},{componentType:"listSelectionField",name:"color_of_stools",header:"Color of stools",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:D.white,value:"white"},{label:D.yellow,value:"yellow"},{label:D.yellowish_green,value:"yellowish_green"},{label:D.green,value:"green"},{label:D.normal,value:"normal"}],validation:o=>o?null:"Please select color of stools"},{componentType:"listSelectionField",name:"consistency_of_stools",header:"Consistency of stools",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:T.loose,value:"loose"},{label:T.soft,value:"soft"},{label:T.hard,value:"hard"}],validation:o=>o?null:"Please select consistency of stools"},{componentType:"yesNoQuestion",name:"blood_in_stools",header:"Any blood in stools?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"mucus_in_stools",header:"Any mucus in stools?",validation:o=>o?null:"Please select Yes or No"}]},{title:"Review Of Systems",subtitle:"Urine Output",description:"Urine output assessment",formData:[{componentType:"yesNoQuestion",name:"is_baby_passing_urine",header:"Is the baby passing urine?",validation:o=>o?null:"Please select Yes or No"},{componentType:"inputField",name:"number_of_wet_nappies",header:"Number of wet nappies per day",placeholder:"Enter number",type:"number",condition:o=>o.is_baby_passing_urine==="Yes",validation:o=>o?null:"Please enter number of wet nappies"},{componentType:"listSelectionField",name:"color_of_urine",header:"Color of urine",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:R.clear,value:"clear"},{label:R.cloudy,value:"cloudy"},{label:R.bloody,value:"bloody"},{label:R.dark,value:"dark"},{label:R.pus,value:"pus"}],validation:o=>o?null:"Please select color of urine"},{componentType:"inputField",name:"volume_ml",header:"Volume (ml)",placeholder:"Enter volume",type:"number",validation:o=>o?null:"Please enter volume"}]},{title:"Review Of Systems",subtitle:"Growth",description:"Growth assessment",formData:[{componentType:"listSelectionField",name:"weight_trend_since_birth",header:"Weight trend since birth",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:I.weight_loss_above_10,value:"weight_loss_above_10"},{label:I.weight_loss_below_10,value:"weight_loss_below_10"}],validation:o=>o?null:"Please select weight trend"}]},{title:"Review Of Systems",subtitle:"Mouth and Oropharynx",description:"Mouth and oropharynx assessment",formData:[{componentType:"yesNoQuestion",name:"does_baby_have_oral_thrush",header:"Does the baby have Oral thrush?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"does_baby_have_oral_sores",header:"Does the baby have Oral sores?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"does_baby_have_tongue_tie",header:"Does the baby have Tongue tie (Ankyloglossia)?",validation:o=>o?null:"Please select Yes or No"}]},{title:"Review Of Systems",subtitle:"Abdomen",description:"Abdominal assessment",formData:[{componentType:"yesNoQuestion",name:"abdominal_distension",header:"Abdominal distension?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"abdominal_pain",header:"Abdominal pain?",validation:o=>o?null:"Please select Yes or No"},{componentType:"listSelectionField",name:"umbilical_condition",header:"Umbilical",subtitle:"Select ONE",titleStyle:"tonal",type:"single",allowDeselect:!1,showCheckmark:!0,options:[{label:P.hernia,value:"hernia"},{label:P.swelling,value:"swelling"},{label:P.discharge_pus_blood,value:"discharge_pus_blood"}],validation:o=>o?null:"Please select umbilical condition"}]},{title:"Review Of Systems",subtitle:"Musculoskeletal",description:"Musculoskeletal system assessment",formData:[{componentType:"yesNoQuestion",name:"skin_rash",header:"Does the baby have Skin rash?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"talipes",header:"Does the baby have Talipes?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"extra_digits",header:"Does the baby have Extra-digits?",validation:o=>o?null:"Please select Yes or No"},{componentType:"yesNoQuestion",name:"spinal_bifida",header:"Does the baby have Spinal bifida?",validation:o=>o?null:"Please select Yes or No"}]},{title:"Summary",subtitle:"Review of Systems Summary",description:"Review all findings before proceeding",formData:[{componentType:"Alert",name:"ros_summary_alert",type:"warning",backgroundColor:"#FEDF89",textColor:"#B54708",message:"Review all findings carefully. You can go back to edit if needed."},{componentType:"summaryField",name:"reviewOfSystemsSummary",title:"Review of Systems Summary",subtitle:"Auto-generated summary from all systems reviewed",description:"Confirm that the values below match your observations before proceeding.",emptyStateMessage:"No review of systems data captured yet.",builder:o=>{const r=[],t=s=>{if(!s||typeof s!="string")return;const i=s.trim().toLowerCase();return i==="yes"?"Yes":i==="no"?"No":s},l=(s,i)=>{if(s)return(i==null?void 0:i[s])||s},u=(s,i)=>{if(s)return"".concat(s," ").concat(i)},a=(s,i,e)=>{e&&r.push({section:s,label:i,value:e})};return a("Bowel Movements","Is the baby vomiting?",t(o.is_baby_vomiting)),a("Bowel Movements","Frequency of vomiting",u(o.frequency_of_vomiting,"minutes")),a("Bowel Movements","Passage of meconium",l(o.passage_of_meconium,x)),a("Bowel Movements","Frequency of stooling",u(o.frequency_of_stooling,"minutes")),a("Bowel Movements","Color of stools",l(o.color_of_stools,D)),a("Bowel Movements","Consistency of stools",l(o.consistency_of_stools,T)),a("Bowel Movements","Blood in stools?",t(o.blood_in_stools)),a("Bowel Movements","Mucus in stools?",t(o.mucus_in_stools)),a("Urine Output","Is the baby passing urine?",t(o.is_baby_passing_urine)),a("Urine Output","Number of wet nappies",o.number_of_wet_nappies),a("Urine Output","Color of urine",l(o.color_of_urine,R)),a("Urine Output","Volume (ml)",o.volume_ml),a("Growth","Weight trend since birth",l(o.weight_trend_since_birth,I)),a("Mouth and Oropharynx","Oral thrush?",t(o.does_baby_have_oral_thrush)),a("Mouth and Oropharynx","Oral sores?",t(o.does_baby_have_oral_sores)),a("Mouth and Oropharynx","Tongue tie?",t(o.does_baby_have_tongue_tie)),a("Abdomen","Abdominal distension?",t(o.abdominal_distension)),a("Abdomen","Abdominal pain?",t(o.abdominal_pain)),a("Abdomen","Umbilical findings",l(o.umbilical_condition,P)),a("Musculoskeletal","Skin rash?",t(o.skin_rash)),a("Musculoskeletal","Talipes?",t(o.talipes)),a("Musculoskeletal","Extra digits?",t(o.extra_digits)),a("Musculoskeletal","Spinal bifida?",t(o.spinal_bifida)),r}}]}],re={type_of_feed:"",mode_of_feeding:"",frequency_of_feeding:"",duration_of_feeding:"",effort_during_feeding:"",is_baby_vomiting:"",frequency_of_vomiting:"",passage_of_meconium:"",frequency_of_stooling:"",color_of_stools:"",consistency_of_stools:"",blood_in_stools:"",mucus_in_stools:"",is_baby_passing_urine:"",number_of_wet_nappies:"",color_of_urine:"",volume_ml:"",weight_trend_since_birth:"",does_baby_have_oral_thrush:"",does_baby_have_oral_sores:"",does_baby_have_tongue_tie:"",activity:"",hydration_urination:"",stool_passed_meconium:"",stool_passed_transitional:"",vomiting:"",vomiting_bile_stained:"",difficulty_breathing:"",bleeding:"",jaundice:"",convulsions:"",baby_grunting:"",color_of_vomit:"",gasping:"",nasal_flaring:"",cyanosis:"",size_of_uterus:"",oxygen_level_2:"",oxygen_level_value:"",birthmark_abnormalities:"",pustules:"",peeling:"",umbilical_discharge:"",swelling:"",abdominal_distension:"",abdominal_pain:"",umbilical_condition:"",mass:"",tenderness:"",organomegaly:"",skin_rash:"",talipes:"",extra_digits:"",spinal_bifida:"",reduced_movement:"",fracture:"",deformity:"",club_foot:"",other_abnormalities:""},w=Symbol("neonatalReviewOfSystemsForm"),C=()=>JSON.parse(JSON.stringify(re)),ue=G("neonatalReviewOfSystemsStore",{state:()=>({activePatientId:null,formData:C(),storedForms:{}}),actions:{initializeForPatient(o){if(o==null){this.activePatientId=null,Object.assign(this.formData,C());return}this.activePatientId=o;const r=String(o),t=this.storedForms[r];t?Object.assign(this.formData,t):Object.assign(this.formData,C()),this.saveSnapshot()},saveSnapshot(){if(this.activePatientId==null)return;const o=String(this.activePatientId);this.storedForms[o]=JSON.parse(JSON.stringify(this.formData))},resetActiveForm(){Object.assign(this.formData,C()),this.saveSnapshot()},clearPatient(o){delete this.storedForms[String(o)]}},persist:{paths:["activePatientId","formData","storedForms"]}}),ce={class:"review-of-systems-section-wrapper"},me=v({__name:"BowelMovementsSection",setup(o,{expose:r}){const t=h(null),l=m[0],u=l.formData,a=l.conditionalRules||[],s=S(w),i=e=>{s&&(s.is_baby_vomiting=e.is_baby_vomiting||"",s.frequency_of_vomiting=e.frequency_of_vomiting||"",s.passage_of_meconium=e.passage_of_meconium||"",s.frequency_of_stooling=e.frequency_of_stooling||"",s.color_of_stools=e.color_of_stools||"",s.consistency_of_stools=e.consistency_of_stools||"",s.blood_in_stools=e.blood_in_stools||"",s.mucus_in_stools=e.mucus_in_stools||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&i(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&i(e.getFormValues())},{immediate:!0}),r({getFormRef:()=>t.value,validateForm:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.validateForm)==null?void 0:n.call(e))||null},getFormValues:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:n.call(e))||{}}}),(e,n)=>(f(),F("div",ce,[b(O,{formData:p(u),conditionalRules:p(a),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),E=g(me,[["__scopeId","data-v-6b71ffe3"]]),_e={class:"review-of-systems-section-wrapper"},de=v({__name:"UrineOutputSection",setup(o,{expose:r}){const t=h(null),l=m[1],u=l.formData,a=l.conditionalRules||[],s=S(w),i=e=>{s&&(s.is_baby_passing_urine=e.is_baby_passing_urine||"",s.number_of_wet_nappies=e.number_of_wet_nappies||"",s.color_of_urine=e.color_of_urine||"",s.volume_ml=e.volume_ml||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&i(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&i(e.getFormValues())},{immediate:!0}),r({getFormRef:()=>t.value,validateForm:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.validateForm)==null?void 0:n.call(e))||null},getFormValues:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:n.call(e))||{}}}),(e,n)=>(f(),F("div",_e,[b(O,{formData:p(u),conditionalRules:p(a),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),U=g(de,[["__scopeId","data-v-ae40b2d0"]]),pe={class:"review-of-systems-section-wrapper"},fe=v({__name:"GrowthSection",setup(o,{expose:r}){const t=h(null),l=m[2],u=l.formData,a=l.conditionalRules||[],s=S(w),i=e=>{s&&(s.weight_trend_since_birth=e.weight_trend_since_birth||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&i(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&i(e.getFormValues())},{immediate:!0}),r({getFormRef:()=>t.value,validateForm:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.validateForm)==null?void 0:n.call(e))||null},getFormValues:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:n.call(e))||{}}}),(e,n)=>(f(),F("div",pe,[b(O,{formData:p(u),conditionalRules:p(a),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),Q=g(fe,[["__scopeId","data-v-d18b28f7"]]),ye={class:"review-of-systems-section-wrapper"},he=v({__name:"MouthOropharynxSection",setup(o,{expose:r}){const t=h(null),l=m[3],u=l.formData,a=l.conditionalRules||[],s=S(w),i=e=>{s&&(s.does_baby_have_oral_thrush=e.does_baby_have_oral_thrush||"",s.does_baby_have_oral_sores=e.does_baby_have_oral_sores||"",s.does_baby_have_tongue_tie=e.does_baby_have_tongue_tie||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&i(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&i(e.getFormValues())},{immediate:!0}),r({getFormRef:()=>t.value,validateForm:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.validateForm)==null?void 0:n.call(e))||null},getFormValues:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:n.call(e))||{}}}),(e,n)=>(f(),F("div",ye,[b(O,{formData:p(u),conditionalRules:p(a),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),z=g(he,[["__scopeId","data-v-a2bf5654"]]),be={class:"review-of-systems-section-wrapper"},ve=v({__name:"AbdomenSection",setup(o,{expose:r}){const t=h(null),l=m[4],u=l.formData,a=l.conditionalRules||[],s=S(w),i=e=>{s&&(s.abdominal_distension=e.abdominal_distension||"",s.abdominal_pain=e.abdominal_pain||"",s.umbilical_condition=e.umbilical_condition||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&i(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&i(e.getFormValues())},{immediate:!0}),r({getFormRef:()=>t.value,validateForm:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.validateForm)==null?void 0:n.call(e))||null},getFormValues:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:n.call(e))||{}}}),(e,n)=>(f(),F("div",be,[b(O,{formData:p(u),conditionalRules:p(a),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),L=g(ve,[["__scopeId","data-v-f42ebbfa"]]),ge={class:"review-of-systems-section-wrapper"},we=v({__name:"MusculoskeletalSection",setup(o,{expose:r}){const t=h(null),l=m[5],u=l.formData,a=l.conditionalRules||[],s=S(w),i=e=>{s&&(s.skin_rash=e.skin_rash||"",s.talipes=e.talipes||"",s.extra_digits=e.extra_digits||"",s.spinal_bifida=e.spinal_bifida||"")};return d(()=>{var e;return(e=t.value)==null?void 0:e.formValues},e=>{e&&i(e)},{deep:!0}),d(()=>t.value,e=>{e!=null&&e.getFormValues&&i(e.getFormValues())},{immediate:!0}),r({getFormRef:()=>t.value,validateForm:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.validateForm)==null?void 0:n.call(e))||null},getFormValues:()=>{var e,n;return((n=(e=t.value)==null?void 0:e.getFormValues)==null?void 0:n.call(e))||{}}}),(e,n)=>(f(),F("div",ge,[b(O,{formData:p(u),conditionalRules:p(a),ref_key:"formRef",ref:t},null,8,["formData","conditionalRules"])]))}}),W=g(we,[["__scopeId","data-v-d41ae811"]]),Se={class:"review-of-systems-section-wrapper"},Fe=v({__name:"SummarySection",setup(o,{expose:r}){const t=m[6],l=Y(()=>t.formData.find(s=>s.componentType==="Alert")),u=Y(()=>t.formData.find(s=>s.componentType==="summaryField")),a=S(w);return r({getFormRef:()=>null,validateForm:()=>null,getFormValues:()=>({...a||{}})}),(s,i)=>(f(),F("div",Se,[l.value?(f(),M(ee,{key:0,config:l.value,allFormValues:p(a)||{}},null,8,["config","allFormValues"])):$("",!0),u.value?(f(),M(oe,{key:1,config:u.value,allFormValues:p(a)||{}},null,8,["config","allFormValues"])):$("",!0)]))}}),j=g(Fe,[["__scopeId","data-v-fd63510d"]]),De=v({name:"ReviewOfSystems",components:{IonContent:H,IonPage:J,Toolbar:te,NeonatalStepper:ie,BowelMovementsSection:E,UrineOutputSection:U,GrowthSection:Q,MouthOropharynxSection:z,AbdomenSection:L,MusculoskeletalSection:W,SummarySection:j},setup(){const o=K(),r=se(),{patient:t}=X(r),l="Review Of Systems",u=h("1"),a=h(!1),s=ue(),i=_=>{const c=Number(_);return Number.isFinite(c)?c:null},e=()=>{var c;const _=i((c=t.value)==null?void 0:c.patientID);s.initializeForPatient(_)};e(),d(()=>{var _;return(_=t.value)==null?void 0:_.patientID},()=>e());const n=s.formData;Z(w,n),d(()=>s.formData,()=>s.saveSnapshot(),{deep:!0});const V=h(m.map((_,c)=>({title:_.title,number:c+1,checked:!1,class:c===0?"open_step common_step":"common_step",last_step:c===m.length-1?"last_step":""}))),A=[{title:m[0].title,value:"1",component:E,configIndex:0},{title:m[1].title,value:"2",component:U,configIndex:1},{title:m[2].title,value:"3",component:Q,configIndex:2},{title:m[3].title,value:"4",component:z,configIndex:3},{title:m[4].title,value:"5",component:L,configIndex:4},{title:m[5].title,value:"6",component:W,configIndex:5},{title:m[6].title,value:"7",component:j,configIndex:6}];return{wizardData:V,stepperData:A,stepperTitle:l,currentOpenStepper:u,updateStatus:_=>{_&&_.value&&V.value.forEach((c,N)=>{_.value===(N+1).toString()?(c.class="open_step common_step",c.checked=!1):N<parseInt(_.value)-1?(c.class="common_step color_white",c.checked=!0):(c.class="common_step",c.checked=!1)})},getSaveFunction:_=>_===A.length-1?async()=>{var c;if(!((c=t.value)!=null&&c.patientID)){B("No patient selected");return}if(!a.value)try{if(a.value=!0,!Object.values(n).some(y=>Array.isArray(y)?y.length>0:typeof y=="boolean"?y===!0:y!=null&&y!=="")){B("Please complete at least one section of the review"),a.value=!1;return}await le.saveReviewOfSystemsAssessment(t.value.patientID,n),ne("Review of systems saved successfully"),await new Promise(y=>setTimeout(y,500)),o.push({path:"/neonatal/SystemicExamination"})}catch(N){console.error("Failed to save review of systems",N),ae("Failed to save review of systems. Please try again."),a.value=!1}}:null,neonatalReviewOfSystemsSections:m,isSaving:a}}});function Re(o,r,t,l,u,a){const s=k("Toolbar"),i=k("NeonatalStepper"),e=k("ion-content"),n=k("ion-page");return f(),M(n,{class:"review-of-systems-page"},{default:q(()=>[b(s),b(e,{fullscreen:!0},{default:q(()=>[b(i,{wizardData:o.wizardData,StepperData:o.stepperData,stepperTitle:o.stepperTitle,openStepper:o.currentOpenStepper,backUrl:"/NeonatalHome",getSaveFunction:o.getSaveFunction,sectionsConfig:o.neonatalReviewOfSystemsSections,flowType:"reviewOfSystems",onUpdateStatus:o.updateStatus},null,8,["wizardData","StepperData","stepperTitle","openStepper","getSaveFunction","sectionsConfig","onUpdateStatus"])]),_:1})]),_:1})}const Ye=g(De,[["render",Re],["__scopeId","data-v-31637e64"]]);export{Ye as default};
