System.register(["./vendor-legacy-CdypqbXP.js","../index-legacy-a_4iRUcf.js","./DemographicBar-legacy-BhGK8WeV.js","./NextAppointmentModal-legacy-Zu4ea0oO.js","./SaveProgressModal-legacy-CTN7Cchz.js","./formatServerData-legacy-Yp36q8Ko.js","./lodash-legacy-pOOc9Efu.js","./apexcharts-legacy-DPlv51y0.js","./BasicForm-legacy-8qaXwGgZ.js","./DateInputField-legacy-Df5wg7zw.js"],function(a,e){"use strict";var t,n,i,c,o,l,r,d,s,p,u,m,f,g,v,b,x,h,w,y,k,C,j,N,S,D,_,A,U,z,O,B,F,I,M,H,E,K;return{setters:[a=>{t=a.d,n=a.am,i=a.r,c=a.c,o=a.a,l=a.H,r=a.O,d=a.f,s=a.J,p=a.l,u=a.u,m=a.ab,f=a.k,g=a.bT,v=a.dp,b=a.p,x=a.K,h=a.aU,w=a.bg,y=a.ae},a=>{k=a.aW,C=a.u,j=a.T,N=a.D,S=a.o,D=a.F,_=a.w,A=a.bK,U=a.S,z=a.t,O=a.Z,B=a._},a=>{F=a.D},a=>{I=a.u,M=a.L,H=a.N},a=>{E=a.S},a=>{K=a.f},null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent='.main-container[data-v-cd8ea696]{padding:1rem 1.25rem;max-width:1000px;margin:0 auto}.status-card[data-v-cd8ea696]{background:#fff;border-radius:16px;padding:1.25rem;margin-bottom:1.5rem;box-shadow:0 4px 12px rgba(0,0,0,.05);display:flex;justify-content:space-between;align-items:center;border:1px solid #f0f0f0}.back-btn-custom[data-v-cd8ea696]{--color: #666;font-size:.9rem;margin:0}.appointment-info[data-v-cd8ea696]{display:flex;align-items:center;gap:12px}.icon-circle[data-v-cd8ea696]{background:#eef4ff;color:#0b5ed7;padding:10px;border-radius:12px;display:flex;font-size:1.2rem}.text-group[data-v-cd8ea696]{display:flex;flex-direction:column}.label[data-v-cd8ea696]{font-size:.75rem;color:#888;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.value[data-v-cd8ea696]{font-size:1.05rem;font-weight:700;color:#1a1a1a}.value.no-date[data-v-cd8ea696]{color:#ffc107;font-style:italic}.action-grid[data-v-cd8ea696]{display:grid;grid-template-columns:2fr 1fr 1fr;gap:12px;margin-bottom:2rem}.cta-button[data-v-cd8ea696]{--background: #0b5ed7;--border-radius: 12px;height:60px;margin:0;font-weight:700;font-size:1.1rem;box-shadow:0 4px 15px rgba(11,94,215,.25)}.sub-button[data-v-cd8ea696]{--border-radius: 12px;--border-width: 1.5px;height:60px;margin:0;font-weight:600;color:#444}.content-divider[data-v-cd8ea696]{display:flex;align-items:center;margin:2rem 0 1.5rem}.content-divider[data-v-cd8ea696]:after{content:"";flex:1;height:1px;background:#eee;margin-left:15px}.content-divider span[data-v-cd8ea696]{font-size:.85rem;font-weight:700;color:#aaa;text-transform:uppercase;letter-spacing:1px}.landing-wrapper[data-v-cd8ea696]{background:#fff;border-radius:16px;padding:10px}@media(max-width:850px){.action-grid[data-v-cd8ea696]{grid-template-columns:1fr}.status-card[data-v-cd8ea696]{flex-direction:column;align-items:flex-start;gap:1rem}.appointment-info[data-v-cd8ea696]{width:100%;padding-top:1rem;border-top:1px solid #f5f5f5}}\n/*$vite$:1*/',document.head.appendChild(e);class L extends k{constructor(a,e){super(a,7,e)}}const P={class:"main-container"},T={class:"status-card"},V={class:"back-wrapper"},$={class:"appointment-info"},J={class:"icon-circle"},Q={class:"text-group"},W={class:"action-grid"},Y={class:"grid-item main-action"},Z={class:"grid-item"},q={class:"grid-item"},G={class:"landing-wrapper"};a("default",B(t({__name:"ANCHome",props:{backBtn:{default:"Back to profile"},backUrl:{default:""},contact:{default:""}},setup(a){const e=a,t=n(),k=I(),B=C(),R=i(!1),X=i(""),aa=c(()=>k.nextAppointmentDate),ea=c(()=>B.patient),ta=async()=>{if(aa.value.length>=0){const a=U.getUserID(),e=new L(ea.value.patientID,a);if(!(await e.createEncounter()))return z("Unable to create appointment date encounter");if(!(await e.saveObservationList(await(async()=>[...await K(aa.value)])())))return z("Unable to create date!");O("Client has been scheduled for next contact")}},na=async()=>{await k.validate()?(await ta(),la(),await t.push("ANCHome"),await A()):_("Next appointment date has errors")},ia=()=>{la()},ca=()=>{oa()},oa=()=>{R.value=!R.value},la=()=>{R.value=!1},ra=()=>{t.push("/contacts")},da=()=>{t.push("/contact")};return o(()=>{(async()=>{const a=await D.getFirstObsValue(ea.value.patientID,"Appointment date","value_text");X.value=a})()}),(n,i)=>{const c=l("ion-icon");return d(),r(u(y),null,{default:s(()=>[p(j),p(u(m),{fullscreen:!0,class:"ion-padding-bottom"},{default:s(()=>[p(F),f("div",P,[f("div",T,[f("div",V,[p(N,{name:a.backBtn,iconSlot:"start",fill:"clear",icon:u(g),onClick:i[0]||(i[0]=a=>{e.backUrl?t.push(e.backUrl):S(E)}),class:"back-btn-custom"},null,8,["name","icon"])]),f("div",$,[f("div",J,[p(c,{icon:u(v)},null,8,["icon"])]),f("div",Q,[i[1]||(i[1]=f("span",{class:"label"},"Next Appointment",-1)),f("span",{class:b(["value",{"no-date":!X.value}])},x(X.value||"Not scheduled"),3)])])]),f("div",W,[f("div",Y,[p(N,{name:"New ANC Contact",iconSlot:"start",fill:"solid",icon:u(h),onClick:da,class:"cta-button"},null,8,["icon"])]),f("div",Z,[p(N,{name:"View Contacts",iconSlot:"start",fill:"outline",icon:u(w),onClick:ra,class:"sub-button"},null,8,["icon"])]),f("div",q,[p(N,{name:"Schedule Contact",iconSlot:"start",fill:"outline",icon:u(v),onClick:ca,class:"sub-button"},null,8,["icon"])])]),i[2]||(i[2]=f("div",{class:"content-divider"},[f("span",null,"Patient Overview")],-1)),f("div",G,[p(M)])]),p(H,{isOpen:R.value,title:"",closeModalFunc:la,onYes:na,onNo:ia},null,8,["isOpen"])]),_:1})]),_:1})}}}),[["__scopeId","data-v-cd8ea696"]]))}}});
