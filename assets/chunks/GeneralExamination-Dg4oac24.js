var M=Object.defineProperty;var L=(s,a,o)=>a in s?M(s,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[a]=o;var B=(s,a,o)=>L(s,typeof a!="symbol"?a+"":a,o);import{_ as P,u as U,a0 as Y,b2 as D,s as $,T as G}from"../index-BSR37024.js";import{d as C,e as f,f as y,k as e,K as b,bl as H,m as O,l as m,j as R,J as V,Q as w,u,c as _,D as Q,a as j,F as k,O as N,bS as z,i as W,b8 as J,aV as E,r as F,a3 as K,a6 as X}from"./vendor-ypQu15BZ.js";import{I as Z}from"./images-CiU2O8T9.js";import{N as ee}from"./NeonatalStepper-DcnZmRSR.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-DhCmsDNo.js";import"./SaveProgressModal-C-a5wGwY.js";const se={class:"header-container"},te={class:"header-text"},ae=C({name:"gHeader",__name:"gHeader",props:{text:{type:String,required:!0}},setup(s){return(a,o)=>(y(),f("div",se,[e("p",te,b(s.text),1)]))}}),q=P(ae,[["__scopeId","data-v-2e4e16bf"]]),ne={class:"multiselect-header-wrapper"},oe={key:0,class:"question-header"},le={class:"selection-instruction"},ie=C({name:"VueMultiselectStyledHeader",components:{VueMultiselect:H},__name:"VueMultiselectStaticList",props:{options:{type:Array,required:!0,validator:s=>s.every(a=>"label"in a&&"value"in a)},modelValue:{type:[Object,null],default:null}},emits:["update:modelValue"],setup(s,{emit:a}){const o=a,n=()=>{o("update:modelValue",null)};return(t,d)=>(y(),f("div",ne,[t.$slots.header?(y(),f("div",oe,[R(t.$slots,"header",{},void 0,!0)])):O("",!0),e("div",le,[d[1]||(d[1]=e("span",null,"Select one.",-1)),s.modelValue?(y(),f("button",{key:0,onClick:n,class:"clear-button",type:"button"}," Clear ")):O("",!0)]),m(u(H),{"model-value":s.modelValue,"onUpdate:modelValue":d[0]||(d[0]=l=>o("update:modelValue",l)),options:s.options,"track-by":"value",label:"label",searchable:!1,"allow-empty":!0,"show-labels":!1,"close-on-select":!0,class:"default-multiselect-styling"},{option:V(({option:l})=>[w(b(l.label),1)]),singleLabel:V(({option:l})=>[w(b(l.label),1)]),_:1},8,["model-value","options"])]))}}),S=P(ie,[["__scopeId","data-v-88b0d96a"]]),re={class:"yes-no-question-card"},ce={class:"question-text"},ue={class:"controls-group"},de={class:"radio-group"},me={class:"radio-label"},ve=["name","checked"],pe={class:"custom-radio"},be={key:0,viewBox:"0 0 24 24"},ye={class:"radio-label"},he=["name","checked"],fe={class:"custom-radio"},_e={key:0,viewBox:"0 0 24 24"},Ae=C({__name:"YesNoQuestion",props:{question:{type:String,required:!0},modelValue:{type:[Boolean,null],default:null},groupId:{type:String,default:""}},emits:["update:modelValue"],setup(s,{emit:a}){const o=s,n=a,t=_(()=>o.groupId||"radio-".concat(Math.random().toString(36).substr(2,9))),d=()=>{n("update:modelValue",null)};return(l,i)=>(y(),f("div",re,[e("div",ce,b(s.question),1),e("div",ue,[e("div",de,[e("label",me,[e("input",{type:"radio",name:t.value,value:!0,checked:s.modelValue===!0,onChange:i[0]||(i[0]=v=>l.$emit("update:modelValue",!0))},null,40,ve),e("span",pe,[s.modelValue===!0?(y(),f("svg",be,[...i[2]||(i[2]=[e("circle",{cx:"12",cy:"12",r:"8",fill:"#4CAF50"},null,-1),e("circle",{cx:"12",cy:"12",r:"4",fill:"white"},null,-1)])])):O("",!0)]),i[3]||(i[3]=w(" Yes ",-1))]),e("label",ye,[e("input",{type:"radio",name:t.value,value:!1,checked:s.modelValue===!1,onChange:i[1]||(i[1]=v=>l.$emit("update:modelValue",!1))},null,40,he),e("span",fe,[s.modelValue===!1?(y(),f("svg",_e,[...i[4]||(i[4]=[e("circle",{cx:"12",cy:"12",r:"8",fill:"#4CAF50"},null,-1),e("circle",{cx:"12",cy:"12",r:"4",fill:"white"},null,-1)])])):O("",!0)]),i[5]||(i[5]=w(" No ",-1))])]),s.modelValue!==null?(y(),f("button",{key:0,onClick:d,class:"clear-button",type:"button"}," Clear ")):O("",!0)])]))}}),I=P(Ae,[["__scopeId","data-v-08820887"]]),x=Q("neonatalExamStore",{state:()=>({activityAssessment:null,fontanelleAssessment:null,massInHeadAssessment:null,isBabyYellow:null,isBabyPallorPink:null,hasBabyCyanosis:null,hasBabyOedema:null,cleftAssessment:null,hasCongenitalAbnormalities:null,abnormalitiesNotes:"",capillaryRefillTime:null,femoralPulses:null,genitaliaAssessment:null,anusAssessment:null}),actions:{setActivityAssessment(s){this.activityAssessment=s},setFontanelleAssessment(s){this.fontanelleAssessment=s},setMassInHeadAssessment(s){this.massInHeadAssessment=s},setIsBabyYellow(s){this.isBabyYellow=s},setIsBabyPallorPink(s){this.isBabyPallorPink=s},setHasBabyCyanosis(s){this.hasBabyCyanosis=s},setHasBabyOedema(s){this.hasBabyOedema=s},setCleftAssessment(s){this.cleftAssessment=s},setHasCongenitalAbnormalities(s){this.hasCongenitalAbnormalities=s},setAbnormalitiesNotes(s){this.abnormalitiesNotes=s},setCapillaryRefillTime(s){this.capillaryRefillTime=s},setFemoralPulses(s){this.femoralPulses=s},setGenitaliaAssessment(s){this.genitaliaAssessment=s},setAnusAssessment(s){this.anusAssessment=s},resetExamData(){this.$reset(),console.log("Neonatal Exam Data has been reset.")}},persist:!0}),ge={class:"center-content"},Ve={class:"center-content"},we={class:"center-content"},Ce={class:"center-content"},Pe={class:"center-content"},xe={class:"center-content"},qe=C({__name:"HeadAssessment",setup(s,{expose:a}){const o=S,n=x(),t=_({get:()=>n.fontanelleAssessment,set:p=>n.setFontanelleAssessment(p)}),d=[{label:"Flat, Not Tense (normal)",value:"Flat"},{label:"Sunken",value:"Sunk"},{label:"Bulging/Tense",value:"Bulg"}],l=_({get:()=>n.massInHeadAssessment,set:p=>n.setMassInHeadAssessment(p)}),i=[{label:"Caput",value:"caput"},{label:"Cephalohematoma",value:"cephalohematoma"},{label:"Subgalea hemorrhage",value:"subgalea"},{label:"Normal",value:"normal"}],v=_({get:()=>n.isBabyYellow,set:p=>n.setIsBabyYellow(p)}),c=_({get:()=>n.isBabyPallorPink,set:p=>n.setIsBabyPallorPink(p)}),r=_({get:()=>n.hasBabyCyanosis,set:p=>n.setHasBabyCyanosis(p)}),A=_({get:()=>n.hasBabyOedema,set:p=>n.setHasBabyOedema(p)});j(()=>{});function T(){const p={};return t.value||(p.fontanelle="Fontanelle assessment is required.",console.error("Validation Error: Fontanelle assessment missing.")),l.value||(p.massInHead="Mass in the head assessment is required.",console.error("Validation Error: Mass in Head assessment missing.")),v.value===null&&(p.isBabyYellow="The 'Is the baby yellow?' question is required.",console.error("Validation Error: Is baby yellow? missing.")),c.value===null&&(p.isBabyPallorPink="The 'Is the baby Pallor Pink?' question is required.",console.error("Validation Error: Is baby Pallor Pink? missing.")),r.value===null&&(p.hasBabyCyanosis="The 'Does the baby have cyanosis?' question is required.",console.error("Validation Error: Does baby have cyanosis? missing.")),A.value===null&&(p.hasBabyOedema="The 'Does the baby have oedema?' question is required.",console.error("Validation Error: Does baby have oedema? missing.")),Object.keys(p).length>0?p:(console.log("Validation Success: Head Assessment passed."),null)}return a({validateForm:T}),(p,h)=>(y(),f(k,null,[m(q,{text:"Fontanelle"}),e("div",ge,[m(u(o),{modelValue:t.value,"onUpdate:modelValue":h[0]||(h[0]=g=>t.value=g),options:d,class:"assessment-component"},{header:V(()=>[...h[6]||(h[6]=[w(" FEEL the fontanelle. ",-1)])]),_:1},8,["modelValue"])]),m(q,{text:"Head"}),e("div",Ve,[m(u(o),{modelValue:l.value,"onUpdate:modelValue":h[1]||(h[1]=g=>l.value=g),options:i,class:"assessment-component"},{header:V(()=>[...h[7]||(h[7]=[w(" Mass in the head. ",-1)])]),_:1},8,["modelValue"])]),m(q,{text:"Colour"}),e("div",we,[m(I,{question:"Is the baby yellow?",modelValue:v.value,"onUpdate:modelValue":h[2]||(h[2]=g=>v.value=g),groupId:"yellow-q",class:"assessment-component"},null,8,["modelValue"])]),e("div",Ce,[m(I,{question:"Is the baby Pallor Pink?",modelValue:c.value,"onUpdate:modelValue":h[3]||(h[3]=g=>c.value=g),groupId:"pallor-q",class:"assessment-component"},null,8,["modelValue"])]),e("div",Pe,[m(I,{question:"Does the baby have cyanosis?",modelValue:r.value,"onUpdate:modelValue":h[4]||(h[4]=g=>r.value=g),groupId:"cyanosis-q",class:"assessment-component"},null,8,["modelValue"])]),e("div",xe,[m(I,{question:"Does the baby have oedema?",modelValue:A.value,"onUpdate:modelValue":h[5]||(h[5]=g=>A.value=g),groupId:"oedema-q",class:"assessment-component"},null,8,["modelValue"])])],64))}}),Oe=P(qe,[["__scopeId","data-v-73bb7bb0"]]),Se={class:"center-content"},Ie=C({__name:"ActivityAssessment",setup(s,{expose:a}){const o=S,n=x(),t=_({get:()=>n.activityAssessment,set:i=>{n.setActivityAssessment(i)}}),d=[{label:"Alert, active, appropriate (normal)",value:"Alert"},{label:"Irritable, hyperalert or inconsolable",value:"Irrit"},{label:"Lethargic, quiet, decreased activity",value:"Leth"},{label:"Seizures, convulsions, or twitchings",value:"Convulsions"},{label:"Coma (unresponsive)",value:"Coma"}];function l(){const i={};return t.value||(i.activity="Activity Assessment is required. Please select an option.",console.error("Validation Error: Activity Assessment is required.")),Object.keys(i).length>0?i:(console.log("Validation Success: Activity Assessment passed."),null)}return a({validateForm:l}),(i,v)=>(y(),f("div",Se,[(y(),N(z(u(o)),{modelValue:t.value,"onUpdate:modelValue":v[0]||(v[0]=c=>t.value=c),options:d,class:"multiselect-component"},{header:V(()=>[...v[1]||(v[1]=[w(" How is the babies activity? ",-1)])]),_:1},8,["modelValue"]))]))}}),$e=P(Ie,[["__scopeId","data-v-9d2bba93"]]),Be={class:"center-content"},ke={class:"assessment-component"},He={class:"image-question-wrapper"},Ee={class:"cleft-image-container"},Fe={class:"image-placeholder"},De=["src"],Ne=C({name:"CleftLipPalateQuestion",components:{VueMultiselectStaticList:S},__name:"CleftLipPalateQuestion",setup(s,{expose:a}){const o=x(),n=_({get:()=>o.cleftAssessment,set:l=>{o.setCleftAssessment(l)}}),t=[{label:"Palate and lip intact (normal)",value:"normal"},{label:"Cleft palate",value:"cleft_palate"},{label:"Cleft lip",value:"cleft_lip"},{label:"Cleft lip and palate",value:"cleft_lip_palate"}];function d(){const l={};return n.value||(l.cleftAssessment="Cleft Lip and Palate assessment is required. Please select an option.",console.error("Validation Error: Cleft Lip and Palate assessment missing.")),Object.keys(l).length>0?l:(console.log("Validation Success: Cleft Lip and Palate Question passed."),null)}return a({validateForm:d}),(l,i)=>(y(),f("div",Be,[e("div",ke,[m(q,{text:"Cleft Lip & Palate"}),e("div",He,[i[1]||(i[1]=e("div",{class:"question-header"}," Look at the lip and palate, is it intact? ",-1)),e("div",Ee,[e("div",Fe,[e("img",{src:u(Z).banners.cleft,alt:"Cleft Lip and Palate Illustration",class:"cleft-illustration-image"},null,8,De)])])]),e("div",null,[m(S,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=v=>n.value=v),options:t,class:"assessment-component"},null,8,["modelValue"])])])]))}}),Te=P(Ne,[["__scopeId","data-v-168fdb0c"]]),Me={class:"center-content"},Le={class:"center-content"},Ue={class:"textarea-wrapper"},Ye=C({__name:"CongenitalAbnormalitiesQuestion",setup(s,{expose:a}){const o=x(),n=_({get:()=>o.hasCongenitalAbnormalities,set:l=>o.setHasCongenitalAbnormalities(l)}),t=_({get:()=>o.abnormalitiesNotes,set:l=>o.setAbnormalitiesNotes(l)});function d(){const l={};return n.value===null&&(l.abnormalitiesQuestion="The 'Other congenital abnormalities' question must be answered Yes or No.",console.error("Validation Error: Congenital Abnormalities question missing.")),n.value===!0&&t.value.trim()===""&&(l.abnormalitiesNotes="You indicated 'Yes' to abnormalities. Please provide details in the text box.",console.error("Validation Error: Abnormality details are missing.")),Object.keys(l).length>0?l:(console.log("Validation Success: Congenital Abnormalities Question passed."),null)}return a({validateForm:d}),(l,i)=>(y(),f(k,null,[e("div",Me,[m(I,{question:"Are there other congenital abnormalities?",modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=v=>n.value=v),class:"assessment-component"},null,8,["modelValue"])]),e("div",Le,[e("div",Ue,[i[2]||(i[2]=e("div",{class:"textarea-header"},"Write below.",-1)),W(e("textarea",{"onUpdate:modelValue":i[1]||(i[1]=v=>t.value=v),placeholder:"What other abnormalities can you observe...",rows:"5",class:"abnormalities-textarea assessment-component"},null,512),[[J,t.value]])])])],64))}}),Ge=P(Ye,[["__scopeId","data-v-78344226"]]),Re={class:"summary-container"},Qe={class:"summary-section"},je={class:"section-content"},ze={class:"summary-section"},We={class:"section-content"},Je={class:"summary-section"},Ke={class:"section-content"},Xe={class:"summary-section"},Ze={class:"section-content"},es={class:"question-answer"},ss={class:"answer-text"},ts={class:"question-answer"},as={class:"answer-text"},ns={class:"question-answer"},os={class:"answer-text"},ls={class:"question-answer"},is={class:"answer-text"},rs={class:"summary-section"},cs={class:"section-content"},us={class:"summary-section"},ds={class:"section-content"},ms={class:"summary-section"},vs={class:"section-content"},ps={class:"summary-section"},bs={class:"section-content"},ys={class:"summary-section"},hs={class:"section-content"},fs={class:"summary-section"},_s={class:"section-content"},As={class:"question-answer"},gs={class:"answer-text"},Vs={key:0},ws={class:"answer-text notes-text"},Cs=C({__name:"Summary",setup(s){const a=x(),o=n=>n===!0?"(yes)":n===!1?"(no)":n&&typeof n=="object"&&n.label?n.label:n&&typeof n=="string"&&n.trim()!==""?n:"(Not Assessed)";return(n,t)=>(y(),f("div",Re,[t[16]||(t[16]=e("h2",{class:"summary-title"},"Summary",-1)),e("div",Qe,[t[0]||(t[0]=e("div",{class:"section-header"},"Activity",-1)),e("div",je,b(o(u(a).activityAssessment)),1)]),e("div",ze,[t[1]||(t[1]=e("div",{class:"section-header"},"Fontanelle",-1)),e("div",We,b(o(u(a).fontanelleAssessment)),1)]),e("div",Je,[t[2]||(t[2]=e("div",{class:"section-header"},"Head (Mass in Head)",-1)),e("div",Ke,b(o(u(a).massInHeadAssessment)),1)]),e("div",Xe,[t[7]||(t[7]=e("div",{class:"section-header"},"Color",-1)),e("div",Ze,[e("div",es,[t[3]||(t[3]=e("span",{class:"question-text"},"Is the baby yellow?",-1)),e("span",ss,b(o(u(a).isBabyYellow)),1)]),e("div",ts,[t[4]||(t[4]=e("span",{class:"question-text"},"Is the baby Pallor Pink?",-1)),e("span",as,b(o(u(a).isBabyPallorPink)),1)]),e("div",ns,[t[5]||(t[5]=e("span",{class:"question-text"},"Does the baby have cyanosis?",-1)),e("span",os,b(o(u(a).hasBabyCyanosis)),1)]),e("div",ls,[t[6]||(t[6]=e("span",{class:"question-text"},"Does the baby have oedema?",-1)),e("span",is,b(o(u(a).hasBabyOedema)),1)])])]),e("div",rs,[t[8]||(t[8]=e("div",{class:"section-header"},"Capillary Refill Time (CRT)",-1)),e("div",cs,b(o(u(a).capillaryRefillTime)),1)]),e("div",us,[t[9]||(t[9]=e("div",{class:"section-header"},"Femoral Pulses",-1)),e("div",ds,b(o(u(a).femoralPulses)),1)]),e("div",ms,[t[10]||(t[10]=e("div",{class:"section-header"},"Genitalia",-1)),e("div",vs,b(o(u(a).genitaliaAssessment)),1)]),e("div",ps,[t[11]||(t[11]=e("div",{class:"section-header"},"Anus",-1)),e("div",bs,b(o(u(a).anusAssessment)),1)]),e("div",ys,[t[12]||(t[12]=e("div",{class:"section-header"},"Cleft Lip & Palate",-1)),e("div",hs,b(o(u(a).cleftAssessment)),1)]),e("div",fs,[t[15]||(t[15]=e("div",{class:"section-header"},"Other Abnormalities",-1)),e("div",_s,[e("div",As,[t[13]||(t[13]=e("span",{class:"question-text"},"Are there other congenital abnormalities?",-1)),e("span",gs,b(o(u(a).hasCongenitalAbnormalities)),1)]),u(a).hasCongenitalAbnormalities&&u(a).abnormalitiesNotes.trim()?(y(),f("div",Vs,[t[14]||(t[14]=e("span",{class:"question-text italic-text"},"Notes:",-1)),e("span",ws,b(u(a).abnormalitiesNotes),1)])):O("",!0)])])]))}}),Ps=P(Cs,[["__scopeId","data-v-03bae078"]]),xs={class:"center-content"},qs={class:"center-content"},Os=C({__name:"CardiovascularAssessment",setup(s,{expose:a}){const o=S,n=x(),t=_({get:()=>n.capillaryRefillTime,set:c=>n.setCapillaryRefillTime(c)}),d=[{label:"Less than 3 seconds",value:"normal"},{label:"3 or more seconds",value:"slow"}],l=_({get:()=>n.femoralPulses,set:c=>n.setFemoralPulses(c)}),i=[{label:"Palpable",value:"palpable"},{label:"Weak or absent",value:"weak_absent"},{label:"I am not confident feeling the femoral pulses",value:"not_confident"},{label:"Difficult to feel",value:"difficult"}];function v(){const c={};return t.value||(c.capillaryRefillTime="Capillary Refill Time assessment is required.",console.error("Validation Error: CRT assessment missing.")),l.value||(c.femoralPulses="Femoral Pulses assessment is required.",console.error("Validation Error: Femoral Pulses assessment missing.")),Object.keys(c).length>0?c:(console.log("Validation Success: Cardiovascular Assessment passed."),null)}return a({validateForm:v}),(c,r)=>(y(),f(k,null,[m(q,{text:"Capillary Refill Time (CRT)"}),r[4]||(r[4]=e("div",{class:"center-content description-box"}," Do this by pressing over the sternum for 5 seconds & release. How long does it take for skin to return to original color? ",-1)),e("div",xs,[m(u(o),{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=A=>t.value=A),options:d,class:"assessment-component"},{header:V(()=>[...r[2]||(r[2]=[w(" Select one ",-1)])]),_:1},8,["modelValue"])]),m(q,{text:"Femoral Pulses"}),r[5]||(r[5]=e("div",{class:"center-content description-box"}," Press over the center of the line at the top of the thighs ",-1)),e("div",qs,[m(u(o),{modelValue:l.value,"onUpdate:modelValue":r[1]||(r[1]=A=>l.value=A),options:i,class:"assessment-component"},{header:V(()=>[...r[3]||(r[3]=[w(" Select one ",-1)])]),_:1},8,["modelValue"])])],64))}}),Ss=P(Os,[["__scopeId","data-v-43c843d1"]]),Is={class:"center-content"},$s={class:"center-content"},Bs=C({__name:"GenitalAndAnusAssessment",setup(s,{expose:a}){const o=S,n=x(),t=_({get:()=>n.genitaliaAssessment,set:c=>n.setGenitaliaAssessment(c)}),d=[{label:"Normal Male genitalia",value:"normal_male"},{label:"Normal Female genitalia",value:"normal_female"},{label:"Abnormal Male genitalia",value:"abnormal_male"},{label:"Abnormal Female genitalia",value:"abnormal_female"},{label:"Ambiguous Genitalia (not sure)",value:"ambiguous"}],l=_({get:()=>n.anusAssessment,set:c=>n.setAnusAssessment(c)}),i=[{label:"Patent (Normal)",value:"patent"},{label:"Imperforate",value:"imperforate"},{label:"Abnormal",value:"abnormal"}];function v(){const c={};return t.value||(c.genitalia="Genitalia assessment is required.",console.error("Validation Error: Genitalia assessment missing.")),l.value||(c.anus="Anus assessment is required.",console.error("Validation Error: Anus assessment missing.")),Object.keys(c).length>0?c:(console.log("Validation Success: Genital and Anus Assessment passed."),null)}return a({validateForm:v}),(c,r)=>(y(),f(k,null,[m(q,{text:"Genitalia"}),r[4]||(r[4]=e("div",{class:"center-content description-box"}," Check the babies genitalia ",-1)),e("div",Is,[m(u(o),{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=A=>t.value=A),options:d,class:"assessment-component"},{header:V(()=>[...r[2]||(r[2]=[w(" Select one ",-1)])]),_:1},8,["modelValue"])]),m(q,{text:"Anus"}),r[5]||(r[5]=e("div",{class:"center-content description-box"}," Check the babies anus ",-1)),e("div",$s,[m(u(o),{modelValue:l.value,"onUpdate:modelValue":r[1]||(r[1]=A=>l.value=A),options:i,class:"assessment-component"},{header:V(()=>[...r[3]||(r[3]=[w(" Select one ",-1)])]),_:1},8,["modelValue"])])],64))}}),ks=P(Bs,[["__scopeId","data-v-8a076254"]]);class Hs extends D{constructor(a,o){super(a,117,o)}}class Es extends D{constructor(o,n){super(o,117,n);B(this,"physical_examination_service");B(this,"childObservation",async o=>({obs:await this.physical_examination_service.buildValueCoded(o,o)}));B(this,"computeParentObservation",async o=>({tag:o,obs:await this.physical_examination_service.buildValueCoded(o,o)}));this.physical_examination_service=new Hs(o,n)}async onSubmit(o){const n=await this.physical_examination_service.createEncounter();if(!n)throw new Error("Failed to create encounter");this.encounterID=n.encounter_id,this.saveObservationList(o)}}const Fs=async s=>{try{const a=x();if(!a.activityAssessment)throw $("Activity Assessment is required"),new Error("Activity Assessment is required");const n={activityObservation:await s.computeParentObservation("Activity")},t=await s.childObservation(a.activityAssessment.value);if(!t)throw $("Activity observations are required"),new Error("Activity observations are required");t&&(n.activityObservation.obs.child=[t]),console.log("ActivityData",n)}catch(a){throw a}},Ds=async s=>{try{const a=x();if(!a.massInHeadAssessment)throw $("Activity Assessment is required"),new Error("Activity Assessment is required");const n={fontanelleObservation:await s.computeParentObservation("Fontanelle")},t=await s.childObservation(a.fontanelleAssessment.value);if(!t)throw $("Mass in Head observations are required"),new Error("Mass in Head observations are required");t&&(n.fontanelleObservation.obs.child=[t]),console.log("FontanelleData",n);const l={massInHeadObservation:await s.computeParentObservation("Head")},i=await s.childObservation(a.massInHeadAssessment.value);if(!i)throw $("Mass in Head observations are required"),new Error("Mass in Head observations are required");i&&(l.massInHeadObservation.obs.child=[i]),console.log("MassInHeadData",l);const c={colorObservation:await s.computeParentObservation("Colour")};if(c.colorObservation.obs.child=[],a.isBabyYellow!==null&&a.isBabyYellow){const r=await s.childObservation("Yell");c.colorObservation.obs.child.push(r)}if(a.isBabyPallorPink!==null&&a.isBabyPallorPink){const r=await s.childObservation("Pink");c.colorObservation.obs.child.push(r)}if(a.hasBabyCyanosis!==null&&a.hasBabyCyanosis){const r=await s.childObservation("Blue");c.colorObservation.obs.child.push(r)}if(a.hasBabyOedema!==null&&a.hasBabyOedema){const r=await s.childObservation("White");c.colorObservation.obs.child.push(r)}console.log("ColorData",c)}catch(a){throw a}},Ns=async()=>{try{const s=U(),{patient:a}=E(s),o=Y(),{user_ID:n}=E(o),t=new Es(a.value.patientID,n);await Fs(t),await Ds(t)}catch(s){console.error("Failed to save General Examination:",s)}},js=C({__name:"GeneralExamination",setup(s){const a=[{title:"Activity Assessment",value:"1",component:$e},{title:"Head Assessment",value:"2",component:Oe},{title:"Cardiovascular Assessment",value:"3",component:Ss},{title:"Genital and Anus Assessment",value:"4",component:ks},{title:"Cleft Lip/Palate Question",value:"5",component:Te},{title:"Congenital Abnormalities Question",value:"6",component:Ge},{title:"Summary",value:"7",component:Ps}],o=F("1"),n=F(a.map((d,l)=>({title:d.title,number:l+1,checked:!1,class:l===0?"open_step common_step":"common_step",last_step:l===a.length-1?"last_step":""}))),t=d=>{d&&d.value&&n.value.forEach((l,i)=>{d.value===(i+1).toString()?(l.class="open_step common_step",l.checked=!1):i<parseInt(d.value)-1?(l.class="common_step color_white",l.checked=!0):(l.class="common_step",l.checked=!1)})};return(d,l)=>(y(),N(u(X),{class:"neonatal-enrollment-page"},{default:V(()=>[m(G),m(u(K),{fullscreen:!0},{default:V(()=>[m(ee,{wizardData:n.value,StepperData:a,stepperTitle:"General Examination",openStepper:o.value,backUrl:"/patientProfile",getSaveFunction:u(Ns),onUpdateStatus:t,"show-componet-title":!1},null,8,["wizardData","openStepper","getSaveFunction"])]),_:1})]),_:1}))}});export{js as default};
