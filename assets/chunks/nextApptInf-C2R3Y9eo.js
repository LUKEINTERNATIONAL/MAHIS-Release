import{d as C,L as y,N as h,a5 as v,a4 as w,bm as A,aP as R,aS as I,R as b,db as z,c5 as D,bG as P,aN as N,H as a,O as V,f as M,J as t,l as e,k as i,Q as l,K as p}from"./vendor-BDGIuVwJ.js";import{m as c,P as O,u as k,_ as S}from"../index-lAUB1meQ.js";import{a as x,u as B,v as $,N as G}from"./vaccines_service-CZ-otSwy.js";import{v as T}from"./voidReason-DydbAcJ6.js";import{S as j}from"./sms_service-CremovcI.js";const q=C({name:"PersonCard",components:{IonCard:I,IonCardContent:R,IonGrid:A,IonRow:w,IonCol:v,IonButton:h,IonIcon:y},data(){return{}},props:{person:{type:Object,required:!0}},setup(){return{calendarOutline:N,trashOutline:P,personCircleOutline:D,eyeOutline:z}},methods:{handleReschedule(){this.openNextVaccineAppoinment(this.person.person_id,this.person.encounter_id)},handleRemove(){this.voidAppoinment()},openNextVaccineAppoinment(o,n){c(G,{class:"otherVitalsModal"},!1,{patient_Id:o,encounter_Id:n})},async openClientProfile(o){const n=await O.findByNpid(o);await k().setPatientRecord(n[0]),this.$router.push("patientProfile")},async voidAppoinment(){await this.openVoidModal()},async openVoidModal(){const o=await b.create({component:T,cssClass:"otherVitalsModal",componentProps:{}});o.onDidDismiss().then(async n=>{if(n&&n.data)try{await $(this.person.encounter_id,n.data.name),(await j.getConfigurations()).show_sms_popup?await this.smsmodal(this.person):this.setAppointmentMentsReload()}catch(d){this.setAppointmentMentsReload()}}),await o.present()},async setAppointmentMentsReload(){const o=B();o.setAppointmentsReload(!o.getAppointmentsReload())},async smsmodal(o){(await c(x,{componentProps:{patient:o.person_id,date:o.appointmentDate},class:"smsConfirmation"})).onDidDismiss().then(async d=>{this.setAppointmentMentsReload()})}}}),E={class:"button-container"};function H(o,n,d,J,K,L){const m=a("ion-icon"),u=a("ion-button"),s=a("ion-col"),r=a("ion-row"),f=a("ion-grid"),_=a("ion-card-content"),g=a("ion-card");return M(),V(g,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(_,{style:{padding:"2px"}},{default:t(()=>[e(u,{style:{position:"absolute",top:"10px",right:"10px","--padding-start":"8px","--padding-end":"8px","--padding-top":"4px","--padding-bottom":"4px","--box-shadow":"none"},onClick:n[0]||(n[0]=Q=>o.openClientProfile(o.person.npid)),color:"primary",fill:"clear",size:"small"},{default:t(()=>[e(m,{icon:o.eyeOutline,style:{"font-size":"24px"}},null,8,["icon"])]),_:1}),e(f,null,{default:t(()=>[e(r,null,{default:t(()=>[e(s,{size:"6"},{default:t(()=>[n[1]||(n[1]=i("strong",null,"Name:",-1)),l(" "+p(o.person.name),1)]),_:1}),e(s,{size:"5"},{default:t(()=>[n[2]||(n[2]=i("strong",null,"Gender:",-1)),l(" "+p(o.person.gender),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(s,{size:"6"},{default:t(()=>[n[3]||(n[3]=i("strong",null,"Age/DOB:",-1)),l(" "+p(o.person.ageDob),1)]),_:1}),e(s,{size:"6"},{default:t(()=>[n[4]||(n[4]=i("strong",null,"Village:",-1)),l(" "+p(o.person.village),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(s,{size:"12"},{default:t(()=>[n[5]||(n[5]=i("strong",null,"Appointment Date:",-1)),l(" "+p(o.person.appointmentDate),1)]),_:1})]),_:1}),e(r,{class:"divider"},{default:t(()=>[e(s,{size:"12"},{default:t(()=>[...n[6]||(n[6]=[i("div",{class:"line"},null,-1)])]),_:1})]),_:1}),e(r,{class:"actions"},{default:t(()=>[e(s,{size:"12"},{default:t(()=>[i("div",E,[e(u,{onClick:o.handleReschedule,color:"primary",fill:"outline",size:"small"},{default:t(()=>[e(m,{icon:o.calendarOutline,slot:"start"},null,8,["icon"]),n[7]||(n[7]=l(" Reschedule ",-1))]),_:1},8,["onClick"]),e(u,{onClick:o.handleRemove,color:"danger",fill:"outline",size:"small"},{default:t(()=>[e(m,{icon:o.trashOutline,slot:"start"},null,8,["icon"]),n[8]||(n[8]=l(" Cancel ",-1))]),_:1},8,["onClick"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Z=S(q,[["render",H],["__scopeId","data-v-6257a72e"]]);export{Z as n};
