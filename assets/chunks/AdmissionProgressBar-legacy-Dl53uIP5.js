System.register(["./vendor-legacy-CL4ddJgY.js","../index-legacy-CaiYktbb.js","./neonatal_service-legacy-HERl2_Bn.js","./admissionWorkflow-legacy-BPvQ4T84.js"],function(e,a){"use strict";var t,l,s,i,o,n,c,r,d,p,v,u,m,g,A,f,N,b,x,T,y,S,E,h,I,k,O,C,L,w,M,D;return{setters:[e=>{t=e.d,l=e.ap,s=e.b2,i=e.r,o=e.c,n=e.w,c=e.a,r=e.e,d=e.f,p=e.k,v=e.i,u=e.l,m=e.K,g=e.u,A=e.fi,f=e.fj,N=e.L,b=e.v,x=e.bj,T=e.p,y=e.m,S=e.O,E=e.ba,h=e.Q,I=e.F,k=e.P,O=e.U},e=>{C=e.u,L=e.b,w=e._},e=>{M=e.N},e=>{D=e.g}],execute:function(){var a=document.createElement("style");a.textContent=".summary-wrapper[data-v-5e26ead4]{margin-bottom:16px}.summary-title[data-v-5e26ead4]{font-size:24px;font-weight:600;color:#00190e;text-align:center;margin-bottom:12px}.progress-bar-container[data-v-5e26ead4]{background:rgba(var(--ion-color-success-rgb),.1);border-radius:8px;overflow:hidden;border:2px solid color-mix(in srgb,var(--ion-color-primary) .5%,transparent)}.progress-header[data-v-5e26ead4]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#ded;cursor:pointer;user-select:none}.progress-title[data-v-5e26ead4]{font-size:14px;font-weight:500;color:#404040}.toggle-icon[data-v-5e26ead4]{font-size:24px;color:var(--ion-color-success-contrast)}.progress-content[data-v-5e26ead4]{padding:16px 20px;background:#fff}.progress-step[data-v-5e26ead4]{display:flex;gap:12px;position:relative}.progress-step.last[data-v-5e26ead4]{padding-bottom:0}.step-indicator[data-v-5e26ead4]{display:flex;flex-direction:column;align-items:center;position:relative}.step-circle[data-v-5e26ead4]{width:24px;height:24px;border-radius:50%;background:#fff;border:3px solid #8C8C8C;display:flex;align-items:center;justify-content:center;z-index:2;position:relative}.step-circle.completed[data-v-5e26ead4]{background:var(--ion-color-primary);border-color:var(--ion-color-primary)}.step-circle ion-icon[data-v-5e26ead4]{color:#fff;font-size:16px}.step-line[data-v-5e26ead4]{width:3px;flex:1;background:#8c8c8c;min-height:30px}.step-line.last-line[data-v-5e26ead4]{min-height:0}.progress-step.completed .step-line[data-v-5e26ead4]{background:var(--ion-color-primary)}.step-content[data-v-5e26ead4]{flex:1;padding-bottom:16px}.step-content.expandable[data-v-5e26ead4]{cursor:pointer}.step-title[data-v-5e26ead4]{font-size:16px;font-weight:600;color:var(--ion-color-success-contrast);margin-bottom:4px;display:flex;justify-content:space-between;align-items:center}.step-title.incomplete[data-v-5e26ead4]{color:#8c8c8c;font-weight:400}.step-title.clickable[data-v-5e26ead4]{cursor:pointer}.step-title.clickable[data-v-5e26ead4]:hover{text-decoration:underline}.step-title.disabled[data-v-5e26ead4]{color:var(--ion-color-medium);font-weight:400}.edit-link[data-v-5e26ead4]{font-size:12px;color:var(--ion-color-primary);font-weight:400;border:1px solid #DDEEDD;border-radius:5px;padding:4px 8px}.sub-steps[data-v-5e26ead4]{margin-top:8px;margin-left:8px}.sub-step[data-v-5e26ead4]{display:flex;align-items:center;gap:8px;padding:6px 0;font-size:14px;color:var(--ion-color-dark)}.sub-step.clickable[data-v-5e26ead4]{cursor:pointer}.sub-step.clickable[data-v-5e26ead4]:hover{color:var(--ion-color-primary)}.sub-step.completed[data-v-5e26ead4]{color:var(--ion-color-primary);font-weight:600;cursor:default}.bullet[data-v-5e26ead4]{font-size:20px;line-height:1}.sub-step-title[data-v-5e26ead4]{flex:1}\n/*$vite$:1*/",document.head.appendChild(a);const P={class:"summary-wrapper"},R={class:"progress-bar-container"},_={class:"progress-title"},G={class:"progress-content"},Y={class:"step-indicator"},j={key:0,class:"step-line"},z={class:"step-content"},B={class:"step-indicator"},V={key:0,class:"step-line"},U={class:"step-content"},H={class:"step-indicator"},X={class:"step-content expandable"},F={key:0,class:"edit-link"},W={class:"sub-steps"},q=["onClick"],$={class:"sub-step-title"},K={class:"step-indicator"},Q={class:"step-content"},J={class:"step-indicator"},Z={class:"step-content"},ee={class:"step-indicator"},ae={class:"step-content"},te={class:"step-indicator"},le={class:"step-content"};e("A",w(t({__name:"AdmissionProgressBar",setup(e){const a=l(),t=C(),{patient:w}=s(t),se=i(!0),ie=i(!0),oe=i([]),ne=i(["Triage","Profiling","Admission"]),ce=i([{encounterType:L.NEONATAL_SIGNS_SYMPTOMS,title:"Signs & Symptoms",route:"/neonatal/signs-symptoms",encounterNames:["NEONATAL SIGNS & SYMPTOMS","NEONATAL SIGNS SYMPTOMS"],isCompleted:!1},{encounterType:L.NEONATAL_REVIEW_OF_SYSTEMS,title:"A review of systems",route:"/neonatal/review-of-systems",encounterNames:["NEONATAL REVIEW OF SYSTEMS"],isCompleted:!1},{encounterType:L.PHYSICAL_EXAMINATION_BABY,title:"General examination",route:"/neonatal/general-examination",encounterNames:["PHYSICAL EXAMINATION BABY","NEONATAL GENERAL EXAMINATION"],isCompleted:!1},{encounterType:L.VITALS,title:"Vitals",route:"/neonatal/vitals",encounterNames:["VITALS","NEONATAL VITALS"],isCompleted:!1},{encounterType:L.NEONATAL_SYSTEMIC_EXAMINATION,title:"Systemic examination",route:"/neonatal/SystemicExamination",encounterNames:["NEONATAL SYSTEMIC EXAMINATION"],isCompleted:!1}]),re=i(!1),de=i(!1),pe=i(!1),ve=i(!1),ue=i(!1),me=i(!1),ge=o(()=>ce.value.every(e=>e.isCompleted)),Ae=o(()=>ce.value.find(e=>!e.isCompleted)),fe=e=>{var a;return!(!re.value||!de.value||e.isCompleted||(null===(a=Ae.value)||void 0===a?void 0:a.encounterType)!==e.encounterType)},Ne=e=>(null!=e?e:"").trim().toUpperCase(),be=async()=>{var e;if(null!==(e=w.value)&&void 0!==e&&e.patientID)try{const e=await M.getSavedEncounters(w.value.patientID);oe.value=Array.isArray(null==e?void 0:e.encounters)?e.encounters:[],de.value=oe.value.some(e=>"NEONATAL ENROLLMENT"===Ne(e));const a=D(oe.value,ce.value);ce.value.forEach((e,t)=>{e.isCompleted=t<a});const t=new Set(oe.value.map(e=>Ne(e))),l=e=>e.some(e=>t.has(Ne(e)));pe.value=l(["DIAGNOSIS","NEONATAL DIAGNOSIS"]),ve.value=l(["INVESTIGATION","NEONATAL INVESTIGATION","LAB ORDERS","LAB RESULTS","AHD LAB ORDERS","AHD LAB RESULTS"]),ue.value=l(["TREATMENT","NEONATAL TREATMENT PLAN"]),me.value=l(["NEONATAL ADMISSION OUTCOMES","ADMISSION OUTCOMES"]),re.value=oe.value.some(e=>"NEONATAL TRIAGE"===Ne(e))}catch(a){console.error("Error loading progress:",a)}},xe=()=>{se.value=!se.value},Te=async()=>{if(ge.value)a.push("/neonatal/checkpoint");else{if(!re.value){const e=await O.create({header:"Triage Required",message:"Please complete triage before starting admission.",buttons:[{text:"Cancel",role:"cancel"},{text:"Go to Triage",handler:()=>{a.push("/neonatal/triage")}}]});return void(await e.present())}if(!de.value){const e=await O.create({header:"Profiling Required",message:"Please complete profiling before starting admission.",buttons:[{text:"Cancel",role:"cancel"},{text:"Go to Profiling",handler:()=>{a.push("/neonatal/enrollment")}}]});return void(await e.present())}ie.value=!ie.value}};return n(()=>{var e;return null===(e=w.value)||void 0===e?void 0:e.patientID},e=>{e&&be()}),n(()=>a.currentRoute.value,()=>{be()}),c(()=>{be()}),(e,t)=>(d(),r("div",P,[t[11]||(t[11]=p("div",{class:"summary-title"},"Summary",-1)),p("div",R,[p("div",{class:"progress-header",onClick:xe},[p("span",_,m(se.value?"Hide progress bar":"Show progress bar"),1),u(g(N),{icon:se.value?g(A):g(f),class:"toggle-icon"},null,8,["icon"])]),v(p("div",G,[p("div",{class:T(["progress-step",{completed:re.value,active:!re.value}])},[p("div",Y,[p("div",{class:T(["step-circle",{completed:re.value}])},[re.value?(d(),S(g(N),{key:0,icon:g(E)},null,8,["icon"])):y("",!0)],2),ne.value.length>1?(d(),r("div",j)):y("",!0)]),p("div",z,[p("div",{class:T(["step-title",{clickable:!re.value,incomplete:!re.value}]),onClick:t[0]||(t[0]=e=>!re.value&&void a.push("/neonatal/triage"))},"Triage",2)])],2),p("div",{class:T(["progress-step",{completed:de.value,active:!de.value&&re.value}])},[p("div",B,[p("div",{class:T(["step-circle",{completed:de.value}])},[de.value?(d(),S(g(N),{key:0,icon:g(E)},null,8,["icon"])):y("",!0)],2),ne.value.length>2?(d(),r("div",V)):y("",!0)]),p("div",U,[p("div",{class:T(["step-title",{clickable:!de.value&&re.value,incomplete:!de.value}]),onClick:t[1]||(t[1]=e=>!de.value&&re.value&&void a.push("/neonatal/enrollment"))},"Profiling",2)])],2),p("div",{class:T(["progress-step",{completed:ge.value,active:!ge.value&&re.value&&de.value}])},[p("div",H,[p("div",{class:T(["step-circle",{completed:ge.value}])},[ge.value?(d(),S(g(N),{key:0,icon:g(E)},null,8,["icon"])):y("",!0)],2),t[3]||(t[3]=p("div",{class:"step-line last-line"},null,-1))]),p("div",X,[p("div",{class:T(["step-title clickable",{incomplete:!ge.value}]),onClick:Te},[t[4]||(t[4]=h(" Admission ",-1)),ie.value?y("",!0):(d(),r("span",F,"edit"))],2),v(p("div",W,[(d(!0),r(I,null,k(ce.value,e=>(d(),r("div",{key:e.encounterType,class:T(["sub-step",{completed:e.isCompleted,clickable:fe(e)}]),onClick:t=>{return fe(e)&&(l=e.route,void a.push(l));var l}},[t[5]||(t[5]=p("span",{class:"bullet"},"â€¢",-1)),p("span",$,m(e.title),1)],10,q))),128))],512),[[b,ie.value]])])],2),p("div",{class:T(["progress-step",{completed:pe.value,active:!pe.value&&ge.value}])},[p("div",K,[p("div",{class:T(["step-circle",{completed:pe.value}])},[pe.value?(d(),S(g(N),{key:0,icon:g(E)},null,8,["icon"])):y("",!0)],2),t[6]||(t[6]=p("div",{class:"step-line"},null,-1))]),p("div",Q,[p("div",{class:T(["step-title",{clickable:!pe.value&&ge.value,incomplete:!pe.value}]),onClick:t[2]||(t[2]=e=>!pe.value&&ge.value&&void a.push("/neonatal/diagnosis"))},"Diagnosis",2)])],2),p("div",{class:T(["progress-step",{completed:ve.value,active:ge.value&&!ve.value}])},[p("div",J,[p("div",{class:T(["step-circle",{completed:ve.value}])},[ve.value?(d(),S(g(N),{key:0,icon:g(E)},null,8,["icon"])):y("",!0)],2),t[7]||(t[7]=p("div",{class:"step-line"},null,-1))]),p("div",Z,[p("div",{class:T(["step-title",{incomplete:!ve.value}])},"Investigations",2)])],2),p("div",{class:T(["progress-step",{completed:ue.value,active:ge.value&&!ue.value}])},[p("div",ee,[p("div",{class:T(["step-circle",{completed:ue.value}])},[ue.value?(d(),S(g(N),{key:0,icon:g(E)},null,8,["icon"])):y("",!0)],2),t[8]||(t[8]=p("div",{class:"step-line"},null,-1))]),p("div",ae,[p("div",{class:T(["step-title",{incomplete:!ue.value}])},"Treatment Plan",2)])],2),p("div",{class:T(["progress-step",{completed:me.value,active:ge.value&&!me.value}])},[p("div",te,[p("div",{class:T(["step-circle",{completed:me.value}])},[me.value?(d(),S(g(N),{key:0,icon:g(E)},null,8,["icon"])):y("",!0)],2),t[9]||(t[9]=p("div",{class:"step-line"},null,-1))]),p("div",le,[p("div",{class:T(["step-title",{incomplete:!me.value}])},"Outcome",2)])],2),t[10]||(t[10]=x('<div class="progress-step last" data-v-5e26ead4><div class="step-indicator" data-v-5e26ead4><div class="step-circle" data-v-5e26ead4></div></div><div class="step-content" data-v-5e26ead4><div class="step-title incomplete" data-v-5e26ead4>Signoff &amp; Printout</div></div></div>',1))],512),[[b,se.value]])])]))}}),[["__scopeId","data-v-5e26ead4"]]))}}});
