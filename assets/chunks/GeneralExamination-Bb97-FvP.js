var L=Object.defineProperty;var M=(s,e,a)=>e in s?L(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a;var I=(s,e,a)=>M(s,typeof e!="symbol"?e+"":e,a);import{_ as O,u as G,a0 as Y,G as U,s as H,b2 as N,T as R}from"../index-BkhZ5sev.js";import{d as P,e as f,f as y,k as t,K as p,bl as E,m as B,l as b,j as Q,J as V,Q as C,u as d,c as A,D as j,a as z,F as q,O as T,bT as W,i as J,b8 as K,aV as X,r as F,a3 as Z,a6 as ee}from"./vendor-HuFSitED.js";import{I as se}from"./images-DopJFFEq.js";import{N as te}from"./NeonatalStepper-iABdEw4k.js";import"./lodash-NJiRuGo9.js";import"./apexcharts-H8VlRymN.js";import"./SaveProgressModal-Bdd8rYit.js";const ae={class:"header-container"},ne={class:"header-text"},oe=P({name:"gHeader",__name:"gHeader",props:{text:{type:String,required:!0}},setup(s){return(e,a)=>(y(),f("div",ae,[t("p",ne,p(s.text),1)]))}}),S=O(oe,[["__scopeId","data-v-2e4e16bf"]]),le={class:"multiselect-header-wrapper"},ie={key:0,class:"question-header"},re={class:"selection-instruction"},ue=P({name:"VueMultiselectStyledHeader",components:{VueMultiselect:E},__name:"VueMultiselectStaticList",props:{options:{type:Array,required:!0,validator:s=>s.every(e=>"label"in e&&"value"in e)},modelValue:{type:[Object,null],default:null}},emits:["update:modelValue"],setup(s,{emit:e}){const a=e,n=()=>{a("update:modelValue",null)};return(o,r)=>(y(),f("div",le,[o.$slots.header?(y(),f("div",ie,[Q(o.$slots,"header",{},void 0,!0)])):B("",!0),t("div",re,[r[1]||(r[1]=t("span",null,"Select one.",-1)),s.modelValue?(y(),f("button",{key:0,onClick:n,class:"clear-button",type:"button"}," Clear ")):B("",!0)]),b(d(E),{"model-value":s.modelValue,"onUpdate:modelValue":r[0]||(r[0]=l=>a("update:modelValue",l)),options:s.options,"track-by":"value",label:"label",searchable:!1,"allow-empty":!0,"show-labels":!1,"close-on-select":!0,class:"default-multiselect-styling"},{option:V(({option:l})=>[C(p(l.label),1)]),singleLabel:V(({option:l})=>[C(p(l.label),1)]),_:1},8,["model-value","options"])]))}}),$=O(ue,[["__scopeId","data-v-88b0d96a"]]),ce={class:"yes-no-question-card"},de={class:"question-text"},me={class:"controls-group"},be={class:"radio-group"},ve={class:"radio-label"},pe=["name","checked"],ye={class:"custom-radio"},he={key:0,viewBox:"0 0 24 24"},fe={class:"radio-label"},Ae=["name","checked"],ge={class:"custom-radio"},_e={key:0,viewBox:"0 0 24 24"},we=P({__name:"YesNoQuestion",props:{question:{type:String,required:!0},modelValue:{type:[Boolean,null],default:null},groupId:{type:String,default:""}},emits:["update:modelValue"],setup(s,{emit:e}){const a=s,n=e,o=A(()=>a.groupId||"radio-".concat(Math.random().toString(36).substr(2,9))),r=()=>{n("update:modelValue",null)};return(l,i)=>(y(),f("div",ce,[t("div",de,p(s.question),1),t("div",me,[t("div",be,[t("label",ve,[t("input",{type:"radio",name:o.value,value:!0,checked:s.modelValue===!0,onChange:i[0]||(i[0]=c=>l.$emit("update:modelValue",!0))},null,40,pe),t("span",ye,[s.modelValue===!0?(y(),f("svg",he,[...i[2]||(i[2]=[t("circle",{cx:"12",cy:"12",r:"8",fill:"#4CAF50"},null,-1),t("circle",{cx:"12",cy:"12",r:"4",fill:"white"},null,-1)])])):B("",!0)]),i[3]||(i[3]=C(" Yes ",-1))]),t("label",fe,[t("input",{type:"radio",name:o.value,value:!1,checked:s.modelValue===!1,onChange:i[1]||(i[1]=c=>l.$emit("update:modelValue",!1))},null,40,Ae),t("span",ge,[s.modelValue===!1?(y(),f("svg",_e,[...i[4]||(i[4]=[t("circle",{cx:"12",cy:"12",r:"8",fill:"#4CAF50"},null,-1),t("circle",{cx:"12",cy:"12",r:"4",fill:"white"},null,-1)])])):B("",!0)]),i[5]||(i[5]=C(" No ",-1))])]),s.modelValue!==null?(y(),f("button",{key:0,onClick:r,class:"clear-button",type:"button"}," Clear ")):B("",!0)])]))}}),k=O(we,[["__scopeId","data-v-08820887"]]),g=j("neonatalExamStore",{state:()=>({activityAssessment:null,fontanelleAssessment:null,massInHeadAssessment:null,isBabyYellow:null,isBabyPallorPink:null,hasBabyCyanosis:null,hasBabyOedema:null,cleftAssessment:null,hasCongenitalAbnormalities:null,abnormalitiesNotes:"",capillaryRefillTime:null,femoralPulses:null,genitaliaAssessment:null,anusAssessment:null}),actions:{setActivityAssessment(s){this.activityAssessment=s},setFontanelleAssessment(s){this.fontanelleAssessment=s},setMassInHeadAssessment(s){this.massInHeadAssessment=s},setIsBabyYellow(s){this.isBabyYellow=s},setIsBabyPallorPink(s){this.isBabyPallorPink=s},setHasBabyCyanosis(s){this.hasBabyCyanosis=s},setHasBabyOedema(s){this.hasBabyOedema=s},setCleftAssessment(s){this.cleftAssessment=s},setHasCongenitalAbnormalities(s){this.hasCongenitalAbnormalities=s},setAbnormalitiesNotes(s){this.abnormalitiesNotes=s},setCapillaryRefillTime(s){this.capillaryRefillTime=s},setFemoralPulses(s){this.femoralPulses=s},setGenitaliaAssessment(s){this.genitaliaAssessment=s},setAnusAssessment(s){this.anusAssessment=s},resetExamData(){this.$reset(),console.log("Neonatal Exam Data has been reset.")}},persist:!0}),Ve={class:"center-content"},Ce={class:"center-content"},Pe={class:"center-content"},Oe={class:"center-content"},Se={class:"center-content"},xe={class:"center-content"},Be=P({__name:"HeadAssessment",setup(s,{expose:e}){const a=$,n=g(),o=A({get:()=>n.fontanelleAssessment,set:v=>n.setFontanelleAssessment(v)}),r=[{label:"Flat, Not Tense (normal)",value:"Flat"},{label:"Sunken",value:"Sunk"},{label:"Bulging/Tense",value:"Bulg"}],l=A({get:()=>n.massInHeadAssessment,set:v=>n.setMassInHeadAssessment(v)}),i=[{label:"Caput",value:"caput"},{label:"Cephalohematoma",value:"cephalohematoma"},{label:"Subgalea hemorrhage",value:"subgalea"},{label:"Normal",value:"normal"}],c=A({get:()=>n.isBabyYellow,set:v=>n.setIsBabyYellow(v)}),m=A({get:()=>n.isBabyPallorPink,set:v=>n.setIsBabyPallorPink(v)}),u=A({get:()=>n.hasBabyCyanosis,set:v=>n.setHasBabyCyanosis(v)}),_=A({get:()=>n.hasBabyOedema,set:v=>n.setHasBabyOedema(v)});z(()=>{});function D(){const v={};return o.value||(v.fontanelle="Fontanelle assessment is required.",console.error("Validation Error: Fontanelle assessment missing.")),l.value||(v.massInHead="Mass in the head assessment is required.",console.error("Validation Error: Mass in Head assessment missing.")),c.value===null&&(v.isBabyYellow="The 'Is the baby yellow?' question is required.",console.error("Validation Error: Is baby yellow? missing.")),m.value===null&&(v.isBabyPallorPink="The 'Is the baby Pallor Pink?' question is required.",console.error("Validation Error: Is baby Pallor Pink? missing.")),u.value===null&&(v.hasBabyCyanosis="The 'Does the baby have cyanosis?' question is required.",console.error("Validation Error: Does baby have cyanosis? missing.")),_.value===null&&(v.hasBabyOedema="The 'Does the baby have oedema?' question is required.",console.error("Validation Error: Does baby have oedema? missing.")),Object.keys(v).length>0?v:(console.log("Validation Success: Head Assessment passed."),null)}return e({validateForm:D}),(v,h)=>(y(),f(q,null,[b(S,{text:"Fontanelle"}),t("div",Ve,[b(d(a),{modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=w=>o.value=w),options:r,class:"assessment-component"},{header:V(()=>[...h[6]||(h[6]=[C(" FEEL the fontanelle. ",-1)])]),_:1},8,["modelValue"])]),b(S,{text:"Head"}),t("div",Ce,[b(d(a),{modelValue:l.value,"onUpdate:modelValue":h[1]||(h[1]=w=>l.value=w),options:i,class:"assessment-component"},{header:V(()=>[...h[7]||(h[7]=[C(" Mass in the head. ",-1)])]),_:1},8,["modelValue"])]),b(S,{text:"Colour"}),t("div",Pe,[b(k,{question:"Is the baby yellow?",modelValue:c.value,"onUpdate:modelValue":h[2]||(h[2]=w=>c.value=w),groupId:"yellow-q",class:"assessment-component"},null,8,["modelValue"])]),t("div",Oe,[b(k,{question:"Is the baby Pallor Pink?",modelValue:m.value,"onUpdate:modelValue":h[3]||(h[3]=w=>m.value=w),groupId:"pallor-q",class:"assessment-component"},null,8,["modelValue"])]),t("div",Se,[b(k,{question:"Does the baby have cyanosis?",modelValue:u.value,"onUpdate:modelValue":h[4]||(h[4]=w=>u.value=w),groupId:"cyanosis-q",class:"assessment-component"},null,8,["modelValue"])]),t("div",xe,[b(k,{question:"Does the baby have oedema?",modelValue:_.value,"onUpdate:modelValue":h[5]||(h[5]=w=>_.value=w),groupId:"oedema-q",class:"assessment-component"},null,8,["modelValue"])])],64))}}),$e=O(Be,[["__scopeId","data-v-73bb7bb0"]]),Ie={class:"center-content"},ke=P({__name:"ActivityAssessment",setup(s,{expose:e}){const a=$,n=g(),o=A({get:()=>n.activityAssessment,set:i=>{n.setActivityAssessment(i)}}),r=[{label:"Alert, active, appropriate (normal)",value:"Alert"},{label:"Irritable, hyperalert or inconsolable",value:"Irrit"},{label:"Lethargic, quiet, decreased activity",value:"Leth"},{label:"Seizures, convulsions, or twitchings",value:"Convulsions"},{label:"Coma (unresponsive)",value:"Coma"}];function l(){const i={};return o.value||(i.activity="Activity Assessment is required. Please select an option.",console.error("Validation Error: Activity Assessment is required.")),Object.keys(i).length>0?i:(console.log("Validation Success: Activity Assessment passed."),null)}return e({validateForm:l}),(i,c)=>(y(),f("div",Ie,[(y(),T(W(d(a)),{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=m=>o.value=m),options:r,class:"multiselect-component"},{header:V(()=>[...c[1]||(c[1]=[C(" How is the babies activity? ",-1)])]),_:1},8,["modelValue"]))]))}}),qe=O(ke,[["__scopeId","data-v-9d2bba93"]]),Ee={class:"center-content"},Fe={class:"assessment-component"},He={class:"image-question-wrapper"},Ne={class:"cleft-image-container"},Te={class:"image-placeholder"},De=["src"],Le=P({name:"CleftLipPalateQuestion",components:{VueMultiselectStaticList:$},__name:"CleftLipPalateQuestion",setup(s,{expose:e}){const a=g(),n=A({get:()=>a.cleftAssessment,set:l=>{a.setCleftAssessment(l)}}),o=[{label:"Palate and lip intact (normal)",value:"Palate"},{label:"Cleft palate",value:"Cleft"},{label:"Cleft lip",value:"Lip"},{label:"Cleft lip and palate",value:"LipPalate"}];function r(){const l={};return n.value||(l.cleftAssessment="Cleft Lip and Palate assessment is required. Please select an option.",console.error("Validation Error: Cleft Lip and Palate assessment missing.")),Object.keys(l).length>0?l:(console.log("Validation Success: Cleft Lip and Palate Question passed."),null)}return e({validateForm:r}),(l,i)=>(y(),f("div",Ee,[t("div",Fe,[b(S,{text:"Cleft Lip & Palate"}),t("div",He,[i[1]||(i[1]=t("div",{class:"question-header"}," Look at the lip and palate, is it intact? ",-1)),t("div",Ne,[t("div",Te,[t("img",{src:d(se).banners.cleft,alt:"Cleft Lip and Palate Illustration",class:"cleft-illustration-image"},null,8,De)])])]),t("div",null,[b($,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=c=>n.value=c),options:o,class:"assessment-component"},null,8,["modelValue"])])])]))}}),Me=O(Le,[["__scopeId","data-v-ed0021fd"]]),Ge={class:"center-content"},Ye={class:"center-content"},Ue={class:"textarea-wrapper"},Re=P({__name:"CongenitalAbnormalitiesQuestion",setup(s,{expose:e}){const a=g(),n=A({get:()=>a.hasCongenitalAbnormalities,set:l=>a.setHasCongenitalAbnormalities(l)}),o=A({get:()=>a.abnormalitiesNotes,set:l=>a.setAbnormalitiesNotes(l)});function r(){const l={};return n.value===null&&(l.abnormalitiesQuestion="The 'Other congenital abnormalities' question must be answered Yes or No.",console.error("Validation Error: Congenital Abnormalities question missing.")),n.value===!0&&o.value.trim()===""&&(l.abnormalitiesNotes="You indicated 'Yes' to abnormalities. Please provide details in the text box.",console.error("Validation Error: Abnormality details are missing.")),Object.keys(l).length>0?l:(console.log("Validation Success: Congenital Abnormalities Question passed."),null)}return e({validateForm:r}),(l,i)=>(y(),f(q,null,[t("div",Ge,[b(k,{question:"Are there other congenital abnormalities?",modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=c=>n.value=c),class:"assessment-component"},null,8,["modelValue"])]),t("div",Ye,[t("div",Ue,[i[2]||(i[2]=t("div",{class:"textarea-header"},"Write below.",-1)),J(t("textarea",{"onUpdate:modelValue":i[1]||(i[1]=c=>o.value=c),placeholder:"What other abnormalities can you observe...",rows:"5",class:"abnormalities-textarea assessment-component"},null,512),[[K,o.value]])])])],64))}}),Qe=O(Re,[["__scopeId","data-v-65afc3b9"]]),je={class:"summary-container"},ze={class:"summary-section"},We={class:"section-content"},Je={class:"summary-section"},Ke={class:"section-content"},Xe={class:"summary-section"},Ze={class:"section-content"},es={class:"summary-section"},ss={class:"section-content"},ts={class:"question-answer"},as={class:"answer-text"},ns={class:"question-answer"},os={class:"answer-text"},ls={class:"question-answer"},is={class:"answer-text"},rs={class:"question-answer"},us={class:"answer-text"},cs={class:"summary-section"},ds={class:"section-content"},ms={class:"summary-section"},bs={class:"section-content"},vs={class:"summary-section"},ps={class:"section-content"},ys={class:"summary-section"},hs={class:"section-content"},fs={class:"summary-section"},As={class:"section-content"},gs={class:"summary-section"},_s={class:"section-content"},ws={class:"question-answer"},Vs={class:"answer-text"},Cs={key:0},Ps={class:"answer-text notes-text"},Os=P({__name:"Summary",setup(s){const e=g(),a=n=>n===!0?"(yes)":n===!1?"(no)":n&&typeof n=="object"&&n.label?n.label:n&&typeof n=="string"&&n.trim()!==""?n:"(Not Assessed)";return(n,o)=>(y(),f("div",je,[o[16]||(o[16]=t("h2",{class:"summary-title"},"Summary",-1)),t("div",ze,[o[0]||(o[0]=t("div",{class:"section-header"},"Activity",-1)),t("div",We,p(a(d(e).activityAssessment)),1)]),t("div",Je,[o[1]||(o[1]=t("div",{class:"section-header"},"Fontanelle",-1)),t("div",Ke,p(a(d(e).fontanelleAssessment)),1)]),t("div",Xe,[o[2]||(o[2]=t("div",{class:"section-header"},"Head (Mass in Head)",-1)),t("div",Ze,p(a(d(e).massInHeadAssessment)),1)]),t("div",es,[o[7]||(o[7]=t("div",{class:"section-header"},"Color",-1)),t("div",ss,[t("div",ts,[o[3]||(o[3]=t("span",{class:"question-text"},"Is the baby yellow?",-1)),t("span",as,p(a(d(e).isBabyYellow)),1)]),t("div",ns,[o[4]||(o[4]=t("span",{class:"question-text"},"Is the baby Pallor Pink?",-1)),t("span",os,p(a(d(e).isBabyPallorPink)),1)]),t("div",ls,[o[5]||(o[5]=t("span",{class:"question-text"},"Does the baby have cyanosis?",-1)),t("span",is,p(a(d(e).hasBabyCyanosis)),1)]),t("div",rs,[o[6]||(o[6]=t("span",{class:"question-text"},"Does the baby have oedema?",-1)),t("span",us,p(a(d(e).hasBabyOedema)),1)])])]),t("div",cs,[o[8]||(o[8]=t("div",{class:"section-header"},"Capillary Refill Time (CRT)",-1)),t("div",ds,p(a(d(e).capillaryRefillTime)),1)]),t("div",ms,[o[9]||(o[9]=t("div",{class:"section-header"},"Femoral Pulses",-1)),t("div",bs,p(a(d(e).femoralPulses)),1)]),t("div",vs,[o[10]||(o[10]=t("div",{class:"section-header"},"Genitalia",-1)),t("div",ps,p(a(d(e).genitaliaAssessment)),1)]),t("div",ys,[o[11]||(o[11]=t("div",{class:"section-header"},"Anus",-1)),t("div",hs,p(a(d(e).anusAssessment)),1)]),t("div",fs,[o[12]||(o[12]=t("div",{class:"section-header"},"Cleft Lip & Palate",-1)),t("div",As,p(a(d(e).cleftAssessment)),1)]),t("div",gs,[o[15]||(o[15]=t("div",{class:"section-header"},"Other Abnormalities",-1)),t("div",_s,[t("div",ws,[o[13]||(o[13]=t("span",{class:"question-text"},"Are there other congenital abnormalities?",-1)),t("span",Vs,p(a(d(e).hasCongenitalAbnormalities)),1)]),d(e).hasCongenitalAbnormalities&&d(e).abnormalitiesNotes.trim()?(y(),f("div",Cs,[o[14]||(o[14]=t("span",{class:"question-text italic-text"},"Notes:",-1)),t("span",Ps,p(d(e).abnormalitiesNotes),1)])):B("",!0)])])]))}}),Ss=O(Os,[["__scopeId","data-v-03bae078"]]),xs={class:"center-content"},Bs={class:"center-content"},$s=P({__name:"CardiovascularAssessment",setup(s,{expose:e}){const a=$,n=g(),o=A({get:()=>n.capillaryRefillTime,set:m=>n.setCapillaryRefillTime(m)}),r=[{label:"Less than 3 seconds",value:"normal"},{label:"3 or more seconds",value:"slow"}],l=A({get:()=>n.femoralPulses,set:m=>n.setFemoralPulses(m)}),i=[{label:"Palpable",value:"Present"},{label:"Weak or absent",value:"Absent"},{label:"I am not confident feeling the femoral pulses",value:"not_confident"},{label:"Difficult to feel",value:"Diff"}];function c(){const m={};return o.value||(m.capillaryRefillTime="Capillary Refill Time assessment is required.",console.error("Validation Error: CRT assessment missing.")),l.value||(m.femoralPulses="Femoral Pulses assessment is required.",console.error("Validation Error: Femoral Pulses assessment missing.")),Object.keys(m).length>0?m:(console.log("Validation Success: Cardiovascular Assessment passed."),null)}return e({validateForm:c}),(m,u)=>(y(),f(q,null,[b(S,{text:"Capillary Refill Time (CRT)"}),u[4]||(u[4]=t("div",{class:"center-content description-box"}," Do this by pressing over the sternum for 5 seconds & release. How long does it take for skin to return to original color? ",-1)),t("div",xs,[b(d(a),{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=_=>o.value=_),options:r,class:"assessment-component"},{header:V(()=>[...u[2]||(u[2]=[C(" Select one ",-1)])]),_:1},8,["modelValue"])]),b(S,{text:"Femoral Pulses"}),u[5]||(u[5]=t("div",{class:"center-content description-box"}," Press over the center of the line at the top of the thighs ",-1)),t("div",Bs,[b(d(a),{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=_=>l.value=_),options:i,class:"assessment-component"},{header:V(()=>[...u[3]||(u[3]=[C(" Select one ",-1)])]),_:1},8,["modelValue"])])],64))}}),Is=O($s,[["__scopeId","data-v-c5953ca5"]]),ks={class:"center-content"},qs={class:"center-content"},Es=P({__name:"GenitalAndAnusAssessment",setup(s,{expose:e}){const a=$,n=g(),o=A({get:()=>n.genitaliaAssessment,set:m=>n.setGenitaliaAssessment(m)}),r=[{label:"Normal Male genitalia",value:"M"},{label:"Normal Female genitalia",value:"F"},{label:"Abnormal Male genitalia",value:"AM"},{label:"Abnormal Female genitalia",value:"AF"},{label:"Ambiguous Genitalia (not sure)",value:"Amb"}],l=A({get:()=>n.anusAssessment,set:m=>n.setAnusAssessment(m)}),i=[{label:"Patent (Normal)",value:"Pat"},{label:"Imperforate",value:"Imp"},{label:"Abnormal",value:"Abn"}];function c(){const m={};return o.value||(m.genitalia="Genitalia assessment is required.",console.error("Validation Error: Genitalia assessment missing.")),l.value||(m.anus="Anus assessment is required.",console.error("Validation Error: Anus assessment missing.")),Object.keys(m).length>0?m:(console.log("Validation Success: Genital and Anus Assessment passed."),null)}return e({validateForm:c}),(m,u)=>(y(),f(q,null,[b(S,{text:"Genitalia"}),u[4]||(u[4]=t("div",{class:"center-content description-box"}," Check the babies genitalia ",-1)),t("div",ks,[b(d(a),{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=_=>o.value=_),options:r,class:"assessment-component"},{header:V(()=>[...u[2]||(u[2]=[C(" Select one ",-1)])]),_:1},8,["modelValue"])]),b(S,{text:"Anus"}),u[5]||(u[5]=t("div",{class:"center-content description-box"}," Check the babies anus ",-1)),t("div",qs,[b(d(a),{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=_=>l.value=_),options:i,class:"assessment-component"},{header:V(()=>[...u[3]||(u[3]=[C(" Select one ",-1)])]),_:1},8,["modelValue"])])],64))}}),Fs=O(Es,[["__scopeId","data-v-780a6361"]]);class Hs extends N{constructor(e,a){super(e,117,a)}}class Ns extends N{constructor(a,n){super(a,117,n);I(this,"physical_examination_service");I(this,"childObservation",async a=>await this.physical_examination_service.buildValueCoded(a,a));I(this,"computeParentObservation",async a=>({tag:a,obs:await this.physical_examination_service.buildValueCoded(a,a)}));I(this,"buildValueText",async(a,n)=>await this.physical_examination_service.buildValueText(a,n));this.physical_examination_service=new Hs(a,n)}async ensureEncounterExists(){if(this.encounterID)return;const a=await this.physical_examination_service.createEncounter();if(!a)throw new Error("Failed to create encounter");if(this.encounterID=a.encounter_id,a.patient_id!==this.patientID)throw new Error("Encounter created for the wrong patient! Context inconsistency detected.")}async onSubmit(a){await this.ensureEncounterExists(),this.saveObservationList(a)}}const x=async(s,e,a,n)=>{if(!a){const c="".concat(n," is required");throw H(c),new Error(c)}const o=await s.computeParentObservation(e),r={["".concat(e.replace(/\s/g,"").toLowerCase(),"Observation")]:o},l=await s.childObservation(a.value);if(!l){const c="".concat(n," observations are required");throw new Error(c)}const i=Object.keys(r)[0];return r[i].obs.child=[l],r},Ts=async s=>{try{const e=g(),a=await x(s,"Activity",e.activityAssessment,"Activity Assessment");await s.onSubmit([a.activityObservation.obs]),e.setActivityAssessment(null)}catch(e){throw e}},Ds=async s=>{try{const e=g(),a=await x(s,"Fontanelle",e.fontanelleAssessment,"Fontanelle Assessment");await s.onSubmit([a.fontanelleObservation.obs]),e.setFontanelleAssessment(null);const n=await x(s,"Head",e.massInHeadAssessment,"Mass in Head Assessment");await s.onSubmit([n.headObservation.obs]),e.setMassInHeadAssessment(null);const r={colorObservation:await s.computeParentObservation("Colour")};if(r.colorObservation.obs.child=[],e.isBabyYellow!==null&&e.isBabyYellow){const l=await s.childObservation("Yell");r.colorObservation.obs.child.push(l)}if(e.isBabyPallorPink!==null&&e.isBabyPallorPink){const l=await s.childObservation("Pink");r.colorObservation.obs.child.push(l)}if(e.hasBabyCyanosis!==null&&e.hasBabyCyanosis){const l=await s.childObservation("Blue");r.colorObservation.obs.child.push(l)}if(e.hasBabyOedema!==null&&e.hasBabyOedema){const l=await s.childObservation("White");r.colorObservation.obs.child.push(l)}await s.onSubmit([r.colorObservation.obs]),e.setIsBabyYellow(null),e.setIsBabyPallorPink(null),e.setHasBabyCyanosis(null),e.setHasBabyOedema(null)}catch(e){throw e}},Ls=async s=>{try{const e=g(),a=await x(s,"Femorals",e.femoralPulses,"Femoral Pulses assessment");await s.onSubmit([a.femoralsObservation.obs]),e.setFemoralPulses(null)}catch(e){throw e}},Ms=async s=>{try{const e=g(),a=await x(s,"Anus2",e.anusAssessment,"Anus assessment");await s.onSubmit([a.anus2Observation.obs]),e.setAnusAssessment(null);const n=await x(s,"Genitalia",e.genitaliaAssessment,"Genitalia assessment");await s.onSubmit([n.genitaliaObservation.obs]),e.setGenitaliaAssessment(null)}catch(e){throw e}},Gs=async s=>{try{const e=g(),a=await x(s,"Palate",e.cleftAssessment,"Cleft Lip/Palate assessment");await s.onSubmit([a.palateObservation.obs]),e.setCleftAssessment(null)}catch(e){throw e}},Ys=async s=>{try{const e=g(),n={congenitalAbnormalitiesObservation:await s.computeParentObservation("Other congenital abnormality")};if(n.congenitalAbnormalitiesObservation.obs.child=[],e.hasCongenitalAbnormalities!==null){let o=e.hasCongenitalAbnormalities?"Yes":"No";const r=await s.childObservation(o);n.congenitalAbnormalitiesObservation.obs.child.push(r)}if(e.abnormalitiesNotes!==""){const o=await s.buildValueText("Notes",e.abnormalitiesNotes);n.congenitalAbnormalitiesObservation.obs.child.push(o)}await s.onSubmit([n.congenitalAbnormalitiesObservation.obs]),e.setHasCongenitalAbnormalities(null),e.setAbnormalitiesNotes("")}catch(e){throw e}},Us=async()=>{try{const s=G(),{patient:e}=X(s),a=Y(),n=new Ns(e.value.patientID,a.user_ID);await Promise.all([Ts(n),Ds(n),Ls(n),Ms(n),Gs(n),Ys(n)]),console.log("SUCCESS: All General Examination sections saved successfully!"),U("General Examination saved successfully")}catch(s){console.error("FAILED to save General Examination:",s),H("Failed to save General Examination. Please try again.")}},Zs=P({__name:"GeneralExamination",setup(s){const e=[{title:"Activity Assessment",value:"1",component:qe},{title:"Head Assessment",value:"2",component:$e},{title:"Cardiovascular Assessment",value:"3",component:Is},{title:"Genital and Anus Assessment",value:"4",component:Fs},{title:"Cleft Lip/Palate Question",value:"5",component:Me},{title:"Congenital Abnormalities Question",value:"6",component:Qe},{title:"Summary",value:"7",component:Ss}],a=F("1"),n=F(e.map((l,i)=>({title:l.title,number:i+1,checked:!1,class:i===0?"open_step common_step":"common_step",last_step:i===e.length-1?"last_step":""}))),o=l=>{l&&l.value&&n.value.forEach((i,c)=>{l.value===(c+1).toString()?(i.class="open_step common_step",i.checked=!1):c<parseInt(l.value)-1?(i.class="common_step color_white",i.checked=!0):(i.class="common_step",i.checked=!1)})},r=l=>{const i=e.length-1;return l===i?Us:()=>Promise.resolve()};return(l,i)=>(y(),T(d(ee),{class:"neonatal-enrollment-page"},{default:V(()=>[b(R),b(d(Z),{fullscreen:!0},{default:V(()=>[b(te,{wizardData:n.value,StepperData:e,stepperTitle:"General Examination",openStepper:a.value,backUrl:"/patientProfile",getSaveFunction:r,onUpdateStatus:o,"flow-type":"enrollment","show-componet-title":!1},null,8,["wizardData","openStepper"])]),_:1})]),_:1}))}});export{Zs as default};
