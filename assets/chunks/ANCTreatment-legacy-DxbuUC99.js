System.register(["./vendor-legacy-CL4ddJgY.js","./useFormWizard-legacy-Cvpr5LYO.js","../index-legacy-CaiYktbb.js","./DemographicBar-legacy-ClBVLYcj.js","./formatServerData-legacy-gkVsT-lA.js","./dewormingStore-legacy-RiETnPgt.js","./lodash-legacy-pOOc9Efu.js","./useUserRole-legacy-DYPhRcab.js","./apexcharts-legacy-TrKVFpG0.js"],function(e,a){"use strict";var t,i,n,s,l,o,d,r,c,u,m,p,v,h,b,y,f,g,D,w,z,S,_,B,A,T,F,H,I,j,P,C,k,N,x,M,V,O,R,q,W;return{setters:[e=>{t=e.D,i=e.ew,n=e.ex,s=e.d,l=e.ap,o=e.b2,d=e.r,r=e.c,c=e.a,u=e.O,m=e.f,p=e.J,v=e.l,h=e.u,b=e.a4,y=e.k,f=e.i,g=e.bT,D=e.v,w=e.a7},e=>{z=e.u,S=e._},e=>{_=e.n,B=e.aT,A=e.u,T=e.bI,F=e.T,H=e.M,I=e.S,j=e.t,P=e.K},e=>{C=e.D},e=>{k=e.c},e=>{N=e.u,x=e.a,M=e.b,V=e.e,O=e.d,R=e.c,q=e._},null,e=>{W=e.u},null],execute:function(){i().shape({"Vitamin Amount":n().typeError("Amount of vitamin can only be a number").min(0)});const a=t("medicationDispensed",{state:()=>({iron:[{selectdData:[],isFinishBtn:!1,classDash:"",radioBtnContent:{header:{title:"Aspirin provided?",selectedValue:"",class:"bold",name:"Aspirin provided"},data:[{name:"Yes",value:"yes",colSize:"2.5"},{name:"No",value:"no",colSize:"2.5"}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Amount of daily aspirin provided until delivery",value:"",name:"Amount of daily aspirin provided",required:!0,unit:"mg",eventType:"input",alertsErrorMassage:""}]}]}},{selectdData:[],isFinishBtn:!1,sectionHeader:"",classDash:"",radioBtnContent:{header:{title:"Reason aspirin not prescribed",selectedValue:"",class:"bold",name:"aspirin not prescribed",displayNone:!0},data:[{name:"Side effects",value:"side effects",colSize:"7"},{name:"Stock-out",value:"stock-out",colSize:"7"},{name:"Gestational less than 13 weeks",value:"gestational less than 13 weeks",colSize:"7"},{name:"Allergy to medication",value:"allergy to medication",colSize:"7"},{name:"Other",value:"other",colSize:"7"}]}},{isFinishBtn:!1,sectionHeader:"",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"specify",unit:"",icon:_.editPen,value:"",name:"Specify",required:!0,eventType:"input",inputWidth:"85%"}]}]}},{selectdData:[],isFinishBtn:!1,classDash:"",radioBtnContent:{header:{title:"Iron prescribed?",selectedValue:"",class:"bold",name:"Iron prescription"},data:[{name:"Yes",value:"yes",colSize:"2.5"},{name:"No",value:"no",colSize:"2.5"}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Type of Iron supplement dosage provided",class:"bold",selectedValue:"",name:"Type of Iron supplement dosage",displayNone:!0},data:[{name:"Daily",value:"daily",labelPlacement:"start",colSize:"7",justify:"space-between"},{name:"Weekly",value:"weekly",labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Amount of Iron provided till delivery in mg",value:"",valueType:"text",unit:"mg",name:"iron Amount",required:!0,eventType:"input",alertsErrorMassage:""}]}]}},{selectdData:[],isFinishBtn:!1,sectionHeader:"",classDash:"",radioBtnContent:{header:{title:"Reason Iron was not prescribed",selectedValue:"",class:"bold",displayNone:!0,name:"Iron and folic acid not prescribed"},data:[{name:"Side effects",value:"side effects",labelPlacement:"start",colSize:"7",justify:"space-between"},{name:"Client was referred",value:"referred",labelPlacement:"start",colSize:"7",justify:"space-between"},{name:"Other",value:"other",labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"specify",unit:"",icon:_.editPen,value:"",name:"Other",required:!0,eventType:"input",inputWidth:"85%"}]}]}}],folicAcid:[{selectdData:[],isFinishBtn:!1,classDash:"",radioBtnContent:{header:{title:"Daily dose of folic acid prescribed?*",selectedValue:"",class:"bold",name:"Folic acid"},data:[{name:"Yes",value:"yes",colSize:"2.5"},{name:"No",value:"no",colSize:"2.5"}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Amount of Folic acid prescribed till delivery in mg",value:"",unit:"mg",name:"Amount of Folic acid",required:!0,valueType:"text",eventType:"input",alertsErrorMassage:""}]}]}},{selectdData:[],isFinishBtn:!1,sectionHeader:"",classDash:"",radioBtnContent:{header:{title:"Reason folic acid was not prescribed",selectedValue:"",class:"bold",displayNone:!0,name:"Iron and folic acid not prescribed"},data:[{name:"Side effects",value:"side effects",labelPlacement:"start",colSize:"7",justify:"space-between"},{name:"Client was referred",value:"referred",labelPlacement:"start",colSize:"7",justify:"space-between"},{name:"Other",value:"other",labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"specify",unit:"",icon:_.editPen,value:"",name:"Other",required:!0,eventType:"input",inputWidth:"85%"}]}]}}],vitaminA:[{selectdData:[],isFinishBtn:!1,classDash:"",radioBtnContent:{header:{title:"Vitamin A prescribed?",selectedValue:"",class:"bold",name:"Vitamin A prescription"},data:[{name:"Yes",value:"yes",colSize:"2.5"},{name:"No",value:"no",colSize:"2.5"}]}},{selectdData:[],isFinishBtn:!1,classDash:"_padding",radioBtnContent:{header:{title:"Type of Vitamin A dosage provided",selectedValue:"",class:"bold",name:"Type of Vitamin A dosage",displayNone:!0},data:[{name:"Daily",value:"daily",labelPlacement:"start",colSize:"7",justify:"space-between"},{name:"Weekly",value:"weekly",labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Amount of Vitamin prescribed till delivery in mg",value:"",unit:"mg",name:"Vitamin Amount",required:!0,valueType:"text",eventType:"input",alertsErrorMassage:""}]}]}},{selectdData:[],isFinishBtn:!1,sectionHeader:"",classDash:"_padding",radioBtnContent:{header:{title:"Reason vitamin A not prescribed",selectedValue:"",class:"bold",name:"vitamin A not prescribed",displayNone:!0},data:[{name:"Side effects",value:"side effects",labelPlacement:"start",colSize:"7",justify:"space-between"},{name:"Stock-out",value:"referred",labelPlacement:"start",colSize:"7",justify:"space-between"},{name:"Other",value:"other",labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Other (specify)",unit:"",icon:_.editPen,value:"",name:"Other",required:!0,eventType:"input",inputWidth:"85%"}]}]}}]}),actions:{setIron(e){this.iron=e},setFolicAcid(e){this.folicAcid=e},setVitaminA(e){this.vitaminA=e}}});class E extends B{constructor(e,a){super(e,25,a)}}const U={style:{width:"90vw",margin:"0 auto","margin-top":"10px"}},Y={class:"back_profile"};e("default",s({__name:"ANCTreatment",setup(e){const t=l();W();const i=A(),n=N(),s=a(),B=x(),L=M(),{patient:G}=o(i),{diagnoses:J}=o(n),{iron:K,folicAcid:$}=o(s),{ttDoses:Q,HepBCounselling:X,HepB1:Z,HepB2:ee,HepB3:ae,hepBReason:te}=o(B),{treatment:ie,malaria:ne}=o(L),se=d(!1),le=d(!1),oe=r(()=>({text:le.value?"Saving...":"Finish",icon:le.value?"hourglass-outline":"checkmark",hideText:!1,hideIcon:!1,disabled:se.value||le.value})),{onTabBeforeChange:de,currentTabIndex:re}=z();d([{title:"Diagnosis",class:"common_step",checked:!1,disabled:!1,number:1,last_step:""},{title:"Medication dispensed",class:"common_step",checked:!1,disabled:!1,number:2,last_step:""},{title:"Immunization",class:"common_step",checked:!1,disabled:!1,number:3,last_step:""},{title:"Deworming & Malaria Prophylaxis",class:"common_step",checked:!1,disabled:!1,number:4,last_step:"last_step"}]),d([{title:"Diagnosis",component:"DiagnosisTreatment",value:"1"},{title:"Medication Dispensed",component:"MedicationDispensed",value:"2"},{title:"Immunization",component:"Immunization",value:"3"},{title:"Deworming & Malaria Prophylaxis",component:"Deworming",value:"4"}]),d(!1),d(_),r(()=>T($.value,"Folic acid"));const ce=async(e,a)=>{var t;null===(t=me.value[a])||void 0===t||t.title,e%1==0&&(re.value=e)},ue=e=>{console.log("Done button change received from wizard:",e),e.newOptions.disabled&&console.log("Done button has been disabled"),e.isLastStep&&console.log("User is on the last step, done button should be visible")},me=d([{title:"Diagnosis",icon:""},{title:"Medication dispensed",icon:""},{title:"Immunization",icon:""},{title:"Deworming & Malaria Prophylaxis",icon:""}]),pe=()=>{var e;if(!me.value||0===me.value.length)return console.log("Tabs not yet initialized"),null;const a=re.value>=0&&re.value<me.value.length?re.value:0;switch(null===(e=me.value[a])||void 0===e?void 0:e.title){case"Diagnosis":return"Diagnosis";case"Medication dispensed":return"MedicationDispensed";case"Immunization":return"Immunization";case"Deworming & Malaria Prophylaxis":return"Deworming";default:return null}},ve=async()=>{if(J.value.length>0){const e=I.getUserID(),a=new E(G.value.patientID,e);if(!(await a.createEncounter()))return j("Unable to create medication dispensed encounter");if(!(await a.saveObservationList(await(async()=>[...await k(J.value)])())))return j("Unable to create medication dispensed!");P("Diagnosis saved")}};return c(async()=>{me.value=[{title:"Diagnosis",icon:""},{title:"Medication dispensed",icon:""},{title:"Immunization",icon:""},{title:"Deworming & Malaria Prophylaxis",icon:""}],await void 0,re.value=0}),(e,a)=>(m(),u(h(w),null,{default:p(()=>[v(F),v(C),v(h(b),{fullscreen:!0},{default:p(()=>[y("div",U,[v(S,{ref:"wizard",headingTitle:"Diagnosis and Treatment","vertical-tabs":"","navigable-tabs":"","scrollable-tabs":"",startIndex:0,doneButton:oe.value,"custom-tabs":me.value,beforeChange:h(de),"onComplete:wizard":a[1]||(a[1]=e=>(async()=>{ve(),t.push("contact")})()),onDoneButtonChanged:ue,onChange:ce},{default:p(()=>[y("div",null,[y("div",Y,[v(H,{name:"Back",iconSlot:"start",fill:"clear",icon:h(g),"font-weight":"600",onClick:a[0]||(a[0]=e=>{t.push("contact")})},null,8,["icon"])])]),f(y("div",null,[v(V,{ref:"diagnosisRef"},null,512)],512),[[D,"Diagnosis"==pe()]]),f(y("div",null,[v(O,{ref:"medicationDispensedRef"},null,512)],512),[[D,"MedicationDispensed"==pe()]]),f(y("div",null,[v(R,{ref:"immunizationRef"},null,512)],512),[[D,"Immunization"==pe()]]),f(y("div",null,[v(q,{ref:"dewormingRef"},null,512)],512),[[D,"Deworming"==pe()]])]),_:1},8,["doneButton","custom-tabs","beforeChange"])])]),_:1})]),_:1}))}}))}}});
