import{d as P,a as ct,r as z,e as v,f as c,k as o,l as n,J as s,Q as u,K as y,u as ue,W as Z,b9 as dt,N as J,F as B,R as L,ff as ut,H as a,O as k,aj as se,_ as R,$ as Ze,a0 as Je,P as Y,ah as $,b1 as he,G as X,E as q,ai as fe,I as Q,a3 as K,i as oe,m as w,v as ae,a4 as x,a5 as ie,bh as _e,al as ge,ak as ve,aP as be,cw as ye,aQ as De,aT as Se,bp as Ce,a6 as we,cn as Ve,M as ke,L as mt,b8 as pt,a2 as ht,be as ft,aS as Ye,bk as _t,de as gt,df as vt,dg as bt,dh as yt,cZ as Dt,dT as St,bL as Ct,p as wt}from"./vendor-BpjEhVym.js";import{k as b,_ as O,t as j,j as le,B as Ie,a0 as Vt,S as M,H as N,u as ee,l as H,m as V,G as $e,o as kt,aS as W,J as Xe,N as F,ci as It,b6 as $t,M as U,c5 as Nt,s as At,cG as Ke,P as et,Q as Mt,T as Bt,bS as Pt,br as Tt,a8 as Ot,aM as Et,aK as Ft,aX as Gt}from"../index-CeTGTpf8.js";import{D as Lt}from"./DemographicBar-mFsA0N7o.js";import{S as Ut}from"./SaveProgressModal-BpL3hZiS.js";import{S as Rt}from"./Stepper-D4-PzgJC.js";import{T as Ht}from"./useFormWizard-Ccoe3SlC.js";import{l as G}from"./lodash-NJiRuGo9.js";import{D as xe,a as Wt}from"./drug_prescription_service-BOxCLSaZ.js";import zt from"./WeightHeightChart-uT5ukh5N.js";import{w as jt,O as qt}from"./weightAndHeight-CPngyNxy.js";import{c as Ne}from"./customDatePicker-DoH4K7F1.js";import{i as ne,s as tt,j as Qt,A as Kt,N as xt}from"./vaccines_service-DTqYgimS.js";import{I as Zt}from"./barcode-qrcode-reader-CcqnDzN9.js";import{S as nt}from"./stock_service-kkZG2GZT.js";import{_ as Jt,u as me}from"./SetRelationship.vue_vue_type_script_lang-tNhnTfB3.js";import{B as st}from"./BasicForm-Bsxv-ugF.js";import{v as Yt}from"./group_validation-wGuFR_Ir.js";import{u as Xt}from"./AdministerOtherVaccinesStore-Da2Q0NkI.js";import{O as en,c as tn}from"./usePatientProfile-BY8wQBH2.js";import"./apexcharts-DMAoEdNS.js";import"./AHDWorkflow.vue_vue_type_script_setup_true_lang-DPgGuh8b.js";import"./DashBox-CRfByxGn.js";import"./LabOrdersList-D5Fson0n.js";import"./DateInputField-DYwjH0Nm.js";import"./ncd_appointment_service-D6JJ7c51.js";import"./formatServerData-CTknK62C.js";import"./RadiologyStore-CUsjVSWV.js";import"./previousComplaints-Dj4gevrh.js";import"./patient_complaints_service-TIja7WRK.js";import"./OPDOutcome-1T1Sb7sy.js";import"./LevelOfConsciousness.vue_vue_type_script_setup_true_lang-B09AZCHf.js";import"./VitalsMixin.vue_vue_type_script_lang-BUlsAKS6.js";import"./TreatmentPlan-CBIsIwbC.js";import"./patient_diagnosis_service-BD3knACE.js";import"./previousDiagnosis-C_0uHp1x.js";import"./OPDDiagnosis-DKH7GeK0.js";import"./FeatusModal-Bl5-sQzr.js";import"./BasicCard-BeY6M6SD.js";import"./PastObstreticHistoryStore-FRAFRR1B.js";import"./UpcomingFeature-CKddaV_L.js";import"./chartjs-BvZlAjP0.js";import"./sms_service-BuvPBEUt.js";import"./EIRreportsStore-C3K2RALB.js";import"./Export-BvOaGk7b.js";import"./Registration-DxQpragp.js";import"./useLocation-BO3W1yCk.js";import"./useNeonatalEnrollmentStore-3kwioDpG.js";import"./enrollment-DU-PLRUa.js";const nn={class:"flex flex-col items-center justify-center mt-6"},sn={class:"phone mt-6"},on={class:"content"},an={class:"overlay"},rn={style:{"margin-top":"20px"}},ln=P({__name:"QRCodeReader",emits:["scanresult"],setup(e,{emit:t}){ct(async()=>{_()});const i=z(void 0),r=z(!1);function d(f){i.value=f,i.value!=null&&(b().setTempScannedBatchNumber(i.value),g(i.value))}function D(f){r.value=f}const l=z(null);function _(){var f;(f=l.value)==null||f.onCanPlay()}function p(){L.dismiss()}const h=t;function g(f){h("scanresult",f),p()}return(f,m)=>(c(),v(B,null,[o("div",nn,[o("div",sn,[n(ue(Z),null,{default:s(()=>[u(y(i.value),1)]),_:1}),o("div",on,[o("div",an,[n(ue(Zt),{ref_key:"refCamera",ref:l,capture:"shoot","show-on-stream":"",onOnloading:D,onResult:d},null,512),m[0]||(m[0]=dt('<div class="focus-frame" data-v-e0d52d85></div><div class="dark-overlay top" data-v-e0d52d85></div><div class="dark-overlay bottom" data-v-e0d52d85></div><div class="dark-overlay left" data-v-e0d52d85></div><div class="dark-overlay right" data-v-e0d52d85></div>',5))])])])]),o("div",rn,[n(ue(J),{onClick:p,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"99%"}},{default:s(()=>[...m[1]||(m[1]=[u(" Cancel ",-1)])]),_:1})])],64))}}),it=O(ln,[["__scopeId","data-v-e0d52d85"]]),cn=P({name:"MyComponent",components:{IonAlert:ut},data(){return{isOpen:!1,alertButtons:[{text:"Close",role:"cancel",cssClass:"alert-danger-button"}],messageContent:"No available batches/lot numbers"}},methods:{setOpen(e){this.isOpen=e},handleDismiss(){this.setOpen(!1),this.$emit("alertClosed"),this.dismiss()},dismiss(){L.dismiss()}},mounted(){this.setOpen(!0)}});function dn(e,t,i,r,d,D){const l=a("ion-alert");return c(),k(l,{"is-open":e.isOpen,header:"Please update stock","sub-header":"",message:e.messageContent,buttons:e.alertButtons,"css-class":"my-custom-alert",onDidDismiss:e.handleDismiss},null,8,["is-open","message","buttons","onDidDismiss"])}const re=O(cn,[["render",dn],["__scopeId","data-v-cf655518"]]),un=P({components:{IonRadioGroup:Je,IonRadio:Ze,IonItem:R,IonList:se},props:{action:{type:Function,required:!0},retro:{type:Boolean,required:!0}},async mounted(){this.loadCurrentSelectedDrug()},watch:{retro:{handler(){this.checkToShow()},deep:!0}},data(){return{lotNumbers:[],selectedOption:{}}},methods:{compareWith(e,t){return e.id===t.id},handleChange(e){this.selectedOption=e.detail.value},checkIfSelected(){return G.has(this.selectedOption,"lotNumber")||this.checkDrugNameInt()==!0?!0:(j("Select a batch number!"),!1)},performAction(){this.checkIfSelected()==!0&&this.$emit("actionTriggered",this.selectedOption)},async loadCurrentSelectedDrug(){try{const t=b().getCurrentSelectedDrug();await this.formBatchList(t.drug.drug_id)}catch(e){}},async formBatchList(e){try{const i=b().getLotNumberData();i.length==0&&this.$emit("emptyList",""),i.forEach(r=>{const d={id:r.id,lotNumber:r.batch_number};this.lotNumbers.push(d)}),this.checkToShow()}catch(t){}},addUnkownLotNumberOption(){const t=b().getCurrentSelectedDrug();this.lotNumbers.push({id:t.drug.drug_id,lotNumber:"Unknown"})},checkToShow(){this.$props.retro==!0&&this.addUnkownLotNumberOption(),this.checkDrugNameInt()},checkDrugNameInt(){const t=b().getCurrentSelectedDrug();return ne(t.drug)==!0?(this.lotNumbers=[],this.lotNumbers.push({id:t.drug.drug_id,lotNumber:"Unknown"}),!0):!1}}});function mn(e,t,i,r,d,D){const l=a("ion-radio"),_=a("ion-item"),p=a("ion-radio-group"),h=a("ion-list"),g=a("ion-card"),f=a("ion-row");return c(),k(f,null,{default:s(()=>[n(g,{class:"shadowless-card",style:{width:"100%",padding:"0"}},{default:s(()=>[n(h,null,{default:s(()=>[n(p,{compareWith:e.compareWith,onIonChange:t[0]||(t[0]=m=>e.handleChange(m)),value:"start"},{default:s(()=>[(c(!0),v(B,null,Y(e.lotNumbers,m=>(c(),k(_,{key:m.id},{default:s(()=>[n(l,{value:m},{default:s(()=>[u(y(m.lotNumber),1)]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["compareWith"])]),_:1})]),_:1})]),_:1})}const ot=O(un,[["render",mn],["__scopeId","data-v-039b66ba"]]),pn=P({components:{IonContent:K,IonHeader:Q,IonItem:R,IonList:se,IonMenu:fe,IonTitle:q,IonToolbar:X,IonInput:he,BasicInputField:Ie,PreviousVitals:le,customDatePicker:Ne,lotNumberList:ot,alert:re},data(){return{iconsContent:H,showPD:!1,showDateBtns:!0,vaccineDate:"",batchNumber:"",drugName:"",currentDrug:"",is_batch_number_valid:!1,batch_number_error_message:"Enter a valid batch number",full_name:"",sessionDate:N.toStandardHisDisplayFormat(M.getSessionDate()),InnerActionBtnPropeties:{name:"Scan",show:!0,fn:()=>{V(it,{class:"otherVitalsModal qr_code_modal"},!1)},icon:"",show_icon:!1},selected_date_:"",is_a_vaccine:!0}},computed:{...$(b,["tempScannedBatchNumber"]),...$(ee,["patient"])},setup(){const e=z(null);return{childComponentRef:e,triggerChildAction:()=>{e.value&&e.value.performAction()}}},async mounted(){this.loadCurrentSelectedDrug(),this.displayUserNames();const e=b();this.showPD=e.isVaccinePassed(),this.showDateBtns=!this.showPD},props:{customSchedule:{type:[],default:[]}},watch:{batchNumber:{handler(){this.validateBatchNumber()},deep:!0},tempScannedBatchNumber:{handler(){this.tempScannedBatchNumber!=null&&(this.batchNumber=this.tempScannedBatchNumber.text,this.validateBatchNumber())}}},methods:{loadCurrentSelectedDrug(){const e=b();this.currentDrug=e.getCurrentSelectedDrug(),this.drugName=this.currentDrug.drug.drug_name,this.batchNumber=this.currentDrug.drug.vaccine_batch_number?this.currentDrug.drug.vaccine_batch_number:"",ne(this.currentDrug.drug)==!0&&(this.is_a_vaccine=!1,this.batchNumber="unknown")},showCPD(){this.showPD=!0,this.showDateBtns=!1},dismiss(){L.dismiss()},updateDate(e){this.vaccineDate=N.toStandardHisFormat(e)},saveBatchWithTodayDate(){let e=M.getSessionDate();this.saveDta(e)},saveBatch(){let e;G.isEmpty(this.vaccineDate)==!0?e=M.getSessionDate():e=this.vaccineDate,this.saveDta(e)},updateBatchNumber(e){var i;const t=e.target.value;this.batchNumber=t||((i=this.tempScannedBatchNumber)==null?void 0:i.text)||""},async ActionTriggered(e){const t={batch_number:e.lotNumber,date_administered:this.selected_date_,drug_id:this.currentDrug.drug.drug_id,drug_:this.currentDrug},i=b();i.setAdministeredVaccine(t),await tt(this.patient),i.setTempScannedBatchNumber(null),this.dismiss()},saveDta(e){this.selected_date_=e,this.triggerChildAction()},isAlphaNumeric(e){return/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/.test(e)},validateBatchNumber(){this.isAlphaNumeric(this.batchNumber)==!0&&(this.is_batch_number_valid=!1),this.isAlphaNumeric(this.batchNumber)==!1&&(this.is_batch_number_valid=!0)},updateBatchNumberByPassValue(e){this.batchNumber=e},displayUserNames(){const t=Vt().getUser(),i=t.person.names[0].given_name,r=t.person.names[0].family_name;this.full_name=i+" "+r},childAction(){},ShowAlert(){}}}),hn={class:"modal_wrapper"},fn={class:"lbl-ct"},_n={class:"client_admi"},gn={class:"client_admin_sub_x"},vn={class:"btnContent"},bn={key:0,class:"saveBtn"},yn={key:1,class:"saveBtn"};function Dn(e,t,i,r,d,D){const l=a("ion-col"),_=a("ion-label"),p=a("ion-row"),h=a("lotNumberList"),g=a("customDatePicker"),f=a("ion-icon"),m=a("ion-button");return c(),v("div",hn,[n(p,{style:{"margin-top":"10px"}},{default:s(()=>[n(l,{style:{"margin-left":"-3px"}},{default:s(()=>[...t[0]||(t[0]=[o("div",{class:"om"},"Administer Vaccine",-1)])]),_:1}),n(l,{size:"6",style:{"text-align":"right"}},{default:s(()=>[n(_,{class:"lbl-tl",style:{"font-size":"13"}},{default:s(()=>[t[1]||(t[1]=u(" Todays Date: ",-1)),o("span",fn,y(e.sessionDate),1)]),_:1})]),_:1})]),_:1}),n(p,null,{default:s(()=>[n(_,{style:{"font-weight":"600px","font-size":"20px",margin:"10px","margin-left":"0px"}},{default:s(()=>[u(y(e.drugName),1)]),_:1})]),_:1}),oe(n(p,null,{default:s(()=>[n(_,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:s(()=>[...t[2]||(t[2]=[u("Select Batch number",-1),o("span",{style:{color:"#b42318"}},"*",-1)])]),_:1})]),_:1},512),[[ae,e.is_a_vaccine]]),oe(o("div",null,[n(h,{action:e.childAction,retro:e.showPD,ref:"childComponentRef",onActionTriggered:e.ActionTriggered,onEmptyList:e.ShowAlert},null,8,["action","retro","onActionTriggered","onEmptyList"])],512),[[ae,e.is_a_vaccine]]),o("div",_n,[t[3]||(t[3]=o("span",{class:"client_admi_sub"},"Vaccination done by: ",-1)),o("span",gn,y(e.full_name),1)]),e.showPD?(c(),k(g,{key:0,onDateChange:e.updateDate},null,8,["onDateChange"])):w("",!0),o("div",vn,[e.showDateBtns?(c(),v("div",bn,[o("div",null,[n(m,{onClick:e.saveBatchWithTodayDate,class:"btnText",fill:"solid"},{default:s(()=>[t[4]||(t[4]=u(" Done today ",-1)),n(f,{slot:"end",size:"small",icon:e.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1},8,["onClick"])]),t[6]||(t[6]=o("div",{style:{"margin-bottom":"20px"}},null,-1)),o("div",null,[n(m,{class:"btnText",fill:"solid",onClick:e.showCPD},{default:s(()=>[t[5]||(t[5]=u(" Done earlier ",-1)),n(f,{slot:"end",size:"small",icon:e.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1},8,["onClick"])])])):w("",!0),e.showDateBtns?w("",!0):(c(),v("div",yn,[n(p,{"justify-content-between":""},{default:s(()=>[n(l,{size:"auto"},{default:s(()=>[n(m,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[7]||(t[7]=[u(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:1}),n(l,{size:"auto",class:"ion-text-end",style:{"margin-left":"auto"}},{default:s(()=>[n(m,{onClick:e.saveBatch,class:"btnText",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[8]||(t[8]=[u(" Save ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]))])])}const pe=O(pn,[["render",Dn],["__scopeId","data-v-58aa351e"]]),Sn=P({components:{IonRow:x,IonItem:R,IonList:se,IonRadio:Ze,IonRadioGroup:Je},data(){return{reasons:[{id:1,name:"Mistake/ Wrong Entry",type:"Mistake/ Wrong Entry"},{id:2,name:"Duplicate",type:"Duplicate"},{id:3,name:"System Error",type:"System Error"}],selectedOption:{}}},computed:{...$(ee,["patient"])},async mounted(){},props:{},methods:{compareWith(e,t){return e.id===t.id},handleChange(e){this.selectedOption=e.detail.value},dismiss(){try{L.dismiss()}catch(e){}},checkIfSelected(){return G.has(this.selectedOption,"name")==!0?!0:(j("Select a reason!"),!1)},async voidVaccine1(){if(this.checkIfSelected()==!0)try{const e=b(),t=e.getVaccineToBeVoided();await Qt(this.patient,t,this.selectedOption.name),$e("Vaccine was successfully voided!"),e.setVaccineReload(!e.getVaccineReload()),L.dismiss({voided:!0})}catch(e){}}}}),Cn={class:"saveBtn"};function wn(e,t,i,r,d,D){const l=a("ion-row"),_=a("ion-radio"),p=a("ion-item"),h=a("ion-radio-group"),g=a("ion-list"),f=a("ion-button"),m=a("ion-col");return c(),v(B,null,[n(l,{class:"centered-content"},{default:s(()=>[...t[1]||(t[1]=[o("div",{class:"text-container"},[o("div",null,"Do you want to void this vaccine?"),o("div",null,"Please specify reason for voiding this administered vaccine?")],-1)])]),_:1}),n(l,null,{default:s(()=>[n(g,{style:{width:"100%"}},{default:s(()=>[n(h,{compareWith:e.compareWith,onIonChange:t[0]||(t[0]=C=>e.handleChange(C)),value:"start"},{default:s(()=>[(c(!0),v(B,null,Y(e.reasons,C=>(c(),k(p,null,{default:s(()=>[n(_,{value:C},{default:s(()=>[u(y(C.name),1)]),_:2},1032,["value"])]),_:2},1024))),256))]),_:1},8,["compareWith"])]),_:1})]),_:1}),o("div",Cn,[n(l,{class:"ion-justify-content-between"},{default:s(()=>[n(m,{size:"auto"},{default:s(()=>[n(f,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[2]||(t[2]=[u(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:1}),n(m,{size:"auto"},{default:s(()=>[n(f,{onClick:e.voidVaccine1,class:"btnText",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[3]||(t[3]=[u(" Void ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})])],64)}const Vn=O(Sn,[["render",wn],["__scopeId","data-v-ea212a62"]]),kn=P({name:"Home",components:{IonContent:K,IonHeader:Q,IonMenuButton:Ve,IonPage:we,IonTitle:q,IonToolbar:X,IonButton:J,IonCard:Ce,IonCardContent:Se,IonCardHeader:De,IonCardSubtitle:ye,IonCardTitle:be,IonAccordion:ve,IonAccordionGroup:ge,IonItem:R,IonLabel:Z,IonModal:_e,IonCol:ie,IonRow:x,alert:re},data(){return{iconsContent:H,fowardData:{}}},computed:{},created(){},mounted(){},props:{vaccines:{type:{},default:{}},milestone_status:{type:String,default:0}},watch:{},setup(){let e=!1;return{isModalOpening:e,cleanupModal:()=>{e=!1;const i=document.querySelector(".pr_o");i&&i.remove()}}},methods:{covertToDate(e){return N.toStandardHisDisplayFormat(e)},getColorForVaccine(e){if(e.status=="administered")return"success";if(e.status!="administered")return this.milestone_status=="upcoming"?"medium":this.milestone_status=="current"?"success":"danger"},getInjectSignForVaccine(e){if(e.status=="administered")return this.iconsContent.greenInjection;if(e.status!="administered")return this.milestone_status=="upcoming"?"":this.iconsContent.fadedGreenIjection},getCheckBoxForVaccine(e){if(e.status=="administered")return this.iconsContent.improvedGreenTick;if(e.status!="administered")return this.milestone_status=="upcoming"?"":this.iconsContent.whiteCheckbox},async openAdministerVaccineModal(e){const t=document.querySelector(".pr_o");if(this.isModalOpening||t){console.log("Modal already open or opening, current state:",{isModalOpening:this.isModalOpening,modalExists:!!t});return}try{this.isModalOpening=!0;const i=b();i.setCurrentSelectedDrug(e);const r=new nt;let d;M.getPouchDbStatus()||M.getLanConnectionStatus()?d=await kt("stock",{selector:{drug_id:e.drug_id}}):d=await r.getDrugBatches(e.drug_id),i.setLotNumberData(d),this.checkIfAdminstredAndAskToVoid()||(d.length===0?ne(e)?V(pe,{class:"otherVitalsModal pr_o"}):V(re,{class:"otherVitalsModal pr_o"}):V(pe,{class:"otherVitalsModal pr_o"}))}catch(i){throw console.error("Error opening modal:",i),i}finally{this.isModalOpening=!1,console.log("Modal open process completed")}},disableVaccine(e){if(e.status!=null&&e.status=="administered")return!1;if(e.can_administer!=null&&e.can_administer==!1)return!0;if(e.can_administer!=null&&e.can_administer==!0)return!1},checkVaccineName(e){return e.replace(/Pentavalent/g,"Penta")},checkIfAdminstredAndAskToVoid(){const e=b(),t=e.getCurrentSelectedDrug();return t.drug.status=="administered"?(e.setVaccineToBeVoided(t),V(Vn,{class:"otherVitalsModal"},!1),!0):!1}}}),In={class:"vaccinesList"},$n={class:"button-content"},Nn={style:{"margin-top":"20px"}};function An(e,t,i,r,d,D){const l=a("ion-icon"),_=a("ion-button"),p=a("ion-col"),h=a("ion-row");return c(),v("div",In,[n(h,null,{default:s(()=>[n(p,null,{default:s(()=>[(c(!0),v(B,null,Y(e.vaccines,g=>(c(),k(_,{disabled:e.disableVaccine(g),class:"administerVac",key:g,onClick:f=>e.openAdministerVaccineModal(g),fill:"solid",color:e.getColorForVaccine(g),style:{background:"#ddeedd","border-radius":"8px",color:"#636363"}},{default:s(()=>[n(l,{slot:"start",icon:e.getInjectSignForVaccine(g)},null,8,["icon"]),o("div",$n,[o("div",Nn,y(e.checkVaccineName(g.drug_name)),1),o("div",null,y(e.covertToDate(g.date_administered)),1)]),n(l,{slot:"end",icon:e.getCheckBoxForVaccine(g)},null,8,["icon"])]),_:2},1032,["disabled","onClick","color"]))),128))]),_:1})]),_:1})])}const ce=O(kn,[["render",An],["__scopeId","data-v-a72ee172"]]),Mn=P({name:"Home",components:{IonIcon:mt,IonButton:J,customVaccine:ce,IonHeader:Q,IonTitle:q,IonFooter:ke,IonCol:ie,IonRow:x,IonContent:K},data(){return{iconsContent:H,vaccineHistory:[]}},setup(){return{closeCircleOutline:ht,checkmarkOutline:pt}},computed:{...$(b,["vaccineReload","vaccineSchedule"])},methods:{vaccinesGivenCount(e){const t=[];return e.antigens.forEach(i=>{i.status=="administered"&&t.push(i)}),t.length},dismiss(){L.dismiss()}}}),Bn={style:{color:"#016302"}},Pn={style:{color:"#316CBA","margin-left":"10%"}};function Tn(e,t,i,r,d,D){const l=a("ion-title"),_=a("ion-header"),p=a("ion-icon"),h=a("row"),g=a("customVaccine"),f=a("ion-content"),m=a("ion-button"),C=a("ion-col"),I=a("ion-row"),A=a("ion-footer");return c(),v(B,null,[n(_,null,{default:s(()=>[n(l,{style:{"margin-bottom":"20px"},class:"modalTitle OtherVitalsTitle"},{default:s(()=>[...t[1]||(t[1]=[u("Vaccination History",-1)])]),_:1})]),_:1}),n(f,{fullscreen:!0,class:"ion-padding"},{default:s(()=>[(c(!0),v(B,null,Y(e.vaccineSchedule.vaccine_schedule,(S,E)=>(c(),v("div",{class:"mod-ls",key:E},[n(h,null,{default:s(()=>[n(p,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),o("span",null,[t[2]||(t[2]=u(" at ",-1)),o("span",Bn,y(S.age),1)]),o("span",Pn,y(e.vaccinesGivenCount(S))+"/"+y(S.antigens.length)+" vaccine(s) given",1)]),_:2},1024),n(h,null,{default:s(()=>[n(g,{vaccines:S.antigens,milestone_status:S.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),n(A,{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(I,null,{default:s(()=>[n(C,null,{default:s(()=>[n(m,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:t[0]||(t[0]=S=>e.dismiss())},{default:s(()=>[...t[3]||(t[3]=[u(" Cancel ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})],64)}const On=O(Mn,[["render",Tn],["__scopeId","data-v-59edb4e4"]]),En=P({mixins:[Jt],components:{IonContent:K,IonHeader:Q,IonItem:R,IonList:se,IonMenu:fe,IonTitle:q,IonToolbar:X,IonInput:he,BasicInputField:Ie,BasicForm:st,PreviousVitals:le,customDatePicker:Ne,DynamicButton:Xe,IonFooter:ke},data(){return{iconsContent:H,BMI:{},BPStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1},showPD:!1,initialSeriousData:[],initialFirstDecisionData:[],initialOutcomeData:[]}},props:{protectedStatus:String,lastVaccinesGiven:Array},watch:{personInformation:{async handler(){await this.setRelationShip()},deep:!0}},computed:{...$(ee,["patient"]),...$(me,["changeGuardianInfo","vaccineAdverseEffects","protectedAtBirth","serious","outcome","firstDecision"]),guardianFirstname(){return F(this.changeGuardianInfo,"guardianFirstname","value")},guardianLastname(){return F(this.changeGuardianInfo,"guardianLastname","value")},guardianMiddleName(){return F(this.changeGuardianInfo,"guardianMiddleName","value")},guardianPhoneNumber(){return F(this.changeGuardianInfo,"guardianPhoneNumber","value")},relationship(){return F(this.changeGuardianInfo,"relationship","value")}},async mounted(){await this.setupData()},setup(){return{checkmark:Ye,pulseOutline:ft}},methods:{async setupData(){var i,r,d,D,l,_,p,h,g,f;const e=me();this.initialSeriousData=e.getInitialSerious(),this.initialFirstDecisionData=e.getInitialFirstDecision(),this.initialOutcomeData=e.getInitialOutcome();const t=await Nt.getRelationships(this.patient.patientID);(t==null?void 0:t.length)>0&&(U(this.changeGuardianInfo,"guardianNationalID","value",this.setAttribute("Regiment ID",(i=t[0])==null?void 0:i.relation)),U(this.changeGuardianInfo,"guardianFirstname","value",(d=(r=t[0])==null?void 0:r.relation.names[0])==null?void 0:d.given_name),U(this.changeGuardianInfo,"guardianLastname","value",(l=(D=t[0])==null?void 0:D.relation.names[0])==null?void 0:l.family_name),U(this.changeGuardianInfo,"guardianMiddleName","value",(p=(_=t[0])==null?void 0:_.relation.names[0])==null?void 0:p.middle_name),U(this.changeGuardianInfo,"guardianPhoneNumber","value",this.setAttribute("Cell Phone Number",(h=t[0])==null?void 0:h.relation)),U(this.changeGuardianInfo,"relationship","value",{id:(g=t[0])==null?void 0:g.type.relationship_type_id,name:(f=t[0])==null?void 0:f.type.b_is_to_a}),await this.setRelationShip()),this.resetData()},async setRelationShip(){this.gender?(await this.getRelationships(),U(this.changeGuardianInfo,"relationship","displayNone",!1),U(this.changeGuardianInfo,"relationship","multiSelectData",this.relationships)):U(this.changeGuardianInfo,"relationship","displayNone",!0)},setAttribute(e,t){if(!t||Object.keys(t).length===0)return;let i=t.person_attributes.find(r=>r.type.name==e);if(i!=null)return i.value},resetData(){const e=me();e.setProtectedAtBirth(e.getInitialProtectedAtBirth()),e.setVaccineAdverseEffects(e.getInitialVaccineAdverseEffects())},async createGuardian(){const e=await this.guardianData();if(Yt(this.changeGuardianInfo)){const t=new It;await t.registerGuardian(e);const i=t.getPersonID(),r=F(this.changeGuardianInfo,"relationship","value").id;return r&&await $t.createRelation(this.patient.patientID,i,r),$e("Guarding information save successfully",3e3),!0}else return j("Guarding Information not save",3e3),!1},async saveData(){const e=await this.createGuardian(),t=await this.saveVaccineAdverseEffects();e&&t&&L.dismiss()},async saveVaccineAdverseEffects(){if(this.patient.patientID){const e=F(this.outcome,"Date of death","value")||N.sessionDate(),t=await this.formatCheckBoxData(this.serious,N.sessionDate(),this.lastVaccinesGiven),i=await this.formatRadioButtonData(this.outcome,e,this.lastVaccinesGiven),r=await this.formatCheckBoxData(this.vaccineAdverseEffects,N.sessionDate(),this.lastVaccinesGiven),d=F(this.firstDecision,"Investigation needed","value");let D=[];return d&&(D=[{concept_id:11887,value_text:d,obs_datetime:N.sessionDate()}]),[...t,...i,...r,...D].filter(l=>l!==void 0),M.getUserID(),r.length>0?!0:(j("Vaccine adverse effects not saved",1500),!1)}},async formatCheckBoxData(e,t=W.getSessionDate(),i){return Array.isArray(e)?(await Promise.all(e.map(async d=>{var l,_;if(!((_=(l=d==null?void 0:d.checkboxBtnContent)==null?void 0:l.data)!=null&&_.length))return[];const D=d.checkboxBtnContent.data.map(async p=>{if(!(p!=null&&p.checked)||p!=null&&p.buildConceptIgnore)return null;try{const h=await W.getConceptID(p.value,!0),g=await W.getConceptID(d.checkboxBtnContent.header.name,!0);if(t=F(e,p.name+" date","value")||t,!h||!g)return null;const m={concept_id:g,value_coded:h,obs_datetime:t};if(i.length>0){const C=i.map(I=>({concept_id:h,value_coded:I.drug_id,obs_datetime:t}));return{...m,child:C}}return m}catch(h){return console.error("Error processing checkbox data:",h),null}});return(await Promise.all(D)).filter(Boolean)}))).flat().filter(Boolean):[]},async formatRadioButtonData(e,t=W.getSessionDate(),i){const r=e.map(async d=>{if(d&&d.radioBtnContent&&d.radioBtnContent.header&&d.radioBtnContent.header.selectedValue){const D=await W.getConceptID(d.radioBtnContent.header.selectedValue,!0),l=await W.getConceptID(d.radioBtnContent.header.name,!0),_=t||W.getSessionDate(),p=i.map(h=>({concept_id:D,value_coded:h.drug_id,obs_datetime:_}));return i?{concept_id:l,value_coded:D,obs_datetime:_,child:p}:{concept_id:l,value_coded:D,obs_datetime:_}}else return null});return(await Promise.all(r)).filter(d=>d!==null)},async guardianData(){return{person_id:this.patient.patientID,given_name:this.guardianFirstname,family_name:this.guardianLastname,middle_name:this.guardianMiddleName,gender:"",birthdate:"",cell_phone_number:this.guardianPhoneNumber,birthdate_estimated:!1,home_district:"",home_traditional_authority:"",home_village:"",current_district:"",current_traditional_authority:"",current_village:"",landmark:"",occupation:"",facility_name:"",patient_type:"",national_id:F(this.changeGuardianInfo,"guardianNationalID","value")}},async handleInputData(e){},dismiss(){L.dismiss()}}}),Fn={class:""},Gn={class:"ion-padding",slot:"content",style:{"padding-bottom":"200px"}},Ln={class:""},Un={class:"ion-padding",slot:"content"},Rn={slot:"content"},Hn={slot:"content"},Wn={slot:"content"},zn={slot:"content"},jn={class:"ion-padding",slot:"content",style:{"padding-bottom":"120px"}};function qn(e,t,i,r,d,D){const l=a("ion-title"),_=a("ion-icon"),p=a("ion-header"),h=a("ion-label"),g=a("ion-item"),f=a("basic-form"),m=a("ion-accordion"),C=a("ion-accordion-group"),I=a("ion-content"),A=a("DynamicButton"),S=a("ion-col"),E=a("ion-row"),te=a("ion-footer");return c(),v(B,null,[n(p,{style:{display:"flex","justify-content":"space-between"}},{default:s(()=>[n(l,{class:"modalTitle"},{default:s(()=>[...t[2]||(t[2]=[u("Follow up visits",-1)])]),_:1}),n(_,{onClick:t[0]||(t[0]=de=>e.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:e.iconsContent.cancel},null,8,["icon"])]),_:1}),n(I,{fullscreen:!0,class:"ion-padding",style:{"--background":"#fff"}},{default:s(()=>[o("div",Fn,[n(C,{ref:"accordionGroup",class:""},{default:s(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(g,{slot:"header",color:"light"},{default:s(()=>[n(h,{class:"previousLabel"},{default:s(()=>[...t[3]||(t[3]=[u("Change Guardian",-1)])]),_:1})]),_:1}),o("div",Gn,[o("div",Ln,[n(f,{contentData:e.changeGuardianInfo,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])])]),_:1}),n(m,{value:"second","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(g,{slot:"header",color:"light"},{default:s(()=>[n(h,{class:"previousLabel"},{default:s(()=>[...t[4]||(t[4]=[u("Vaccine adverse effects",-1)])]),_:1})]),_:1}),o("div",Un,[o("div",null,[o("div",Rn,[n(f,{contentData:e.vaccineAdverseEffects,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])]),o("div",null,[o("div",Hn,[n(f,{contentData:e.serious,initialData:e.initialSeriousData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])]),o("div",null,[o("div",Wn,[n(f,{contentData:e.outcome,initialData:e.initialOutcomeData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])]),o("div",null,[o("div",zn,[n(f,{contentData:e.firstDecision,initialData:e.initialFirstDecisionData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue"])])])])]),_:1}),e.protectedStatus!="Yes"?(c(),k(m,{key:0,value:"third","toggle-icon-slot":"start",class:"custom_card"},{default:s(()=>[n(g,{slot:"header",color:"light"},{default:s(()=>[n(h,{class:"previousLabel"},{default:s(()=>[...t[5]||(t[5]=[u("Child protected at birth",-1)])]),_:1})]),_:1}),o("div",jn,[n(f,{contentData:e.protectedAtBirth,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])]),_:1})):w("",!0)]),_:1},512)])]),_:1}),n(te,{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(E,null,{default:s(()=>[n(S,null,{default:s(()=>[n(A,{onClick:t[1]||(t[1]=de=>e.saveData()),name:"Save",fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})],64)}const Qn=O(En,[["render",qn],["__scopeId","data-v-4497bb3f"]]),Kn=P({components:{IonContent:K,IonHeader:Q,IonItem:R,IonList:se,IonMenu:fe,IonTitle:q,IonToolbar:X,IonInput:he,BasicInputField:Ie,BasicForm:st,PreviousVitals:le,customDatePicker:Ne,IonCol:ie,IonRow:x,VueMultiselect:_t,IonLabel:Z,lotNumberList:ot},data(){const e=z(0),t=z([]);return{iconsContent:H,showPD:!1,batchNumber:"",vaccineName:"",currentDrugOb:{},comp_key:e,otherVaccinesList:t,is_batch_number_valid:!1,vaccineDate:"",is_vaccine_name_valid:!1,drugErrMsg:"",batch_number_error_message:"Enter a valid batch number",vaccine_name_error_message:"Enter a valid valid vaccine name",sessionDate:N.toStandardHisDisplayFormat(M.getSessionDate()),InnerActionBtnPropeties:{name:"Scan",show:!0,fn:()=>{V(it,{class:"otherVitalsModal qr_code_modal"},!1)},icon:"",show_icon:!1},showDateBtns:!0,selected_date_:"",show_select_batch:!1,skip_validation:!1,antigens:t}},computed:{...$(Xt,["administerOtherVaccine"]),...$(b,["tempScannedBatchNumber","vaccineSchedule"]),...$(ee,["patient"])},async mounted(){this.vaccineSchedule.vaccine_schedule.forEach(e=>{this.antigens.push(...e.antigens)})},watch:{batchNumber:{handler(){this.validateBatchNumber()},deep:!0},tempScannedBatchNumber:{handler(){this.tempScannedBatchNumber!=null&&(this.batchNumber=this.tempScannedBatchNumber.text,this.validateBatchNumber())}},vaccineName:{handler(){this.validateVaccineName()}}},setup(){const e=z(null);return{childComponentRef:e,triggerChildAction:()=>{e.value&&e.value.performAction()}}},methods:{showCPD(){this.showPD=!0,this.showDateBtns=!1},updateBatchNumber(e){var i;const t=e.target.value;this.batchNumber=t||((i=this.tempScannedBatchNumber)==null?void 0:i.text)||""},saveBatchWithTodayDate(){let e=M.getSessionDate();this.saveDta(e)},dismiss(){L.dismiss()},saveBatch(){let e;G.isEmpty(this.vaccineDate)==!0?e=M.getSessionDate():e=this.vaccineDate,this.saveDta(e)},validateVaccineName(){if(G.isEmpty(this.vaccineName)==!0)return this.is_vaccine_name_valid=!0,!1;if(G.isEmpty(this.vaccineName)==!1)return this.is_vaccine_name_valid=!1,!0},updateVaccineName(e){this.currentDrugOb=e,console.log(this.currentDrugOb),b().setCurrentSelectedDrug(e),this.pullLotNumbersForVaccine(this.currentDrugOb)},async pullLotNumbersForVaccine(e){this.show_select_batch=!1;const t=b(),r=await new nt().getDrugBatches(e.drug_id);t.setLotNumberData(r),r.length==0&&(ne(e)==!1&&V(re,{class:"otherVitalsModal"}),ne(e)==!0&&(this.show_select_batch=!1,this.skip_validation=!0)),r.length>0&&(this.comp_key=this.comp_key+1,this.show_select_batch=!0)},isAlphaNumeric(e){return/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/.test(e)},validateBatchNumber(){this.isAlphaNumeric(this.batchNumber)==!0&&(this.is_batch_number_valid=!1),this.isAlphaNumeric(this.batchNumber)==!1&&(this.is_batch_number_valid=!0)},updateBatchNumberByPassValue(e){this.batchNumber=e},ActionTriggered(e){const t={batch_number:e.lotNumber,date_administered:this.selected_date_,drug_id:this.currentDrugOb.drug_id,drug_:this.currentDrugOb},i=b();i.setAdministeredVaccine(t),tt(this.patient),i.setTempScannedBatchNumber(null),this.dismiss()},saveDta(e){this.validateVaccineName()==!0&&(this.selected_date_=e,this.triggerChildAction(),this.show_select_batch==!1&&this.skip_validation==!1&&At("Please Update Stock for Selected Vaccine"))},childAction(){}}}),xn={class:"modal_wrapper"},Zn={class:"lbl-ct"},Jn={style:{"margin-top":"30px"}},Yn={class:"btnContent"},Xn={key:0,class:"saveBtn"},es={key:1,class:"saveBtn"};function ts(e,t,i,r,d,D){const l=a("ion-col"),_=a("ion-label"),p=a("ion-row"),h=a("VueMultiselect"),g=a("lotNumberList"),f=a("customDatePicker"),m=a("ion-icon"),C=a("ion-button");return c(),v("div",xn,[n(p,{style:{"margin-top":"10px"}},{default:s(()=>[n(l,{style:{"margin-left":"-3px"}},{default:s(()=>[...t[3]||(t[3]=[o("div",{class:"om"},"Add Other Vaccine",-1)])]),_:1}),n(l,{size:"6",style:{"text-align":"right"}},{default:s(()=>[n(_,{class:"lbl-tl",style:{"font-size":"13"}},{default:s(()=>[t[4]||(t[4]=u(" Todays Date: ",-1)),o("span",Zn,y(e.sessionDate),1)]),_:1})]),_:1})]),_:1}),o("div",Jn,[n(p,null,{default:s(()=>[n(_,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:s(()=>[...t[5]||(t[5]=[u("Vaccine name",-1),o("span",{style:{color:"#b42318"}},"*",-1)])]),_:1})]),_:1}),n(h,{modelValue:e.vaccineName,"onUpdate:modelValue":[t[0]||(t[0]=I=>e.vaccineName=I),t[1]||(t[1]=I=>e.updateVaccineName(I))],multiple:!1,taggable:!1,"hide-selected":!1,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"select vaccine",placeholder:"select vaccine",selectLabel:"",label:"drug_name",searchable:!0,onSearchChange:t[2]||(t[2]=I=>e.$emit("search-change",I)),"track-by":"drug_id",options:e.otherVaccinesList},null,8,["modelValue","options"]),o("div",null,[e.is_vaccine_name_valid?(c(),k(_,{key:0,style:{padding:"3%"},class:"error-label"},{default:s(()=>[u(y(e.vaccine_name_error_message),1)]),_:1})):w("",!0)])]),oe(n(p,null,{default:s(()=>[n(_,{style:{margin:"10px","margin-left":"0px","margin-top":"0px",color:"grey"}},{default:s(()=>[...t[6]||(t[6]=[u("Batch numbers",-1),o("span",{style:{color:"#b42318"}},"*",-1)])]),_:1})]),_:1},512),[[ae,e.show_select_batch]]),oe(o("div",null,[(c(),k(g,{action:e.childAction,retro:e.showPD,ref:"childComponentRef",onActionTriggered:e.ActionTriggered,key:e.comp_key},null,8,["action","retro","onActionTriggered"]))],512),[[ae,e.show_select_batch]]),e.showPD?(c(),k(f,{key:0})):w("",!0),o("div",Yn,[e.showDateBtns?(c(),v("div",Xn,[o("div",null,[n(C,{onClick:e.saveBatchWithTodayDate,class:"btnText",fill:"solid"},{default:s(()=>[t[7]||(t[7]=u(" Done today ",-1)),n(m,{slot:"end",size:"small",icon:e.iconsContent.calenderwithPlus},null,8,["icon"])]),_:1},8,["onClick"])]),t[9]||(t[9]=o("div",{style:{"margin-bottom":"20px"}},null,-1)),o("div",null,[n(C,{class:"btnText",fill:"solid",onClick:e.showCPD},{default:s(()=>[t[8]||(t[8]=u(" Done earlier ",-1)),n(m,{slot:"end",size:"small",icon:e.iconsContent.calenderWithPenEdit},null,8,["icon"])]),_:1},8,["onClick"])])])):w("",!0),e.showDateBtns?w("",!0):(c(),v("div",es,[n(p,{class:"ion-justify-content-between"},{default:s(()=>[n(l,{size:"auto"},{default:s(()=>[n(C,{onClick:e.dismiss,id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[10]||(t[10]=[u(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:1}),n(l,{size:"auto"},{default:s(()=>[n(C,{onClick:e.saveBatch,class:"btnText",fill:"solid",style:{width:"130px"}},{default:s(()=>[...t[11]||(t[11]=[u(" Save ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]))])])}const at=O(Kn,[["render",ts],["__scopeId","data-v-eb04f444"]]),ns=P({name:"xxxComponent",components:{Carousel:yt,Slide:bt,Pagination:vt,Navigation:gt,customVaccine:ce,IonButton:J,IonCol:ie,IonRow:x,IonLabel:Z},data(){return{vaccine_schArray:[],vaccineSchudulesCount:0,milestones:[],iconsContent:H,showCurrentMilestoneAlert:!1,landingSlide:0,msg:"Upcoming Vaccines",current_milestone:"",componentKey:0}},computed:{...$(b,["vaccineReload"]),...$(ee,["patient"])},async mounted(){await this.loadVaccineSchedule()},watch:{vaccineReload:{async handler(){await this.loadVaccineSchedule()},deep:!0},patient:{async handler(){await this.loadVaccineSchedule()},deep:!0},vaccine_schArray:{handler(){this.reloadVaccines()}}},methods:{openAdministerOtherVaccineModal(){V(at,{class:"otherVitalsModal"})},async loadVaccineSchedule(){var r,d,D,l,_,p,h,g,f;await this.setAppointmentDate();const e=this.patient.vaccineSchedule,t=b();t.setVaccineSchedule(e),t.setLastVaccinesGiven([]),this.vaccineSchudulesCount=(d=(r=t.getVaccineSchedule())==null?void 0:r.vaccine_schedule)==null?void 0:d.length,t.resetMissedVaccineSchedules(),this.vaccine_schArray=[],this.vaccine_schArray.push((D=t.getVaccineSchedule())==null?void 0:D.vaccine_schedule),(_=(l=t.getVaccineSchedule())==null?void 0:l.vaccine_schedule)==null||_.forEach(m=>{this.findMissingVaccines(m),this.findPreviouslyAdministeredVaccineSchedule(m),this.handleSchedule(m);const C={visit:m.visit,age:m.age};this.milestones=this.appendUniqueObject(this.milestones,C)});let i=!1;(h=(p=t.getVaccineSchedule())==null?void 0:p.vaccine_schedule)==null||h.forEach(m=>{if(!i&&this.findSingleUpcomingMilestone(m)==!0){i=!0;return}}),(f=(g=t.getVaccineSchedule())==null?void 0:g.vaccine_schedule)==null||f.forEach(m=>{this.findCurrentMilestone(m)})},setSB(e){const t=b();t.setCurrentMilestoneToAdminister({currentMilestone:e.age}),this.landingSlide=e.visit-1,this.current_milestone=e.age,t.setCurrentMilestone(e.age)},handleSchedule(e){e.milestone_status=="upcoming"?(b().setCurrentSchedFound(!1),this.msg="Upcoming Vaccines",this.showCurrentMilestoneAlert=!0,this.setSB(e)):(this.setSB(e),b().setCurrentSchedFound(!1))},findSingleUpcomingMilestone(e){return e.milestone_status=="upcoming"?(this.setSB(e),!0):!1},findCurrentMilestone(e){e.milestone_status=="current"&&(this.msg="Vaccines due today",b().setCurrentSchedFound(!0),this.showCurrentMilestoneAlert=!0,this.setSB(e))},slideEvent(e){const t=b(),i=t.getCurrentMilestoneToAdminister();this.milestones.forEach(d=>{d.visit-1==e.currentSlideIndex&&(t.setCurrentMilestone(d.age),this.current_milestone=d.age)});const r=t.getCurrentMilestone();if(r==i.currentMilestone){t.getCurrentSchedFound()==!1&&(this.msg="Upcoming Vaccines"),t.getCurrentSchedFound()==!0&&(this.msg="Vaccines due today"),this.showCurrentMilestoneAlert=!0;return}r.age!=i.currentMilestone&&(this.showCurrentMilestoneAlert=!1)},appendUniqueObject(e,t){return e.some(r=>r.visit===t.visit&&r.age===t.age)||e.push(t),e},isListEmpty(e){if(e.length>0)return!0;if(e.length==0)return!1},findMissingVaccines(e){const t={age:e.age,antigens:[]};e.milestone_status=="passed"&&e.antigens.forEach(r=>{r.status=="pending"&&t.antigens.push(r)});const i=b();t.antigens.length>0&&i.setMissedVaccineSchedules(t)},findPreviouslyAdministeredVaccineSchedule(e){const t=[];e.antigens.forEach(i=>{i.status=="administered"&&t.push(i)}),t.length>0&&b().setLastVaccinesGiven(t)},reloadVaccines(){this.componentKey+=1},openNextVaccineAppoinment(){V(xt,{class:"otherVitalsModal"},!1)},async setAppointmentDate(){const e=b(),i=await new Kt().getNextAppointment();i!=null&&i.next_appointment_date&&e.setNextAppointMentDate(i.next_appointment_date)}}}),ss={key:0,class:"alert_banner"},is={key:1,class:"alert_banner",style:{background:"inherit"}},os={class:"container"},as={class:"center-content"},rs={class:"centerBtns"},ls={class:"otherVaccine center-content"},cs={class:"centerBtns"};function ds(e,t,i,r,d,D){const l=a("apan"),_=a("customVaccine"),p=a("ion-button"),h=a("ion-row"),g=a("slide"),f=a("navigation"),m=a("pagination"),C=a("carousel");return c(),v(B,null,[e.showCurrentMilestoneAlert?(c(),v("div",ss,[n(l,null,{default:s(()=>[u(y(e.msg),1)]),_:1})])):w("",!0),e.showCurrentMilestoneAlert?w("",!0):(c(),v("div",is)),e.vaccineSchudulesCount>0?(c(),k(C,{key:2,"items-to-show":1,modelValue:e.landingSlide,onSlideEnd:e.slideEvent},{addons:s(()=>[n(f),n(m)]),default:s(()=>[(c(!0),v(B,null,Y(e.vaccineSchudulesCount,(I,A)=>(c(),k(g,{key:I},{default:s(()=>[n(h,{class:""},{default:s(()=>[o("div",os,[(c(),k(_,{vaccines:e.vaccine_schArray[0][A].antigens,milestone_status:e.vaccine_schArray[0][A].milestone_status,key:e.componentKey},null,8,["vaccines","milestone_status"]))]),n(h,{class:"bottom-row"},{default:s(()=>[o("div",as,[o("div",rs,[n(p,{onClick:t[0]||(t[0]=S=>e.openNextVaccineAppoinment()),class:"btnText",fill:"solid"},{default:s(()=>[...t[1]||(t[1]=[u("Set Next Appointment Date",-1)])]),_:1})])])]),_:1})]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue","onSlideEnd"])):w("",!0),n(h,{class:"bottom-row"},{default:s(()=>[o("div",ls,[o("div",cs,[n(p,{onClick:e.openAdministerOtherVaccineModal,class:"btnText",fill:"solid"},{default:s(()=>[...t[2]||(t[2]=[u(" Add Other Vaccines ",-1)])]),_:1},8,["onClick"])])])]),_:1})],64)}const us=O(ns,[["render",ds],["__scopeId","data-v-2fd0d538"]]),ms=P({name:"Home",components:{IonHeader:Q,IonMenuButton:Ve,IonPage:we,IonTitle:q,IonToolbar:X,IonButton:J,IonCard:Ce,IonCardContent:Se,IonCardHeader:De,IonCardSubtitle:ye,IonCardTitle:be,IonAccordion:ve,IonAccordionGroup:ge,IonItem:R,IonLabel:Z,IonModal:_e,IonRow:x,customVaccine:ce,IonCol:ie,IonFooter:ke,IonContent:K},data(){return{iconsContent:H}},computed:{...$(b,["currentMilestone","missedVaccineSchedules"])},methods:{vaccinesGivenCount(e){const t=[];return e.antigens.forEach(i=>{i.status=="administered"&&t.push(i)}),t.length},dismiss(){L.dismiss()}}}),ps={style:{color:"#016302"}},hs={style:{color:"#316CBA","margin-left":"10%"}};function fs(e,t,i,r,d,D){const l=a("ion-title"),_=a("ion-header"),p=a("ion-icon"),h=a("row"),g=a("customVaccine"),f=a("ion-content"),m=a("ion-button"),C=a("ion-col"),I=a("ion-row"),A=a("ion-footer");return c(),v(B,null,[n(_,null,{default:s(()=>[n(l,{style:{"margin-bottom":"20px"},class:"modalTitle"},{default:s(()=>[...t[1]||(t[1]=[u("Missed Vaccines",-1)])]),_:1})]),_:1}),n(f,{fullscreen:!0,class:"ion-padding"},{default:s(()=>[(c(!0),v(B,null,Y(e.missedVaccineSchedules,(S,E)=>(c(),v("div",{key:E},[n(h,{style:{width:"90%"}},{default:s(()=>[n(p,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),o("span",null,[t[2]||(t[2]=u(" at ",-1)),o("span",ps,y(S.age),1)]),o("span",hs,y(e.vaccinesGivenCount(S))+"/"+y(S.antigens.length)+" vaccine(s) given",1)]),_:2},1024),n(h,{style:{"text-align":"center"},class:"mod-ls"},{default:s(()=>[n(g,{vaccines:S.antigens,milestone_status:S.milestone_status},null,8,["vaccines","milestone_status"])]),_:2},1024)]))),128))]),_:1}),n(A,{collapse:"fade",class:"ion-no-border"},{default:s(()=>[n(I,null,{default:s(()=>[n(C,null,{default:s(()=>[n(m,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:t[0]||(t[0]=S=>e.dismiss())},{default:s(()=>[...t[3]||(t[3]=[u(" Cancel ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})],64)}const _s=O(ms,[["render",fs],["__scopeId","data-v-3ba5e9df"]]),gs=P({name:"Menu",data(){return{isMobile:!1,visits:[],event:null,popoverOpen:!1,program:null}},mounted(){},computed:{...$(ee,["patient"])},methods:{openPopover(e){this.event=e,this.popoverOpen=!0},openPIM(){V(tn,{class:"otherVitalsModal largeModal"})},openOutCome(){V(en,{class:"otherVitalsModal largeModal"})},async printVisitSummary(){if(this.visits=await et.getPatientVisits(this.patient.patientID,!1),this.visits.length)return new Ke(this.patient.patientID).printVisitSummaryLbl(this.visits[0]);j("No visits available")},printID(){new Ke(this.patient.patientID).printNidLbl()},formatCurrentAddress(e){var i,r,d;return[(i=e==null?void 0:e.personInformation)==null?void 0:i.current_district,(r=e==null?void 0:e.personInformation)==null?void 0:r.current_traditional_authority,(d=e==null?void 0:e.personInformation)==null?void 0:d.current_village].filter(Boolean).join(",")}}}),vs=P({mixins:[gs],name:"Home",components:{IonContent:K,IonHeader:Q,IonMenuButton:Ve,IonPage:we,IonTitle:q,IonToolbar:X,Toolbar:Bt,ToolbarSearch:Mt,DemographicBar:Lt,IonButton:J,IonCard:Ce,IonCardContent:Se,IonCardHeader:De,IonCardSubtitle:ye,IonCardTitle:be,IonAccordion:ve,IonAccordionGroup:ge,IonItem:R,IonLabel:Z,IonModal:_e,Stepper:Rt,DynamicButton:Xe,WeightHeightChart:zt,PreviousVitals:le,customSlider:us,IonRow:x,customVaccine:ce},data(){return{wizardData:[],StepperData:[],isOpen:!1,iconsContent:H,current_milestone:"",checkUnderSixWeeks:!1,unprotected_at_birth:"",protectedStatus:"",todays_date:N.toStandardHisDisplayFormat(M.getSessionDate()),lastVaccine:[],visits:[],selectedStatus:7}},computed:{...$(Gt,["vitals"]),...$(Ft,["selectedMedicalDrugsList","nonPharmalogicalTherapyAndOtherNotes","selectedMedicalAllergiesList"]),...$(Et,["outcomes"]),...$(b,["currentMilestone","missedVaccineSchedules","overDueVaccinesCount","lastVaccinesGiven","lastVaccineGievenDate","nextAppointMentDate"])},async mounted(){this.loadCurrentMilestone(),this.checkAge(),await this.checkProtectedStatus(),await this.openFollowModal(),await this.programEnrollment()},watch:{currentMilestone:{handler(){this.loadCurrentMilestone()}},$route:{async handler(e){e.name=="patientProfile"&&this.patient.patientID&&(await this.checkProtectedStatus(),await this.programEnrollment())}},patient:{async handler(){this.patient&&(await this.checkProtectedStatus(),await this.programEnrollment(),this.checkAge(),this.setMilestoneReload())}}},setup(){return{chevronBackOutline:Ct,checkmark:Ye,ellipsisVerticalSharp:St,person:Dt}},methods:{handleChange(e){this.selectedStatus=e},async programEnrollment(){if(this.patient.patientID){this.program=new Ot(this.patient.patientID);const e=await this.program.getProgramCurrentStates();if(e)this.selectedStatus=e.state;else{try{await this.program.enrollProgram(),await this.program.setStateId(7)}catch(t){await this.program.setStateId(7)}await this.program.updateState(),this.selectedStatus=7}}},async updateState(e){this.selectedStatus=e,await this.program.setStateId(e),await this.program.updateState()},getAge(e){return N.calculateDisplayAge(N.toStandardHisFormat(e))},async checkProtectedStatus(){this.protectedStatus=this.getData(this.patient.birthRegistration,11759)[0]},getData(e,t){try{return e?e.filter(i=>i.concept_id==t).map(i=>i.value_text):""}catch(i){return console.error("Error in getData:",i),""}},checkAge(){var e,t,i,r;G.isEmpty((t=(e=this.patient)==null?void 0:e.personInformation)==null?void 0:t.birthdate)||(this.checkUnderSixWeeks=N.dateDiffInDays(N.sessionDate(),(r=(i=this.patient)==null?void 0:i.personInformation)==null?void 0:r.birthdate)<42)},openVitalsModal(){V(qt,{class:"otherVitalsModal"})},openWH(){V(jt,{class:"otherVitalsModal"})},openVH(){V(On,{class:"otherVitalsModal vaccineHistoryModal"})},async openFollowModal(){var e;if((e=this.patient)!=null&&e.patientID){this.lastVaccine=await Tt.getLastDrugsReceived(this.patient.patientID);const t={protectedStatus:this.protectedStatus,lastVaccinesGiven:this.lastVaccinesGiven};this.lastVaccinesGiven.length>0&&V(Qn,{class:"fullScreenModal"},!0,t)}},openAdministerVaccineModal(){V(pe,{class:"otherVitalsModal"})},openAdministerOtherVaccineModal(){V(at,{class:"otherVitalsModal"})},isChild(){return!!new et().isUnderFive()},getFormatedData(e){return e.map(t=>t==null?void 0:t.data)},async saveVitals(){if(this.vitals.validationStatus){const e=M.getUserID();new Pt(this.patient.patientID,e).onFinish(this.vitals)}},async saveTreatmentPlan(){const e=M.getUserID(),t=this.patient.patientID,i=new Ht;if(!G.isEmpty(this.selectedMedicalAllergiesList)){const r=this.mapToAllergies();i.onSubmitAllergies(t,e,r)}if(!G.isEmpty(this.nonPharmalogicalTherapyAndOtherNotes)){const r=[{concept_id:2688,obs_datetime:M.getSessionDate(),value_text:this.nonPharmalogicalTherapyAndOtherNotes}];i.onSubmitNotes(t,e,r)}if(!G.isEmpty(this.selectedMedicalDrugsList)){const r=this.mapToOrders(),d=new xe(t,e);if(!await d.createEncounter())return j("Unable to create treatment encounter");if(!await d.createDrugOrder(r))return j("Unable to create drug orders!");$e("Drug order has been created")}},openModal(){V(Ut)},mapToOrders(){return this.selectedMedicalDrugsList.map(e=>{const t=xe.getSessionDate(),i=Wt.find(r=>r.label===e.frequency)||{};return{drug_inventory_id:e.drug_id,equivalent_daily_dose:e.dose=="Unknown"?0:e.dose*(i==null?void 0:i.value)||0,start_date:t,auto_expire_date:this.calculateExpireDate(t,e.duration),units:e.units,instructions:"".concat(e.drugName,": ").concat(e.dose," ").concat(e.units," ").concat((i==null?void 0:i.code)||""," for ").concat(e.duration," days"),dose:e.dose,frequency:(i==null?void 0:i.code)||""}})},formatBirthdate(){var e,t;return N.toStandardHisDisplayFormat((t=(e=this.patient)==null?void 0:e.personInformation)==null?void 0:t.birthdate)},calculateExpireDate(e,t){const i=new Date(e);return i.setDate(i.getDate()+parseInt(t)),N.toStandardHisFormat(i)},mapToAllergies(){return this.selectedMedicalAllergiesList.map(e=>({concept_id:985,obs_datetime:M.getSessionDate(),value_coded:e.concept_id}))},loadCurrentMilestone(){const e=b();this.current_milestone=e.getCurrentMilestone()},showMissedVaccines(){this.missedVaccineSchedules.length>0&&V(_s,{class:"otherVitalsModal vaccineHistoryModal"})},setMilestoneReload(){const e=b();e.setVaccineReload(!e.getVaccineReload())},getLastVaccinesGivenDisplayDate(){return N.toStandardHisDisplayFormat(this.lastVaccineGievenDate)}}}),bs={fullscreen:!0,style:{"--background":"#fff"}},ys={class:"demographics"},Ds={style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},Ss={style:{display:"flex","justify-content":"space-between","align-content":"center","padding-bottom":"5px","padding-top":"5px","padding-left":"5px"}},Cs={style:{"margin-right":"5px"}},ws={class:"demographicsFirstRow"},Vs={class:"name"},ks={class:"demographicsOtherRow",style:{"margin-top":"10px"}},Is={class:"demographicsText"},$s={key:0,class:"demographicsOtherRow"},Ns={class:"demographicsText mediumFontColor"},As={key:1,class:"demographicsOtherRow"},Ms={class:"demographicsText mediumFontColor"},Bs={class:"demographicsOtherRow"},Ps={class:"demographicsText smallFont"},Ts={class:"mediumFontColor"},Os={class:"demographicsOtherRow"},Es={key:0,class:"demographicsText smallFont"},Fs={key:1,class:"demographicsText smallFont"},Gs={key:2,class:"demographicsText smallFont"},Ls={class:"demographicsOtherRow",style:{"margin-bottom":"10px"}},Us={class:"demographicsText smallFont"},Rs={key:0,style:{background:"#fedf89",color:"#b54708"},class:"protectedStatus"},Hs={key:1,style:{background:"#ddeedd"},class:"protectedStatus"},Ws={key:2,class:"protectedStatus",style:{background:"#fecdca",color:"#b42318"}},zs={class:"graphSection"},js={class:"graphBtn",style:{"margin-bottom":"5px"}},qs={class:"weightHeightGraphBtns"},Qs={key:0},Ks={key:1},xs={key:0,class:"graphBtn"},Zs={class:"dueAlert"},Js={class:"missed_vaccine_alert"},Ys={style:{"margin-right":"5px"}},Xs={class:"vaccinesTitle"},ei={style:{width:"100%",display:"flex","justify-content":"space-between","align-content":"center"}},ti={class:"vaccinesTitleDate"},ni={class:"milestone"},si={style:{display:"flex","justify-content":"space-between","align-content":"center"}},ii={style:{color:"#636363","margin-left":"5px","margin-top":"-4px"}},oi={style:{color:"#636363","font-weight":"bold","font-size":"14px"}},ai={class:"lastVaccine"},ri={class:"lastVaccineTitle"},li={key:0,class:"lastVaccineText"},ci={class:"seeFullList"},di={style:{color:"#316cba","margin-left":"1%"}},ui={class:"ion-padding",slot:"content"};function mi(e,t,i,r,d,D){var Ae,Me,Be,Pe,Te,Oe,Ee,Fe,Ge,Le,Ue,Re,He,We,ze,je,qe,Qe;const l=a("ion-icon"),_=a("WeightHeightChart"),p=a("PreviousVitals"),h=a("ion-button"),g=a("ion-col"),f=a("ion-row"),m=a("customSlider"),C=a("row"),I=a("customVaccine"),A=a("ion-label"),S=a("ion-item"),E=a("ion-accordion"),te=a("ion-toggle"),de=a("ion-list"),rt=a("ion-accordion-group"),lt=a("ion-popover");return c(),v(B,null,[o("div",bs,[o("div",ys,[o("div",Ds,[o("div",Ss,[o("div",Cs,[o("div",{class:wt(((Me=(Ae=e.patient)==null?void 0:Ae.personInformation)==null?void 0:Me.gender)=="M"?"initialsBox maleColor":"initialsBox femaleColor")},[n(l,{style:{color:"#fff","font-size":"100px"},icon:e.person},null,8,["icon"])],2)]),o("div",null,[o("div",ws,[o("div",Vs,y((Pe=(Be=e.patient)==null?void 0:Be.personInformation)==null?void 0:Pe.given_name)+" "+y((Oe=(Te=e.patient)==null?void 0:Te.personInformation)==null?void 0:Oe.middle_name)+" "+y((Fe=(Ee=e.patient)==null?void 0:Ee.personInformation)==null?void 0:Fe.family_name),1)]),o("div",ks,[o("div",Is,[u(y(((Le=(Ge=e.patient)==null?void 0:Ge.personInformation)==null?void 0:Le.gender)=="M"?"Male":"Female")+" ",1),t[12]||(t[12]=o("span",{class:"dot"},".",-1)),u(" "+y(e.getAge((Re=(Ue=e.patient)==null?void 0:Ue.personInformation)==null?void 0:Re.birthdate))+" ("+y(e.formatBirthdate())+") ",1)])]),(We=(He=e.patient)==null?void 0:He.personInformation)!=null&&We.current_district?(c(),v("div",$s,[t[13]||(t[13]=o("div",{class:"demographicsText"},"Current Address:",-1)),o("div",Ns,y(e.formatCurrentAddress(e.patient)),1)])):w("",!0),(je=(ze=e.patient)==null?void 0:ze.personInformation)!=null&&je.country?(c(),v("div",As,[t[14]||(t[14]=o("div",{class:"demographicsText"},"Country:",-1)),o("div",Ms,y((Qe=(qe=e.patient)==null?void 0:qe.personInformation)==null?void 0:Qe.country),1)])):w("",!0),o("div",Bs,[o("div",Ps,[t[15]||(t[15]=u(" MRN: ",-1)),o("span",Ts,y(e.patient.ID),1)])]),o("div",Os,[e.selectedStatus==7?(c(),v("div",Es,[...t[16]||(t[16]=[u(" Outcome: ",-1),o("span",{class:"outcomeStatus"}," Active",-1)])])):w("",!0),e.selectedStatus==6?(c(),v("div",Fs,[...t[17]||(t[17]=[u(" Outcome: ",-1),o("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Inactive",-1)])])):w("",!0),e.selectedStatus==3?(c(),v("div",Gs,[...t[18]||(t[18]=[u(" Outcome: ",-1),o("span",{class:"outcomeStatus",style:{background:"#fecdca",color:"#b42318"}}," Died",-1)])])):w("",!0)]),o("div",Ls,[o("div",Us,[t[19]||(t[19]=u(" Status: ",-1)),e.protectedStatus=="No"?(c(),v("span",Rs,"Unprotected at birth")):e.protectedStatus=="Yes"?(c(),v("span",Hs,"Protected at birth")):(c(),v("span",Ws,"Unknown protection at birth"))])])])])]),o("div",{class:"name",style:{color:"var(--ion-color-primary)","margin-top":"10px"},onClick:t[0]||(t[0]=T=>e.openPopover(T))},[n(l,{icon:e.ellipsisVerticalSharp},null,8,["icon"])])]),o("div",zs,[o("div",null,[e.isChild()?(c(),k(_,{key:0,checkUnderSixWeeks:e.checkUnderSixWeeks,showHeightWeight:!0},null,8,["checkUnderSixWeeks"])):w("",!0),e.isChild()?w("",!0):(c(),k(p,{key:1}))]),o("div",js,[o("div",qs,[o("div",null,[n(h,{class:"btnText",fill:"solid",onClick:t[1]||(t[1]=T=>e.openWH())},{default:s(()=>[e.checkUnderSixWeeks?(c(),v("span",Ks," Enter Weight")):(c(),v("span",Qs," Enter Weight/Height")),n(l,{slot:"end",size:"small",icon:e.iconsContent.whiteHeightWeight},null,8,["icon"])]),_:1})]),o("div",null,[n(h,{class:"btnText",fill:"solid",onClick:t[2]||(t[2]=T=>e.openVitalsModal())},{default:s(()=>[t[20]||(t[20]=u(" Enter Other Vitals ",-1)),n(l,{slot:"end",size:"small",icon:e.iconsContent.whiteVitals},null,8,["icon"])]),_:1})])])])]),o("div",null,[e.overDueVaccinesCount>0?(c(),v("div",xs,[o("div",Zs,[n(f,null,{default:s(()=>[e.overDueVaccinesCount>0?(c(),k(g,{key:0,style:{display:"flex","justify-content":"center",cursor:"pointer"},onClick:e.showMissedVaccines},{default:s(()=>[o("div",Js,[n(l,{slot:"start",icon:e.iconsContent.alertDangerRed},null,8,["icon"]),o("span",Ys,y(e.overDueVaccinesCount)+" vaccine(s) overdue",1)])]),_:1},8,["onClick"])):w("",!0)]),_:1})])])):w("",!0),o("div",Xs,[o("div",ei,[t[22]||(t[22]=o("div",{class:"vaccinesTitleText"},"Administer Vaccines",-1)),o("div",ti,[t[21]||(t[21]=o("span",{style:{"font-size":"13px"}},"Next Appt. Date: ",-1)),o("b",null,y(e.nextAppointMentDate),1)])])]),o("div",ni,[o("div",si,[n(l,{size:"small",icon:e.iconsContent.greenCalender},null,8,["icon"]),o("div",ii,[t[23]||(t[23]=u(" at ",-1)),o("span",oi,y(e.current_milestone),1)])]),t[24]||(t[24]=o("div",{class:"vaccinesTitleDate"},"(Swipe left or right for other milestones)",-1))]),n(m),o("div",ai,[o("div",ri,[e.lastVaccinesGiven.length>0?(c(),v("div",li,"Last vaccines given")):w("",!0),o("div",ci,[n(h,{onClick:t[3]||(t[3]=T=>e.openVH()),style:{color:"#016302"},class:"btnText btnTextWeight",size:"small",fill:"clear"},{default:s(()=>[...t[25]||(t[25]=[o("span",null,"See full History",-1)])]),_:1})])]),e.lastVaccinesGiven.length>0?(c(),k(C,{key:0},{default:s(()=>[n(l,{size:"medium",style:{"margin-bottom":"-6px"},icon:e.iconsContent.calendar},null,8,["icon"]),o("span",di,y(e.getLastVaccinesGivenDisplayDate()),1)]),_:1})):w("",!0),e.lastVaccinesGiven.length>0?(c(),k(C,{key:1},{default:s(()=>[n(I,{vaccines:e.lastVaccinesGiven,milestone_status:""},null,8,["vaccines"])]),_:1})):w("",!0)])])]),n(lt,{style:{"--offset-x":"-10px"},"is-open":e.popoverOpen,"show-backdrop":!1,event:e.event,onDidDismiss:t[11]||(t[11]=T=>e.popoverOpen=!1)},{default:s(()=>[o("div",null,[n(rt,{multiple:!0},{default:s(()=>[n(E,{value:"first","toggle-icon":"",onClick:t[4]||(t[4]=T=>e.openPIM())},{default:s(()=>[n(S,{slot:"header",color:"light"},{default:s(()=>[n(A,null,{default:s(()=>[...t[26]||(t[26]=[u("Update demographics",-1)])]),_:1})]),_:1})]),_:1}),n(E,{value:"first","toggle-icon":"",onClick:t[5]||(t[5]=T=>e.openFollowModal())},{default:s(()=>[n(S,{slot:"header",color:"light"},{default:s(()=>[n(A,null,{default:s(()=>[...t[27]||(t[27]=[u("Follow up visits",-1)])]),_:1})]),_:1})]),_:1}),n(E,{value:"second","toggle-icon":"",onClick:t[6]||(t[6]=T=>e.printVisitSummary())},{default:s(()=>[n(S,{slot:"header",color:"light"},{default:s(()=>[n(A,null,{default:s(()=>[...t[28]||(t[28]=[u("Print visit summary",-1)])]),_:1})]),_:1})]),_:1}),n(E,{value:"third","toggle-icon":"",onClick:t[7]||(t[7]=T=>e.printID())},{default:s(()=>[n(S,{slot:"header",color:"light"},{default:s(()=>[n(A,null,{default:s(()=>[...t[29]||(t[29]=[u("Print client identifier",-1)])]),_:1})]),_:1})]),_:1}),n(E,{value:"fourth"},{default:s(()=>[n(S,{slot:"header",color:"light"},{default:s(()=>[n(A,null,{default:s(()=>[...t[30]||(t[30]=[u("Update outcome",-1)])]),_:1})]),_:1}),o("div",ui,[n(de,null,{default:s(()=>[n(S,null,{default:s(()=>[n(te,{checked:e.selectedStatus==7,value:"active",onIonChange:t[8]||(t[8]=T=>e.updateState(7))},{default:s(()=>[...t[31]||(t[31]=[u(" Active ",-1)])]),_:1},8,["checked"])]),_:1}),n(S,null,{default:s(()=>[n(te,{checked:e.selectedStatus==6,value:"inactive",onIonChange:t[9]||(t[9]=T=>e.updateState(6))},{default:s(()=>[...t[32]||(t[32]=[u(" Inactive ",-1)])]),_:1},8,["checked"])]),_:1}),n(S,null,{default:s(()=>[n(te,{checked:e.selectedStatus==3,value:"died",onIonChange:t[10]||(t[10]=T=>e.updateState(3))},{default:s(()=>[...t[33]||(t[33]=[u(" Died ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1},8,["is-open","event"])],64)}const ro=O(vs,[["render",mi],["__scopeId","data-v-deaa596f"]]);export{ro as default};
