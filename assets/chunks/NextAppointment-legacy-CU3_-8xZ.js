!function(){function e(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}System.register(["../index-legacy-ByMUQtpm.js","./vendor-legacy-h4cyiMXU.js","./LabOrdersList-legacy-pMTJotJ9.js","./group_validation-legacy-Cn8ujNuu.js","./RadiologyStore-legacy-COa6CVYy.js","./BasicForm-legacy-DpMAl20L.js","./lodash-legacy-pOOc9Efu.js","./formatServerData-legacy-Cf0Xl_F1.js","./DashBox-legacy-DX-Vvp4y.js","./previousComplaints-legacy-CBs8ESVf.js","./patient_complaints_service-legacy-Ljd3M5Rz.js","./useFormWizard-legacy-BLjYTp-P.js","./user_role_management-legacy-D8ujMtJk.js","./useUserActivities-legacy-DSOZfJGk.js","./nonPharmaTherapyStore-legacy-CUwrg58P.js","./ncd_appointment_service-legacy-CKdmb1eL.js","./DateInputField-legacy-REhHDONF.js"],function(t,a){"use strict";var n,i,o,s,l,d,r,c,u,p,m,g,v,h,f,b,y,_,D,x,I,C,w,A,S,O,k,E,T,L,P,B,H,N,M,V,R,z,F,U,W,q,Y,j,G,$,Q,K,X,J,Z,ee,te,ae,ne,ie,oe,se,le,de,re,ce,ue,pe,me,ge,ve,he,fe,be,ye,_e,De,xe,Ie,Ce,we,Ae,Se,Oe,ke,Ee,Te,Le,Pe,Be,He,Ne,Me,Ve,Re,ze,Fe,Ue,We,qe,Ye,je,Ge,$e,Qe,Ke,Xe,Je,Ze,et,tt,at,nt,it,ot,st,lt,dt,rt,ct,ut,pt,mt,gt,vt,ht,ft,bt,yt,_t,Dt,xt,It,Ct,wt,At,St,Ot,kt,Et,Tt,Lt,Pt,Bt,Ht,Nt;return{setters:[e=>{n=e.O,i=e.bp,o=e.t,s=e.b,l=e.n,d=e._,r=e.bq,c=e.aU,u=e.a0,p=e.aW,m=e.J,g=e.F,v=e.S,h=e.D,f=e.aZ,b=e.B,y=e.bg,_=e.g,D=e.ao,x=e.ba,I=e.H,C=e.u,w=e.x,A=e.y,S=e.z,O=e.aX,k=e.V,E=e.br,T=e.bs,L=e.bt,P=e.bu,B=e.bv,H=e.bw,N=e.bx,M=e.P,V=e.by,R=e.bz,z=e.bA,F=e.bB,U=e.bC,W=e.w,q=e.e,Y=e.a8,j=e.a1,G=e.b4,$=e.G,Q=e.o,K=e.I,X=e.a3,J=e.bf,Z=e.aa,ee=e.bD,te=e.bE,ae=e.aA,ne=e.bF,ie=e.A,oe=e.bG,se=e.b8,le=e.f,de=e.aJ,re=e.Q,ce=e.aK,ue=e.a},e=>{pe=e.d,me=e.b2,ge=e.r,ve=e.a,he=e.H,fe=e.O,be=e.f,ye=e.J,_e=e.l,De=e.k,xe=e.e,Ie=e.F,Ce=e.P,we=e.m,Ae=e.u,Se=e.D,Oe=e.w,ke=e.af,Ee=e.b6,Te=e.b3,Le=e.G,Pe=e.E,Be=e.ag,He=e.ah,Ne=e.a6,Me=e.I,Ve=e.ab,Re=e.bb,ze=e.aU,Fe=e.Q,Ue=e.c,We=e.bE,qe=e.aV,Ye=e.bs,je=e.ac,Ge=e.ad,$e=e.aj,Qe=e.ai,Ke=e.a2,Xe=e.K,Je=e.bK,Ze=e.bC,et=e.a5,tt=e.bw,at=e.z,nt=e.am,it=e.cr,ot=e.aa,st=e.R,lt=e.i,dt=e.v,rt=e.L,ct=e.p,ut=e.aS,pt=e.av,mt=e.N,gt=e.bu,vt=e.bZ,ht=e.aM},e=>{ft=e.default},e=>{bt=e.v},e=>{yt=e.u},e=>{_t=e.B},e=>{Dt=e.l},e=>{xt=e.b,It=e.c,Ct=e.f},e=>{wt=e.D},e=>{At=e.u,St=e.p},e=>{Ot=e.P},e=>{kt=e.u,Et=e._},e=>{Tt=e.a},e=>{Lt=e.u},e=>{Pt=e.u,Bt=e.a},e=>{Ht=e.A},e=>{Nt=e.D}],execute:function(){var a=document.createElement("style");a.textContent="#ABDOMEN-2[data-v-5ab54fe8],#SPINE[data-v-5ab54fe8]{display:none}.white-fill[data-v-5ab54fe8]{fill:#fff!important}.dark-green-stroke[data-v-5ab54fe8]{stroke:#006401!important}.dark-green-fill[data-v-5ab54fe8]{fill:#006401!important}.bright-green-fill[data-v-5ab54fe8]{fill:#ded!important}ion-footer[data-v-5ab54fe8]{--ion-toolbar-background: #f4f4f4f4}ion-modal[data-v-5ab54fe8]{--width: 90%;--height: 94%}.form-column[data-v-5ab54fe8]{border-left:1px solid #a3a1a1;max-height:600px;display:flex;flex-direction:column}.scrollable-container[data-v-5ab54fe8]{overflow-y:auto;max-height:100%;padding-right:10px;padding-left:10px}.form-section[data-v-5ab54fe8]{margin-bottom:20px}.form-section h6[data-v-5ab54fe8]{margin-top:0;margin-bottom:10px;padding-bottom:5px;border-bottom:1px solid #eaeaea;font-weight:600}.modal_wrapper[data-v-e5153372]{display:flex;flex-direction:column;width:100%;max-width:1200px;margin:0 auto}@media(max-width:768px){.modal_wrapper[data-v-e5153372]{max-width:100%}}@media(max-width:480px){.modal_wrapper[data-v-e5153372]{flex-direction:column}}#container[data-v-67ff1a61]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-67ff1a61]{font-size:20px;line-height:26px}#container p[data-v-67ff1a61]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-67ff1a61]{text-decoration:none}.action_buttons[data-v-67ff1a61]{color:var(--ion-color-primary);display:flex;align-items:center;float:right;max-width:70px}.modify_buttons[data-v-67ff1a61]{padding-left:20px}.item_no_border[data-v-67ff1a61]{--border-color: transparent}.search_result[data-v-67ff1a61]{padding:10px}.action_buttons[data-v-67ff1a61]{opacity:0;transition:opacity .3s}.dashed_bottom_border:hover .action_buttons[data-v-67ff1a61]{opacity:1}.dashed_bottom_border[data-v-67ff1a61]{font-weight:700}.sub_item_body[data-v-67ff1a61]{margin-left:45px}ion-segment-button[data-v-67ff1a61]{background:#fff;margin-right:1px;font-size:12px;text-transform:unset}.bottomSummary[data-v-67ff1a61]{margin-top:20px;max-width:600px}.bottomSummary .segment-button-checked[data-v-67ff1a61]{background:#fff!important;--indicator-color: none}.bottomSummary ion-segment-button[data-v-67ff1a61]{background:#e6e6e6;margin-right:5px;border-top-right-radius:10px;border-top-left-radius:10px;text-transform:unset;font-style:normal;font-weight:700;font-size:12px}.vitals_title[data-v-04755951]{border-bottom:1px solid #b3b3b3;margin-bottom:50px}.input-with-icon[data-v-04755951]{position:relative}.input-icon[data-v-04755951]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:gray}ion-col[data-v-04755951]{padding-bottom:15px}h5[data-v-04755951]{margin-top:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.previousView[data-v-04755951]{margin-top:70px;margin-bottom:20px}.section-header ion-label[data-v-f482cf99]{font-size:1rem;font-weight:600;letter-spacing:.5px;color:var(--ion-color-primary);text-transform:uppercase}ion-checkbox[data-v-f482cf99]{--size: 24px !important}ion-radio[data-v-f482cf99]{--size: 27px !important}.error[data-v-f482cf99]{color:red;font-weight:700;font-style:italic}#container[data-v-a8c898e3]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-a8c898e3]{font-size:20px;line-height:26px}#container p[data-v-a8c898e3]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-a8c898e3]{text-decoration:none}.action_buttons[data-v-a8c898e3]{color:var(--ion-color-primary);display:flex;align-items:center;float:right;max-width:70px}.modify_buttons[data-v-a8c898e3]{padding-left:20px}.item_no_border[data-v-a8c898e3]{--border-color: transparent}.search_result[data-v-a8c898e3]{padding:10px}.action_buttons[data-v-a8c898e3]{opacity:0;transition:opacity .3s}.dashed_bottom_border:hover .action_buttons[data-v-a8c898e3]{opacity:1}.dashed_bottom_border[data-v-a8c898e3]{font-weight:700}.sub_item_body[data-v-a8c898e3]{margin-left:45px}ion-segment-button[data-v-a8c898e3]{background:#fff;margin-right:1px;font-size:12px;text-transform:unset}ion-segment[data-v-a8c898e3]{grid-auto-columns:minmax(auto,4200px)}.bottomSummary[data-v-a8c898e3]{margin-top:20px;max-width:600px}.bottomSummary .segment-button-checked[data-v-a8c898e3]{background:#fff!important;--indicator-color: none}.bottomSummary ion-segment-button[data-v-a8c898e3]{background:#e6e6e6;margin-right:5px;border-top-right-radius:10px;border-top-left-radius:10px;text-transform:unset;font-style:normal;font-weight:700;font-size:12px}.medication-item[data-v-01c693a3]{padding:16px;border-radius:8px;background:#fff;border:1px solid #e5e7eb;margin-bottom:12px;transition:all .2s ease}.medication-item[data-v-01c693a3]:hover{box-shadow:0 2px 4px rgba(0,0,0,.05);border-color:#d1d5db}.medication-header[data-v-01c693a3]{margin-bottom:8px}.medication-name[data-v-01c693a3]{color:#111827;font-size:16px;font-weight:600;line-height:1.4;font-family:Inter,system-ui,-apple-system,sans-serif}.medication-details[data-v-01c693a3]{align-items:center}.details-col[data-v-01c693a3]{padding-right:16px}.details-text[data-v-01c693a3]{color:#4b5563;font-size:14px;font-weight:500;line-height:1.5;font-family:Inter,system-ui,-apple-system,sans-serif}.route-label[data-v-01c693a3]{color:#dc2626;font-weight:600;padding:2px 6px;background-color:#fee2e2;border-radius:4px;margin-left:4px}.actions-col[data-v-01c693a3]{display:flex;justify-content:flex-end;align-items:center;gap:12px}.action-button[data-v-01c693a3]{display:none;padding:6px;border-radius:4px;cursor:pointer;transition:all .2s ease}.action-button[data-v-01c693a3]:hover{background-color:#f3f4f6}.action-button ion-icon[data-v-01c693a3]{font-size:18px;color:#6b7280}.item-native[data-v-01c693a3]{background-color:#f9fafb!important;border-radius:6px}.truncate-text[data-v-01c693a3]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;display:block}.details-text[data-v-01c693a3]{font-size:600;font-size:16px;color:#4575d6}@media(max-width:640px){.medication-item[data-v-01c693a3]{padding:12px}.medication-name[data-v-01c693a3]{font-size:15px}.details-text[data-v-01c693a3]{font-size:13px}.actions-col[data-v-01c693a3]{gap:8px}}#container[data-v-d63cacc6]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-d63cacc6]{font-size:20px;line-height:26px}#container p[data-v-d63cacc6]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-d63cacc6]{text-decoration:none}ion-item.medicalAl[data-v-d63cacc6]{--background: #fff;--border-radius: 5px}ion-button.medicalAlBtn[data-v-d63cacc6]{--background: #fecdca;--color: #b42318;text-transform:none}.error-label[data-v-d63cacc6]{background:#fecdca;color:#b42318;text-transform:none;padding:6%;border-radius:10px;margin-top:7px;display:flex;text-align:center}ion-button.addMedicalTpBtn[data-v-d63cacc6]{--background: #ddeedd;--color: #006401;text-transform:none;font-weight:600;font-size:16px}ion-button.medicalAlAddBtn[data-v-d63cacc6]{font-size:large}ion-icon.icon-al[data-v-d63cacc6]{font-size:x-large;margin-bottom:-5px}.item-al[data-v-d63cacc6]{cursor:pointer;padding:5px;background-color:#ebebeb;margin-top:8px}.item-al[data-v-d63cacc6]:hover{background-color:rgba(85,81,81,.282);padding:5px;border-radius:3px}ion-popover.popover-al[data-v-d63cacc6]{--background: #fff}ion-content.content-al[data-v-d63cacc6]{--background: #fff}ion-list.list-al[data-v-d63cacc6]{--background: #fff;-ion-item-background:#fff}.checkLbltp[data-v-d63cacc6]{border-bottom:2px dotted var(--ion-color-medium);--inner-border-width: 0}.tpStndCls[data-v-d63cacc6]{font-size:16px;font-weight:600;line-height:24px}.action_buttons[data-v-d63cacc6]{color:var(--ion-color-primary);display:flex;align-items:center;float:right}.action_buttons[data-v-d63cacc6]:hover{cursor:pointer}.spcls[data-v-d63cacc6]{display:flex;align-items:center}.previousView[data-v-d63cacc6]{width:100%;border-radius:10px;margin-top:10px}.previousLabel[data-v-d63cacc6]{font-weight:600;color:#000}.previousLabelDate[data-v-d63cacc6]{font-weight:600;color:#000;margin:2%}.previousSecDrgs[data-v-d63cacc6]{margin:2%}.notes_p[data-v-d63cacc6]{margin:4%}.custom-allergy-container[data-v-d63cacc6]{display:flex;align-items:center;gap:10px}.custom-input[data-v-d63cacc6]{max-width:300px;width:100%}.header-container[data-v-d63cacc6]{display:flex;align-items:center;gap:8px}.allergy-icon[data-v-d63cacc6]{font-size:24px;color:#b42318}.checklist-container[data-v-371e920f]{padding:16px}.no-border[data-v-371e920f]{--border-width: 0;--inner-border-width: 0}ion-item[data-v-371e920f]{--padding-start: 0;--inner-padding-end: 0;margin-bottom:12px}ion-checkbox[data-v-371e920f]{margin-right:12px}ion-label[data-v-371e920f]{font-size:16px}.demographics[data-v-4e58e0bc]{display:block;width:40vw;margin:50px auto 0;text-align:center}.demographics_title[data-v-4e58e0bc]{font-weight:700;font-size:24px}.sub_title[data-v-4e58e0bc]{font-weight:400;font-size:14px;color:#636363;margin:10px 0 30px;padding-top:20px;line-height:25px}.card_hearder[data-v-4e58e0bc]{font-weight:600;color:#00190e;font-size:16px;padding-bottom:20px}.input_fields[data-v-4e58e0bc]{padding:10px 100px 70px;text-align:left}.gender[data-v-4e58e0bc]{display:flex;justify-content:space-between;max-width:170px;padding-top:10px}.gender_title[data-v-4e58e0bc]{margin-top:30px}.marital_status[data-v-4e58e0bc]{display:flex;justify-content:space-between}ion-datetime[data-v-4e58e0bc]::part(calendar-day){padding:25px;margin:10px}.dp__flex_display[data-v-4e58e0bc]{display:inherit}.enrollment_card[data-v-4e58e0bc]{padding:20px;width:1200px}.card_content[data-v-4e58e0bc]{width:100%}.sub_data[data-v-4e58e0bc]{padding-top:10px;padding-bottom:5px;font-size:20px;font-weight:600;color:#00190e}.dates_title[data-v-4e58e0bc]{color:gray;padding:20px;font-size:20px;font-weight:600}.calender[data-v-4e58e0bc]{--dp-cell-padding: 30px;--dp-menu-padding: 20px 5px;--dp-font-size: 18px}.count-badge[data-v-4e58e0bc]{padding:1px 4px;font-size:19px;margin-left:1px;position:relative;font-weight:700}.run-out-date[data-v-4e58e0bc]{background-color:var(--dp-primary-color);border-radius:10%;color:#000;padding:7px}\n/*$vite$:1*/",document.head.appendChild(a);class Mt extends n{constructor(){super()}async postActivities(e,t){const a=t.location_id,s=new i(parseInt(e),-1,a),l=await s.createEncounter();if(l){const e=await n.buildLabOrders(l,t.orders||t);if(!(await n.saveOrdersArray(l.encounter_id,e)))return o("Unable to save lab orders")}}async postAHDActivities(e,t){const a=t.location_id,l=new i(parseInt(e),-1,a),d=await l.createEncounter(s.AHD_LAB_ORDERS);if(d){const e=await n.buildLabOrders(d,t.orders||t);if(!(await n.saveOrdersArray(d.encounter_id,e)))return o("Unable to save lab orders")}}}t("L",Mt);const Vt=["innerHTML"],Rt={class:"scrollable-container"},zt={key:0,class:"form-section"},Ft={key:1,class:"form-section"},Ut={key:2,class:"form-section"},Wt={key:3,class:"form-section"},qt={key:4,class:"form-section"},Yt={key:5,class:"form-section"},jt={key:6,class:"form-section"},Gt={key:7,class:"form-section"},$t=d(pe({__name:"RadiologyInvestigation",setup(e){const t=yt(),{head:a,neck:n,chest:i,abdomen:o,upper_extremity:s,spine:d,pelvis:r,lower_extremity:c}=me(t),u=ge(l),p=ge([]),m=(e,t,a)=>{document.querySelectorAll(`#${e} path`).forEach(e=>{e.classList.toggle("white-fill")}),document.querySelectorAll(`#${t} line`).forEach(e=>{e.classList.toggle("dark-green-stroke")}),document.querySelectorAll(`#${t} rect`).forEach(e=>{e.classList.toggle("bright-green-fill"),e.classList.toggle("dark-green-stroke")}),document.querySelectorAll(`#${t} path`).forEach(e=>{e.classList.toggle("dark-green-fill")}),document.querySelectorAll(`#${t} circle`).forEach(e=>{e.classList.toggle("bright-green-fill")});const n=p.value.findIndex(e=>e.id===a);n>=0?p.value.splice(n,1):p.value.unshift({id:a,active:!0})},g=()=>{const e=document.getElementById("SPINE");"none"===e.style.display||""==e.style.display?e.style.display="block":e.style.display="none",m("SPINE","SPINE_LABEL-2","spine")};return ve(()=>{const e=document.getElementById("HEAD");e&&e.addEventListener("click",()=>{m("HEAD","LABEL-6","head")});const t=document.getElementById("NECK");t&&t.addEventListener("click",()=>{m("NECK","LABEL-5","neck")});const a=document.getElementById("CHEST");a&&a.addEventListener("click",()=>{m("CHEST","LABEL-4","chest")});const n=document.getElementById("ABDOMEN_LABEL");n&&n.addEventListener("click",()=>{const e=document.getElementById("ABDOMEN-2");"none"===e.style.display||""==e.style.display?e.style.display="block":e.style.display="none",m("ABDOMEN","ABDOMEN_LABEL-2","abdomen")});const i=document.getElementById("UPPER_EXTRMITY");i&&i.addEventListener("click",()=>{m("UPPER_EXTRMITY","LABEL-3","upper_extremity")});const o=document.getElementById("SPINE"),s=document.getElementById("SPINE_LABEL"),l=document.getElementById("LOWER_SPINE_INACTIVE");o&&o.addEventListener("click",()=>{g()}),s&&s.addEventListener("click",()=>{g()}),l&&l.addEventListener("click",()=>{g()});const d=document.getElementById("PELVIS");d&&d.addEventListener("click",()=>{m("PELVIS","LABEL-2","pelvis")});const r=document.getElementById("LOWER_EXTREMITY");r&&r.addEventListener("click",()=>{m("LOWER_EXTREMITY","LABEL","lower_extremity")})}),(e,t)=>{const l=he("ion-col"),m=he("ion-row");return be(),fe(m,null,{default:ye(()=>[_e(l,{size:"7"},{default:ye(()=>[De("div",{innerHTML:u.value.full_body_sk},null,8,Vt)]),_:1}),_e(l,{size:"5",class:"form-column"},{default:ye(()=>[De("div",Rt,[(be(!0),xe(Ie,null,Ce(p.value,e=>(be(),xe(Ie,null,["head"===e.id?(be(),xe("div",zt,[t[0]||(t[0]=De("h6",null,"Body Part: Head",-1)),_e(_t,{contentData:Ae(a)},null,8,["contentData"])])):"neck"===e.id?(be(),xe("div",Ft,[t[1]||(t[1]=De("h6",null,"Body Part: Neck",-1)),_e(_t,{contentData:Ae(n)},null,8,["contentData"])])):"chest"===e.id?(be(),xe("div",Ut,[t[2]||(t[2]=De("h6",null,"Body Part: Chest",-1)),_e(_t,{contentData:Ae(i)},null,8,["contentData"])])):"abdomen"===e.id?(be(),xe("div",Wt,[t[3]||(t[3]=De("h6",null,"Body Part: Abdomen",-1)),_e(_t,{contentData:Ae(o)},null,8,["contentData"])])):"upper_extremity"===e.id?(be(),xe("div",qt,[t[4]||(t[4]=De("h6",null,"Body Part: Upper Extremity",-1)),_e(_t,{contentData:Ae(s)},null,8,["contentData"])])):"spine"===e.id?(be(),xe("div",Yt,[t[5]||(t[5]=De("h6",null,"Body Part: Spine",-1)),_e(_t,{contentData:Ae(d)},null,8,["contentData"])])):"pelvis"===e.id?(be(),xe("div",jt,[t[6]||(t[6]=De("h6",null,"Body Part: Pelvis",-1)),_e(_t,{contentData:Ae(r)},null,8,["contentData"])])):"lower_extremity"===e.id?(be(),xe("div",Gt,[t[7]||(t[7]=De("h6",null,"Body Part: Lower Extremity",-1)),_e(_t,{contentData:Ae(c)},null,8,["contentData"])])):we("",!0)],64))),256))])]),_:1})]),_:1})}}}),[["__scopeId","data-v-5ab54fe8"]]),Qt=[{selectedData:[],initial:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Existing Chronic Health Conditions",class:"bold",selectedValue:"",name:"Chronic disease"},data:[{name:"TB",value:"TB",checked:!1}]}},{selectedData:[],isFinishBtn:!1,sideColSize:1,childName:"TB",radioBtnContent:{header:{title:"On TB medication",name:"TB treatment",selectedValue:"",displayNext:"Yes",displayNone:!0,class:"bold"},data:[{name:"Yes",value:"Yes",colSize:3},{name:"No",value:"No",colSize:3}]}},{selectedData:[],isFinishBtn:!1,sideColSize:1,childName:"TB treatment",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Select medication",class:"bold",icon:l.search,popOver:!0,value:"",valueType:"text",name:"TB drugs",eventType:"input",required:!0,alertsErrorMassage:"",popOverData:{filterData:!0,data:[]},id:"",idName:"medication"},{inputHeader:"Start date",class:"bold",icon:l.calendar,popOver:!0,value:"",valueType:"text",name:"TB drug start date",eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"startDate",placeholder:"Pick the date",isDatePopover:!0}]}]}},{selectedData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Chronic disease"},data:[{name:"Chronic Obstructive Pulmonary Disease (COPD)",value:"Chronic obstructive pulmonary disease",checked:!1}]}},{selectedData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Chronic disease"},data:[{name:"Asthma",value:"Asthma",checked:!1}]}},{selectedData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Chronic disease"},data:[{name:"Epilepsy",value:"Epilepsy",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{selectedValue:"",name:"Chronic disease"},data:[{name:"Previous stroke",value:"Stroke",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{selectedValue:"",name:"Chronic disease"},data:[{name:"Peptic Ulcer Disease (PUD)",value:"Peptic ulcer disease",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{selectedValue:"",name:"Chronic disease"},data:[{name:"Mental disorder",value:"Mental disorders",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{selectedValue:"",name:"Chronic disease"},data:[{colSize:4.8,name:"Bleeding disorders",value:"Bleeding disorders",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{selectedValue:"",name:"Chronic disease"},data:[{name:"Hypertension",value:"Hypertension",checked:!1}]}},{selectedData:[],isFinishBtn:!1,sideColSize:1,childName:"Hypertension",radioBtnContent:{header:{title:"On medication",name:"Hypertension medication",class:"bold",selectedValue:"",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:3},{name:"No",value:"No",colSize:3}]}},{selectedData:[],isFinishBtn:!1,sideColSize:1,childName:"Hypertension medication",data:{rowData:[{colData:[{inputHeader:"Select medication",icon:l.search,class:"bold",popOver:!0,displayNone:!0,value:"",valueType:"text",name:"Current hypertension treatment regimen",eventType:"input",required:!0,alertsErrorMassage:"",popOverData:{filterData:!1,data:[]},id:"",idName:"medication"}]}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{selectedValue:"",name:"Chronic disease"},data:[{name:"HIV Positive",value:"HIV pos",checked:!1}]}},{selectedData:[],isFinishBtn:!1,sideColSize:1,childName:"HIV Positive",radioBtnContent:{header:{title:"Is the patient on ART",name:"HIV status",selectedValue:"",class:"bold",displayNone:!0,displayNext:"Yes"},data:[{name:"Yes",value:"Yes",colSize:3},{name:"No",value:"No",colSize:3}]}},{selectedData:[],isFinishBtn:!1,sideColSize:1,childName:"HIV status",data:{rowData:[{colData:[{class:"bold",inputHeader:"Enter ARV start date",icon:l.calendar,popOver:!0,displayNone:!0,value:"",valueType:"text",name:"ARV start date",eventType:"input",required:!0,alertsErrorMassage:"",idName:"medication",placeholder:"Pick the date",isDatePopover:!0}]}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{selectedValue:"",name:"Chronic disease"},data:[{name:"Diabetes Mellitus",value:"Diabetes Mellitus",checked:!1}]}},{selectedData:[],isFinishBtn:!1,sideColSize:1,childName:"Diabetes Mellitus",radioBtnContent:{header:{class:"bold",title:"Type",name:"Diabetes",selectedValue:"",displayNone:!0},data:[{name:"Type I",value:"Type 1 diabetes",colSize:4},{name:"Type II",value:"Type 2 diabetes",colSize:4},{name:"Unsure",value:"Unknown",colSize:4}]}},{selectedData:[],isFinishBtn:!1,sideColSize:1,childName:"Diabetes Mellitus",radioBtnContent:{header:{class:"bold",title:"Controlled by",name:"Controlled by",selectedValue:"",displayNone:!0},data:[{name:"Diet",value:"Diet",colSize:4},{name:"Tablets",value:"Tablets",colSize:4},{name:"Insulin",value:"Insulin",colSize:4}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{selectedValue:"",name:"Chronic disease"},data:[{name:"None",value:"None"}]}}],Kt=Se("pastMedicalHistoryStore",{state:()=>({pastMedicalHistory:[...Qt]}),actions:{setPastMedicalHistory(e){this.pastMedicalHistory=e},getInitial:()=>[...Dt.cloneDeep(Qt)]},persist:!0}),Xt={class:"modal_wrapper"},Jt={class:"uniform_columns"},Zt=d(pe({__name:"AHDPastMedicalHistory",setup(e,{expose:t}){const a=Kt(),{pastMedicalHistory:n}=me(a),i=ge([]);ve(()=>{i.value=a.getInitial(),l()}),Oe(n,()=>{l()},{deep:!0});const l=()=>{var e;const t=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];null!==(e=r(n.value,"None"))&&void 0!==e&&e.checked?t.forEach(e=>{c(n.value,"TB treatment","displayNone",!0),u(n.value,"TB drugs","displayNone",!0),u(n.value,"TB drug start date","displayNone",!0),c(n.value,"Hypertension medication","displayNone",!0),u(n.value,"Current hypertension treatment regimen","displayNone",!0),c(n.value,"HIV status","displayNone",!0),u(n.value,"ARV start date","displayNone",!0),c(n.value,"Diabetes","displayNone",!0),c(n.value,"Controlled by","displayNone",!0),p(n.value,e,"checked",!1),p(n.value,e,"disabled",!0)}):t.forEach(e=>{p(n.value,e,"disabled",!1)})},d=e=>{u(n.value,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine 'O' (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),u(n.value,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})};return t({onSubmit:async()=>{const e=await(async()=>[...await xt(n.value),...await It(n.value),...await Ct(n.value)])();0!==e.length?(await m.addObsToEncounterPatient(e,s.AHD_PAST_MEDICAL_HISTORY),g("Past medical history saved successful")):o("No past medical history data to save")}}),(e,t)=>(be(),xe("div",Xt,[De("div",Jt,[_e(_t,{contentData:Ae(n),initialData:i.value,"onUpdate:inputValue":d,"onUpdate:selected":d},null,8,["contentData","initialData"])])]))}}),[["__scopeId","data-v-e5153372"]]),ea=t("b",pe({data:()=>({userRole:"",ready:!1,userRoleSettings:{}}),watch:{$route:{async handler(e){this.userRole=v.getUserRoles();const t=v.getProgramID(),a=v.getProgramName();"Lab"==this.userRole&&14==t&&(this.userRoleSettings={url:"home",btnName:"Back to home",stepperTitle:"Laboratory"}),14==t&&"Lab"!=this.userRole&&(this.userRoleSettings={url:"home",btnName:"Go to waiting list",stepperTitle:"Consultation Plan"}),12==t&&(this.userRoleSettings={url:"contact",btnName:"Back"}),"LABOUR AND DELIVERY PROGRAM"==a&&(this.userRoleSettings={url:"labour/labourHome",btnName:"Back to home"}),"PNC PROGRAM"==a&&(this.userRoleSettings={url:"pnc/home",btnName:"Back to home"})},immediate:!0,deep:!0}}})),ta=pe({name:"Menu",mixins:[ea],components:{IonContent:Ve,IonHeader:Me,IonItem:Ne,IonList:He,IonMenu:Be,IonTitle:Pe,IonToolbar:Le,IonInput:Te,IonPopover:Ee,DashBox:wt,SelectionPopover:y,BasicInputField:b,BasicForm:_t,List:f,DynamicButton:h,LabOrdersList:ft,RadiologyInvestigation:$t},data:()=>({segmentContent:"Lab Investigations",iconsContent:l,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",labOrders:"",filteredSpecimen:"",testData:[],popoverOpen:!1,labOrderStatus:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}),setup:()=>({checkmark:ze,pulseOutline:Re}),computed:{...ke(x,["investigations"]),...ke(C,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0},patient:{async handler(){var e;null!==(e=this.patient)&&void 0!==e&&e.labOrders&&(this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved])},deep:!0},$route:{async handler(){await this.getTests()},deep:!0}},async mounted(){await this.getTests(),this.updateInvestigationsStores(),this.setDashedBox(),this.updateInvestigationWizard()},methods:{setSegmentContent(e){this.segmentContent=e},async getTests(){let e;e=v.getPouchDbStatus()&&v.getLanConnectionStatus()?await _("test_types"):await n.getTestTypes(),u(this.investigations,"test","multiSelectData",e)},toggleLabOrderStatus(){this.labOrderStatus=!this.labOrderStatus},async updateInvestigationWizard(){var e;if(null===(e=this.patient)||void 0===e||!e.labOrders)return;this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved];const t=await this.labOrders.filter(e=>I.toStandardHisFormat(I.sessionDate())===I.toStandardHisFormat(e.order_date));t.length>0?this.investigations[0].selectedData=t:this.investigations[0].selectedData=""},async updateInvestigationsStores(){await this.updateInvestigationWizard();x().setInvestigations(this.investigations)},displayInputFields(){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validateRowData(){return bt(this.investigations)},async checkTest(){return await this.isNameInData(this.inputFields[0].value.name,await this.investigations[0].selectedData)?(u(this.investigations,"test","alertsErrorMassage","Lab order already selected"),!1):(u(this.investigations,"test","alertsErrorMassage",""),!0)},async addNewRow(){bt(this.investigations)&&await this.checkTest()&&(await this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.updateInvestigationWizard()},isNameInData(e,t){for(let a of t)for(let t of a.tests)if(t.name===e)return!0;return!1},async saveTest(){const e=new Mt;await e.postAHDActivities(this.patient.patientID,[{concept_id:this.inputFields[0].value.concept_id,name:this.inputFields[0].value.name,specimen:this.inputFields[1].value.name,reason:"Routine",specimenConcept:await D.getConceptID(this.inputFields[1].value.name,!0)}]),u(this.investigations,"specimen","disabled",!0),this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved]},async handleInputData(e){if("Test"==e.inputHeader&&this.checkTest(),u(this.investigations,"specimen","alertsErrorMassage",""),"Test"==e.inputHeader&&e.value){let t;t=v.getPouchDbStatus()&&v.getLanConnectionStatus()?await _("specimens"):await n.getSpecimens("",1e3),this.specimen=await D.getConceptSet(e.value.name,"",{names:t.map(e=>e.name)}),1==this.specimen.length?(u(this.investigations,"specimen","value",this.specimen[0]),u(this.investigations,"specimen","disabled",!0)):(u(this.investigations,"specimen","value",""),u(this.investigations,"specimen","disabled",!1)),u(this.investigations,"specimen","multiSelectData",this.specimen)}},async filterTest(e){return await this.labOrders.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))},async filterSpecimen(e){var t;return null!==(t=this.specimen[0])&&void 0!==t&&t.name&&e?await this.specimen.filter(t=>null==t?void 0:t.name.toLowerCase().includes(e.toLowerCase())):[]},setTest(e){this.selectedText=e.name,"Test"==this.inputFields[1].inputHeader?this.investigations[0].data.rowData[0].colData[0].value=e.name:this.investigations[0].data.rowData[0].colData[1].value=e.name,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[1].value||this.inputFields[0].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),aa={class:"background"},na={key:0},ia={key:1},oa={key:2},sa={class:"",slot:"content",style:{"margin-bottom":"125px","margin-top":"2px"}},la={key:3},da={class:"ion-padding",slot:"content"},ra={key:4};const ca=d(ta,[["render",function(e,t,a,n,i,o){const s=he("ion-label"),l=he("ion-segment-button"),d=he("ion-segment"),r=he("VisitsHistory"),c=he("LabOrdersList"),u=he("RadiologyInvestigation");return be(),xe("div",aa,[_e(d,{value:e.segmentContent,style:{"margin-top":"5px"}},{default:ye(()=>[_e(l,{value:"Lab Investigations",onClick:t[0]||(t[0]=t=>e.setSegmentContent("Lab Investigations"))},{default:ye(()=>[_e(s,null,{default:ye(()=>[...t[3]||(t[3]=[Fe("Lab Investigations",-1)])]),_:1})]),_:1}),_e(l,{value:"Radiology Investigation",onClick:t[1]||(t[1]=t=>e.setSegmentContent("Radiology Investigation"))},{default:ye(()=>[_e(s,null,{default:ye(()=>[...t[4]||(t[4]=[Fe("Radiology Investigation",-1)])]),_:1})]),_:1}),_e(l,{value:"Other Investigation",onClick:t[2]||(t[2]=t=>e.setSegmentContent("Other Investigation"))},{default:ye(()=>[_e(s,null,{default:ye(()=>[...t[5]||(t[5]=[Fe("Other Investigation",-1)])]),_:1})]),_:1})]),_:1},8,["value"]),"Radiology Investigation"==e.segmentContent?(be(),xe("div",na,[_e(r)])):we("",!0),"Other Investigation"==e.segmentContent?(be(),xe("div",ia)):we("",!0),"Lab Investigations"==e.segmentContent?(be(),xe("div",oa,[De("div",sa,[De("span",null,[_e(c,{propOrders:e.labOrders},null,8,["propOrders"])])])])):we("",!0),"Radiology Investigation"==e.segmentContent?(be(),xe("div",la,[De("div",da,[_e(u)])])):we("",!0),"Other Investigation"==e.segmentContent?(be(),xe("div",ra)):we("",!0)])}],["__scopeId","data-v-67ff1a61"]]),ua={key:0},pa={style:{"align-content":"center"}},ma={class:"ion-padding",slot:"content"},ga=d(pe({__name:"AHDPresentingComplaints",setup(e,{expose:t}){const a=At(),{presentingComplaints:n}=me(a),i=ge(l),d=ge(!0),r=ge(!1),c=ge(!0),p=ge(!1),b=ge([]),y=ge([]),_=ge(),D=Ue(()=>[{componentType:"multiSelectInputField",header:"Presenting Complaints",name:"PresentingComplaints",trackBy:"concept_id",icon:l.search,hideSelected:!0,validation:e=>C(null==e?void 0:e.name,b.value)?"Presenting complaint already added":w.required(e),options:y.value,grid:{s:"6"}},{componentType:"inputField",header:"Duration",name:"duration",icon:l.time,validation:e=>w.isNotEmptyandNumber(e),grid:{s:"6"},unitOptions:[{label:"Hours",value:"Hours"},{label:"Days",value:"Days"},{label:"Weeks",value:"Weeks"},{label:"Months",value:"Months"},{label:"Years",value:"Years"}],unitValidation:e=>e&&""!==e?null:"Please select a unit."},{componentType:"inputField",header:"Specify the presenting complaint(s)",name:"Other (specify)",icon:l.editPen,validation:e=>C(e,b.value)?"Presenting complaint already added":w.required(e),condition:e=>{var t;return"Other"===(null==e||null===(t=e.PresentingComplaints)||void 0===t?void 0:t.name)}},{componentType:"Alert",condition:e=>{var t;return!(null==w.required(null==e||null===(t=e.PresentingComplaints)||void 0===t?void 0:t.name))},backgroundColor:"lightyellow",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}]),{formRef:x}=A(),I=e=>{var t;const a=e.duration+" "+e.duration_unit,n=e.PresentingComplaints,i="Other"===n.name?e["Other (specify)"]:n.name;b.value.push({actionBtn:!0,btn:["delete"],name:i,concept_id:n.concept_id,duration:n.duration,durationUnits:n.duration_unit,display:[i,a],data:[{concept_id:8578,value_coded:n.concept_id,obs_datetime:v.getSessionDate(),child:[{concept_id:n.concept_id,value_text:a,obs_datetime:v.getSessionDate()}]}]}),null===(t=x.value)||void 0===t||t.resetForm(),p.value=!0},C=(e,t)=>t.some(t=>t.name===e),O=e=>{b.value=b.value.filter(t=>t.display[0]!==e.name)};return ve(async()=>{await(async()=>{y.value=await Ot.getComplaintsList("Presenting complaint"),u(n.value,"PresentingComplaints","multiSelectData",y.value)})()}),t({onSubmit:async()=>{const e=b.value.flatMap(e=>e.data);if(e.length<=0)return o("Presenting complaints is required");e.length<=0||(await m.addObsToEncounterPatient(e,s.AHD_PRESENTING_COMPLAINTS),g("Presenting complaints saved successful"),b.value=[])}}),(e,t)=>{const a=he("ion-row"),n=he("ion-label"),o=he("ion-accordion"),s=he("ion-accordion-group");return be(),xe(Ie,null,[_e(wt,{status:d.value,content:"No presenting complaints added"},null,8,["status"]),p.value?(be(),xe("span",ua,[_e(f,{listData:b.value,"onClicked:delete":O},null,8,["listData"])])):we("",!0),r.value?(be(),fe(a,{key:1},{default:ye(()=>[_e(S,{formData:D.value,ref_key:"formRef",ref:x},null,8,["formData"]),De("div",pa,[_e(h,{fill:"clear",icon:i.value.plus,iconSlot:"icon-only","onClicked:btn":t[0]||(t[0]=e=>(async()=>{var e,t;const a=null===(e=x.value)||void 0===e?void 0:e.getFormValues();null==(null===(t=x.value)||void 0===t?void 0:t.validateForm())&&(I(a),r.value=!1,c.value=!0)})()),name:"Save"},null,8,["icon"])])]),_:1})):we("",!0),c.value?(be(),fe(a,{key:2,style:{"margin-top":"10px"}},{default:ye(()=>[_e(h,{fill:"clear",icon:i.value.plus,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=e=>(d.value=!1,c.value=!1,void(r.value=!0))),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):we("",!0),_e(a,null,{default:ye(()=>[_e(s,{ref_key:"accordionGroup",ref:_,class:"previousView"},{default:ye(()=>[_e(o,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:ye(()=>[_e(Ae(Ne),{slot:"header",color:"light"},{default:ye(()=>[_e(n,{class:"previousLabel"},{default:ye(()=>[...t[2]||(t[2]=[Fe("Previous presenting complaints",-1)])]),_:1})]),_:1}),De("div",ma,[_e(St)])]),_:1})]),_:1},512)]),_:1})],64)}}}),[["__scopeId","data-v-04755951"]]);class va extends O{constructor(t,a,n){super(t,s.AHD_HIV_STAGING,n),e(this,"age",void 0),e(this,"confirmatoryTest",void 0),this.age=a,this.confirmatoryTest=null}isAdult(){return this.age>=15}isPedaid(){return this.age<=14}setAge(e){this.age=e}getFacilities(e=""){return k.getFacilities({name:e})}getConfirmatoryTestType(){return this.confirmatoryTest}cd4CountIsValid(e){try{return!!e.match(/^(=|<|>)([0-9]*)$/m)}catch(t){return!1}}getAlertGuidelines(){return E}getWhoStageGuidelines(){return this.isAdult()?T:L}getProgramEligibilityGuidelines(){return this.isAdult()?P:B}getRecommendedConditionGuidelines(){return this.isAdult()?H:N}getStagingConditions(e){const t=this.getStagingCategoryByNum(e);return O.getConceptsByCategory(t)}buildWhoStageObs(e){return this.buildValueCoded("Who stage",e)}buildWhoCriteriaObs(e){return this.buildValueCoded("Who stages criteria present",e)}buildReasonForArtObs(e){return this.buildValueCoded("Reason for ART eligibility",e)}getStagingCategoryByNum(e){switch(e){case 1:return this.isAdult()?"stage_1_conditions_adults":"stage_1_conditions_pedaids";case 2:return this.isAdult()?"stage_2_conditions_adults":"stage_2_conditions_pedaids";case 3:return this.isAdult()?"stage_3_conditions_adults":"stage_3_conditions_pedaids";case 4:return this.isAdult()?"stage_4_conditions_adults":"stage_4_conditions_pedaids";default:return""}}async loadHivConfirmatoryTestType(){const e=await O.getFirstValueCoded(this.patientID,"Confirmatory hiv test type");e&&(this.confirmatoryTest=e)}}const ha={key:0,class:"ion-padding"},fa={class:"accordion_group ion-padding"},ba={style:{"font-weight":"bold"}},ya={class:"error"},_a={class:"ion-padding",slot:"content"},Da={class:"ion-padding"},xa={class:"ion-padding"},Ia={key:0,class:"ion-padding"},Ca={class:"ion-padding",style:{"border-bottom":"dashed #ccc"}},wa=pe({__name:"AHDStaging",props:{hideSubmit:{type:Boolean,default:!1},date:{default:va.getSessionDate()}},setup(e,{expose:t}){const a=e,n=new M,i=ge({}),l=new va(n.getID(),n.getAge(),-1);Oe(()=>a.date,e=>{var t;const a=null!==(t=null==e?void 0:e.standardDate)&&void 0!==t?t:va.getSessionDate(),i=at(a).diff(n.getBirthdate(),"years");l.setAge(i),l.setDate(a)},{deep:!0,immediate:!0});const d=We({stage_4_conditions:{title:"Stage 4 Conditions",options:[]},stage_3_conditions:{title:"Stage 3 Conditions",options:[]},stage_2_conditions:{title:"Stage 2 Conditions",options:[]},stage_1_conditions:{title:"Stage 1 Conditions",options:[]}}),r=We({cd4:"",cd4Date:"",isChildBearing:!1,reasonForArt:"",pregnant:"",breastFeeding:"",cd4Available:"",cd4Modifier:"",cd4Location:"",whoStage:"",staging:[],confirmatoryTest:""}),c={reasonForArt:{buildObs:()=>l.buildReasonForArtObs(r.reasonForArt),suggestAvalue:()=>({"PRESUMED SEVERE HIV":{priority:1,condition:()=>n.getAgeInMonths()<12&&"HIV rapid test"===r.confirmatoryTest&&D.getConceptsByCategory("pshd_condition").some(e=>_().includes(e.name))},"WHO STAGE IV PEDS":{priority:2,condition:()=>l.isPedaid()&&u(["stage_4_conditions"])},"WHO STAGE III PEDS":{priority:3,condition:()=>l.isPedaid()&&u(["stage_3_conditions"])},"HIV DNA polymerase chain reaction":{priority:4,condition:()=>n.getAgeInMonths()<12&&"HIV DNA polymerase chain reaction"===r.confirmatoryTest},"CD4 COUNT LESS THAN OR EQUAL TO 750":{priority:5,condition:()=>b(750)&&y()&&p()&&n.ageInMonths()>=24&&n.ageInMonths()<=56},"CD4 COUNT LESS THAN OR EQUAL TO 500":{priority:6,condition:()=>l.isPedaid()&&b(500)&&y()&&p()},"HIV infected":{priority:7,condition:()=>n.getAgeInMonths()<24||n.getAge()<=5},"WHO STAGE IV ADULT":{priority:1,condition:()=>{const e=D.getConceptsByCategory("severe_hiv_wasting_syndrome");return l.isAdult()&&(u(["stage_4_conditions"])||e.filter(e=>_().includes(e.name)).length>=2)}},"WHO STAGE III ADULT":{priority:2,condition:()=>l.isAdult()&&u(["stage_3_conditions"])},"cd4 less than or equal to 350":{priority:3,condition:()=>l.isAdult()&&b(350)&&p()},"cd4 less than or equal to 250":{priority:4,condition:()=>l.isAdult()&&b(250)&&p()},"cd4 less than or equal to 500":{priority:4,condition:()=>l.isAdult()&&b(500)&&p()},BREASTFEEDING:{priority:5,condition:()=>l.isAdult()&&"Yes"===r.breastFeeding&&y()},"PATIENT PREGNANT":{priority:6,condition:()=>l.isAdult()&&"Yes"===r.pregnant&&y()},Asymptomatic:{priority:7,condition:()=>y()}})},whoStage:{buildObs:()=>l.buildWhoStageObs(r.whoStage),suggestAvalue:()=>({"WHO STAGE IV ADULT":{priority:1,condition:()=>l.isAdult()&&u(["stage_4_conditions"])},"WHO STAGE III ADULT":{priority:2,condition:()=>l.isAdult()&&u(["stage_3_conditions"])},"WHO STAGE II ADULT":{priority:3,condition:()=>l.isAdult()&&u(["stage_2_conditions"])},"WHO STAGE I ADULT":{priority:4,condition:()=>l.isAdult()&&u(["stage_1_conditions"])},"WHO STAGE IV PEDS":{priority:1,condition:()=>l.isPedaid()&&(u(["stage_4_conditions"])||"WHO STAGE IV PEDS"===r.reasonForArt)},"WHO STAGE III PEDS":{priority:2,condition:()=>l.isPedaid()&&u(["stage_3_conditions"])},"WHO STAGE II PEDS":{priority:3,condition:()=>l.isPedaid()&&u(["stage_2_conditions"])},"WHO STAGE I PEDS":{priority:4,condition:()=>l.isPedaid()&&u(["stage_1_conditions"])}})},cd4Available:{required:()=>!0,dataHandler:e=>{"Yes"!=e&&(r.cd4="",r.cd4Date=""),i.value.cd4="",i.value.cd4Modifier="",i.value.cd4Date="",i.value.cd4Location=""}},pregnant:{required:()=>r.isChildBearing,buildObs:()=>l.buildValueCoded("Is patient pregnant?",r.pregnant)},breastFeeding:{required:()=>r.isChildBearing,buildObs:()=>l.buildValueCoded("Is patient breast feeding?",r.breastFeeding)},cd4:{required:()=>"Yes"===r.cd4Available,validation:()=>{f()?h()>1e4&&(i.value.cd4="CD4 value cannot exceed 10,000"):i.value.cd4="A number is required"},buildObs:()=>l.buildValueNumber("CD4 count",h(),v())},cd4Modifier:{required:()=>"Yes"===r.cd4Available,validation:()=>{r.cd4Modifier||(i.value.cd4Modifier="Please select modifier")},dataHandler:e=>r.cd4Modifier=e,options:[{label:"=",value:"="},{label:">",value:">"},{label:"<",value:"<"}]},cd4Date:{required:()=>"Yes"===r.cd4Available,dataHandler:e=>{e&&(r.cd4Date=at(e).format("YYYY-MM-DD"))},validation:()=>{if(isNaN(new Date(r.cd4Date).getTime()))return void(i.value.cd4Date="Invalid CD4 date");const e=at(r.cd4Date);e.isAfter(at(l.getDate()))?i.value.cd4Date=`Cd4 result date can't be greater than ${l.getDate()}`:e.isBefore(at(n.getBirthdate()))&&(i.value.cd4Date="CD4 date must not be earlier than birthdate")},buildObs:()=>l.buildValueDate("Cd4 count datetime",r.cd4Date)},cd4Location:{required:()=>"Yes"===r.cd4Available,dataHandler:e=>r.cd4Location=e,buildObs:()=>l.buildValueText("Cd4 count location",r.cd4Location)},staging:{validation:()=>{if(Object.keys(d).every(e=>C(e)<=0))return void(i.value.staging="Please select one or more staging conditions");const e=["stage_4_conditions","stage_3_conditions","stage_2_conditions"].some(e=>C(e)>0);d.stage_1_conditions.options.some(e=>/asymptomatic/i.test(e.name)&&e.checked)&&e&&(i.value.staging="Asymptomatic cannot be selected with other staging conditions")},buildObs:()=>Object.keys(d).reduce((e,t)=>(d[t].options.forEach(t=>{t.checked&&e.push(t.name)}),e),[]).map(e=>l.buildWhoCriteriaObs(e))}};function u(e){return e.some(e=>C(e)>0)}function p(){return new Date(r.cd4Date)<=new Date("2016-04-30")}function v(){return r.cd4Modifier}function h(){return parseInt(`${r.cd4}`)}function f(){return/^\d+$/i.test(`${r.cd4}`)}function b(e){if(!f())return!1;const t=v(),a=h();return"="===t&&e===a||("<"===t&&a<=e||">"===t&&a>=e)}function y(){return u(["stage_2_conditions","stage_1_conditions"])}function _(){return Object.keys(d).reduce((e,t)=>(d[t].options.forEach(t=>t.checked&&e.push(t.name)),e),[])}function x(e){if(i.value[e]="","function"==typeof c[e].required){if(c[e].required()&&!r[e])return void(i.value[e]="This field is required")}r[e]&&"function"==typeof c[e].validation&&c[e].validation()}function I(){return Object.keys(r).reduce((e,t)=>{if(t in c&&r[t]&&"function"==typeof c[t].buildObs){const a=c[t].buildObs();return Array.isArray(a)?[...e,...a]:[...e,a]}return e},[])}function C(e){return d[e].options.filter(e=>e.checked).length}function w(e,t){e in c&&"function"==typeof c[e].dataHandler&&c[e].dataHandler(t),x(e),Object.keys(c).forEach(e=>function(e){if(c[e]&&"suggestAvalue"in c[e]){var t,a;r[e]="";const n=c[e].suggestAvalue(),i=Object.keys(n).reduce((e,t)=>{const a=n[t];return"function"==typeof a.condition&&a.condition()?[...e,{value:t,priority:a.priority}]:e},[]);r[e]=null!==(t=null===(a=i.sort((e,t)=>e.priority-t.priority))||void 0===a||null===(a=a[0])||void 0===a?void 0:a.value)&&void 0!==t?t:""}}(e))}function A(){Object.keys(d).forEach(e=>{var t,a;const n=Number(null!==(t=null===(a=e.match(/\d+/))||void 0===a?void 0:a[0])&&void 0!==t?t:0),i=l.getStagingConditions(n);d[e].options=i.map(e=>({checked:!1,name:e.name,concept_id:e.concept_id}))})}function S(){return Object.keys(c).forEach(e=>x(e)),Object.keys(i.value).every(e=>`${i.value[e]}`.length<=0)}return Oe(()=>a.date,e=>{l.setDate(e),n.date=e,Object.keys(r).forEach(e=>{"boolean"==typeof r[e]?r[e]=!1:Array.isArray(r[e])?r[e]=[]:r[e]=""}),Object.keys(i.value).forEach(e=>i.value[e]=""),A()}),ve(async()=>{await async function(){await l.loadHivConfirmatoryTestType(),r.confirmatoryTest=l.getConfirmatoryTestType(),r.isChildBearing=n.isChildBearing()}(),A()}),t({validateStagingForm:S,buildPayload:I,onSubmit:async function(){if(console.log("Submitting staging"),!S())return o("Please review form for errors"),!1;try{const e=await Promise.all(I());return await m.addObsToEncounterPatient(e,s.AHD_HIV_STAGING),g("Staging Observations saved!"),!0}catch(e){return console.error(e),W("Error has occured while saving observations"),!1}}}),(e,t)=>(be(),fe(Ae(tt),null,{default:ye(()=>[_e(Ae(qe),null,{default:ye(()=>[r.isChildBearing?(be(),xe("div",ha,[_e(Ae(Ye),null,{default:ye(()=>[_e(Ae(je),null,{default:ye(()=>[_e(Ae(Ge),null,{default:ye(()=>[_e(V,{label:"Pregnant?",modelValue:r.pregnant,"onUpdate:modelValue":t[0]||(t[0]=e=>r.pregnant=e),onIonChange:t[1]||(t[1]=e=>w("pregnant",e)),"error-message":i.value.pregnant},null,8,["modelValue","error-message"])]),_:1}),_e(Ae(Ge),null,{default:ye(()=>[_e(V,{label:"Breastfeeding?",modelValue:r.breastFeeding,"onUpdate:modelValue":t[2]||(t[2]=e=>r.breastFeeding=e),onOnChange:t[3]||(t[3]=e=>w("breastFeeding",e)),"error-message":i.value.breastFeeding},null,8,["modelValue","error-message"])]),_:1})]),_:1})]),_:1})])):we("",!0),De("div",fa,[_e(Ae($e),{color:"light"},{default:ye(()=>[(be(!0),xe(Ie,null,Ce(d,(e,a)=>(be(),fe(Ae(Qe),{key:a},{default:ye(()=>[_e(Ae(Ne),{color:"light",slot:"header"},{default:ye(()=>[_e(Ae(Ke),{style:{color:"grey","font-size":"17px"},class:"ion-padding"},{default:ye(()=>[De("b",ba,[Fe(Xe(e.title)+" ",1),_e(Ae(Je),{color:C(`${a}`)>0?"primary":void 0},{default:ye(()=>[Fe(" Selected: "+Xe(C(`${a}`)),1)]),_:2},1032,["color"])]),De("p",ya,Xe(i.value.staging),1)]),_:2},1024)]),_:2},1024),De("div",_a,[_e(Ae(He),null,{default:ye(()=>[(be(!0),xe(Ie,null,Ce(e.options,(e,n)=>(be(),fe(Ae(Ne),{key:n},{default:ye(()=>[_e(Ae(Ze),{modelValue:e.checked,"onUpdate:modelValue":t=>e.checked=t,onIonChange:t=>w("staging",{stage_type:a,raw:t,option:e})},null,8,["modelValue","onUpdate:modelValue","onIonChange"]),_e(Ae(Ke),{style:{margin:"13px"}},{default:ye(()=>[Fe(Xe(e.name),1)]),_:2},1024),t[15]||(t[15]=De("p",null,null,-1)),e.description?(be(),fe(Ae(et),{key:0,color:e.color},{default:ye(()=>[Fe(Xe(e.text),1)]),_:2},1032,["color"])):we("",!0)]),_:2},1024))),128))]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),De("div",Da,[De("div",xa,[_e(V,{label:"Recent CD4 count results available?",modelValue:r.cd4Available,"onUpdate:modelValue":t[4]||(t[4]=e=>r.cd4Available=e),onOnChange:t[5]||(t[5]=e=>w("cd4Available",e)),"error-message":i.value.cd4Available},null,8,["modelValue","error-message"])]),"Yes"===r.cd4Available?(be(),xe("div",Ia,[_e(Ae(Ye),{class:"ion-padding"},{default:ye(()=>[_e(Ae(je),null,{default:ye(()=>[_e(Ae(Ge),null,{default:ye(()=>[_e(R,{label:"CD4 Count Date",modelValue:r.cd4Date,"onUpdate:modelValue":t[6]||(t[6]=e=>r.cd4Date=e),required:"Yes"===r.cd4Available,"error-message":i.value.cd4Date,onOnChange:t[7]||(t[7]=e=>w("cd4Date",e))},null,8,["modelValue","required","error-message"])]),_:1})]),_:1}),_e(Ae(je),null,{default:ye(()=>[_e(Ae(Ge),{size:"2"},{default:ye(()=>[_e(z,{label:"CD4 Result Modifier",required:"Yes"===r.cd4Available,"error-message":i.value.cd4Modifier,options:c.cd4Modifier.options,onOnChange:t[8]||(t[8]=e=>w("cd4Modifier",e.value))},null,8,["required","error-message","options"])]),_:1}),_e(Ae(Ge),{size:"10"},{default:ye(()=>[_e(F,{label:"CD4 Count",modelValue:r.cd4,"onUpdate:modelValue":t[9]||(t[9]=e=>r.cd4=e),type:"number",onOnChange:t[10]||(t[10]=e=>w("cd4",e)),placeholder:"Enter CD4 Count","error-message":i.value.cd4},null,8,["modelValue","error-message"])]),_:1})]),_:1}),_e(Ae(je),{style:{"margin-top":"15px"}},{default:ye(()=>[_e(Ae(Ge),null,{default:ye(()=>[_e(U,{label:"CD4 Count Location",modelValue:r.cd4Location,"onUpdate:modelValue":t[11]||(t[11]=e=>r.cd4Location=e),required:"Yes"===r.cd4Available,"error-message":i.value.cd4Location,show_error:!1,selected_district_ids:[],selected_location:r.cd4Location,onOnChange:t[12]||(t[12]=e=>{w("cd4Location",e)})},null,8,["modelValue","required","error-message","selected_location"])]),_:1})]),_:1})]),_:1})])):we("",!0)]),De("div",Ca,[_e(Ae(Ye),null,{default:ye(()=>[_e(Ae(je),null,{default:ye(()=>[_e(Ae(Ge),null,{default:ye(()=>[_e(Ae(Te),{readonly:"",placeholder:"N/A",label:"REASON FOR ART:",modelValue:r.reasonForArt,"onUpdate:modelValue":t[13]||(t[13]=e=>r.reasonForArt=e)},null,8,["modelValue"])]),_:1}),_e(Ae(Ge),null,{default:ye(()=>[_e(Ae(Te),{readonly:"",placeholder:"N/A",label:"WHO STAGE:",modelValue:r.whoStage,"onUpdate:modelValue":t[14]||(t[14]=e=>r.whoStage=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}))}}),Aa=d(wa,[["__scopeId","data-v-f482cf99"]]),Sa={style:{display:"flex","align-items":"center"}},Oa={style:{width:"90vw",margin:"0 auto","margin-top":"10px"}},ka=t("_",pe({__name:"AHDWorkflow",props:{closeModalOnFinish:{type:Boolean,default:!1}},setup(e,{expose:t}){const{onTabBeforeChange:a,currentTabIndex:n}=kt();nt();const i=it(),s=ge(!0),d=ge(!1),r=ge(!1),c=ge(null),u=ge(null),p=ge(null),m=Ue(()=>({text:r.value?"Saving...":"Finish",icon:r.value?"hourglass-outline":"checkmark",hideText:!1,hideIcon:!1,disabled:d.value||r.value})),g=C(),v=q(),h=Y(),{patient:f}=me(g),{sessionDate:b}=me(h);Oe(m,(e,t)=>{console.log("Done button options changed:",{from:t,to:e,currentStep:n.value,tabsLength:D.value.length}),e.disabled!==(null==t?void 0:t.disabled)&&console.log("Done button "+(e.disabled?"disabled":"enabled")),e.text!==(null==t?void 0:t.text)&&console.log(`Done button text changed from "${null==t?void 0:t.text}" to "${e.text}"`)},{deep:!0}),Oe(r,(e,t)=>{e!==t&&(console.log(`Saving state changed: ${t} -> ${e}`),e?console.log("Starting save process..."):console.log("Save process completed"))});const y=e=>{console.log("Done button change received from wizard:",e),e.newOptions.disabled&&console.log("Done button has been disabled"),e.isLastStep&&console.log("User is on the last step, done button should be visible")},_=()=>{let e=!1;return x(),r.value&&(e=!0),d.value=e,!e},D=ge([{title:"Presenting Complaints",icon:""},{title:"Past Medical History",icon:""},{title:"WHO",icon:""},{title:"Investigation",icon:""}]);ge(null),ge(null);const x=()=>{var e;if(!D.value||0===D.value.length)return console.log("Tabs not yet initialized"),null;const t=n.value>=0&&n.value<D.value.length?n.value:0;switch(null===(e=D.value[t])||void 0===e?void 0:e.title){case"Presenting Complaints":return"Presenting Complaints";case"Past Medical History":return"Past Medical History";case"WHO":return"WHO";case"Investigation":return"Investigation";default:if(v.NCDActivities.length>0){switch(v.NCDActivities[0]){case"Presenting Complaints":return"Presenting Complaints";case"Past Medical History":return"Past Medical History";case"WHO":return"WHO";case"Investigation":return"Investigation"}}return null}},w=()=>{s.value=!1,setTimeout(()=>{n.value=0,s.value=!0},0)},A=async()=>{j(b.value,"sessionDate","value")||I.sessionDate(),G("vitals");for(let e=0;e<D.value.length;e++)D.value[e];_()},S=async(e,t)=>{var a;null===(a=D.value[t])||void 0===a||a.title,e%1==0&&(n.value=e)},O=async()=>{r.value=!0;try{var e,t,a;null===(e=c.value)||void 0===e||e.onSubmit(),null===(t=u.value)||void 0===t||t.onSubmit(),null===(a=p.value)||void 0===a||a.onSubmit(),st.dismiss()}catch(n){console.error("Error saving data:",n),o("Error occurred while saving data. Please try again.")}finally{r.value=!1}};return ve(async()=>{D.value=[{title:"Presenting Complaints",icon:""},{title:"Past Medical History",icon:""},{title:"WHO",icon:""},{title:"Investigation",icon:""}],await A(),(void 0===n.value||n.value<0)&&(n.value=0,console.log("Setting initial tab index to 0")),d.value=!1,r.value=!1,_()}),Oe(n,async()=>{await _()}),Oe(b,async()=>{await A()},{deep:!0}),Oe(i,async e=>{w(),D.value=[{title:"Presenting Complaints",icon:""},{title:"Past Medical History",icon:""},{title:"WHO",icon:""},{title:"Investigation",icon:""}]},{deep:!0}),Oe(f,async(e,t)=>{await A(),e.ID!=t.ID&&w()},{deep:!0}),t({saveData:O,markWizard:A,refreshWizard:w,validateDoneButtonState:_}),(e,t)=>{const n=he("ion-icon"),i=he("ion-title"),o=he("ion-toolbar"),d=he("ion-header");return be(),xe(Ie,null,[_e(d,null,{default:ye(()=>[_e(o,{class:"modal-title"},{default:ye(()=>[_e(i,null,{default:ye(()=>[De("div",Sa,[_e(n,{icon:Ae(l).demographics,class:"sub-menu-icon",style:{"font-size":"1.4rem"}},null,8,["icon"]),t[2]||(t[2]=De("b",{style:{"margin-left":"6px"}},"Advance HIV Disease",-1))])]),_:1}),_e(n,{slot:"end",onClick:t[0]||(t[0]=e=>Ae(st).dismiss()),style:{"font-size":"30px","padding-right":"10px"},icon:Ae(ot)},null,8,["icon"])]),_:1})]),_:1}),_e(Ae(Ve),{class:"ion-padding"},{default:ye(()=>[De("div",Oa,[s.value?(be(),fe(Et,{key:0,ref:"wizard",headingTitle:"AHD Screening","vertical-tabs":"","navigable-tabs":"","scrollable-tabs":"",startIndex:0,doneButton:m.value,"custom-tabs":D.value,beforeChange:Ae(a),onChange:S,"onComplete:wizard":t[1]||(t[1]=e=>O()),onDoneButtonChanged:y},{default:ye(()=>[lt(De("div",null,[_e(ga,{ref_key:"AHDPresentingComplaintsRef",ref:c},null,512)],512),[[dt,"Presenting Complaints"==x()]]),lt(De("div",null,[_e(Zt,{ref_key:"AHDPastMedicalHistoryRef",ref:u},null,512)],512),[[dt,"Past Medical History"==x()]]),lt(De("div",null,[_e(Aa,{ref_key:"AHDStagingRef",ref:p},null,512)],512),[[dt,"WHO"==x()]]),lt(De("div",null,[_e(ca,{ref:"investigationRef"},null,512)],512),[[dt,"Investigation"==x()]])]),_:1},8,["doneButton","custom-tabs","beforeChange"])):we("",!0)])]),_:1})],64)}}})),Ea=t("i",async()=>{const{hasWaitingList:e}=Lt(),t=await m.getObsByEncounterIdAndDate(s.PRESENTING_COMPLAINTS),a=await m.getObsByEncounterId(s.HIV_CLINIC_REGISTRATION),n=await m.getObsByEncounterId(s.PAST_MEDICAL_HISTORY),i=await m.getObsByEncounterId(s.HIV_STATUS_AT_ENROLLMENT),o=await m.getObsByEncounterId(s.PATIENT_OUTCOME),l=await D.getConceptID("Slow onset severe headache"),d=await D.getConceptID("Confusion"),r=await D.getConceptID("Fever"),c=await D.getConceptID("Neck stiffness"),u=await D.getConceptID("Persistent fever/drenching night sweats"),p=await D.getConceptID("Weight loss or failure to thrive"),g=await D.getConceptID("Anaemia<8gdl"),v=await D.getConceptID("Enlarged nodes"),h=await D.getConceptID("Meningits signs"),f=await D.getConceptID("Cough"),b=await D.getConceptID("Yes"),y=await D.getConceptID("Reactive"),_=await D.getConceptID("New Positive"),x=await D.getConceptID("HIV status"),I=await D.getConceptID("Presenting complaint"),C=m.isValueCodedAvailable(t,[l,d,r,c,u,p,g,v,h,f],I),w=m.isValueCodedAvailable(n,[b],x),A=m.isValueCodedAvailable(i,[y],x),S=m.isValueCodedAvailable(o,[b],_);return console.log(" ~ isQualifiedAHD ~ hasCoughComplaint:",C),console.log(" ~ isQualifiedAHD ~ isClinician():",Tt()),console.log(' ~ isQualifiedAHD ~ hasWaitingList("Waiting for Consultation")) :',e("Waiting for Consultation")),console.log(" ~ isQualifiedAHD ~ hasHIVHistory:",w),(Tt()||e("Waiting for Consultation"))&&C&&(w||S||A||a.length>0)}),Ta={class:"background"},La={key:0},Pa={key:1},Ba={key:2},Ha={class:"",slot:"content",style:{"margin-bottom":"125px","margin-top":"2px"}},Na={key:3},Ma={class:"ion-padding",slot:"content"},Va={key:4},Ra=(t("I",d(pe({__name:"Investigations",setup(e,{expose:t}){const a=ge("Lab Investigations"),i=ge(!1);ge(!0);const o=ge(!1),s=ge(!1),l=ge(!0),d=ge(""),r=ge("");ge("");const c=ge("");ge(""),ge([]),ge(!1);const p=ge(!1);ge("");const m=ge("");ge(!1),ge(!1);const g=x(),h=C(),{investigations:f}=me(g),{patient:b}=me(h),y=it(),w=nt(),A=Ue(()=>f.value[0].data.rowData[0].colData),S=e=>{a.value=e},O=async()=>{let e;e=v.getPouchDbStatus()&&v.getLanConnectionStatus()?await _("test_types"):await n.getTestTypes(),u(f.value,"test","multiSelectData",e)},k=async()=>{var e;if(null===(e=b.value)||void 0===e||!e.labOrders)return;c.value=[...b.value.labOrders.saved,...b.value.labOrders.unsaved];const t=await c.value.filter(e=>I.toStandardHisFormat(I.sessionDate())===I.toStandardHisFormat(e.order_date));t.length>0?f.value[0].selectedData=t:f.value[0].selectedData=""},E=async()=>{await k(),g.setInvestigations(f.value)},T=async()=>await L(A.value[0].value.name,await f.value[0].selectedData)?(u(f.value,"test","alertsErrorMassage","Lab order already selected"),!1):(u(f.value,"test","alertsErrorMassage",""),!0),L=(e,t)=>{for(let a of t)for(let t of a.tests)if(t.name===e)return!0;return!1},P=async()=>{const e=new Mt;await e.postActivities(b.value.patientID,[{concept_id:A.value[0].value.concept_id,name:A.value[0].value.name,specimen:A.value[1].value.name,reason:"Routine",specimenConcept:await D.getConceptID(A.value[1].value.name,!0)}]),u(f.value,"specimen","disabled",!0),c.value=[...b.value.labOrders.saved,...b.value.labOrders.unsaved]},B=()=>{(A.value[1].value||A.value[0].value)&&(l.value=!1,o.value=!0,i.value=!1),f.value[0].selectedData.length>0?(s.value=!0,i.value=!1):o.value||(i.value=!0)};return Oe(f,()=>{B()},{deep:!0}),Oe(b,async()=>{var e;null!==(e=b.value)&&void 0!==e&&e.labOrders&&(c.value=[...b.value.labOrders.saved,...b.value.labOrders.unsaved])},{deep:!0}),Oe(y,async()=>{await O()},{deep:!0}),ve(async()=>{await O(),E(),B(),k()}),t({openAHDModal:async()=>{if(await Ea()&&"OPDConsultationPlan"==w.currentRoute.value.name){await $("Do you want to do AHD screening?")&&(await Q(ka,{class:"fullScreenModal"}),await K(b.value))}},setSegmentContent:S,getTests:O,toggleLabOrderStatus:()=>{p.value=!p.value},updateInvestigationWizard:k,updateInvestigationsStores:E,displayInputFields:()=>{r.value="",d.value="",i.value=!1,l.value=!1,o.value=!0},validateRowData:async()=>bt(f.value),checkTest:T,addNewRow:async()=>{bt(f.value)&&await T()&&(await P(),f.value[0].data.rowData[0].colData[0].value="",f.value[0].data.rowData[0].colData[1].value="",o.value=!1,s.value=!0,l.value=!0),k()},isNameInData:L,saveTest:P,handleInputData:async e=>{if("Test"==e.inputHeader&&T(),u(f.value,"specimen","alertsErrorMassage",""),"Test"==e.inputHeader&&e.value){let t;t=v.getPouchDbStatus()&&v.getLanConnectionStatus()?await _("specimens"):await n.getSpecimens("",1e3),m.value=await D.getConceptSet(e.value.name,"",{names:t.map(e=>e.name)}),1==m.value.length?(u(f.value,"specimen","value",m.value[0]),u(f.value,"specimen","disabled",!0)):(u(f.value,"specimen","value",""),u(f.value,"specimen","disabled",!1)),u(f.value,"specimen","multiSelectData",m.value)}},filterTest:async e=>await c.value.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())),filterSpecimen:async e=>{var t;return null!==(t=m.value[0])&&void 0!==t&&t.name&&e?await m.value.filter(t=>null==t?void 0:t.name.toLowerCase().includes(e.toLowerCase())):[]},setTest:e=>{d.value=e.name,"Test"==A.value[1].inputHeader?f.value[0].data.rowData[0].colData[0].value=e.name:f.value[0].data.rowData[0].colData[1].value=e.name,E()},setDashedBox:B}),(e,t)=>{const n=he("ion-label"),i=he("ion-segment-button"),o=he("ion-segment"),s=he("VisitsHistory");return be(),xe("div",Ta,[_e(o,{value:a.value,style:{"margin-top":"5px"}},{default:ye(()=>[_e(i,{value:"Lab Investigations",onClick:t[0]||(t[0]=e=>S("Lab Investigations"))},{default:ye(()=>[_e(n,null,{default:ye(()=>[...t[3]||(t[3]=[Fe("Lab Investigations",-1)])]),_:1})]),_:1}),_e(i,{value:"Radiology Investigation",onClick:t[1]||(t[1]=e=>S("Radiology Investigation"))},{default:ye(()=>[_e(n,null,{default:ye(()=>[...t[4]||(t[4]=[Fe("Radiology Investigation",-1)])]),_:1})]),_:1}),_e(i,{value:"Other Investigation",onClick:t[2]||(t[2]=e=>S("Other Investigation"))},{default:ye(()=>[_e(n,null,{default:ye(()=>[...t[5]||(t[5]=[Fe("Other Investigation",-1)])]),_:1})]),_:1})]),_:1},8,["value"]),"Radiology Investigation"==a.value?(be(),xe("div",La,[_e(s)])):we("",!0),"Other Investigation"==a.value?(be(),xe("div",Pa)):we("",!0),"Lab Investigations"==a.value?(be(),xe("div",Ba,[De("div",Ha,[De("span",null,[_e(ft,{propOrders:c.value},null,8,["propOrders"])])])])):we("",!0),"Radiology Investigation"==a.value?(be(),xe("div",Na,[De("div",Ma,[_e($t)])])):we("",!0),"Other Investigation"==a.value?(be(),xe("div",Va)):we("",!0)])}}}),[["__scopeId","data-v-a8c898e3"]])),pe({created(){},components:{IonItem:Ne,IonCol:Ge,IonLabel:Ke,IonIcon:rt},data(){return{iconsContent:l,localMedicalDrugsList:[...this.$props._selectedMedicalDrugsList]}},props:{_selectedMedicalDrugsList:{type:Array,default:[]},show_actions_buttons:{type:Boolean,default:!0},highLightBackground:{type:String,default:"item-native"}},watch:{},methods:{highlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#006401"),this.highlightActionBtns(e)},undoHighlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#636363"),this.undohighlightActionBtns(e)},highlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="inline-block"},undohighlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="none"},asignLblID:e=>e+"_lbl",asignSpanLblID:e=>e+"_spanlbl",async removeItemAtIndex(e,t){await X("Do you want to delete it?",t)&&this.$emit("remove-item",e)},editItemAtIndex(e){this.$emit("edit-item",e)},highLightBnd(e){return!!e&&(void 0!==e.highlightbackground&&1==e.highlightbackground?this.$props.highLightBackground:void 0)}}})),za=["onMousemove","onMouseout"],Fa={class:"route-label"};t("D",d(Ra,[["render",function(e,t,a,n,i,o){const s=he("ion-label"),l=he("ion-col"),d=he("ion-row"),r=he("ion-icon");return be(!0),xe(Ie,null,Ce(e.localMedicalDrugsList,(t,a)=>(be(),xe("div",{id:"df",class:"medication-item",key:a,onMousemove:t=>e.highlightItem(a),onMouseout:t=>e.undoHighlightItem(a)},[_e(d,{class:"medication-header"},{default:ye(()=>[_e(l,{class:ct(["ion-text-wrap",e.highLightBnd(t)])},{default:ye(()=>[_e(s,{id:e.asignLblID(a),class:"medication-name"},{default:ye(()=>[Fe(Xe(t.drugName),1)]),_:2},1032,["id"])]),_:2},1032,["class"])]),_:2},1024),_e(d,{class:"medication-details"},{default:ye(()=>[_e(l,{size:"10",class:ct(["ion-text-wrap details-col",e.highLightBnd(t)])},{default:ye(()=>[_e(s,{class:"details-text"},{default:ye(()=>[Fe(Xe(t.dose)+" / "+Xe(t.frequency)+" / daily / "+Xe(t.duration)+" / until "+Xe(t.prescription)+" ",1),De("span",Fa,Xe(t.route_name),1)]),_:2},1024)]),_:2},1032,["class"]),e.show_actions_buttons?(be(),fe(l,{key:0,class:ct([e.highLightBnd(t),"actions-col"]),size:"2"},{default:ye(()=>[_e(s,{class:ct(["action-button",e.asignSpanLblID(a)]),onClick:t=>e.editItemAtIndex(a)},{default:ye(()=>[_e(r,{icon:e.iconsContent.edit},null,8,["icon"])]),_:1},8,["class","onClick"]),_e(s,{class:ct(["action-button",e.asignSpanLblID(a)]),onClick:t=>e.removeItemAtIndex(a,t)},{default:ye(()=>[_e(r,{icon:e.iconsContent.delete},null,8,["icon"])]),_:1},8,["class","onClick"])]),_:2},1032,["class"])):we("",!0)]),_:2},1024)],40,za))),128)}],["__scopeId","data-v-01c693a3"]]));const Ua={key:0,class:"custom-allergy-container"},Wa={class:"button-group"},qa=pe({watch:{},name:"AllergiesComponent"}),Ya=pe({...qa,setup(e,{expose:t}){const a=J(),n=C(),i=Z(),l=Ue(()=>a.selectedMedicalAllergiesList),d=Ue(()=>n.patient),r=Ue(()=>a.medicalAllergiesList),c=ge(x(8,"item-")),u=Ue(()=>a.selectedMedicalAllergiesList),p=ge(""),h=ge(!1),f=[{multi_Selection:!0,show_list_label:!0,unqueId:c.value,name_of_list:"Add/Remove allergies",placeHolder:"Search for an allergy",items:[],listUpdatedFN:function(e){e.forEach(e=>{1==e.selected&&"Other"===e.name&&(h.value="Other"===e.name),0==e.selected&&"Other"===e.name&&I()}),a.setSelectedMedicalAllergiesList(e),_()},listFilteredFN:()=>{},searchTextFN:async function(e){const t=e,n=await D.getConceptSet("OPD Medication",t);if(!n)return;n.map(e=>({label:e.name,value:e.name,other:e}));const i=ee(t),o=te(i,n).sort((e,t)=>e.name.localeCompare(t.name));a.setMedicalAllergiesList(o),_()},use_internal_filter:!0,show_error:ge(!1),error_message:"please select a User",disabled:ge(!1)}],b=ge(!1);ve(async()=>{y()});const y=()=>{a.current_patient.ID!=d.value.ID&&(a.clearSelectedMedicalAllergiesList(),a.setCurrentPatient(d.value))};function _(){const e=r.value;l.value.forEach(t=>{let a=!1;e.forEach((n,i)=>{n.concept_id==t.concept_id&&!0===t.selected&&(e[i]=t,a=!0)}),a||!0!==t.selected||e.push(t)});const t=e.filter((e,t,a)=>t===a.findIndex(t=>(null==t?void 0:t.concept_id)===(null==e?void 0:e.concept_id)));a.setMedicalAllergiesList(t)}function x(e=8,t=""){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n=t;for(let i=0;i<e;i++)n+=a.charAt(Math.floor(62*Math.random()));return n+=`-${Date.now()}`,n}const I=()=>{h.value=!1,p.value="",b.value=!1;const e=a.findSelectedAllergyByName("Other");e&&a.unselectOther(e)};return t({onSubmit:async()=>{try{if(Dt.isEmpty(u.value))return;const e=await D.getConceptID("Allergic"),t=u.value.map(t=>({concept_id:e,obs_datetime:v.getSessionDate(),value_coded:t.concept_id,location_id:i.facilityLocation.code,value_text:t.name}));await m.addObsToEncounterPatient(t,s.MEDICAL_HISTORY),g("Allergies appended to patient record successfully")}catch{o("Failed to save allergies")}}}),(e,t)=>(be(),fe(Ae(tt),null,{default:ye(()=>[_e(Ae(ut),null,{default:ye(()=>[_e(Ae(Ke),{class:"header-container"},{default:ye(()=>[_e(Ae(rt),{icon:Ae(pt),class:"allergy-icon"},null,8,["icon"]),t[3]||(t[3]=De("span",{style:{"font-size":"16px","font-weight":"600"}}," Allergies (Medication, Healthcare items, Environment and Food) ",-1))]),_:1})]),_:1}),_e(Ae(qe),null,{default:ye(()=>[_e(ae,{multiSelection:f[0].multi_Selection,show_label:f[0].show_list_label,uniqueId:f[0].unqueId,name_of_list:f[0].name_of_list,choose_place_holder:f[0].placeHolder,"items_-list":r.value,use_internal_filter:f[0].use_internal_filter,disabled:f[0].disabled.value,onItemListUpDated:f[0].listUpdatedFN,onItemListFiltered:f[0].listFilteredFN,onItemSearchText:f[0].searchTextFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered","onItemSearchText"]),h.value?(be(),xe("div",Ua,[_e(Ae(Te),{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),placeholder:"Please specify the allergy",fill:"outline",class:"custom-input"},null,8,["modelValue"]),De("div",Wa,[_e(Ae(mt),{onClick:t[1]||(t[1]=e=>async function(e){try{const t=e.trim();if(t){const e={name:t,selected:!0,concept_id:x(8,"12"),concept_name_id:x(8,"34")};a.setMedicalAllergiesList([...r.value,e]),a.setSelectedMedicalAllergiesList(e),h.value=!1,b.value=!0,p.value="";const n=a.findSelectedAllergyByName("Other");a.unselectOther(n)}}catch(t){console.error(t)}}(p.value)),class:"addCustomAllergyBtn"},{default:ye(()=>[...t[4]||(t[4]=[Fe(" Add Allergy ",-1)])]),_:1}),_e(Ae(mt),{onClick:t[2]||(t[2]=e=>I()),fill:"clear",class:"cancelBtn"},{default:ye(()=>[_e(Ae(rt),{icon:Ae(ot),slot:"icon-only"},null,8,["icon"])]),_:1})])])):we("",!0)]),_:1})]),_:1}))}}),ja=(t("A",d(Ya,[["__scopeId","data-v-d63cacc6"]])),{class:"checklist-container"}),Ga=pe({watch:{},name:"xxxComponent"}),$a=pe({...Ga,setup(e){const t=C(),a=Ue(()=>t.patient),n=Pt(),i=n.items;ve(async()=>{o()});const o=()=>{n.current_patient.ID!=a.value.ID&&(n.clearSelectednonPharmaTherapyStore(),n.setCurrentPatient(a.value))};return Oe(()=>a.value,async e=>{}),(e,t)=>(be(),xe("div",ja,[(be(!0),xe(Ie,null,Ce(Ae(i),e=>(be(),fe(Ae(Ne),{key:e.id,class:"no-border"},{default:ye(()=>[_e(Ae(Ze),{id:e.id,modelValue:e.checked,"onUpdate:modelValue":t=>e.checked=t,slot:"start"},null,8,["id","modelValue","onUpdate:modelValue"]),_e(Ae(Ke),{style:{"font-size":"16px","font-weight":"600"}},{default:ye(()=>[Fe(Xe(e.label),1)]),_:2},1024)]),_:2},1024))),128))]))}}),Qa=(t("a",d($a,[["__scopeId","data-v-371e920f"]])),pe({components:{IonContent:Ve,IonHeader:Me,IonItem:Ne,IonList:He,IonMenu:Be,IonTitle:Pe,IonToolbar:Le,BasicInputField:b,IonDatetime:vt,IonBadge:gt,DateInputField:Nt,DynamicButton:h},props:{showPeripheral:{type:Boolean,default:!0}},setup(e){const t=de(),a=ge(0),n=Ue(()=>t.getDisabledDates()),i=Ue(()=>t.getAssignedAppointments()),o=ge(),s=Ue(()=>e.showPeripheral);return{disabledDates:n,datesCounts:i,appointment_count:a,calendarOutline:ht,inputPRDate:o,show_peripheral:s}},data:()=>(ne(),ue(),{iconsContent:l,date:new Date(v.getSessionDate()),tomorrow:new Date(v.getSessionDate()).getDate()+1,appointment:"",drugRunoutDate:"",nextAppointmentDate:"",minDate:new Date(v.getSessionDate())}),computed:{...ke(ne,["nextAppointment","appointmentCountsCache","currentSelectedNextAppointmentDate"]),...ke(de,["maximumNumberOfDaysForEachDay","assignedAppointmentsDates"]),...ke(C,["patient"]),...ke(ue,["activeProgram"]),calendarDate(){const e=ne();return e.currentSelectedNextAppointmentDate?I.toStandardHisDisplayFormat(e.currentSelectedNextAppointmentDate):""},runOutDate(){var e;const t=ne();return 14===(null===(e=this.activeProgram)||void 0===e?void 0:e.program_id)?Bt():t.getAppointmentMedicationRunOutDate()}},watch:{calendarDate:{handler(){this.updateNextAppointment()},deep:!0},"$service.sessionDate":{handler(){this.updateMinDate()},immediate:!0},"patient.ID":{async handler(e,t){e!==t&&(this.cleanCurrentNextAppointmentDate(),this.checkIfSamePatientInContext(),this.clearNextAppointment())}}},async mounted(){this.checkIfSamePatientInContext(),await this.getAppointmentMents(this.runOutDate.date),await re().loadGlobalProperty(),this.validateAppointmentCountsCache(),await this.preloadAppointmentCounts(),ce();const e=v.getUserID(),t=new M;this.appointment=new ie(t.getID(),e),this.nextAppointmentDate=this.appointment.date,this.supposedRunOutDate(),window.addEventListener("storage",this.handleStorageChange),Bt()},beforeUnmount(){window.removeEventListener("storage",this.handleStorageChange)},methods:{handleStorageChange(e){"sessionDate"===e.key&&this.updateMinDate()},updateMinDate(){this.date=new Date(v.getSessionDate()),this.minDate=new Date(v.getSessionDate())},updateNextAppointment(){ne().setNextAppointment(this.calendarDate)},async handleDateUpdate(e){if(e){de().setAssignedAppointmentsDates(e,!0),this.calendarDate=I.toStandardHisDisplayFormat(e),await this.save(),await this.getAppointmentMents(e),await this.updateAppointmentCache(e);ne().setCurrentSelectedNextAppointmentDate(e,this.patient.ID)}},async getAppointmentMents(e){if(le().apiStatus)try{const t=await ie.getDailyAppointments(I.toStandardHisFormat(e),I.toStandardHisFormat(e));this.appointment_count=t.length}catch(t){}},getCounter(e){const t=I.toStandardHisFormat(e);return this.appointmentCountsCache[t]||""},async save(){if(this.assignedAppointmentsDates.length>0)try{const e=new Ht;await e.createOfflineAppointment()}catch(e){}},async openCornfirmModal(e){this.calendarDate=I.toStandardHisDisplayFormat(e),await this.getAppointmentMents(e);Q(se,{class:"otherVitalsModal"},!0,{message:"Are you sure you want to add this Appointment?"},{cancel:e=>{},confirm:async t=>{1==t.detail&&await this.handleDateUpdate(e)}})},async handleInput(e){this.inputPRDate=I.toStandardHisDisplayFormat(e),await this.openCornfirmModal(e)},async supposedRunOutDate(){await oe.getLastDrugsReceived(this.patient.patientID)},async preloadAppointmentCounts(){try{const t=new Date(v.getSessionDate());t.setDate(1);const a=new Date(v.getSessionDate());a.setMonth(a.getMonth()+2),a.setDate(0);try{const e=await ie.getDailyAppointments(I.toStandardHisFormat(t),I.toStandardHisFormat(a));if(!e)return;const n=this.filterUniqueAppointments(e),i={};n.forEach(e=>{const t=new Date(e.appointment_date),a=I.toStandardHisFormat(t);i[a]||(i[a]=0),i[a]++}),Object.keys(i).forEach(e=>{this.appointmentCountsCache[e]=i[e]})}catch(e){console.error("Error fetching appointments for date range:",e)}}catch(e){console.error("Error in preload process:",e)}},filterUniqueAppointments(e){const t=new Map;return e.forEach(e=>{const a=`${e.given_name}_${e.family_name}_${e.birthdate}_${e.appointment_date}`;t.has(a)||t.set(a,e)}),Array.from(t.values())},async updateAppointmentCache(e){try{const t=I.toStandardHisFormat(e),a=await ie.getDailyAppointments(I.toStandardHisFormat(e),I.toStandardHisFormat(e));if(!a)return;this.appointmentCountsCache[t]=a.length}catch(t){console.error("Error updating appointment cache:",t)}},validateAppointmentCountsCache(){ne().checkCurrentLocationIfInContext()},isRunOutDate(e){return!(!this.runOutDate||!this.runOutDate.date)&&I.toStandardHisFormat(e)===I.toStandardHisFormat(this.runOutDate.date)},cleanCurrentNextAppointmentDate(){ne().cleanCurrentSelectedNextAppointmentDate()},checkIfSamePatientInContext(){const e=ne();e.current_patient.ID!=this.patient.ID&&(this.cleanCurrentNextAppointmentDate(),e.setCurrentPatient(this.patient))},clearNextAppointment(){ne().clearAppointmentMedicationRunOutDate()}}})),Ka={class:"card_content"},Xa={class:"count-badge"},Ja={class:"dates_title"},Za={class:"sub_data"},en={class:"dates_title"},tn={class:"sub_data"},an={class:"dates_title"},nn={class:"sub_data"},on={class:"dates_title"},sn={class:"sub_data"};t("N",d(Qa,[["render",function(e,t,a,n,i,o){const s=he("VueDatePicker"),l=he("ion-col"),d=he("DynamicButton"),r=he("ion-item"),c=he("ion-row"),u=he("DateInputField");return be(),xe("div",Ka,[_e(c,null,{default:ye(()=>[_e(l,{"size-sm":"12","size-md":"12","size-lg":"12","size-xl":"8"},{default:ye(()=>[_e(s,{class:"calender",onDateUpdate:e.openCornfirmModal,inline:"","auto-apply":"","enable-time-picker":!1,"disabled-dates":e.disabledDates,"min-date":e.minDate,modelValue:e.runOutDate.date,"onUpdate:modelValue":t[0]||(t[0]=t=>e.runOutDate.date=t)},{day:ye(({day:t,date:a})=>[(be(),xe("p",{key:0,class:ct({"run-out-date":e.isRunOutDate(a)}),style:{"font-weight":"600","font-size":"20px"}},[De("span",null,[Fe(Xe(t),1),De("sup",Xa,Xe(e.getCounter(a)),1)])],2))]),_:1},8,["onDateUpdate","disabled-dates","min-date","modelValue"])]),_:1}),e.show_peripheral?(be(),fe(l,{key:0},{default:ye(()=>[_e(r,null,{default:ye(()=>[De("div",Ja,[t[3]||(t[3]=De("div",null,[Fe("Suggested Next Appointment Date "),De("span",{style:{"font-size":"16px"}},"(Medication run out date)")],-1)),De("div",Za,[Fe(Xe(e.runOutDate.formattedDate||"No run out date available")+" ",1),e.runOutDate.formattedDate?(be(),fe(d,{key:0,onClick:t[1]||(t[1]=t=>e.handleDateUpdate(e.runOutDate.date)),name:"Set Next Appt.",fill:"solid",iconSlot:"icon-only",style:{float:"right"}})):we("",!0)])])]),_:1}),_e(r,null,{default:ye(()=>[De("div",en,[t[4]||(t[4]=De("div",null,"User set appointment date",-1)),De("div",tn,Xe(e.calendarDate),1)])]),_:1}),_e(r,null,{default:ye(()=>[De("div",an,[t[5]||(t[5]=De("div",null,"Appointments",-1)),De("div",nn,Xe(e.appointment_count),1)])]),_:1}),_e(r,null,{default:ye(()=>[De("div",on,[t[6]||(t[6]=De("div",null,"Appointment limit (per/day)",-1)),De("div",sn,Xe(e.appointment_count)+"/"+Xe(e.maximumNumberOfDaysForEachDay),1)])]),_:1})]),_:1})):we("",!0)]),_:1}),e.show_peripheral?(be(),fe(c,{key:0},{default:ye(()=>[_e(l,{size:"4"},{default:ye(()=>[_e(u,{inputHeader:"Preferred Next Appointment Date",bold:"600",fontSize:"17px",placeholderFontSize:"17px",placeholderFontWeight:"600",unit:"",icon:e.calendarOutline,placeholder:"press to select date",iconRight:"",inputWidth:"100%",inputValue:e.inputPRDate,eventType:"",minDate:e.minDate,maxDate:"",disabled:!1,"onUpdate:rawDateValue":t[2]||(t[2]=t=>e.handleInput(t))},null,8,["icon","inputValue","minDate"])]),_:1})]),_:1})):we("",!0)])}],["__scopeId","data-v-4e58e0bc"]]))}}})}();
