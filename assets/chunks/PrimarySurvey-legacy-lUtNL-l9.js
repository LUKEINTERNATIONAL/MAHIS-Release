System.register(["./vendor-legacy-6303t9Ym.js","../index-legacy-C6ki2J7D.js","./DemographicBar-legacy-BE6WCEAK.js","./useFormWizard-legacy-BYPlkghx.js","./lodash-legacy-pOOc9Efu.js","./formatServerData-legacy-Cte3JP37.js","./usePatientProfile-legacy-DjLlh0WV.js","./apexcharts-legacy-CK5H4KzW.js","./drug_prescription_service-legacy-DET-Abou.js","./patient_diagnosis_service-legacy-C_rcWPv-.js","./Registration-legacy-B4PaqDqu.js","./useLocation-legacy-DFqPkIyW.js","./vaccines_service-legacy-BW0reE2-.js","./sms_service-legacy-Cz_IXAZW.js","./EIRreportsStore-legacy-BfKZ7TsU.js","./Export-legacy-CamNb7kv.js","./useNeonatalEnrollmentStore-legacy-BVlYdngo.js","./enrollment-legacy-BWFKsMdA.js"],function(e,a){"use strict";var n,t,i,o,s,l,r,d,u,p,c,m,_,y,b,g,v,h,T,A,f,w,x,N,S,D,F,Y,V,B,q,R,C,P,I,k,j,H,z,E,L,M,O,G,W,J,U,$,Q,K,Z,X,ee,ae,ne,te,ie,oe,se,le,re;return{setters:[e=>{n=e.c,t=e.d,i=e.r,o=e.O,s=e.f,l=e.u,r=e.aS,d=e.J,u=e.l,p=e.aP,c=e.an,m=e.cG,_=e.aV,y=e.w,b=e.a,g=e.a3,v=e.k,h=e.m,T=e.i,A=e.bL,f=e.v,w=e.a6,x=e.b9},e=>{N=e.aC,S=e.aD,D=e.aH,F=e.u,Y=e.aI,V=e.aJ,B=e.aK,q=e.aL,R=e.d,C=e.aM,P=e.g,I=e.Z,k=e.e,j=e.T,H=e.J,z=e.N,E=e.H,L=e.aN,M=e.aO,O=e.aP,G=e.aQ,W=e.t,J=e.aR,U=e.G,$=e.aS,Q=e.a0,K=e.S},e=>{Z=e.D},e=>{X=e.u,ee=e.a,ae=e._,ne=e.s,te=e.c,ie=e.b},e=>{oe=e.l},e=>{se=e.a,le=e.b},e=>{re=e.u},null,null,null,null,null,null,null,null,null,null,null],execute:function(){const a=t({__name:"AirwayAssessment",setup(e){const a=i(null),t=(()=>{const e=[{id:"secretion",label:"Secretions - blood, vomit, other"},{id:"tongue_swelling",label:"Tongue swelling"},{id:"neck_swelling",label:"Neck swelling"},{id:"neck_haematoma",label:"Neck haematoma"},{id:"tongue_falling_back",label:"Tongue falling back"},{id:"other",label:"Other"}],a=[{id:"suctioning_done",label:"Suctioning Done"},{id:"jaw_thrust_manoeuver",label:"Jaw thrust manoeuver"},{id:"head_tilt_chin_lift",label:"Head tilt/chin lift"},{id:"oropharyngeal",label:"Airway adjunct (Oropharyngeal airway and size / nasopharyngeal airway)"},{id:"lma_insertion",label:"Laryngeal mask airway (LMA) insertion"},{id:"endotracheal_intubation",label:"Endotracheal intubation"},{id:"cricothyroidotomy",label:"Performed Cricothyroidotomy(Surgical Airway)"},{id:"tracheostomy",label:"Performed tracheostomy"}];return{airwayAssessmentFormSection:n(()=>[{componentType:"Heading",name:"Airway Patent",grid:{s:"4"}},{componentType:"radioButtonField",header:"Is Airway Patent?",name:"is_airway_patent",obsValueType:"value_text",type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"},{label:"Threatened",value:"Threatened"}]},{componentType:"radioButtonField",header:"Is Patient Injured?",name:"is_patient_injured",obsValueType:"value_text",type:"standard",grid:{s:"4",md:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes",condition:e=>"Threatened"===e.is_airway_patent||"No"===e.is_airway_patent},{componentType:"Heading",name:"Airway Threatened Details",grid:{s:"4"},condition:e=>"Threatened"===e.is_airway_patent||"No"===e.is_airway_patent},{componentType:"multiSelectInputField",header:"Reason for Airway Threat",name:"airway_threatened_reason",obsValueType:"value_text",grid:{s:"8"},options:e,condition:e=>"Threatened"===e.is_airway_patent||"No"===e.is_airway_patent},{componentType:"inputField",header:"Specify Other Reason",name:"other_reason",obsValueType:"value_text",validation:N.required,grid:{s:"12"},condition:e=>{const a=e.airway_threatened_reason;return("Threatened"===e.is_airway_patent||"No"===e.is_airway_patent)&&Array.isArray(a)&&a.some(e=>"other"===e.id)}},{componentType:"Dashes",condition:e=>"Yes"===e.is_patient_injured},{componentType:"Alert",header:"C-Spine Stabilization Required",message:"Please stabilize the C-Spine",grid:{s:"12"},condition:e=>"Yes"===e.is_patient_injured},{componentType:"Heading",name:"Neck Collar and Head Blocks",grid:{s:"4"},condition:e=>"Yes"===e.is_patient_injured},{componentType:"radioButtonField",header:"Neck Collar Applied",name:"neck_collar_applied",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},condition:e=>"Yes"===e.is_patient_injured,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"},{label:"Not Indicated",value:"Not Indicated"}]},{componentType:"radioButtonField",header:"Head Blocks Applied",name:"head_blocks_applied",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},condition:e=>"Yes"===e.is_patient_injured,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes",condition:e=>"No"===e.is_airway_patent||"Threatened"===e.is_airway_patent},{componentType:"Heading",name:"Interventions",grid:{s:"4"},condition:e=>"No"===e.is_airway_patent||"Threatened"===e.is_airway_patent},{componentType:"multiSelectInputField",header:"Airway Opening Intervention",name:"airway_opening_intervention",obsValueType:"value_text",validation:N.required,grid:{s:"8"},options:a,condition:e=>"No"===e.is_airway_patent||"Threatened"===e.is_airway_patent},{componentType:"Dashes",condition:e=>{const a=e.airway_opening_intervention;return("No"===e.is_airway_patent||"Threatened"===e.is_airway_patent)&&Array.isArray(a)&&a.some(e=>"oropharyngeal"===e.id)}},{componentType:"Heading",name:"Airway Size",grid:{s:"12"},condition:e=>{const a=e.airway_opening_intervention;return("No"===e.is_airway_patent||"Threatened"===e.is_airway_patent)&&Array.isArray(a)&&a.some(e=>"oropharyngeal"===e.id)}},{componentType:"radioButtonField",header:"Nasopharyngeal Airway Size (CM)",name:"nasopharyngeal_airway_size",obsValueType:"value_numeric",validation:N.required,type:"standard",grid:{s:"6",md:"4"},condition:e=>{const a=e.airway_opening_intervention;return("No"===e.is_airway_patent||"Threatened"===e.is_airway_patent)&&Array.isArray(a)&&a.some(e=>"oropharyngeal"===e.id)},options:[{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8",value:"8"},{label:"9",value:"9"}]},{componentType:"radioButtonField",header:"Oropharyngeal Airway Size (MM)",name:"oropharyngeal_airway_size",obsValueType:"value_numeric",validation:N.required,type:"standard",grid:{s:"6",md:"4"},condition:e=>{const a=e.airway_opening_intervention;return("No"===e.is_airway_patent||"Threatened"===e.is_airway_patent)&&Array.isArray(a)&&a.some(e=>"oropharyngeal"===e.id)},options:[{label:"80",value:"80"},{label:"90",value:"90"},{label:"100",value:"100"},{label:"110",value:"110"},{label:"120",value:"120"}]}])}})().airwayAssessmentFormSection;return(e,n)=>(s(),o(l(r),null,{default:d(()=>[u(l(p),null,{default:d(()=>[u(S,{formData:l(t),ref_key:"formRef",ref:a},null,8,["formData"])]),_:1})]),_:1}))}}),de=t({__name:"BreathingAssessment",setup(e){const a=i(null),t=(()=>{const e=[{label:"Concentrator",value:"concentrator"},{label:"Cylinder",value:"cylinder"},{label:"Piped Oxygen",value:"piped_oxygen"}],a=[{id:"nasal_prongs",label:"Nasal Prongs"},{id:"simple_face_mask",label:"Simple face mask"},{id:"venturi_face_mask",label:"Venturi face mask"},{id:"nebulising_chamber",label:"Face mask with nebulising chamber"},{id:"non_rebreather",label:"Nonrebreather face mask"},{id:"non_invasive_ventilation_mask",label:"Noninvasive ventilation mask"},{id:"laryngeal",label:"Laryngeal mask airway"},{id:"endotracheal",label:"Endotracheal tube"}],t=[{id:"bag_and_mask",label:"Bag and mask"},{id:"laryngeal_mask_airway_and_bag",label:"Laryngeal Mask Airway and bag"},{id:"endotracheal",label:"Endotracheal tube (ETT)"}];return{breathingAssessmentFormSection:n(()=>[{componentType:"Heading",name:"Breathing Assessment",grid:{s:"4"}},{componentType:"radioButtonField",header:"Is Patient Breathing?",name:"is_breathing_abnormal",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"8"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes",condition:e=>"No"===e.is_breathing_abnormal},{grid:{s:"4"}},{componentType:"Alert",header:"Immediate Action Required",message:"Assist with ventilation. Manually assist patient breathing",grid:{s:"8"},condition:e=>"No"===e.is_breathing_abnormal},{componentType:"Heading",name:"Ventilation Intervention",grid:{s:"4"},condition:e=>"No"===e.is_breathing_abnormal},{componentType:"inputField",header:"Start Time",name:"start_time",obsValueType:"value_text",type:"time",grid:{s:"4"},condition:e=>"No"===e.is_breathing_abnormal},{componentType:"inputField",header:"End Time",name:"end_time",obsValueType:"value_text",type:"time",grid:{s:"4"},condition:e=>"No"===e.is_breathing_abnormal},{grid:{s:"4"}},{componentType:"multiSelectInputField",header:"Device used for intervention",name:"device_used_for_intervention",obsValueType:"value_text",validation:N.required,grid:{s:"8"},options:t,condition:e=>"No"===e.is_breathing_abnormal},{componentType:"Dashes",condition:e=>"Yes"===e.is_breathing_abnormal},{componentType:"Heading",name:"Respiratory and Oxygen",grid:{s:"4"},condition:e=>"Yes"===e.is_breathing_abnormal},{componentType:"inputField",header:"Respiratory Rate (bpm)",name:"respiratory_rate",obsValueType:"value_numeric",validation:e=>{if(!e)return"Respiratory rate is required";const a=Number(e);return a<1||a>70?"Must be between 1 and 70":null},type:"number",grid:{s:"4"},condition:e=>"Yes"===e.is_breathing_abnormal},{componentType:"inputField",header:"Oxygen Saturation (%)",name:"oxygen_saturation",obsValueType:"value_numeric",validation:e=>{if(!e)return"Oxygen saturation is required";const a=Number(e);return a<10||a>100?"Must be between 10 and 100":null},type:"number",grid:{s:"6",md:"4"},condition:e=>"Yes"===e.is_breathing_abnormal},{grid:{s:"4"}},{componentType:"radioButtonField",header:"Patient Need Oxygen?",name:"patient_need_oxygen",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},condition:e=>"Yes"===e.is_breathing_abnormal,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Oxygen Source",name:"oxygen_source",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},options:e,condition:e=>"Yes"===e.is_breathing_abnormal&&"Yes"===e.patient_need_oxygen},{grid:{s:"4"}},{componentType:"inputField",header:"Oxygen Given (L/min)",name:"oxygen_given",obsValueType:"value_numeric",validation:e=>{if(!e)return"Oxygen amount is required";const a=Number(e);return a<1||a>15?"Must be between 1 and 15":null},type:"number",grid:{s:"4"},condition:e=>"Yes"===e.is_breathing_abnormal&&"Yes"===e.patient_need_oxygen},{componentType:"multiSelectInputField",header:"Device Used",name:"device_used",obsValueType:"value_text",validation:N.required,grid:{s:"4"},options:a,condition:e=>"Yes"===e.is_breathing_abnormal&&"Yes"===e.patient_need_oxygen},{componentType:"Dashes",condition:e=>"Yes"===e.is_breathing_abnormal},{componentType:"Heading",name:"Trachea and Chest",grid:{s:"4"},condition:e=>"Yes"===e.is_breathing_abnormal},{componentType:"radioButtonField",header:"Is Trachea Central?",name:"is_trachea_central",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},condition:e=>"Yes"===e.is_breathing_abnormal,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Which side is it deviated to?",name:"side_deviated",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},condition:e=>"Yes"===e.is_breathing_abnormal&&"No"===e.is_trachea_central,options:[{label:"Left",value:"Left"},{label:"Right",value:"Right"}]},{grid:{s:"4"}},{componentType:"radioButtonField",header:"Chest Wall Abnormality?",name:"chest_wall_abnormality",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"12",md:"4"},condition:e=>"Yes"===e.is_breathing_abnormal,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Chest Expansion",name:"chest_expansion",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},condition:e=>"Yes"===e.is_breathing_abnormal,options:[{label:"Normal",value:"Normal"},{label:"Reduced",value:"Reduced"}]},{grid:{s:"4"}},{componentType:"Alert",header:"Diagram Required",message:"Diagram to select area",grid:{s:"8"},condition:e=>"Yes"===e.is_breathing_abnormal&&"Yes"===e.chest_wall_abnormality},{grid:{s:"4"}},{componentType:"radioButtonField",header:"Percussion",name:"percussion",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},condition:e=>"Yes"===e.is_breathing_abnormal,options:[{label:"Normal",value:"Normal"},{label:"Abnormal",value:"Abnormal"}]},{componentType:"radioButtonField",header:"Breath Sounds",name:"breathing_sounds",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},condition:e=>"Yes"===e.is_breathing_abnormal,options:[{label:"Normal",value:"Normal"},{label:"Abnormal",value:"Abnormal"}]},{grid:{s:"4"}},{componentType:"textAreaField",header:"Additional Notes",name:"additional_notes",obsValueType:"value_text",grid:{s:"8"},condition:e=>"Yes"===e.is_breathing_abnormal}])}})().breathingAssessmentFormSection;return(e,n)=>(s(),o(l(r),null,{default:d(()=>[u(l(p),null,{default:d(()=>[u(S,{formData:l(t),ref_key:"formRef",ref:a},null,8,["formData"])]),_:1})]),_:1}))}}),ue=t({__name:"CirculationAssessment",setup(e){const a=i(null),t=(()=>{const e=[{id:"14g",label:"14G"},{id:"16g",label:"16G"},{id:"18g",label:"18G"},{id:"20g",label:"20G"},{id:"22g",label:"22G"},{id:"central_line",label:"Central Line"}],a=[{id:"pale",label:"Pale"},{id:"dry",label:"Dry"},{id:"cyanosis",label:"Cyanosis"},{id:"jaundice",label:"Jaundice"}],t=[{label:"Weak",value:"weak"},{label:"Strong",value:"strong_regular"}],i=[{label:"Regular",value:"regular_rhythm"},{label:"Irregular",value:"irregular"}],o=[{label:"Less than 3 seconds",value:"less_than_3_seconds"},{label:"3 seconds",value:"three_seconds"},{label:"More than 3 seconds",value:"more_than_three_seconds"}],s=[{id:"patient_uncooperative",label:"Patient uncooperative"},{id:"machine_not_available",label:"Machine not available"},{id:"batteries_not_available",label:"Batteries not available"},{id:"inappropriately_sized_cuff",label:"No inappropriately sized cuff"},{id:"no_power_supply",label:"No power supply"},{id:"other",label:"Other"}],l=[{id:"left",label:"Left"},{id:"right",label:"Right"}],r=[{id:"antecubital_fossa",label:"Antecubital fossa"},{id:"hand",label:"Hand"},{id:"wrist",label:"Wrist"},{id:"forearm",label:"Forearm"},{id:"foot",label:"Foot"},{id:"external_jugular",label:"External Jugular"}],d=[{id:"femoral",label:"Femoral"},{id:"subclavian",label:"Subclavian"},{id:"internal_jugular",label:"Internal Jugular"}];return{circulationAssessmentFormSection:n(()=>[{componentType:"Heading",name:"Bleeding and Pulse Rate",grid:{s:"4"}},{componentType:"radioButtonField",header:"Is the patient actively bleeding?",name:"is_patient_actively_bleeding",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Does the patient have a pulse?",name:"is_the_patient_have_pulse",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{grid:{s:"4"}},{componentType:"Alert",header:"Immediate Action Required",message:"Apply pressure",grid:{s:"8"},condition:e=>"Yes"===e.is_patient_actively_bleeding},{grid:{s:"4"}},{componentType:"textAreaField",header:"Action Done",name:"action_done",obsValueType:"value_text",validation:N.required,grid:{s:"8"},condition:e=>"Yes"===e.is_patient_actively_bleeding},{grid:{s:"4"}},{componentType:"Alert",header:"Critical - No Pulse Detected",message:"Start cardiopulmonary resuscitation immediately",grid:{s:"8"},condition:e=>"No"===e.is_the_patient_have_pulse},{componentType:"Dashes",condition:e=>"Yes"===e.is_the_patient_have_pulse},{grid:{s:"4"}},{componentType:"inputField",header:"Pulse Rate (bpm)",name:"pulse_rate",obsValueType:"value_numeric",validation:N.required,type:"number",grid:{s:"8"},condition:e=>"Yes"===e.is_the_patient_have_pulse},{grid:{s:"4"}},{componentType:"radioButtonField",header:"Pulse Strength",name:"pulse_strength",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},options:t,condition:e=>"Yes"===e.is_the_patient_have_pulse},{componentType:"radioButtonField",header:"Pulse Rhythm",name:"pulse_rhythm",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},options:i,condition:e=>"Yes"===e.is_the_patient_have_pulse},{grid:{s:"4"}},{componentType:"radioButtonField",header:"Capillary Refill Time",name:"capillary_refill_time",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"8"},options:o,condition:e=>"Yes"===e.is_the_patient_have_pulse},{componentType:"Dashes"},{componentType:"Heading",name:"Mucous and Peripherals",grid:{s:"4"}},{componentType:"radioButtonField",header:"Mucous Membranes",name:"mucous_membranes",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},options:[{label:"Normal",value:"Normal"},{label:"Abnormal",value:"Abnormal"}]},{componentType:"radioButtonField",header:"Assess Peripheries",name:"assess_peripheries",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},options:[{label:"Cold and clammy",value:"cold and clammy"},{label:"Warm",value:"warm"}]},{grid:{s:"4"}},{componentType:"multiSelectInputField",header:"Mucous Abnormal",name:"mucous_abnormal",obsValueType:"value_text",validation:N.required,grid:{s:"8"},options:a,condition:e=>"Abnormal"===e.mucous_membranes},{componentType:"Dashes"},{componentType:"Heading",name:"Blood Pressure",grid:{s:"4"}},{componentType:"radioButtonField",header:"Blood Pressure Measured",name:"blood_pressure_measured",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"8"},options:[{label:"Done",value:"Done"},{label:"Not Done",value:"Not Done"},{label:"BP Unrecordable",value:"BP Unrecordable"}]},{grid:{s:"4"}},{componentType:"inputField",header:"Blood Pressure Systolic (mmHg)",name:"systolic_blood_pressure",obsValueType:"value_numeric",validation:e=>{if(!e)return"Systolic BP is required";const a=Number(e);return a<0||a>300?"Must be between 0 and 300":null},type:"number",grid:{s:"4"},condition:e=>"Done"===e.blood_pressure_measured},{componentType:"inputField",header:"Blood Pressure Diastolic (mmHg)",name:"diastolic_blood_pressure",obsValueType:"value_numeric",validation:e=>{if(!e)return"Diastolic BP is required";const a=Number(e);return a<0||a>300?"Must be between 0 and 300":null},type:"number",grid:{s:"4"},condition:e=>"Done"===e.blood_pressure_measured},{grid:{s:"4"}},{componentType:"multiSelectInputField",header:"Reason Not Done",name:"reason_not_done",obsValueType:"value_text",validation:N.required,grid:{s:"8"},options:s,condition:e=>"Not Done"===e.blood_pressure_measured},{grid:{s:"4"}},{componentType:"textAreaField",header:"Specify Other Reason",name:"bp_not_done_other",obsValueType:"value_text",validation:N.required,grid:{s:"8"},condition:e=>{const a=e.reason_not_done;return"Not Done"===e.blood_pressure_measured&&Array.isArray(a)&&a.some(e=>"other"===e.id)}},{grid:{s:"4"}},{componentType:"inputField",header:"Reason BP Is Unrecordable",name:"reason_not_recorded",obsValueType:"value_text",validation:N.required,grid:{s:"8"},condition:e=>"BP Unrecordable"===e.blood_pressure_measured},{componentType:"Dashes"},{componentType:"Heading",name:"Circulation Specific Trauma",grid:{s:"4"}},{componentType:"radioButtonField",header:"Is the patient injured?",name:"is_patient_traumatized",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Is the pelvis unstable?",name:"is_pelvis_stable",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},condition:e=>"Yes"===e.is_patient_traumatized,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{grid:{s:"4"}},{componentType:"Alert",header:"Immediate Action Required",message:"Apply pelvic binder",grid:{s:"8"},condition:e=>"Yes"===e.is_patient_traumatized&&"Yes"===e.is_pelvis_stable},{grid:{s:"4"}},{componentType:"radioButtonField",header:"Is the femur and tibia normal?",name:"is_femur_tibia_normal",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"8"},condition:e=>"Yes"===e.is_patient_traumatized,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{grid:{s:"4"}},{componentType:"Alert",header:"Leg Assessment Required",message:"Select affected area on diagram",grid:{s:"8"},condition:e=>"Yes"===e.is_patient_traumatized&&"No"===e.is_femur_tibia_normal},{componentType:"Dashes"},{componentType:"Heading",name:"Intravenous Access",grid:{s:"4"}},{componentType:"radioButtonField",header:"Does the patient need intravenous access?",name:"patient_intravenous",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"8"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{grid:{s:"4"}},{componentType:"multiSelectInputField",header:"Size of Intravenous Catheter",name:"size_of_catheter",obsValueType:"value_text",validation:N.required,grid:{s:"4"},options:e,condition:e=>"Yes"===e.patient_intravenous},{componentType:"multiSelectInputField",header:"Cannulation Site (Central Line)",name:"central_line_cannulation_site",obsValueType:"value_text",validation:N.required,grid:{s:"4"},options:d,condition:e=>{const a=e.size_of_catheter;return"Yes"===e.patient_intravenous&&Array.isArray(a)&&a.some(e=>"central_line"===e.id)}},{grid:{s:"4"}},{componentType:"multiSelectInputField",header:"Cannulation Site (Left/Right)",name:"cannulation_site",obsValueType:"value_text",validation:N.required,grid:{s:"8"},options:l,condition:e=>"Yes"===e.patient_intravenous},{grid:{s:"4"}},{componentType:"multiSelectInputField",header:"Diagram Cannulation Site",name:"diagram_cannulation_site",obsValueType:"value_text",validation:N.required,grid:{s:"8"},options:r,condition:e=>{const a=e.cannulation_site;return"Yes"===e.patient_intravenous&&Array.isArray(a)&&a.length>0}},{componentType:"Dashes"},{componentType:"Heading",name:"Circulation Specific Abdominal Findings",grid:{s:"4"}},{componentType:"radioButtonField",header:"Is there abdominal distention?",name:"abdominal_distention",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"radioButtonField",header:"Is there any other abnormalities?",name:"is_there_any_other_abnormalities",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{grid:{s:"4"}},{componentType:"Alert",header:"Abdomen Assessment Required",message:"Select affected area on abdomen diagram",grid:{s:"8"},condition:e=>"Yes"===e.is_there_any_other_abnormalities},{grid:{s:"4"}},{componentType:"textAreaField",header:"Additional Notes",name:"additional_notes",obsValueType:"value_text",grid:{s:"8"}}])}})().circulationAssessmentFormSection;return(e,n)=>(s(),o(l(r),null,{default:d(()=>[u(l(p),null,{default:d(()=>[u(S,{formData:l(t),ref_key:"formRef",ref:a},null,8,["formData"])]),_:1})]),_:1}))}}),pe=t({__name:"DisabilityAssessment",setup(e){const a=i(null),t=(()=>{const e=[{label:"Spontaneously",value:"4"},{label:"To Speech",value:"3"},{label:"To Pain",value:"2"},{label:"No Response",value:"1"}],a=[{label:"Oriented To Time, Place and Person",value:"5"},{label:"Confused",value:"4"},{label:"Inappropriate Words",value:"3"},{label:"Incomprehensible Words",value:"2"},{label:"No Response",value:"1"}],t=[{label:"Obey Commands",value:"6"},{label:"Moves to Localized Pain",value:"5"},{label:"Flexion Withdrawal from Pain",value:"4"},{label:"Abnormal Flexion (Decorticate)",value:"3"},{label:"Abnormal Extension (Decerbrate)",value:"2"},{label:"No Response",value:"1"}],i=[{id:"mmol/l",label:"mmol/l"},{id:"mg/dl",label:"mg/dl"}];return{disabilityAssessmentFormSection:n(()=>[{componentType:"Heading",name:"Glasgow Coma Scale (GCS)",grid:{s:"4"}},{componentType:"radioButtonField",header:"Eye Opening Response",name:"eye_opening_response",obsValueType:"value_numeric",validation:N.required,type:"standard",grid:{s:"4"},options:e},{componentType:"Alert",header:"Eye Opening Score",message:"Selected Score: {eye_opening_response}",grid:{s:"4"},condition:e=>!!e.eye_opening_response},{componentType:"Dashes"},{grid:{s:"4"}},{componentType:"radioButtonField",header:"Best Verbal Response",name:"verbal_response",obsValueType:"value_numeric",validation:N.required,type:"standard",grid:{s:"4"},options:a},{componentType:"Alert",header:"Verbal Response Score",message:"Selected Score: {verbal_response}",grid:{s:"4"},condition:e=>!!e.verbal_response},{componentType:"Dashes"},{grid:{s:"4"}},{componentType:"radioButtonField",header:"Best Motor Response",name:"motor_response",obsValueType:"value_numeric",validation:N.required,type:"standard",grid:{s:"4"},options:t},{componentType:"Alert",header:"Motor Response Score",message:"Selected Score: {motor_response}",grid:{s:"4"},condition:e=>!!e.motor_response},{grid:{s:"4"}},{componentType:"Alert",header:"Total GCS Score",message:"Total Score: {gcs_total}",grid:{s:"8"},condition:e=>(Number(e.eye_opening_response)||0)+(Number(e.verbal_response)||0)+(Number(e.motor_response)||0)>0},{componentType:"Dashes"},{componentType:"Heading",name:"Pupillary Response-Right Eye",grid:{s:"4"}},{componentType:"inputField",header:"Right Pupil Size (mm)",name:"right_pupil_size",obsValueType:"value_numeric",type:"number",grid:{s:"4"}},{componentType:"radioButtonField",header:"Right Pupil Reaction",name:"right_pupil_reaction",obsValueType:"value_text",type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{componentType:"Dashes"},{componentType:"Heading",name:"Pupillary Response-Left Eye",grid:{s:"4"}},{componentType:"inputField",header:"Left Pupil Size (mm)",name:"left_pupil_size",obsValueType:"value_numeric",type:"number",grid:{s:"4"}},{componentType:"radioButtonField",header:"Left Pupil Reaction",name:"left_pupil_reaction",obsValueType:"value_text",type:"standard",grid:{s:"4"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{grid:{s:"4"}},{componentType:"textAreaField",header:"Focal Neurology",name:"focal_neurology",obsValueType:"value_text",validation:N.required,grid:{s:"8"}},{componentType:"Dashes"},{componentType:"Heading",name:"Additional Findings and Glucose",grid:{s:"4"}},{componentType:"inputField",header:"Posture",name:"posture",obsValueType:"value_text",validation:N.required,grid:{s:"8"}},{grid:{s:"4"}},{componentType:"multiSelectInputField",header:"Blood Glucose Units",name:"blood_glucose_units",obsValueType:"value_text",initialValue:"mmol/l",grid:{s:"4"},options:i},{componentType:"inputField",header:"Patient's Random Blood Glucose",name:"blood_glucose",obsValueType:"value_numeric",validation:e=>{if(!e)return null;const a=Number(e);return a<0||a>1e3?"Must be between 0 and 1000":null},type:"number",grid:{s:"4"}},{grid:{s:"4"}},{componentType:"radioButtonField",header:"Is the patient having Seizures?",name:"active_seizures",obsValueType:"value_text",validation:N.required,type:"standard",grid:{s:"8"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]}])}})().disabilityAssessmentFormSection;return(e,n)=>(s(),o(l(r),null,{default:d(()=>[u(l(p),null,{default:d(()=>[u(S,{formData:l(t),ref_key:"formRef",ref:a},null,8,["formData"])]),_:1})]),_:1}))}}),ce=t({__name:"ExposureAssessment",setup(e){const a=i(null),t=n(()=>[{componentType:"Heading",name:"Exposure Assessment",grid:{s:"4"}},{componentType:"inputField",header:"Temperature (Â°C)",name:"temperature",obsValueType:"value_numeric",validation:e=>{if(!e)return"Temperature is required";const a=Number(e);return a<20||a>45?"Temperature must be between 20 and 45":null},type:"number",grid:{s:"8"}},{componentType:"Dashes"},{grid:{s:"4"}},{componentType:"Alert",header:"Body Examination",message:"Select areas with rash, injuries and other abnormalities on the body diagrams below",grid:{s:"8"}},{componentType:"Heading",name:"Full Body Assessment",grid:{s:"4"}},{grid:{s:"8"}},{componentType:"Dashes"},{grid:{s:"4"}},{componentType:"textAreaField",header:"Additional Notes",name:"additional_notes",obsValueType:"value_text",grid:{s:"8"}}]);return(e,n)=>(s(),o(l(r),null,{default:d(()=>[u(l(p),null,{default:d(()=>[u(S,{formData:l(t),ref_key:"formRef",ref:a},null,8,["formData"])]),_:1})]),_:1}))}}),me={style:{width:"88vw",margin:"0 auto","margin-top":"10px"}},_e={class:"back_profile"};e("default",t({__name:"PrimarySurvey",setup(e,{expose:t}){const{onTabBeforeChange:r,currentTabIndex:p}=X();re();const N=c(),S=m();i([]),i([]),i(!1);const ye=i(!0),be=i(!1),ge=i(!1),ve=n(()=>({text:ge.value?"Saving...":"Finish",icon:ge.value?"hourglass-outline":"checkmark",hideText:!1,hideIcon:!1,disabled:be.value||ge.value})),he=D(),Te=F(),Ae=Y(),fe=V();B();const we=q(),xe=R();C();const Ne=P(),Se=ee(),De=I(),{patient:Fe}=_(Te),{vitals:Ye}=_(he),{investigations:Ve}=_(Ae),{diagnosis:Be}=_(fe),{substance:qe}=_(Ne),{selectedNCDMedicationList:Re}=_(we),{FootScreening:Ce,visualScreening:Pe,cvScreening:Ie}=_(Se),{sessionDate:ke}=_(De),{apiStatus:je}=_(k());y(ve,(e,a)=>{console.log("Done button options changed:",{from:a,to:e,currentStep:p.value,tabsLength:Ee.value.length}),e.disabled!==(null==a?void 0:a.disabled)&&console.log("Done button "+(e.disabled?"disabled":"enabled")),e.text!==(null==a?void 0:a.text)&&console.log(`Done button text changed from "${null==a?void 0:a.text}" to "${e.text}"`)},{deep:!0}),y(ge,(e,a)=>{e!==a&&(console.log(`Saving state changed: ${a} -> ${e}`),e?console.log("Starting save process..."):console.log("Save process completed"))});const He=e=>{console.log("Done button change received from wizard:",e),e.newOptions.disabled&&console.log("Done button has been disabled"),e.isLastStep&&console.log("User is on the last step, done button should be visible")},ze=()=>{let e=!1;return Oe(),ge.value&&(e=!0),be.value=e,!e},Ee=i([{title:"Airway Assessment",icon:""},{title:"Breathing Assessment",icon:""},{title:"Circulation Assessment",icon:""},{title:"Disability Assessment",icon:""},{title:"Exposure Assessment",icon:""}]),Le=i(null),Me=i(null),Oe=()=>{var e;if(!Ee.value||0===Ee.value.length)return console.log("Tabs not yet initialized"),null;const a=p.value>=0&&p.value<Ee.value.length?p.value:0;switch(null===(e=Ee.value[a])||void 0===e?void 0:e.title){case"Airway Assessment":return"AirwayAssessment";case"Breathing Assessment":return"BreathingAssessment";case"Circulation Assessment":return"CirculationAssessment";case"Disability Assessment":return"DisabilityAssessment";case"Exposure Assessment":return"ExposureAssessment";default:if(xe.NCDActivities.length>0)switch(xe.NCDActivities[0]){case"Airway Assessment":return"AirwayAssessment";case"Breathing Assessment":return"BreathingAssessment";case"Circulation Assessment":return"CirculationAssessment";case"Disability Assessment":return"DisabilityAssessment";case"Exposure Assessment":return"ExposureAssessment"}return null}},Ge=()=>{ye.value=!1,setTimeout(()=>{p.value=0,ye.value=!0},0)},We=()=>{const e=D();e.setVitals(e.getInitialVitals(Fe.value.ID))},Je=async()=>{const e=z(ke.value,"sessionDate","value")||E.sessionDate(),a=L("vitals");for(let t=0;t<Ee.value.length;t++){const i=Ee.value[t];if("Vital Signs"===i.title)Ee.value[t].icon=Ue(e,a)?x:"";else if("Risk Assessment"===i.title){const a=L("substanceAbuse");Ee.value[t].icon=Ue(e,a)?x:""}else if("Investigations"===i.title){var n;const a=null==Fe||null===(n=Fe.value)||void 0===n||null===(n=n.labOrders)||void 0===n?void 0:n.saved,i=null==a?void 0:a.filter(a=>E.toStandardHisFormat(e)===E.toStandardHisFormat(a.order_date));Ee.value[t].icon=(null==i?void 0:i.length)>0?x:""}else if("Diagnosis"===i.title){const a=L("diagnosis");Ee.value[t].icon=Ue(e,a)?x:""}else if("Complications Screening"===i.title){const a=L("screening");Ee.value[t].icon=Ue(e,a)?x:""}else"Treatment Plan"===i.title&&(Re.value.length>0?Ee.value[t].icon=M()?x:"":Ee.value[t].icon="")}ze()},Ue=(e,a)=>{const n=new Date(e);return n.setHours(0,0,0,0),a.some(e=>{const a=new Date(e.obs_datetime);return a.setHours(0,0,0,0),a.getTime()===n.getTime()})},$e=async(e,a)=>{var n;const t=null===(n=Ee.value[a])||void 0===n?void 0:n.title;var i,o;e%1==0&&(p.value=e),"Vital Signs"==t&&(null===(i=Le.value)||void 0===i||i.onSubmit()),"Risk Assessment"==t&&(null===(o=Me.value)||void 0===o||o.onSubmit()),"Complications Screening"==t&&await(async()=>{const e=[],a=await se(Pe.value),n=await le(Ce.value),t=await se(Ie.value);var i,o,s,l;a.length>0&&e.push({concept_id:await J.getConceptID("Visual acuity",!0),value_text:"visual acuity test",obs_datetime:J.getSessionDate(),child:a}),n.length>0&&e.push({concept_id:await J.getConceptID("Foot check",!0),value_text:"foot screening",obs_datetime:J.getSessionDate(),child:n}),t.length>0&&e.push(...t),e.length>0?(null!==(o=(i=null!==(l=(s=Fe.value).screening)&&void 0!==l?l:s.screening={}).unsaved)&&void 0!==o||(i.unsaved=[]),Fe.value.screening.unsaved.push(...e),U("Complications saved successfully")):W("No complications data to save")})(),"Treatment Plan"==t&&await(async()=>{const e=$();if(!oe.isEmpty(e.selectedMedicalAllergiesList)){const a=Q(),n=e.selectedMedicalAllergiesList.map(e=>({concept_id:e.concept_id,obs_datetime:K.getSessionDate(),value_coded:e.concept_id,location_id:a.facilityLocation.code,value_text:e.name})),t=await ne(n);Fe.value=Object.assign(Fe.value,t),console.log("Allergies staged successfully:",Fe.value),e.clearSelectedMedicalAllergiesList()}const a=await te();Fe.value=Object.assign(Fe.value,a);const n=await ie().saveNonPharmaTherapyPatientData();Fe.value=Object.assign(Fe.value,n)})(),await O(Fe.value)},Qe=async()=>{ge.value=!0;try{await G(),await O(Fe.value),N.push("/triageList")}catch(e){console.error("Error saving data:",e),W("Error occurred while saving data. Please try again.")}finally{ge.value=!1}};return b(async()=>{0!==xe.NCDActivities.length?(ee().resetScreening(),Ee.value=[{title:"Airway Assessment",icon:""},{title:"Breathing Assessment",icon:""},{title:"Circulation Assessment",icon:""},{title:"Disability Assessment",icon:""},{title:"Exposure Assessment",icon:""}],await Je(),(void 0===p.value||p.value<0)&&(p.value=0,console.log("Setting initial tab index to 0")),be.value=!1,ge.value=!1,ze()):N.push("patientProfile")}),y(p,async()=>{await ze()}),y(Ye,async()=>{await Je()},{deep:!0}),y(Fe,async()=>{ee().resetScreening(),await Je()},{deep:!0}),y(ke,async()=>{await Je()},{deep:!0}),y(Ve,async()=>{await Je()},{deep:!0}),y(Be,async()=>{await Je()},{deep:!0}),y(qe,async()=>{await Je()},{deep:!0}),y(Re,async()=>{await Je()},{deep:!0}),y(S,async e=>{Ge(),We(),Ee.value=[{title:"Airway Assessment",icon:""},{title:"Breathing Assessment",icon:""},{title:"Circulation Assessment",icon:""},{title:"Disability Assessment",icon:""},{title:"Exposure Assessment",icon:""}]},{deep:!0}),y(Fe,async(e,a)=>{e.ID!=a.ID&&(Ge(),We())},{deep:!0}),t({saveData:Qe,markWizard:Je,refreshWizard:Ge,validateDoneButtonState:ze}),(e,n)=>(s(),o(l(w),null,{default:d(()=>[u(j),u(l(g),{fullscreen:!0},{default:d(()=>[u(Z),v("div",me,[ye.value?(s(),o(ae,{key:0,ref:"wizard",headingTitle:"Primary Survey","vertical-tabs":"","navigable-tabs":"","scrollable-tabs":"",startIndex:0,doneButton:ve.value,"custom-tabs":Ee.value,beforeChange:l(r),onChange:$e,"onComplete:wizard":n[1]||(n[1]=e=>Qe()),onDoneButtonChanged:He},{default:d(()=>[v("div",null,[v("div",_e,[u(H,{name:"Back to profile",iconSlot:"start",fill:"clear",icon:l(A),"font-weight":"600",onClick:n[0]||(n[0]=e=>{N.push("/patientProfile")})},null,8,["icon"])])]),T(v("div",null,[u(a,{ref:"airwayAssessmentRef"},null,512)],512),[[f,"AirwayAssessment"==Oe()]]),T(v("div",null,[u(de,{ref:"breathingAssessmentRef"},null,512)],512),[[f,"BreathingAssessment"==Oe()]]),T(v("div",null,[u(ue,{ref:"circulationAssessmentRef"},null,512)],512),[[f,"CirculationAssessment"==Oe()]]),T(v("div",null,[u(pe,{ref:"disabilityAssessmentRef"},null,512)],512),[[f,"DisabilityAssessment"==Oe()]]),T(v("div",null,[u(ce,{ref:"exposureAssessmentRef"},null,512)],512),[[f,"ExposureAssessment"==Oe()]])]),_:1},8,["doneButton","custom-tabs","beforeChange"])):h("",!0)])]),_:1})]),_:1}))}}))}}});
