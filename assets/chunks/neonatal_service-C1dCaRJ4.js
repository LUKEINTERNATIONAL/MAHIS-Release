import{S as g,H as m,b2 as S,aW as A,af as w}from"../index-Bkq7benV.js";class d extends g{static async enrollNeonate(e,i,l=m.sessionDate()){const a=await this.buildEnrollmentObservations(i,l),u={patient_id:e,date_enrolled:l,location_id:g.getUserLocationId(),encounter_datetime:new Date().toISOString(),observations:a};return this.postJson("/neonatal/enroll",u)}static async buildEnrollmentObservations(e,i){var o,c;const l=[],a=s=>s!=null&&s!=="",u=async(s,r)=>{try{l.push(await r())}catch(f){console.warn('[NeonatalEnrollment] Skipping concept "'.concat(s,'":'),f)}},t=async(s,r)=>{a(r)&&await u(s,()=>w.buildValueCoded(s,r,i))},n=async(s,r)=>{a(r)&&await u(s,()=>w.buildValueText(s,r,i))},h=async(s,r,f)=>{if(!a(r))return;const b=typeof r=="number"?r:parseFloat(String(r));if(isNaN(b))return;const y=f?f(b):b;await u(s,()=>w.buildValueNumber(s,y,null,null,i))},p=async(s,r)=>{a(r)&&await u(s,()=>w.buildValueDate(s,r,i))};if(await t("Multiple birth",e.hasTwin),await n("Place of birth",e.placeOfBirth),await n("Name of birth facility",e.nameOfBirthFacility),await n("Type of birth",e.typeOfBirth),await h("Birth weight",e.birthWeight,s=>s/1e3),await n("Time of birth",e.timeOfBirth),await t("Referred",e.referredFromOtherFacility),await n("Referring facility name",e.referringFacilityName),await n("Referred from",e.referredFrom),await n("Mode of transport",e.modeOfTransport),await n("Admitted from",e.admittedFrom),await t("Cried after birth",e.criedAfterBirth),await h("APGAR score at 1 minute",e.apgarScoreAt1),await h("APGAR score at 5 minutes",e.apgarScoreAt5),await h("APGAR score at 10 minutes",e.apgarScoreAt10),(o=e.resuscitationMethods)!=null&&o.length)for(const s of e.resuscitationMethods)await t("Resuscitation method",s);if(e.motherPatientId&&await n("Mother identifier",e.motherPatientId.toString()),await n("Mother name",e.motherName),await n("Mother national ID",e.motherNationalId),await h("Gestation in weeks",e.gestationWeeks),await t("Steroids given",e.steroidsGiven),await n("Gestation method assessment",e.gestationMethodAssessment),await n("Ultra sound scanning - USS",e.ultraSoundScanning),await n("Onset of labor",e.onsetOfLabor),await t("Rupture of membranes",e.ruptureOfMembranes),await n("Duration of rupture of membranes",e.durationOfRuptureMembranes),await t("Offensive liquor",e.offensiveLiquor),await n("Mode of delivery",e.modeOfDelivery),await t("Meconium present",e.meconiumPresent),await t("Maternal analgesia",e.maternalAnalgesia),await n("Analgesia drug",e.analgesiasDrug),await t("Anesthesia used",e.anesthesiaUsed),await t("TEO",e.teo),await t("Chlorohexidine cord care",e.chlorohexidineCordCare),await t("Vitamin K given",e.vitaminKGiven),await t("Dextrose 10% given",e.dextroseGiven),await t("Mother status",e.motherStatus),await t("Mother HIV status",e.motherHivStatus),await p("Last HIV test date",e.lastHivTestDate),await t("Do HIV re-test",e.doHivRetest),await t("Baby given NVP",e.babyGivenNvp),await t("Mother VDRL/Syphilis result",e.motherVdrlResult),await t("Mother treated for VDRL/Syphilis",e.motherTreatedForVdrl),await t("Baby tested for Hepatitis",e.babyTestedForHepatitis),await t("All three doses completed",e.allThreeDosesCompleted),await t("Mother Hepatitis result",e.motherHepatitisResult),(c=e.tetanusDiphtheria)!=null&&c.length)for(const s of e.tetanusDiphtheria)await n("Tetanus Diphtheria",s);return l}static async checkEnrollment(e){return this.getJson("/neonatal/enrolled/".concat(e))}static async getPatientSummary(e,i=m.sessionDate()){return this.getJson("/neonatal/patient/".concat(e),{date:i})}static async getNextEncounter(e,i=m.sessionDate()){try{return await this.getJson("/neonatal/next_encounter/".concat(e),{date:i})}catch(l){if(l.status===204)return null;throw l}}static async getRemainingEncounters(e,i=m.sessionDate()){return this.getJson("/neonatal/remaining_encounters/".concat(e),{date:i})}static async isWorkflowComplete(e,i=m.sessionDate()){return this.getJson("/neonatal/workflow_complete/".concat(e),{date:i})}static async getSavedEncounters(e,i=m.sessionDate()){return this.getJson("/neonatal/saved_encounters/".concat(e),{date:i})}static async getPatientLabels(e,i=m.sessionDate()){return this.getJson("/neonatal/labels/".concat(e),{date:i})}static async getEnrolledPatients(e={}){return this.getJson("/neonatal/enrolled_patients",e)}static async searchPatients(e){return this.getJson("/neonatal/search",e)}static async getVisits(e=m.sessionDate()){return this.getJson("/neonatal/visits",{date:e})}static async getAppointments(e=m.sessionDate()){return this.getJson("/neonatal/appointments",{date:e})}static async getStatistics(e=m.sessionDate()){return this.getJson("/neonatal/statistics",{date:e})}static async getVisitSummary(e=m.sessionDate()){return this.getJson("/neonatal/visit_summary",{date:e})}static async updateEnrollment(e,i){return this.putJson("/neonatal/enrollment/".concat(e),i)}static async exitProgram(e,i){return this.postJson("/neonatal/exit",{patient_id:e,...i})}static async saveSystemicExaminationAssessment(e,i,l=m.sessionDate()){try{const a=await this.buildSystemicExaminationObservations(i,l);if(a.length===0)return console.warn("[NeonatalService] No observations to save for systemic examination"),null;const u=g.getUserID()||-1,t=new S(e,A.NEONATAL_SYSTEMIC_EXAMINATION,u);t.setDate(l),await t.createEncounter();const n=await t.saveObservationList(a);return console.log("[NeonatalService] Systemic examination saved successfully",{encounterId:t.getEncounterID(),observationCount:a.length}),n}catch(a){throw console.error("[NeonatalService] Failed to save systemic examination:",a),a}}static async buildSystemicExaminationObservations(e,i){var h,p;const l=[],a=o=>o==null||o===""?!1:Array.isArray(o)?o.length>0:!0,u=async(o,c)=>{try{l.push(await c())}catch(s){console.warn('[SystemicExamination] Skipping concept "'.concat(o,'":'),s)}},t=async(o,c)=>{if(a(c)){const s=typeof c=="boolean"?c?"Yes":"No":c;await u(o,()=>w.buildValueCoded(o,s,i))}},n=async(o,c)=>{a(c)&&await u(o,()=>w.buildValueText(o,c,i))};if(await t("Respiratory distress",e.respiratoryDistress),await t("Gasping",e.gasping),await t("Fast breathing",e.fastBreathing),await t("Nasal flaring",e.nasalFlaring),await t("Chest indrawing",e.chestIndrawing),await t("Stridor",e.stridor),await t("Grunting",e.grunting),await t("Stethoscope available",e.stethoscopeAvailable),await t("Chest clear",e.chestClear),await t("Unequal air entry",e.unequalAirEntry),await t("Unilateral crackles",e.unilateralCrackles),await t("Unilateral wheeze",e.unilateralWheeze),await t("Bilateral crackles/wheeze",e.bilateralCracklesWheeze),await t("Stridor on auscultation",e.stridorAuscultation),await t("Normal heart sounds",e.normalHeartSounds),await t("Murmur or extra sounds",e.murmurExtraSounds),await t("Not confident auscultating murmurs",e.notConfidentMurmurs),await t("Color pink",e.colorPink),await t("Color blue",e.colorBlue),await t("Color pale",e.colorPale),await t("Color yellow",e.colorYellow),await t("CRT less than 3 seconds",e.crtLessThan3),await t("CRT 3 or more seconds",e.crt3OrMore),await t("Femoral pulse palpable",e.femoralPulsePalpable),await t("Femoral pulse weak",e.femoralPulseWeak),await t("Not confident femoral pulses",e.notConfidentFemoralPulses),await t("Femoral pulse difficult",e.femoralPulseDifficult),await n("Chest summary notes",e.chestSummaryNotes),await t("Abdomen soft normal",e.abdomenSoftNormal),await t("Abdomen distended",e.abdomenDistended),await t("Abdominal wall defect",e.abdomenWallDefect),await t("Prune belly syndrome",e.pruneBellySyndrome),await t("Abdominal mass",e.abdomenMass),await t("Abdomen distended confirmed",e.abdomenDistendedConfirm),await t("Abdomen shiny",e.abdomenShiny),await t("Abdomen color change",e.abdomenColorChange),await t("Abdomen distended veins",e.abdomenDistendedVeins),await t("Abdomen tender",e.abdomenTender),await t("Hepatomegaly",e.hepatomegaly),await t("Splenomegaly",e.splenomegaly),await t("Palpable kidneys",e.palpableKidneys),await t("Other masses",e.otherMasses),await n("Other masses description",e.otherMassesDescription),await t("Umbilicus healthy",e.umbilicusHealthy),await t("Umbilicus bleeding",e.umbilicusBleeding),await t("Umbilicus red skin",e.umbilicusRedSkin),await t("Umbilicus meconium",e.umbilicusMeconium),await t("Umbilical hernia",e.umbilicalHernia),await t("Umbilicus abnormal",e.umbilicusAbnormal),await t("Genitalia male normal",e.genitaliaMaleNormal),await t("Genitalia female normal",e.genitaliaFemaleNormal),await t("Genitalia male abnormal",e.genitaliaMaleAbnormal),await t("Genitalia female abnormal",e.genitaliaFemaleAbnormal),await t("Genitalia ambiguous",e.genitaliaAmbiguous),await t("Anus patent",e.anusPatent),await t("Anus imperforate",e.anusImperforate),await t("Anus abnormal",e.anusAbnormal),await n("Abdomen summary notes",e.abdomenSummaryNotes),await t("Tone assessment",e.toneAssessment),await t("Suck reflex",e.suckReflex),await t("Grasp reflex",e.graspReflex),await t("Moro reflex",e.MoreReflex),await n("Neurological summary notes",e.neurologicalSummaryNotes),(h=e.musculoskeletalDeformities)!=null&&h.length)for(const o of e.musculoskeletalDeformities)await t("Musculoskeletal deformities",o);if((p=e.skinFindings)!=null&&p.length)for(const o of e.skinFindings)await t("Skin findings",o);return await t("Birth asphyxia suspected",e.birthAsphyxiaSuspected),await t("Thompson respiration score",e.thompsonRespirationScore),await t("Thompson suck score",e.thompsonSuckScore),await t("Thompson moro score",e.thompsonMoroScore),await t("Thompson grasp score",e.thompsonGraspScore),await t("Thompson fontanelle score",e.thompsonFontanelleScore),await t("Thompson tone score",e.thompsonToneScore),await t("Thompson consciousness score",e.thompsonConsciousnessScore),await t("Thompson fits score",e.thompsonFitsScore),await t("Thompson posture score",e.thompsonPostureScore),l}}export{d as N};
