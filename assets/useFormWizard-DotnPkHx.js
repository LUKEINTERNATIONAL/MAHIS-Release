import{d as I,c as d,E as F,e as r,f as l,m as y,k as b,p as g,j as u,l as x,B as C,r as P,a as q,F as V,L as W,y as L,u as M,z as S,n as N}from"./vendor-D2vbv48U.js";import{S as H}from"./index-BTSeOqUL.js";const G={class:"fw-list-wrapper"},J=["id"],K={class:"fw-step-container"},Q={key:0},R={key:1},U=I({__name:"WizardStep",props:{tab:{type:Object,default:()=>{}},index:{type:Number,default:0},currentIndex:{type:Number,default:0},squaredTab:{type:Boolean,default:!1},showProgress:{type:Boolean,default:!0}},setup(e){const o=e,p=d(()=>o.currentIndex>o.index);d(()=>"pi pi-".concat(o.tab.icon));const i=d(()=>["fw-list-wrapper-icon",{"fw-step-active":o.tab.active,"fw-step-checked":o.tab.checked,"fw-squared-tab":o.squaredTab}]);return(n,s)=>{const a=F("ion-icon");return l(),r("li",null,[e.showProgress?(l(),r("div",{key:0,class:g(["fw-list-progress",{"fw-list-progress-active":p.value}])},null,2)):y("",!0),b("div",G,[b("div",{id:"step-".concat(e.tab.id),role:"tab",class:g(i.value)},[b("div",K,[u(n.$slots,"active-step",{},()=>[e.tab.icon?(l(),r("i",Q,[x(a,{icon:e.tab.icon,style:{"font-size":"16px"}},null,8,["icon"])])):(l(),r("i",R,C(e.index+1),1))])])],10,J),u(n.$slots,"title",{},()=>[b("span",{class:g(["fw-step-title",{active:e.tab.active}])},C(e.tab.title),3)])])])}}}),X=["disabled"],Y={key:0},k=I({__name:"Button",props:{options:{type:Object,default:function(){return{}}}},setup(e){const o=e,p=n=>"pi pi-".concat(n),i=d(()=>["fw-btn",{"fw-btn-disabled":o.options.disabled}]);return(n,s)=>(l(),r("button",{class:g(i.value),disabled:e.options.disabled},[e.options.hideText?y("",!0):(l(),r("span",Y,C(e.options.text),1)),e.options.hideIcon?y("",!0):(l(),r("i",{key:1,class:g(p(e.options.icon))},null,2))],10,X))}}),Z=["id"],ee={class:"fw-body-list",role:"tablist"},te={class:"fw-body"},ne={class:"fw-body-content"},se={class:"fw-body-container"},ae={key:0,class:"fw-footer"},oe={class:"fw-footer-left"},le={class:"fw-footer-right"},de=I({__name:"Wizard",props:{id:{type:String,default:"fw-"+new Date().valueOf()},customTabs:{type:Array,default:()=>[{id:0,title:"Step 1",icon:"map"},{id:1,title:"Step 2",icon:"check"},{id:2,title:"Step 3",icon:"pencil"}]},nextButton:{type:Object,default:function(){return{}}},backButton:{type:Object,default:function(){return{}}},doneButton:{type:Object,default:function(){return{}}},hideButtons:{type:Boolean,default:!1},startIndex:{type:Number,default:0,validator:e=>e>=0},verticalTabs:{type:Boolean,default:!1},beforeChange:{type:Function,default:()=>{}},beforeMount:{type:Function,default:()=>{}},navigableTabs:{type:Boolean,default:!1},scrollableTabs:{type:Boolean,default:!1},cardBackground:{type:Boolean,default:!1},squaredTabs:{type:Boolean,default:!1},showProgress:{type:Boolean,default:!0}},emits:["change","complete:wizard","updated:tabs","onValidateTabs"],setup(e,{expose:o,emit:p}){const i=p,n=e;let s=P(0);const a=d(()=>[...n.customTabs].map((c,h)=>({...c,checked:h<s.value,active:h===s.value}))),v=d(()=>a.value.length-1),f=d(()=>Object.assign({text:"Back",icon:"arrow-left",hideText:!1,hideIcon:!1,disabled:!1},n.backButton)),m=d(()=>Object.assign({text:"Next",icon:"arrow-right",hideText:!1,hideIcon:!1,disabled:!1},n.nextButton)),w=d(()=>Object.assign({text:"Done",icon:"check",hideText:!1,hideIcon:!1,disabled:!1},n.doneButton));q(()=>{s.value=n.startIndex,$(),i("change",s.value)});const j=d(()=>s.value!==0),_=d(()=>s.value===v.value),A=d(()=>["form-wizard-vue",{"fw-vertical":n.verticalTabs},{"fw-overflow-scroll":n.scrollableTabs},{"fw-card":n.cardBackground}]),$=()=>{i("updated:tabs",a.value,s.value)},z=async()=>{if(s.value===v.value){w.value.disabled||E();return}if(m.value.disabled)return;const t=s.value+1,c=s.value;if(!n.navigableTabs){i("onValidateTabs",t,c);return}i("change",t,c),await n.beforeChange(),T(t)},D=async()=>{if(s.value===0||f.value.disabled)return;const t=s.value-1,c=s.value;i("change",t,c),await n.beforeChange(),T(t)},E=()=>{const t=s.value,c=s.value-1;i("complete:wizard",t,c)},O=async t=>{if(!n.navigableTabs)return;const c=t,h=s.value;i("change",c,h),await n.beforeChange(),T(c)},T=async t=>{s.value=t,$(),await N(),await n.beforeMount()};return o({changeTab:T}),(t,c)=>(l(),r("div",{id:e.id,class:g(A.value)},[b("ul",ee,[(l(!0),r(V,null,W(a.value,(h,B)=>u(t.$slots,"wizard-step",{tab:h,index:B,navigateToTab:O},()=>[(l(),L(U,{key:h.id,tab:h,index:B,currentIndex:M(s),squaredTab:e.squaredTabs,showProgress:e.showProgress,onClick:re=>O(B)},{"active-step":S(()=>[u(t.$slots,"active-step")]),title:S(()=>[u(t.$slots,"title")]),_:2},1032,["tab","index","currentIndex","squaredTab","showProgress","onClick"]))])),256))]),b("div",te,[b("div",ne,[b("div",se,[u(t.$slots,"default")])]),e.hideButtons?y("",!0):(l(),r("div",ae,[u(t.$slots,"footer",{},()=>[b("div",oe,[j.value?(l(),r("span",{key:0,role:"button",onClick:D},[u(t.$slots,"back",{},()=>[x(k,{options:f.value},null,8,["options"])])])):y("",!0),u(t.$slots,"custom-buttons-left")]),b("div",le,[u(t.$slots,"custom-buttons-right"),_.value?(l(),r("span",{key:0,role:"button",onClick:z},[u(t.$slots,"done",{},()=>[x(k,{options:w.value},null,8,["options"])])])):(l(),r("div",{key:1,role:"button",onClick:z},[u(t.$slots,"next",{},()=>[x(k,{options:m.value},null,8,["options"])])]))])])]))])],10,Z))}});function ie(e){return console.log("Validating OPD workflow for title: ".concat(e)),!1}const fe=e=>{const o=P(""),p=a=>{a%1===0&&(o.value=a)},i=a=>{if(o.value===0&&console.log("First Tab"),p(a),H.getProgramID()==14&&!ie(e))return!1;console.log("All Tabs")},n=a=>{const v=document.getElementsByClassName("form-wizard-vue");if(!v.length)return;const f=v[0].getElementsByClassName("fw-body-list");if(!f.length)return;const m=f[0].querySelector(".fw-custom-title");m&&m.remove();const w=document.createElement("li");w.className="fw-custom-title",w.textContent=a||e,w.style.cssText="\n            text-align: center;\n            font-weight: 700;\n            font-size: 18px;\n            flex-grow: 0.08;\n            padding: 10px 0;\n        ",f[0].insertBefore(w,f[0].firstChild)},s=()=>{N(()=>{const a=document.querySelector(".fw-footer-left .fw-btn");if(console.log("ðŸš€ ~ changeBtnIconPosition ~ button:",a),!a)return;const v=a.querySelector("span"),f=a.querySelector("i");!v||!f||(a.removeChild(v),a.removeChild(f),a.appendChild(f),a.appendChild(v))})};return q(()=>{n()}),{currentTabIndex:o,onChangeCurrentTab:p,onTabBeforeChange:i,changeBtnIconPosition:s,addHeaderAboveList:n}};export{de as _,fe as u};
