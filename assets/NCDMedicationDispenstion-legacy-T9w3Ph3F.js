!function(){function e(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}System.register(["./vendor-legacy-CCRc-I5f.js","./EIRreportsStore-legacy-BxxmEcB5.js","./NavigationMenu-legacy-BfvISBvq.js","./index-legacy-CPVrS3n3.js","./drug_prescription_service-legacy-Dt1YNJj1.js","./app_encounter_service-legacy-CplDL468.js","./lodash-legacy-pOOc9Efu.js","./drug_service-legacy-C8_68iSR.js"],function(t,i){"use strict";var n,a,s,o,r,l,d,c,u,p,g,m,f,h,y,b,v,w,D,_,x,k,C,I,M,P,O,T,V,B,j,N,A,S,z,F,H,q,E,U,L,$,R,J,G,K,W,X,Q,Y,Z,ee,te,ie,ne,ae,se,oe,re,le,de,ce,ue,pe,ge,me,fe,he;return{setters:[e=>{n=e.d,a=e.I,s=e.W,o=e.bf,r=e.cm,l=e.a_,d=e.E,c=e.e,u=e.f,p=e.l,g=e.z,m=e.p,f=e.ab,h=e.ac,y=e.T,b=e.au,v=e.V,w=e.S,D=e.ao,_=e.ah,x=e.cc,k=e.X,C=e.k,I=e.B,M=e.A,P=e.F,O=e.aj,T=e.al,V=e.ar,B=e.U,j=e.bg,N=e.ad,A=e.ae,S=e.af,z=e.ag,F=e.dB,H=e.cn,q=e.dC,E=e.aK,U=e.bG,L=e.dD,$=e.r,R=e.y,J=e.L,G=e.m},e=>{K=e.E},e=>{W=e.N},e=>{X=e._,Q=e.i,Y=e.P,Z=e.S,ee=e.u,te=e.a0,ie=e.k,ne=e.aG,ae=e.a4,se=e.o,oe=e.aH,re=e.g,le=e.m,de=e.A,ce=e.j,ue=e.H,pe=e.h,ge=e.l,me=e.a3},e=>{fe=e.a},e=>{he=e.A},null,null],execute:function(){var i=document.createElement("style");i.textContent='.view-toggle-container[data-v-3e7a5aa6]{display:flex;justify-content:flex-end;padding:0 .5rem;background:transparent;margin:10px}.toggle-buttons[data-v-3e7a5aa6]{display:flex;gap:.25rem;background:transparent}ion-button[data-v-3e7a5aa6]{--background: transparent;--background-hover: rgba(var(--ion-color-primary-rgb), .1);--background-activated: transparent;--background-focused: transparent;--box-shadow: none;--color: var(--ion-color-dark-shade);--padding-start: .5rem;--padding-end: .5rem;height:2rem}ion-button.active[data-v-3e7a5aa6]{--color: var(--ion-color-primary);--background: transparent;position:relative}ion-button.active[data-v-3e7a5aa6]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:2px;background:var(--ion-color-primary);border-radius:1px}ion-icon[data-v-3e7a5aa6]{font-size:1.25rem}.medication-details-header[data-v-01db984e]{display:flex;align-items:center;gap:8px}.medication-details-modal[data-v-01db984e]{font-family:Arial,sans-serif}.text-xl[data-v-01db984e]{font-size:1.25rem}.font-bold[data-v-01db984e]{font-weight:700}.mb-4[data-v-01db984e]{margin-bottom:1rem}.grid[data-v-01db984e]{display:grid}.grid-cols-2[data-v-01db984e]{grid-template-columns:repeat(2,1fr)}.gap-3[data-v-01db984e]{gap:1rem}.dose-input[data-v-94ab8938]{--padding-start: 8px;--padding-end: 8px;margin-left:10px;width:200px}.bordered-input[data-v-94ab8938]{border:2px solid #ccc;border-radius:4px;padding:4px}.medication-details-header[data-v-94ab8938]{display:flex;align-items:center;gap:8px}.error-text[data-v-94ab8938]{color:red;font-size:.875rem;margin-top:4px}.dose-input[data-v-94ab8938]{--padding-start: 8px;--padding-end: 8px;border:2px solid #ccc;border-radius:4px;padding:4px}.input-error[data-v-94ab8938]{border-color:red}.error-text[data-v-94ab8938]{color:red}table[data-v-94ab8938]{border-collapse:collapse;width:100%}th[data-v-94ab8938]{font-weight:600;text-align:left}td[data-v-94ab8938],th[data-v-94ab8938]{padding:12px;border-bottom:1px solid #e2e8f0}tr[data-v-94ab8938]:hover{background-color:#f8fafc}.program-name[data-v-94ab8938]{color:#0e7e20;font-weight:600;font-size:18px;margin-left:10px}\n/*$vite$:1*/',document.head.appendChild(i);const ye=n({name:"ViewToggle",components:{IonButtons:o,IonButton:s,IonIcon:a},props:{initialView:{type:String,default:"list",validator:e=>["list","card"].includes(e)}},data(){return{currentView:this.initialView,listOutline:l,gridOutline:r}},methods:{switchView(e){this.currentView=e,this.$emit("view-changed",e)}}}),be={class:"view-toggle-container"};const ve=X(ye,[["render",function(e,t,i,n,a,s){const o=d("ion-icon"),r=d("ion-button"),l=d("ion-buttons");return u(),c("div",be,[p(l,{slot:"end",class:"toggle-buttons"},{default:g(()=>[p(r,{fill:"clear",class:m({active:"list"===e.currentView}),onClick:t[0]||(t[0]=t=>e.switchView("list"))},{default:g(()=>[p(o,{icon:e.listOutline,size:"large"},null,8,["icon"])]),_:1},8,["class"]),p(r,{fill:"clear",class:m({active:"card"===e.currentView}),onClick:t[1]||(t[1]=t=>e.switchView("card"))},{default:g(()=>[p(o,{icon:e.gridOutline,size:"large"},null,8,["icon"])]),_:1},8,["class"])]),_:1})])}],["__scopeId","data-v-3e7a5aa6"]]),we=n({name:"MedicationDetailsModal",components:{IonContent:D,IonHeader:w,IonFooter:v,IonPage:b,IonTitle:y,IonRow:h,IonCol:f,IonButton:s,IonIcon:a},props:{selectedMedication:{type:Object,default:null}},data(){return{iconsContent:Q,medkit:x,closeIcon:_,dismiss:()=>(this.$emit("close"),k.dismiss())}},methods:{formatFullDate:e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A",getFrequencyLabel(e){const t=fe.find(t=>t.code===e);return t?t.label:"Unknown"}}}),De={class:"medication-details-header"},_e={class:"modal_wrapper"},xe={class:"medication-details-modal"},ke={class:"text-xl font-bold mb-4"},Ce={class:"grid grid-cols-2 gap-3"};const Ie=X(we,[["render",function(e,t,i,n,a,s){const o=d("ion-icon"),r=d("ion-title"),l=d("ion-header"),m=d("ion-content"),f=d("ion-button"),h=d("ion-col"),y=d("ion-row"),b=d("ion-footer");return u(),c(P,null,[p(l,{style:{display:"flex","justify-content":"space-between"}},{default:g(()=>[p(r,{class:"modalTitle"},{default:g(()=>[C("div",De,[p(o,{icon:e.medkit,class:"ion-margin-end"},null,8,["icon"]),t[1]||(t[1]=C("span",null,"Medication Details",-1))])]),_:1}),p(o,{onClick:t[0]||(t[0]=t=>e.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:e.iconsContent.cancel},null,8,["icon"])]),_:1}),p(m,{fullscreen:!0,class:"ion-padding",style:{"--background":"#fff"}},{default:g(()=>[C("div",_e,[C("div",xe,[C("h2",ke,I(e.selectedMedication.drug.name),1),C("div",Ce,[C("div",null,[t[2]||(t[2]=C("strong",null,"Order ID:",-1)),M(" "+I(e.selectedMedication.order_id),1)]),C("div",null,[t[3]||(t[3]=C("strong",null,"Drug ID:",-1)),M(" "+I(e.selectedMedication.drug_inventory_id),1)]),C("div",null,[t[4]||(t[4]=C("strong",null,"Dose:",-1)),M(" "+I(e.selectedMedication.dose)+" "+I(e.selectedMedication.units),1)]),C("div",null,[t[5]||(t[5]=C("strong",null,"Equivalent Daily Dose:",-1)),M(" "+I(e.selectedMedication.equivalent_daily_dose),1)]),C("div",null,[t[6]||(t[6]=C("strong",null,"Frequency:",-1)),M(" "+I(e.getFrequencyLabel(e.selectedMedication.frequency)),1)]),C("div",null,[t[7]||(t[7]=C("strong",null,"Order Type:",-1)),M(" "+I(e.selectedMedication.order.order_type_id),1)]),C("div",null,[t[8]||(t[8]=C("strong",null,"Start Date:",-1)),M(" "+I(e.formatFullDate(e.selectedMedication.order.start_date)),1)]),C("div",null,[t[9]||(t[9]=C("strong",null,"Date Created:",-1)),M(" "+I(e.formatFullDate(e.selectedMedication.order.date_created)),1)]),C("div",null,[t[10]||(t[10]=C("strong",null,"Orderer:",-1)),M(" "+I(e.selectedMedication.order.orderer),1)]),C("div",null,[t[11]||(t[11]=C("strong",null,"Instructions:",-1)),M(" "+I(e.selectedMedication.order.instructions),1)])])])])]),_:1}),p(b,{collapse:"fade",class:"ion-no-border"},{default:g(()=>[p(y,null,{default:g(()=>[p(h,null,{default:g(()=>[p(f,{onClick:e.dismiss,color:"primary",style:{float:"right","margin-bottom":"20px","margin-right":"20px"}},{default:g(()=>[p(o,{icon:e.closeIcon,slot:"start"},null,8,["icon"]),t[12]||(t[12]=M(" Close "))]),_:1,__:[12]},8,["onClick"])]),_:1})]),_:1})]),_:1})],64)}],["__scopeId","data-v-01db984e"]]);class Me extends he{constructor(t=null,i=null){const n=new Y;super(null!==t?t:n.getID(),32,null!==i?i:Z.getUserID()),e(this,"drugHistory",void 0),e(this,"currentDrugOrder",void 0),this.drugHistory=[],this.currentDrugOrder=[]}getDrugHistory(){return this.drugHistory}getCurrentOrder(){return this.currentDrugOrder}getDispensationArryObj(e,t){return[{drug_order_id:e,date:this.date,quantity:t}]}saveDispensations(e,t){return he.postJson("/dispensations",{dispensations:e,provider_id:this.providerID,program_id:t})}generateOfflineDispensatiobObject(e,t){return{dispensations:e,provider_id:this.providerID,program_id:t,patient_id:this.patientID}}async saveDispensationsOffline(e){try{const a=ee(),{patient:s}=O(a),o=JSON.parse(JSON.stringify(s.value));if(e.length>0){var t,i,n;null!==(i=(t=null!==(n=o.dispensations)&&void 0!==n?n:o.dispensations={}).unsaved)&&void 0!==i||(t.unsaved=[]);o.dispensations.unsaved.length>=0&&o.dispensations.unsaved.push(...e)}await te(o,!1),ie("Dispensations saved offline successfully")}catch(a){ne("Error saving dispensations offline"+a)}}async voidOrder(e){return he.void(`/dispensations/${e}`,{})}async loadDrugHistory(){const e=await ae.getDrugOrderHistory(this.patientID);e&&(this.drugHistory=e)}async loadCurrentDrugOrder(){const e=await ae.getDrugOrders(this.patientID);e&&(this.currentDrugOrder=await Promise.all(e))}calcCompletePack(e,t){const i=e.barcodes.sort(function(e,t){return e.tabs-t.tabs});if(0==i.length||0==t)return t;for(let s=0;s<=i.length-1;s++)if(parseInt(i[s].tabs)>=t)return i[s].tabs;const n=parseInt(i[0].tabs);let a=parseInt(i[i.length-1].tabs);for(;a<t;)a+=n;return a}}const Pe=n({name:"MedicationDispensation",components:{IonContent:D,IonPage:b,NavigationMenu:W,IonCard:z,IonCardHeader:S,IonCardTitle:A,IonCardContent:N,IonButton:s,IonModal:j,IonHeader:w,IonToolbar:B,IonTitle:y,IonButtons:o,IonInput:V,MedicationDetailsModal:Ie,IonRow:h,IonCol:f,IonIcon:a,ViewToggleComponent:ve,IonFooter:v},setup(){const e=$(null);return{navMenuRef:e,navigateBack:()=>{e.value&&e.value.goBackwards()}}},data:()=>({medicationsByProgram:{},medications:[],selectedMedication:null,medkit:x,repeat:L,eye:U,alertCircleOutline:E,checkmarkDoneCircleOutline:q,clipboardOutline:H,timeOutline:F,currentView:"list",previousClinicalNotes:"",checkedIn:!1,showAsPrescribedBtn:!1,isOnline:!1}),computed:{...T(K,["navigationPayload"]),...T(ee,["patient"]),...T(se,["NCDMedicatioTogglePreference"]),medicationsByProgram(){return this.medications.reduce((e,t)=>{const i=t.program_id;return e[i]||(e[i]=[]),e[i].push(t),e},{})},groupedMedications(){return this.medications.reduce((e,t)=>{const i=t.order.date_created.split("T")[0];return e[i]||(e[i]=[]),e[i].push(t),e},{})}},async mounted(){this.initComp()},methods:{async initComp(){this.initTogglePreference(),this.medications=[],this.initOwnNavData(),await this.prescribedMedications(),this.enableShowAsPrescribedBtn()},async getPrograms(){return await this.getOfflinePrograms()},async printVisitSummary(){await(new me).printData("visit")},async closeVisit(){try{const e=await ce.getCheckInStatus(this.patient.patientID);await ce.checkOutPatient(e[0].id,ue.todayDateFormatted());const t=await pe(),i=t?t.code:null;await ge().refresh(i),this.checkedIn=!1,ie("The patient's visit is now closed",5e4),this.navigateBack()}catch(e){console.error(e),le("An error occurred while closing the visit.",5e4),this.navigateBack()}},initOwnNavData(){K().setNavigationPayload("Dispense Medication",!0,!1,"/","home")},async prescribedMedications(){this.isOnline?(this.medications=await ae.findProgramDrugOrdersAwaitingDispensation(this.patient.patientID),console.log(this.medications),this.medications=this.medications.map(e=>({...e,amountToDispense:e.amountToDispense||null,dispensed:e.dispensed||!1})),await this.groupMedicationsByProgram(this.medications)):await this.getPatientPrescribedMedications()},async getPatientPrescribedMedications(){try{const e=this.patient.dispensations.saved,t=this.patient.dispensations.unsaved,i=new Set;t.forEach(e=>{e.dispensations&&e.dispensations[0]&&e.dispensations[0].drug_order_id&&i.add(e.dispensations[0].drug_order_id)});const n=e.filter(e=>!i.has(e.order_id)).map(e=>({...e,amountToDispense:e.amountToDispense||null,dispensed:e.dispensed||!1}));await this.groupMedicationsByProgram(n)}catch(e){console.error("Error fetching offline medications:",e)}},async groupMedicationsByProgram(e){const t=await this.getPrograms(),i={};t.forEach(e=>{i[e.program_id]=e.name}),this.medicationsByProgram={},e.forEach(e=>{const t=i[e.program_id];t&&(this.medicationsByProgram[t]||(this.medicationsByProgram[t]=[]),this.medicationsByProgram[t].push(e))})},async getOfflinePrograms(){try{const e="",t=1,i=5e4,n=e?{name:`%${e}%`}:{};return await de("programs",{likeClause:n,currentPage:t,itemsPerPage:i}).then(e=>e.records)}catch(e){throw console.error("Error fetching offline districts:",e.message),e}},getFrequencyLabel(e){const t=fe.find(t=>t.code===e);return t?t.label:"Unknown"},validateAmount(e){const t=parseFloat(e.amountToDispense);isNaN(t)||t<=0?e.error="Please enter a valid amount greater than 0.":e.error=null},setAmountAsPrescribed(e){e.amountToDispense=e.dose,this.validateAmount(e)},async dispenseMedication(e){if(e.error)le("Fix errors before dispensing.");else try{const t=new Me,i=t.getDispensationArryObj(e.order_id,e.amountToDispense);if(this.isOnline)await t.saveDispensations(i,e.program_id),e.dispensed=!0,ie("Medication dispensed successfully.");else{const t=new Me,n=t.generateOfflineDispensatiobObject(i,e.program_id);await t.saveDispensationsOffline([n]),e.dispensed=!0}}catch(t){le("Dispensing failed. Please try again."),le("Error: "+t),console.error(t)}},async viewDetails(e){this.selectedMedication=e,await re(Ie,{class:"large-modal"},!0,{selectedMedication:this.selectedMedication})},formatHeaderDate:e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),handleViewChange(e){this.initTogglePreference(e,!0)},async enableShowAsPrescribedBtn(){const e=await oe([14]);this.showAsPrescribedBtn=!e},initTogglePreference(e="list",t=!1){const i={toggle_view:e},n=se();0===Object.keys(this.NCDMedicatioTogglePreference).length&&(i.toggle_view="list",n.setNCDMedicatioTogglePreference(i)),Object.keys(this.NCDMedicatioTogglePreference).length>0&&1==t&&n.setNCDMedicatioTogglePreference(i)},groupMedicationsByDate:e=>e.reduce((e,t)=>{const i=t.order.date_created.split("T")[0];return e[i]||(e[i]=[]),e[i].push(t),e},{})},watch:{patient:{async handler(){this.initComp()},deep:!0},$route:{handler(e){"NCDDispensations"===e.name&&this.initComp()},immediate:!0}}}),Oe={key:0,style:{margin:"20px"},class:"flex flex-col items-center justify-center p-8"},Te={key:1,class:"p-4"},Ve={class:"text-xl font-bold mb-4 program-name"},Be={class:"overflow-x-auto"},je={class:"w-full"},Ne={class:"p-3"},Ae={class:"p-3"},Se={class:"flex items-center"},ze={class:"p-3"},Fe={class:"p-3"},He={class:"p-3"},qe={class:"flex items-center space-x-2"},Ee={key:0,class:"error-text text-sm"},Ue={class:"p-3"},Le={class:"flex space-x-2"},$e={key:0,class:"text-center py-8"},Re={key:2,class:"p-4"},Je={class:"text-xl font-bold mb-4 program-name"},Ge={class:"text-lg font-bold mb-2"},Ke={class:"text-md font-medium"},We={class:"medication-details"},Xe={class:"flex justify-between mb-3"},Qe={class:"flex items-center"},Ye={class:"flex items-center mb-3"},Ze={key:0,class:"error-text"},et={class:"mt-3 flex space-x-2"},tt={key:0,class:"text-center mb-8"};t("default",X(Pe,[["render",function(e,t,i,n,a,s){const o=d("NavigationMenu"),r=d("ViewToggleComponent"),l=d("ion-icon"),f=d("ion-input"),h=d("ion-button"),y=d("ion-card-content"),b=d("ion-card"),v=d("ion-col"),w=d("ion-row"),D=d("ion-card-title"),_=d("ion-card-header"),x=d("ion-content"),k=d("ion-footer"),O=d("ion-page");return u(),R(O,null,{default:g(()=>[p(o,{ref:"navMenuRef"},null,512),p(r,{"initial-view":e.NCDMedicatioTogglePreference.toggle_view,onViewChanged:e.handleViewChange},null,8,["initial-view","onViewChanged"]),p(x,null,{default:g(()=>[0===Object.keys(e.medicationsByProgram).length?(u(),c("div",Oe,[p(l,{icon:e.alertCircleOutline,size:"large",class:"mb-4 text-gray-500"},null,8,["icon"]),t[2]||(t[2]=C("h2",{class:"text-xl font-semibold text-gray-700 mb-2"},"No Medications to Dispense",-1)),t[3]||(t[3]=C("p",{class:"text-gray-600"},"There are currently no medications waiting to be dispensed for current Client.",-1))])):"list"===e.NCDMedicatioTogglePreference.toggle_view?(u(),c("div",Te,[(u(!0),c(P,null,J(e.medicationsByProgram,(i,n)=>(u(),c(P,{key:n},[C("h2",Ve,I(n),1),p(b,{class:"mb-6"},{default:g(()=>[p(y,null,{default:g(()=>[C("div",Be,[C("table",je,[t[6]||(t[6]=C("thead",null,[C("tr",{class:"bg-gray-100"},[C("th",{class:"p-3 text-left"},"Date"),C("th",{class:"p-3 text-left"},"Medication"),C("th",{class:"p-3 text-left"},"Dose"),C("th",{class:"p-3 text-left"},"Frequency"),C("th",{class:"p-3 text-left"},"Amount to Dispense"),C("th",{class:"p-3 text-left"},"Actions")])],-1)),C("tbody",null,[(u(!0),c(P,null,J(i,i=>(u(),c("tr",{key:i.order_id,class:"border-b hover:bg-gray-50"},[C("td",Ne,I(e.formatHeaderDate(i.order.date_created.split("T")[0])),1),C("td",Ae,[C("div",Se,[p(l,{icon:e.medkit,class:"mr-2"},null,8,["icon"]),M(" "+I(i.drug.name),1)])]),C("td",ze,I(i.dose)+" "+I(i.units),1),C("td",Fe,I(e.getFrequencyLabel(i.frequency)),1),C("td",He,[C("div",qe,[p(f,{type:"number",placeholder:"Amount",modelValue:i.amountToDispense,"onUpdate:modelValue":e=>i.amountToDispense=e,onInput:t=>e.validateAmount(i),class:m(["w-24 dose-input bordered-input",i.error?"input-error":""])},null,8,["modelValue","onUpdate:modelValue","onInput","class"]),G("",!0)]),i.error?(u(),c("div",Ee,I(i.error),1)):G("",!0)]),C("td",Ue,[C("div",Le,[p(h,{color:"primary",size:"small",onClick:t=>e.dispenseMedication(i),disabled:!i.amountToDispense||i.dispensed},{default:g(()=>[p(l,{icon:e.checkmarkDoneCircleOutline,class:"mr-1",style:{"margin-right":"5px"}},null,8,["icon"]),M(" "+I(i.dispensed?"Dispensed":"Dispense"),1)]),_:2},1032,["onClick","disabled"]),p(h,{color:"secondary",size:"small",onClick:t=>e.viewDetails(i),style:{"margin-left":"10px"}},{default:g(()=>[p(l,{icon:e.eye,class:"mr-1",style:{"margin-right":"5px"}},null,8,["icon"]),t[5]||(t[5]=M(" Details "))]),_:2,__:[5]},1032,["onClick"])])])]))),128))])]),0===i.length?(u(),c("div",$e,[p(l,{icon:e.alertCircleOutline,size:"large",class:"mb-2"},null,8,["icon"]),C("p",null,"No medications prescribed for "+I(n),1)])):G("",!0)])]),_:2},1024)]),_:2},1024)],64))),128))])):(u(),c("div",Re,[(u(!0),c(P,null,J(e.medicationsByProgram,(i,n)=>(u(),c(P,{key:n},[C("h2",Je,I(n),1),(u(!0),c(P,null,J(e.groupMedicationsByDate(i),(i,n)=>(u(),c(P,{key:n},[C("h3",Ge,I(e.formatHeaderDate(n)),1),p(w,null,{default:g(()=>[p(v,{size:"12","size-md":"6","size-lg":"4"},{default:g(()=>[C("h3",Ke,I(n),1)]),_:2},1024)]),_:2},1024),p(w,null,{default:g(()=>[(u(!0),c(P,null,J(i,i=>(u(),R(v,{key:i.order_id,size:"12","size-md":"6","size-lg":"4"},{default:g(()=>[p(b,{class:"mb-4"},{default:g(()=>[p(_,null,{default:g(()=>[p(D,{class:"medication-details-header"},{default:g(()=>[p(l,{icon:e.medkit,class:"ion-margin-end"},null,8,["icon"]),C("span",null,I(i.drug.name),1)]),_:2},1024)]),_:2},1024),p(y,null,{default:g(()=>[C("div",We,[C("div",Xe,[C("span",Qe,I(e.getFrequencyLabel(i.frequency))+" ("+I(i.frequency)+") ",1)]),C("div",Ye,[p(f,{type:"number",placeholder:"Amount",modelValue:i.amountToDispense,"onUpdate:modelValue":e=>i.amountToDispense=e,onInput:t=>e.validateAmount(i),class:m(["w-24 dose-input bordered-input",i.error?"input-error":""])},null,8,["modelValue","onUpdate:modelValue","onInput","class"]),G("",!0)]),i.error?(u(),c("div",Ze,I(i.error),1)):G("",!0),C("div",et,[p(h,{color:"primary",onClick:t=>e.dispenseMedication(i),disabled:!i.amountToDispense||i.dispensed},{default:g(()=>[p(l,{icon:e.checkmarkDoneCircleOutline,class:"mr-2",style:{"margin-right":"5px"}},null,8,["icon"]),M(" "+I(i.dispensed?"Dispensed":"Dispense"),1)]),_:2},1032,["onClick","disabled"]),p(h,{color:"secondary",style:{"margin-left":"20px"},onClick:t=>e.viewDetails(i)},{default:g(()=>[p(l,{icon:e.eye,class:"mr-2",style:{"margin-right":"5px"}},null,8,["icon"]),t[8]||(t[8]=M(" Details "))]),_:2,__:[8]},1032,["onClick"])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)],64))),128)),0===i.length?(u(),c("div",tt,[p(l,{icon:e.alertCircleOutline,size:"large",class:"mb-2"},null,8,["icon"]),C("p",null,"No medications prescribed for "+I(n),1)])):G("",!0)],64))),128))]))]),_:1}),p(k,{collapse:"fade",class:"ion-no-border"},{default:g(()=>[p(w,null,{default:g(()=>[p(v,null,{default:g(()=>[p(h,{id:"cbtn",class:"",color:"primary",fill:"solid",style:{float:"right","margin-left":"50px"},onClick:t[0]||(t[0]=t=>e.printVisitSummary())},{default:g(()=>t[9]||(t[9]=[M(" Print Visit Summary ")])),_:1,__:[9]}),p(h,{id:"cbtn",class:"",color:"danger",fill:"solid",style:{float:"right","margin-left":"50px"},onClick:t[1]||(t[1]=t=>e.closeVisit())},{default:g(()=>t[10]||(t[10]=[M(" Close visit ")])),_:1,__:[10]})]),_:1})]),_:1})]),_:1}),p(k)]),_:1})}],["__scopeId","data-v-94ab8938"]]))}}})}();
