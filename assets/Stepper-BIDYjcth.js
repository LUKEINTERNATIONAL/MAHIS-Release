var Pi=Object.defineProperty;var Ni=(e,t,a)=>t in e?Pi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var $t=(e,t,a)=>Ni(e,typeof t!="symbol"?t+"":t,a);import{R as je,d as V,r as I,E as c,e as m,f as p,F as ne,l as s,z as i,u as g,ab as be,D as ie,A as C,L as fe,y as O,m as A,k as v,B as $,G as E,dQ as Cs,dR as ws,ar as y,c as Ze,w as pt,a as aa,W as mt,bj as Is,ac as T,U as R,T as L,as as z,S as x,a9 as H,a1 as X,a2 as K,a0 as Ft,a3 as J,V as ki,af as jn,c$ as Bi,dq as Ei,bd as Fa,bc as Ps,X as Ha,c3 as Fs,c6 as Vi,ad as ve,ae as ge,cu as oe,ct as le,cy as se,O as Ns,at as $e,b1 as Ai,I as qt,aB as $i,i as Yn,dS as Mi,v as Jn,M as Gt,J as jt,az as Kn,bq as pa,bt as ks,a8 as Ra,cm as Ti,d7 as Bs,a6 as Oi,aa as _t,aK as Fi,bo as Hs,bN as Hi,dT as Ri,dt as Rs,bl as Li,aY as Qn,aZ as Xn,a_ as Zn,a$ as ei,b2 as Es,b4 as xi,b3 as ea,bG as Ui,bf as zi,bb as qi,ba as Wi,cj as Gi,p as Ls,cs as ji}from"./vendor--FxeD1z3.js";import{A as It}from"./app_encounter_service-DRel8Czk.js";import{a4 as fs,O as Dt,A as sa,i as w,_ as M,u as Me,ay as La,S as Ke,H as me,Q as Ee,aK as _s,D as Ve,B as W,x as Y,w as d,C as Yi,l as ta,aj as k,j as na,av as Je,ad as ti,g as vs,h as gs,k as ma,f as vt,Y as Ge,V as nt,o as ai,aG as Ji,ab as S,b4 as Qt,b5 as Ki,b6 as Qi,b7 as Xi,b8 as Zi,b9 as eo,ba as to,aM as Z,aZ as b,aN as B,aJ as xs,aH as Us,aL as ao,X as bt,W as St,P as De,bb as ca,Z as zs,az as we,a7 as Ba,aI as ls,z as so,a6 as Mt,t as Pt,aF as qs,bc as ys,bd as Sa,be as Ws,bf as Gs,bg as ke,bh as Le,bi as no,bj as Aa,bk as js,bl as bs,bm as qe,bn as ht,bo as si,bp as Ds,bq as io,br as dt,bs as Ys,bt as ni,bu as ut,bv as ii,bw as $a,bx as Vs,by as Tt,bz as Js,bA as Ut,bB as Ks,bC as oo,bD as rs,bE as Ss,bF as yt,bG as Ma,L as Ht,bH as pe,bI as Qs,bJ as ds,bK as Xs,bL as Zs,bM as en,bN as tn,bO as an,bP as sn,bQ as lo,bR as nn,bS as ro,bT as on,a8 as ln,al as cs,aq as us,a5 as co,ao as uo,bU as rn,R as dn,bV as Ca,bW as Yt,bX as Wt,bY as cn,bZ as un,b_ as ho,b$ as po,c0 as mo,c1 as fo,c2 as hs,c3 as _o,c4 as hn,c5 as vo,c6 as go,c7 as yo,c8 as bo,c9 as pn,ca as Do,cb as So,cc as mn,cd as Co,ce as wo,cf as fn,cg as Io,ch as _n,ci as oi,cj as li,y as Po,T as No}from"./index-HMs23-uU.js";import{l as Pe,_ as vn}from"./lodash-Dt8AsbQm.js";import{D as Ct,S as ri,a as ko,b as di,u as Ta,E as Bo,c as As,A as Eo,O as Vo,_ as ci,P as ui,l as Ea,m as Ao,n as ps,o as $o,q as Mo,R as To,r as Oo,p as Fo,N as Ho,g as Ro,C as Lo,f as xo}from"./Outcome-Bae4EP_1.js";import{B as F}from"./BasicForm-BTjeLnz-.js";import{P as xa}from"./previousVitals-pJFw2Kz2.js";import{L as gt,i as Ua,a as za,c as qa}from"./SvgDynamicColor-DIVkzYvf.js";import{P as gn}from"./patient_complaints_service-B6n7X8-9.js";import{P as hi}from"./patient_lab_service-Dctnvtgm.js";import{B as Ne}from"./ncd_appointment_service-DncRURZn.js";import{U as Nt,I as kt}from"./UpcomingFeature-XR6wK9Nu.js";import{v as yn}from"./group_validation-BTMsbaPz.js";import{a as pi,g as Uo}from"./drug_prescription_service--x_tiH9E.js";import{D as Oa}from"./drug_service-Cc2NPkFY.js";import{A as zo}from"./appointment_service-C548keHF.js";import{F as mi}from"./FeatusModal-D8IBDI2T.js";import{S as qo}from"./SaveProgressModal-b0QtSmiM.js";import{V as Wo}from"./vitals_service-CiSnWnw5.js";class Go extends It{constructor(a,n){super(a,54,n);$t(this,"drugHistory");$t(this,"currentDrugOrder");this.drugHistory=[],this.currentDrugOrder=[]}getDrugHistory(){return this.drugHistory}getCurrentOrder(){return this.currentDrugOrder}buildDispensations(a,n){return[{drug_order_id:a,date:this.date,quantity:n}]}saveDispensations(a){return It.postJson("/dispensations",{dispensations:a,program_id:It.getProgramID()})}async voidOrder(a){return It.void("/dispensations/".concat(a),{})}async loadDrugHistory(){const a=await fs.getDrugOrderHistory(this.patientID);a&&(this.drugHistory=a)}async loadCurrentDrugOrder(){const a=await fs.getDrugOrders(this.patientID);a&&(this.currentDrugOrder=await Promise.all(a))}calcCompletePack(a,n){const o=a.barcodes.sort(function(u,h){return u.tabs-h.tabs});if(o.length==0||n==0)return n;for(let u=0;u<=o.length-1;u++)if(parseInt(o[u].tabs)>=n)return o[u].tabs;const r=parseInt(o[0].tabs);let l=parseInt(o[o.length-1].tabs);for(;l<n;)l+=r;return l}}const Ot=je("dispensation",{state:()=>({drugPrescriptions:[],dispensedMedication:[],payload:{},saveInitiated:!1,StepperData:[{title:"Dispense Medications",component:"dispensedMedication",value:"1"}]}),actions:{resetStore(){this.drugPrescriptions=[],this.dispensedMedication=[],this.payload={},this.saveInitiated=!1},editDispensations(){this.toggleStepperData()},getStepperData(){return this.StepperData},toggleStepperData(){this.StepperData[0].component=="dispensedMedication"?this.StepperData.splice(0,1,{title:"Dispensation Summary",component:"dispensationSummary",value:"1"}):this.StepperData.splice(0,1,{title:"Dispense Medications",component:"dispensedMedication",value:"1"})},isSaveInitiated(e){this.saveInitiated=e},validateInputs(){if(this.saveInitiated==!1)return!1;let e=!1;return console.log("Validating drugPrescriptions:",this.drugPrescriptions),this.drugPrescriptions.forEach((t,a)=>{t.other||(console.error("Item ".concat(a,": Element.other is undefined.")),t.other={quantity:0},e=!0);const n=Number(t.other.quantity);console.log("Item ".concat(a,": Quantity = ").concat(n,", Reason = ").concat(t.reason,", isSelected = ").concat(t.isSelected)),t.isSelected?n<=0?(t.showValidation=!0,e=!0):t.showValidation=!1:t.reason===""?(t.showValidation=!0,e=!0):t.showValidation=!1}),e},initializeDispensedAmount(){this.drugPrescriptions.forEach(e=>{e.other||(e.other={quantity:0}),e.other.quantity=0})},initializeValidationsBoolean(){this.drugPrescriptions.forEach(e=>{e.showValidation=!1})},initializeReasonParameter(){this.drugPrescriptions.forEach(e=>{e.reason=""})},getValidation(e){return this.drugPrescriptions[e].showValidation},setReason(e,t){this.drugPrescriptions[t].reason=e},setDrugPrescriptions(e){this.drugPrescriptions=e},getDrugPrescriptions(){return this.drugPrescriptions},updateCheckboxBool(e,t){this.drugPrescriptions[t].other||(this.drugPrescriptions[t].other={quantity:0}),this.drugPrescriptions[t].isSelected=e,e||(this.drugPrescriptions[t].other.quantity=0,this.drugPrescriptions[t].reason="")},getCheckedBool(e){return this.drugPrescriptions[e].isSelected},getReason(e){return this.drugPrescriptions[e].reason},getDispensedMedications(){return this.dispensedMedication},addQuantity(e,t){this.drugPrescriptions[t].other||(this.drugPrescriptions[t].other={quantity:0}),this.drugPrescriptions[t].other.quantity=Number(e)},saveDispensedMedications(){this.dispensedMedication=this.drugPrescriptions},setDispensedMedicationsPayload(){const e={dispensations:[],program_id:14},t=[];this.dispensedMedication.forEach(a=>{const n={drug_order_id:null,quantity:null,date:null};n.drug_order_id=a.other.order_id,n.quantity=a.other.quantity,n.date=a.prescription,t.push(n)}),e.dispensations=t,this.payload=e},getDispensedMedicationsPayload(){return this.payload}}}),jo={style:{display:"flex","flex-direction":"column",width:"100%"}},Yo={class:"flex-item"},Jo={key:1},Ko={key:0},Qo={key:1},Xo={key:3},Zo=V({components:{IonItem:E,IonCol:be,IonLabel:ie},computed:{...y(Ot,["drugPrescriptions"])},data(){return{iconsContent:w,dataArray:[...this.$props.dataArray],dispensationStore:Ot(),noDispensationReason:[{name:"Out of stock",selected:!1},{name:"Wrong prescription",selected:!1}],title:"Select a reason"}},props:{dataArray:{type:Array,default:[]},show_actions_buttons:{type:Boolean,default:!0},withCheckboxs:{type:Boolean,default:!1},showInputs:{type:Boolean,default:!1},value:{type:String,default:""}},watch:{},methods:{highlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#006401"),this.highlightActionBtns(e)},undoHighlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="rgb(0,0,0)"),this.undohighlightActionBtns(e)},highlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="block"},undohighlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="none"},asignLblID(e){return e+"_lbl"},asignSpanLblID(e){return e+"_spanlbl"},async removeItemAtIndex(e,t){await sa("Do you want to delete it?",t)&&this.$emit("remove-item",e)},editItemAtIndex(e){this.$emit("edit-item",e)}}}),el=V({...Zo,__name:"DynamicList",setup(e){const t=I(!1);I("");const a=I(!1),n=I(Event);function o(r){n.value=r,t.value=!0}return(r,l)=>{const u=c("ion-row"),h=c("ion-checkbox"),f=c("ion-input"),_=c("ion-icon");return p(),m(ne,null,[s(u,{class:"header-row",style:{"padding-top":"1rem"}},{default:i(()=>[s(g(be),{class:"header-col"},{default:i(()=>[s(g(ie),{class:"header-label bold"},{default:i(()=>l[6]||(l[6]=[C("Drug name and frequency ")])),_:1,__:[6]})]),_:1}),s(g(be),{class:"header-col"},{default:i(()=>[s(g(ie),{class:"header-label bold"},{default:i(()=>l[7]||(l[7]=[C("Quantity")])),_:1,__:[7]})]),_:1})]),_:1}),(p(!0),m(ne,null,fe(r.dataArray,(D,P)=>(p(),O(g(E),{class:"ionLbltp",key:P,onMousemove:N=>r.highlightItem(P),onMouseout:N=>r.undoHighlightItem(P)},{default:i(()=>[s(u,null,{default:i(()=>[s(g(be),{class:"col-st1"},{default:i(()=>[r.withCheckboxs?(p(),O(h,{key:0,id:P,onIonChange:l[0]||(l[0]=N=>r.$emit("clickt",N)),justify:"start",labelPlacement:"end",checked:!0},{default:i(()=>[v("div",jo,[v("div",Yo,[s(g(ie),{id:r.asignLblID(P),style:{color:"#00190E","font-weight":"400"}},{default:i(()=>[C($(D.drugName),1)]),_:2},1032,["id"]),s(g(ie),{style:{color:"#636363","font-weight":"400"}},{default:i(()=>[C($(D.frequency)+" / for "+$(D.duration)+" days",1)]),_:2},1024)])])]),_:2},1032,["id"])):A("",!0),r.withCheckboxs?A("",!0):(p(),m("div",Jo,[v("div",{onClick:l[1]||(l[1]=N=>r.$emit("click",N)),style:{display:"flex","flex-direction":"column",width:"100%"}},[s(g(ie),{id:r.asignLblID(P),style:{color:"#00190E","font-weight":"400"}},{default:i(()=>[C($(D.drugName),1)]),_:2},1032,["id"]),s(g(ie),{style:{color:"#636363","font-weight":"400"}},{default:i(()=>[C($(D.frequency)+" / for "+$(D.duration)+" days",1)]),_:2},1024)])]))]),_:2},1024),s(g(be),null,{default:i(()=>[!r.showInputs&&D.other.quantity>0?(p(),m("div",Ko,[s(g(ie),{color:"primary"},{default:i(()=>[C($(D.other.quantity)+" dispensed",1)]),_:2},1024)])):!r.showInputs&&D.other.quantity<1?(p(),m("div",Qo,[s(g(ie),{style:{color:"#b42318"}},{default:i(()=>[C("Not Dispensed. ("+$(D.reason)+")",1)]),_:2},1024)])):A("",!0),r.dispensationStore.getCheckedBool(P)&&r.showInputs?(p(),O(g(E),{key:2,class:"input_item"},{default:i(()=>[s(g(ie),{style:{"padding-right":"3px"}},{default:i(()=>l[8]||(l[8]=[C("Quantity:")])),_:1,__:[8]}),s(f,{id:P,placeholder:"0",onIonInput:l[2]||(l[2]=N=>r.$emit("updateQuantity",N))},null,8,["id"])]),_:2},1024)):A("",!0),r.dispensationStore.getValidation(P)?(p(),m("span",Xo,[s(g(ie),{style:{color:"red"}},{default:i(()=>l[9]||(l[9]=[C("Please fill in this section")])),_:1,__:[9]})])):A("",!0),!r.dispensationStore.getCheckedBool(P)&&r.showInputs?(p(),O(g(E),{key:4,class:"input_item",style:{width:"200px"}},{default:i(()=>[v("span",{style:{display:"flex","align-items":"center"},id:"chooseType",onClick:o},[s(f,{id:P,value:r.dispensationStore.getReason(P),onIonFocus:l[3]||(l[3]=N=>r.$emit("getInputID",N)),placeholder:"Reason why?"},null,8,["id","value"]),a.value?A("",!0):(p(),O(_,{key:0,icon:g(Cs)},null,8,["icon"])),a.value?(p(),O(_,{key:1,icon:g(ws)},null,8,["icon"])):A("",!0)]),s(Dt,{content:r.noDispensationReason,title:r.title,popoverOpen:t.value,onClosePopoover:l[4]||(l[4]=N=>t.value=N),event:n.value,onSetSelection:l[5]||(l[5]=N=>r.$emit("getSelectedReason",N))},null,8,["content","title","popoverOpen","event"])]),_:2},1024)):A("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onMousemove","onMouseout"]))),128))],64)}}}),bn=M(el,[["__scopeId","data-v-5b73e01b"]]),tl={key:0,class:"diagnosis-list"},al={class:"item-name"},sl={class:"item-type"},nl={key:1},il={key:0},ol={key:1},ll={key:0},rl=V({watch:{$route:{immediate:!0,deep:!0,handler(){this.getPatientDiagnosis()}}},name:"xxxComponent",computed:{...y(Ot,["drugPrescriptions"]),...y(Me,["patient"])},data(){return{addOutline:Is,list:[],isLoading:!1}},async mounted(){await this.getPatientDiagnosis()},methods:{async getPatientDiagnosis(){this.isLoading=!0,this.list=[];const e=this.patient.patientID,t=new Date(Ke.getSessionDate()).toISOString().split("T")[0];console.log(t);try{const a=await Ee.getAll(e,"Primary diagnosis"),n=await Ee.getAll(e,"Secondary diagnosis"),o=await Ee.getAll(e,"Attempted/ Differential diagnosis"),r=[],l=h=>h.filter(f=>new Date(f.obs_datetime).toISOString().split("T")[0]===t),u=async(h,f)=>{const _=l(h);return await Promise.all(_.map(async D=>({display:[await Ee.getConceptName(D.value_coded),f]})))};if(!Pe.isEmpty(a)){const h=await u(a,"Primary diagnosis");r.push(...h)}if(!Pe.isEmpty(n)){const h=await u(n,"Secondary diagnosis");r.push(...h)}if(!Pe.isEmpty(o)){const h=await u(o,"Differential diagnosis");r.push(...h)}this.list=r}catch(a){console.error("Error fetching diagnoses:",a)}finally{this.isLoading=!0}},resetStore(){this.drugPrescriptions=[]},setListData(e){this.list=[],e.forEach(t=>{this.list.push({display:[t.name]})})}}}),dl=V({...rl,setup(e){const t=Me(),a=Ze(()=>t.patient),n=Ot(),o=La(),r=Ze(()=>o.selectedMedicalAllergiesList),l=I(""),u=Ze(()=>n.getDispensedMedications());pt(u,Q=>{console.log("Dispensed Medications Updated:",Q)});function h(Q){return Q}function f(Q){const U=/(\d+)\s+days/i,ue=Q.match(U);return ue&&ue.length>1?parseInt(ue[1]):null}async function _(){const Q=new Date(Ke.getSessionDate()).toISOString().split("T")[0],U=a.value.patientID;try{const ue=await fs.getOrderByPatient(U,{start_date:Q});if(console.log("Fetched medications:",ue),!ue||ue.length===0){console.log("No medications found for the patient."),n.setDrugPrescriptions([]);return}const Oe=ue.map(Ce=>({drugName:Ce.drug.name,dose:Ce.dose,frequency:Ce.frequency,duration:f(Ce.order.instructions),prescription:me.toStandardHisFormat(Ce.order.auto_expire_date),drug_id:Ce.drug.drug_id,units:Ce.units,route_concept_id:Ce.route_concept_id,route_name:Ce.route_name,other:{quantity:0,order_id:Ce.order_id},reason:"",isSelected:!0,showValidation:!1}));console.log("Formatted medications:",Oe),n.setDrugPrescriptions(Oe)}catch(ue){console.error("Error fetching medications:",ue),n.setDrugPrescriptions([])}}aa(async()=>{await _()}),pt(()=>a.value,async(Q,U)=>{Q&&Q.patientID!==U.patientID&&(n.resetStore(),await _(),n.drugPrescriptions.forEach(ue=>{ue.quantity||(ue.quantity=0)}))},{immediate:!0,deep:!0});function D(){n.editDispensations()}function P(Q){l.value=Q.name}function N(Q){l.value!=""&&(n.setReason(l.value,Q.target.id),l.value="",n.validateInputs())}function G(Q){const U=Q.target.id,ue=Q.detail.value;n.addQuantity(ue,U),n.validateInputs()}function q(Q){const U=Q.target.id,ue=Q.detail.checked;n.updateCheckboxBool(ue,U)}function ee(){if(n.isSaveInitiated(!0),n.validateInputs())return;console.log("Saving dispensed medications..."),n.saveDispensedMedications(),n.setDispensedMedicationsPayload();const Q=new Go(a.value.patientID,Ke.getUserID()),U=n.getDispensedMedicationsPayload();Q.saveDispensations(U.dispensations),console.log("Dispensed Medications:",n.getDispensedMedications())}return(Q,U)=>{const ue=c("ion-loading"),Oe=c("ion-row"),Ce=c("ion-icon");return p(),m(ne,null,[Q.isLoading?(p(),O(ue,{key:0,message:"Loading data, please wait...",spinner:"bubbles"})):A("",!0),s(g(T),null,{default:i(()=>[s(g(ie),null,{default:i(()=>U[1]||(U[1]=[C("Allergies (Medication, Healthcare items, Environment and Food)")])),_:1,__:[1]}),s(Oe,null,{default:i(()=>[s(g(E),{lines:"none",class:"medicalAl"},{default:i(()=>[s(Oe,null,{default:i(()=>[(p(!0),m(ne,null,fe(r.value,(He,Ae)=>(p(),m("div",{key:Ae},[He.selected?(p(),O(g(mt),{key:0,class:"medicalAlBtn"},{default:i(()=>[C($(He.name),1)]),_:2},1024)):A("",!0)]))),128))]),_:1})]),_:1})]),_:1}),s(g(ie),null,{default:i(()=>U[2]||(U[2]=[C("Diagnoses")])),_:1,__:[2]}),s(Oe,null,{default:i(()=>[s(g(E),{lines:"none",class:"medicalAl"},{default:i(()=>[s(Oe,null,{default:i(()=>[Q.list.length>0?(p(),m("div",tl,[U[3]||(U[3]=v("div",{class:"diagnosis-header"},[v("span",{class:"header-name"},"Diagnosis name"),v("span",{class:"header-type"},"Diagnosis type")],-1)),(p(!0),m(ne,null,fe(Q.list,(He,Ae)=>(p(),m("div",{key:Ae,class:"diagnosis-item"},[v("span",al,$(He.display[0]),1),v("span",sl,$(He.display[1]),1)]))),128))])):(p(),m("div",nl,"No diagnoses were added."))]),_:1})]),_:1})]),_:1}),U[7]||(U[7]=v("div",{class:"space"},null,-1)),s(g(ie),null,{default:i(()=>U[4]||(U[4]=[C("Prescribed Medications To Be Dispensed")])),_:1,__:[4]}),g(n).getDrugPrescriptions()&&g(n).getDrugPrescriptions().length>0?(p(),m("div",il,[s(bn,{onClickt:q,dataArray:g(n).drugPrescriptions,withCheckboxs:!0,showInputs:!0,show_actions_buttons:!1,onUpdateQuantity:G,onGetInputID:N,onGetSelectedReason:P},null,8,["dataArray"]),v("div",null,[U[6]||(U[6]=v("div",{class:"space3"},null,-1)),s(g(mt),{class:"faded-green no-background",style:{"padding-left":"15px","border-radius":"1px"},onClick:U[0]||(U[0]=He=>ee())},{default:i(()=>[s(Ce,{slot:"start",icon:g(Is)},null,8,["icon"]),U[5]||(U[5]=C(" Submit "))]),_:1,__:[5]})])])):(p(),m("div",ol,"No medications were added for this patient."))]),_:1,__:[7]}),s(g(T),null,{default:i(()=>[g(n).getDispensedMedications()&&g(n).getDispensedMedications().length>0?(p(),m("div",ll,[s(g(ie),null,{default:i(()=>U[8]||(U[8]=[C("Here is the dispensation summary")])),_:1,__:[8]}),s(bn,{onClick:D,dataArray:g(n).getDispensedMedications(),withCheckboxs:!1,showInputs:!1,show_actions_buttons:!1},null,8,["dataArray"])])):A("",!0)]),_:1})],64)}}}),cl=M(dl,[["__scopeId","data-v-36fd7d91"]]),ul={style:{display:"flex",padding:"0.3em"}},hl={style:{display:"flex",padding:"0.3em"}},pl={style:{display:"flex",padding:"0.3em"}},ml={style:{padding:"0.3em"}},fl={key:1},_l={key:0},vl={key:1},gl={key:3},yl=V({components:{IonItem:E,IonCol:be,IonLabel:ie},computed:{...y(Ot,["drugPrescriptions"])},data(){return{iconsContent:w,dataArray:[...this.$props.dataArray],dispensationStore:Ot(),noDispensationReason:[{name:"Out of stock",selected:!1},{name:"Wrong prescription",selected:!1}],title:"Select a reason"}},props:{dataArray:{type:Array,default:[]},show_actions_buttons:{type:Boolean,default:!0},withCheckboxs:{type:Boolean,default:!1},showInputs:{type:Boolean,default:!1},value:{type:String,default:""}},watch:{},methods:{highlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#006401"),this.highlightActionBtns(e)},undoHighlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="rgb(0,0,0)"),this.undohighlightActionBtns(e)},highlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="block"},undohighlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="none"},asignLblID(e){return e+"_lbl"},asignSpanLblID(e){return e+"_spanlbl"},async removeItemAtIndex(e,t){await sa("Do you want to delete it?",t)&&this.$emit("remove-item",e)},editItemAtIndex(e){this.$emit("edit-item",e)}}}),bl=V({...yl,__name:"DynamicListOPDcopy",setup(e){const t=I(!1);I("");const a=I(!1),n=I(Event);function o(r){n.value=r,t.value=!0}return(r,l)=>{const u=c("ion-row"),h=c("ion-checkbox"),f=c("ion-input"),_=c("ion-icon");return p(),m(ne,null,[s(u,{style:{"padding-top":"1rem"}},{default:i(()=>[s(g(be),null,{default:i(()=>[v("div",ul,[s(g(ie),{style:{width:"500px",color:"#00190E","font-weight":"550",font:"inter","line-height":"21px"}},{default:i(()=>l[6]||(l[6]=[C("Drug Name")])),_:1,__:[6]})])]),_:1}),s(g(be),null,{default:i(()=>[v("div",hl,[s(g(ie),{style:{width:"280px",color:"#00190E","font-weight":"550",font:"inter","line-height":"21px"}},{default:i(()=>l[7]||(l[7]=[C("Duration")])),_:1,__:[7]})])]),_:1}),s(g(be),null,{default:i(()=>[v("div",pl,[s(g(ie),{style:{color:"#00190E","font-weight":"550",font:"inter","line-height":"21px"}},{default:i(()=>l[8]||(l[8]=[C("Dispensation")])),_:1,__:[8]})])]),_:1})]),_:1}),(p(!0),m(ne,null,fe(r.dataArray,(D,P)=>(p(),O(g(E),{class:"ionLbltp",key:P,onMousemove:N=>r.highlightItem(P),onMouseout:N=>r.undoHighlightItem(P)},{default:i(()=>[s(u,null,{default:i(()=>[s(g(be),null,{default:i(()=>[s(u,{style:{display:"flex","align-items":"center",width:"800px"}},{default:i(()=>[s(g(be),null,{default:i(()=>[r.withCheckboxs?(p(),O(h,{key:0,id:P,onIonChange:l[0]||(l[0]=N=>r.$emit("clickt",N)),justify:"start",labelPlacement:"end",checked:!0,style:{width:"500px"}},{default:i(()=>[v("div",ml,[s(g(ie),{id:r.asignLblID(P),style:{color:"#00190E","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[C($(D.drugName),1)]),_:2},1032,["id"]),s(g(ie),{style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[C($(D.frequency),1)]),_:2},1024)])]),_:2},1032,["id"])):A("",!0),r.withCheckboxs?A("",!0):(p(),m("div",fl,[v("div",{style:{padding:"0.3em",width:"500px"},onClick:l[1]||(l[1]=N=>r.$emit("click",N))},[s(g(ie),{id:r.asignLblID(P),style:{color:"#00190E","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[C($(D.drugName),1)]),_:2},1032,["id"]),s(g(ie),{style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[C($(D.frequency),1)]),_:2},1024)])]))]),_:2},1024),s(g(be),null,{default:i(()=>[v("div",null,[s(g(ie),{style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[C($(" for")+" "+$(D.duration)+" days ",1)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024),s(g(be),null,{default:i(()=>[!r.showInputs&&D.other.quantity>0?(p(),m("div",_l,[s(g(ie),{color:"primary"},{default:i(()=>[C($(D.other.quantity)+" dispensed",1)]),_:2},1024)])):!r.showInputs&&D.other.quantity<1?(p(),m("div",vl,[s(g(ie),{style:{color:"#b42318"}},{default:i(()=>l[9]||(l[9]=[C("Not Dispensed.")])),_:1,__:[9]}),s(g(ie),{style:{color:"#b42318"}},{default:i(()=>[C("("+$(D.reason)+")",1)]),_:2},1024)])):A("",!0),r.dispensationStore.getCheckedBool(P)&&r.showInputs?(p(),O(g(E),{key:2,class:"input_item"},{default:i(()=>[s(f,{id:P,placeholder:"Quantity",onIonInput:l[2]||(l[2]=N=>r.$emit("updateQuantity",N))},null,8,["id"])]),_:2},1024)):A("",!0),r.dispensationStore.getValidation(P)?(p(),m("span",gl,[s(g(ie),{style:{color:"red"}},{default:i(()=>l[10]||(l[10]=[C("Please fill in this section")])),_:1,__:[10]})])):A("",!0),!r.dispensationStore.getCheckedBool(P)&&r.showInputs?(p(),O(g(E),{key:4,class:"input_item",style:{width:"190px"}},{default:i(()=>[v("span",{style:{display:"flex","align-items":"center"},id:"chooseType",onClick:o},[s(f,{id:P,value:r.dispensationStore.getReason(P),onIonFocus:l[3]||(l[3]=N=>r.$emit("getInputID",N)),placeholder:"Reason why?"},null,8,["id","value"]),a.value?A("",!0):(p(),O(_,{key:0,icon:g(Cs)},null,8,["icon"])),a.value?(p(),O(_,{key:1,icon:g(ws)},null,8,["icon"])):A("",!0)]),s(Dt,{content:r.noDispensationReason,title:r.title,popoverOpen:t.value,onClosePopoover:l[4]||(l[4]=N=>t.value=N),event:n.value,onSetSelection:l[5]||(l[5]=N=>r.$emit("getSelectedReason",N))},null,8,["content","title","popoverOpen","event"])]),_:2},1024)):A("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onMousemove","onMouseout"]))),128))],64)}}}),Dl=M(bl,[["__scopeId","data-v-5f6fcb4c"]]),Sl={key:0},Cl={key:1},wl=V({watch:{},name:"xxxComponent",computed:{...y(Ot,["drugPrescriptions"])}}),Il=V({...wl,setup(e){const t=Ot();function a(){t.editDispensations()}return(n,o)=>(p(),O(g(T),null,{default:i(()=>[s(g(ie),null,{default:i(()=>o[0]||(o[0]=[C("Here is the dispensation summary")])),_:1,__:[0]}),g(t).getDispensedMedications()&&g(t).getDispensedMedications().length>0?(p(),m("div",Sl,[s(Dl,{onClick:a,dataArray:g(t).getDispensedMedications(),withCheckboxs:!1,showInputs:!1,show_actions_buttons:!1},null,8,["dataArray"])])):(p(),m("div",Cl,"Please complete dispensing of prescribed medications first. Then the summary will appear here."))]),_:1}))}}),Pl=M(Il,[["__scopeId","data-v-1b987a8b"]]),Nl=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,List:gt},computed:{...y(Me,["patient"]),...y(_s,["presentingComplaints"])},data(){return{valueNumericArray:[],obsDatetime:[],graphIcon:za(["#006401"]),listIcon:Ua(["#636363"]),displayGraph:!0,orders:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],series:[{name:"",data:[]}]}},setup(){return{checkmark:K,pulseOutline:X}},watch:{$router:{async handler(){await this.updateList()},immediate:!0,deep:!0},patient:{async handler(){await this.updateList()},deep:!0}},async mounted(){await this.updateList()},methods:{async updateList(){const e=await Ee.getAll(this.patient.patientID,"Presenting complaint"),t=Pe.isEmpty(e)?[]:Promise.all(e.map(async a=>a.value_coded?{name:await Ee.getConceptName(a.value_coded),obs_date:a.obs_datetime,duration:a.children[0].value_text}:[]));this.setListData(await t)},setListData(e){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 20px;",containSize:4,display:["Date","Presenting Complains","Duration"]}),e.forEach(t=>{this.list.push({actionBtn:!1,minHeight:"--min-height:20px;",class:"col_background",containSize:4,display:[me.toStandardHisFormat(t.obs_date),t.name,t.duration]})})}}}),kl={class:"modal_wrapper"};function Bl(e,t,a,n,o,r){const l=c("list");return p(),m("div",kl,[v("div",null,[s(l,{listData:e.list},null,8,["listData"])])])}const El=M(Nl,[["render",Bl],["__scopeId","data-v-30434e22"]]),Vl=V({components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,BasicInputField:W,BasicForm:F,PreviousVitals:xa,previousComplaints:El,IonPopover:Ft,DashBox:Ct,SelectionPopover:Dt,List:gt,DynamicButton:Ve},data(){return{iconsContent:w,BMI:{},BPStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,conditionStatus:"",data:[],presentingComplaintsListData:[],popoverOpen:!1,event:"",selectedCondition:"",complaints:[]}},computed:{...y(Me,["patient"]),...y(_s,["presentingComplaints"]),inputFields(){return this.presentingComplaints[0].data.rowData[0].colData},"Other (specify)"(){return Y(this.presentingComplaints,"Other (specify)","value")},selectedComplaintValue(){return this.presentingComplaints[0].data.rowData[0].colData[0].value}},async mounted(){this.updatePresentingComplaintsListStores(),this.setDashedBox(),this.getPresentingDataLIst(),this.validaterowData({}),this.checkComplaints()},watch:{selectedComplaintValue(e,t){e!==t&&this.checkComplaints()},presentingComplaints:{handler(){this.setDashedBox()},deep:!0},$router:{handler(){this.getPresentingDataLIst()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async getPresentingDataLIst(){this.complaints=await gn.getComplaintsList("Presenting complaint"),d(this.presentingComplaints,"PresentingComplaints","multiSelectData",this.complaints)},async onRefresh(){try{this.complaints=await gn.getConceptSetViaDirectAPICall("Presenting complaint"),d(this.presentingComplaints,"PresentingComplaints","multiSelectData",this.complaints),na("Presenting Complaints Selection List has been updated")}catch(e){ta("An error occurred fetching the list of complaints")}},displayInputFields(){this.conditionStatus="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},isNameInArray(e,t){return t.some(a=>a.name===e)},async addNewRow(){if(!(this.inputFields[0].value.name==="Other"&&!this.validateOtherSpecifyField())&&this.validateDuration()){if(!this.inputFields[1].unitsData.value){this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage="Duration Unit is Required";return}this.checkPresentingComplaints()&&(this.presentingComplaints[0].data.rowData[0].colData[0].value=this.inputFields[0].value,this.search_item=!1,this.display_item=!0,this.addItemButton=!0,this.buildpresentingComplaintsList()),this.presentingComplaints[0].data.rowData[0].colData[0].value="",this.presentingComplaints[0].data.rowData[0].colData[1].value="",this.presentingComplaints[0].data.rowData[0].colData[1].unitsData.value="",d(this.presentingComplaints,"Other (specify)","displayNone",!0),d(this.presentingComplaints,"Other (specify)","value","")}},checkPresentingComplaints(){const e=this.inputFields[0].value.name==="Other"?Y(this.presentingComplaints,"Other (specify)","value"):this.inputFields[0].value.name;return this.isNameInData(e,this.presentingComplaints[0].selectedData)?(d(this.presentingComplaints,"PresentingComplaints","alertsErrorMassage","Presenting complaint already added"),!1):(d(this.presentingComplaints,"PresentingComplaints","alertsErrorMassage",""),!0)},buildpresentingComplaintsList(){const e=this.inputFields[1].value+" "+this.inputFields[1].unitsData.value.name,t=this.inputFields[0].value.name==="Other"?Y(this.presentingComplaints,"Other (specify)","value"):this.inputFields[0].value.name;this.presentingComplaints[0].selectedData.push({actionBtn:!0,btn:["edit","delete"],name:t,concept_id:this.inputFields[0].value.concept_id,duration:this.inputFields[1].value,durationUnits:this.inputFields[1].unitsData.value,display:[t,e],data:[{concept_id:8578,value_coded:this.inputFields[0].value.concept_id,obs_datetime:Ke.getSessionDate(),child:[{concept_id:this.inputFields[0].value.concept_id,value_text:e,obs_datetime:Ke.getSessionDate()}]}]})},isNameInData(e,t){return t.some(a=>a.name===e)},updatePresentingComplaintsListStores(){_s().setPresentingComplaints(this.presentingComplaints)},openPopover(e){this.event=e,this.popoverOpen=!0},checkComplaints(){var a;const e=Y(this.presentingComplaints,"PresentingComplaints","value");let t=!0;e&&(this.complaints.some(o=>{var r;return o.name.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())})||e.name==="Other")&&(t=!1),t?(!this.presentingComplaints[0].alerts[0]||this.presentingComplaints[0].alerts[0].name!=="NoMatchAlert")&&(this.presentingComplaints[0].alerts[0]={backgroundColor:"lightyellow",status:"Warning",colSize:"4px",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}):(a=this.presentingComplaints[0].alerts[0])!=null&&a.value&&(this.presentingComplaints[0].alerts[0]={backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:""})},async handleInputData(e){if(e.inputHeader==="Presenting Complaints"?this.checkPresentingComplaints():e.inputHeader==="Duration"&&this.validateDuration(),e.inputHeader==="Presenting Complaints"){const t=Y(this.presentingComplaints,"PresentingComplaints","value");(t==null?void 0:t.name)==="Other"?d(this.presentingComplaints,"Other (specify)","displayNone",!1):(d(this.presentingComplaints,"Other (specify)","displayNone",!0),d(this.presentingComplaints,"Other (specify)","value",""))}},validateDuration(){return this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!1,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage="",this.inputFields[1].unitsData.value?k.isNumber(this.inputFields[1].value)==null&&this.inputFields[1].value!=""?!0:(this.search_item=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=" Value must be a number",!1):(this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage="Duration Units Required",ta("Duration Units Required"),!1)},validationRules(e){return Yi(this.presentingComplaints,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},editpresentingComplaintsList(e){this.deletepresentingComplaintsList(e.item),this.presentingComplaints[0].data.rowData[0].colData[0].value=e.item,this.presentingComplaints[0].data.rowData[0].colData[1].value=e.item.duration,this.presentingComplaints[0].data.rowData[0].colData[1].unitsData.value=e.item.durationUnits,this.addItemButton=!1,this.search_item=!0,this.updatePresentingComplaintsListStores()},deletepresentingComplaintsList(e){this.presentingComplaints[0].selectedData=this.presentingComplaints[0].selectedData.filter(t=>t.display[0]!==e.name),this.updatePresentingComplaintsListStores()},setDashedBox(){var e;this.presentingComplaints[0].selectedData,(e=this.inputFields[0])!=null&&e.value&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.presentingComplaints[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)},async updateList(){},validateOtherSpecifyField(){const e=Y(this.presentingComplaints,"Other (specify)","value");return!e||e.trim()===""?(d(this.presentingComplaints,"Other (specify)","alertsErrorMassage","Please specify the complaint"),!1):(d(this.presentingComplaints,"Other (specify)","alertsErrorMassage",""),!0)}}}),Al={key:0},$l={class:"ion-padding",slot:"content"};function Ml(e,t,a,n,o,r){const l=c("DashBox"),u=c("list"),h=c("basic-form"),f=c("ion-row"),_=c("DynamicButton"),D=c("ion-label"),P=c("ion-item"),N=c("previousComplaints"),G=c("ion-accordion"),q=c("ion-accordion-group");return p(),m(ne,null,[s(l,{status:e.no_item,content:"No presenting complaints added"},null,8,["status"]),e.display_item?(p(),m("span",Al,[s(u,{listData:e.presentingComplaints[0].selectedData,"onClicked:edit":t[0]||(t[0]=ee=>e.editpresentingComplaintsList(ee)),"onClicked:delete":e.deletepresentingComplaintsList},null,8,["listData","onClicked:delete"])])):A("",!0),e.search_item?(p(),O(f,{key:1},{default:i(()=>[s(h,{contentData:e.presentingComplaints,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,"onClicked:button":e.addNewRow,onRefresh:e.onRefresh},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","onClicked:button","onRefresh"])]),_:1})):A("",!0),e.addItemButton?(p(),O(f,{key:2,style:{"margin-top":"10px"}},{default:i(()=>[s(_,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=ee=>e.displayInputFields()),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):A("",!0),s(f,null,{default:i(()=>[s(q,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(G,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[s(P,{slot:"header",color:"light"},{default:i(()=>[s(D,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[C("Previous presenting complaints")])),_:1,__:[2]})]),_:1}),v("div",$l,[s(N)])]),_:1})]),_:1},512)]),_:1})],64)}const $s=M(Vl,[["render",Ml],["__scopeId","data-v-06fe1c73"]]);class fi extends It{constructor(a){super(a,32);$t(this,"patientID");$t(this,"testTypeID");$t(this,"resultDate");$t(this,"testID");this.patientID=a,this.testTypeID=-1,this.resultDate="",this.testID=-1}createLabResult(a){return It.postJson("lab/tests/".concat(this.testID,"/results"),{encounter_id:this.encounterID,date:this.resultDate,measures:a})}getTestID(){return this.testID}getTestTypeID(){return this.testTypeID}setTestTypeID(a){this.testTypeID=a}setResultDate(a){this.resultDate=a}setTestID(a){this.testID=a}getTestsWithoutResults(){return Je.getOrders(this.patientID,{status:"drawn"})}getTestIndicators(){return Je.getJson("lab/test_result_indicators",{test_type_id:this.testTypeID})}static getTestIndicatorsWithID(a){return Je.getJson("lab/test_result_indicators",{test_type_id:a})}}const Tl=V({components:{IonButtons:Ps,IonButton:mt,IonModal:Fa,IonHeader:x,IonContent:H,IonToolbar:R,IonTitle:L,IonItem:E,IonList:T,IonAvatar:Ei,IonImg:Bi,IonLabel:ie,IonPage:jn,IonMenu:z,BasicForm:F,IonFooter:ki,DynamicButton:Ve},data(){return{popoverStatus:null}},props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{default:[]},popoverOpen:{type:Boolean,default:!1},event:{type:Event,default:""},title:{type:String,default:""}},methods:{dismiss(){Ha.dismiss()},nav(e,t){this.dismiss(),this.$router.push(e)}}}),Ol={class:"modal_wrapper"},Fl={class:"center text_12"};function Hl(e,t,a,n,o,r){const l=c("ion-title"),u=c("ion-button"),h=c("ion-buttons"),f=c("ion-toolbar"),_=c("ion-header"),D=c("ion-col"),P=c("ion-row"),N=c("ion-content"),G=c("ion-modal");return p(),O(G,{"is-open":e.popoverOpen,"show-backdrop":!0,onDidDismiss:t[1]||(t[1]=q=>e.$emit("closePopoover",!1)),"keyboard-close":e.keyboardClose},{default:i(()=>[s(_,null,{default:i(()=>[s(f,null,{default:i(()=>[s(l,null,{default:i(()=>[v("b",null,"Lab results for ("+$(e.content.item.name)+") test",1)]),_:1}),s(h,{slot:"end"},{default:i(()=>[s(u,{onClick:t[0]||(t[0]=q=>e.$emit("closeModal"))},{default:i(()=>t[2]||(t[2]=[C("Close")])),_:1,__:[2]})]),_:1})]),_:1})]),_:1}),s(N,{class:"ion-padding"},{default:i(()=>[v("div",Ol,[v("div",Fl,[s(P,null,{default:i(()=>[(p(!0),m(ne,null,fe(e.content.item.item.result,(q,ee)=>(p(),O(D,{size:"4",key:ee},{default:i(()=>[s(P,null,{default:i(()=>[s(D,{size:"8"},{default:i(()=>[C($(q.indicator.name),1)]),_:2},1024),s(D,{class:"bold",size:"0.5"},{default:i(()=>t[3]||(t[3]=[C(":")])),_:1,__:[3]}),s(D,{class:"bold",size:"2"},{default:i(()=>[C($(q.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])])]),_:1})]),_:1},8,["is-open","keyboard-close"])}const Rl=M(Tl,[["render",Hl],["__scopeId","data-v-91fdd7d6"]]),Ll=V({name:"Menu",components:{CheckInConfirmationModal:ti,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,DynamicButton:Ve,DashBox:Ct,LabModal:di,LabViewResultsModal:ko,SendToLabConfirmationModal:ri,DataTable:Fs},computed:{...y(Me,["patient"]),...y(Ta,["labResults"]),...y(nt,["investigations"]),...y(ma,["patientsWaitingForVitals","patientsWaitingForConsultation","patientsWaitingForLab","patientsWaitingForDispensation"]),hasEnterResults(){return this.listOrders.some(e=>e.btn&&e.btn.includes("enter_results"))}},props:{propOrders:{default:[]}},data(){return{tableData:[],options:{responsive:!0,select:!1,layout:{topStart:"",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},ordering:!1,order:[[3,"desc"]]},header:["Lab Test","Specimen","Accession Number","Order Date","Result"],iconsContent:w,valueNumericArray:[],obsDatetime:[],graphIcon:za(["#006401"]),listIcon:Ua(["#636363"]),displayGraph:!0,sendToLabModalOpen:!1,orders:[],userRoles:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],listOrders:[],listResults:[],hasPatientsWaitingForLab:!1,labResultsContent:"",listHeaderOrders:"",service:"",openModal:!1,openResultsModal:!1,series:[{name:"",data:[]}]}},setup(){return{checkmark:K,pulseOutline:X}},async mounted(){await this.updateInvestigationWizard(),await this.setListData(),this.$nextTick(()=>{const e=this.$refs.dataTable.dt;e.columns.adjust().draw(),e.on("click",".result-btn",t=>{const a=t.target.getAttribute("data-id");this.openResultsForm(JSON.parse(a))}),e.on("click",".view-btn",t=>{const a=t.target.getAttribute("data-id");this.viewLabOrder(JSON.parse(a))}),e.on("click",".delete-btn",t=>{const a=t.target.getAttribute("data-id");this.voidLabOrder(JSON.parse(a),t)}),e.on("click",".order-btn",t=>{const a=t.target.getAttribute("data-id");this.saveTest(JSON.parse(a))})}),this.orders=this.propOrders,this.service=new hi(this.patient.patientID),this.userRoles=await Ke.getUserRoles()},watch:{$route:{async handler(){await this.setListData()},deep:!0},patient:{async handler(e){e&&e.patientID&&await this.setListData()},immediate:!0},tableData:{handler(e){if(this.$refs.dataTable){const t=this.$refs.dataTable.dt;t.clear(),t.rows.add(e),t.draw()}},deep:!0}},methods:{async closeModal(){this.openModal=!1,await this.setListData()},async saveTest(e){await new As().postActivities(this.patient.patientID,[{concept_id:await Ge.getConceptID(e.name,!0),name:e.name,specimen:e.specimen,reason:"Routine",specimenConcept:await Ge.getConceptID(e.specimen,!0)}]),na("Successfully saved"),this.orders=await Je.getOrders(this.patient.patientID),this.tableData=this.generateListItems(this.orders,"order"),this.tableData.sort((n,o)=>{const r=new Date(n[3]);return new Date(o[3]).getTime()-r.getTime()});const a=this.$refs.dataTable.dt;a.clear(),a.rows.add(this.tableData),a.draw()},async openEnterResultModal(){await vt(Bo,{class:"lab-results-modal"},!0,{title:"name"}),await this.setListData()},toggleSendToLabModal(){this.sendToLabModalOpen=!this.sendToLabModalOpen},async fetchPatientLabStageData(){const e=await vs(),t=e?e.code:null;if(t){const a=await gs.getPatientList("LAB",t);await ma().refresh(t),this.patient.patientID&&(this.hasPatientsWaitingForLab=a.some(n=>n.patient_id===this.patient.patientID))}},async updateInvestigationWizard(){this.orders=await Je.getOrders(this.patient.patientID);const e=await this.orders.filter(t=>me.toStandardHisFormat(me.sessionDate())===me.toStandardHisFormat(t.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},dismiss(){Ha.dismiss()},async voidLabOrder(e,t){await sa("Do you want to delete ".concat(e.tests[0].name," ?"),t)&&await this.service.voidOrder(e.id,"Mistake entry"),await this.setListData()},async openResultsForm(e){const t=await fi.getTestIndicatorsWithID(e.concept_id);console.log({testIndicators:t});const a=[e,{validationStatus:"",data:{rowData:[{colData:[]}]}}];t.forEach(o=>{let r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:""};if(o.name=="RBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateRBS",unit:"mg/dL"}),o.name=="FBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateFBS",unit:"mg/dL"}),o.name=="MRDT"||o.name=="Tuberculosis program"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="Lam"||o.name=="CrAg"||o.name=="CD4 count"||o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Urine Ketones"||o.name=="HIV test"){let l=[];(o.name=="MRDT"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="CrAg"||o.name=="Lam")&&(l=[{id:"1",name:"Positive"},{id:"2",name:"Negative"},{id:"3",name:"Invalid"}]),o.name=="Tuberculosis program"&&(l=[{id:"1",name:"Scanty"},{id:"2",name:"Negative"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"}]),o.name=="CD4 count"&&(l=[{id:"1",name:"below reference line"},{id:"2",name:"above reference line"}]),(o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Ketones"||o.name=="Urine Ketones")&&(l=[{id:"2",name:"Negative"},{id:"1",name:"Trace"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"},{id:"6",name:"4+"}]),o.name=="HIV test"&&(l=[{id:"2",name:"Positive"},{id:"1",name:"Negative"},{id:"3",name:"Invalid"}]),r={inputHeader:o.name,icon:w.search,value:"",name:"units",eventType:"input",alertsErrorMassage:"",isSingleSelect:!0,trackBy:"id",multiSelectData:l,id:o.concept_id,idName:"district_id"}}a[1].data.rowData[0].colData.push(r)}),Ta().setLabResults(a),this.openModal=!0,this.orders=await Je.getOrders(this.patient.patientID),console.log("🚀 ~ openResultsForm ~ this.orders:",this.orders)},async viewLabOrder(e){this.labResultsContent=e,this.openResultsModal=!0},async setListData(){this.orders=await Je.getOrders(this.patient.patientID);let e=this.generateListItems(this.orders,"order");e.sort((r,l)=>{const u=new Date(r[3]);return new Date(l[3]).getTime()-u.getTime()});const t=[],a=t.filter(r=>!e.some(l=>l[0]===r[0])),n=e.filter(r=>t.some(l=>l[0]===r[0])),o=e.filter(r=>!n.some(l=>l[0]===r[0]));this.tableData=[...n,...a,...o],await this.updateInvestigationWizard(),Fs.use(Vi)},generateListItems(e,t){return e.length>0?e.flatMap(a=>a.tests.flatMap(n=>{var l,u,h,f;const o='<button class="btn btn-outline-secondary btn-sm view-btn" data-id=\''.concat(JSON.stringify(n),"'>").concat(this.iconsContent.view2,"</button> ");let r="";return((l=n==null?void 0:n.result)==null?void 0:l.length)==1?r=(n==null?void 0:n.result)!=null?((u=n==null?void 0:n.result[0])==null?void 0:u.value_modifier)+((h=n==null?void 0:n.result[0])==null?void 0:h.value):null:((f=n==null?void 0:n.result)==null?void 0:f.length)>1&&(n==null||n.result,r=o),[[n.name,a.specimen.name,a.accession_number,me.toStandardHisFormat(a.order_date),r]]})):[]}}}),xl={class:"container"},Ul={class:"table-responsive"};function zl(e,t,a,n,o,r){const l=c("DataTable"),u=c("LabViewResultsModal"),h=c("LabModal");return p(),m("div",xl,[v("div",Ul,[s(l,{ref:"dataTable",options:e.options,data:e.tableData,class:"display nowrap",width:"100%"},{default:i(()=>[v("thead",null,[v("tr",null,[(p(!0),m(ne,null,fe(e.header,f=>(p(),m("th",{key:f,"data-orderable":!0},$(f),1))),128))])])]),_:1},8,["options","data"])]),s(u,{popoverOpen:e.openResultsModal,content:e.labResultsContent,onCloseModal:t[0]||(t[0]=f=>e.openResultsModal=!1)},null,8,["popoverOpen","content"]),s(h,{popoverOpen:e.openModal,onSaved:e.closeModal,onCloseModal:t[1]||(t[1]=f=>e.openModal=!1)},null,8,["popoverOpen","onSaved"])])}const ql=M(Ll,[["render",zl],["__scopeId","data-v-7c4e1547"]]),Wl=V({name:"Menu",components:{LabTestsHistory:ql,CheckInConfirmationModal:ti,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,List:gt,DynamicButton:Ve,DashBox:Ct,LabModal:di,LabViewResultsModal:Rl,SendToLabConfirmationModal:ri},computed:{...y(Me,["patient"]),...y(Ta,["labResults"]),...y(ai,["activeProgram"]),...y(nt,["investigations"]),...y(ma,["patientsWaitingForVitals","patientsWaitingForConsultation","patientsWaitingForLab","patientsWaitingForDispensation"]),hasEnterResults(){return this.listOrders.some(e=>e.btn&&e.btn.includes("enter_results"))},hasPatientsWaitingForLab(){return Array.isArray(this.patientsWaitingForLab)&&this.patientsWaitingForLab.length>0}},props:{propOrders:{default:[]}},data(){return{iconsContent:w,valueNumericArray:[],obsDatetime:[],graphIcon:za(["#006401"]),listIcon:Ua(["#636363"]),displayGraph:!0,sendToLabModalOpen:!1,orders:[],userRoles:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],listOrders:[],listResults:[],hasPatientsWaitingForLab:!1,listSeeMoreOrders:[],listSeeLessOrders:[],listSeeMoreResults:[],listSeeLessResults:[],listHeaderResults:"",labResultsContent:"",listHeaderOrders:"",service:"",openModal:!1,openResultsModal:!1,series:[{name:"",data:[]}]}},setup(){return{checkmark:K,pulseOutline:X}},async mounted(){this.orders=this.propOrders,this.setListData(this.orders),this.service=new hi(this.patient.patientID),this.userRoles=await Ke.getUserRoles()},watch:{patientsWaitingForLab(e){this.hasPatientsWaitingForLab=e.some(t=>t.patient_id===this.patient.patientID)},propOrders:{handler(){this.orders=this.propOrders,this.setListData(this.orders)},deep:!0},$route:{immediate:!0,handler(){this.updateLabList(),this.fetchPatientLabStageData()}}},methods:{toggleSendToLabModal(){this.sendToLabModalOpen=!this.sendToLabModalOpen},async fetchPatientLabStageData(){const e=await vs(),t=e?e.code:null;if(t){const a=await gs.getPatientList("LAB",t);await ma().refresh(t),this.patient.patientID&&(this.patientsWaitingForLab=a.some(n=>n.patient_id===this.patient.patientID))}},async handleSendToLabYes(){const e=await vs(),t=e?e.code:null;if(!t){ta("Location ID could not be found. Please check your settings.");return}await gs.addPatientToStage(this.patient.patientID,me.todayDateFormatted(),"LAB",t),await ma().refresh(t),na("Lab orders submitted to the lab successfully. Consultation paused"),await this.fetchPatientLabStageData(),this.closeSendToLabModal()},async handleSendToLabNo(){this.toggleSendToLabModal()},closeSendToLabModal(){this.sendToLabModalOpen=!1},async updateLabList(){this.openModal=!1,this.orders=await Je.getOrders(this.patient.patientID),this.setListData(this.orders),this.updateInvestigationWizard()},async updateInvestigationWizard(){this.orders=await Je.getOrders(this.patient.patientID);const e=await this.orders.filter(t=>me.toStandardHisFormat(me.sessionDate())===me.toStandardHisFormat(t.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},dismiss(){Ha.dismiss()},async voidLabOrder(e){await this.service.voidOrder(e.id,"Mistake entry"),this.updateLabList()},handleIcon(){},async openResultsForm(e){console.log(e.item.concept_id);const t=await fi.getTestIndicatorsWithID(e.item.concept_id);console.log({testIndicators:t});const a=[e.item,{validationStatus:"",data:{rowData:[{colData:[]}]}}];t.forEach(o=>{let r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:""};if(o.name=="RBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateRBS",unit:"mg/dL"}),o.name=="FBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateFBS",unit:"mg/dL"}),o.name=="MRDT"||o.name=="Tuberculosis program"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="Lam"||o.name=="CrAg"||o.name=="CD4 count"||o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Urine Ketones"||o.name=="HIV test"){let l=[];(o.name=="MRDT"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="CrAg"||o.name=="Lam")&&(l=[{id:"1",name:"Positive"},{id:"2",name:"Negative"},{id:"3",name:"Invalid"}]),o.name=="Tuberculosis program"&&(l=[{id:"1",name:"Scanty"},{id:"2",name:"Negative"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"}]),o.name=="CD4 count"&&(l=[{id:"1",name:"below reference line"},{id:"2",name:"above reference line"}]),(o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Ketones"||o.name=="Urine Ketones")&&(l=[{id:"2",name:"Negative"},{id:"1",name:"Trace"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"},{id:"6",name:"4+"}]),o.name=="HIV test"&&(l=[{id:"2",name:"Positive"},{id:"1",name:"Negative"},{id:"3",name:"Invalid"}]),r={inputHeader:o.name,icon:w.search,value:"",name:"units",eventType:"input",alertsErrorMassage:"",isSingleSelect:!0,trackBy:"id",multiSelectData:l,id:o.concept_id,idName:"district_id"}}a[1].data.rowData[0].colData.push(r)}),Ta().setLabResults(a),this.openModal=!0,this.orders=await Je.getOrders(this.patient.patientID)},async viewLabOrder(e){console.log("🚀 ~ openResultsForm ~ labResults:",e),this.labResultsContent=e,this.openResultsModal=!0},setActivClass(e){this.activeHeight="",this.activeBMI="",this.activeWeight="",e=="height"?this.activeHeight="_active":e=="weight"?this.activeWeight="_active":e=="BMI"&&(this.activeBMI="_active")},setListData(e){const t={containSize:2.1,btnSize:1};this.listHeaderResults=this.generateListHeader(["Date","Accession Number","Lab Test","Specimen","Result"],t),this.listHeaderOrders=this.generateListHeader(["Date","Accession Number","Lab Test","Specimen"]),this.listSeeMoreResults=this.generateListItems(e,"result",!0,t),this.listSeeLessResults=this.generateListItems(e,"result",!1,t),this.listSeeMoreOrders=this.generateListItems(e,"order",!0),this.listSeeLessOrders=this.generateListItems(e,"order",!1),this.listResults=[this.listHeaderResults,...this.listSeeLessResults],this.listOrders=[this.listHeaderOrders,...this.listSeeLessOrders]},generateListHeader(e,t={}){return{containSize:t==null?void 0:t.containSize,btnSize:t==null?void 0:t.btnSize,class:"",header:!0,minHeight:"--min-height: 25px;",display:e}},generateListItems(e,t,a,n={}){let o=0;return e.length>0?e.flatMap(r=>r.tests.flatMap(l=>{var h,f,_,D;let u=null;if(((h=l==null?void 0:l.result)==null?void 0:h.length)==1?u=(l==null?void 0:l.result)!=null?((f=l==null?void 0:l.result[0])==null?void 0:f.value_modifier)+((_=l==null?void 0:l.result[0])==null?void 0:_.value):null:((D=l==null?void 0:l.result)==null?void 0:D.length)>1&&(u=l==null?void 0:l.result),u==""&&console.log("🚀 ~ returnitem.tests.flatMap ~ result:",l),t==="result"&&u!==null||t==="order"&&u===null){const P={containSize:n==null?void 0:n.containSize,btnSize:n==null?void 0:n.btnSize,btn:t==="order"?["enter_results","attach","print","delete"]:["print","delete"],minHeight:"--min-height: 25px;",class:"",id:r.order_id,name:l.name,item:l,display:t=="order"?[me.toStandardHisFormat(r.order_date),r.accession_number,l.name,r.specimen.name]:[me.toStandardHisFormat(r.order_date),r.accession_number,l.name,r.specimen.name,u]};if(a||o<2)return o++,[P]}return[]})):[]},seeOrderStatus(e){e=="more"?this.listResults=[this.listHeaderResults,...this.listSeeMoreResults]:e=="less"&&(this.listResults=[this.listHeaderResults,...this.listSeeLessResults])},seeResultsStatus(e){e=="more"?this.listOrders=[this.listHeaderOrders,...this.listSeeMoreOrders]:e=="less"&&(this.listOrders=[this.listHeaderOrders,...this.listSeeLessOrders])}}}),Gl={key:1,class:"modal_wrapper"},jl={style:{"--background":"#fff"}},Yl={key:0,style:{"margin-top":"5px"}},Jl={key:1,style:{"margin-top":"5px"}},Kl={key:2,class:"modal_wrapper"},Ql={class:"scrollable-container"},Xl={key:0,style:{"margin-top":"5px"}},Zl={key:1,style:{"margin-top":"5px"}},er={key:3},tr={key:0},ar={key:1};function sr(e,t,a,n,o,r){const l=c("SendToLabConfirmationModal"),u=c("DashBox"),h=c("LabTestsHistory"),f=c("DynamicButton"),_=c("list"),D=c("LabModal"),P=c("LabViewResultsModal");return p(),m(ne,null,[s(l,{closeModalFunc:e.closeSendToLabModal,onYes:e.handleSendToLabYes,onNo:e.handleSendToLabNo,isOpen:e.sendToLabModalOpen,title:"Do you really want to send patient to lab?"},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.listResults.length<1&&e.listOrders.length<1?(p(),O(u,{key:0,content:"No Investigations added "})):A("",!0),e.listResults.length>1?(p(),m("div",Gl,[t[7]||(t[7]=v("div",{style:{"font-weight":"1000"}},"Lab Investigations history",-1)),v("div",jl,[s(h)]),e.listResults.length<=4&&e.listSeeMoreResults.length>=4?(p(),m("div",Yl,[s(f,{onClick:t[0]||(t[0]=N=>e.seeOrderStatus("more")),name:"Show More Lab Results",fill:"clear",iconSlot:"icon-only"})])):e.listResults.length>=5?(p(),m("div",Jl,[s(f,{onClick:t[1]||(t[1]=N=>e.seeOrderStatus("less")),name:"Show Less Lab Results",fill:"clear",iconSlot:"icon-only"})])):A("",!0)])):A("",!0),e.listOrders.length>1?(p(),m("div",Kl,[t[8]||(t[8]=v("div",{style:{"font-weight":"700"}},"Lab Orders",-1)),v("div",Ql,[s(_,{listData:e.listOrders.map(N=>({...N,disabledEnterResults:e.hasPatientsWaitingForLab&&e.activeProgram.program_id===14&&(e.userRoles==="Clinician"||e.userRoles==="Superuser")})),"onClicked:delete":e.voidLabOrder,"onClicked:results":e.openResultsForm},null,8,["listData","onClicked:delete","onClicked:results"])]),e.listOrders.length<=4&&e.listSeeMoreOrders.length>=4?(p(),m("div",Xl,[s(f,{onClick:t[2]||(t[2]=N=>e.seeResultsStatus("more")),name:"Show More Lab Orders",fill:"clear",iconSlot:"icon-only"})])):A("",!0),e.listOrders.length>=5?(p(),m("div",Zl,[s(f,{onClick:t[3]||(t[3]=N=>e.seeResultsStatus("less")),name:"Show Less Lab Orders",fill:"clear",iconSlot:"icon-only"})])):A("",!0)])):A("",!0),e.activeProgram.program_id==14&&e.hasEnterResults&&(e.userRoles==="Clinician"||e.userRoles==="Superuser")?(p(),m("div",er,[e.hasPatientsWaitingForLab?(p(),m("div",tr,[s(f,{class:"no-margin-left",fill:"clear",icon:"notification_icon",iconSlot:"icon-only",name:"Waiting for results from the lab. Consultation paused!"})])):(p(),m("div",ar,[s(f,{fill:"solid",icon:e.iconsContent.plus,iconSlot:"icon-only",onClick:t[4]||(t[4]=N=>e.toggleSendToLabModal()),name:"Send to Lab"},null,8,["icon"])]))])):A("",!0),s(D,{popoverOpen:e.openModal,onSaved:e.updateLabList,onCloseModal:t[5]||(t[5]=N=>e.openModal=!1)},null,8,["popoverOpen","onSaved"]),s(P,{popoverOpen:e.openResultsModal,content:e.labResultsContent,onCloseModal:t[6]||(t[6]=N=>e.openResultsModal=!1)},null,8,["popoverOpen","content"])],64)}const fa=M(Wl,[["render",sr],["__scopeId","data-v-9531f0d9"]]),nr=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,BasicForm:F},setup(){var l;const{adult:e,minor:t}=Ji(),{patient:a}=Me();console.log(e),console.log(t);const n=I(""),o=I(me.getAgeInYears((l=a==null?void 0:a.personInformation)==null?void 0:l.birthdate)),r=u=>{n.value=u};return pt(e,u=>{var G,q,ee;const h=S(u,Qt.EYE_OPENING_RESPONSE),f=S(u,Qt.BEST_MOTOR_RESPONSE),_=S(u,Qt.BEST_VERBAL_RESPONSE),D=(G=Xi[h])!=null?G:0,P=(q=Ki[f])!=null?q:0,N=(ee=Qi[_])!=null?ee:0;n.value="(M ".concat(P," V ").concat(N," E ").concat(D,") ").concat(D+P+N,"/15")}),pt(t,u=>{var G,q,ee;const h=S(u,Qt.EYE_OPENING_RESPONSE),f=S(u,Qt.BEST_MOTOR_RESPONSE),_=S(u,Qt.BEST_VERBAL_RESPONSE),D=(G=to[h])!=null?G:0,P=(q=Zi[f])!=null?q:0,N=(ee=eo[_])!=null?ee:0;n.value="(M ".concat(P," V ").concat(N," E ").concat(D,") ").concat(D+P+N,"/5")}),{gcs:n,setGcs:r,minor:t,adult:e,patientAge:o}},data(){return{}},methods:{}}),ir={class:"modal_wrapper"};function or(e,t,a,n,o,r){const l=c("basic-form");return p(),m("div",ir,[e.patientAge<18?(p(),O(l,{key:0,contentData:e.minor},null,8,["contentData"])):A("",!0),e.patientAge>=18?(p(),O(l,{key:1,contentData:e.adult},null,8,["contentData"])):A("",!0),v("h5",null,$(e.gcs),1)])}const _i=M(nr,[["render",or]]),lr=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,BasicForm:F},data(){return{initialData:[]}},computed:{...y(xs,["pastMedicalHistory"])},mounted(){const e=xs();this.initialData=e.getInitial(),this.handleChronicConditions()},watch:{pastMedicalHistory:{handler(){this.handleChronicConditions()},deep:!0}},methods:{handleChronicConditions(){var t;const e=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];(t=Z(this.pastMedicalHistory,"None"))!=null&&t.checked?e.forEach(a=>{b(this.pastMedicalHistory,"TB treatment","displayNone",!0),d(this.pastMedicalHistory,"TB drugs","displayNone",!0),d(this.pastMedicalHistory,"TB drug start date","displayNone",!0),b(this.pastMedicalHistory,"Hypertension medication","displayNone",!0),d(this.pastMedicalHistory,"Current hypertension treatment regimen","displayNone",!0),b(this.pastMedicalHistory,"HIV status","displayNone",!0),d(this.pastMedicalHistory,"ARV start date","displayNone",!0),b(this.pastMedicalHistory,"Diabetes","displayNone",!0),b(this.pastMedicalHistory,"Controlled by","displayNone",!0),B(this.pastMedicalHistory,a,"checked",!1),B(this.pastMedicalHistory,a,"disabled",!0)}):e.forEach(a=>{B(this.pastMedicalHistory,a,"disabled",!1)})},handleInputData(e){d(this.pastMedicalHistory,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine ‘O’ (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),d(this.pastMedicalHistory,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})}}}),rr={class:"modal_wrapper"},dr={class:"uniform_columns"};function cr(e,t,a,n,o,r){const l=c("basic-form");return p(),m("div",rr,[v("div",dr,[s(l,{contentData:e.pastMedicalHistory,initialData:e.initialData,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue","onUpdate:selected"])])])}const ur=M(lr,[["render",cr],["__scopeId","data-v-2b756eeb"]]),hr=V({name:"immidiatePostnatalChecksForChild",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{initialData:[],iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...y(Us,["physicalExam"]),...y(Me,["patient"])},mounted(){const e=Us();this.initialData=e.getInitial(),this.handlePhysicalExam(),this.handleGenitalExam()},watch:{physicalExam:{handler(){this.handlePhysicalExam(),this.handleGenitalExam()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handlePhysicalExam(){S(this.physicalExam,"Physical examination")=="No"?b(this.physicalExam,"Reason why physical examination not done","displayNone",!1):(b(this.physicalExam,"Reason why physical examination not done","displayNone",!0),b(this.physicalExam,"Reason why physical examination not done","selectedValue",""))},handleGenitalExam(){var t,a;const e=(a=(t=this.patient)==null?void 0:t.personInformation)==null?void 0:a.gender;e=="M"&&(B(this.physicalExam,"Vulva examination","disabled",!0),B(this.physicalExam,"Visible bleeding","disabled",!0)),e=="F"&&(B(this.physicalExam,"Urethral meatus abnormal","disabled",!0),B(this.physicalExam,"Scrotal swelling","disabled",!0),B(this.physicalExam,"Tastes swelling","disabled",!0))}}}),pr={class:"container"};function mr(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",pr,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.physicalExam,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const vi=M(hr,[["render",mr],["__scopeId","data-v-c1d7fdd5"]]),fr=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,BasicForm:F},data(){return{}},computed:{...y(ao,["pregnancy"])},methods:{handleInputData(){}}}),_r={class:"modal_wrapper"};function vr(e,t,a,n,o,r){const l=c("basic-form");return p(),m("div",_r,[s(l,{contentData:e.pregnancy,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])}const gi=M(fr,[["render",vr]]),gr=V({name:"Menu",components:{IonButton:mt,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,UpcomingFeature:Nt,DynamicButton:Ve},setup(){const e=La();return{selectedAllergiesList2:Ze(()=>e.selectedMedicalAllergiesList)}},data(){return{iconsContent:w,visits:[],BMI:"",nextAppointMent:"",drugs:"",allergies:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],selectedAllergiesList2:[],pastMedicalHistory:[],levelOfConsciousness:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:[],physicalExams:[],eyesAbnormal:[],mouthAbnormal:[],earsAbnormal:[],faceAbnormal:[],neckAbnormal:[],chestAbnormal:[],chestMovement:[],heartSoundsAbnormal:[],breathSoundsAbnormal:[],addedBreathSoundsAbnormal:[],abdominalInspectionAbnormal:[]}},watch:{patient:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()},computed:{...y(Me,["patient"]),todayVisit(){const e=me.toStandardHisFormat(new Date);return this.visits.find(t=>t===e)||null},uniquePastMedicalHistory(){return[...new Map(this.pastMedicalHistory.map(e=>[e,e])).values()]},uniquePresentingComplaints(){return[...new Map(this.presentingComplaint.map(e=>[e,e])).values()]},uniqueEyesAbnormal(){return[...new Map(this.eyesAbnormal.map(e=>[e,e])).values()]},uniqueMouthAbnormal(){return[...new Map(this.mouthAbnormal.map(e=>[e,e])).values()]},uniqueEarsAbnormal(){return[...new Map(this.earsAbnormal.map(e=>[e,e])).values()]},uniqueFaceAbnormal(){return[...new Map(this.faceAbnormal.map(e=>[e,e])).values()]},uniqueNeckAbnormal(){return[...new Map(this.neckAbnormal.map(e=>[e,e])).values()]},uniqueChestAbnormal(){return[...new Map(this.chestAbnormal.map(e=>[e,e])).values()]},uniqueChestMovement(){return[...new Map(this.chestMovement.map(e=>[e,e])).values()]},uniqueHeartSoundsAbnormal(){return[...new Map(this.heartSoundsAbnormal.map(e=>[e,e])).values()]},uniqueBreathSoundsAbnormal(){return[...new Map(this.breathSoundsAbnormal.map(e=>[e,e])).values()]},uniqueAddedBreathSoundsAbnormal(){return[...new Map(this.addedBreathSoundsAbnormal.map(e=>[e,e])).values()]},uniqueAbdominalInspectionAbnormal(){return[...new Map(this.abdominalInspectionAbnormal.map(e=>[e,e])).values()]}},methods:{async updateData(){const e=new De;this.visits=await De.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return me.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await St.getEncounters(this.patient.patientID,{date:e});await this.setDiagnosisEncounters(t),await this.setVitalsEncounters(t),await this.setPresentingComplainsEncounters(t),await this.setLevelOfConsciousnessEncounters(t),await this.setPregnancyStatusEncounters(t),await this.setTreatmentEncounters(t),await this.setPastMedicalHistoryEncounters(t),await this.setAllergiesEncounters(t),await this.setPhysicalExamEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setDiagnosisEncounters(e){var a;const t=(a=this.findEncounter(e,"OUTPATIENT DIAGNOSIS"))==null?void 0:a.observations;this.primaryDiagnosis=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded"),this.secondaryDiagnosis=await this.getConceptValues(this.filterObs(t,"Secondary diagnosis"),"coded")},async setVitalsEncounters(e){var a,n,o,r,l,u,h,f,_,D,P,N,G,q,ee,Q,U,ue,Oe,Ce,He,Ae,re,ye,We;const t=(a=this.findEncounter(e,"VITALS"))==null?void 0:a.observations;this.vitals.weight=(r=(o=(n=this.filterObs(t,"Weight"))==null?void 0:n[0])==null?void 0:o.value_numeric)!=null?r:"",this.vitals.temperature=(h=(u=(l=this.filterObs(t,"Temperature"))==null?void 0:l[0])==null?void 0:u.value_numeric)!=null?h:"",this.vitals.pulse=(D=(_=(f=this.filterObs(t,"Pulse"))==null?void 0:f[0])==null?void 0:_.value_numeric)!=null?D:"",this.vitals.SAO2=(G=(N=(P=this.filterObs(t,"SAO2"))==null?void 0:P[0])==null?void 0:N.value_numeric)!=null?G:"",this.vitals.height=(Q=(ee=(q=this.filterObs(t,"Height (cm)"))==null?void 0:q[0])==null?void 0:ee.value_numeric)!=null?Q:"",this.vitals.systolic=(Oe=(ue=(U=this.filterObs(t,"Systolic"))==null?void 0:U[0])==null?void 0:ue.value_numeric)!=null?Oe:"",this.vitals.respirationRate=(Ae=(He=(Ce=this.filterObs(t,"Respiration rate"))==null?void 0:Ce[0])==null?void 0:He.value_numeric)!=null?Ae:"",this.vitals.diastolic=(We=(ye=(re=this.filterObs(t,"Diastolic"))==null?void 0:re[0])==null?void 0:ye.value_numeric)!=null?We:"",this.vitals.weight&&this.vitals.height&&await this.setBMI(this.vitals.weight,this.vitals.height)},async setTreatmentEncounters(e){},async setPresentingComplainsEncounters(e){var a;const t=(a=this.findEncounter(e,"PRESENTING COMPLAINTS"))==null?void 0:a.observations;this.presentingComplaint=await this.getConceptValues(this.filterObs(t,"Presenting complaint"),"coded")},async setLevelOfConsciousnessEncounters(e){var a;const t=(a=this.findEncounter(e,"ASSESSMENT"))==null?void 0:a.observations;if(t&&Array.isArray(t)){const n=this.filterObs(t,"Eye opening response");this.levelOfConsciousness.eyeResponse=n.length>0?await Ge.getConceptName(n[0].value_coded):"";const o=this.filterObs(t,"Best verbal response");this.levelOfConsciousness.verbalResponse=o.length>0?await Ge.getConceptName(o[0].value_coded):"";const r=this.filterObs(t,"Best motor response");this.levelOfConsciousness.motorResponse=r.length>0?await Ge.getConceptName(r[0].value_coded):""}},async setPregnancyStatusEncounters(e){var a;const t=(a=this.findEncounter(e,"PREGNANCY STATUS"))==null?void 0:a.observations;if(t&&Array.isArray(t)){const n=this.filterObs(t,"Patient pregnant");this.pregnancy.patientPregnant=n.length>0?await Ge.getConceptName(n[0].value_coded):"";const o=this.filterObs(t,"Is patient breast feeding?");this.pregnancy.breastFeeding=o.length>0?await Ge.getConceptName(o[0].value_coded):""}},async setPhysicalExamEncounters(e){var a;const t=(a=this.findEncounter(e,"EXAMINATION"))==null?void 0:a.observations;this.eyesAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for eyes"),"coded"),this.mouthAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for  mouth"),"coded"),this.earsAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for ears"),"coded"),this.faceAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for face"),"coded"),this.neckAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for neck"),"coded"),this.chestAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for  chest inspection"),"coded"),this.chestMovement=await this.getConceptValues(this.filterObs(t,"Chest movements"),"coded"),this.heartSoundsAbnormal=await this.getConceptValues(this.filterObs(t,"Heart sounds abnormality"),"coded"),this.breathSoundsAbnormal=await this.getConceptValues(this.filterObs(t,"Breath sounds abnormality"),"coded"),this.addedBreathSoundsAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormalities when added"),"coded"),this.abdominalInspectionAbnormal=await this.getConceptValues(this.filterObs(t,"Abdominal inspection abnormality"),"coded")},async setPastMedicalHistoryEncounters(e){var a;const t=(a=this.findEncounter(e,"MEDICAL HISTORY"))==null?void 0:a.observations;this.pastMedicalHistory=await this.getConceptValues(this.filterObs(t,"Chronic disease"),"coded")},async setAllergiesEncounters(e){var a;const t=(a=this.findEncounter(e,"MEDICAL HISTORY"))==null?void 0:a.observations;this.allergies=await this.getConceptValues(this.filterObs(t,"Chronic disease"),"coded")},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(n=>n.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){vt(kt)},async setBMI(e,t){var a,n,o,r,l,u,h,f;(n=(a=this.patient)==null?void 0:a.personInformation)!=null&&n.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&(this.BMI=await bt.getBMI(parseInt(e),parseInt(t),(u=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:u.gender,me.calculateAge((f=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:f.birthdate,me.sessionDate()))),this.updateBMI()},async updateBMI(){var t,a,n,o,r,l;const e=(a=(t=this.BMI)==null?void 0:t.color)!=null?a:[];this.vitalsWeightHeight.icon=bt.iconBMI(e),this.vitalsWeightHeight.backgroundColor=e[0],this.vitalsWeightHeight.textColor=e[1],this.vitalsWeightHeight.index="BMI "+((o=(n=this.BMI)==null?void 0:n.index)!=null?o:""),this.vitalsWeightHeight.value=(l=(r=this.BMI)==null?void 0:r.result)!=null?l:""}}}),yr={class:"visitContent"},br={class:"visitData"},Dr={key:0},Sr={key:0,class:"levelOfConsciousnessContent"},Cr={style:{"font-weight":"normal !important"}},wr={key:1,class:"levelOfConsciousnessContent"},Ir={style:{"font-weight":"normal !important"}},Pr={key:2,class:"levelOfConsciousnessContent"},Nr={style:{"font-weight":"normal !important"}},kr={key:1,class:"noData"},Br={key:2},Er={style:{display:"flex","flex-wrap":"wrap"}},Vr={key:3,class:"noData"},Ar={key:4},$r={key:0,class:"levelOfConsciousnessContent"},Mr={style:{"font-weight":"bold !important"}},Tr={key:1,class:"levelOfConsciousnessContent"},Or={style:{"font-weight":"bold"}},Fr={key:5,class:"noData"},Hr={key:6},Rr={style:{display:"flex","flex-wrap":"wrap"}},Lr={key:7,class:"noData"},xr={key:8},Ur={key:9,class:"noData"},zr={key:0,class:"physicalExam"},qr={style:{display:"flex","flex-wrap":"wrap"}},Wr={key:1,class:"physicalExam"},Gr={style:{display:"flex","flex-wrap":"wrap"}},jr={key:2,class:"physicalExam"},Yr={style:{display:"flex","flex-wrap":"wrap"}},Jr={key:3,class:"physicalExam"},Kr={style:{display:"flex","flex-wrap":"wrap"}},Qr={key:4,class:"physicalExam"},Xr={style:{display:"flex","flex-wrap":"wrap"}},Zr={key:5,class:"physicalExam"},ed={style:{display:"flex","flex-wrap":"wrap"}},td={key:6,class:"physicalExam"},ad={style:{display:"flex","flex-wrap":"wrap"}},sd={key:7,class:"physicalExam"},nd={style:{display:"flex","flex-wrap":"wrap"}},id={key:8,class:"physicalExam"},od={style:{display:"flex","flex-wrap":"wrap"}},ld={key:9,class:"physicalExam"},rd={style:{display:"flex","flex-wrap":"wrap"}},dd={key:10,class:"physicalExam"},cd={style:{display:"flex","flex-wrap":"wrap"}};function ud(e,t,a,n,o,r){const l=c("ion-button"),u=c("ion-row"),h=c("ion-item"),f=c("ion-col");return p(),m("div",yr,[s(u,null,{default:i(()=>[s(f,{offset:"0.1",size:"10"},{default:i(()=>{var _,D,P,N,G,q,ee,Q,U,ue,Oe,Ce,He,Ae;return[v("div",br,[e.levelOfConsciousness.eyeResponse||e.levelOfConsciousness.verbalResponse||e.levelOfConsciousness.motorResponse?(p(),m("div",Dr,[v("div",null,[t[3]||(t[3]=v("div",{class:"heading"},"1. Level of consciousness presented:",-1)),e.levelOfConsciousness.eyeResponse?(p(),m("div",Sr,[t[0]||(t[0]=C(" Eye opening response: ")),v("span",Cr,$(e.levelOfConsciousness.eyeResponse),1)])):A("",!0),e.levelOfConsciousness.verbalResponse?(p(),m("div",wr,[t[1]||(t[1]=C(" Best verbal response: ")),v("span",Ir,$(e.levelOfConsciousness.verbalResponse),1)])):A("",!0),e.levelOfConsciousness.motorResponse?(p(),m("div",Pr,[t[2]||(t[2]=C(" Best motor response: ")),v("span",Nr,$(e.levelOfConsciousness.motorResponse),1)])):A("",!0)])])):(p(),m("div",kr,"1. No level of consciousness recorded")),((_=e.uniquePresentingComplaints)==null?void 0:_.length)>0?(p(),m("div",Br,[t[4]||(t[4]=v("div",{class:"heading"},"2. Presenting Complaints recorded",-1)),v("div",Er,[(p(!0),m(ne,null,fe(e.uniquePresentingComplaints,(re,ye)=>(p(),m("div",{class:"spanContent",key:ye},$(re),1))),128))])])):(p(),m("div",Vr,"2. No presenting complaints were recorded")),e.pregnancy.patientPregnant||e.pregnancy.breastFeeding?(p(),m("div",Ar,[v("div",null,[t[7]||(t[7]=v("div",{class:"heading"},"3. Pregnancy and breast feeding status recorded:",-1)),e.pregnancy.patientPregnant?(p(),m("div",$r,[t[5]||(t[5]=C(" Is the patient pregnant?: ")),v("span",Mr,$(e.pregnancy.patientPregnant),1)])):A("",!0),e.pregnancy.breastFeeding?(p(),m("div",Tr,[t[6]||(t[6]=C(" Is the patient breast feeding?: ")),v("span",Or,$(e.pregnancy.breastFeeding),1)])):A("",!0)])])):(p(),m("div",Fr,"3. No pregnancy and breastfeeding status was recorded")),((D=e.uniquePastMedicalHistory)==null?void 0:D.length)>0?(p(),m("div",Hr,[t[8]||(t[8]=v("div",{class:"heading"},"4. Past medical history recorded",-1)),v("div",Rr,[(p(!0),m(ne,null,fe(e.uniquePastMedicalHistory,(re,ye)=>(p(),m("div",{class:"spanContent",key:ye},$(re),1))),128))])])):(p(),m("div",Lr,"4. No past medical history was recorded")),((P=e.selectedAllergiesList2)==null?void 0:P.length)>0?(p(),m("div",xr,[t[9]||(t[9]=v("div",{class:"heading"},"5. Allergies recorded",-1)),s(h,{lines:"none",class:"medicalAl"},{default:i(()=>[s(u,null,{default:i(()=>[(p(!0),m(ne,null,fe(e.selectedAllergiesList2,(re,ye)=>(p(),m("div",{key:ye},[re.selected?(p(),O(l,{key:0,style:{padding:"2px"},class:"medicalAlBtn"},{default:i(()=>[C($(re.name),1)]),_:2},1024)):A("",!0)]))),128))]),_:1})]),_:1})])):(p(),m("div",Ur,"5. No allergies were recorded")),v("div",null,[v("div",null,[t[21]||(t[21]=v("div",{class:"heading"},"6.Physical exams recorded:",-1)),((N=e.uniqueEyesAbnormal)==null?void 0:N.length)>0?(p(),m("div",zr,[t[10]||(t[10]=C(" Abnormality for eyes: ")),v("div",qr,[(p(!0),m(ne,null,fe(e.uniqueEyesAbnormal,(re,ye)=>(p(),m("div",{class:"levelOfConsciousnessContent",key:ye},$(re),1))),128))])])):A("",!0),((G=e.uniqueMouthAbnormal)==null?void 0:G.length)>0?(p(),m("div",Wr,[t[11]||(t[11]=C(" Abnormality for mouth: ")),v("div",Gr,[(p(!0),m(ne,null,fe(e.uniqueMouthAbnormal,(re,ye)=>(p(),m("div",{class:"levelOfConsciousnessContent",key:ye},$(re),1))),128))])])):A("",!0),((q=e.uniqueEarsAbnormal)==null?void 0:q.length)>0?(p(),m("div",jr,[t[12]||(t[12]=C(" Abnormality for ears: ")),v("div",Yr,[(p(!0),m(ne,null,fe(e.uniqueEarsAbnormal,(re,ye)=>(p(),m("div",{class:"levelOfConsciousnessContent",key:ye},$(re),1))),128))])])):A("",!0),((ee=e.uniqueFaceAbnormal)==null?void 0:ee.length)>0?(p(),m("div",Jr,[t[13]||(t[13]=C(" Abnormality for face: ")),v("div",Kr,[(p(!0),m(ne,null,fe(e.uniqueFaceAbnormal,(re,ye)=>(p(),m("div",{class:"levelOfConsciousnessContent",key:ye},$(re),1))),128))])])):A("",!0),((Q=e.uniqueNeckAbnormal)==null?void 0:Q.length)>0?(p(),m("div",Qr,[t[14]||(t[14]=C(" Abnormality for neck: ")),v("div",Xr,[(p(!0),m(ne,null,fe(e.uniqueNeckAbnormal,(re,ye)=>(p(),m("div",{class:"levelOfConsciousnessContent",key:ye},$(re),1))),128))])])):A("",!0),((U=e.uniqueChestAbnormal)==null?void 0:U.length)>0?(p(),m("div",Zr,[t[15]||(t[15]=C(" Abnormality after chest inspection: ")),v("div",ed,[(p(!0),m(ne,null,fe(e.uniqueChestAbnormal,(re,ye)=>(p(),m("div",{class:"levelOfConsciousnessContent",key:ye},$(re),1))),128))])])):A("",!0),((ue=e.uniqueChestMovement)==null?void 0:ue.length)>0?(p(),m("div",td,[t[16]||(t[16]=C(" Chest movement:: ")),v("div",ad,[(p(!0),m(ne,null,fe(e.uniqueChestMovement,(re,ye)=>(p(),m("div",{class:"levelOfConsciousnessContent",key:ye},$(re),1))),128))])])):A("",!0),((Oe=e.uniqueHeartSoundsAbnormal)==null?void 0:Oe.length)>0?(p(),m("div",sd,[t[17]||(t[17]=C(" Heart sounds abnormality: ")),v("div",nd,[(p(!0),m(ne,null,fe(e.uniqueHeartSoundsAbnormal,(re,ye)=>(p(),m("div",{class:"levelOfConsciousnessContent",key:ye},$(re),1))),128))])])):A("",!0),((Ce=e.uniqueBreathSoundsAbnormal)==null?void 0:Ce.length)>0?(p(),m("div",id,[t[18]||(t[18]=C(" Breath sounds abnormality: ")),v("div",od,[(p(!0),m(ne,null,fe(e.uniqueBreathSoundsAbnormal,(re,ye)=>(p(),m("div",{class:"levelOfConsciousnessContent",key:ye},$(re),1))),128))])])):A("",!0),((He=e.uniqueAddedBreathSoundsAbnormal)==null?void 0:He.length)>0?(p(),m("div",ld,[t[19]||(t[19]=C(" Abnormalities when breath sound is \"added': ")),v("div",rd,[(p(!0),m(ne,null,fe(e.uniqueAddedBreathSoundsAbnormal,(re,ye)=>(p(),m("div",{class:"levelOfConsciousnessContent",key:ye},$(re),1))),128))])])):A("",!0),((Ae=e.uniqueAbdominalInspectionAbnormal)==null?void 0:Ae.length)>0?(p(),m("div",dd,[t[20]||(t[20]=C(" Abdominal inspection abnormality: ")),v("div",cd,[(p(!0),m(ne,null,fe(e.uniqueAbdominalInspectionAbnormal,(re,ye)=>(p(),m("div",{class:"levelOfConsciousnessContent",key:ye},$(re),1))),128))])])):A("",!0)])])])]}),_:1})]),_:1})])}const hd=M(gr,[["render",ud],["__scopeId","data-v-2f7079e9"]]),pd=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,IonPopover:Ft,DashBox:Ct,SelectionPopover:Dt,BasicInputField:W,BasicForm:F,List:gt,DynamicButton:Ve,labOrderResults:fa,Allergies:Eo,LevelOfConsciousness:_i,PastMedicalHistory:ur,PhysicalExamination:vi,PregnancyBreastfeeding:gi,PresentingComplaints:$s,VisitHistory:hd},data(){return{iconsContent:w,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){const e=I([]),t=I(!0);async function a(u){const h=new De,f=await St.getEncounters(h.getID(),{date:u});await n(f)}async function n(u){var f;const h=(f=u.find(_=>_.type.name==="PRESENTING COMPLAINTS"))==null?void 0:f.observations;h?e.value=await r(o(h,"Presenting complaint")):e.value=[],t.value=!1}function o(u,h){return u==null?void 0:u.filter(f=>f.concept.concept_names.some(_=>_.name===h))}async function r(u,h){return u?Promise.all(u.map(async f=>await Ge.getConceptName(f.value_coded))):[]}return(async()=>{const u=new Date().toISOString().split("T")[0];await a(u)})(),{presentingComplaints:e,loading:t}},computed:{...y(Me,["patient"])},watch:{presentingComplaints:{handler(e){},deep:!0}},methods:{checkPatient(){return new De().isChildBearing()}}}),md={key:0,style:{width:"100%","text-align":"center",padding:"20px"}},fd={key:1,style:{width:"100%"}},_d={key:2,style:{width:"100%"}},vd={class:"ion-padding",slot:"content"},gd={class:"ion-padding",slot:"content"},yd={class:"ion-padding",slot:"content"},bd={class:"ion-padding",slot:"content"},Dd={class:"ion-padding",slot:"content"},Sd={class:"ion-padding",slot:"content"};function Cd(e,t,a,n,o,r){const l=c("ion-spinner"),u=c("VisitHistory"),h=c("ion-label"),f=c("ion-item"),_=c("LevelOfConsciousness"),D=c("ion-accordion"),P=c("ion-accordion-group"),N=c("PresentingComplaints"),G=c("PregnancyBreastfeeding"),q=c("PastMedicalHistory"),ee=c("Allergies"),Q=c("PhysicalExamination"),U=c("ion-row");return p(),O(U,null,{default:i(()=>[e.loading?(p(),m("div",md,[s(l,{name:"crescent"}),t[0]||(t[0]=v("p",null,"Loading...",-1))])):e.presentingComplaints&&e.presentingComplaints.length>0?(p(),m("div",fd,[s(u)])):(p(),m("div",_d,[s(P,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(f,{slot:"header",color:"light"},{default:i(()=>[s(h,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[C("Level of consciousness")])),_:1,__:[1]})]),_:1}),v("div",vd,[s(_)])]),_:1})]),_:1},512),s(P,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(f,{slot:"header",color:"light"},{default:i(()=>[s(h,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[C("Presenting complaints")])),_:1,__:[2]})]),_:1}),v("div",gd,[s(N)])]),_:1})]),_:1},512),e.checkPatient()?(p(),O(P,{key:0,ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(f,{slot:"header",color:"light"},{default:i(()=>[s(h,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[C("Pregnancy and breastfeeding status")])),_:1,__:[3]})]),_:1}),v("div",yd,[s(G)])]),_:1})]),_:1},512)):A("",!0),s(P,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(f,{slot:"header",color:"light"},{default:i(()=>[s(h,{class:"previousLabel"},{default:i(()=>t[4]||(t[4]=[C("Past medical history")])),_:1,__:[4]})]),_:1}),v("div",bd,[s(q)])]),_:1})]),_:1},512),s(P,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(f,{slot:"header",color:"light"},{default:i(()=>[s(h,{class:"previousLabel"},{default:i(()=>t[5]||(t[5]=[C("Allergies")])),_:1,__:[5]})]),_:1}),v("div",Dd,[s(ee)])]),_:1})]),_:1},512),s(P,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(f,{slot:"header",color:"light"},{default:i(()=>[s(h,{class:"previousLabel"},{default:i(()=>t[6]||(t[6]=[C("Physical examination")])),_:1,__:[6]})]),_:1}),v("div",Sd,[s(Q)])]),_:1})]),_:1},512)]))]),_:1})}const wd=M(pd,[["render",Cd],["__scopeId","data-v-f05194f6"]]),Id=V({data:()=>({BMI:{},BPStatus:{},vitalsData:{}}),computed:{...y(Me,["patient"])},methods:{async setTodayVitals(){var n,o;const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","SAO2","Respiratory rate"],t=me.getAgeInYears((o=(n=this.patient)==null?void 0:n.personInformation)==null?void 0:o.birthdate),a=e.map(async r=>{const l=await Ee.getFirstObsDatetime(this.patient.patientID,r);l&&me.toStandardHisFormat(l)==me.sessionDate()?(r=="Weight"&&B(this.vitalsData,"Height And Weight Not Done","displayNone",!0),r=="Systolic"&&B(this.vitalsData,"Blood Pressure Not Done","displayNone",!0),r=="Pulse"&&B(this.vitalsData,"Pulse Rate Not Done","displayNone",!0),r=="Respiratory rate"&&B(this.vitalsData,"Respiratory rate Not Done","displayNone",!0),d(this.vitalsData,r,"value",await Ee.getFirstValueNumber(this.patient.patientID,r,me.sessionDate())),d(this.vitalsData,r,"disabled",!0)):d(this.vitalsData,r,"value",""),r==="Respiratory rate"&&t<=5&&(d(this.vitalsData,r,"required",!0),d(this.vitalsData,r,"inputHeader","Respiratory rate*"))});await Promise.all(a)},async setBMI(e,t){var a,n,o,r,l,u,h,f;(n=(a=this.patient)==null?void 0:a.personInformation)!=null&&n.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&k.vitalsHeight(e)==null&&k.vitalsWeight(t)==null?this.BMI=await bt.getBMI(parseInt(t),parseInt(e),(u=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:u.gender,me.calculateAge((f=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:f.birthdate,me.sessionDate())):this.BMI={},await this.updateBMI()},async updateBMI(){var t,a,n,o,r,l;if(!this.vitalsData[0])return;const e=(a=(t=this.BMI)==null?void 0:t.color)!=null?a:[];this.updateRate("bmi","BMI "+((o=(n=this.BMI)==null?void 0:n.index)!=null?o:""),"",{colors:e,value:(l=(r=this.BMI)==null?void 0:r.result)!=null?l:""},bt.iconBMI(e))},async updateBP(e,t){var n,o,r,l;this.BPStatus=this.getBloodPressureStatus(e,t),k.vitalsSystolic(e)==null&&k.vitalsDiastolic(t)==null||(this.BPStatus={});const a=(o=(n=this.BPStatus)==null?void 0:n.colors)!=null?o:[];this.updateRate("bp",e+"/"+t,"mmHg",{colors:a,value:(l=(r=this.BPStatus)==null?void 0:r.value)!=null?l:""},qa(a))},async updateRate(e,t,a,n,o=""){var u,h;if(!t)return;const r=t+" "+a,l=(u=n==null?void 0:n.colors)!=null?u:[];ca(this.vitalsData,e,"icon",o||""),ca(this.vitalsData,e,"textColor",l[1]),ca(this.vitalsData,e,"index",r),ca(this.vitalsData,e,"backgroundColor",l[0]),ca(this.vitalsData,e,"value",(h=n==null?void 0:n.value)!=null?h:"")},getBloodPressureStatus(e,t){if(e&&t){let a,n,o,r;const u=new De().getAge();return u<1?(a=75,n=100,o=50,r=70):u>=1&&u<6?(a=80,n=110,o=50,r=80):u>=6&&u<13?(a=85,n=120,o=55,r=80):u>=13&&u<18?(a=95,n=140,o=60,r=90):(a=100,n=130,o=60,r=90),e<a&&t<o?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP "}:e>=a&&e<=n&&t>=o&&t<=r?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP "}:e>140&&t>90?{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP"}:e<a?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP  (Using Systolic Only)"}:e>=a&&e<=n?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP  (Using Systolic Only)"}:{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP  (Using Systolic Only)"}}},getTemperatureStatus(e){if(e&&k.vitalsTemperature(e)==null){let t,a;const o=new De().getAge();if(o<=1||o>=1&&o<=18||o>=19&&o<=64||o>=65?(t=35.5,a=37.4):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Temperature "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Temperature "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Temperature "}}else return{}},getPulseRateStatus(e){if(k.vitalsPulseRate(e)==null){let t,a;const o=new De().getAge();if(o<=.25?(t=100,a=160):o>=.25&&o<=1||o>=1&&o<=2?(t=80,a=120):o>=6&&o<=12?(t=70,a=100):o>=13&&o<=18?(t=55,a=90):o>=18?(t=60,a=100):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Pulse Rate "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Pulse Rate "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Pulse Rate "}}},getOxygenSaturationStatus(e){if(e&&k.vitalsOxygenSaturation(e)==null){let t=95,a=100;if(e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low oxygen saturation"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal oxygen saturation"}}},getRespiratoryRateStatus(e){if(k.vitalsRespiratoryRate(e)==null){let t,a;const o=new De().getAge();if(o<=1?(t=30,a=60):o>=1&&o<3?(t=24,a=40):o>=3&&o<=6?(t=22,a=34):o>=6&&o<=12?(t=18,a=30):o>=12&&o<=18?(t=12,a=16):o>=19?(t=12,a=20):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low respiratory rate"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal respiratory rate"};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High respiratory rate"}}}}}),Pd=V({mixins:[Id],components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,BasicInputField:W,BasicForm:F,PreviousVitals:xa},data(){return{iconsContent:w,saveBtnStatus:{},TempStatus:{},PulseStatus:{},RespiratoryStatus:{},OxygenStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1}}},watch:{$route:{async handler(){this.vitalsData=this.vitals,await this.validateRowData("onload")},deep:!0},"patient.ID":{async handler(e,t){e!==t&&await this.checkHeight()}}},computed:{...y(Me,["patient"]),...y(Ba,["vitals"])},async mounted(){this.checkIfSamePatientInContext(),this.vitalsData=this.vitals,await this.checkHeight(),await this.validateRowData("onload")},setup(){return{checkmark:K,pulseOutline:X}},methods:{checkIfSamePatientInContext(){const e=Ba();e.current_patient.ID!=this.patient.ID&&(this.cleanVitalForm(),e.setCurrentPatient(this.patient))},navigationMenu(e){$e.close(),this.$router.push(e)},cleanVitalForm(){const e=Ba();e.setVitals(e.getInitialVitals(this.patient.ID))},async validationController(e){var t,a,n,o,r,l,u,h,f,_,D,P,N,G;((t=e==null?void 0:e.col)==null?void 0:t.name)=="Height Not Done"&&e.col.checked?(we(this.vitals,"Height (cm)","displayNone",!1),d(this.vitals,"Height (cm)","disabled",!0),d(this.vitals,"Height (cm)","inputHeader","Height"),d(this.vitals,"Height (cm)","value",""),this.validationStatus.heightWeight=!1):((a=e==null?void 0:e.col)==null?void 0:a.name)=="Height Not Done"&&(we(this.vitals,"Height (cm)","displayNone",!0),we(this.vitals,"Height (cm)","value",""),d(this.vitals,"Height (cm)","disabled",!1),d(this.vitals,"Height (cm)","inputHeader","Height*"),this.validationStatus.heightWeight=!0),((n=e==null?void 0:e.col)==null?void 0:n.name)=="Weight Not Done"&&e.col.checked?(we(this.vitals,"Weight","displayNone",!1),d(this.vitals,"Weight","disabled",!0),d(this.vitals,"Weight","inputHeader","Weight"),d(this.vitals,"Weight","value",""),this.validationStatus.heightWeight=!1):((o=e==null?void 0:e.col)==null?void 0:o.name)=="Weight Not Done"&&(we(this.vitals,"Weight","displayNone",!0),we(this.vitals,"Weight","value",""),d(this.vitals,"Weight","disabled",!1),d(this.vitals,"Weight","inputHeader","Weight*"),this.validationStatus.heightWeight=!0),((r=e==null?void 0:e.col)==null?void 0:r.name)=="Blood Pressure Not Done"&&e.col.checked?(we(this.vitals,"Blood Pressure","displayNone",!1),d(this.vitals,"Systolic","disabled",!0),d(this.vitals,"Diastolic","disabled",!0),d(this.vitals,"Systolic","inputHeader","Systolic Pressure"),d(this.vitals,"Diastolic","inputHeader","Diastolic pressure"),d(this.vitals,"Systolic","value",""),d(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!1):((l=e==null?void 0:e.col)==null?void 0:l.name)=="Blood Pressure Not Done"&&(we(this.vitals,"Blood Pressure","displayNone",!0),we(this.vitals,"Blood Pressure","value",""),d(this.vitals,"Systolic","disabled",!1),d(this.vitals,"Diastolic","disabled",!1),d(this.vitals,"Systolic","inputHeader","Systolic Pressure*"),d(this.vitals,"Diastolic","inputHeader","Diastolic pressure*"),d(this.vitals,"Systolic","value",""),d(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!0),((u=e==null?void 0:e.col)==null?void 0:u.name)=="Pulse Rate Not Done"&&e.col.checked?(we(this.vitals,"Pulse","displayNone",!1),d(this.vitals,"Pulse","disabled",!0),d(this.vitals,"Pulse","inputHeader","Pulse rate"),d(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!1):((h=e==null?void 0:e.col)==null?void 0:h.name)=="Pulse Rate Not Done"&&(we(this.vitals,"Pulse","displayNone",!0),we(this.vitals,"Pulse","value",""),d(this.vitals,"Pulse","disabled",!1),d(this.vitals,"Pulse","inputHeader","Pulse rate*"),d(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!0),((f=e==null?void 0:e.col)==null?void 0:f.name)=="Temperature Not Done"&&e.col.checked?(we(this.vitals,"Temperature","displayNone",!1),d(this.vitals,"Temperature","disabled",!0),d(this.vitals,"Temperature","inputHeader","Temperature"),d(this.vitals,"Temperature","value",""),this.validationStatus.bloodPressure=!1):((_=e==null?void 0:e.col)==null?void 0:_.name)=="Temperature Not Done"&&(we(this.vitals,"Temperature","displayNone",!0),we(this.vitals,"Temperature","value",""),d(this.vitals,"Temperature","disabled",!1),d(this.vitals,"Temperature","inputHeader","Temperature*"),d(this.vitals,"Temperature","value",""),this.validationStatus.bloodPressure=!0),((D=e==null?void 0:e.col)==null?void 0:D.name)=="Respiratory rate Not Done"&&e.col.checked?(we(this.vitals,"Respiratory rate","displayNone",!1),d(this.vitals,"Respiratory rate","disabled",!0),d(this.vitals,"Respiratory rate","inputHeader","Respiratory rate"),d(this.vitals,"Respiratory rate","value",""),this.validationStatus.bloodPressure=!1):((P=e==null?void 0:e.col)==null?void 0:P.name)=="Respiratory rate Not Done"&&(we(this.vitals,"Respiratory rate","displayNone",!0),we(this.vitals,"Respiratory rate","value",""),d(this.vitals,"Respiratory rate","disabled",!1),d(this.vitals,"Respiratory rate","inputHeader","Respiratory rate*"),d(this.vitals,"Respiratory rate","value",""),this.validationStatus.bloodPressure=!0),((N=e==null?void 0:e.col)==null?void 0:N.name)=="Oxygen saturation Not Done"&&e.col.checked?(we(this.vitals,"SAO2","displayNone",!1),d(this.vitals,"SAO2","disabled",!0),d(this.vitals,"SAO2","inputHeader","Oxygen saturation"),d(this.vitals,"SAO2","value",""),this.validationStatus.bloodPressure=!1):((G=e==null?void 0:e.col)==null?void 0:G.name)=="Oxygen saturation Not Done"&&(we(this.vitals,"SAO2","displayNone",!0),we(this.vitals,"SAO2","value",""),d(this.vitals,"SAO2","disabled",!1),d(this.vitals,"SAO2","inputHeader","Oxygen saturation*"),d(this.vitals,"SAO2","value",""),this.validationStatus.bloodPressure=!0)},async checkHeight(){var o,r,l,u;const e=[...((r=(o=this.patient)==null?void 0:o.vitals)==null?void 0:r.saved)||[],...((u=(l=this.patient)==null?void 0:l.vitals)==null?void 0:u.unsaved)||[]],t=await zs(e,"value_numeric",5090),a=await zs(e,"obs_datetime",5090),n=new De;t&&(Ns(a).diff(n.getBirthdate(),"year")<18||n.getAge()<18||(d(this.vitals,"Height (cm)","disabled",!0),d(this.vitals,"Height (cm)","value",t)))},async validateRowData(e){if(e!="onload"){await this.validationController(e);const t=Y(this.vitals,"Height (cm)","value"),a=Y(this.vitals,"Weight","value"),n=Y(this.vitals,"Systolic","value"),o=Y(this.vitals,"Diastolic","value"),r=Y(this.vitals,"Temperature","value"),l=Y(this.vitals,"Pulse","value"),u=Y(this.vitals,"Respiratory rate","value"),h=Y(this.vitals,"SAO2","value");await this.setBMI(t,a),await this.updateBP(n,o);const f=this.getPulseRateStatus(l);await this.updateRate("pulse",l," BMP",f,4);const _=this.getTemperatureStatus(r);this.updateRate("temp",r,"°C",_,4);const D=this.getRespiratoryRateStatus(u);this.updateRate("respiratory",u,"BMP",D,6);const P=this.getOxygenSaturationStatus(h);this.updateRate("oxygen",h,"%",P,6)}}}}),Nd={class:"ion-padding",slot:"content"};function kd(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-label"),h=c("ion-item"),f=c("PreviousVitals"),_=c("ion-accordion"),D=c("ion-accordion-group"),P=c("ion-row");return p(),m(ne,null,[s(l,{contentData:e.vitals,"onUpdate:inputValue":t[0]||(t[0]=N=>e.validateRowData(N))},null,8,["contentData"]),s(P,null,{default:i(()=>[s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(u,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[C("Previous measurements")])),_:1,__:[1]})]),_:1}),v("div",Nd,[s(f)])]),_:1})]),_:1},512)]),_:1})],64)}const Bd=M(Pd,[["render",kd],["__scopeId","data-v-bbed3d60"]]);class yi extends It{constructor(t,a){super(t,8,a)}static async getDiagnosis(t="",a=1,n=10){const o=await Ge.getConceptID("Qech outpatient diagnosis list");return It.getJson("diagnosis",{id:o,name:t,page:a,page_size:n})}}const Ed=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,List:gt},computed:{...y(Me,["patient"])},data(){return{valueNumericArray:[],obsDatetime:[],graphIcon:za(["#006401"]),listIcon:Ua(["#636363"]),displayGraph:!0,orders:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],series:[{name:"",data:[]}]}},setup(){return{checkmark:K,pulseOutline:X}},async mounted(){const e=await Ee.getAll(this.patient.patientID,"Primary diagnosis"),t=await Ee.getAll(this.patient.patientID,"Secondary diagnosis"),a=await Ee.getAll(this.patient.patientID,"Attempted/ Differential diagnosis"),n=[...e||[],...t||[],...a||[]],o=Pe.isEmpty(n)?[]:Promise.all(n.map(async r=>({name:await Ee.getConceptName(r.value_coded),obs_date:r.obs_datetime})));this.setListData(await o)},methods:{dismiss(){Ha.dismiss()},handleIcon(){},setActivClass(e){this.activeHeight="",this.activeBMI="",this.activeWeight="",e=="height"?this.activeHeight="_active":e=="weight"?this.activeWeight="_active":e=="BMI"&&(this.activeBMI="_active")},setListData(e){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 25px;",display:["Date","Diagnosis","Notes"]}),e.forEach(t=>{this.list.push({actionBtn:!1,minHeight:"--min-height: 25px;",class:"col_background",display:[me.toStandardHisFormat(t.obs_date),t.name,""]})})}}}),Vd={class:"modal_wrapper"};function Ad(e,t,a,n,o,r){const l=c("list");return p(),m("div",Vd,[v("div",null,[s(l,{listData:e.list},null,8,["listData"])])])}const $d=M(Ed,[["render",Ad],["__scopeId","data-v-88580898"]]),Md=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,IonPopover:Ft,DashBox:Ct,SelectionPopover:Dt,BasicInputField:W,List:gt,BasicForm:F,DynamicButton:Ve,previousDiagnosis:$d},data(){return{iconsContent:w,no_item:!1,search_item:!1,display_primary:!0,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],diagnosisData:[],popoverOpen:!1,event:"",selectedCondition:"",selected:null,diagnoses:[],initialData:[]}},setup(){return{checkmark:K,pulseOutline:X}},computed:{...y(ls,["OPDdiagnosis"]),primaryDiagnosisExists(){return this.OPDdiagnosis[0].selectedData.some(e=>e.data.concept_id===6542)},primaryInputField(){return this.OPDdiagnosis[0].data.rowData[0].colData},secondaryInputField(){return this.OPDdiagnosis[2].data.rowData[0].colData},differentialInputField(){return this.OPDdiagnosis[3].data.rowData[0].colData}},watch:{OPDdiagnosis:{handler(){this.setDashedBox()},deep:!0},patient:{handler(e){e&&this.resetDiagnosisList()},immediate:!0,deep:!0}},async mounted(){this.updateDiagnosisStores();const e=ls();this.initialData=e.getInitial(),this.setDashedBox(),await this.getDiagnosis("")},methods:{resetDiagnosisList(){this.OPDdiagnosis[0].selectedData=[],this.updateDiagnosisStores()},displayInputFields(){this.conditionStatus="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validaterowData(e={name:"secondaryDiagnosis"}){d(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage",""),d(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage",""),d(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage","");const t=Y(this.OPDdiagnosis,"primaryDiagnosis","value"),a=Y(this.OPDdiagnosis,"secondaryDiagnosis","value"),n=Y(this.OPDdiagnosis,"differentialDiagnosis","value");if(t.name&&this.OPDdiagnosis[0].selectedData.some(u=>u.data.concept_id===6542))return d(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage","Only one primary diagnosis can be added. Delete the existing one to change."),ta("Only one primary diagnosis is allowed. Delete one added if you want to change"),!1;const o=a&&a.length>0,r=n&&n.length>0;return o&&a.some(l=>l.name===t.name)?(d(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage","".concat(t.name," is already selected as primary diagnosis.")),!1):r&&n.some(l=>l.name===t.name)?(d(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage","".concat(t.name," is already selected as primary diagnosis.")),!1):o&&r&&a.some(u=>n.some(h=>h.name===u.name))?(d(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage","Secondary and differential diagnoses cannot overlap."),!1):t!=null&&t.name?!0:(d(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage","Primary diagnosis is required."),!1)},async addNewRow(){await this.validaterowData()&&(this.buildDiagnosis(),this.search_item=!1,this.display_item=!0,this.addItemButton=!0,this.display_primary=!1,this.OPDdiagnosis[0].data.rowData[0].colData[0].value="",this.OPDdiagnosis[2].data.rowData[0].colData[0].value="",this.OPDdiagnosis[3].data.rowData[0].colData[0].value="",d(this.OPDdiagnosis,"primaryDiagnosis","inputFieldDisplayNone",!1),d(this.OPDdiagnosis,"primaryDiagnosis","colSize",""))},buildDiagnosis(){var a,n;const e=[],t=this.OPDdiagnosis[0].selectedData.map(o=>o.name);if((n=(a=this.primaryInputField[0])==null?void 0:a.value)!=null&&n.name&&!t.includes(this.primaryInputField[0].value.name))if(!this.OPDdiagnosis[0].selectedData.some(r=>r.data.concept_id===6542))e.push({actionBtn:!0,btn:["delete"],name:this.primaryInputField[0].value.name,id:this.primaryInputField[0].value.concept_id,display:[this.primaryInputField[0].value.name,"Primary diagnosis"],data:{concept_id:6542,value_coded:this.primaryInputField[0].value.concept_id,obs_datetime:Ke.getSessionDate()}});else return ta("Only one primary diagnosis is allowed"),!1;return this.secondaryInputField[0].value&&this.secondaryInputField[0].value.forEach(o=>{t.includes(o.name)||e.push({actionBtn:!0,btn:["delete"],name:o.name,id:o.concept_id,display:[o.name,"Secondary diagnosis"],data:{concept_id:6543,value_coded:o.concept_id,obs_datetime:Ke.getSessionDate()}})}),this.differentialInputField[0].value&&this.differentialInputField[0].value.forEach(o=>{t.includes(o.name)||e.push({actionBtn:!0,btn:["delete"],name:o.name,id:o.concept_id,display:[o.name,"Differential diagnosis"],data:{concept_id:10201,value_coded:o.concept_id,obs_datetime:Ke.getSessionDate()}})}),e.length>0&&(this.OPDdiagnosis[0].selectedData=[...this.OPDdiagnosis[0].selectedData,...e]),!0},compareArrays(e,t){return e.reduce((a,n)=>{const o=t.find(r=>r.name===n.name);return o&&a.push(o.display[1]),a},[])},updateDiagnosisStores(){ls().setOPDDiagnosis(this.OPDdiagnosis)},openPopover(e){this.event=e,this.popoverOpen=!0},async handleInputData(e){d(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage",""),d(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage",""),d(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage",""),await this.getDiagnosis(e.value),this.validaterowData(e)},async getDiagnosis(e){return this.diagnoses=await yi.getDiagnosis(e,1,5),d(this.OPDdiagnosis,"primaryDiagnosis","multiSelectData",this.diagnoses),d(this.OPDdiagnosis,"secondaryDiagnosis","multiSelectData",this.diagnoses),d(this.OPDdiagnosis,"differentialDiagnosis","multiSelectData",this.diagnoses),this.diagnoses},async onRefresh(e){(await this.getDiagnosis(e)).length>0&&na("Diagnoses selection list has been updated")},editDiagnosis(e){this.deleteDiagnosis(e),this.selectedText=e.name,this.OPDdiagnosis[0].data.rowData[0].colData[0].value=e.name,this.addItemButton=!1,this.search_item=!0,this.updateDiagnosisStores()},async openDeletePopover(e){await sa("Do you want to delete ".concat(e.name," ?"),e.event)&&this.deleteDiagnosis(e.name)},deleteDiagnosis(e){const t=this.OPDdiagnosis[0].selectedData,a=e.name,n=t.filter(r=>r.display[0]!==a),o=t.filter(r=>r.display[0]===a);this.OPDdiagnosis[0].selectedData=n,o[0].data.concept_id==6542&&(d(this.OPDdiagnosis,"primaryDiagnosis","inputFieldDisplayNone",!1),d(this.OPDdiagnosis,"primaryDiagnosis","colSize",""))},setDashedBox(){var e,t,a,n;((t=(e=this.primaryInputField[0])==null?void 0:e.value)!=null&&t.name||(n=(a=this.primaryInputField[1])==null?void 0:a.value)!=null&&n.name)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.OPDdiagnosis[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0),this.addItemButton=!this.primaryDiagnosisExists}}}),Td={class:"custom_card",style:{padding:"10px"}},Od={key:0},Fd={key:0,style:{color:"red","margin-top":"10px",background:"lightgoldenrodyellow"}},Hd={class:"ion-padding",slot:"content"};function Rd(e,t,a,n,o,r){const l=c("DashBox"),u=c("list"),h=c("basic-form"),f=c("ion-row"),_=c("DynamicButton"),D=c("ion-label"),P=c("ion-item"),N=c("previousDiagnosis"),G=c("ion-accordion"),q=c("ion-accordion-group");return p(),m(ne,null,[v("div",Td,[s(l,{status:e.no_item,content:"No Diagnosis added"},null,8,["status"]),e.display_item?(p(),m("span",Od,[s(u,{listData:e.OPDdiagnosis[0].selectedData,"onClicked:edit":t[0]||(t[0]=ee=>e.editDiagnosis(ee)),"onClicked:delete":e.deleteDiagnosis},null,8,["listData","onClicked:delete"]),e.primaryDiagnosisExists?(p(),m("div",Fd," In order to update the diagnosis list, please remove/delete the primary diagnosis only and then re-add or change it along with the secondary and differential diagnoses. ")):A("",!0)])):A("",!0),e.search_item?(p(),O(f,{key:1},{default:i(()=>[s(h,{initialData:e.initialData,contentData:e.OPDdiagnosis,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,disabled:e.primaryDiagnosisExists,"onClicked:button":e.addNewRow,onSearchChange:e.getDiagnosis,onRefresh:t[1]||(t[1]=ee=>e.onRefresh("a"))},null,8,["initialData","contentData","onUpdate:selected","onUpdate:inputValue","disabled","onClicked:button","onSearchChange"])]),_:1})):A("",!0),e.addItemButton?(p(),O(f,{key:2,style:{"margin-top":"10px"}},{default:i(()=>[s(_,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[2]||(t[2]=ee=>e.displayInputFields()),name:"Add new Diagnosis"},null,8,["icon"])]),_:1})):A("",!0)]),s(f,null,{default:i(()=>[s(q,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(G,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(P,{slot:"header",color:"light"},{default:i(()=>[s(D,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[C("Previous Diagnosis")])),_:1,__:[3]})]),_:1}),v("div",Hd,[s(N)])]),_:1})]),_:1},512)]),_:1})],64)}const Ld=M(Md,[["render",Rd],["__scopeId","data-v-e7cfdc2c"]]),xd=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R},data(){return{iconsContent:w}},setup(){return{checkmark:K,pulseOutline:X}},methods:{navigationMenu(e){$e.close(),this.$router.push(e)}}});function Ud(e,t,a,n,o,r){const l=c("ion-row");return p(),m(ne,null,[s(l,null,{default:i(()=>t[0]||(t[0]=[v("span",{class:"dash_box"},"No Diagnosis added",-1)])),_:1,__:[0]}),s(l,null,{default:i(()=>t[1]||(t[1]=[v("span",{class:"add_item"}," + Add Diagnosis ",-1)])),_:1,__:[1]})],64)}const zd=M(xd,[["render",Ud],["__scopeId","data-v-5cb38228"]]),qd=V({name:"xxxComponent"}),Wd=V({...qd,setup(e){return(t,a)=>(p(),O(Vo))}}),Dn=je("ChangeStatusStore",{state:()=>({changeStatus:[{selectedData:[],isFinishBtn:!1,radioBtnContent:{header:{name:"Immunization patient status",selectedValue:""},data:[{name:"Active",value:"Active",checked:!0},{name:"Inactive",value:"Inactive",checked:!1},{name:"Lost to follow-up",value:"Lost to follow-up",checked:!1},{name:"Archive Record",value:"Archive Record",checked:!1}]}}]}),actions:{setStatus(e){this.changeStatus=e}},persist:!0}),Gd=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,BasicForm:F},data(){return{initialData:[]}},computed:{...y(Dn,["changeStatus"])},mounted(){Dn()},methods:{handleInputData(e){}}}),jd={class:"modal_wrapper"};function Yd(e,t,a,n,o,r){const l=c("basic-form");return p(),m("div",jd,[s(l,{contentData:e.changeStatus,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])}const Jd=M(Gd,[["render",Yd]]),Sn=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Skull",value:"Skull",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Mastoid",value:"Mastoid",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"ParaSinuses",value:"ParaSinuses",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Optic Foramen",value:"PVD",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Orbits",value:"Orbits",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Nasal Bone",value:"Nasal Bone",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Mandible",value:"Mandible",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"TMJs",value:"TMJs",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Zygomatic",value:"Zygomatic",checked:!1}]}}],Kd=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Neck",value:"Neck",checked:!1}]}}],Qd=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Chest",value:"Chest",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Heart",value:"Heart",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Sternum",value:"Sternum",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Ribs",value:"Ribs",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"SCJ",value:"SCJ",checked:!1}]}}],Xd=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Abdomen",value:"Abdomen",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"IVP",value:"IVP",checked:!1}]}}],Zd=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Clavicle",value:"Clavicle",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Shoulder",value:"Shoulder",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Scapula",value:"Scapula",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Humerus",value:"Humerus",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Elbow",value:"Elbow",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Forearm",value:"Forearm",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Wrist",value:"Wrist",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Hand",value:"Hand",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Phalanges",value:"Phalanges",checked:!1}]}}],ec=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"CSpine",value:"CSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"TSpine",value:"TSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"LSpine",value:"LSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"SSpine",value:"SSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Coccyx",value:"Coccyx",checked:!1}]}}],tc=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Pelvis",value:"Pelvis",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Sacroillac Joints",value:"Sacroillac Joints",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Hip",value:"Hip",checked:!1}]}}],ac=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Femur",value:"Femur",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Knee",value:"Knee",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Patella",value:"Patella",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Leg",value:"Leg",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Ankle",value:"Ankle",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Calcaneus",value:"Calcaneus",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Foot",value:"Foot",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Toe",value:"Toe",checked:!1}]}}],sc=je("RadiologyStore",{state:()=>({head:[...Sn],neck:[...Kd],chest:[...Qd],abdomen:[...Xd],upper_extremity:[...Zd],spine:[...ec],pelvis:[...tc],lower_extremity:[...ac]}),actions:{setOPDDiagnosis(e){this.head=e},getInitial(){return[...Pe.cloneDeep(Sn)]}}}),nc=["innerHTML"],ic={class:"scrollable-container"},oc={key:0,class:"form-section"},lc={key:1,class:"form-section"},rc={key:2,class:"form-section"},dc={key:3,class:"form-section"},cc={key:4,class:"form-section"},uc={key:5,class:"form-section"},hc={key:6,class:"form-section"},pc={key:7,class:"form-section"},mc=V({__name:"RadiologyInvestigation",setup(e){const t=sc(),{head:a,neck:n,chest:o,abdomen:r,upper_extremity:l,spine:u,pelvis:h,lower_extremity:f}=Ai(t),_=I(w),D=I([]),P=(G,q,ee)=>{document.querySelectorAll("#".concat(G," path")).forEach(U=>{U.classList.toggle("white-fill")}),document.querySelectorAll("#".concat(q," line")).forEach(U=>{U.classList.toggle("dark-green-stroke")}),document.querySelectorAll("#".concat(q," rect")).forEach(U=>{U.classList.toggle("bright-green-fill"),U.classList.toggle("dark-green-stroke")}),document.querySelectorAll("#".concat(q," path")).forEach(U=>{U.classList.toggle("dark-green-fill")}),document.querySelectorAll("#".concat(q," circle")).forEach(U=>{U.classList.toggle("bright-green-fill")});const Q=D.value.findIndex(U=>U.id===ee);Q>=0?D.value.splice(Q,1):D.value.unshift({id:ee,active:!0})},N=()=>{const G=document.getElementById("SPINE");G.style.display==="none"||G.style.display==""?G.style.display="block":G.style.display="none",P("SPINE","SPINE_LABEL-2","spine")};return aa(()=>{const G=document.getElementById("HEAD");G&&G.addEventListener("click",()=>{P("HEAD","LABEL-6","head")});const q=document.getElementById("NECK");q&&q.addEventListener("click",()=>{P("NECK","LABEL-5","neck")});const ee=document.getElementById("CHEST");ee&&ee.addEventListener("click",()=>{P("CHEST","LABEL-4","chest")});const Q=document.getElementById("ABDOMEN_LABEL");Q&&Q.addEventListener("click",()=>{const re=document.getElementById("ABDOMEN-2");re.style.display==="none"||re.style.display==""?re.style.display="block":re.style.display="none",P("ABDOMEN","ABDOMEN_LABEL-2","abdomen")});const U=document.getElementById("UPPER_EXTRMITY");U&&U.addEventListener("click",()=>{P("UPPER_EXTRMITY","LABEL-3","upper_extremity")});const ue=document.getElementById("SPINE"),Oe=document.getElementById("SPINE_LABEL"),Ce=document.getElementById("LOWER_SPINE_INACTIVE");ue&&ue.addEventListener("click",()=>{N()}),Oe&&Oe.addEventListener("click",()=>{N()}),Ce&&Ce.addEventListener("click",()=>{N()});const He=document.getElementById("PELVIS");He&&He.addEventListener("click",()=>{P("PELVIS","LABEL-2","pelvis")});const Ae=document.getElementById("LOWER_EXTREMITY");Ae&&Ae.addEventListener("click",()=>{P("LOWER_EXTREMITY","LABEL","lower_extremity")})}),(G,q)=>{const ee=c("ion-col"),Q=c("ion-row");return p(),O(Q,null,{default:i(()=>[s(ee,{size:"7"},{default:i(()=>[v("div",{innerHTML:_.value.full_body_sk},null,8,nc)]),_:1}),s(ee,{size:"5",class:"form-column"},{default:i(()=>[v("div",ic,[(p(!0),m(ne,null,fe(D.value,U=>(p(),m(ne,null,[U.id==="head"?(p(),m("div",oc,[q[0]||(q[0]=v("h6",null,"Body Part: Head",-1)),s(F,{contentData:g(a)},null,8,["contentData"])])):U.id==="neck"?(p(),m("div",lc,[q[1]||(q[1]=v("h6",null,"Body Part: Neck",-1)),s(F,{contentData:g(n)},null,8,["contentData"])])):U.id==="chest"?(p(),m("div",rc,[q[2]||(q[2]=v("h6",null,"Body Part: Chest",-1)),s(F,{contentData:g(o)},null,8,["contentData"])])):U.id==="abdomen"?(p(),m("div",dc,[q[3]||(q[3]=v("h6",null,"Body Part: Abdomen",-1)),s(F,{contentData:g(r)},null,8,["contentData"])])):U.id==="upper_extremity"?(p(),m("div",cc,[q[4]||(q[4]=v("h6",null,"Body Part: Upper Extremity",-1)),s(F,{contentData:g(l)},null,8,["contentData"])])):U.id==="spine"?(p(),m("div",uc,[q[5]||(q[5]=v("h6",null,"Body Part: Spine",-1)),s(F,{contentData:g(u)},null,8,["contentData"])])):U.id==="pelvis"?(p(),m("div",hc,[q[6]||(q[6]=v("h6",null,"Body Part: Pelvis",-1)),s(F,{contentData:g(h)},null,8,["contentData"])])):U.id==="lower_extremity"?(p(),m("div",pc,[q[7]||(q[7]=v("h6",null,"Body Part: Lower Extremity",-1)),s(F,{contentData:g(f)},null,8,["contentData"])])):A("",!0)],64))),256))])]),_:1})]),_:1})}}}),fc=M(mc,[["__scopeId","data-v-4e8419f9"]]),_c=V({name:"Menu",mixins:[ci],components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,IonPopover:Ft,DashBox:Ct,SelectionPopover:Dt,BasicInputField:W,BasicForm:F,List:gt,DynamicButton:Ve,labOrderResults:fa,RadiologyInvestigation:fc},data(){return{iconsContent:w,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",labOrders:"",filteredSpecimen:"",testData:[],popoverOpen:!1,labOrderStatus:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){return{checkmark:K,pulseOutline:X}},computed:{...y(nt,["investigations"]),...y(Me,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0},patient:{async handler(){this.labOrders=await Je.getOrders(this.patient.patientID)},deep:!0},$route:{async handler(){await this.getTests()},deep:!0}},async mounted(){await this.getTests(),this.updateInvestigationsStores(),this.setDashedBox(),this.updateInvestigationWizard()},methods:{async getTests(){const e=await so("testTypes");d(this.investigations,"test","multiSelectData",e)},async onRefresh(){try{const e=await Je.getTestTypesViaDirectAPICall();d(this.investigations,"test","multiSelectData",e),na("Test Types Selection list has been updated")}catch(e){ta("Could not fetch test types")}},toggleLabOrderStatus(){this.labOrderStatus=!this.labOrderStatus},async updateInvestigationWizard(){this.labOrders=await Je.getOrders(this.patient.patientID);const e=await this.labOrders.filter(t=>me.toStandardHisFormat(me.sessionDate())===me.toStandardHisFormat(t.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},async updateInvestigationsStores(){await this.updateInvestigationWizard(),nt().setInvestigations(this.investigations)},displayInputFields(e=!0){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!e,this.search_item=e},async validateRowData(){return yn(this.investigations)},async checkTest(){return await this.isNameInData(this.inputFields[0].value.name,await this.investigations[0].selectedData)?(d(this.investigations,"test","alertsErrorMassage","Lab order already selected"),!1):(d(this.investigations,"test","alertsErrorMassage",""),!0)},async addNewRow(){yn(this.investigations)&&await this.checkTest()&&(await this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.updateInvestigationWizard()},isNameInData(e,t){for(let a of t)for(let n of a.tests)if(n.name===e)return!0;return!1},async saveTest(){await new As().postActivities(this.patient.patientID,[{concept_id:this.inputFields[0].value.concept_id,name:this.inputFields[0].value.name,specimen:this.inputFields[1].value.name,reason:"Routine",specimenConcept:await Ge.getConceptID(this.inputFields[1].value.name,!0)}]),d(this.investigations,"specimen","disabled",!0),this.labOrders=await Je.getOrders(this.patient.patientID)},async handleInputData(e){e.inputHeader=="Test"&&this.checkTest(),d(this.investigations,"specimen","alertsErrorMassage",""),e.inputHeader=="Test"&&e.value&&(this.specimen=await Je.getSpecimens(e.value.name),this.specimen.length==1?(d(this.investigations,"specimen","value",this.specimen[0]),d(this.investigations,"specimen","disabled",!0)):(d(this.investigations,"specimen","value",""),d(this.investigations,"specimen","disabled",!1)),d(this.investigations,"specimen","multiSelectData",this.specimen))},async filterTest(e){return await this.labOrders.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))},async filterSpecimen(e){var t;return(t=this.specimen[0])!=null&&t.name&&e?await this.specimen.filter(a=>a==null?void 0:a.name.toLowerCase().includes(e.toLowerCase())):[]},setTest(e){this.selectedText=e.name,this.inputFields[1].inputHeader=="Test"?this.investigations[0].data.rowData[0].colData[0].value=e.name:this.investigations[0].data.rowData[0].colData[1].value=e.name,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[1].value||this.inputFields[0].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),vc={class:"ion-padding",slot:"content",style:{"margin-bottom":"125px"}},gc={key:0},yc={class:"ion-padding",slot:"content"};function bc(e,t,a,n,o,r){const l=c("ion-label"),u=c("ion-item"),h=c("labOrderResults"),f=c("basic-form"),_=c("DynamicButton"),D=c("ion-row"),P=c("ion-accordion"),N=c("ion-accordion-group"),G=c("RadiologyInvestigation");return p(),m(ne,null,[s(N,{ref:"accordionGroup",class:"previousView",value:"first"},{default:i(()=>[s(P,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[C("Lab Investigations")])),_:1,__:[2]})]),_:1}),v("div",vc,[v("span",null,[s(h,{propOrders:e.labOrders},null,8,["propOrders"])]),e.search_item?(p(),m("span",gc,[s(f,{contentData:e.investigations,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,"onClicked:button":e.addNewRow,onRefresh:e.onRefresh},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","onClicked:button","onRefresh"])])):A("",!0),e.addItemButton&&e.userRole!="Lab"?(p(),O(D,{key:1,style:{"margin-top":"10px"}},{default:i(()=>[s(_,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[0]||(t[0]=q=>e.displayInputFields()),name:"Add new test"},null,8,["icon"])]),_:1})):A("",!0),e.search_item?(p(),O(D,{key:2},{default:i(()=>[s(_,{fill:"clear",icon:e.iconsContent.redXclose,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=q=>e.displayInputFields(!1)),name:"cancel"},null,8,["icon"])]),_:1})):A("",!0)])]),_:1})]),_:1},512),e.userRole!="Lab"?(p(),O(N,{key:0,ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(P,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[C("Radiology Investigation")])),_:1,__:[3]})]),_:1}),v("div",yc,[s(G)])]),_:1})]),_:1},512)):A("",!0),e.userRole!="Lab"?(p(),O(N,{key:1,ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(P,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[4]||(t[4]=[C("Other Investigation")])),_:1,__:[4]})]),_:1}),t[5]||(t[5]=v("div",{class:"ion-padding",slot:"content"},null,-1))]),_:1,__:[5]})]),_:1},512)):A("",!0)],64)}const Dc=M(_c,[["render",bc],["__scopeId","data-v-c5e9d501"]]),Sc={class:"allergies-section"},Cc={class:"allergies-container"},wc={key:0,class:"allergies-grid"},Ic={key:1,class:"no-allergies"},Pc={class:"ion-padding",slot:"content"},Nc={key:0},kc={class:"previousSecDrgs"},Bc={class:"ion-padding",slot:"content"},Ec={class:"previousSecDrgs"},Vc={class:"medication-section"},Ac={class:"medication-content"},$c={key:0,class:"add-medication-form"},Mc={class:"form-group"},Tc={class:"option-label"},Oc={key:0,class:"error-message"},Fc={class:"form-row"},Hc={class:"form-group"},Rc={key:0,class:"error-message"},Lc={class:"form-group"},xc={key:0,class:"error-message"},Uc={class:"form-group"},zc={key:0,class:"error-message"},qc={class:"action-buttons"},Wc={class:"notes-section"},Gc={class:"notes-content"},jc={class:"notes-input-container"},Yc={class:"ion-padding",slot:"content"},Jc={class:"notes-timeline"},Kc={class:"note-date"},Qc={class:"note-content"},Xc={class:"ion-padding",slot:"content"},Zc={class:"note-date"},eu={class:"note-content"},tu=V({watch:{},name:"xxxComponent"}),au=V({...tu,setup(e){const t=w,a=pi,n=I(!1),o=I(!1),r=I(!0),l=I(0),u=I(""),h=I(!1),f=I(""),_=I(!1),D=I(),P=I(!1),N=I(""),G=I(""),q=I(""),ee=I(""),Q=I(""),U=I("");I(!1);const ue="Add new medication",Oe="clear";I("Show more medications");const Ce=Mt(),He=La(),Ae=Ze(()=>He.selectedMedicalAllergiesList),re=Ze(()=>Ce.selectedMedicalDrugsList),ye=Ze(()=>Ce.partialOPDdrugList),We=Ze(()=>Ce.nonPharmalogicalTherapyAndOtherNotes),Bt=["first","second","third"],ia=I(),Rt=I(),lt=I(),wt=I(!1),Et=I(!1),Jt=I(!1),Lt=I("Show more notes"),rt=I("Show more allergies"),de=I(),_e=I(),Se=I(),Qe=Ze(()=>Ce.editingDrugItem),Wa=I("Select a route"),oa=I(!1),Ga=I("Select frequency"),la=I(!1),ja=I("Select drug"),ra=I(!1),et=I(),tt=I(),ft=I(),Vt=I([]),_a=I([{concept_id:11797,name:"Buccal",concept_name_id:null,id:1769},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:6284},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:6285},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:6286},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:6295},{concept_id:3327,name:"Oral",concept_name_id:null,id:8686},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:8920},{concept_id:11792,name:"Rectally",concept_name_id:null,id:10785},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:12342},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:12344},{concept_id:11792,name:"Rectally",concept_name_id:null,id:14078},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:14079},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:14080},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:14081},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:14082},{concept_id:11797,name:"Buccal",concept_name_id:null,id:14083},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:14084},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:14085},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:14086}]),Ya=Ze(()=>Vt.value.length?Vt.value:_a.value);function Ja(te){et.value=te}async function Ka(){return await Uo()}async function Qa(te=5,j=1e3){let Ie=0;for(;Ie<te&&(Vt.value=await Ka(),!(Vt.value.length>0));)Ie++,await new Promise(xe=>setTimeout(xe,j));Vt.value.length===0&&console.warn("Failed to fetch route list after maximum retries.")}aa(async()=>{const te=new ui,{previousDrugPrescriptions:j,previousClinicalNotes:Ie,previousDrugAllergies:xe}=await te.getPatientEncounters();ia.value=j,Rt.value=Object.entries(Ie)[0];const[,...ce]=Object.entries(Ie);lt.value=ce,de.value=Object.entries(xe)[0];const[,...Te]=Object.entries(xe);_e.value=Te,await Qa()}),pt(()=>N.value,async te=>{ga()}),pt(()=>G.value,async te=>{ts()}),pt(()=>q.value,async te=>{ya()});function Xa(){if(Pe.isEmpty(et.value)==!0)return oa.value=!0,!1;if(Pe.isEmpty(et.value)==!1)return oa.value=!1,!0}function va(){if(Pe.isEmpty(tt.value)==!0)return la.value=!0,!1;if(Pe.isEmpty(tt.value)==!1)return la.value=!1,!0}function Za(){if(Pe.isEmpty(ft.value)==!0)return ra.value=!0,!1;if(Pe.isEmpty(ft.value)==!1)return ra.value=!1,!0}function es(){r.value=!r.value,n.value=!0,_.value=!1,P.value=!1}async function ga(){const te=await ns();return console.log({drugNameExists:te}),te?h.value=!1:(u.value="please select a valid drug name",h.value=!0),h.value}async function ts(){return Be(G.value)?_.value=!1:(f.value="please enter a number",_.value=!0),_.value}async function ya(){return Be(q.value)?P.value=!1:(D.value="please enter a number",P.value=!0),P.value}async function ba(){const te=await ga(),j=await ya(),Ie=va(),xe=Za(),ce=Xa();return!te&&!j&&Ie==!0&&xe==!0&&ce==!0}function as(te){tt.value=te}async function Kt(){const te=()=>Se.value.dose_strength!=null&&Se.value.dose_strength?Math.trunc(Se.value.dose_strength):1;if(Qe.value!==null){if(!await ba()){Pt("Please enter correct data values",4e3);return}const Ie=Ke.getSessionDate(),xe=st(Ie,parseInt(q.value));let ce=!1;da(Se.value)==!0&&(ce=!0);const Te={drugName:N.value,dose:te(),frequency:tt.value.label,frequency_code:tt.value.code,duration:q.value,prescription:xe,drug_id:U.value,units:Q.value,route_concept_id:et.value.concept_id,route_name:et.value.name,highlightbackground:ce},it=Mt();console.log(it.setSelectedMedicalDrugsList([Te])),it.editingDrugItem=null,r.value=!0}else{if(!await ba()){Pt("Please enter correct data values",4e3);return}os();const Ie=Ke.getSessionDate(),xe=st(Ie,parseInt(q.value));let ce=!1;da(Se.value)==!0&&(ce=!0);const Te={drugName:N.value,dose:te(),frequency:tt.value.label,frequency_code:tt.value.code,duration:q.value,prescription:xe,drug_id:U.value,units:Q.value,route_concept_id:et.value.concept_id,route_name:et.value.name,highlightbackground:ce};Mt().setSelectedMedicalDrugsList([Te])}U.value="",N.value="",G.value="",tt.value=null,q.value="",ee.value="",l.value++,ft.value=null,et.value=null}async function Da(te){const j=te,ce=await Oa.getOfflineOPDDrugs({name:j,page:1,page_size:10});ce.map(Te=>({label:Te.name,value:Te.name,other:Te})),Ce.setPartialOPDdrugList(ce)}async function ss(te){let j;te.target===void 0?j=te:j=te.target.value;const ce=await Oa.getOPDDrugs({name:encodeURIComponent(j),page:1,page_size:10});return ce.map(Te=>({label:Te.name,value:Te.name,other:Te})),ce}function da(te){const j=[];return Ae.value.forEach(xe=>{xe.selected&&j.push(xe.concept_id)}),is([te],j)==!0?(Pt("Client is allergic to the selected medication",4e3),!0):!1}async function ns(){return(await ss(N.value)).length>0?N.value.length!=0:!1}function is(te,j){try{return te.some(Ie=>j.includes(Ie.concept_id))}catch(Ie){return!1}}function he(te){te&&(N.value=te.name,U.value=te.drug_id,Q.value=te.units,Se.value=te,da(te))}function ae(te){const j=re.value[te],Ie=Mt();Ie.removeDrugById(j.drug_id),Ie.editingDrugItem=j,U.value="",N.value="",G.value="",tt.value=null,q.value="",ee.value="",ft.value=null,et.value=null,U.value=j.drug_id,N.value=j.drugName,G.value=j.dose,tt.value={label:j.frequency,code:j.frequency_code},q.value=j.duration,ee.value=j.prescription;const xe=ye.value.find(ce=>ce.name===j.drugName);xe&&(ft.value=xe),et.value={concept_id:j.route_concept_id,name:j.route_name},r.value=!1,l.value++}function Fe(){if(Qe.value!==null){U.value="",N.value="",G.value="",tt.value=null,q.value="",ee.value="",ft.value=null,et.value=null;const te=Mt();te.setSelectedMedicalDrugsList([Qe.value]),te.editingDrugItem=null}r.value=!0,l.value++}function Ye(te){re.value.splice(te,1),l.value++,Pt("you have removed a drug from list",6e3)}function Xe(te){let j=te.target.value;at(j)}function at(te){Mt().setNonPharmalogicalTherapyAndOtherNotes(te)}function Be(te){return/^[0-9]+$/.test(te)}function st(te,j){const Ie=new Date(te);Ie.setDate(Ie.getDate()+j);const xe=Ie.getFullYear(),ce=String(Ie.getMonth()+1).padStart(2,"0"),Te=String(Ie.getDate()).padStart(2,"0");return"".concat(xe,"-").concat(ce,"-").concat(Te)}function os(){n.value=!1,o.value=!0,r.value=!0}function Ci(te){Bt.filter(Ie=>Ie!==te.detail.value);const j=te.detail.value;j!==void 0?j=="third"&&(Lt.value="Show less notes",Et.value=!wt.value):(Lt.value="Show more notes",Et.value=!wt.value)}function wi(te){Bt.filter(Ie=>Ie!==te.detail.value);const j=te.detail.value;j!==void 0?j=="fith"&&(rt.value="Show less allegies",Jt.value=!wt.value):(rt.value="Show more allegies",Jt.value=!wt.value)}function Os(te){return te[1]}function Ii(te){(te.key==="Enter"||te.key==="ArrowDown")&&(te.preventDefault(),Kt())}const At=Ze(()=>[{showAddItemButton:!0,addItemButton:!0,name:Qe.value!==null?"Update":"ADD",btnFill:"clear",fn:Kt},{showAddItemButton:!0,addItemButton:!0,name:"CANCEL",btnFill:"clear",fn:Fe}]);return(te,j)=>{const Ie=c("ion-chip"),xe=c("ion-text");return p(),O(g(T),null,{default:i(()=>[v("div",Sc,[s(g(ie),{class:"section-title"},{default:i(()=>[s(g(qt),{icon:g($i),class:"alert-icon"},null,8,["icon"]),s(g(ie),null,{default:i(()=>j[9]||(j[9]=[C("Allergies (Medication, Healthcare items, Environment and Food)")])),_:1,__:[9]})]),_:1}),v("div",Cc,[Ae.value.some(ce=>ce.selected)?(p(),m("div",wc,[(p(!0),m(ne,null,fe(Ae.value,(ce,Te)=>Yn((p(),m("div",{key:Te,class:"allergy-item"},[s(Ie,{class:"allergy-chip",color:"danger"},{default:i(()=>[s(g(ie),null,{default:i(()=>[C($(ce.name),1)]),_:2},1024),s(g(qt),{icon:g(Mi)},null,8,["icon"])]),_:2},1024)])),[[Jn,ce.selected]])),128))])):(p(),m("div",Ic,[s(xe,{style:{"font-size":"16px","font-weight":"600",color:"#9c8011"}},{default:i(()=>j[10]||(j[10]=[C("No allergies recorded")])),_:1,__:[10]})])),s(g(Gt),{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(g(jt),{value:"fourth","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[s(g(E),{slot:"header",color:"light"},{default:i(()=>[s(g(ie),{class:"previousLabel"},{default:i(()=>j[11]||(j[11]=[C("Documented allergies timeline")])),_:1,__:[11]})]),_:1}),v("div",Pc,[(p(!0),m(ne,null,fe(de.value,(ce,Te)=>(p(),m("div",{class:"ionLbltp",key:Te},[Te==1?(p(),m("div",Nc,[v("div",null,[s(g(ie),{class:"previousLabelDate"},{default:i(()=>[C($(ce[0].date),1)]),_:2},1024)]),(p(!0),m(ne,null,fe(ce,(it,xt)=>(p(),m("div",{key:xt},[v("div",kc,[s(g(T),null,{default:i(()=>[s(g(ie),{class:"notes_p"},{default:i(()=>[C($(it.value),1)]),_:2},1024)]),_:2},1024)])]))),128))])):A("",!0)]))),128)),s(g(Gt),{onIonChange:wi},{default:i(()=>[s(g(jt),{value:"fith","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[s(g(E),{slot:"header",color:"light"},{default:i(()=>[s(g(ie),{class:"",color:"primary"},{default:i(()=>[C($(rt.value),1)]),_:1})]),_:1}),v("div",Bc,[(p(!0),m(ne,null,fe(_e.value,(ce,Te)=>(p(),m("div",{class:"ionLbltp",key:Te},[v("div",null,[s(g(ie),{class:"previousLabelDate"},{default:i(()=>[C($(ce[0]),1)]),_:2},1024)]),(p(!0),m(ne,null,fe(Os(ce),(it,xt)=>(p(),m("div",{key:xt},[v("div",Ec,[s(g(T),null,{default:i(()=>[s(g(ie),{class:"notes_p"},{default:i(()=>[C($(it.value),1)]),_:2},1024)]),_:2},1024)])]))),128))]))),128))])]),_:1})]),_:1})])]),_:1})]),_:1},512)])]),v("div",Vc,[s(g(E),{lines:"none",class:"section-header"},{default:i(()=>[s(g(qt),{icon:g(Kn),class:"section-icon"},null,8,["icon"]),s(g(ie),{class:"section-title",style:{"margin-top":"12px"}},{default:i(()=>j[12]||(j[12]=[C("Medication")])),_:1,__:[12]})]),_:1}),v("div",Ac,[(p(),O(Ea,{_selectedMedicalDrugsList:re.value,onEditItem:ae,onRemoveItem:Ye,key:l.value,class:"medication-list"},null,8,["_selectedMedicalDrugsList"])),r.value?A("",!0):(p(),m("div",$c,[v("div",Mc,[j[13]||(j[13]=v("label",{class:"input-label"},"Medication",-1)),s(g(pa),{modelValue:ft.value,"onUpdate:modelValue":[j[0]||(j[0]=ce=>ft.value=ce),j[1]||(j[1]=ce=>he(ce))],options:ye.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select medication",label:"name","track-by":"drug_id",onSearchChange:j[2]||(j[2]=ce=>Da(ce))},{option:i(ce=>[v("div",Tc,$(ce.option.name),1)]),_:1},8,["modelValue","options"]),ra.value?(p(),m("div",Oc,$(ja.value),1)):A("",!0)]),v("div",Fc,[v("div",Hc,[j[14]||(j[14]=v("label",{class:"input-label"},"Route",-1)),s(g(pa),{modelValue:et.value,"onUpdate:modelValue":[j[3]||(j[3]=ce=>et.value=ce),j[4]||(j[4]=ce=>Ja(ce))],options:Ya.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select route",label:"name","track-by":"concept_id"},null,8,["modelValue","options"]),oa.value?(p(),m("div",Rc,$(Wa.value),1)):A("",!0)]),v("div",Lc,[j[15]||(j[15]=v("label",{class:"input-label"},"Frequency",-1)),s(g(pa),{modelValue:tt.value,"onUpdate:modelValue":[j[5]||(j[5]=ce=>tt.value=ce),j[6]||(j[6]=ce=>as(ce))],options:g(a),searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select frequency",label:"label","track-by":"code"},null,8,["modelValue","options"]),la.value?(p(),m("div",xc,$(Ga.value),1)):A("",!0)]),v("div",Uc,[j[16]||(j[16]=v("label",{class:"input-label"},"Duration (days)",-1)),s(g(J),{modelValue:q.value,"onUpdate:modelValue":j[7]||(j[7]=ce=>q.value=ce),type:"number",inputmode:"numeric",pattern:"[0-9]*",fill:"outline",placeholder:"Enter duration",onKeydown:Ii},null,8,["modelValue"]),P.value?(p(),m("div",zc,$(D.value),1)):A("",!0)])]),v("div",qc,[At.value[0].addItemButton?(p(),O(Ve,{key:0,name:At.value[0].name,fill:At.value[0].btnFill,icon:g(ks),"onClicked:btn":At.value[0].fn,class:"save-button"},null,8,["name","fill","icon","onClicked:btn"])):A("",!0),At.value[1].addItemButton?(p(),O(Ve,{key:1,name:At.value[1].name,fill:At.value[1].btnFill,icon:g(Ra),"onClicked:btn":At.value[1].fn,class:"cancel-button"},null,8,["name","fill","icon","onClicked:btn"])):A("",!0)])])),r.value?(p(),O(Ve,{key:1,name:ue,fill:Oe,icon:g(Is),"onClicked:btn":es,class:"add-new-button"},null,8,["icon"])):A("",!0)])]),v("div",Wc,[s(g(E),{lines:"none",class:"section-header"},{default:i(()=>[s(g(qt),{icon:g(Ti),class:"section-icon"},null,8,["icon"]),s(g(ie),{class:"section-title"},{default:i(()=>j[17]||(j[17]=[C("Non-pharmacological therapy and other notes")])),_:1,__:[17]})]),_:1}),v("div",Gc,[s(Ao,{class:"intervention-component"}),v("div",jc,[s(g(E),{class:"notes-input-item"},{default:i(()=>[s(g(qt),{slot:"start",icon:g(t).editPen,class:"edit-icon","aria-hidden":"true"},null,8,["icon"]),s(g(Bs),{modelValue:We.value,"onUpdate:modelValue":j[8]||(j[8]=ce=>We.value=ce),onIonInput:Xe,placeholder:"Enter notes here...","auto-grow":!0,class:"notes-textarea",fill:"outline",style:{"--padding-start":"16px"}},null,8,["modelValue"])]),_:1})]),s(g(Gt),{ref:"accordionGroup",class:"previous-notes"},{default:i(()=>[s(g(jt),{value:"fourth","toggle-icon-slot":"start"},{default:i(()=>[s(g(E),{slot:"header",color:"light",class:"previous-notes-header"},{default:i(()=>[s(g(ie),null,{default:i(()=>j[18]||(j[18]=[C("Previous visit notes")])),_:1,__:[18]})]),_:1}),v("div",Yc,[v("div",Jc,[te.index===1?(p(!0),m(ne,{key:0},fe(Rt.value,(ce,Te)=>(p(),m("div",{key:Te,class:"note-entry"},[(p(!0),m(ne,null,fe(ce,(it,xt)=>(p(),m("div",{key:xt},[v("div",Kc,$(it.date),1),v("div",Qc,$(it.notes),1)]))),128))]))),128)):A("",!0),s(g(Gt),{onIonChange:Ci},{default:i(()=>[s(g(jt),{value:"third","toggle-icon-slot":"start"},{default:i(()=>[s(g(E),{slot:"header",color:"light",class:"show-more-header"},{default:i(()=>[s(g(ie),{color:"primary"},{default:i(()=>[C($(Lt.value),1)]),_:1})]),_:1}),v("div",Xc,[(p(!0),m(ne,null,fe(lt.value,(ce,Te)=>(p(),m("div",{key:Te,class:"note-entry"},[(p(!0),m(ne,null,fe(Os(ce),(it,xt)=>(p(),m("div",{key:xt},[v("div",Zc,$(it.date),1),v("div",eu,$(it.notes),1)]))),128))]))),128))])]),_:1})]),_:1})])])]),_:1})]),_:1},512)])])]),_:1})}}}),su=M(au,[["__scopeId","data-v-2a8c1a6c"]]),nu=V({components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,BasicInputField:W,IonDatetime:Oi},data(){return{iconsContent:w,calendarDate:"",date:new Date,bookedPatient:20,tomorrow:new Date().getDate()+1,appointment:"",drugRunoutDate:"",nextAppointmentDate:"",minDate:new Date}},computed:{...y(qs,["nextAppointment"])},watch:{calendarDate:{handler(){this.updateNextAppointment()},deep:!0}},async mounted(){const e=Ke.getUserID(),t=new De;this.appointment=new zo(t.getID(),e),this.nextAppointmentDate=this.appointment.date},methods:{updateNextAppointment(){qs().setNextAppointment(this.calendarDate)},handleDateUpdate(e){this.calendarDate=me.toStandardHisDisplayFormat(e),this.saveData()},async saveData(){try{const t=await this.appointment.getNextAppointment();this.nextAppointmentDate=t.appointment_date,this.drugRunoutDate=t.drugs_run_out_date,console.log(t)}catch(t){}const e=[await this.appointment.buildValueDate("Appointment date","2024-03-28"),await this.appointment.buildValueDate("Estimated date",this.nextAppointmentDate)];console.log("🚀 ~ mounted ~ ttt:",e)}}}),iu={class:"card_content"},ou={key:0},lu={style:{color:"#999"}},ru={class:"dates_title"},du={class:"sub_data"},cu={class:"dates_title"},uu={class:"sub_data"},hu={class:"dates_title"},pu={class:"sub_data"};function mu(e,t,a,n,o,r){const l=c("VueDatePicker"),u=c("ion-col"),h=c("ion-item"),f=c("ion-row");return p(),m("div",iu,[s(f,null,{default:i(()=>[s(u,{"size-sm":"12","size-md":"12","size-lg":"12","size-xl":"8"},{default:i(()=>[s(l,{class:"calender",onDateUpdate:e.handleDateUpdate,modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=_=>e.date=_),"min-date":e.minDate,inline:"","auto-apply":"","enable-time-picker":!1},{day:i(({day:_})=>[_===e.tomorrow?(p(),m("p",ou,[C($(_),1),v("sup",lu,$(e.bookedPatient),1)])):(p(),m(ne,{key:1},[C($(_),1)],64))]),_:1},8,["onDateUpdate","modelValue","min-date"])]),_:1}),s(u,null,{default:i(()=>[s(h,null,{default:i(()=>t[1]||(t[1]=[v("div",{class:"dates_title"},[v("div",null,"Next Vaccination date"),v("div",{class:"sub_data"},"20 June 2024 - 27 June 2024")],-1)])),_:1,__:[1]}),s(h,null,{default:i(()=>[v("div",ru,[t[2]||(t[2]=v("div",null,"User set appointment date",-1)),v("div",du,$(e.calendarDate),1)])]),_:1}),s(h,null,{default:i(()=>[v("div",cu,[t[3]||(t[3]=v("div",null,"Appointments",-1)),v("div",uu,$(e.bookedPatient),1)])]),_:1}),s(h,null,{default:i(()=>[v("div",hu,[t[4]||(t[4]=v("div",null,"Appointment limit (per/day)",-1)),v("div",pu,$(e.bookedPatient)+"/120",1)])]),_:1})]),_:1})]),_:1})])}const fu=M(nu,[["render",mu],["__scopeId","data-v-90d9f6bb"]]);function ot(e,t,a){var r,l,u,h;const n={Gravida:()=>wa(t,a),lmnpEED:()=>k.required(a),Stillbirths:()=>wa(t,a),LiveBirths:()=>k.required(a),Parity:()=>k.required(a),"Abortions/Miscarriages":()=>wa(t,a),specify:()=>wa(t,a),TetanusDosesForImmunisation:()=>k.required(a),NumberOfUnderImmunisedDoses:()=>k.required(a),tt1Date:()=>k.required(a),tt2Date:()=>k.required(a),tt3Date:()=>k.required(a),tt4Date:()=>k.required(a),tt5Date:()=>k.required(a),tt6Date:()=>k.required(a),tt7Date:()=>k.required(a),tt8Date:()=>k.required(a),tt9Date:()=>k.required(a),tt10Date:()=>k.required(a),tt11Date:()=>k.required(a),tt12Date:()=>k.required(a),tt13Date:()=>k.required(a),tt14Date:()=>k.required(a),tt15Date:()=>k.required(a),ReasonTTVnotConducted:()=>k.required(a),ExistingChronicConditions:()=>k.required(a),Medications:()=>k.required(a),DailyCaffeineIntake:()=>k.required(a),CurrentMedications:()=>k.required(a),SubstanceAbuse:()=>k.required(a),SecondHandSmoke:()=>k.required(a),"Who does the client live with":()=>k.required(a)},o=((r=n[t])==null?void 0:r.call(n))==null;return d(e,t,"alertsErrorMassage",!o),b(e,t,"alertsErrorMassage",!o),B(e,t,"alertsErrorMassage",!o),o||(d(e,t,"alertsErrorMassage",(l=n[t])==null?void 0:l.call(n)),b(e,t,"alertsErrorMassage",(u=n[t])==null?void 0:u.call(n)),B(e,t,"alertsErrorMassage",(h=n[t])==null?void 0:h.call(n))),o}function wa(e,t){if(e==="Gravida"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,1,15);if(o!==null)return o}else if(e==="Abortions/Miscarriages"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="Stillbirths"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="lmnpDate"){const a=k.required(t);if(a!==null)return a;const n=k.isDate(t);if(n!==null)return n}else if(e==="UltrasoundDate"){const a=k.required(t);if(a!==null)return a;const n=k.isDate(t);if(n!==null)return n}else if(e==="specify"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,0,42);if(o!==null)return o}else if(e==="Gestation age by palpation"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,4,36);if(o!==null)return o}else return null;return null}const _u=V({name:"Menu",components:{IonLabel:ie,IonTextarea:Bs,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F},data(){return{iconsContent:w,initialData:[]}},mounted(){this.handleOther();const e=ys();this.initialData=e.getInitial()},watch:{Medication:{handler(e){this.handleOther(),this.handleInputData(e)},deep:!0}},computed:{...y(ys,["Medication"]),Medications(){return Z(this.Medication,"Which medications is the woman currently prescribed?")}},setup(){return{checkmark:K,pulseOutline:X}},methods:{navigationMenu(e){$e.close(),this.$router.push(e)},validationRules(e){return ot(this.Medication,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)},handleOther(){var t;const e=["Oral PreP for HIV","Analgesic","Anti-consulsive","Anti-TB","Antihelmintic","Antimarials","Antitussive","Aspirin","Calcium","Doxylamine","Hematinic","Iron","Metoclopramide","Thyroid medication","Antiacids","Anti-psychotics","Anti-diabetic","Anti-hypertensive","ARVs","Antivirals","Asthamatic","Co-trimoxazole","Folic acid","Hemorrhoidal medication","Magnesium","Multivitamin","Vitamin A","Other"];(t=Z(this.Medication,"None"))!=null&&t.checked?e.forEach(a=>{B(this.Medication,a,"checked",!1),B(this.Medication,a,"disabled",!0)}):e.forEach(a=>{B(this.Medication,a,"disabled",!1)})}}}),vu={class:"container"};function gu(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",vu,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.Medication,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const yu=M(_u,[["render",gu],["__scopeId","data-v-fce72491"]]),bu=V({name:"Menu",components:{BasicForm:F,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W},data(){return{iconsContent:w,currentSection:0}},mounted(){Sa(),Sa(),this.handleNone()},watch:{dailyCaffeineIntake:{handler(e){this.handleNone(),this.handleInputData(e)},deep:!0}},computed:{...y(Sa,["dailyCaffeineIntake"]),...y(Sa,["Tobacco"]),DailyCaffeineIntake(){return Z(this.dailyCaffeineIntake,"Daily caffeine use")},SubstanceAbuse(){return S(this.Tobacco,"Recently quit tobacco products")},SecondHandSmoke(){return S(this.Tobacco,"Exposure to second hand smoke")}},setup(){return{checkmark:K,pulseOutline:X}},methods:{validationCaffeineRules(e){return ot(this.dailyCaffeineIntake,e.name,this[e.name])},validationTobaccoRules(e){return ot(this.dailyCaffeineIntake,e.name,this[e.name])},async handleInputData(e){this.validationCaffeineRules(e),this.validationTobaccoRules(e)},handleNone(){var t;const e=["More than 2 cups of coffee","More than 4 cups of tea","More than 12 bars of chocolate","More than one bottle of soda, energy, soft drink"];(t=Z(this.dailyCaffeineIntake,"None"))!=null&&t.checked?e.forEach(a=>{B(this.dailyCaffeineIntake,a,"checked",!1),B(this.dailyCaffeineIntake,a,"disabled",!0)}):e.forEach(a=>{B(this.dailyCaffeineIntake,a,"disabled",!1)})},navigationMenu(e){$e.close(),this.$router.push(e)}}}),Du={class:"container"};function Su(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Du,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.dailyCaffeineIntake,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.Tobacco,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Cu=M(bu,[["render",Su],["__scopeId","data-v-fcd67f7f"]]),wu=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F},data(){return{initialData:[],iconsContent:w}},mounted(){const e=Ws();this.initialData=e.getInitial(),this.handleDangerSigns()},watch:{PreviousVisit:{handler(e){},deep:!0},DangerSigns:{handler(){this.handleDangerSigns()},deep:!0}},computed:{...y(Ws,["DangerSigns"])},setup(){return{checkmark:K,pulseOutline:X}},methods:{navigationMenu(e){$e.close(),this.$router.push(e)},handleDangerSigns(){var t;const e=["Preterm labour","Central cyanosis","Unconscious","Fever","Imminent delivery","Severe headache","Severe vomiting","Severe abdominal pain","Draining liquor","Respiratory problems","Convulsion history","Vomiting","Oedema","Epigastric pain","Bleeding vaginally","Other"];(t=Z(this.DangerSigns,"None"))!=null&&t.checked?e.forEach(a=>{B(this.DangerSigns,a,"checked",!1),B(this.DangerSigns,a,"disabled",!0)}):e.forEach(a=>{B(this.DangerSigns,a,"disabled",!1)})}}}),Iu={class:"container"};function Pu(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Iu,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.DangerSigns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Nu=M(wu,[["render",Pu],["__scopeId","data-v-7b6416cc"]]),ku=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F},data(){return{initialData:[],iconsContent:w,confirmPregnancy:"",plannedPregnancy:""}},mounted(){const e=Gs();this.initialData=e.getInitial()},computed:{...y(Gs,["ConfirmPregnancy"])},setup(){return{checkmark:K,pulseOutline:X}},methods:{navigationMenu(e){$e.close(),this.$router.push(e)}}}),Bu={class:"container"};function Eu(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Bu,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.ConfirmPregnancy,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Vu=M(ku,[["render",Eu],["__scopeId","data-v-a137d033"]]);function Au(e,t,a){var r,l,u,h;const n={reasonVisitFacility:()=>k.required(a),dangerSigns:()=>k.required(a),pregnancyConfirmed:()=>k.required(a),pregnancyPlanned:()=>k.required(a),referWoman:()=>k.required(a)},o=((r=n[t])==null?void 0:r.call(n))==null;return d(e,t,"alertsErrorMassage",!o),b(e,t,"alertsErrorMassage",!o),B(e,t,"alertsErrorMassage",!o),o||(d(e,t,"alertsErrorMassage",(l=n[t])==null?void 0:l.call(n)),b(e,t,"alertsErrorMassage",(u=n[t])==null?void 0:u.call(n)),B(e,t,"alertsErrorMassage",(h=n[t])==null?void 0:h.call(n))),o}const $u=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F},data(){return{iconsContent:w,initialData:[]}},computed:{...y(Aa,["ReasonForVisit","ReasonForSubsequentVisit"]),reasonVisitFacility(){return S(this.ReasonForVisit,"Reason for visit")}},mounted(){const e=Aa();this.initialData=e.getInitial(),this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit(),this.handleFacility(),this.handleReffer()},watch:{ReasonForVisit:{handler(){this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit(),this.handleFacility(),this.handleReffer()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleInputData(e){Le(this.ReasonForVisit,no,e.name,e.value)},validationRules(e){return Au(this.ReasonForVisit,e.name,this[e.name])},async handleInputDataa(e){this.validationRules(e)},navigationMenu(e){$e.close(),this.$router.push(e)},handleFacility(){S(this.ReasonForVisit,"Reason for visit")=="facility"?d(this.ReasonForVisit,"facility for art","displayNone",!1):d(this.ReasonForVisit,"facility for art","displayNone",!0)},handleReffer(){S(this.ReasonForVisit,"Action for danger signs")=="Yes"?d(this.ReasonForVisit,"facility","displayNone",!1):d(this.ReasonForVisit,"facility","displayNone",!0)},handleFirstAntenalVisit(){var t,a;((t=Z(this.ReasonForVisit,"Other danger signs"))==null?void 0:t.value)=="other danger signs"?d(this.ReasonForVisit,"Other notes","displayNone",!1):d(this.ReasonForVisit,"Other notes","displayNone",!0);const e=["Pre-term labour","Central cyanosis","Unconscious","Fever","Imminent delivery","Severe headache","Severe vomiting","Severe abdominal pain","Draining liquor","Respiratory problems","Convulsion history","Vomiting","Oedema","Epigastric pain","Bleeding vaginally","Other danger signs","Abnormal vaginal discharge","Change in blood pressure-up","Diarrhoea","Vomiting","Genital ulcers","Change in blood pressure-down","Constipation","Contractions","Vaginal bleeding","Intimate partner violence","Flu symptoms","Painful urination","Headache","Dyspepsia","Frequent urination/Polyuria","Injury","Jaundice","Mental health-Depression","Genital warts","Itchy vulva","Painful intercourse","No health concerns","Other"];if((a=Z(this.ReasonForVisit,"None"))!=null&&a.checked)e.forEach(n=>{B(this.ReasonForVisit,n,"checked",!1),B(this.ReasonForVisit,n,"disabled",!0)}),b(this.ReasonForVisit,"Action for danger signs","selectedValue",""),b(this.ReasonForVisit,"Action for danger signs","displayNone",!0),b(this.ReasonForVisit,"Previous visits","displayNone",!0),d(this.ReasonForVisit,"notes","displayNone",!0),d(this.ReasonForVisit,"Number of previous visits","displayNone",!0);else{let n=!1;e.forEach(o=>{var r;(r=Z(this.ReasonForVisit,o))!=null&&r.checked&&(n=!0),B(this.ReasonForVisit,o,"disabled",!1)}),b(this.ReasonForVisit,"Action for danger signs","displayNone",!n)}S(this.ReasonForVisit,"Action for danger signs")=="No"?(ke(this.ReasonForVisit,"Specific health concerns","displayNone",!1),b(this.ReasonForVisit,"Previous visits","displayNone",!1)):(["Abnormal vaginal discharge","Change in blood pressure-up","Diarrhoea","Vomiting","Genital ulcers","Change in blood pressure-down","Constipation","Contractions","Vaginal bleeding","Intimate partner violence","Flu symptoms","Painful urination","Headache","Dyspepsia","Frequent urination/Polyuria","Injury","Jaundice","Mental health-Depression","Genital warts","Itchy vulva","Painful intercourse","No health concerns","Other"].forEach(o=>{B(this.ReasonForVisit,o,"checked",!1)}),ke(this.ReasonForVisit,"Specific health concerns","displayNone",!0),b(this.ReasonForVisit,"Specific health concerns","displayNone",!0))},handleSpecificConcernsVisit(){}}}),Mu={class:"container"};function Tu(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Mu,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.ReasonForVisit,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Ou=M($u,[["render",Tu],["__scopeId","data-v-9b877028"]]),Fu=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F},data(){return{iconsContent:w,healthConcern:"",initialData:[]}},watch:{HealthConcerns:{handler(){this.handleHealthconcerns()},deep:!0}},mounted(){const e=js();this.initialData=e.getInitial(),this.handleHealthconcerns()},computed:{...y(js,["HealthConcerns"])},setup(){return{checkmark:K,pulseOutline:X}},methods:{navigationMenu(e){$e.close(),this.$router.push(e)},handleHealthconcerns(){var t,a;((t=Z(this.HealthConcerns,"Other"))==null?void 0:t.value)=="other"?d(this.HealthConcerns,"Other","displayNone",!1):d(this.HealthConcerns,"Other","displayNone",!0);const e=["Abnormal vaginal discharge","Change in blood pressure-up","Diarrhoea","Vomiting","Genital ulcers","Change in blood pressure-down","Constipation","Contractions","Vaginal bleeding","Intimate partner violence","Flu symptoms","Painful urination","Dyspepsia","Itchy vulva","Headache","Heartburn","Frequent urination/Polyuria","Injury","Jaundice","Mental health-Depression","Genital warts","Painful intercourse","Other"];(a=Z(this.HealthConcerns,"None"))!=null&&a.checked?e.forEach(n=>{B(this.HealthConcerns,n,"checked",!1),B(this.HealthConcerns,n,"disabled",!0)}):e.forEach(n=>{B(this.HealthConcerns,n,"disabled",!1)})}}}),Hu={class:"container"};function Ru(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Hu,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.HealthConcerns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Lu=M(Fu,[["render",Ru],["__scopeId","data-v-6c9c9696"]]),xu=V({name:"BabyDetailsModal",components:{DynamicButton:Ve,IonModal:Fa,IonHeader:x,IonToolbar:R,IonTitle:L,IonButtons:Ps,IonButton:mt,IonContent:H,IonIcon:qt,BasicForm:F},data(){return{initialData:[]}},props:{isOpen:{type:Boolean,required:!0,default:!1},closeModalFunc:{type:Function,required:!0},onYes:{type:Function,required:!0},onNo:{type:Function,required:!0},title:{type:String,required:!0}},computed:{...y(qe,["babyDetails"]),...y(qe,["secondStageDetails"])},watch:{secondStageDetails:{async handler(){this.handleChangeDisplay()},deep:!0},babyDetails:{handler(){this.handleChangeDisplay();const e=["Prematurity","Sepsis","Congenital abnormalities","Asphyxia","Other complications","Low birthweight","Nursery"],t=["Kangaroo mother care","Antibiotics","Other"];this.handleComplicationCheck(e),this.handleNone(e,"None"),this.handleNone(t,"Routine newborn care"),this.handleCongenitalCheck(),this.handleAsphyxiaCheck(),this.handleResuscitationChange()},deep:!0}},methods:{async handleInputData(e){Le(this.babyDetails,bs,e.name,e.value)},closeOutline(){return Ra},closeModal(){this.closeModalFunc()},confirm(){this.onYes(),this.babyDetails=[],this.closeModal()},handleChangeDisplay(){const e=S(this.secondStageDetails,"Baby general condition at birth");this.babyDetailsDisplayNone(e=="Macerated stillbirth"||e=="Fresh stillbirth")},babyDetailsDisplayNone(e){d(this.babyDetails,"First name","displayNone",e),d(this.babyDetails,"Last name","displayNone",e),d(this.babyDetails,"Apgar score at 1 minute","displayNone",e),d(this.babyDetails,"Apgar score at 5 minute","displayNone",e),b(this.babyDetails,"Tetracycline eye ointment given","displayNone",e),b(this.babyDetails,"Chlorhexidine","displayNone",e),ke(this.babyDetails,"Newborn baby complications","displayNone",e),b(this.babyDetails,"Oxytocin 10 UI given","displayNone",e),b(this.babyDetails,"Vitamin K given","displayNone",e)},handleNone(e,t){var a;(a=Z(this.babyDetails,t))!=null&&a.checked?e.forEach(n=>{B(this.babyDetails,n,"checked",!1),B(this.babyDetails,n,"disabled",!0)}):e.forEach(n=>{B(this.babyDetails,n,"disabled",!1)})},handleComplicationCheck(e){let t=!1;e.forEach(a=>{var n;t=t||((n=Z(this.babyDetails,a))==null?void 0:n.checked)}),ke(this.babyDetails,"Management to newborn","displayNone",!t)},handleCongenitalCheck(){var t;const e=(t=Z(this.babyDetails,"Congenital abnormalities"))==null?void 0:t.checked;d(this.babyDetails,"Specify","displayNone",!e)},handleAsphyxiaCheck(){var t;const e=(t=Z(this.babyDetails,"Asphyxia"))==null?void 0:t.checked;b(this.babyDetails,"Resuscitation attempt","displayNone",!e)},handleResuscitationChange(){const e=S(this.babyDetails,"Resuscitation attempt")=="Yes";b(this.babyDetails,"Type of resuscitation","displayNone",!e)}}}),Uu={style:{display:"flex"}};function zu(e,t,a,n,o,r){const l=c("ion-title"),u=c("basic-form"),h=c("DynamicButton"),f=c("ion-content"),_=c("ion-modal");return p(),O(_,{"is-open":e.isOpen,"show-backdrop":!0,onDidDismiss:e.closeModal},{default:i(()=>[s(f,null,{default:i(()=>[s(l,{style:{color:"black"}},{default:i(()=>[C($(e.title),1)]),_:1}),s(u,{contentData:e.babyDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),v("div",Uu,[s(h,{expand:"block",onClick:t[0]||(t[0]=D=>e.confirm()),name:"Save",style:"flex:1"}),s(h,{expand:"block",onClick:t[1]||(t[1]=D=>e.onNo()),style:"flex:1",name:"Cancel",fill:"clear"})])]),_:1})]),_:1},8,["is-open","onDidDismiss"])}const Ms=M(xu,[["render",zu],["__scopeId","data-v-b227def4"]]),qu=V({components:{IonButton:mt,BabyDetailsModal:Ms,IonToggle:se,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,BasicInputField:W,BasicForm:F,FeatusModal:mi},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],FeatusModalOpen:!1,arrayOfFeatus:[],selectedFeatus:0,fetalsDetails:[]}},computed:{...y(ht,["fetalAssessment","fetalDetails"])},mounted(){this.handleFetalAssessment(),this.handleFetalRate()},watch:{fetalAssessment:{handler(){this.handleFetalAssessment(),this.handleFetalRate()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleInputData(e){Le(this.fetalAssessment,si,e.name,e.value)},selectFeatus(e){this.selectedFeatus=e;const t=this.fetalsDetails.find(n=>n.featus==e);ht().setFetalDetails(t.details),this.toggleFetalModal()},handleNumberOfBabies(){const e=Y(this.fetalAssessment,"Number of fetuses","value");this.arrayOfFeatus=[...Array(Number(e)).keys()]},handleAddFeatusDetails(e){ht().setFetalDetails(),this.selectedFeatus=e,this.toggleFetalModal()},closeFetalModal(){},handleFeatusYes(){this.toggleFetalModal();const e=ht(),t=this.fetalsDetails.findIndex(a=>a.featus==this.selectedFeatus);t<0?this.fetalsDetails.push({featus:this.selectedFeatus,details:[...Pe.cloneDeep(e.fetalDetails)]}):this.fetalsDetails[t].details=[...Pe.cloneDeep(e.fetalDetails)],e.setFetalDetails()},handleFeatusNo(){this.toggleFetalModal(),ht().fetalAssessment.setFetalDetals()},toggleFetalModal(){this.FeatusModalOpen=!this.FeatusModalOpen},navigationMenu(e){$e.close(),this.$router.push(e)},checkIfSubmitted(e){return this.fetalsDetails.find(t=>t.featus==e)},handleFetalAssessment(){S(this.fetalAssessment,"Number of fetuses known")=="yes"?d(this.fetalAssessment,"Number of fetuses","displayNone",!1):d(this.fetalAssessment,"Number of fetuses","displayNone",!0)},handleFetalRate(){S(this.fetalAssessment,"Fetal heartbeat")=="yes"?(d(this.fetalAssessment,"Fetal heart rate","displayNone",!1),d(this.fetalAssessment,"Repeated fetal rate","displayNone",!1)):(d(this.fetalAssessment,"Fetal heart rate","displayNone",!1),d(this.fetalAssessment,"Repeated fetal rate","displayNone",!1))}}}),Wu={class:"container"},Gu={key:0};function ju(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("FeatusModal"),_=c("ion-button"),D=c("ion-card-content"),P=c("ion-card");return p(),m("div",Wu,[s(P,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[C("Fetal assessment results")])),_:1,__:[0]})]),_:1}),s(D,null,{default:i(()=>[s(h,{contentData:e.fetalAssessment,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),s(f,{closeModalFunc:e.closeFetalModal,onYes:e.handleFeatusYes,onNo:e.handleFeatusNo,isOpen:e.FeatusModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfFeatus.length>0?(p(),m("div",Gu,[(p(!0),m(ne,null,fe(e.arrayOfFeatus,N=>(p(),m("div",{key:N},[e.checkIfSubmitted(N)?A("",!0):(p(),O(_,{key:0,onClick:G=>e.handleAddFeatusDetails(N)},{default:i(()=>[C("Add Featus "+$(N+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(N)?(p(),O(_,{key:1,onClick:G=>e.selectFeatus(N)},{default:i(()=>[C("View Featus "+$(N+1),1)]),_:2},1032,["onClick"])):A("",!0)]))),128))])):A("",!0)]),_:1})]),_:1})])}const Yu=M(qu,[["render",ju],["__scopeId","data-v-27efabcc"]]),Ju=V({components:{IonToggle:se,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,BasicInputField:W,BasicForm:F},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[]}},computed:{...y(Ds,["fetalPresentation"])},mounted(){Ke.getUserID(),Ds(),this.handleFetalPresentation()},watch:{fetalPresentation:{handler(){this.handleFetalPresentation()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{navigationMenu(e){$e.close(),this.$router.push(e)},handleFetalPresentation(){S(this.fetalPresentation,"Fetal presentation")=="other"?d(this.fetalPresentation,"Other (specify)","displayNone",!1):d(this.fetalPresentation,"Other (specify)","displayNone",!0)}}}),Ku={class:"container"};function Qu(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",Ku,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[C("Fetal presentation result")])),_:1,__:[0]})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.fetalPresentation},null,8,["contentData"])]),_:1})]),_:1})])}const Xu=M(Ju,[["render",Qu],["__scopeId","data-v-39aabab1"]]),Zu=V({components:{IonToggle:se,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,BasicInputField:W,BasicForm:F},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],initialRespiratory:[],initialBreastExam:[],initialPallor:[],initialOedema:[],initialCervicalExam:[],initialVaginalExam:[]}},computed:{...y(dt,["respiratory"]),...y(dt,["pallor"]),...y(dt,["breastExam"]),...y(dt,["vaginalInspection"]),...y(dt,["cervicalExam"]),...y(dt,["oedemaPresence"])},mounted(){Ke.getUserID();const e=dt();this.initialBreastExam=e.getInitialBreastExam();const t=dt();this.initialOedema=t.getInitialOedema();const a=dt();this.initialVaginalExam=a.getInitialVaginalInspection();const n=dt();this.initialCervicalExam=n.getInitialCervicalExam();const o=dt();this.initialPallor=o.getInitialPallor();const r=dt();this.initialRespiratory=r.getInitialRespiratoryExam(),this.handleBreastExams(),this.handleVaginalInspection()},watch:{breastExam:{handler(){this.handleBreastExams()},deep:!0},vaginalInspection:{handler(){this.handleVaginalInspection()},deep:!0},cervicalExam:{handler(){},deep:!0},oedemaPresence:{handler(){},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleInputData(e){Le(this.vaginalInspection,io,e.name,e.value)},navigationMenu(e){$e.close(),this.$router.push(e)},handleBreastExams(){var t;const e=["Normal breast exam result","Bleeding","Tenderness","Other","Breast","Nodule","Discharge","Flushing","Local pain","Increased temperature","Epigastric pain","Other breast exams"];(t=Z(this.breastExam,"No breast exam conducted"))!=null&&t.checked?e.forEach(a=>{B(this.breastExam,a,"checked",!1),B(this.breastExam,a,"disabled",!0)}):e.forEach(a=>{B(this.breastExam,a,"disabled",!1)})},handleVaginalInspection(){var t;const e=["Normal vaginal exam result","Nothing abnormal observed","Other","Evidence of amniotic fluid","Genital pain","Abnormal discharge","Papules","Ulcers","Ulcers","Warts","Vesicles","Bleeding","Other"];(t=Z(this.vaginalInspection,"No vaginal inspection done"))!=null&&t.checked?e.forEach(a=>{B(this.vaginalInspection,a,"checked",!1),B(this.vaginalInspection,a,"disabled",!0)}):e.forEach(a=>{B(this.vaginalInspection,a,"disabled",!1)})}}}),eh={class:"container"};function th(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",eh,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.respiratory,initialData:e.initialRespiratory,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.breastExam,initialData:e.initialBreastExam,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.vaginalInspection,initialData:e.initialVaginalExam,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.pallor,initialData:e.initialPallor,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.cervicalExam,initialData:e.initialCervicalExam,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.oedemaPresence,initialData:e.initialOedema,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const ah=M(Zu,[["render",th],["__scopeId","data-v-4990371e"]]),sh=V({components:{IonToggle:se,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,BasicInputField:W,BasicForm:F},data(){return{iconsContent:w,currentSection:0,vValidations:"",hasValidationErrors:[],initialData:[]}},computed:{...y(Ys,["presentingSigns"])},mounted(){const e=Ys();this.initialData=e.getInitialPresentingSigns()},watch:{},setup(){return{checkmark:K,pulseOutline:X}},methods:{navigationMenu(e){$e.close(),this.$router.push(e)}}}),nh={class:"container"};function ih(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",nh,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.presentingSigns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const oh=M(sh,[["render",ih],["__scopeId","data-v-36e0ccf2"]]),lh=V({name:"Current",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,currentPregnanciesInstance:{},inputField:"",setName:"",initialData:[],initialData1:[],initialData2:[]}},computed:{...y(ut,["palpation"]),...y(ut,["lmnp"]),...y(ut,["tetanus"]),...y(ut,["tetanus"]),...y(ut,["ultrasound"]),lmnpGestationAge(){return Y(this.lmnp,"lmnpGestationAge","value")},lmnpDate(){return Y(this.lmnp,"lmnpDate","value")},UltrasoundDate(){return Y(this.lmnp,"Ultrasound","value")},specify(){return Y(this.lmnp,"specify","value")},"Gestation age by palpation"(){return Y(this.lmnp,"Gestation age by palpation","value")},tt1Date(){return Y(this.lmnp,"tt1Date","value")},tt2Date(){return Y(this.lmnp,"tt1Date","value")},tt3Date(){return Y(this.lmnp,"tt1Date","value")},tt4Date(){return Y(this.lmnp,"tt1Date","value")},tt5Date(){return Y(this.lmnp,"tt1Date","value")},tt6Date(){return Y(this.lmnp,"tt1Date","value")},tt7Date(){return Y(this.lmnp,"tt1Date","value")},tt8Date(){return Y(this.lmnp,"tt1Date","value")},tt9Date(){return Y(this.lmnp,"tt1Date","value")},tt10Date(){return Y(this.lmnp,"tt1Date","value")},tt11Date(){return Y(this.lmnp,"tt1Date","value")},tt12Date(){return Y(this.lmnp,"12","value")},tt13Date(){return Y(this.lmnp,"13","value")},tt14Date(){return Y(this.lmnp,"14","value")},tt15Date(){return Y(this.lmnp,"15","value")}},mounted(){ut();const e=ut(),t=ut(),a=ut();this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleTetanus(),this.calculateEDD,this.validaterowData({}),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},setup(){return{checkmark:K,pulseOutline:X}},watch:{lmnp:{handler(e){this.handleInputData(e),this.calculateEDD(e),this.lmnp,this.handleTetanus(),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},deep:!0}},methods:{async handleImmunValidation(e){Le(this.lmnp,ni,e.name,e.value)},validationRules(e){return ot(this.lmnp,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},async handleInputData(e){this.handleImmunValidation(e),this.validaterowData(e),this.calculateGestationAgefromLNMP(e),this.calculateEDD(e),this.calculateEDDFromGestationAge(e),this.calculateLNMPdatefromAge(e),this.calculateEDDFromPalpation(e),this.handleLMNPDateRange(e),this.handleUltraSoundDateRange(e)},handleLMNPDateRange(e){const t=new Date,a=new Date(t);a.setDate(t.getDate()-36*7);const n=a.toISOString().split("T")[0],o=t.toISOString().split("T")[0];d(this.lmnp,"lmnpDate","minDate",n),d(this.lmnp,"lmnpDate","maxDate",o)},handleUltraSoundDateRange(e){const t=new Date,a=new Date(t);a.setDate(t.getDate()-36*7);const n=a.toISOString().split("T")[0],o=t.toISOString().split("T")[0];d(this.lmnp,"Ultrasound","minDate",n),d(this.lmnp,"Ultrasound","maxDate",o)},calculateGestationAgefromLNMP(e){if(e.name=="lmnpDate"){const t=Date.parse(Y(this.lmnp,"lmnpDate","value"));if(isNaN(t))d(this.lmnp,"lmnpGestationAge","value",null);else{const n=(new Date().getTime()-t)/(1e3*60*60*24),o=Math.floor(n/7);d(this.lmnp,"lmnpGestationAge","value",o)}}},calculateEDD(e){if(e.name==="lmnpDate"){const t=Date.parse(Y(this.lmnp,"lmnpDate","value"));if(isNaN(t))d(this.lmnp,"Estimated date of delivery","value",null);else{const a=new Date(t+24192e6);d(this.lmnp,"Estimated date of delivery","value",a)}}},calculateEDDFromGestationAge(e){if(e.name==="specify"){const t=parseInt(Y(this.lmnp,"specify","value"));if(isNaN(t))d(this.lmnp,"Estimated date of delivery from ultrasound","value",null);else{const a=new Date,n=new Date(a.getTime()-t*7*24*60*60*1e3),o=new Date(n.getTime()+280*24*60*60*1e3);d(this.lmnp,"Estimated date of delivery from ultrasound","value",o)}}},calculateLNMPdatefromAge(e){if(e.name==="specify"){const t=parseInt(Y(this.lmnp,"specify","value"));if(isNaN(t))d(this.lmnp,"ultrasound lmnp date","value",null);else{const a=new Date,n=new Date(a.getTime()-t*7*24*60*60*1e3);d(this.lmnp,"ultrasound lmnp date","value",n)}}},calculateEDDFromPalpation(e){if(e.name==="Gestation age by palpation"){const t=parseInt(Y(this.lmnp,"Gestation age by palpation","value"));if(isNaN(t))d(this.lmnp,"date of delivery","value",null);else{const a=new Date,n=new Date(a.getTime()-t*7*24*60*60*1e3),o=new Date(n.getTime()+280*24*60*60*1e3);d(this.lmnp,"date of delivery","value",o)}}},handleTetanus(){S(this.lmnp,"The woman received tetanus doses for immunization?")=="fully immunised"?(d(this.lmnp,"tt1Date","displayNone",!1),d(this.lmnp,"tt2Date","displayNone",!1),d(this.lmnp,"tt3Date","displayNone",!1),d(this.lmnp,"tt4Date","displayNone",!1),d(this.lmnp,"tt5Date","displayNone",!1)):(d(this.lmnp,"tt1Date","displayNone",!0),d(this.lmnp,"tt2Date","displayNone",!0),d(this.lmnp,"tt3Date","displayNone",!0),d(this.lmnp,"tt4Date","displayNone",!0),d(this.lmnp,"tt5Date","displayNone",!0))},handleUnderImmunised(){S(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?b(this.lmnp,"Number of tetanus doses","displayNone",!1):b(this.lmnp,"Number of tetanus doses","displayNone",!0)},handleOneDose(){S(this.lmnp,"Number of tetanus doses")=="one dose"&&S(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?d(this.lmnp,"tt6Date","displayNone",!1):d(this.lmnp,"tt6Date","displayNone",!0)},handleTwoDose(){S(this.lmnp,"Number of tetanus doses")=="two doses"&&S(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?(d(this.lmnp,"tt7Date","displayNone",!1),d(this.lmnp,"tt8Date","displayNone",!1)):(d(this.lmnp,"tt7Date","displayNone",!0),d(this.lmnp,"tt8Date","displayNone",!0))},handleThreeDose(){S(this.lmnp,"Number of tetanus doses")=="three doses"&&S(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?(d(this.lmnp,"tt9Date","displayNone",!1),d(this.lmnp,"tt10Date","displayNone",!1),d(this.lmnp,"tt11Date","displayNone",!1)):(d(this.lmnp,"tt9Date","displayNone",!0),d(this.lmnp,"tt10Date","displayNone",!0),d(this.lmnp,"tt11Date","displayNone",!0))},handleFourDose(){S(this.lmnp,"Number of tetanus doses")=="four doses"&&S(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?(d(this.lmnp,"12","displayNone",!1),d(this.lmnp,"13","displayNone",!1),d(this.lmnp,"14","displayNone",!1),d(this.lmnp,"15","displayNone",!1)):(d(this.lmnp,"12","displayNone",!0),d(this.lmnp,"13","displayNone",!0),d(this.lmnp,"14","displayNone",!0),d(this.lmnp,"15","displayNone",!0))},handleNodoses(){S(this.lmnp,"The woman received tetanus doses for immunization?")=="no doses"?b(this.lmnp,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!1):b(this.lmnp,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!0)},handleOtherDoses(){S(this.lmnp,"Reason Tetanus toxoid (TT) was not conducted")=="other"&&S(this.lmnp,"The woman received tetanus doses for immunization?")=="no doses"?d(this.lmnp,"Other","displayNone",!1):d(this.lmnp,"Other","displayNone",!0)}}}),rh={class:"container"};function dh(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",rh,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.lmnp,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,initialData:e.initialData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","initialData"])]),_:1})]),_:1})])}const ch=M(lh,[["render",dh],["__scopeId","data-v-935ab386"]]),uh=V({name:"History",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{modeOfDelieveryRef:{},iconsContent:w,vValidations:"",hasValidationErrors:[],prevPregnanciesInstance:{},modeOfDeliveryInstance:{},currentSection:0,inputField:"",alertMessage:""}},computed:{...y(Tt,["prevPregnancies"]),...y(Tt,["preterm"]),...y(Tt,["abnormalities"]),...y(Tt,["modeOfDelivery"]),...y(Tt,["Complications"]),Stillbirths(){return Y(this.prevPregnancies,"Stillbirths","value")},Gravida(){return Y(this.prevPregnancies,"Gravida","value")},LiveBirths(){return Y(this.prevPregnancies,"LiveBirths","value")},Parity(){return Y(this.prevPregnancies,"Parity","value")},"Abortions/Miscarriages"(){return Y(this.prevPregnancies,"Abortions/Miscarriages","value")}},created(){this.modeOfDelieveryRef={...this.modeOfDelivery[0],...this.modeOfDelivery[1]}},mounted(){this.prevPregnanciesInstance=Tt(),this.handleOther(),this.handleDynamic(),this.handleGravida(event),this.validaterowData({})},watch:{LiveBirths:{handler(e){(e==0||!e)&&this.prevPregnanciesInstance.setModeOfDelivery(0)}},prevPregnancies:{handler(e){if(e&&e[2].data.rowData[0].colData[0].value){const t=parseInt(e[2].data.rowData[0].colData[0].value);this.prevPregnanciesInstance.setModeOfDelivery(t)}this.handleGravida(e),this.handleOther()},deep:!0},modeOfDelivery:{handler(){this.handleDynamic(),this.prevPregnanciesInstance.checkChanges()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleObstreticValidation(e){Le(this.prevPregnancies,Vs,e.name,e.value)},handleOther(){var t,a;((t=Z(this.prevPregnancies,"Other"))==null?void 0:t.value)=="other"?d(this.prevPregnancies,"Other notes","displayNone",!1):d(this.prevPregnancies,"Other notes","displayNone",!0);const e=["Asphyxia","Does not know","Pre-eclampsia","Eclampsia","Puerperal Sepsis","Baby died within 24hrs of birth","Convulsions","Forceps","Gestational diabetes mellitus","Heavy bleeding","Macrosomia","Perineal tear (3rd or 4th degree)","Other"];(a=Z(this.prevPregnancies,"None"))!=null&&a.checked?e.forEach(n=>{B(this.prevPregnancies,n,"checked",!1),B(this.prevPregnancies,n,"disabled",!0)}):e.forEach(n=>{B(this.prevPregnancies,n,"disabled",!1)})},handleDynamic(){S(this.modeOfDelivery,"Mode of delivery")=="caesarean section"?d(this.modeOfDelivery,"Specify","displayNone",!1):d(this.modeOfDelivery,"Specify","displayNone",!0)},handleAlert(e){ii(this.modeOfDelivery,"Mode of delivery",e.id)=="caesarean section"?$a(e.id,this.modeOfDelivery,"Specify","displayNone",!1):$a(e.id,this.modeOfDelivery,"Specify","displayNone",!0)},validationRules(e){return ot(this.prevPregnancies,e.name,this[e.name])},async handleInputData(e){this.validaterowData(e),this.handleObstreticValidation(e),this.calculateParity(e),this.calculateLiveBirths(e)},validaterowData(e){},calculateLiveBirths(e){if(e.name==="Parity"||e.name==="Stillbirths"){const t=parseInt(Y(this.prevPregnancies,"Stillbirths","value")),a=parseInt(Y(this.prevPregnancies,"Parity","value"));if(!isNaN(t)&&!isNaN(a)){const n=a-t;d(this.prevPregnancies,"LiveBirths","value",n)}else d(this.prevPregnancies,"LiveBirths","value",null)}},calculateParity(e){if(e.name==="Gravida"||e.name==="Abortions/Miscarriages"){const t=parseInt(Y(this.prevPregnancies,"Gravida","value")),a=parseInt(Y(this.prevPregnancies,"Abortions/Miscarriages","value"));if(!isNaN(t)&&!isNaN(a)){const n=t-a-1;d(this.prevPregnancies,"Parity","value",n)}else d(this.prevPregnancies,"Parity","value",null)}},handleGravida(e){const t=Y(this.prevPregnancies,"Gravida","value"),a="First pregnancy, take note",n=this.prevPregnancies[0].alerts.findIndex(o=>o.value===a);t===null||t===""?(d(this.prevPregnancies,"Abortions/Miscarriages","value",""),d(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),d(this.prevPregnancies,"Stillbirths","value",""),d(this.prevPregnancies,"Stillbirths","disabled",!1),d(this.prevPregnancies,"LiveBirths","value",""),d(this.prevPregnancies,"LiveBirths","disabled",!1),d(this.prevPregnancies,"Parity","value",""),d(this.prevPregnancies,"Parity","disabled",!1),n!==-1&&this.prevPregnancies[0].alerts.splice(n,1)):t==1?(b(this.prevPregnancies,"Was last live birth preterm?","displayNone",!0),b(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!0),b(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!0),ke(this.prevPregnancies,"past pregnancies complications","displayNone",!0),d(this.prevPregnancies,"Abortions/Miscarriages","value",""),d(this.prevPregnancies,"Abortions/Miscarriages","disabled",!0),d(this.prevPregnancies,"Stillbirths","value",""),d(this.prevPregnancies,"Stillbirths","disabled",!0),d(this.prevPregnancies,"LiveBirths","value",""),d(this.prevPregnancies,"LiveBirths","disabled",!0),d(this.prevPregnancies,"Parity","value",""),d(this.prevPregnancies,"Parity","disabled",!0),n===-1&&this.prevPregnancies[0].alerts.push({backgroundColor:"#FFD700",status:"info",icon:"info-circle",textColor:"#000000",value:a,name:"LiveBirths"})):(b(this.prevPregnancies,"Was last live birth preterm?","displayNone",!1),b(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!1),b(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!1),ke(this.prevPregnancies,"past pregnancies complications","displayNone",!1),d(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),d(this.prevPregnancies,"Stillbirths","disabled",!1),d(this.prevPregnancies,"LiveBirths","disabled",!1),d(this.prevPregnancies,"Parity","disabled",!1),n!==-1&&this.prevPregnancies[0].alerts.splice(n,1))}}}),hh={class:"container"};function ph(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",hh,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.prevPregnancies,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),s(l,{contentData:e.modeOfDelivery,"onUpdate:inputValue":e.handleAlert},null,8,["contentData","onUpdate:inputValue"]),s(l,{contentData:e.preterm},null,8,["contentData"])]),_:1})]),_:1})])}const mh=M(uh,[["render",ph],["__scopeId","data-v-9840a2eb"]]),fh=V({name:"Ultrasound",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonTitle:L,IonToolbar:R,IonMenu:z,menuController:$e,IonToggle:se,IonSelectOption:oe,IonInput:J,IonSelect:le,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,labTestsInstance:{},currentSection:0}},mounted(){this.handleUltraDate(),this.handleReason(),this.handleUltraNotDone()},watch:{ultrasound:{handler(){this.handleUltraDate(),this.handleReason()},deep:!0},reason:{handler(){this.handleUltraNotDone()},deep:!0}},computed:{...y(Js,["reason"]),...y(Js,["ultrasound"])},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleUltraDate(){const e=S(this.ultrasound,"Ultrasound scan status")=="Scan required",t=S(this.ultrasound,"Ultrasound scan status")=="Scan ordered",a=S(this.ultrasound,"Ultrasound scan status")=="Scan conducted";e||t||a?(d(this.ultrasound,"Scan date","displayNone",!1),b(this.reason,"Amniotic fluid level","displayNone",!1),d(this.reason,"Amniotic fluid level result","displayNone",!1),b(this.reason,"Placenta location","displayNone",!1)):(d(this.ultrasound,"Scan date","displayNone",!0),b(this.reason,"Amniotic fluid level","displayNone",!0),b(this.reason,"Placenta location","displayNone",!0),d(this.reason,"Amniotic fluid level result","displayNone",!0))},handleReason(){S(this.ultrasound,"Ultrasound scan status")=="NOT done"?b(this.reason,"Reason not done","displayNone",!1):b(this.reason,"Reason not done","displayNone",!0)},handleUltraNotDone(){S(this.reason,"Reason not done")=="Other reason"?d(this.reason,"specify","displayNone",!1):d(this.reason,"specify","displayNone",!0)}}}),_h={class:"container"};function vh(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",_h,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.ultrasound},null,8,["contentData"]),s(l,{contentData:e.reason},null,8,["contentData"])]),_:1})]),_:1})])}const gh=M(fh,[["render",vh],["__scopeId","data-v-cc319db3"]]),yh=V({name:"UrineTest",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonTitle:L,IonToolbar:R,IonRow:_t,IonMenu:z,menuController:$e,IonToggle:se,IonSelectOption:oe,IonInput:J,IonSelect:le,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,urineTestInstance:{},currentSection:0}},computed:{...y(Ut,["urineTest"]),...y(Ut,["protein"]),...y(Ut,["nitrites"]),...y(Ut,["culture"]),...y(Ut,["gram"]),...y(Ut,["leukocytes"]),...y(Ut,["glucose"])},mounted(){this.handleTestNotDone(),this.handleOtherNotDone(),this.handleTypeofTest(),this.handleFirstTest(),this.handleThirdTest()},watch:{urineTest:{handler(){this.handleTestNotDone(),this.handleOtherNotDone(),this.handleTypeofTest(),this.handleFirstTest(),this.handleThirdTest()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleTestNotDone(){S(this.urineTest,"Urine test status")=="Test not done"?ke(this.urineTest,"Reason not done","displayNone",!1):ke(this.urineTest,"Reason not done","displayNone",!0)},handleOtherNotDone(){var e;((e=Z(this.urineTest,"Other"))==null?void 0:e.value)=="Other"?d(this.urineTest,"Other (specify)","displayNone",!1):d(this.urineTest,"Other (specify)","displayNone",!0)},handleTypeofTest(){S(this.urineTest,"Urine test status")=="Test conducted"?b(this.urineTest,"Urine test","displayNone",!1):b(this.urineTest,"Urine test","displayNone",!0)},handleFirstTest(){S(this.urineTest,"Urine test")=="Midstream urine culture"?b(this.culture,"Midstream urine culture result","displayNone",!1):b(this.culture,"Midstream urine culture result","displayNone",!0)},handleSecondTest(){S(this.urineTest,"Urine test")=="Midstream urine gram-staining"?b(this.gram,"Midstream urine gram-staining result","displayNone",!1):b(this.gram,"Midstream urine gram-staining result","displayNone",!0)},handleThirdTest(){S(this.urineTest,"Urine test")=="Urine dipstick"?(b(this.nitrites,"Nitrites dipstick test result","displayNone",!1),b(this.protein,"Protein dipstick test result","displayNone",!1),b(this.leukocytes,"Leukocytes dipstick test result","displayNone",!1),b(this.glucose,"Glucose dipstick test result","displayNone",!1)):(b(this.nitrites,"Nitrites dipstick test result","displayNone",!0),b(this.protein,"Protein dipstick test result","displayNone",!0),b(this.leukocytes,"Leukocytes dipstick test result","displayNone",!0),b(this.glucose,"Glucose dipstick test result","displayNone",!0))}}}),bh={class:"container"};function Dh(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",bh,[e.currentSection===0?(p(),O(_,{key:0,class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.urineTest},null,8,["contentData"]),s(h,{contentData:e.culture},null,8,["contentData"]),s(h,{contentData:e.gram},null,8,["contentData"]),s(h,{contentData:e.nitrites},null,8,["contentData"]),s(h,{contentData:e.leukocytes},null,8,["contentData"]),s(h,{contentData:e.protein},null,8,["contentData"]),s(h,{contentData:e.glucose},null,8,["contentData"])]),_:1})]),_:1})):A("",!0)])}const Sh=M(yh,[["render",Dh],["__scopeId","data-v-97bdbffa"]]),Ch=V({name:"TB screening",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonTitle:L,IonToolbar:R,IonMenu:z,menuController:$e,IonToggle:se,IonSelectOption:oe,IonInput:J,IonSelect:le,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,labTestsInstance:{},currentSection:0}},computed:{...y(Ks,["reasons"]),...y(Ks,["tbTest"])},mounted(){this.handleResults(),this.handleDate(),this.handleNotDone(),this.handleOther()},watch:{tbTest:{handler(){this.handleResults(),this.handleDate(),this.handleNotDone()},deep:!0},reasons:{handler(){this.handleOther()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{goToNextSection(){this.currentSection<1&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--},handleResults(){S(this.tbTest,"TB screening status")=="Screening conducted"?b(this.tbTest,"TB screening results","displayNone",!1):b(this.tbTest,"TB screening results","displayNone",!0)},handleDate(){S(this.tbTest,"TB screening status")=="Screening conducted"?d(this.tbTest,"Screening date","displayNone",!1):d(this.tbTest,"Screening date","displayNone",!0)},handleNotDone(){S(this.tbTest,"TB screening status")=="Screening not done"?ke(this.reasons,"Reason not done","displayNone",!1):ke(this.reasons,"Reason not done","displayNone",!0)},handleOther(){var e;((e=Z(this.reasons,"Other"))==null?void 0:e.value)=="Other"?d(this.reasons,"Other (specify)","displayNone",!1):d(this.reasons,"Other (specify)","displayNone",!0)}}}),wh={class:"container"};function Ih(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",wh,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.tbTest},null,8,["contentData"]),s(h,{contentData:e.reasons},null,8,["contentData"])]),_:1})]),_:1})])}const Ph=M(Ch,[["render",Ih],["__scopeId","data-v-289c777f"]]),bi=je("diagnosisStore",{state:()=>({diagnoses:[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Patient diagnosis",selectedValue:"",class:"bold",name:"Diagnosis"},data:[{name:"Hypertension",value:"Hypertension",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Pre-eclampsia",value:"Pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Diagnosis"},data:[{name:"HIV",value:"HIV",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Hepatitis B",value:"Hepatitis B",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Diagnosis"},data:[{name:"Hepatitis C",value:"Hepatitis C",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Syphilis",value:"Syphilis",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Diagnosis"},data:[{name:"Pre-eclampsia with Severe Features",value:"Pre-eclampsia with Severe Features",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}}]}),actions:{setDiagnoses(e){this.diagnoses=e}},persist:!0}),Nh=V({name:"diagnosisTreatment",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonTitle:L,IonToolbar:R,IonMenu:z,menuController:$e,IonToggle:se,IonSelectOption:oe,IonInput:J,IonSelect:le,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{currentSection:0}},setup(){return{checkmark:K,pulseOutline:X}},computed:{...y(bi,["diagnoses"])},mounted(){this.handleNone()},watch:{diagnoses:{handler(){this.handleNone()},deep:!0},hypertensionReason:{handler(){},deep:!0}},methods:{goToNextSection(){this.currentSection<4&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--},handleNone(){var t;const e=["Hypertension","Pre-eclampsia","HIV","Hepatitis B","Hepatitis C","Syphilis","Pre-eclampsia with Severe Features"];(t=Z(this.diagnoses,"None"))!=null&&t.checked?e.forEach(a=>{B(this.diagnoses,a,"checked",!1),B(this.diagnoses,a,"disabled",!0)}):e.forEach(a=>{B(this.diagnoses,a,"disabled",!1)})}}}),kh={class:"container"};function Bh(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",kh,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.diagnoses},null,8,["contentData"])]),_:1})]),_:1})])}const Eh=M(Nh,[["render",Bh],["__scopeId","data-v-205b8a5f"]]);function Cn(e,t,a){var r,l,u,h;const n={"iron Amount":()=>wn(t,a),"Amount of Folic acid":()=>wn(t,a)},o=((r=n[t])==null?void 0:r.call(n))==null;return d(e,t,"alertsErrorMassage",!o),b(e,t,"alertsErrorMassage",!o),B(e,t,"alertsErrorMassage",!o),o||(d(e,t,"alertsErrorMassage",(l=n[t])==null?void 0:l.call(n)),b(e,t,"alertsErrorMassage",(u=n[t])==null?void 0:u.call(n)),B(e,t,"alertsErrorMassage",(h=n[t])==null?void 0:h.call(n))),o}function wn(e,t){if(e==="iron Amount"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,1,1e3);if(o!==null)return o}else if(e==="Amount of Folic acid"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,1,1e3);if(o!==null)return o}else return null;return null}const Vh=V({name:"medicationDispensed",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonTitle:L,IonToolbar:R,IonMenu:z,menuController:$e,IonToggle:se,IonSelectOption:oe,IonInput:J,IonSelect:le,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{currentSection:0}},setup(){return{checkmark:K,pulseOutline:X}},computed:{...y(rs,["iron"]),...y(rs,["folicAcid"]),...y(rs,["vitaminA"]),"iron Amount"(){return Y(this.iron,"iron Amount","value")},"Amount of Folic acid"(){return Y(this.folicAcid,"Amount of Folic acid","value")}},mounted(){this.handleTypeIron(),this.handleAcid(),this.handleFolicIron(),this.handleVitaminA(),this.handleVitaminNo(),this.handleVitaminOther(),this.handleNoFolic(),this.handleNoIron(),this.handleNoIronOther(),this.handleIronDailyWeekly(),this.handleVitaminDailyWeekly(),this.validaterowData({})},watch:{iron:{handler(){this.handleTypeIron(),this.handleNoIron(),this.handleNoIronOther(),this.handleIronDailyWeekly()},deep:!0},folicAcid:{handler(){this.handleAcid(),this.handleNoFolic(),this.handleFolicIron()},deep:!0},folicAcidReason:{handler(){this.handleFolicIron()},deep:!0},vitaminA:{handler(){this.handleVitaminA(),this.handleVitaminNo(),this.handleVitaminOther(),this.handleVitaminDailyWeekly()},deep:!0}},methods:{handleVitamin(e){Le(this.vitaminA,oo,e.name,e.value)},handleInputData(e){this.validationRules(e)},validaterowData(e){this.validationRules(e)},validationRules(e){return Cn(this.folicAcid,e.name,this[e.name])||Cn(this.iron,e.name,this[e.name])},handleTypeIron(){S(this.iron,"Iron prescription")=="yes"?b(this.iron,"Type of Iron supplement dosage","displayNone",!1):b(this.iron,"Type of Iron supplement dosage","displayNone",!0)},handleIronDailyWeekly(){const e=S(this.iron,"Type of Iron supplement dosage");e==="daily"&&S(this.iron,"Iron prescription")=="yes"||e==="weekly"&&S(this.iron,"Iron prescription")=="yes"?d(this.iron,"iron Amount","displayNone",!1):d(this.iron,"iron Amount","displayNone",!0)},handleVitaminDailyWeekly(){const e=S(this.vitaminA,"Type of Vitamin A dosage");e==="daily"||e==="weekly"?d(this.vitaminA,"Vitamin Amount","displayNone",!1):d(this.vitaminA,"Vitamin Amount","displayNone",!0)},handleNoIron(){S(this.iron,"Iron prescription")=="no"?b(this.iron,"Iron and folic acid not prescribed","displayNone",!1):b(this.iron,"Iron and folic acid not prescribed","displayNone",!0)},handleNoIronOther(){S(this.iron,"Iron and folic acid not prescribed")=="other"&&S(this.iron,"Iron prescription")=="no"?d(this.iron,"Other","displayNone",!1):d(this.iron,"Other","displayNone",!0)},handleAcid(){S(this.folicAcid,"Folic acid")=="yes"?d(this.folicAcid,"Amount of Folic acid","displayNone",!1):d(this.folicAcid,"Amount of Folic acid","displayNone",!0)},handleNoFolic(){S(this.folicAcid,"Folic acid")=="no"?b(this.folicAcid,"Iron and folic acid not prescribed","displayNone",!1):d(this.folicAcid,"Iron and folic acid not prescribed","displayNone",!0)},handleFolicIron(){S(this.folicAcid,"Iron and folic acid not prescribed")=="other"?d(this.folicAcid,"Other","displayNone",!1):d(this.folicAcid,"Other","displayNone",!0)},handleVitaminA(){S(this.vitaminA,"Vitamin A prescription")=="yes"?b(this.vitaminA,"Type of Vitamin A dosage","displayNone",!1):b(this.vitaminA,"Type of Vitamin A dosage","displayNone",!0)},handleVitaminNo(){S(this.vitaminA,"Vitamin A prescription")=="no"?b(this.vitaminA,"vitamin A not prescribed","displayNone",!1):b(this.vitaminA,"vitamin A not prescribed","displayNone",!0)},handleVitaminOther(){S(this.vitaminA,"vitamin A not prescribed")=="other"?d(this.vitaminA,"Other","displayNone",!1):d(this.vitaminA,"Other","displayNone",!0)}}}),Ah={class:"container"};function $h(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",Ah,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.iron,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),s(h,{contentData:e.folicAcid,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),s(h,{contentData:e.vitaminA,"onUpdate:selected":e.handleVitamin,"onUpdate:inputValue":e.handleVitamin},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Mh=M(Vh,[["render",$h],["__scopeId","data-v-30186bb7"]]),Th=V({name:"Counselling",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,initialData:[]}},computed:{...y(Ss,["preventativeCounselling"])},mounted(){const e=Ss();this.initialData=e.getInitial()},watch:{},setup(){return{checkmark:K,pulseOutline:X}},methods:{}}),Oh={class:"container"};function Fh(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",Oh,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.preventativeCounselling,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Hh=M(Th,[["render",Fh],["__scopeId","data-v-1716e79a"]]),Rh=je("demographicStore",{state:()=>({demographics:{},patient:{}}),actions:{setDemographics(e){this.demographics=e},setPatient(e){this.patient=e},getPatient(){return this.patient}},persist:!0}),Lh=V({name:"Immunization",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonTitle:L,IonToolbar:R,IonMenu:z,menuController:$e,IonToggle:se,IonSelectOption:oe,IonInput:J,IonSelect:le,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{currentSection:0}},setup(){return{checkmark:K,pulseOutline:X}},computed:{...y(yt,["ttDoses"]),...y(yt,["HepB1"]),...y(yt,["HepB2"]),...y(yt,["HepB3"]),...y(yt,["hepBReason"]),...y(Rh,["patient"])},mounted(){this.handleB1(),this.handleB2(),this.handleB3(),this.handelHepreason(),this.handleTTinfo()},watch:{HepB1:{handler(){this.handleB1()},deep:!0},HepB2:{handler(){this.handleB2()},deep:!0},HepB3:{handler(){this.handleB3()},deep:!0},hepBReason:{handler(){this.handelHepreason()},deep:!0}},methods:{handleB1(){S(this.HepB1,"Hepatitis B-1")=="Yes"?d(this.HepB1,"hepb1 Date","displayNone",!1):d(this.HepB1,"hepb1 Date","displayNone",!0)},handleB2(){S(this.HepB2,"Hepatitis B-2")=="yes"?d(this.HepB2,"Hep B-2 Date","displayNone",!1):d(this.HepB2,"Hep B-2 Date","displayNone",!0)},handleB3(){S(this.HepB3,"Hepatitis B-3")=="yes"?d(this.HepB3,"hep3Date","displayNone",!1):d(this.HepB3,"hep3Date","displayNone",!0)},handelHepreason(){S(this.hepBReason,"Hepatitis B")=="other"?d(this.hepBReason,"Specify","displayNone",!1):d(this.hepBReason,"Specify","displayNone",!0)},handleTTinfo(){this.setValues()},async setValues(){const e=await Ee.getFirstObsValue(this.patient.patientID,"Number of tetanus doses","value_coded");await Ee.getFirstObsValue(this.patient.patientID,"Systolic","value_text"),console.log(e),e=="Two doses"?d(this.ttDoses,"hepb1 Date","displayNone",!1):d(this.ttDoses,"hepb1 Date","displayNone",!0)}}}),xh={class:"container"};function Uh(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",xh,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.ttDoses},null,8,["contentData"]),s(h,{contentData:e.HepB1},null,8,["contentData"]),s(h,{contentData:e.HepB2},null,8,["contentData"]),s(h,{contentData:e.HepB3},null,8,["contentData"]),s(h,{contentData:e.hepBReason},null,8,["contentData"])]),_:1})]),_:1})])}const zh=M(Lh,[["render",Uh],["__scopeId","data-v-0828c551"]]),qh=V({name:"Counselling",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,currentSection:0}},computed:{...y(Ma,["treatment"]),...y(Ma,["malaria"])},mounted(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther(),this.handleMalria(),this.handleOtherMalaria()},setup(){return{checkmark:K,pulseOutline:X}},watch:{treatment:{handler(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther()},deep:!0},malaria:{handler(){this.handleMalria(),this.handleOtherMalaria()},deep:!0}},methods:{handlepreventive(){S(this.treatment,"antihelminthic treatment")=="yes"?b(this.treatment,"antihelminthic treatment provided","displayNone",!1):b(this.treatment,"antihelminthic treatment provided","displayNone",!0),console.log(S(this.treatment,"preventive"))},handleNoPreventative(){S(this.treatment,"antihelminthic treatment")=="no"?b(this.treatment,"no preventative treatment provided","displayNone",!1):b(this.treatment,"no preventative treatment provided","displayNone",!0)},handleOther(){S(this.treatment,"no preventative treatment provided")=="other"?d(this.treatment,"Specify","displayNone",!1):d(this.treatment,"Specify","displayNone",!0)},handleMalria(){S(this.malaria,"counselling on malaria prevention")=="no"?b(this.treatment,"counselling on malaria prevention","displayNone",!1):b(this.treatment,"counselling on malaria prevention","displayNone",!0)},handleOtherMalaria(){S(this.malaria,"counselling on malaria prevention")=="other"?d(this.treatment,"other","displayNone",!1):d(this.treatment,"other","displayNone",!0)}}}),Wh={class:"container"};function Gh(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",Wh,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.treatment},null,8,["contentData"])]),_:1})]),_:1}),s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.malaria},null,8,["contentData"])]),_:1})]),_:1})])}const jh=M(qh,[["render",Gh],["__scopeId","data-v-1edadf70"]]),Yh=V({name:"Past Surguries",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=pe(),t=pe(),a=pe();pe(),pe(),pe(),pe(),pe(),pe(),pe(),pe(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleHivResults(),this.handleSyphilis(),this.handleSurgries(),this.handleAllergies(),this.handleChronicCondition(),this.handleHivConducted(),this.handleHivConductedOptin(),this.handleOtherHiv(),this.handleSyphlisdate(),this.handleDisable(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis(),this.handleTestNotDone(),this.handleHIVPositive()},watch:{hivTest:{handler(){this.handleHivResults(),this.handleOtherHiv(),this.handleHivConducted(),this.handleTestNotDone(),this.handleHivConductedOptin()},deep:!0},syphilisTest:{handler(){this.handleSyphilis(),this.handleSyphlisdate(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis()},deep:!0},medicalHistory:{handler(){this.handleSurgries(),this.handleDisable()},deep:!0},allegy:{handler(){this.handleAllergies()},deep:!0},exisitingChronicHealthConditions:{handler(e){this.handleChronicCondition(),this.handleHIVPositive(),this.handleInputData(e)},deep:!0}},computed:{...y(pe,["medicalHistory"]),...y(pe,["allegy"]),...y(pe,["exisitingChronicHealthConditions"]),...y(pe,["hivTest"]),...y(pe,["syphilisTest"]),ExistingChronicConditions(){return Z(this.exisitingChronicHealthConditions,"chronic conditions")}},methods:{validationRules(e){return ot(this.exisitingChronicHealthConditions,e.name,this[e.name])},async handleInputData(e){this.validationRules(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),d(this.exisitingChronicHealthConditions,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Ht.getFacilities({name:e})},handleHIVPositive(){var e;((e=Z(this.exisitingChronicHealthConditions,"HIV positive"))==null?void 0:e.value)=="hiv positive"?(d(this.exisitingChronicHealthConditions,"HIV test date","displayNone",!1),b(this.exisitingChronicHealthConditions,"Is client on ART","displayNone",!1)):(d(this.exisitingChronicHealthConditions,"HIV test date","displayNone",!0),b(this.exisitingChronicHealthConditions,"Is client on ART","displayNone",!0))},handleHivResults(){S(this.hivTest,"test2")=="hivPositive"?b(this.hivTest,"test1","displayNone",!1):b(this.hivTest,"test1","displayNone",!0)},handleHivConductedOptin(){S(this.hivTest,"hivOption")=="hivTestConducted"?b(this.hivTest,"test2","displayNone",!1):b(this.hivTest,"test2","displayNone",!0)},handleOtherHiv(){var e;((e=Z(this.hivTest,"Other"))==null?void 0:e.value)=="other"?d(this.hivTest,"reasonsTestNotDone","displayNone",!1):d(this.hivTest,"reasonsTestNotDone","displayNone",!0)},handleSyphilis(){S(this.syphilisTest,"syphilisOption")=="syphilisTestConducted"?b(this.syphilisTest,"syphilisDetails","displayNone",!1):b(this.syphilisTest,"syphilisDetails","displayNone",!0)},handleSurgries(){var t;const e=["Dilation and currettage","Myomectomy","Removal of ovarian cystst","Oophorectomy","Removal of ovarian cyst","Salpingectomy","Cervical cone","Other"];(t=Z(this.medicalHistory,"None"))!=null&&t.checked?e.forEach(a=>{B(this.medicalHistory,a,"checked",!1),B(this.medicalHistory,a,"disabled",!0)}):e.forEach(a=>{B(this.medicalHistory,a,"disabled",!1)})},handleAllergies(){var t;const e=["Other","PrEP(TDF)","Albendazole","Aluminium-hydroxide","Calcium","Sulfadoxine-Pyrimethamine","Chamomile","Folic-acid","Ginger","Fish","Iron","Mebendazole","Penicillin"];(t=Z(this.allegy,"None"))!=null&&t.checked?e.forEach(a=>{B(this.allegy,a,"checked",!1),B(this.allegy,a,"disabled",!0)}):e.forEach(a=>{B(this.allegy,a,"disabled",!1)})},handleChronicCondition(){var t;const e=["Auto-immune desease","Asthma","Sickle cell","Anemia","HIV positive","Thalassemia","Gynaecological","CCF","RHD","Gynae Cancer","Diabetes Type 1","Diabetes Type 2","Gestational diabetes","pre-existing type 1","pre-existing type 2","Epilepsy","Hypertension","Kidney Disease","TB","Mental illness","Other"];(t=Z(this.exisitingChronicHealthConditions,"None"))!=null&&t.checked?e.forEach(a=>{B(this.exisitingChronicHealthConditions,a,"checked",!1),B(this.exisitingChronicHealthConditions,a,"disabled",!0)}):e.forEach(a=>{B(this.exisitingChronicHealthConditions,a,"disabled",!1)})},handleHivConducted(){S(this.hivTest,"hivOption")=="hivTestConducted"?d(this.hivTest,"testDate","displayNone",!1):d(this.hivTest,"testDate","displayNone",!0)},handleTestNotDone(){S(this.hivTest,"hivOption")=="hivTestNotDone"?ke(this.hivTest,"hivOutcome","displayNone",!1):ke(this.hivTest,"hivOutcome","displayNone",!0)},handleSyphlisdate(){S(this.syphilisTest,"syphilisOption")=="syphilisTestConducted"?d(this.syphilisTest,"syphilisDate","displayNone",!1):d(this.syphilisTest,"syphilisDate","displayNone",!0)},handleDisable(){Z(this.medicalHistory,"NoSurgery")=="otherSurguries"?ke(this.medicalHistory,"Other","disabled",!0):ke(this.medicalHistory,"Other","disabled",!1)},handleSyphilisNotDone(){var e;((e=S(this.syphilisTest,"syphilisOption"))==null?void 0:e.value)=="syphilisTestNotDone"?ke(this.syphilisTest,"notDone","displayNone",!1):ke(this.syphilisTest,"notDone","displayNone",!0)},handleSpecifySyphilis(){Z(this.syphilisTest,"Other")=="other"?d(this.syphilisTest,"Reason","displayNone",!1):d(this.syphilisTest,"Reason","displayNone",!0)}}}),Jh={class:"container"};function Kh(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Jh,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.exisitingChronicHealthConditions,initialData:e.initialData2,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.medicalHistory,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.allegy,initialData:e.initialData1},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Qh=M(Yh,[["render",Kh],["__scopeId","data-v-af1b04de"]]),Xh=V({name:"Medical FollowUp",components:{IonItem:E,IonList:T,BasicInputField:W,BasicForm:F},data(){return{initialData:[]}},setup(){return{checkmark:K,pulseOutline:X}},mounted(){this.handleMedicalFollowup(),this.handleSideEffects();const e=Qs();this.initialData=e.getInitial()},computed:{...y(Qs,["medicalFollowUp"])},watch:{medicalFollowUp:{handler(){this.handleMedicalFollowup(),this.handleSideEffects()},deep:!0}},methods:{handleMedicalFollowup(){var t;const e=["Taking Calcium Supplements","Taking iron and folic acid (IFA) tablets","Taking aspirin tablets","Taking penicillin treatment for syphilis","Taking vitamin A supplements","Taking Albendazole for deworming","Other medication"];(t=Z(this.medicalFollowUp,"None"))!=null&&t.checked?e.forEach(a=>{B(this.medicalFollowUp,a,"checked",!1),B(this.medicalFollowUp,a,"disabled",!0)}):e.forEach(a=>{B(this.medicalFollowUp,a,"disabled",!1)})},handleSideEffects(){var t;const e=["Side-effects from calcium supplements","Side-effects from iron and folic acid supplements","Side-effects from Aspirin supplements","Side-effects from Vitamin A supplements","Side-effects from Penicillin","Side-effects from Albendazole","Other"];(t=Z(this.medicalFollowUp,"No side effects"))!=null&&t.checked?e.forEach(a=>{B(this.medicalFollowUp,a,"checked",!1),B(this.medicalFollowUp,a,"disabled",!0)}):e.forEach(a=>{B(this.medicalFollowUp,a,"disabled",!1)})}}}),Zh={class:"container"};function ep(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Zh,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.medicalFollowUp,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const tp=M(Xh,[["render",ep],["__scopeId","data-v-f9280c8a"]]);function Ts(e,t,a){var r,l,u;const n={"High caffeine intake":()=>k.required(a),"Tobacco use":()=>k.required(a),"Recently quit tobacco products":()=>k.required(a),"Exposure to second-hand smoke":()=>k.required(a),"Persistent Symptom":()=>k.required(a),"Physiological symptom":()=>k.required(a),"Fetal movement":()=>k.required(a)},o=((r=n[t])==null?void 0:r.call(n))==null;return b(e,t,"alertsErrorMassage",!o),B(e,t,"alertsErrorMassage",!o),o||(b(e,t,"alertsErrorMassage",(l=n[t])==null?void 0:l.call(n)),B(e,t,"alertsErrorMassage",(u=n[t])==null?void 0:u.call(n))),o}const ap=V({name:"Persistent Behaviour",components:{IonItem:E,IonList:T,BasicInputField:W,BasicForm:F},data(){return{initialData:[],initialData1:[]}},mounted(){const e=ds(),t=ds();this.initialData=e.getInitial(),this.initialData1=t.getInitialPersistentSymptoms(),this.handlePersistentBehaviour(),this.handlePersistentSymptoms()},computed:{...y(ds,["persistentBehaviour","persistentSymptoms"])},watch:{persistentBehaviour:{handler(){this.handlePersistentBehaviour()},deep:!0},persistentSymptoms:{handler(){this.handlePersistentSymptoms()},deep:!0}},methods:{validationRules(e){return Ts(this.persistentBehaviour,e.name,this[e.name])},handlePersistentSymptoms(){var t;const e=["Leg cramps","Visual disturbance","Constipation","Headache","Heartburn","Pain-Leg","Breathing difficulty","Cough lasting more than 3 weeks","Other symptoms","Pelvic pain","Pain - Low back","Abnormal pulse rate"];(t=Z(this.persistentSymptoms,"None"))!=null&&t.checked?e.forEach(a=>{B(this.persistentSymptoms,a,"checked",!1),B(this.persistentSymptoms,a,"disabled",!0)}):e.forEach(a=>{B(this.persistentSymptoms,a,"disabled",!1)})},handlePersistentBehaviour(){var a;const e=["Tobacco use","Recently quit tobacco products","Exposure to second-hand smoke","Condom use","Alcohol use","Substance use","High caffeine intake","Other"],t=(a=Z(this.persistentBehaviour,"No persistent behaviours"))==null?void 0:a.checked;e.forEach(n=>{t?(B(this.persistentBehaviour,n,"checked",!1),B(this.persistentBehaviour,n,"disabled",!0)):B(this.persistentBehaviour,n,"disabled",!1)})},async handleInputData(e){this.validationRules(e)}}}),sp={class:"container"};function np(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",sp,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.persistentBehaviour,"onUpdate:selected":e.handleInputData,initialData:e.initialData},null,8,["contentData","onUpdate:selected","initialData"]),s(l,{contentData:e.persistentSymptoms,"onUpdate:selected":e.handleInputData,initialData:e.initialData1},null,8,["contentData","onUpdate:selected","initialData"])]),_:1})]),_:1})])}const ip=M(ap,[["render",np],["__scopeId","data-v-136e4faf"]]),op=V({name:"Persistent Behaviour",components:{IonItem:E,IonList:T,BasicInputField:W,BasicForm:F},mounted(){Xs(),this.handleNone()},watch:{physiologicalSymptoms:{handler(){this.handleNone()},deep:!0}},computed:{...y(Xs,["physiologicalSymptoms"])},methods:{handleNone(){var t;const e=["Abnormal pulse rate","Cough lasting more than 3 weeks","Pain – Low back","Constipation","Headache","Heartburn","Pain-Leg","Pain-pelvic"];(t=Z(this.physiologicalSymptoms,"None"))!=null&&t.checked?e.forEach(a=>{B(this.physiologicalSymptoms,a,"checked",!1),B(this.physiologicalSymptoms,a,"disabled",!0)}):e.forEach(a=>{B(this.physiologicalSymptoms,a,"disabled",!1)})},validationRules(e){return Ts(this.physiologicalSymptoms,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)}}}),lp={class:"container"};function rp(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",lp,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.physiologicalSymptoms,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])]),_:1})]),_:1})])}const dp=M(op,[["render",rp],["__scopeId","data-v-8d0214c3"]]),cp=V({name:"Persistent Behaviour",components:{IonItem:E,IonList:T,BasicInputField:W,BasicForm:F},mounted(){Zs(),this.handleNone(),this.handleReferal(),this.handleOtherFirstline()},watch:{ipv:{handler(){this.handleNone()},deep:!0},referrals:{handler(){this.handleReferal(),this.handleOtherFirstline()},deep:!0}},computed:{...y(Zs,["ipv","ipv1","additionalCare","safety_assessment","physical_violence","beaten_pregnant","strangling","murder_threat","referrals","constant_jealous","woman_threatened"])},methods:{handleNone(){var t;const e=["Ongoing stress","Unspecified Harmful Behaviours","Unwanted pregnancies","Injury to abdomen","Partner's intrusive during consultations","Misuse of alcohol","Unspecified harmful behaviours","Thoughts of self-harm","Unwanted Pregnancies","Misuse of drugs"];(t=Z(this.ipv,"None"))!=null&&t.checked?e.forEach(a=>{B(this.ipv,a,"checked",!1),B(this.ipv,a,"disabled",!0)}):e.forEach(a=>{B(this.ipv,a,"disabled",!1)})},handleIntimate(){S(this.ipv,"intimateInfo")=="no"?b(this.ipv,"IPV firstline support","displayNone",!1):b(this.ipv,"IPV firstline support","displayNone",!0)},handleOtherIpv(){S(this.ipv,"IPV firstline support")=="other"?d(this.ipv,"other","displayNone",!1):d(this.ipv,"other","displayNone",!0)},handleReferal(){var t;const e=["Care at another facility","Care at another facility","Crisis intervention or counselling","Police","Shelter or housing","Shelter or housing","Child protection","Livelihood support","Other"];(t=Z(this.referrals,"None"))!=null&&t.checked?e.forEach(a=>{B(this.referrals,a,"checked",!1),B(this.referrals,a,"disabled",!0)}):e.forEach(a=>{B(this.referrals,a,"disabled",!1)})},handleOtherFirstline(){var e,t;((e=Z(this.referrals,"first-line support"))==null?void 0:e.value)=="other"?d(this.referrals,"specifics","displayNone",!1):d(this.referrals,"specifics","displayNone",!0),console.log("+++++++++",((t=Z(this.referrals,"first-line support"))==null?void 0:t.value)=="specifics")}}}),up={class:"container"};function hp(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card"),f=c("ion-card-title"),_=c("ion-card-header");return p(),m("div",up,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.ipv},null,8,["contentData"]),t[0]||(t[0]=v("br",null,null,-1)),s(l,{contentData:e.ipv1},null,8,["contentData"])]),_:1,__:[0]})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(_,null,{default:i(()=>[s(f,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(u,null,{default:i(()=>[s(l,{contentData:e.additionalCare},null,8,["contentData"]),s(l,{contentData:e.safety_assessment},null,8,["contentData"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(_,null,{default:i(()=>[s(f,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(u,null,{default:i(()=>[s(l,{contentData:e.physical_violence},null,8,["contentData"]),s(l,{contentData:e.beaten_pregnant},null,8,["contentData"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(_,null,{default:i(()=>[s(f,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(u,null,{default:i(()=>[s(l,{contentData:e.woman_threatened},null,8,["contentData"]),s(l,{contentData:e.constant_jealous},null,8,["contentData"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(_,null,{default:i(()=>[s(f,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(u,null,{default:i(()=>[s(l,{contentData:e.strangling},null,8,["contentData"]),s(l,{contentData:e.murder_threat},null,8,["contentData"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(_,null,{default:i(()=>[s(f,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(u,null,{default:i(()=>[s(l,{contentData:e.referrals},null,8,["contentData"])]),_:1})]),_:1})])}const pp=M(cp,[["render",hp],["__scopeId","data-v-42770e04"]]),mp=V({name:"Fatal Movement",components:{IonItem:E,IonList:T,BasicInputField:W,BasicForm:F},mounted(){en()},computed:{...y(en,["fatalMovement"])},methods:{validationRules(e){return Ts(this.fatalMovement,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)}}}),fp={class:"container"};function _p(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",fp,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.fatalMovement,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])]),_:1})]),_:1})])}const vp=M(mp,[["render",_p],["__scopeId","data-v-586b9fb7"]]),gp=V({name:"Persistent Behaviour",components:{IonItem:E,IonList:T,BasicInputField:W,BasicForm:F},data(e){return{initialData:[]}},mounted(){const e=tn();this.initialData=e.getInitial()},watch:{behaviourInfo:{handler(){},deep:!0}},computed:{...y(tn,["behaviourInfo"])},methods:{}}),yp={class:"container"};function bp(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",yp,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.behaviourInfo,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Dp=M(gp,[["render",bp],["__scopeId","data-v-d2e3a48e"]]),Sp=V({name:"Persistent Behaviour",components:{IonItem:E,IonList:T,BasicInputField:W,BasicForm:F},data(e){return{initialData:[]}},mounted(){const e=an();this.initialData=e.getInitial()},watch:{physiologicalCounselingInfo:{handler(){},deep:!0}},computed:{...y(an,["physiologicalCounselingInfo"])},methods:{}}),Cp={class:"container"};function wp(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Cp,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.physiologicalCounselingInfo,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Ip=M(Sp,[["render",wp],["__scopeId","data-v-79c39804"]]),Pp=V({name:"Diet Counselling",components:{IonItem:E,IonList:T,BasicInputField:W,BasicForm:F},data(e){return{initialData:[]}},methods:{},mounted(){const e=sn();this.initialData=e.getInitial()},computed:{...y(sn,["dietCounsellingInfo"])}}),Np={class:"container"};function kp(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Np,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.dietCounsellingInfo,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Bp=M(Pp,[["render",kp],["__scopeId","data-v-d2c02036"]]);function Ep(e,t,a){var r,l,u,h;const n={"Provider’s phone number":()=>Vp(t,a),tt1Date:()=>k.required(a)},o=((r=n[t])==null?void 0:r.call(n))==null;return d(e,t,"alertsError",!o),b(e,t,"alertsError",!o),B(e,t,"alertsError",!o),o||(d(e,t,"alertsErrorMassage",(l=n[t])==null?void 0:l.call(n)),b(e,t,"alertsErrorMassage",(u=n[t])==null?void 0:u.call(n)),B(e,t,"alertsErrorMassage",(h=n[t])==null?void 0:h.call(n))),o}function Vp(e,t){if(e==="Provider’s phone number"){const a=k.required(t);if(a!==null)return a;const n=k.isMWPhoneNumber(t);if(n!==null)return n}else if(e==="Abortions"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="Stillbirths"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="lmnpDate"){const a=k.required(t);if(a!==null)return a;const n=k.isDate(t);if(n!==null)return n}else if(e==="UltrasoundDate"){const a=k.required(t);if(a!==null)return a;const n=k.isDate(t);if(n!==null)return n}else if(e==="specify"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,0,42);if(o!==null)return o}else if(e==="Gestation age by palpation"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,4,36);if(o!==null)return o}else return null;return null}const Ap=V({name:"Referral",components:{IonItem:E,IonList:T,BasicInputField:W,BasicForm:F},data(){return{no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",initialData:[],selectedCondition:""}},mounted(){const e=nn();this.initialData=e.getInitialReferral(),this.handleReferral(),this.handletreatment()},watch:{referralInfo:{handler(){this.handleReferral(),this.handletreatment()},deep:!0}},computed:{...y(nn,["referralInfo"]),"Provider’s phone number"(){return Y(this.referralInfo,"Provider’s phone number","value")}},methods:{navigationMenu(e){this.$router.push(e)},handleReferral(){S(this.referralInfo,"referalOption")=="yes"?b(this.referralInfo,"referralOutcome","displayNone",!1):b(this.referralInfo,"referralOutcome","displayNone",!0)},handletreatment(){S(this.referralInfo,"Any treatment given before referral")=="yes"?b(this.referralInfo,"treatment","displayNone",!1):b(this.referralInfo,"treatment","displayNone",!0)},async handleInputData(e){Le(this.referralInfo,lo,e.name,e.value),this.handleReferralDateRange(e),this.handleDateOfScheduledReferralRange(e),e.inputHeader=="Where is the client being referred to? *"&&(this.facilityData=await this.getFacility(e.value),d(this.referralInfo,"Location of referral","popOverData",{filterData:!1,data:this.facilityData})),e.inputHeader=="Provider’s facility *"&&(this.facilityData=await this.getFacility(e.value),d(this.referralInfo,"Provider’s facility","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Ht.getFacilities({name:e})},validationRules(e){return Ep(this.referralInfo,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},handleReferralDateRange(e){const t=new Date,a=new Date(t),n=new Date(t);a.setDate(a.getDate()-1),n.setMonth(n.getMonth()+6);const o=a.toISOString().split("T")[0],r=n.toISOString().split("T")[0];d(this.referralInfo,"Date scheduled referral","minDate",o),d(this.referralInfo,"Date scheduled referral","maxDate",r)},handleDateOfScheduledReferralRange(e){const t=new Date,a=new Date(t);a.setDate(a.getDate()-1);const n=a.toISOString().split("T")[0],o=t.toISOString().split("T")[0];d(this.referralInfo,"Date referral was made","minDate",n),d(this.referralInfo,"Date referral was made","maxDate",o)}}}),$p={class:"container"};function Mp(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",$p,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.referralInfo,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Tp=M(Ap,[["render",Mp],["__scopeId","data-v-e4a6aefe"]]);class Op extends It{constructor(a,n){super(a,6,n);$t(this,"appEncounterServiceInstance");this.appEncounterServiceInstance=this}async mapObs(a){const n=[];await Promise.all(a.flatMap(r=>r.data.rowData.flat().map(async l=>{l.colData.flat().map(async u=>{if(u.value){const h=await this.appEncounterServiceInstance.buildValueNumber(u.name,u.value);n.push(h)}})})));const o=String(a[0].alerts[0].index);if(o){const r=await this.appEncounterServiceInstance.buildValueNumber("BMI",o);n.push(r)}return n}async onFinish(a){if(!await this.appEncounterServiceInstance.createEncounter())return Pt("Unable to create encounter");const o=await this.mapObs(a);if(!await this.appEncounterServiceInstance.saveObservationList(o))return Pt("Unable to save patient observations");na("Observations and encounter created!")}isNotEmptyandNumber(a){return"".concat(a.value).match(/^-?\d+\.?\d*$/)?null:["".concat(a.inputHeader," entered is not valid")]}isNotEmptyandFloat(a){return"".concat(a.value).match(/^\d{1,3}\.\d{1,5}$/)?null:["".concat(a.inputHeader," is an invalid entry. ").concat(a.inputHeader," should have a decimal e.g 61.3 ").concat(a.unit)]}checkMinMax(a,n,o){const r=[];return parseFloat("".concat(a.value))<n&&r.push(["".concat(a.inputHeader," captured is less than the required minimum ").concat(n," ").concat((a==null?void 0:a.unit)||"")]),parseFloat("".concat(a.value))>o&&r.push(["".concat(a.inputHeader," captured is greater than the required maximum ").concat(o," ").concat((a==null?void 0:a.unit)||"")]),r.length>0?r:null}validateAll(a){const n=[];return a.map(o=>{const r=this.validator(o);return Pe.isArray(r)?n.push(r):null}),n.length>0?n:null}mergeErrors(a){const n=[];return a.forEach(o=>{Pe.isArray(o)&&n.push(o)}),n.length>0?n:null}isValidBPReading(a){const n=[],o="".concat(a.value).match(/^\d{1,3}\/\d{1,3}$/g)?null:["Invalid BP reading"];if(n.push(o),o==null){const r="".concat(a.value).split("/"),l={name:"Systolic",value:r[0]},u={name:"Diastolic",value:r[1]};n.push(this.checkMinMax(u,30,200)),n.push(this.checkMinMax(l,40,250))}return this.mergeErrors(n)}validator(a){const o=[{name:"Weight*",validator:r=>{const l=this.isNotEmptyandNumber(r),u=this.checkMinMax(r,40,250);return this.mergeErrors([l,u])}},{name:"Pre-gestation weight",validator:r=>{console.log(r);const l=this.isNotEmptyandNumber(r),u=this.checkMinMax(r,40,250);return this.mergeErrors([l,u])}},{name:"Height*",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,100,200)),this.mergeErrors(l)}},{name:"BP",validator:r=>this.isValidBPReading(r)},{name:"Temperature",validator:r=>{const l=this.checkMinMax(r,30,42);return this.mergeErrors([l])}},{name:"Systolic Pressure*",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Repeated systolic pressure",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Diastolic pressure*",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Repeated diastolic pressure",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Pulse rate*",validator:r=>{const l=this.checkMinMax(r,60,120);return this.mergeErrors([l])}},{name:"Oxygen saturation",validator:r=>{const l=this.checkMinMax(r,0,100);return this.mergeErrors([l])}},{name:"Respiratory rate",validator:r=>{const l=this.checkMinMax(r,60,120);return this.mergeErrors([l])}}].filter(r=>r.name===a.inputHeader);return o.length>0?o[0].validator(a):null}}const In=[{isFinishBtn:!1,validationStatus:"",sectionHeader:"Height and weight",actionBtn:"Finish and Save",data:{rowData:[{colData:[{inputHeader:"Height*",unit:"cm",icon:w.height,value:"",name:"Height (cm)",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1},{inputHeader:"Weight*",unit:"kg",icon:w.weight,value:"",name:"Weight",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1},{inputHeader:"Pre-gestation weight",unit:"kg",icon:w.weight,value:"",name:"Pre-gestation weight",valueType:"number",required:!0,eventType:"input",alertsErrorMassage:""}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}],previousView:{name:"vitals"}},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" "},data:[{colSize:"5.8",name:"Height And Weight Not Done",value:"Height And Weight Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:w.search,isMultiSelect:!0,popOver:!0,value:"",name:"Height Weight Reason",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"Blood pressure",data:{rowData:[{colData:[{inputHeader:"Systolic Pressure*",unit:"mmHg",icon:w.systolicPressure,value:"",name:"Systolic",required:!0,eventType:"input",disabled:!1},{inputHeader:"Diastolic pressure*",unit:"mmHg",icon:w.diastolicPressure,value:"",name:"Diastolic",required:!0,eventType:"input",disabled:!1}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}],previousView:{name:"vitals"}},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",name:"Primary diagnosis"},data:[{colSize:"5.8",name:"Blood Pressure Not Done",value:"Blood Pressure Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:w.search,isMultiSelect:!0,popOver:!0,value:"",name:"Blood Pressure Reason",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"Temperature and rates",data:{rowData:[{colData:[{inputHeader:"Temperature",unit:"C",icon:w.temprature,value:"",name:"Temperature",eventType:"input"},{inputHeader:"Pulse rate*",unit:"BMP",icon:w.pulse,value:"",name:"Pulse",eventType:"input"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",name:"Primary diagnosis"},data:[{colSize:"5.8",name:"Pulse Rate Not Done",value:"Pulse Rate Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:w.search,isMultiSelect:!0,popOver:!0,value:"",name:"Pulse Rate Reason",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"null",data:{rowData:[{colData:[{inputHeader:"Respiratory rate",unit:"BMP",icon:w.respiratory,value:"",name:"Respiratory rate",eventType:"input"},{inputHeader:"Oxygen saturation",unit:"%",icon:w.oxgenStaturation,value:"",name:"SAO2",eventType:"input"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]}],Va=je("vitalsStore",{state:()=>({ANCVitals:[...In]}),actions:{setVitals(e){this.ANCVitals=e},getInitialVitals(){return[...Pe.cloneDeep(In)]}},persist:!0}),Fp=V({components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,BasicInputField:W,BasicForm:F,PreviousVitals:xa},data(){return{iconsContent:w,BMI:{},BPStatus:{},saveBtnStatus:{},TempStatus:{},PulseStatus:{},RespiratoryStatus:{},OxygenStatus:{},vValidations:"",initialData:[],hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1}}},computed:{...y(Me,["patient"]),...y(Va,["ANCVitals"])},async mounted(){const e=Va();this.initialData=e.getInitialVitals(),await this.setTodayVitals();const t=Ke.getUserID();this.vitalsInstance=new Op(this.patient.patientID,t),await this.validaterowData("onload"),this.handleVital()},watch:{ANCVitals:{handler(){this.checkHeight()},deep:!0},$route:{handler(){this.checkHeight(),this.setTodayVitals(),this.updateVitalsStores()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleVital(){this.setVitalValue},async setVitalValue(){const e=await Ee.getFirstObsValue(this.patient.patientID,"Systolic","value_numeric");console.log("+++++ lets see",e)},async setTodayVitals(){const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","SAO2","Respiratory rate"],t=["Height (cm)","Weight","Systolic","Diastolic","Pulse"],a=[],n=e.map(async o=>{const r=await Ee.getFirstObsDatetime(this.patient.patientID,o);r&&me.toStandardHisFormat(r)==me.sessionDate()?(o=="Weight"&&B(this.ANCVitals,"Height And Weight Not Done","displayNone",!0),o=="Systolic"&&B(this.ANCVitals,"Blood Pressure Not Done","displayNone",!0),o=="Pulse"&&B(this.ANCVitals,"Pulse Rate Not Done","displayNone",!0),d(this.ANCVitals,o,"value",await Ee.getFirstValueNumber(this.patient.patientID,o,me.sessionDate())),d(this.ANCVitals,o,"disabled",!0),a.push("true")):t.includes(o)?a.push("false"):d(this.ANCVitals,o,"value","")});return await Promise.all(n),a.includes("false")?this.ANCVitals[0].actionBtn="Finish and Save":this.ANCVitals[0].actionBtn="Finish",!a.includes("false")},navigationMenu(e){$e.close(),this.$router.push(e)},updateVitalsStores(){Va().setVitals(this.ANCVitals)},validationController(e){var t,a,n,o,r,l;((t=e==null?void 0:e.col)==null?void 0:t.name)=="Height And Weight Not Done"&&e.col.checked?(we(this.ANCVitals,"Height Weight Reason","displayNone",!1),d(this.ANCVitals,"Height (cm)","disabled",!0),d(this.ANCVitals,"Weight","disabled",!0),d(this.ANCVitals,"Height (cm)","inputHeader","Height"),d(this.ANCVitals,"Weight","inputHeader","Weight"),d(this.ANCVitals,"Height (cm)","value",""),d(this.ANCVitals,"Weight","value",""),this.validationStatus.heightWeight=!1):((a=e==null?void 0:e.col)==null?void 0:a.name)=="Height And Weight Not Done"&&(we(this.ANCVitals,"Height Weight Reason","displayNone",!0),d(this.ANCVitals,"Height (cm)","disabled",!1),d(this.ANCVitals,"Weight","disabled",!1),d(this.ANCVitals,"Height (cm)","inputHeader","Height*"),d(this.ANCVitals,"Weight","inputHeader","Weight*"),this.validationStatus.heightWeight=!0),((n=e==null?void 0:e.col)==null?void 0:n.name)=="Blood Pressure Not Done"&&e.col.checked?(we(this.ANCVitals,"Blood Pressure Reason","displayNone",!1),d(this.ANCVitals,"Systolic","disabled",!0),d(this.ANCVitals,"Diastolic","disabled",!0),d(this.ANCVitals,"Systolic","inputHeader","Systolic Pressure"),d(this.ANCVitals,"Diastolic","inputHeader","Diastolic pressure"),d(this.ANCVitals,"Systolic","value",""),d(this.ANCVitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!1):((o=e==null?void 0:e.col)==null?void 0:o.name)=="Blood Pressure Not Done"&&(we(this.ANCVitals,"Blood Pressure Reason","displayNone",!0),d(this.ANCVitals,"Systolic","disabled",!1),d(this.ANCVitals,"Diastolic","disabled",!1),d(this.ANCVitals,"Systolic","inputHeader","Systolic Pressure*"),d(this.ANCVitals,"Diastolic","inputHeader","Diastolic pressure*"),d(this.ANCVitals,"Systolic","value",""),d(this.ANCVitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!0),((r=e==null?void 0:e.col)==null?void 0:r.name)=="Pulse Rate Not Done"&&e.col.checked?(we(this.ANCVitals,"Pulse Rate Reason","displayNone",!1),d(this.ANCVitals,"Pulse","disabled",!0),d(this.ANCVitals,"Pulse","inputHeader","Pulse rate"),d(this.ANCVitals,"Pulse","value",""),this.validationStatus.bloodPressure=!1):((l=e==null?void 0:e.col)==null?void 0:l.name)=="Pulse Rate Not Done"&&(we(this.ANCVitals,"Pulse Rate Reason","displayNone",!0),d(this.ANCVitals,"Pulse","disabled",!1),d(this.ANCVitals,"Pulse","inputHeader","Pulse rate*"),d(this.ANCVitals,"Pulse","value",""),this.validationStatus.bloodPressure=!0)},async checkHeight(){const e=new De,t=await e.getRecentHeightObs();if(!Pe.isEmpty(t)){const a=Ns(t.obs_datetime).diff(e.getBirthdate(),"year"),n=t.value_numeric;t.obs_id,a<18||e.getAge()<18||(d(this.ANCVitals,"Height","disabled",!0),d(this.ANCVitals,"Height","value",n))}},async validaterowData(e){this.checkHeight(),this.validationController(e),this.hasValidationErrors=[],this.ANCVitals.forEach((t,a)=>{var n,o;(n=t==null?void 0:t.data)!=null&&n.rowData&&((o=t==null?void 0:t.data)==null||o.rowData.forEach((r,l)=>{var u,h,f;if(r.colData[0].inputHeader=="Systolic Pressure*"&&(e.inputHeader=="Systolic Pressure*"||e.inputHeader=="Diastolic pressure*"||e=="onload")||r.colData[0].inputHeader=="Systolic Pressure"&&((u=e==null?void 0:e.col)==null?void 0:u.name)=="Blood Pressure Not Done"){const _=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BPStatus=_?this.getBloodPressureStatus(r.colData[0].value,r.colData[1].value):{},this.updateBP(r.colData[0].value,r.colData[1].value)}if(r.colData[1].inputHeader=="Pulse rate*"&&(e.inputHeader=="Pulse rate*"||e=="onload")||r.colData[1].inputHeader=="Pulse rate"&&((h=e==null?void 0:e.col)==null?void 0:h.name)=="Pulse Rate Not Done"){const D=this.vitalsInstance.validator(r.colData[1])==null?this.getPulseRateStatus(r.colData[1].value):{};this.updateTemperateRate("pulse",r.colData[1].value+" BMP",D,4)}if(r.colData[0].value&&r.colData[0].inputHeader=="Temperature"){const D=this.vitalsInstance.validator(r.colData[0])==null?this.getTemperatureStatus(r.colData[0].value):{};this.updateTemperateRate("temp",r.colData[0].value+"°C",D,4)}if(r.colData[0].inputHeader=="Respiratory rate"){const D=this.vitalsInstance.validator(r.colData[0])==null?this.getRespiratoryRateStatus(r.colData[0].value):{};this.updateTemperateRate("respiratory",r.colData[0].value+"BMP",D,6)}if(r.colData[1].value&&r.colData[1].inputHeader=="Oxygen saturation"){const D=this.vitalsInstance.validator(r.colData[1])==null?this.getOxygenSaturationStatus(r.colData[1].value):{};this.updateTemperateRate("oxygen",r.colData[1].value+"%",D,6)}if(r.colData[0].inputHeader=="Height*"&&(e.inputHeader=="Height*"||e.inputHeader=="Weight*"||e=="onload")||r.colData[0].inputHeader=="Height"&&((f=e==null?void 0:e.col)==null?void 0:f.name)=="Height And Weight Not Done"){const _=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BMI=_?this.setBMI(r.colData[1].value,r.colData[0].value):{},this.updateBMI()}r.colData.some((_,D)=>{const P=this.vitalsInstance.validator(_);if((P==null?void 0:P.length)>0){if(this.hasValidationErrors.push("false"),_.inputHeader===e.inputHeader)return this.ANCVitals[a].data.rowData[l].colData[D].alertsErrorMassage=!0,this.ANCVitals[a].data.rowData[l].colData[D].alertsErrorMassage=P.flat(1/0)[0],!0}else this.hasValidationErrors.push("true"),this.ANCVitals[a].data.rowData[l].colData[D].alertsErrorMassage=!1,this.ANCVitals[a].data.rowData[l].colData[D].alertsErrorMassage="";return!1})}))}),this.ANCVitals.validationStatus=!this.hasValidationErrors.includes("false")},async setBMI(e,t){var a,n,o,r,l,u,h,f;t<140&&this.heightAlert(),(n=(a=this.patient)==null?void 0:a.personInformation)!=null&&n.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&e&&t&&(this.BMI=await bt.getBMI(parseInt(e),parseInt(t),(u=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:u.gender,me.calculateAge((f=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:f.birthdate,me.sessionDate())),this.updateBMI())},async updateBMI(){var a,n,o,r,l,u;const e=(n=(a=this.BMI)==null?void 0:a.color)!=null?n:[],t=this.ANCVitals[0].alerts[0];t.icon=bt.iconBMI(e),t.backgroundColor=e[0],t.textColor=e[1],t.index="BMI "+((r=(o=this.BMI)==null?void 0:o.index)!=null?r:""),t.value=(u=(l=this.BMI)==null?void 0:l.result)!=null?u:""},async heightAlert(){this.ANCVitals[0].alerts.find(t=>t.value==="Below critical height threshold")?this.ANCVitals[0].alerts=this.ANCVitals[0].alerts.filter(t=>t.value!=="Below critical height threshold"):this.ANCVitals[0].alerts.push({backgroundColor:"#FFD700",textColor:"#b42318",value:"Below critical height threshold"})},async updateBP(e,t){var o,r,l,u,h,f;const a=(r=(o=this.ANCVitals[2])==null?void 0:o.alerts[0])!=null?r:[],n=(u=(l=this.BPStatus)==null?void 0:l.colors)!=null?u:[];a.icon=qa(n),a.backgroundColor=n[0],a.textColor=n[1],a.index=e+"/"+t,a.value=(f=(h=this.BPStatus)==null?void 0:h.value)!=null?f:"",console.log(a)},async updateTemperateRate(e,t,a,n){var l,u,h,f,_,D;const o=(u=(l=this.ANCVitals[n])==null?void 0:l.alerts)==null?void 0:u.filter(P=>P.name!==e);this.ANCVitals[n].alerts=o;const r=(h=a==null?void 0:a.colors)!=null?h:[];(_=this.ANCVitals[n])==null||_.alerts.push({backgroundColor:r[0],status:"",icon:"",textColor:r[1],value:(f=a==null?void 0:a.value)!=null?f:"",name:e,index:t}),console.log((D=this.ANCVitals[4])==null?void 0:D.alerts)},getBloodPressureStatus(e,t){if(e&&t){let a,n,o,r;const u=new De().getAge();return u<1?(a=75,n=100,o=50,r=70):u>=1&&u<6?(a=80,n=110,o=50,r=80):u>=6&&u<13?(a=85,n=120,o=55,r=80):u>=13&&u<18?(a=95,n=140,o=60,r=90):(a=100,n=130,o=60,r=90),e<a&&t<o?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP "}:e>=a&&e<=n&&t>=o&&t<=r?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP "}:e>140&&t>90?{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP"}:e<a?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP  (Using Systolic Only)"}:e>=a&&e<=n?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP  (Using Systolic Only)"}:{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP  (Using Systolic Only)"}}},getTemperatureStatus(e){if(e){let t,a;const o=new De().getAge();if(o<=1||o>=1&&o<=18||o>=19&&o<=64||o>=65?(t=35.5,a=37.4):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Temperature "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Temperature "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Temperature "}}},getPulseRateStatus(e){if(e){let t,a;const o=new De().getAge();if(o<=.08?(t=70,a=190):o>=.08&&o<1?(t=80,a=160):o>=1&&o<=2?(t=80,a=130):o>=3&&o<=4?(t=80,a=120):o>=5&&o<=6?(t=75,a=115):o>=7&&o<=9?(t=70,a=110):o>=10?(t=60,a=100):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Pulse Rate "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Pulse Rate "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Pulse Rate "}}},getOxygenSaturationStatus(e){if(e){let t=95,a=100;if(e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low oxygen saturation"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal oxygen saturation"}}},getRespiratoryRateStatus(e){if(e){let t,a;const o=new De().getAge();if(o<=1?(t=30,a=60):o>=1&&o<3?(t=24,a=40):o>=3&&o<=6?(t=22,a=34):o>=6&&o<=12?(t=18,a=30):o>=12&&o<=18?(t=12,a=16):o>=19?(t=12,a=20):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low respiratory rate"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal respiratory rate"};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High respiratory rate"}}}}}),Hp={class:"container"};function Rp(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Hp,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.ANCVitals,"onUpdate:inputValue":t[0]||(t[0]=f=>e.validaterowData(f)),initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Lp=M(Fp,[["render",Rp],["__scopeId","data-v-7b5ab1eb"]]),xp=V({name:"Persistent Behaviour",components:{IonItem:E,IonList:T,BasicInputField:W,BasicForm:F},data(){return{currentSection:0,vValidations:"",hasValidationErrors:[],initialData:[]}},computed:{...y(on,["ancInfo"])},mounted(){const e=on();this.initialData=e.getInitialANCend(),this.handleOther(),this.handledeath(),this.handleDeathDate(),this.handleRecordNotViewed()},watch:{ancInfo:{handler(){this.handleOther(),this.handledeath(),this.handleDeathDate(),this.handleRecordNotViewed()},deep:!0}},methods:{async handleInputData(e){Le(this.ancInfo,ro,e.name,e.value)},handleOther(){S(this.ancInfo,"ANC pregnancy outcome")=="Other outcome"?d(this.ancInfo,"Pregnancy outcome notes","displayNone",!1):d(this.ancInfo,"Pregnancy outcome notes","displayNone",!0)},handledeath(){S(this.ancInfo,"ANC pregnancy outcome")=="Death"?d(this.ancInfo,"Date of death","displayNone",!1):d(this.ancInfo,"Date of death","displayNone",!0)},handleDeathDate(){S(this.ancInfo,"ANC pregnancy outcome")=="Death"?d(this.ancInfo,"Cause of death","displayNone",!1):d(this.ancInfo,"Cause of death","displayNone",!0)},handleRecordNotViewed(){S(this.ancInfo,"ANC pregnancy outcome")=="Death"?b(this.ancInfo,"Client record will no longer be  viewed","displayNone",!1):b(this.ancInfo,"Client record will no longer be  viewed","displayNone",!0)}}}),Up={class:"container"};function zp(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Up,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.ancInfo,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const qp=M(xp,[["render",zp],["__scopeId","data-v-b10cfe1d"]]),Wp=je("ImmunizationStore",{state:()=>({birthImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"birth immunization"},data:[{name:"OPV 0",value:"OPV 0",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"birth immunization"},data:[{name:"BCG",value:"BCG",checked:!1}]}}],sixWeeksImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"OPV 1",value:"OPV 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"Pentavalent 1",value:"Pentavalent 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"PCV 1",value:"PCV 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"Rota 1",value:"Rota 1",checked:!1}]}}],tenWeeksImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"OPV 2",value:"OPV 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"Pentavalent 2",value:"Pentavalent 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"PCV 2",value:"PCV 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"Rota 2",value:"Rota 2",checked:!1}]}}],fourteenWeeksImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"OPV 3",value:"OPV 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"Pentavalent 3",value:"Pentavalent 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"PCV 3",value:"PCV 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"IPV",value:"IPV",checked:!1}]}}],fiveToTwentyTwoImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"5 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 1",value:"Malaria Vaccine 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 2",value:"Malaria Vaccine 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"7 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 3",value:"Malaria Vaccine 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"9 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"MR 1",value:"MR 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"9 months – under 15 years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"TCV",value:"TCV",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"15 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"MR 2",value:"MR 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"22 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 4",value:"Malaria Vaccine 4",checked:!1}]}}],oneYearToFiveYearsImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1 Year",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1 Year 6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2 Years 6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"3 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"3 Year 6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"4 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"4 Years 6 Month",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"5 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}}],nineToFourteenYearsImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1st Dose",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"HPV1",value:"HPV1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2nd dose after 6 months",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"HPV2",value:"HPV2",checked:!1}]}}],twelveYearsAboveImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{selectedValue:"",name:"moreThan5"},data:[{name:"Pfizer",value:"Pfizer",checked:!1}]}}],fifteenYearsImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1st Dose",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2nd after 4 weeks",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"3rd after 6 months",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"4th after 5 years",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}}],eighteenYearsAboveImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{selectedValue:"",name:"moreThan5"},data:[{name:"AstraZeneca",value:"AstraZeneca",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{selectedValue:"",name:"moreThan5"},data:[{name:"Janssen (Johnson & Johnson)",value:"Janssen (Johnson & Johnson)",checked:!1}]}}]}),actions:{setDiagnosis(e){this.birthImmunization=e}},persist:!0}),Gp=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,IonPopover:Ft,DashBox:Ct,SelectionPopover:Dt,BasicInputField:W,BasicForm:F,List:gt,DynamicButton:Ve,labOrderResults:fa,LevelOfConsciousness:_i,PhysicalExamination:vi,PregnancyBreastfeeding:gi,PresentingComplaints:$s},data(){return{iconsContent:w,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){return{checkmark:K,pulseOutline:X}},computed:{...y(nt,["investigations"]),...y(Me,["patient"]),...y(Wp,["birthImmunization","sixWeeksImmunization","tenWeeksImmunization","fourteenWeeksImmunization","fiveToTwentyTwoImmunization","nineToFourteenYearsImmunization","twelveYearsAboveImmunization","fifteenYearsImmunization","eighteenYearsAboveImmunization","oneYearToFiveYearsImmunization"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0}},async mounted(){this.updateInvestigationsStores(),this.setDashedBox(),this.orders=await Je.getOrders(this.patient.patientID),this.labOrders=await Je.getTestTypes()},methods:{checkPatient(){return new De().isChildBearing()},updateInvestigationsStores(){nt().setInvestigations(this.investigations)},displayInputFields(){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validateRowData(){var l,u;const e=this.investigations[0].data.rowData[0].colData[0],t=this.investigations[0].data.rowData[0].colData[1];e.alertsErrorMassage=!1,e.alertsErrorMassage="",t.alertsErrorMassage=!1,t.alertsErrorMassage="",t.disabled=!1;const a=this.inputFields[0].value,n=this.inputFields[1].value;this.test=await this.filterTest(a),this.filteredSpecimen=await this.filterSpecimen(n);const o=a&&((l=this.test[0])==null?void 0:l.name)===a,r=n&&((u=this.filteredSpecimen[0])==null?void 0:u.name)===n;return a?o?(this.specimen=await Je.getSpecimens(e.value),this.specimen.length==1&&(t.value=this.specimen[0].name,t.disabled=!0),t.popOverData.data=this.specimen):(t.value="",this.search_item=!0,e.alertsErrorMassage=!0,e.alertsErrorMassage="Please select test from the list"):t.value="",n&&!r&&!t.disabled&&(t.alertsErrorMassage=!0,t.alertsErrorMassage="Please select specimen from the list"),o&&(r||t.disabled)},async addNewRow(){await this.validateRowData()&&(this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.investigations[0].data.rowData[0].colData[0].popOverData.data=[]},async saveTest(){await new As().postActivities(this.patient.patientID,[{concept_id:this.test[0].concept_id,name:this.inputFields[0].value,specimen:this.inputFields[1].value,reason:"Routine",specimenConcept:await Ge.getConceptID(this.inputFields[1].value)}]),this.orders=await Je.getOrders(this.patient.patientID)},buildResults(){this.inputFields[1].value.charAt(0),parseInt(this.inputFields[1].value.substring(1))},async handleInputData(e){e.inputHeader=="Test"&&(this.popoverOpen=!0,this.testData=await this.filterTest(e.value),this.investigations[0].data.rowData[0].colData[0].popOverData.data=this.testData),this.validateRowData()},async filterTest(e){return await this.labOrders.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))},async filterSpecimen(e){var t;return(t=this.specimen[0])!=null&&t.name&&e?await this.specimen.filter(a=>a==null?void 0:a.name.toLowerCase().includes(e.toLowerCase())):[]},setTest(e){this.selectedText=e.name,this.inputFields[0].inputHeader=="Test"?this.investigations[0].data.rowData[0].colData[0].value=e.name:this.investigations[0].data.rowData[0].colData[1].value=e.name,this.updateInvestigationsStores()},async openDeletePopover(e){await sa("Do you want to delete ".concat(e[1]," ?"),e[0])&&this.deleteTest(e[1])},deleteTest(e){this.investigations[0].selectedData=this.investigations[0].selectedData.filter(t=>t.display[0]!==e),this.updateInvestigationsStores()},editTest(e){this.deleteTest(e[0]),this.selectedText=e[0],this.investigations[0].data.rowData[0].colData[0].value=e[0],this.investigations[0].data.rowData[0].colData[1].value=e[1],this.addItemButton=!1,this.search_item=!0,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[0].value||this.inputFields[1].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),jp={class:"ion-padding",slot:"content"},Yp={class:"ion-padding",slot:"content"},Jp={class:"ion-padding",slot:"content"},Kp={class:"ion-padding",slot:"content"},Qp={class:"ion-padding",slot:"content"},Xp={class:"ion-padding",slot:"content"},Zp={class:"ion-padding",slot:"content"},em={class:"ion-padding",slot:"content"},tm={class:"ion-padding",slot:"content"},am={class:"ion-padding",slot:"content"};function sm(e,t,a,n,o,r){const l=c("ion-label"),u=c("DynamicButton"),h=c("ion-item"),f=c("basic-form"),_=c("ion-accordion"),D=c("ion-accordion-group"),P=c("ion-row");return p(),O(P,null,{default:i(()=>[s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[C("Birth")])),_:1,__:[0]}),t[1]||(t[1]=v("div",{class:"due_date"},"2023-04-13",-1)),v("div",null,[s(u,{color:"danger",name:"Overdue",size:"small"})])]),_:1,__:[1]}),v("div",jp,[s(f,{contentData:e.birthImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[C("6 Weeks")])),_:1,__:[2]})]),_:1}),v("div",Yp,[s(f,{contentData:e.sixWeeksImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[C("10 Weeks")])),_:1,__:[3]})]),_:1}),v("div",Jp,[s(f,{contentData:e.tenWeeksImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[4]||(t[4]=[C("14 Weeks")])),_:1,__:[4]})]),_:1}),v("div",Kp,[s(f,{contentData:e.fourteenWeeksImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[5]||(t[5]=[C("5 - 22 Months")])),_:1,__:[5]})]),_:1}),v("div",Qp,[s(f,{contentData:e.fiveToTwentyTwoImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[6]||(t[6]=[C(" 1 Year - 5 Years")])),_:1,__:[6]})]),_:1}),v("div",Xp,[s(f,{contentData:e.oneYearToFiveYearsImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[7]||(t[7]=[C("9 - 14 Years For Girls")])),_:1,__:[7]})]),_:1}),v("div",Zp,[s(f,{contentData:e.nineToFourteenYearsImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[8]||(t[8]=[C("12 Years Above")])),_:1,__:[8]})]),_:1}),v("div",em,[s(f,{contentData:e.twelveYearsAboveImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[9]||(t[9]=[C("15 Years (for pregnant women and women of childbearing age up to 45 years )")])),_:1,__:[9]})]),_:1}),v("div",tm,[s(f,{contentData:e.fifteenYearsImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[10]||(t[10]=[C("18 Years Above")])),_:1,__:[10]})]),_:1}),v("div",am,[s(f,{contentData:e.eighteenYearsAboveImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512)]),_:1})}const nm=M(Gp,[["render",sm],["__scopeId","data-v-89e4457d"]]),im=V({name:"xxxComponent"}),om=V({...im,emits:["dataSaved"],setup(e,{emit:t}){const a=I(),n=I("gurdian phone number");I(!0),I(!0);const o=I(!0),r=I(),l=I();aa(async()=>{Et()});const u=[{placeHolder:{default:"Enter time of death if known"},property_name:"timeOfDeath",dataHandler:U,dataValue:I(),show_error:I(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time arrived"},property_name:"timeArrived",dataHandler:ue,dataValue:I(),show_error:I(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time confirming death"},property_name:"timeOfDeathConfirmation",dataHandler:Oe,dataValue:I(),show_error:I(!1),error_message:"Time required",skip_validation:!1}],h=[{placeHolder:{default:"Enter date of death"},property_name:"dateOfDeath",dataHandler:Ce,dataValue:I(),show_error:I(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date arrived"},property_name:"dateArrived",dataHandler:He,dataValue:I(),show_error:I(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date confirming death"},property_name:"dateOfDeathConfirmation",dataHandler:Ae,dataValue:I(),show_error:I(!1),error_message:"Date required",type:"date",skip_validation:!1}],f=[{lblTxt:"Was the individual pregnant at the time of death?",value:I(!1),disable_checkbox:I(!0)}],_=[{placeHolder:"Enter place of death",property_name:"placeOfDeath",dataHandler:re,dataValue:I(),show_error:I(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of guardian",property_name:"nameOfGuardian",dataHandler:ye,dataValue:I(),show_error:I(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of person confirming death",property_name:"nameOfPersonConfirmindDeath",dataHandler:We,dataValue:I(),show_error:I(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter position of the person confirming death",property_name:"positionOfthePersonConfirmingDeath",dataHandler:Bt,dataValue:I(),show_error:I(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter medical council registration number of the person confirming death",property_name:"medicalConcilRegistrationNumberOfThePersonConfirmingDeath",dataHandler:ia,dataValue:I(),show_error:I(!1),error_message:"Input required, Only letters and numbers are allowed",type:"alphanumeric",skip_validation:!1},{placeHolder:"Other (specify)",property_name:"otherNotes",dataHandler:Rt,dataValue:I(),show_error:I(!1),error_message:"Input required, Only letters allowed",dissabled:o.value,type:"text",skip_validation:!0}],D=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:Jt},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:q}],P=I([{id:1,name:"Natural",selected:!1},{id:2,name:"Accident",selected:!1},{id:3,name:"Homicide",selected:!1},{id:4,name:"Suicide",selected:!1},{id:5,name:"Pending investigation",selected:!1},{id:6,name:"Could not be determined",selected:!1},{id:7,name:"Other - specify",selected:!1}]),N=I([{id:1,name:"Motor vehicle (passenger)",selected:!1},{id:2,name:"Motor vehicle (pedestrian)",selected:!1},{id:3,name:"Drowning",selected:!1},{id:4,name:"Other - specify",selected:!1}]),G=[{multi_Selection:!1,manner_of_death_Selection_value:I(),show_list_label:!0,unqueId:"qwerty",name_of_list:"Manner of death ",property_name:"mannerOfDeath",placeHolder:"Choose one",items:P.value,listUpdatedFN:lt,listFilteredFN:()=>{},use_internal_filter:!0,disabled:I(!1),show_error:I(!1),error_message:"selection required"},{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty1hjkn",name_of_list:"How did it occur?",property_name:"howDiditOccur",placeHolder:"Choose one",items:N.value,listUpdatedFN:wt,listFilteredFN:()=>{},use_internal_filter:!0,disabled:I(!0),show_error:I(!1),error_message:"selection required"}];function q(){Q()}const ee=t;function Q(de={dataSaved:!0}){ee("dataSaved",de)}function U(de){u[0].dataValue.value=de}function ue(de){u[1].dataValue.value=de}function Oe(de){u[2].dataValue.value=de}function Ce(de){const _e={day:de.value.day,month:de.value.month,year:de.value.year,formattedDate:de.value.formattedDate};h[0].dataValue.value=_e}function He(de){const _e={day:de.value.day,month:de.value.month,year:de.value.year,formattedDate:de.value.formattedDate};h[1].dataValue.value=_e,console.log(h[2].dataValue.value)}function Ae(de){const _e={day:de.value.day,month:de.value.month,year:de.value.year,formattedDate:de.value.formattedDate};h[2].dataValue.value=_e,console.log(h[2].dataValue.value)}function re(de){const _e=de.target.value;_[0].dataValue.value=_e}function ye(de){const _e=de.target.value;_[1].dataValue.value=_e}function We(de){const _e=de.target.value;_[2].dataValue.value=_e}function Bt(de){const _e=de.target.value;_[3].dataValue.value=_e}function ia(de){const _e=de.target.value;_[4].dataValue.value=_e}function Rt(de){const _e=de.target.value;_[5].dataValue.value=_e}function lt(de){P.value.forEach(Se=>Se.selected=!1);const _e=P.value.find(Se=>Se.id==de.id);G[1].disabled.value=de.name!="Accident",_e.selected=!0}function wt(de){console.log("listUpdated",de),N.value.forEach(Se=>Se.selected=!1);const _e=N.value.find(Se=>Se.id==de.id);_e.selected=!0}function Et(){const _e=new De().isChildBearing;_e==!0&&(f[0].disable_checkbox.value=!1),_e==!1&&(f[0].disable_checkbox.value=!0)}function Jt(){cs(_),cs(h),cs(u),Lt();const de=Pe.merge(us(_),us(h),us(u),rt(G[0]),rt(G[1]));console.log(de)}function Lt(){const de=P.value.filter(_e=>_e.selected);if(de.length==0)G[0].show_error.value=!0;else if(G[0].show_error.value=!1,de[0].name=="Accident"){const _e=N.value.filter(Se=>Se.selected);G[1].show_error.value=_e.length==0}}function rt(de){const _e=[];let Se={};return de.items.forEach(Qe=>{Qe.selected==!0&&_e.push({property_name:de.property_name,name:Qe.name})}),_e.length>0&&(Se[_e[0].property_name]=_e[0].name),Se}return(de,_e)=>{const Se=c("ion-label");return p(),m(ne,null,[s(g(_t),{class:"checkbox_content md"},{default:i(()=>[s(g(be),null,{default:i(()=>[s(W,{placeholder:_[0].placeHolder,icon:g(Fi),inputValue:_[0].dataValue.value,"onUpdate:inputValue":_[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),v("div",null,[_[0].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(_[0].error_message),1)]),_:1})):A("",!0)])]),_:1}),s(g(be),null,{default:i(()=>[s(ln,{place_holder:h[0].placeHolder,onDateUpDated:h[0].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),v("div",null,[h[0].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(h[0].error_message),1)]),_:1})):A("",!0)])]),_:1})]),_:1}),s(g(_t),null,{default:i(()=>[s(g(be),null,{default:i(()=>[s(ps,{place_holder:u[0].placeHolder,onTimeUpDated:u[0].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),v("div",null,[u[0].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(u[0].error_message),1)]),_:1})):A("",!0)])]),_:1}),s(g(be))]),_:1}),s(g(_t),{class:"checkbox_content md"},{default:i(()=>[s(g(be),null,{default:i(()=>[s(W,{placeholder:_[1].placeHolder,icon:g(Hs),inputValue:_[1].dataValue.value,"onUpdate:inputValue":_[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),v("div",null,[_[1].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(_[1].error_message),1)]),_:1})):A("",!0)])]),_:1}),s(g(be),null,{default:i(()=>[s(g(Hi),{value:f[0].value,alignment:"start",class:"ion-lblCls",disabled:f[0].disable_checkbox.value},{default:i(()=>[C($(f[0].lblTxt),1)]),_:1},8,["value","disabled"])]),_:1})]),_:1}),s(g(_t),null,{default:i(()=>[s(g(be),null,{default:i(()=>[s(W,{placeholder:n.value,icon:g(Ri),inputValue:a.value},null,8,["placeholder","icon","inputValue"])]),_:1}),s(g(be))]),_:1}),s(g(_t),null,{default:i(()=>[s(g(be),null,{default:i(()=>[s(ln,{place_holder:h[1].placeHolder,onDateUpDated:h[1].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),v("div",null,[h[1].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(h[1].error_message),1)]),_:1})):A("",!0)])]),_:1}),s(g(be),null,{default:i(()=>[s(ps,{place_holder:u[1].placeHolder,onTimeUpDated:u[1].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),v("div",null,[u[1].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(u[1].error_message),1)]),_:1})):A("",!0)])]),_:1})]),_:1}),s(g(_t),null,{default:i(()=>[s(g(be),null,{default:i(()=>[s(g(pa),{modelValue:r.value,"onUpdate:modelValue":[_e[0]||(_e[0]=Qe=>r.value=Qe),_e[1]||(_e[1]=Qe=>lt(Qe))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Manner of death",placeholder:"Manner of death",selectLabel:"",label:"name",searchable:!0,"track-by":"id",options:P.value},null,8,["modelValue","options"]),v("div",null,[G[0].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(G[0].error_message),1)]),_:1})):A("",!0)])]),_:1}),s(g(be),null,{default:i(()=>[s(g(pa),{modelValue:l.value,"onUpdate:modelValue":[_e[2]||(_e[2]=Qe=>l.value=Qe),_e[3]||(_e[3]=Qe=>wt(Qe))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"How did it occur?",placeholder:"How did it occur?",selectLabel:"",label:"name",disabled:G[1].disabled.value,searchable:!0,"track-by":"id",options:N.value},null,8,["modelValue","disabled","options"]),v("div",null,[G[1].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(G[1].error_message),1)]),_:1})):A("",!0)])]),_:1})]),_:1}),s(g(_t),null,{default:i(()=>[s(g(be),null,{default:i(()=>[s(W,{placeholder:_[5].placeHolder,icon:g(Rs),inputValue:_[5].dataValue.value,disabled:o.value,"onUpdate:inputValue":_[5].dataHandler},null,8,["placeholder","icon","inputValue","disabled","onUpdate:inputValue"]),v("div",null,[_[5].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(_[5].error_message),1)]),_:1})):A("",!0)])]),_:1})]),_:1}),s(g(_t),null,{default:i(()=>[s(g(be),null,{default:i(()=>[s(ps,{place_holder:u[2].placeHolder,onTimeUpDated:u[2].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),v("div",null,[u[2].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(u[2].error_message),1)]),_:1})):A("",!0)])]),_:1}),s(g(be),null,{default:i(()=>[s(W,{placeholder:_[2].placeHolder,icon:g(Hs),inputValue:_[2].dataValue.value,"onUpdate:inputValue":_[2].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),v("div",null,[_[2].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(_[2].error_message),1)]),_:1})):A("",!0)])]),_:1})]),_:1}),s(g(_t),null,{default:i(()=>[s(g(be),null,{default:i(()=>[s(W,{placeholder:_[3].placeHolder,icon:g(Kn),inputValue:_[3].dataValue.value,"onUpdate:inputValue":_[3].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),v("div",null,[_[3].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(_[3].error_message),1)]),_:1})):A("",!0)])]),_:1}),s(g(be),null,{default:i(()=>[s(W,{placeholder:_[4].placeHolder,icon:g(Rs),inputValue:_[4].dataValue.value,"onUpdate:inputValue":_[4].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),v("div",null,[_[4].show_error.value?(p(),O(Se,{key:0,class:"error-label"},{default:i(()=>[C($(_[4].error_message),1)]),_:1})):A("",!0)])]),_:1})]),_:1}),(p(),O(g(_t),{key:0,class:"spc_btwn"},{default:i(()=>[D[0].addItemButton?(p(),O(Ve,{key:0,name:D[0].name,fill:D[0].btnFill,icon:g(ks),"onClicked:btn":D[0].fn},null,8,["name","fill","icon","onClicked:btn"])):A("",!0),D[1].addItemButton?(p(),O(Ve,{key:1,name:D[1].name,fill:D[1].btnFill,icon:g(Ra),"onClicked:btn":D[1].fn},null,8,["name","fill","icon","onClicked:btn"])):A("",!0)]),_:1}))],64)}}}),lm=M(om,[["__scopeId","data-v-7589a3cd"]]),rm={class:"dash_box"},dm={key:1},cm=V({name:"xxxComponent"}),um=V({...cm,setup(e){const t=I("No outcome created yet"),a=I(!1),n=I("please select a type");I("Add new outcome"),I(!0);const o=I(!0),r=I(""),l=I(!0),u=I(!1),h=co(),f=Ze(()=>h.outcomes),_=I(!1),D=I(!1),P=I(!1),N=I(!1),G=I(!1);I(null),I(null);const q=I([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1},{name:"Death",selected:!1}]),ee=[{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty2",name_of_list:"Add new outcome",placeHolder:"Choose one",items:q.value,listUpdatedFN:Q,listFilteredFN:()=>{},use_internal_filter:!0,disabled:I(!1)}];function Q(re){q.value=re,q.value.forEach(ye=>{ye.selected==!0&&(r.value=ye.name)})}aa(async()=>{ue()}),pt(()=>r.value,async re=>{_.value==!0?_.value=!1:He()}),pt(()=>f.value.length,async re=>{ue()});function U(){q.value.forEach(re=>{re.selected=!1}),r.value=""}function ue(){f.value.length>0?l.value=!1:f.value.length==0&&u.value==!1&&(l.value=!0)}function Oe(re){f.value.splice(re,1)}const Ce=re=>{};async function He(re=!0){const ye=r.value;console.log(ye),r.value=ye;const We=r.value;We==q.value[0].name?P.value=!0:P.value=!1,We==q.value[1].name?(N.value=!0,console.log("show_discharged_options is set to true")):N.value=!1,We==q.value[2].name?(G.value=!0,console.log("show_discharged_options is set to true")):G.value=!1,We==q.value[3].name?D.value=!0:D.value=!1}function Ae(){D.value=!1,P.value=!1,N.value=!1,G.value=!1,U()}return(re,ye)=>{const We=c("ion-row");return p(),O(g(T),null,{default:i(()=>[s(We,null,{default:i(()=>[s(g(be),null,{default:i(()=>[(p(),O($o,{key:0,"onUpdate:removeItem":Oe,"onUpdate:editItem":Ce,displayData:f.value},null,8,["displayData"]))]),_:1})]),_:1}),l.value?(p(),O(We,{key:0},{default:i(()=>[v("span",rm,$(t.value),1)]),_:1})):A("",!0),o.value?(p(),m("div",dm,[s(We,null,{default:i(()=>[s(g(be),null,{default:i(()=>[s(uo,{multiSelection:ee[0].multi_Selection,show_label:ee[0].show_list_label,uniqueId:ee[0].unqueId,name_of_list:ee[0].name_of_list,choose_place_holder:ee[0].placeHolder,"items_-list":ee[0].items,use_internal_filter:ee[0].use_internal_filter,disabled:ee[0].disabled.value,onItemListUpDated:ee[0].listUpdatedFN,onItemListFiltered:ee[0].listFilteredFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered"]),v("div",null,[a.value?(p(),O(g(ie),{key:0,class:"error-label"},{default:i(()=>[C($(n.value),1)]),_:1})):A("",!0)])]),_:1})]),_:1})])):A("",!0),P.value?(p(),O(Mo,{key:2,onDataSaved:Ae,selected_ward_prop:"",admitted_other_props:""})):A("",!0),N.value?(p(),O(To,{key:3,onDataSaved:Ae,selected_referral_data:"",selected_other_referral_data:""})):A("",!0),G.value?(p(),O(Oo,{key:4,onDataSaved:Ae,selected_discharged_prop:"",selected_discharged_data:""})):A("",!0),D.value?(p(),O(lm,{key:5,onDataSaved:Ae})):A("",!0)]),_:1})}}}),hm=M(um,[["__scopeId","data-v-a93c247b"]]),pm=V({name:"History",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{initialData:[],iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...y(rn,["headssAssesment"])},mounted(){this.handleHeadAssessment();const e=rn();this.initialData=e.getInitial()},watch:{headssAssesment:{handler(){this.handleHeadAssessment()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleHeadAssessment(){S(this.headssAssesment,"Who does does the client live with")=="other"?d(this.headssAssesment,"Other","displayNone",!1):d(this.headssAssesment,"Other","displayNone",!0)}}}),mm={class:"container"};function fm(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",mm,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.headssAssesment},null,8,["contentData"])]),_:1})]),_:1})])}const _m=M(pm,[["render",fm],["__scopeId","data-v-ba4e5256"]]),vm=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,IonPopover:Ft,DashBox:Ct,SelectionPopover:Dt,BasicInputField:W,List:gt,BasicForm:F,DynamicButton:Ve,previousDiagnosis:Fo},data(){return{iconsContent:w,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],diagnosisData:[],popoverOpen:!1,event:"",selectedCondition:""}},setup(){return{checkmark:K,pulseOutline:X}},computed:{...y(dn,["diagnosis"]),inputFields(){return this.diagnosis[0].data.rowData[0].colData}},watch:{diagnosis:{handler(){this.setDashedBox()},deep:!0}},mounted(){this.updateDiagnosisStores(),this.setDashedBox()},methods:{displayInputFields(){this.conditionStatus="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validaterowData(){var e;return this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage=!1,this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage="",this.diagnosisData=await this.getDiagnosis(this.inputFields[0].value),this.inputFields[0].value==((e=this.diagnosisData[0])==null?void 0:e.name)?!0:(this.search_item=!0,this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage=!0,this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage="Please select diagnosis from the list",!1)},async addNewRow(){await this.validaterowData()&&(this.diagnosis[0].data.rowData[0].colData[0].value=this.inputFields[0].value,this.search_item=!1,this.display_item=!0,this.addItemButton=!0,this.buildDiagnosis()),this.diagnosis[0].data.rowData[0].colData[0].value="",this.diagnosis[0].data.rowData[0].colData[0].popOverData.data=[]},buildDiagnosis(){this.diagnosis[0].selectedData.push({actionBtn:!0,btn:["edit","delete"],name:this.inputFields[0].value,id:this.diagnosisData[0].concept_id,display:[this.inputFields[0].value],data:{concept_id:6542,value_coded:this.diagnosisData[0].concept_id,obs_datetime:Ke.getSessionDate()}})},updateDiagnosisStores(){dn().setDiagnosis(this.diagnosis)},openPopover(e){this.event=e,this.popoverOpen=!0},async handleInputData(e){e.inputHeader=="Diagnosis"&&(this.diagnosisData=await this.getDiagnosis(e.value),this.diagnosis[0].data.rowData[0].colData[0].popOverData.data=this.diagnosisData,this.validaterowData())},async getDiagnosis(e){return await yi.getDiagnosis(e,1,5)},editDiagnosis(e){this.deleteDiagnosis(e),this.selectedText=e.name,this.diagnosis[0].data.rowData[0].colData[0].value=e.name,this.addItemButton=!1,this.search_item=!0,this.updateDiagnosisStores()},async openDeletePopover(e){await sa("Do you want to delete ".concat(e.name," ?"),e.event)&&this.deleteDiagnosis(e.name)},deleteDiagnosis(e){this.diagnosis[0].selectedData=this.diagnosis[0].selectedData.filter(t=>t.display[0]!==e.name),this.updateDiagnosisStores()},setDashedBox(){this.inputFields[0].value&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.diagnosis[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),gm={key:0},ym={class:"ion-padding",slot:"content"};function bm(e,t,a,n,o,r){const l=c("DashBox"),u=c("list"),h=c("basic-form"),f=c("ion-row"),_=c("DynamicButton"),D=c("ion-label"),P=c("ion-item"),N=c("previousDiagnosis"),G=c("ion-accordion"),q=c("ion-accordion-group");return p(),m(ne,null,[s(l,{status:e.no_item,content:"No Diagnosis added"},null,8,["status"]),e.display_item?(p(),m("span",gm,[s(u,{listData:e.diagnosis[0].selectedData,"onClicked:edit":t[0]||(t[0]=ee=>e.editDiagnosis(ee)),"onClicked:delete":e.deleteDiagnosis},null,8,["listData","onClicked:delete"])])):A("",!0),e.search_item?(p(),O(f,{key:1},{default:i(()=>[s(h,{contentData:e.diagnosis,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,"onClicked:button":e.addNewRow},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","onClicked:button"])]),_:1})):A("",!0),e.addItemButton?(p(),O(f,{key:2,style:{"margin-top":"10px"}},{default:i(()=>[s(_,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=ee=>e.displayInputFields()),name:"Add Diagnosis"},null,8,["icon"])]),_:1})):A("",!0),s(f,null,{default:i(()=>[s(q,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(G,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[s(P,{slot:"header",color:"light"},{default:i(()=>[s(D,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[C("Previous Diagnosis")])),_:1,__:[2]})]),_:1}),v("div",ym,[s(N)])]),_:1})]),_:1},512)]),_:1})],64)}const Dm=M(vm,[["render",bm],["__scopeId","data-v-230bd021"]]),Sm=V({name:"diagnosisTreatment",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonTitle:L,IonToolbar:R,IonMenu:z,menuController:$e,IonToggle:se,IonSelectOption:oe,IonInput:J,IonSelect:le,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{currentSection:0}},setup(){return{checkmark:K,pulseOutline:X}},computed:{...y(bi,["diagnoses"])},mounted(){},watch:{},methods:{}}),Cm={class:"container"};function wm(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",Cm,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.diagnoses},null,8,["contentData"])]),_:1})]),_:1})])}const Im=M(Sm,[["render",wm],["__scopeId","data-v-d63eb8c8"]]),Pm=V({name:"Counselling",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w}},computed:{...y(Ss,["preventativeCounselling"])},mounted(){},watch:{},setup(){return{checkmark:K,pulseOutline:X}},methods:{}}),Nm={class:"container"};function km(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",Nm,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.preventativeCounselling},null,8,["contentData"])]),_:1})]),_:1})])}const Bm=M(Pm,[["render",km],["__scopeId","data-v-97077fb6"]]),Em=V({name:"Immunization",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonTitle:L,IonToolbar:R,IonMenu:z,menuController:$e,IonToggle:se,IonSelectOption:oe,IonInput:J,IonSelect:le,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{currentSection:0}},setup(){return{checkmark:K,pulseOutline:X}},computed:{...y(yt,["ttDoses"]),...y(yt,["HepB1"]),...y(yt,["HepB2"]),...y(yt,["HepB3"]),...y(yt,["hepBReason"])},mounted(){this.handleB1(),this.handleB2(),this.handleB3(),this.handelHepreason()},watch:{HepB1:{handler(){this.handleB1()},deep:!0},HepB2:{handler(){this.handleB2()},deep:!0},HepB3:{handler(){this.handleB3()},deep:!0},hepBReason:{handler(){this.handelHepreason()},deep:!0}},methods:{handleB1(){S(this.HepB1,"Hepatitis B-1")=="yes"?d(this.HepB1,"hepb1 Date","displayNone",!1):d(this.HepB1,"hepb1 Date","displayNone",!0)},handleB2(){S(this.HepB2,"Hepatitis B-2")=="yes"?d(this.HepB2,"Hep B-2 Date","displayNone",!1):d(this.HepB2,"Hep B-2 Date","displayNone",!0)},handleB3(){S(this.HepB3,"Hepatitis B-3")=="yes"?d(this.HepB3,"hep3Date","displayNone",!1):d(this.HepB3,"hep3Date","displayNone",!0)},handelHepreason(){S(this.hepBReason,"Hepatitis B")=="other"?d(this.hepBReason,"Specify","displayNone",!1):d(this.hepBReason,"Specify","displayNone",!0)},goToNextSection(){this.currentSection<2&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--}}}),Vm={class:"container"};function Am(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",Vm,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.ttDoses},null,8,["contentData"]),s(h,{contentData:e.HepB1},null,8,["contentData"]),s(h,{contentData:e.HepB2},null,8,["contentData"]),s(h,{contentData:e.HepB3},null,8,["contentData"]),s(h,{contentData:e.hepBReason},null,8,["contentData"])]),_:1})]),_:1})])}const $m=M(Em,[["render",Am],["__scopeId","data-v-20d6d5da"]]),Mm=V({name:"intimatePartner",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonTitle:L,IonToolbar:R,IonMenu:z,menuController:$e,IonToggle:se,IonSelectOption:oe,IonInput:J,IonSelect:le,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{currentSection:0}},setup(){return{checkmark:K,pulseOutline:X}},computed:{},mounted(){},watch:{ipv:{handler(){},deep:!0},referrals:{handler(){},deep:!0}},methods:{goToNextSection(){this.currentSection<5&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--}}}),Tm={class:"container"};function Om(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("ion-card-content"),f=c("ion-card");return p(),m("div",Tm,[s(f,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(h)]),_:1}),s(f,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(h)]),_:1}),s(f,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(h)]),_:1}),s(f,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(h)]),_:1}),s(f,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(h)]),_:1}),s(f,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"sub_item_header"})]),_:1}),s(h)]),_:1})])}const Fm=M(Mm,[["render",Om],["__scopeId","data-v-a83a3b60"]]),Hm=V({name:"Counselling",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,currentSection:0}},computed:{...y(Ma,["treatment"]),...y(Ma,["malaria"])},mounted(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther(),this.handleMalariaPreventive()},setup(){return{checkmark:K,pulseOutline:X}},watch:{treatment:{handler(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther()},deep:!0},malaria:{handler(){this.handleMalariaPreventive(),this.handleOtherMalaria()},deep:!0}},methods:{handlepreventive(){S(this.treatment,"antihelminthic treatment")=="yes"?b(this.treatment,"antihelminthic treatment provided","displayNone",!1):b(this.treatment,"antihelminthic treatment provided","displayNone",!0)},handleNoPreventative(){S(this.treatment,"antihelminthic treatment")=="no"?b(this.treatment,"no preventative treatment provided","displayNone",!1):b(this.treatment,"no preventative treatment provided","displayNone",!0)},handleOther(){S(this.treatment,"no preventative treatment provided")=="other"?d(this.treatment,"Specify","displayNone",!1):d(this.treatment,"Specify","displayNone",!0)},handleMalariaPreventive(){S(this.malaria," counselling on malaria prevention")=="no"?b(this.malaria,"counselling on malaria prevention","displayNone",!1):b(this.malaria,"counselling on malaria prevention","displayNone",!0)},handleOtherMalaria(){S(this.malaria,"counselling on malaria prevention")=="other"?d(this.malaria,"other","displayNone",!1):d(this.malaria,"other","displayNone",!0)},goToPreviousSection(){this.currentSection>0&&this.currentSection--}}}),Rm={class:"container"};function Lm(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",Rm,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.treatment},null,8,["contentData"])]),_:1})]),_:1}),s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.malaria},null,8,["contentData"])]),_:1})]),_:1})])}const xm=M(Hm,[["render",Lm],["__scopeId","data-v-a08bbd24"]]),Um={style:{"margin-left":"30px","margin-bottom":"14px"}},zm={style:{"margin-top":"14px"}},qm={class:"ion-padding",slot:"content"},Wm={key:0},Gm={class:"previousSecDrgs"},jm={class:"ion-padding",slot:"content"},Ym={key:0},Jm={class:"previousSecDrgs"},Km=V({watch:{},name:"xxxComponent"}),Qm=V({...Km,setup(e){const t=w,a=pi,n=I(!1),o=I(!1),r=I(!0),l=I(!1);I(!1);let u=null;const h=I(0),f=I(""),_=I(!1),D=I(""),P=I(!1),N=I(),G=I(!1),q=I([]),ee=I(""),Q=I(""),U=I(""),ue=I(""),Oe=I(""),Ce=I(""),He=I(""),Ae=I(!1),re="Add  medication",ye="clear",We=I("Show more medications"),Bt=Mt(),ia=La(),Rt=Ze(()=>ia.selectedMedicalAllergiesList),lt=Ze(()=>Bt.selectedMedicalDrugsList);Ze(()=>Bt.nonPharmalogicalTherapyAndOtherNotes),Ze(()=>Bt.selectedMedicalAllergiesList),I();const wt=["first","second","third"],Et=I(),Jt=I(),Lt=I(),rt=I(!1);I(!1),I(!1),I("Show more notes"),I("Show more allergies");const de=I(),_e=I(),Se=I(),Qe=!1,Wa="45",oa=I("List"),Ga=I("Please select method of prescribing medication"),la=I([{name:"Oral"},{name:"Intravenous (IV)"},{name:"Intramuscular (IM)"},{name:"Intradermal"},{name:"Rectally"},{name:"Sublingual"},{name:"Vaginally"},{name:"Buccal"},{name:"Subcutaneous"},{name:"Intraosseous"},{name:"Other"}]),ja=!1;function ra(he){}function et(he){}aa(async()=>{const he=new ui,{previousDrugPrescriptions:ae,previousClinicalNotes:Fe,previousDrugAllergies:Ye}=await he.getPatientEncounters();Et.value=ae,Jt.value=Object.entries(Fe)[0];const[,...Xe]=Object.entries(Fe);Lt.value=Xe,de.value=Object.entries(Ye)[0];const[,...at]=Object.entries(Ye);_e.value=at}),pt(()=>ee.value,async he=>{ft()}),pt(()=>Q.value,async he=>{Vt()}),pt(()=>ue.value,async he=>{_a()});function tt(){r.value=!r.value,n.value=!0}async function ft(){return await Za()?_.value=!1:(f.value="please select a valid drug name",_.value=!0),_.value}async function Vt(){return Da(Q.value)?P.value=!1:(D.value="please enter a number",P.value=!0),P.value}async function _a(){return Da(ue.value)?G.value=!1:(N.value="please enter a number",G.value=!0),G.value}async function Ya(){const he=await ft(),ae=await Vt(),Fe=await _a();return!he&&!ae&&!Fe}function Ja(he){a.forEach(ae=>{ae.selected=!1}),a[he].selected=!a[he].selected,U.value=a[he].label}async function Ka(){if(!await Ya()){Pt("Please enter correct data values",4e3);return}da();const ae=Ke.getSessionDate();ue.value;const Fe=ss(ae,parseInt(ue.value));let Ye=!1;va(Se.value)==!0&&(Ye=!0);const Xe={drugName:ee.value,dose:Q.value,frequency:U.value,duration:ue.value,prescription:Fe,drug_id:He.value,units:Ce.value,highlightbackground:Ye};lt.value.push(Xe),ee.value="",Q.value="",U.value="",ue.value="",Oe.value="",h.value++,Kt()}async function Qa(he){const ae=he.target.value;ga(he);const Xe=await Oa.getOPDDrugs({name:ae,page:1,page_size:10});Xe.map(at=>({label:at.name,value:at.name,other:at})),q.value=Xe}async function Xa(he){let ae;he.target===void 0?ae=he:ae=he.target.value;const Xe=await Oa.getOPDDrugs({name:ae,page:1,page_size:10});return Xe.map(at=>({label:at.name,value:at.name,other:at})),q.value=Xe,Xe}function va(he){const ae=[];return Rt.value.forEach(Ye=>{Ye.selected&&ae.push(Ye.concept_id)}),es([he],ae)==!0?(Pt("Client is allergic to the selected medication",4e3),!0):!1}async function Za(){return(await Xa(ee.value)).length>0?ee.value.length!=0:!1}function es(he,ae){return he.some(Fe=>ae.includes(Fe.concept_id))}function ga(he){u=he,l.value=!0}function ts(he,ae){ee.value=he,He.value=ae.drug_id,Ce.value=ae.units,Se.value=ae,va(ae)}function ya(){Ae.value=!0}function ba(he){const ae=lt.value[he];lt.value.splice(he,1),ee.value=ae.drugName,Q.value=ae.dose,U.value=ae.frequency,ue.value=ae.duration,Oe.value=ae.prescription,r.value=!r,h.value++,Kt()}function as(he){lt.value.splice(he,1),h.value++,Kt()}function Kt(){Mt().setSelectedMedicalDrugsList(lt)}function Da(he){return/^[0-9]+$/.test(he)}function ss(he,ae){const Fe=new Date(he);Fe.setDate(Fe.getDate()+ae);const Ye=Fe.getFullYear(),Xe=String(Fe.getMonth()+1).padStart(2,"0"),at=String(Fe.getDate()).padStart(2,"0");return"".concat(Ye,"-").concat(Xe,"-").concat(at)}function da(){n.value=!1,o.value=!0,r.value=!0}function ns(he){}function is(he){wt.filter(Fe=>Fe!==he.detail.value);const ae=he.detail.value;ae!==void 0?ae=="second"&&(We.value="Show less medications",rt.value=!rt.value):(We.value="Show more medications",rt.value=!rt.value)}return(he,ae)=>{const Fe=c("ion-row"),Ye=c("ion-icon"),Xe=c("ion-popover"),at=c("ListPicker");return p(),O(g(T),null,{default:i(()=>[s(g(ie),null,{default:i(()=>ae[7]||(ae[7]=[C("Diagnosis")])),_:1,__:[7]}),s(Fe,null,{default:i(()=>[s(g(E),{lines:"none",class:"medicalAl"},{default:i(()=>[s(Fe,null,{default:i(()=>[(p(!0),m(ne,null,fe(Rt.value,(Be,st)=>(p(),m("div",{key:st},[Be.selected?(p(),O(g(mt),{key:0,class:"medicalAlBtn"},{default:i(()=>[C($(Be.name),1)]),_:2},1024)):A("",!0)]))),128))]),_:1})]),_:1})]),_:1}),s(g(E),{lines:"none"},{default:i(()=>[s(g(ie),null,{default:i(()=>ae[8]||(ae[8]=[C("List of medications")])),_:1,__:[8]})]),_:1}),v("div",Um,[(p(),O(Ea,{_selectedMedicalDrugsList:lt.value,onEditItem:ba,onRemoveItem:as,key:h.value},null,8,["_selectedMedicalDrugsList"])),r.value?A("",!0):(p(),O(Fe,{key:0,style:{"margin-bottom":"20px"}},{default:i(()=>[s(g(be),null,{default:i(()=>[s(g(E),{class:"input_item"},{default:i(()=>[s(g(J),{modelValue:ee.value,"onUpdate:modelValue":ae[0]||(ae[0]=Be=>ee.value=Be),onIonInput:Qa,fill:"outline"},null,8,["modelValue"]),s(g(ie),null,{default:i(()=>[s(Ye,{slot:"start",icon:g(t).search,class:"selectedPatient","aria-hidden":"true"},null,8,["icon"])]),_:1})]),_:1}),v("div",null,[_.value?(p(),O(g(ie),{key:0,class:"error-label"},{default:i(()=>[C($(f.value),1)]),_:1})):A("",!0)]),_.value?A("",!0):(p(),O(Xe,{key:0,"is-open":l.value,event:g(u),onDidDismiss:ae[1]||(ae[1]=Be=>l.value=!1),"keyboard-close":!1,"show-backdrop":!1,"dismiss-on-select":!0,style:{top:"10px",left:"-25px"}},{default:i(()=>[s(g(H),{color:"light",class:"ion-padding content-al"},{default:i(()=>[s(g(T),{class:"list-al"},{default:i(()=>[(p(!0),m(ne,null,fe(q.value,(Be,st)=>(p(),m("div",{class:"item-al",key:st},[s(g(be),{onClick:os=>ts(Be.name,Be)},{default:i(()=>[C($(Be.name),1)]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["is-open","event"]))]),_:1}),s(g(be),null,{default:i(()=>[s(at,{style:{"margin-top":"-2%"},multiSelection:Qe,uniqueId:Wa,name_of_list:oa.value,choose_place_holder:Ga.value,use_internal_filter:!0,"items_-list":la.value,show_label:ja,disabled:!1,onItemListUpDated:ra,onItemListFiltered:et},null,8,["name_of_list","choose_place_holder","items_-list"])]),_:1}),s(g(be),null,{default:i(()=>[s(g(E),{class:"input_item"},{default:i(()=>[s(g(J),{placeholder:"Dose",modelValue:Q.value,"onUpdate:modelValue":ae[2]||(ae[2]=Be=>Q.value=Be),fill:"outline"},null,8,["modelValue"]),s(g(ie),null,{default:i(()=>ae[9]||(ae[9]=[v("span",{class:"selectedPatient"},null,-1)])),_:1,__:[9]})]),_:1}),v("div",null,[P.value?(p(),O(g(ie),{key:0,class:"error-label"},{default:i(()=>[C($(D.value),1)]),_:1})):A("",!0)])]),_:1}),s(g(be),null,{default:i(()=>[s(g(E),{class:"input_item"},{default:i(()=>[v("span",{class:"spcls",id:"chooseType",onClick:ya},[s(g(J),{placeholder:"Frequency",modelValue:U.value,"onUpdate:modelValue":ae[3]||(ae[3]=Be=>U.value=Be)},null,8,["modelValue"]),Ae.value?A("",!0):(p(),O(Ye,{key:0,icon:g(Cs)},null,8,["icon"])),Ae.value?(p(),O(Ye,{key:1,icon:g(ws)},null,8,["icon"])):A("",!0)]),s(Xe,{class:"popover-al","show-backdrop":!1,trigger:"chooseType","trigger-action":"click",onDidDismiss:ae[4]||(ae[4]=Be=>Ae.value=!1)},{default:i(()=>[s(g(H),{color:"light",class:"ion-padding content-al"},{default:i(()=>[s(g(ie),null,{default:i(()=>ae[10]||(ae[10]=[C("Choose the type:")])),_:1,__:[10]}),s(g(T),{class:"list-al"},{default:i(()=>[(p(!0),m(ne,null,fe(g(a),(Be,st)=>(p(),m("div",{class:"item-al",key:st},[s(g(ie),{onClick:os=>Ja(st),style:{display:"flex","justify-content":"space-between"}},{default:i(()=>[C($(Be.label)+" ",1),Be.selected?(p(),O(Ye,{key:0,class:"icon-al",icon:g(Li)},null,8,["icon"])):A("",!0)]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(g(be),null,{default:i(()=>[s(g(E),{class:"input_item"},{default:i(()=>[s(g(J),{placeholder:"Duration",modelValue:ue.value,"onUpdate:modelValue":ae[5]||(ae[5]=Be=>ue.value=Be),fill:"outline"},null,8,["modelValue"]),s(g(ie),null,{default:i(()=>ae[11]||(ae[11]=[v("span",{class:"selectedPatient"},null,-1)])),_:1,__:[11]})]),_:1}),v("div",null,[G.value?(p(),O(g(ie),{key:0,class:"error-label"},{default:i(()=>[C($(N.value),1)]),_:1})):A("",!0)])]),_:1}),s(g(be),{class:"action_buttons"},{default:i(()=>[v("span",{onClick:ae[6]||(ae[6]=Be=>Ka())},"+ Save")]),_:1})]),_:1})),r.value?(p(),O(Ve,{key:1,name:re,fill:ye,icon:g(ks),"onClicked:btn":tt},null,8,["icon"])):A("",!0),v("div",zm,[s(g(Gt),{ref:"accordionGroup",class:"previousView",onIonChange:ns},{default:i(()=>[s(g(jt),{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[s(g(E),{slot:"header",color:"light"},{default:i(()=>[s(g(ie),{class:"previousLabel"},{default:i(()=>ae[12]||(ae[12]=[C("View previous medications")])),_:1,__:[12]})]),_:1}),v("div",qm,[(p(!0),m(ne,null,fe(Et.value,(Be,st)=>(p(),m("div",{class:"ionLbltp",key:st},[st==0?(p(),m("div",Wm,[v("div",null,[s(g(ie),{class:"previousLabelDate"},{default:i(()=>[C($(Be.prescriptionDate),1)]),_:2},1024)]),v("div",Gm,[(p(),O(Ea,{_selectedMedicalDrugsList:Be.previousPrescriptions,show_actions_buttons:!1,key:h.value},null,8,["_selectedMedicalDrugsList"]))])])):A("",!0)]))),128)),s(g(Gt),{onIonChange:is},{default:i(()=>[s(g(jt),{value:"second","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[s(g(E),{slot:"header",color:"light"},{default:i(()=>[s(g(ie),{class:"",color:"primary"},{default:i(()=>[C($(We.value),1)]),_:1})]),_:1}),v("div",jm,[(p(!0),m(ne,null,fe(Et.value,(Be,st)=>(p(),m("div",{class:"ionLbltp",key:st},[rt.value&&st>0?(p(),m("div",Ym,[v("div",null,[s(g(ie),{class:"previousLabelDate"},{default:i(()=>[C($(Be.prescriptionDate),1)]),_:2},1024)]),v("div",Jm,[(p(),O(Ea,{_selectedMedicalDrugsList:Be.previousPrescriptions,show_actions_buttons:!1,key:h.value},null,8,["_selectedMedicalDrugsList"]))])])):A("",!0)]))),128))])]),_:1})]),_:1})])]),_:1})]),_:1},512)])])]),_:1})}}}),Xm=M(Qm,[["__scopeId","data-v-9c537322"]]),Pn=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"What is the discharge status of the woman?",selectedValue:"",class:"bold",name:"Discharge status of woman",displayNext:"Discharged alive"},data:[{name:"Discharged alive",value:"Discharged alive",colSize:"5"},{name:"Absconded",value:"Absconded",colSize:"5"},{name:"Referred out",value:"Referred out",colSize:"5"},{name:"Death",value:"Death",colSize:"5"}]}},{childName:"Discharge status of woman",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Other mode of delivery notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Discharge status of woman",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Postpartum family planning counselling done?",selectedValue:"",name:"Postpartum family planning counselling",class:"bold",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Discharge status of woman",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Postpartum family planning methods provided?",selectedValue:"",name:"Postpartum family planning methods provided",class:"bold",displayNone:!0,displayNext:"Yes"},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Postpartum family planning methods provided",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Select the method provided",selectedValue:"",name:"Postpartum family planning method",class:"bold",displayNone:!0},data:[{name:"IUCD",value:"IUCD",colSize:"3"},{name:"BTL",value:"BTL",colSize:"3"}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Facility for ART",icon:w.search,value:"",name:"facility for art",popOver:!0,valueType:"text",eventType:"input",required:!0,alertsErrorMassage:"",placeholder:"Search for facility",popOverData:{filterData:!1,data:[]},id:"",idName:"facility_id",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Date of Referral*",value:"",name:"Date of referral",icon:w.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Referral*",value:"",name:"Time of referral",icon:w.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Reason for Referral (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Woman's Condition on Referral",value:"",name:"condition on referral",required:!0,valueType:"text",eventType:"input",alertsErrorMassage:"",placeholder:"Describe condition on referral",style:{padding:"10px",borderBottom:"1px solid #ccc"}}]}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{inputHeader:"Date of Death*",value:"",name:"Date of Death",icon:w.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Death*",value:"",name:"Time of Death",icon:w.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Cause of death (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]}]}}],Nn=je("dischargeWomanStore",{state:()=>({dischargeWoman:[...Pn]}),actions:{setDischargeWoman(e){this.dischargeWoman=e},getInitial(){return[...Pe.cloneDeep(Pn)]}}}),Zm=V({name:"DeliveryDetails",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],facilityData:[]}},computed:{...y(Nn,["dischargeWoman"])},mounted(){const e=Nn();this.initialData=e.getInitial(),this.handleSelection()},watch:{dischargeWoman:{handler(e){this.handleSelection(),this.handleInputData(e)},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{validationRules(e){return ot(this.dischargeWoman,e.name,this[e.name])},async handleInputData(e){this.validationRules(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),d(this.dischargeWoman,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Ht.getFacilities({name:e})},handleSelection(){S(this.dischargeWoman,"Discharge status of woman")=="Referred out"?d(this.dischargeWoman,"facility for art","displayNone",!1):d(this.dischargeWoman,"facility for art","displayNone",!0),S(this.dischargeWoman,"Discharge status of woman")=="Death"?d(this.dischargeWoman,"Date of Death","displayNone",!1):d(this.dischargeWoman,"Date of Death","displayNone",!0)}}}),ef={class:"container"};function tf(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",ef,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.dischargeWoman,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const af=M(Zm,[["render",tf],["__scopeId","data-v-c08e611c"]]),kn=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Reason for ending PNC?",selectedValue:"",name:"Reason for ending PNC",class:"bold"},data:[{name:"Refer",value:"Refer",colSize:"8"},{name:"Discharge home",value:"Discharge home",colSize:"8"},{name:"Death",value:"Death",colSize:"8"},{name:"Lost",value:"Lost",colSize:"8"}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Facility for ART",icon:w.search,value:"",name:"facility for art",popOver:!0,valueType:"text",eventType:"input",required:!0,alertsErrorMassage:"",placeholder:"Search for facility",popOverData:{filterData:!1,data:[]},id:"",idName:"facility_id",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Date of Referral*",value:"",name:"Date of referral",icon:w.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Referral*",value:"",name:"Time of referral",icon:w.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Reason for Referral (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Woman's Condition on Referral",value:"",name:"condition on referral",required:!0,valueType:"text",eventType:"input",alertsErrorMassage:"",placeholder:"Describe condition on referral",style:{padding:"10px",borderBottom:"1px solid #ccc"}}]}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{inputHeader:"Date of Death*",value:"",name:"Date of Death",icon:w.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Death*",value:"",name:"Time of Death",icon:w.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Cause of death (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]}]}}],Bn=je("pncEndStore",{state:()=>({pncEnd:[...kn]}),actions:{setPNCend(e){this.pncEnd=e},getInitial(){return[...Pe.cloneDeep(kn)]}}}),sf=V({name:"PNCEnd",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...y(Bn,["pncEnd"])},mounted(){const e=Bn();this.initialData=e.getInitial(),this.handleSelection()},watch:{pncEnd:{handler(e){this.handleSelection()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleSelection(){S(this.pncEnd,"Reason for ending PNC")=="Refer"?d(this.pncEnd,"facility for art","displayNone",!1):d(this.pncEnd,"facility for art","displayNone",!0),S(this.pncEnd,"Reason for ending PNC")=="Death"?d(this.pncEnd,"Date of Death","displayNone",!1):d(this.pncEnd,"Date of Death","displayNone",!0)}}}),nf={class:"container"};function of(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",nf,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.pncEnd,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const lf=M(sf,[["render",of],["__scopeId","data-v-d88152a7"]]);function rf(e,t,a){var r,l,u,h;const n={"Birth weight":()=>ua(t,a),"Current weight":()=>ua(t,a),"Full name of the baby":()=>ua(t,a),"Date BCG given":()=>ua(t,a),"Respiratory rate":()=>ua(t,a)},o=((r=n[t])==null?void 0:r.call(n))==null;return d(e,t,"alertsErrorMassage",!o),b(e,t,"alertsErrorMassage",!o),B(e,t,"alertsErrorMassage",!o),o||(d(e,t,"alertsErrorMassage",(l=n[t])==null?void 0:l.call(n)),b(e,t,"alertsErrorMassage",(u=n[t])==null?void 0:u.call(n)),B(e,t,"alertsErrorMassage",(h=n[t])==null?void 0:h.call(n))),o}function ua(e,t){if(e==="Systolic blood pressure"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,20,140);if(o!==null)return o}else if(e==="Diastolic blood pressure"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,20,90);if(o!==null)return o}else if(e==="Pulse"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,50,200);if(o!==null)return o}else if(e==="Temperature"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,35,42);if(o!==null)return o}else if(e==="Respiratory rate"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,12,16);if(o!==null)return o}else return null;return null}const df=V({name:"BabyStatus",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],initialData1:[]}},computed:{...y(Ca,["babyStatusDetails"]),...y(Ca,["dangerSigns"]),"Birth weight"(){return Y(this.babyStatusDetails,"Birth weight","value")}},mounted(){const e=Ca(),t=Ca();this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.validateRowData({})},watch:{},setup(){return{checkmark:K,pulseOutline:X}},methods:{validationRules(e){return rf(this.babyStatusDetails,e.name,this[e.name])},async handleInputData(e){this.validateRowData(e)},validateRowData(e){this.validationRules(e)}}}),cf={class:"container"};function uf(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",cf,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.babyStatusDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const hf=M(df,[["render",uf],["__scopeId","data-v-906f94af"]]),pf=V({name:"DeliveryDetails",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...y(Yt,["dangerSigns"])},mounted(){const e=Yt();this.initialData=e.getInitial(),this.handleDangerSigns()},watch:{dangerSigns:{handler(){this.handleDangerSigns()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleDangerSigns(){var t;const e=["Bleeding vaginally","Central cyanosis","Preterm labour","Severe vomiting","Fever","Visual disturbance","Severe abdominal pain","Unconscious","Other danger signs"];(t=Z(this.dangerSigns,"No danger signs"))!=null&&t.checked?e.forEach(a=>{B(this.dangerSigns,a,"checked",!1),B(this.dangerSigns,a,"disabled",!0)}):e.forEach(a=>{B(this.dangerSigns,a,"disabled",!1)})}}}),mf={class:"container"};function ff(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",mf,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.dangerSigns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const _f=M(pf,[["render",ff],["__scopeId","data-v-b3265856"]]);function vf(e,t,a){var r,l,u,h;const n={"Systolic blood pressure":()=>ha(t,a),"Diastolic blood pressure":()=>ha(t,a),Pulse:()=>ha(t,a),Temperature:()=>ha(t,a),"Respiratory rate":()=>ha(t,a)},o=((r=n[t])==null?void 0:r.call(n))==null;return d(e,t,"alertsErrorMassage",!o),b(e,t,"alertsErrorMassage",!o),B(e,t,"alertsErrorMassage",!o),o||(d(e,t,"alertsErrorMassage",(l=n[t])==null?void 0:l.call(n)),b(e,t,"alertsErrorMassage",(u=n[t])==null?void 0:u.call(n)),B(e,t,"alertsErrorMassage",(h=n[t])==null?void 0:h.call(n))),o}function ha(e,t){if(e==="Systolic blood pressure"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,20,140);if(o!==null)return o}else if(e==="Diastolic blood pressure"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,20,90);if(o!==null)return o}else if(e==="Pulse"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,50,200);if(o!==null)return o}else if(e==="Temperature"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,35,42);if(o!==null)return o}else if(e==="Respiratory rate"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,12,16);if(o!==null)return o}else return null;return null}const gf=V({name:"DeliveryDetails",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",BMI:{},BPStatus:{},hasValidationErrors:[],vitalsInstance:{},inputField:"",initialData:[]}},computed:{...y(Yt,["vitals"]),...y(Me,["patient"]),"Systolic blood pressure"(){return Y(this.vitals,"Systolic blood pressure","value")},"Diastolic blood pressure"(){return Y(this.vitals,"Diastolic blood pressure","value")},Pulse(){return Y(this.vitals,"Pulse","value")},Temperature(){return Y(this.vitals,"Temperature","value")},"Respiratory rate"(){return Y(this.vitals,"Respiratory rate","value")}},mounted(){const e=Yt();this.initialData=e.getInitial1(),this.validateRowData({})},watch:{},setup(){return{checkmark:K,pulseOutline:X}},methods:{validationRules(e){return vf(this.vitals,e.name,this[e.name])},async handleInputData(e){await this.validateRowData(e)},updateVitalsStores(){Va().setVitals(this.vitals)},async validateRowData(e){this.validationRules(e)},async setBMI(e,t){var a,n,o,r,l,u,h,f;(n=(a=this.patient)==null?void 0:a.personInformation)!=null&&n.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&(this.BMI=await bt.getBMI(parseInt(e),parseInt(t),(u=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:u.gender,me.calculateAge((f=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:f.birthdate,me.sessionDate()))),this.updateBMI()},async updateBMI(){var a,n,o,r,l,u;const e=(n=(a=this.BMI)==null?void 0:a.color)!=null?n:[],t=this.vitals[0].alerts[0];t.icon=bt.iconBMI(e),t.backgroundColor=e[0],t.textColor=e[1],t.index=(r=(o=this.BMI)==null?void 0:o.index)!=null?r:"",t.value=(u=(l=this.BMI)==null?void 0:l.result)!=null?u:""},async updateBP(e,t){var o,r,l,u;const a=this.vitals[1].alerts[0],n=(r=(o=this.BPStatus)==null?void 0:o.colors)!=null?r:[];a.icon=qa(n),a.backgroundColor=n[0],a.textColor=n[1],a.index=e+"/"+t,a.value=(u=(l=this.BPStatus)==null?void 0:l.value)!=null?u:""},getBloodPressureStatus(e,t){if(t&&e){if(parseInt(t)>=30&&parseInt(t)<=60&&parseInt(e)>=40&&parseInt(e)<=90)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low"};if(parseInt(t)>=60&&parseInt(t)<=80&&parseInt(e)>=90&&parseInt(e)<=120)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal"};if(parseInt(t)>=80&&parseInt(t)<=90&&parseInt(e)>=120&&parseInt(e)<=140){let a="Pre-high blood pressure";return parseInt(t)>=85&&parseInt(t)<=89&&parseInt(e)>=130&&parseInt(e)<=139&&(a="Pre-high blood pressure (Class: Borderline)"),{colors:["#FEDF89","#B54708","#FED667"],value:a}}else if(parseInt(t)>=90&&parseInt(t)<=109&&parseInt(e)>=140&&parseInt(e)<=190){let a="High blood pressure";return parseInt(t)>=90&&parseInt(t)<=99&&parseInt(e)>=140&&parseInt(e)<=159&&(a="High blood pressure (Class: Mild/ I)"),parseInt(t)>=100&&parseInt(t)<=109&&parseInt(e)>=160&&parseInt(e)<=179&&(a="High blood pressure (Class: Moderate/ II)"),{colors:["#FECDCA","#B42318","#FDA19B"],value:a}}else return parseInt(t)>=110&&parseInt(t)<=200&&parseInt(e)>=180&&parseInt(e)<=250?{colors:["#FECDCA","#B42318","#FDA19B"],value:"The patient has hypertension (Class: Severe/ III)"}:(Pt("Invalid BP values",4e3),this.hasValidationErrors.push("false"),{})}else return{colors:[],value:""}}}}),yf={class:"container"};function bf(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",yf,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.vitals,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Df=M(gf,[["render",bf],["__scopeId","data-v-c1307173"]]),Sf=V({name:"DeliveryDetails",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...y(Yt,["otherExams"])},mounted(){const e=Yt();this.initialData=e.getInitial2(),this.handleOtherExaminations()},watch:{otherExams:{handler(){this.handleOtherExaminations()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleOtherExaminations(){S(this.otherExams,"Status of uterus")=="Sub-involuted"?b(this.otherExams,"Intervention given","displayNone",!1):(b(this.otherExams,"Intervention given","displayNone",!0),b(this.otherExams,"Intervention given","selectedValue",""))}}}),Cf={class:"container"};function wf(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Cf,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.otherExams,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const If=M(Sf,[["render",wf],["__scopeId","data-v-ed6335d4"]]),Pf=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,IonPopover:Ft,DashBox:Ct,SelectionPopover:Dt,BasicInputField:W,BasicForm:F,List:gt,DynamicButton:Ve,labOrderResults:fa,DangerSigns:_f,Vitals:Df,OtherExaminations:If},data(){return{iconsContent:w,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},mounted(){this.handleLochia(),this.handleEpisiotomy()},setup(){return{checkmark:K,pulseOutline:X}},computed:{...y(Yt,["otherExams"]),...y(nt,["investigations"]),...y(Me,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){},deep:!0},otherExams:{handler(){this.handleLochia(),this.handleEpisiotomy()},deep:!0}},methods:{handleLochia(){var e;((e=Z(this.otherExams,"Other status"))==null?void 0:e.value)=="Other status"?d(this.otherExams,"Status of lochia notes","displayNone",!1):d(this.otherExams,"Status of lochia notes","displayNone",!0)},handleEpisiotomy(){S(this.otherExams,"Episiotomy/tear")=="No"?d(this.otherExams,"Episiotomy Reason","displayNone",!1):d(this.otherExams,"Episiotomy Reason","displayNone",!0)}}}),Nf={class:"ion-padding",slot:"content"},kf={class:"ion-padding",slot:"content"},Bf={class:"ion-padding",slot:"content"};function Ef(e,t,a,n,o,r){const l=c("ion-label"),u=c("ion-item"),h=c("DangerSigns"),f=c("ion-accordion"),_=c("ion-accordion-group"),D=c("Vitals"),P=c("OtherExaminations"),N=c("ion-row");return p(),O(N,null,{default:i(()=>[s(_,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[C("Danger signs")])),_:1,__:[0]})]),_:1}),v("div",Nf,[s(h)])]),_:1})]),_:1},512),s(_,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[C("Vitals")])),_:1,__:[1]})]),_:1}),v("div",kf,[s(D)])]),_:1})]),_:1},512),s(_,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[C("Other examinations")])),_:1,__:[2]})]),_:1}),v("div",Bf,[s(P)])]),_:1})]),_:1},512)]),_:1})}const Vf=M(Pf,[["render",Ef],["__scopeId","data-v-bceb0788"]]),Af=V({name:"BabyModal",components:{DynamicButton:Ve,IonModal:Fa,IonHeader:x,IonToolbar:R,IonTitle:L,IonButtons:Ps,IonButton:mt,IonContent:H,IonIcon:qt,BasicForm:F},data(){return{initialData:[]}},props:{isOpen:{type:Boolean,required:!0,default:!1},closeModalFunc:{type:Function,required:!0},onYes:{type:Function,required:!0},onNo:{type:Function,required:!0},title:{type:String,required:!0}},computed:{...y(Wt,["babyDetails"]),...y(Wt,["deliveryDetails"])},watch:{secondStageDetails:{async handler(){this.handleChangeDisplay()},deep:!0},babyDetails:{handler(){this.handleChangeDisplay();const e=["Prematurity","Sepsis","Congenital abnormalities","Asphyxia","Other complications","Low birthweight"],t=["Kangaroo mother care","Antibiotics","Other"];this.handleNone(e,"None"),this.handleNone(t,"Nothing"),this.handleCongenitalCheck(),this.handleAsphyxia()},deep:!0}},methods:{async handleInputData(e){},closeOutline(){return Ra},closeModal(){this.closeModalFunc()},confirm(){this.onYes(),this.babyDetails=[],this.closeModal()},onNo(){this.babyDetails=[],this.closeModal()},handleChangeDisplay(){const e=S(this.deliveryDetails,"Baby general condition at birth");this.babyDetailsDisplayNone(e=="Macerated stillbirth"||e=="Fresh stillbirth")},getFieldDisplayNone(e){var a,n;const t=this.babyDetails.find(o=>o.childName===e);return((n=(a=t==null?void 0:t.radioBtnContent)==null?void 0:a.header)==null?void 0:n.displayNone)||!0},babyDetailsDisplayNone(e){d(this.babyDetails,"First name","displayNone",e),d(this.babyDetails,"Last name","displayNone",e),d(this.babyDetails,"Apgar score at 1 minute","displayNone",e),d(this.babyDetails,"Apgar score at 5 minute","displayNone",e)},handleNone(e,t){var a;(a=Z(this.babyDetails,t))!=null&&a.checked?(console.log("this is checked: "),e.forEach(n=>{B(this.babyDetails,n,"checked",!1),B(this.babyDetails,n,"disabled",!0)})):e.forEach(n=>{B(this.babyDetails,n,"disabled",!1)})},handleAsphyxia(){var t;if((t=Z(this.babyDetails,"Asphyxia"))==null?void 0:t.checked){console.log("Asphyxia selected"),b(this.babyDetails,"Resuscitation attempt","displayNone",!1);const a=S(this.babyDetails,"Resuscitation attempt");b(this.babyDetails,"Type of resuscitation","displayNone",a!=="Yes")}else d(this.babyDetails,"Resuscitation attempt","displayNone",!0),d(this.babyDetails,"Type of resuscitation","displayNone",!0)},handleCongenitalCheck(){var t;const e=(t=Z(this.babyDetails,"Congenital abnormalities"))==null?void 0:t.checked;d(this.babyDetails,"Specify","displayNone",!e)}}}),$f={key:0},Mf={key:1},Tf={style:{display:"flex"}};function Of(e,t,a,n,o,r){const l=c("ion-title"),u=c("basic-form"),h=c("DynamicButton"),f=c("ion-content"),_=c("ion-modal");return p(),O(_,{"is-open":e.isOpen,"show-backdrop":!0,onDidDismiss:e.closeModal},{default:i(()=>[s(f,null,{default:i(()=>[s(l,{style:{color:"black"}},{default:i(()=>[C($(e.title),1)]),_:1}),s(u,{contentData:e.babyDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),e.getFieldDisplayNone("Resuscitation attempt")?A("",!0):(p(),m("div",$f,[s(u,{contentData:e.babyDetails,section:"Resuscitation attempt","onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])])),e.getFieldDisplayNone("Type of resuscitation")?A("",!0):(p(),m("div",Mf,[s(u,{contentData:e.babyDetails,section:"Type of resuscitation","onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])])),v("div",Tf,[s(h,{expand:"block",onClick:t[0]||(t[0]=D=>e.confirm()),name:"Save",style:"flex:1"}),s(h,{expand:"block",onClick:t[1]||(t[1]=D=>e.onNo()),style:"flex:1",name:"Cancel",fill:"clear"})])]),_:1})]),_:1},8,["is-open","onDidDismiss"])}const Ff=M(Af,[["render",Of],["__scopeId","data-v-c87fd073"]]);function Di(e,t,a){var r,l,u,h;const n={Gravida:()=>Xt(t,a),Parity:()=>Xt(t,a),"Number of babies":()=>Xt(t,a),"Date of delivery":()=>k.required(a),"First name":()=>k.required(a),"Last name":()=>k.required(a),Weight:()=>Xt(t,a),Height:()=>Xt(t,a),"Apgar score at 5 minutes":()=>Xt(t,a)},o=((r=n[t])==null?void 0:r.call(n))==null;return d(e,t,"alertsErrorMassage",!o),b(e,t,"alertsErrorMassage",!o),B(e,t,"alertsErrorMassage",!o),o||(d(e,t,"alertsErrorMassage",(l=n[t])==null?void 0:l.call(n)),b(e,t,"alertsErrorMassage",(u=n[t])==null?void 0:u.call(n)),B(e,t,"alertsErrorMassage",(h=n[t])==null?void 0:h.call(n))),o}function Xt(e,t){if(e==="Gravida"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,1,15);if(o!==null)return o}else if(e==="Parity"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="Number of babies"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,0,5);if(o!==null)return o}else if(e==="Weight"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,900,7e3);if(o!==null)return o}else if(e==="Height"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,30,100);if(o!==null)return o}else if(e==="Apgar score at 5 minutes"){const a=k.required(t);if(a!==null)return a;const n=k.isWholeNumber(t);if(n!==null)return n;const o=k.checkMinMax(t,0,10);if(o!==null)return o}else return null;return null}const Hf=V({name:"DeliveryDetails",components:{IonCard:ei,IonCardHeader:Zn,IonCardTitle:Xn,IonCardContent:Qn,IonItem:E,IonButton:mt,BasicForm:F,BabyModal:Ff},data(){return{initialData:[],arrayOfBabies:[],babyModalOpen:!1,selectedBaby:0,babiesDetails:[],showSection:!1}},computed:{deliveryDetails(){return Wt().deliveryDetails}},mounted(){this.initialData=Wt().getInitial(),this.handleDeliveryDetails(),this.handlePastProblems()},watch:{deliveryDetails:{handler(){this.handleDeliveryDetails(),this.handlePastProblems(),this.handleNumberOfBabies(),this.handleSelectedStillBirth()},deep:!0}},methods:{handleNumberOfBabies(){const e=Y(this.deliveryDetails,"Number of babies","value");this.arrayOfBabies=[...Array(Number(e)).keys()]},closeBabyModal(){this.babyModalOpen=!1},handleSelectedStillBirth(){const e=S(this.deliveryDetails,"Baby general condition at birth");if(e==="Macerated stillbirth"||e==="Fresh stillbirth"){this.showSection=!1,this.babyDetailsDisplayNone(!0);return}this.babyDetailsDisplayNone(!1),this.showSection=!0},selectBaby(e){this.selectedBaby=e;const t=this.babiesDetails.find(n=>n.baby==e);Wt().setBabyDetails((t==null?void 0:t.details)||[]),this.toggleBabyModal()},checkIfSubmitted(e){return!!this.babiesDetails.find(t=>t.baby==e)},handleBabyYes(){this.toggleBabyModal();const e=Wt(),t=this.babiesDetails.findIndex(a=>a.baby==this.selectedBaby);t<0?this.babiesDetails.push({baby:this.selectedBaby,details:[...e.babyDetails]}):this.babiesDetails[t].details=[...e.babyDetails],e.setBabyDetails()},handleBabyNo(){this.toggleBabyModal(),Wt().setBabyDetails([])},toggleBabyModal(){this.babyModalOpen=!this.babyModalOpen},handleAddBabyDetails(e){this.selectedBaby=e,this.toggleBabyModal()},babyDetailsDisplayNone(e){b(this.babiesDetails,"First name","displayNone",e),b(this.babiesDetails,"Last name","displayNone",e)},handlePastProblems(){const e=["Prematurity","Sepsis","Congenital abnormalities","Asphyxia","Other complications"],t=S(this.deliveryDetails,"None");e.forEach(a=>{B(this.deliveryDetails,a,"disabled",!!(t!=null&&t.checked))})},handleDeliveryDetails(){const e=S(this.deliveryDetails,"Outcome of the delivery"),t=S(this.deliveryDetails,"Was resuscitation attempted?");e==="Stillbirths"?b(this.deliveryDetails,"Type of still birth","displayNone",!1):(b(this.deliveryDetails,"Type of still birth","displayNone",!0),b(this.deliveryDetails,"Type of still birth","selectedValue","")),t==="Yes"?b(this.deliveryDetails,"Type of resuscitation","displayNone",!0):(b(this.deliveryDetails,"Type of resuscitation","displayNone",!0),b(this.deliveryDetails,"Type of resuscitation","selectedValue",""))},validationRules(e){return Di(this.deliveryDetails,e.name,e.name)},async handleInputData(e){this.validationRules(e)}}}),Rf={class:"container"},Lf={key:0};function xf(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("BabyModal"),_=c("ion-button"),D=c("ion-card-content"),P=c("ion-card");return p(),m("div",Rf,[s(P,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[C("Delivery Details")])),_:1,__:[0]})]),_:1}),s(D,null,{default:i(()=>[s(h,{contentData:e.deliveryDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),s(f,{closeModalFunc:e.closeBabyModal,onYes:e.handleBabyYes,onNo:e.handleBabyNo,isOpen:e.babyModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfBabies.length>0?(p(),m("div",Lf,[(p(!0),m(ne,null,fe(e.arrayOfBabies,N=>(p(),m("div",{key:N},[e.checkIfSubmitted(N)?A("",!0):(p(),O(_,{key:0,onClick:G=>e.handleAddBabyDetails(N)},{default:i(()=>[C(" Add Baby "+$(N+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(N)?(p(),O(_,{key:1,onClick:G=>e.selectBaby(N)},{default:i(()=>[C(" View Baby "+$(N+1),1)]),_:2},1032,["onClick"])):A("",!0)]))),128))])):A("",!0)]),_:1})]),_:1})])}const Uf=M(Hf,[["render",xf],["__scopeId","data-v-a769e5ef"]]),zf=V({name:"HIVStatusAndTreatment",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...y(cn,["hivStatusAndTreatment"])},mounted(){const e=cn();this.initialData=e.getInitial(),this.handleHIV(),this.handleArtNumber()},watch:{hivStatusAndTreatment:{handler(){this.handleHIV(),this.handleArtNumber()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleHIV(){S(this.hivStatusAndTreatment,"Mother HIV Status")=="positive"?b(this.hivStatusAndTreatment,"ART treatment","displayNone",!1):b(this.hivStatusAndTreatment,"ART treatment","displayNone",!0)},handleArtNumber(){S(this.hivStatusAndTreatment,"ART treatment")=="yes"?d(this.hivStatusAndTreatment,"ART Number","displayNone",!1):d(this.hivStatusAndTreatment,"ART Number","displayNone",!0)}}}),qf={class:"container"};function Wf(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",qf,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.hivStatusAndTreatment,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Gf=M(zf,[["render",Wf],["__scopeId","data-v-6aa30269"]]),jf=V({name:"ObstetricDetails",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...y(un,["obstetricDetails"]),Parity(){return Y(this.obstetricDetails,"Parity","value")},Gravida(){return Y(this.obstetricDetails,"Gravida","value")}},mounted(){const e=un();this.initialData=e.getInitial(),this.validateRowData({})},watch:{},setup(){return{checkmark:K,pulseOutline:X}},methods:{validationRules(e){return Di(this.obstetricDetails,e.name,this[e.name])},async handleInputData(e){this.validateRowData(e)},validateRowData(e){this.validationRules(e)}}}),Yf={class:"container"};function Jf(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",Yf,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.obstetricDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Kf=M(jf,[["render",Jf],["__scopeId","data-v-793db442"]]),En=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"What is the status of the mother?",selectedValue:"",name:"Status of the mother",class:"bold",displayNext:"Alive"},data:[{name:"Alive",value:"Alive",colSize:"4"},{name:"Dead",value:"Dead",colSize:"4"}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Is the postnatal check within?",selectedValue:"",class:"bold",name:"Postnatal check period",displayNone:!0},data:[{name:"Up to 48 hrs or before discharge",value:"up to 48 hrs or before discharge",colSize:"7"},{name:"3-7 days",value:"3-7 days",colSize:"7"},{name:"8-42 days",value:"8-42 days",colSize:"7"}]}},{childName:"Status of the mother",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have any of the danger signs?",selectedValue:"",name:"Danger signs",class:"bold",displayNone:!0},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Sepsis",value:"sepsis",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of the mother",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Anemia",value:"anemia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Postpartum hemorrhage",value:"postpartum hemorrhage",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of the mother",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Severe pre-eclampsia",value:"severe pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Pre-eclampsia",value:"pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of the mother",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Breast engorgement",value:"breast engorgement",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Other danger signs",value:"Other danger signs",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Other danger signs",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Other danger signs notes",required:!0,eventType:"input",inputWidth:"85%"}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Status of uterus",selectedValue:"",class:"bold",name:"Status of Uterus",displayNext:"Other status",displayNone:!0},data:[{name:"Involuted",value:"involuted",colSize:"4"},{name:"Sub-involuted",value:"sub-involuted",colSize:"4"},{name:"Other status",value:"Other status",colSize:"5"}]}},{childName:"Status of Uterus",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Status of uterus notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],childName:"Status of uterus",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was the intervention given?",selectedValue:"",name:"Intervention on uterus problem",class:"bold",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{isFinishBtn:!1,sectionHeader:"",childName:"Intervention on uterus problem",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention given?",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Intervention provided notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Status of lochia",selectedValue:"",class:"bold",name:"Status of lochia",displayNext:"Other status",displayNone:!0},data:[{name:"Mild",value:"mild",colSize:"4"},{name:"Moderate",value:"moderate",colSize:"4"},{name:"Heavy",value:"heavy",colSize:"4"},{name:"Offensive smell",value:"offensive smell",colSize:"4"},{name:"Other status",value:"Other status",colSize:"4"}]}},{isFinishBtn:!1,ChildName:"Status of lochia",sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Status of lochia notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was the intervention given?",selectedValue:"",name:"Intervention on lochia",class:"bold",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{isFinishBtn:!1,childName:"Intervention on lochia",sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention given?",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Intervention on lochia notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Episiotomy/tear present?",selectedValue:"",class:"bold",name:"Episiotomy/tear",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{selectdData:[],childName:"Episiotomy/tear",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Condition of episiotomy/tear?",selectedValue:"",name:"Condition of episiotomy/tear",class:"bold",displayNone:!0},data:[{name:"Intact",value:"intact",colSize:"4"},{name:"Gaped",value:"gaped",colSize:"4"},{name:"Infected",value:"infected",colSize:"4"},{name:"Infected and gaped",value:"infected and gaped",colSize:"4"}]}},{childName:"Episiotomy/tear",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was the intervention given?",selectedValue:"",class:"bold",name:"Intervention on condition of episiotomy/tear",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Intervention on condition of episiotomy/tear",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention given?",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Other notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],isFinishBtn:!1,childName:"Status of the mother",classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Counselling on family planning done?",selectedValue:"",name:"Counselling on family planning",class:"bold",displayNone:!0,displayNext:"Yes"},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{selectdData:[],isFinishBtn:!1,childName:"Counselling on family planning",classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Postpartum family planning method chosen",selectedValue:"",name:"Postpartum family planning method",class:"bold",displayNone:!0},data:[{name:"Intrauterine contraceptive device",value:"IUCD",colSize:"4"},{name:"Bilateral tubal ligation",value:"BTL",colSize:"4"},{name:"Oral contraception",value:"Oral contraception",colSize:"4"},{name:"Injectable contraceptives",value:"Injectable contraceptives",colSize:"4"},{name:"Contraceptive implant",value:"Contraceptive implant",colSize:"4"},{name:"Intrauterine device (IUD)",value:"Intrauterine device (IUD)",colSize:"4"},{name:"Implants",value:"Implants",colSize:"4"},{name:"iucd-hormonal",value:"iucd-hormonal",colSize:"4"},{name:"iucd-cooper t",value:"iucd-cooper t",colSize:"4"},{name:"None",value:"none",colSize:"4"}]}},{selectdData:[],childName:"Status of the mother",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Breast feeding?",selectedValue:"",name:"Breast feeding",class:"bold",displayNone:!0},data:[{name:"Breastfed exclusively",value:"Breastfed exclusively",colSize:"4"},{name:"Non exclusive",value:"Non exclusive",colSize:"4"},{name:"Not breastfeeding",value:"Not breastfeeding",colSize:"5"}]}}],Vn=je("visitForMotherStore",{state:()=>({visitForMother:[...En]}),actions:{setPNCVisitForMother(e){this.visitForMother=e},getInitial(){return[...Pe.cloneDeep(En)]}}}),Qf=V({name:"VisitForBaby",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...y(Vn,["visitForMother"])},mounted(){const e=Vn();this.initialData=e.getInitial()},watch:{},setup(){return{checkmark:K,pulseOutline:X}},methods:{}}),Xf={class:"container"};function Zf(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Xf,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.visitForMother,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const e_=M(Qf,[["render",Zf],["__scopeId","data-v-dc0dcbc7"]]),An=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"What is the status of the baby?",selectedValue:"",name:"Status of baby",displayNext:"Alive",class:"bold",displayNone:""},data:[{name:"Alive",value:"Alive",colSize:"4"},{name:"Dead",value:"Dead",colSize:"4"}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Current weight",unit:"kg",icon:w.weight,value:"",valueType:"text",name:"Current weight",required:!0,eventType:"input",inputWidth:""},{displayNone:!0,inputHeader:"Current Temperature",unit:"C",icon:w.temprature,value:"",name:"Temperature",eventType:"input"}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Respiratory rate",unit:"BMP",icon:w.respiratory,value:"",name:"Respiratory Rate",eventType:"input",alertsErrorMassage:""},{displayNone:!0,inputHeader:"Heart rate",unit:"BMP",icon:w.pulse,value:"",name:"Heart Rate",eventType:"input",alertsErrorMassage:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Oxygen Saturation Rate",unit:"%",icon:w.oxgenStaturation,value:"",name:"Oxygen Saturation Rate",eventType:"input",alertsErrorMassage:""}]}]}},{childName:"Status of baby",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Is the postnatal visit within",selectedValue:"",name:"Postnatal visit period",class:"bold",displayNone:!0},data:[{name:"Up to 48 hrs or before discharge",value:"Up to 48 hrs or before discharge",colSize:"7"},{name:"3-7 days",value:"3-7 days",colSize:"7"},{name:"8-42 days",value:"8-42 days",colSize:"7"}]}},{childName:"Status of baby",selectdData:[],classDash:"dashed_bottom_border _padding",checkboxBtnContent:{header:{title:"Has the baby received the following immunisations?",selectedValue:"",name:"Type of immunisation the baby received",displayNext:"",class:"bold",displayNone:!0},data:[{name:"BCG",value:"BCG",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Polio",value:"Polio",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"BCG",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Date BCG given",unit:"",icon:w.calenderPrimary,value:"",valueType:"text",name:"Date BCG given",required:!0,eventType:"input",datePopover:!0,inputWidth:"",placeholder:"Pick holder",isDatePopover:!0}]}]}},{childName:"Polio",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Date polio given",unit:"",icon:w.calenderPrimary,value:"",valueType:"text",name:"Date polio given",required:!0,eventType:"input",datePopover:!0,inputWidth:"",placeholder:"Pick holder",isDatePopover:!0}]}]}},{childName:"Status of baby",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Danger signs for the child",selectedValue:"",name:"Danger signs",class:"bold",displayNone:!0},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Not able to feed",value:"not able to feed",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Fever (>37.5C)",value:"fever",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Hypothermia",value:"Hypothermia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Convulsions",value:"convulsions",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Lethargic",value:"lethargic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Chest in-drawing",value:"chest in-drawing",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Fast breathing",value:"fast breathing",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Eye discharge",value:"Eye discharge",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Signs of cord infection",value:"Signs of cord infection",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Jaundice",value:"jaundice",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Skin rashes",value:"skin rashes",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Other danger signs",value:"Other danger signs",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Other danger signs",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Other danger signs notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],childName:"Status of baby",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was an intervention given?",selectedValue:"",name:"Intervention on danger signs",class:"bold",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Intervention on danger signs",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Intervention on danger signs notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],childName:"Status of baby",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Has the baby started nevirapine?",selectedValue:"",name:"Nevirapine started",class:"bold",displayNext:"No",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Nevirapine started",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Why the baby is not on neverapine?",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Neverapine not started notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Date of Death",unit:"",icon:w.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date"},{displayNone:!0,inputHeader:"Time of Death",unit:"",icon:w.timePicker,value:"",valueType:"time",name:"Time of Death",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Cause of Death",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Cause of Death",required:!0,eventType:"input",inputWidth:""},{displayNone:!0,inputHeader:"Colour of the Skin",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Colour of the Skin",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Condition of the Umbilical Cord",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Condition of the Umbilical Cord",required:!0,eventType:"input",inputWidth:""}]}]}}],$n=je("visitForBabyStore",{state:()=>({visitForBaby:[...An]}),actions:{setPNCVisitForBaby(e){this.visitForBaby=e},getInitial(){return[...Pe.cloneDeep(An)]}}}),t_=V({name:"VisitForBaby",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{visitForBaby(){return $n().visitForBaby}},mounted(){this.initialData=$n().getInitial(),this.handleSelection()},watch:{visitForBaby:{handler(){this.handleSelection()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleSelection(){S(this.visitForBaby,"Status of baby")==="Dead"?(d(this.visitForBaby,"Date of Death","displayNone",!1),d(this.visitForBaby,"Cause of Death","displayNone",!1),d(this.visitForBaby,"Condition of the Umbilical Cord","displayNone",!1)):(d(this.visitForBaby,"Date of Death","displayNone",!0),d(this.visitForBaby,"Cause of Death","displayNone",!0),d(this.visitForBaby,"Condition of the Umbilical Cord","displayNone",!0))}}}),a_={class:"container"};function s_(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",a_,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.visitForBaby,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const n_=M(t_,[["render",s_],["__scopeId","data-v-fa64a92c"]]),i_=V({name:"History",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...y(ho,["labourDetails"])},mounted(){},watch:{},setup(){return{checkmark:K,pulseOutline:X}},methods:{}}),o_={class:"container"};function l_(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",o_,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[C("Labour details")])),_:1,__:[0]})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.labourDetails},null,8,["contentData"])]),_:1})]),_:1})])}const r_=M(i_,[["render",l_],["__scopeId","data-v-1c41c247"]]),d_=V({name:"History",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...y(po,["pastProblems"])},mounted(){this.handleDangerSigns(),this.handleChckedDangerSigns(),this.handleInLabour()},watch:{pastProblems:{handler(){this.handleDangerSigns(),this.handleChckedDangerSigns(),this.handleInLabour()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleDangerSigns(){var e;((e=Z(this.pastProblems,"Other danger signs"))==null?void 0:e.value)=="other danger signs"?d(this.pastProblems,"otherC","displayNone",!1):d(this.pastProblems,"otherC","displayNone",!0)},handleChckedDangerSigns(){var t;const e=["Bleeding vaginally","Central cyanosis","Pre-term labour","Severe vomiting","Fever","Visual disturbance","Severe abdominal pain","Unconscious","No fetal movement","Difficulties in breathing","Jaundice","Other danger signs"];(t=Z(this.pastProblems,"No danger signs"))!=null&&t.checked?e.forEach(a=>{B(this.pastProblems,a,"checked",!1),B(this.pastProblems,a,"disabled",!0)}):e.forEach(a=>{B(this.pastProblems,a,"disabled",!1)})},handleInLabour(){S(this.pastProblems,"reason")=="In labour"?(d(this.pastProblems,["Time"],"displayNone",!1),b(this.pastProblems,"Labour onset type","displayNone",!1),b(this.pastProblems,"Membranes ruptured","displayNone",!1),d(this.pastProblems,"Time Membrane","displayNone",!1),b(this.pastProblems,"food in 4 hours","displayNone",!1),b(this.pastProblems,"Homemade medicines taken","displayNone",!1),b(this.pastProblems,"Sleep","displayNone",!1)):(d(this.pastProblems,"Time","displayNone",!0),b(this.pastProblems,"Labour onset type","displayNone",!0),b(this.pastProblems,"Membranes ruptured","displayNone",!0),d(this.pastProblems,"Time Membrane","displayNone",!0),b(this.pastProblems,"food in 4 hours","displayNone",!0),b(this.pastProblems,"Homemade medicines taken","displayNone",!0),b(this.pastProblems,"Sleep","displayNone",!0))}}}),c_={class:"container"};function u_(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",c_,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.pastProblems},null,8,["contentData"])]),_:1})]),_:1})])}const h_=M(d_,[["render",u_],["__scopeId","data-v-68d75ac3"]]),p_=V({name:"History",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],height:0,showPulsingAlert:!1}},computed:{...y(hs,["vitals"]),...y(hs,["anaemia"]),...y(hs,["otherphysicalExams"])},mounted(){this.handleOedema(),this.handleCephalic(),this.handleShowAlertCordPulsating()},watch:{otherphysicalExams:{handler(){this.handleOtherPresentation(),this.handleContractions(),this.handleCephalic(),this.handleOedema(),this.showPulsingAlert=S(this.otherphysicalExams,"Presentation")=="breech"},deep:!0},showPulsingAlert:{handler(){this.handleShowAlertCordPulsating()}},anaemia:{handler(){},deep:!0},vitals:{handler(){this.height=Y(this.vitals,"Height","value")},deep:!0},height:{handler(){this.handleVitalsChange()}}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleShowAlertCordPulsating(){const e=S(this.otherphysicalExams,"Presentation"),t=this.otherphysicalExams.find(a=>{var n,o;return((o=(n=a==null?void 0:a.radioBtnContent)==null?void 0:n.header)==null?void 0:o.name)=="Presentation"});if(t.alerts=[],["footling","face","breech"].includes(e)){t.alerts.push({backgroundColor:"#FF9999",status:"info",icon:"info-circle",textColor:"#000000",value:"Prepare to refer the woman",name:"Presentation"});return}},async handleVitalsValidation(e){Le(this.vitals,fo,e.name,e.value)},async handleExamsValidate(e){Le(this.otherphysicalExams,mo,e.name,e.value)},async handleInputData(e){this.handleVitalsValidation(e),this.handleExamsValidate(e)},handleVitalsChange(){const e=Y(this.vitals,"Height","value");if(e<150&&e!=""){this.vitals[2].alerts.push({backgroundColor:"#FFD700",status:"info",icon:"info-circle",textColor:"#000000",value:"Height is less than 150 CM",name:"Height"});return}this.vitals[2].alerts=[]},handleOtherPresentation(){const e=S(this.otherphysicalExams,"Presentation")=="Other";d(this.otherphysicalExams,"Other","displayNone",!e)},handleContractions(){const e=S(this.otherphysicalExams,"Contractions")=="no Contraction Felt";d(this.otherphysicalExams,"Number of contraction","displayNone",e)},handleOedema(){S(this.otherphysicalExams,"Oedema")=="present"?d(this.otherphysicalExams,"Other oedema","displayNone",!1):d(this.otherphysicalExams,"Other oedema","displayNone",!0)},handleCephalic(){S(this.otherphysicalExams,"Presentation")=="cephalic"?b(this.otherphysicalExams,"Position","displayNone",!1):b(this.otherphysicalExams,"Position","displayNone",!0)}}}),m_={class:"container"};function f_(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",m_,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.vitals,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[C(" Anaemia")])),_:1,__:[0]})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.anaemia},null,8,["contentData"])]),_:1})]),_:1}),s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.otherphysicalExams,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const __=M(p_,[["render",f_],["__scopeId","data-v-df64e4e5"]]),v_=V({name:"FirstVaginalExamination",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",showPulsingAlert:!1}},computed:{...y(_o,["pelvicAssessment"])},mounted(){},watch:{pelvicAssessment:{handler(){this.showPulsingAlert=S(this.pelvicAssessment,"Intertuberous diameter")=="more than or equal to 8.5cm"},deep:!0},showPulsingAlert:{handler(){this.handleShowAdiameter()}}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleShowAdiameter(){const e=S(this.pelvicAssessment,"Intertuberous diameter"),t=this.pelvicAssessment.find(a=>{var n,o;return((o=(n=a==null?void 0:a.radioBtnContent)==null?void 0:n.header)==null?void 0:o.name)=="Intertuberous diameter"});t.alerts=[],e=="more than or equal to 8.5cm"?t.alerts.push({backgroundColor:"#99FF99",status:"info",icon:"info-circle",textColor:"#000000",value:"Normal",name:"Intertuberous diameter"}):e=="less than 8.5cm"&&t.alerts.push({backgroundColor:"#FF9999",status:"warning",icon:"exclamation-circle",textColor:"#000000",value:"Abnormal",name:"Intertuberous diameter"})}}}),g_={class:"container"};function y_(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",g_,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.pelvicAssessment},null,8,["contentData"])]),_:1})]),_:1})])}const b_=M(v_,[["render",y_],["__scopeId","data-v-dbd10580"]]),D_=V({name:"FirstVaginalExamination",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",facilityData:[]}},computed:{...y(vo,["labourReferral","labourLab"])},mounted(){this.handleART(),this.handleARTYes()},watch:{labourReferral:{handler(){this.handleMother(),this.handleOtherMother(),this.handleOtherBaby()},deep:!0},labourLab:{handler(e){this.handleART(),this.handleARTYes(),this.handleInputData(e)},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async Lab(e){Le(this.labourLab,hn,e.name,e.value)},async Referral(e){Le(this.labourReferral,hn,e.name,e.value)},async handleInputData(e){this.Lab(e),this.Referral(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),d(this.labourLab,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Ht.getFacilities({name:e})},handleMother(){const e=S(this.labourReferral,"referred");ke(this.labourReferral,"referring mother","displayNone",e!="mother"),ke(this.labourReferral,"Baby identifier","displayNone",e!="baby"),d(this.labourReferral,"treatment given to baby before referral","displayNone",e!="baby"),d(this.labourReferral,"Time of referral","displayNone",e!="baby"),d(this.labourReferral,"Date of referral","displayNone",e!="baby"),d(this.labourReferral,"Provider who made referral","displayNone",e!="baby"),d(this.labourReferral,"Phone number for provider","displayNone",e!="baby")},handleOtherMother(){var e;((e=Z(this.labourReferral,"Other"))==null?void 0:e.value)=="other"?d(this.labourReferral,"specify","displayNone",!1):d(this.labourReferral,"specify","displayNone",!0)},handleOtherBaby(){var e;((e=Z(this.labourReferral,"Other reason"))==null?void 0:e.value)=="other reason"?d(this.labourReferral,"other","displayNone",!1):d(this.labourReferral,"other","displayNone",!0)},handleART(){S(this.labourLab,"HIV")=="positive"?b(this.labourLab,"chronic conditions","displayNone",!1):b(this.labourLab,"chronic conditions","displayNone",!0)},handleARTYes(){S(this.labourLab,"chronic conditions")=="Yes"?(d(this.labourLab,"Art number","displayNone",!1),d(this.labourLab,"facility for art","displayNone",!1)):(d(this.labourLab,"Art number","displayNone",!0),d(this.labourLab,"facility for art","displayNone",!0))}}}),S_={class:"container"};function C_(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",S_,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.labourReferral,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.labourLab,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const w_=M(D_,[["render",C_],["__scopeId","data-v-b36e2fed"]]),I_=V({name:"FirstVaginalExamination",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",showPulsingAlert:!1}},computed:{...y(yo,["firstVaginalExamination"])},mounted(){this.handleCord()},watch:{firstVaginalExamination:{handler(){this.handleShow(),this.handleRupturedMembrane(),this.handleCord(),this.showPulsingAlert=S(this.firstVaginalExamination,"Is Cord Pulsating")=="yes"},deep:!0},showPulsingAlert:{handler(){this.handleShowAlertCordPulsating()}}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleShow(){const e=S(this.firstVaginalExamination,"Show")=="present";b(this.firstVaginalExamination,"Color","displayNone",!e)},async handleInputData(e){Le(this.firstVaginalExamination,go,e.name,e.value)},handleShowAlertCordPulsating(){const e=S(this.firstVaginalExamination,"Is Cord Pulsating"),t=this.firstVaginalExamination.find(a=>{var n,o;return((o=(n=a==null?void 0:a.radioBtnContent)==null?void 0:n.header)==null?void 0:o.name)=="Is Cord Pulsating"});if(e=="yes"){t.alerts.push({backgroundColor:"#FF9999",status:"info",icon:"info-circle",textColor:"#000000",value:"This is an emergency. Change the position of the woman to relieve pressure on the cord and refer the woman.",name:"Is Cord Pulsating"});return}t.alerts=[]},handleRupturedMembrane(){const e=S(this.firstVaginalExamination,"State of membranes"),t=S(this.firstVaginalExamination,"Cord"),a=S(this.firstVaginalExamination,"Liquor"),n=S(this.firstVaginalExamination,"What part is presenting");b(this.firstVaginalExamination,"How","displayNone",e!="ruptured"),d(this.firstVaginalExamination,"time membranes ruptured","displayNone",e!="ruptured"),d(this.firstVaginalExamination,"date membranes ruptured","displayNone",e!="ruptured"),b(this.firstVaginalExamination,"cold felt color","displayNone",t!="felt"),b(this.firstVaginalExamination,"Meconium Grade","displayNone",a!="meconium stained"),d(this.firstVaginalExamination,"specify","displayNone",n!="other"),d(this.firstVaginalExamination,"Position of sutures and fontanelles","displayNone",n!="head"),b(this.firstVaginalExamination,"Level in relation to ischial spines","displayNone",n!="head"),b(this.firstVaginalExamination,"Caput","displayNone",n!="head"),b(this.firstVaginalExamination,"Moulding","displayNone",n!="head")},handleCord(){S(this.firstVaginalExamination,"What part is presenting")=="cord"?b(this.firstVaginalExamination,"Is Cord Pulsating","displayNone",!1):b(this.firstVaginalExamination,"Is Cord Pulsating","displayNone",!0)}}}),P_={class:"container"};function N_(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",P_,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[C("Cervix")])),_:1,__:[0]})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.firstVaginalExamination,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const k_=M(I_,[["render",N_],["__scopeId","data-v-11df2658"]]),B_=V({name:"SecondStageDelivery",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve,IonButton:mt,BabyDetailsModal:Ms},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],arrayOfBabies:[],babyModalOpen:!1,selectedBaby:0,babiesDetails:[],showSection:!1}},computed:{...y(qe,["secondStageDetails"]),...y(qe,["babyDetails"]),...y(qe,["newbornComplications"])},mounted(){const e=qe();this.initialData=e.getInitial()},watch:{secondStageDetails:{handler(){this.handleBabyCondition(),this.handleNumberOfBabies(),this.handleSelectedStillBirth()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleValidateNewBorn(e){Le(this.newbornComplications,bs,e.name,e.value)},async handleValidateBabies(e){Le(this.secondStageDetails,bs,e.name,e.value)},async handleInputData(e){this.handleValidateBabies(e),this.handleValidateNewBorn(e)},handleNumberOfBabies(){const e=Y(this.secondStageDetails,"Number of babies","value");this.arrayOfBabies=[...Array(Number(e)).keys()]},closeBabyModal(){},handleSelectedStillBirth(){const e=S(this.secondStageDetails,"Baby general condition at birth");if(e=="Macerated stillbirth"||e=="Fresh stillbirth"){this.showSection=!1,this.babyDetailsDisplayNone(!0);return}this.babyDetailsDisplayNone(!1),this.showSection=!0},selectBaby(e){this.selectedBaby=e;const t=this.babiesDetails.find(n=>n.baby==e);qe().setBabyDetails(t.details),this.toggleBabyModal()},checkIfSubmitted(e){return this.babiesDetails.find(t=>t.baby==e)},handleBabyYes(){this.toggleBabyModal();const e=qe(),t=this.babiesDetails.findIndex(a=>a.baby==this.selectedBaby);t<0?this.babiesDetails.push({baby:this.selectedBaby,details:[...vn.cloneDeep(e.babyDetails)]}):this.babiesDetails[t].details=[...vn.cloneDeep(e.babyDetails)],e.setBabyDetails()},handleBabyNo(){this.toggleBabyModal(),qe().secondStageDetails.setBabyDetails()},toggleBabyModal(){this.babyModalOpen=!this.babyModalOpen},handleAddBabyDetails(e){qe().setBabyDetails(),this.selectedBaby=e,this.toggleBabyModal()},handleBabyCondition(){const e=S(this.secondStageDetails,"Baby general condition at birth");e=="Live full term"||e=="Live preterm"?this.babyDisplayNone(!1):this.babyDisplayNone(!0)},babyDisplayNone(e){d(this.secondStageDetails,"First name","displayNone",e),d(this.secondStageDetails,"Last name","displayNone",e),d(this.secondStageDetails,"Apgar score at 1 minute","displayNone",e),d(this.secondStageDetails,"Apgar score at 5 minutes","displayNone",e),b(this.secondStageDetails,"Sex","displayNone",e),b(this.secondStageDetails,"vitals","displayNone",e),d(this.secondStageDetails,"Weight","displayNone",e),d(this.secondStageDetails,"Height","displayNone",e),d(this.secondStageDetails,"Circumference","displayNone",e),b(this.secondStageDetails,"Tetracycline eye ointment given","displayNone",e),b(this.secondStageDetails,"Chlorhexidine","displayNone",e),ke(this.secondStageDetails,"Newborn baby complications","displayNone",e),ke(this.secondStageDetails,"Management to newborn","displayNone",e),b(this.secondStageDetails,"Oxytocin 10 UI given","displayNone",e),b(this.secondStageDetails,"bold","displayNone",e),b(this.secondStageDetails,"babyDetails","displayNone",e)},babyDetailsDisplayNone(e){d(this.babyDetails,"First name","displayNone",e),d(this.babyDetails,"Last name","displayNone",e),d(this.babyDetails,"Apgar score at 1 minute","displayNone",e),d(this.babyDetails,"Apgar score at 5 minute","displayNone",e),b(this.babyDetails,"Tetracycline eye ointment given","displayNone",e),b(this.babyDetails,"Chlorhexidine","displayNone",e),ke(this.babyDetails,"Newborn baby complications","displayNone",e),b(this.babyDetails,"Oxytocin 10 UI given","displayNone",e),b(this.babyDetails,"Vitamin K given","displayNone",e)}}}),E_={class:"container"},V_={key:0};function A_(e,t,a,n,o,r){const l=c("basic-form"),u=c("BabyDetailsModal"),h=c("ion-button"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",E_,[s(_,{class:"section"},{default:i(()=>[s(f,null,{default:i(()=>[s(l,{contentData:e.secondStageDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),s(u,{closeModalFunc:e.closeBabyModal,onYes:e.handleBabyYes,onNo:e.handleBabyNo,isOpen:e.babyModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfBabies.length>0?(p(),m("div",V_,[(p(!0),m(ne,null,fe(e.arrayOfBabies,D=>(p(),m("div",{key:D},[e.checkIfSubmitted(D)?A("",!0):(p(),O(h,{key:0,onClick:P=>e.handleAddBabyDetails(D)},{default:i(()=>[C("Add Baby "+$(D+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(D)?(p(),O(h,{key:1,onClick:P=>e.selectBaby(D)},{default:i(()=>[C("View Baby "+$(D+1),1)]),_:2},1032,["onClick"])):A("",!0)]))),128))])):A("",!0)]),_:1})]),_:1})])}const $_=M(B_,[["render",A_],["__scopeId","data-v-137aebb8"]]),M_=V({name:"DeliveryNewbornDetails",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],facilities:[]}},computed:{...y(qe,["newbornComplications"])},async mounted(){const e=qe();this.initialData=e.getInitialNewbornComplications()},watch:{newbornComplications:{handler(){this.handleOtherFacilitySelect()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleInputData(e){e.name=="Facility"&&d(this.newbornComplications,"Facility","popOverData",{filterData:!1,data:await this.getLocations(e.value)})},handleOtherFacilitySelect(){const e=S(this.newbornComplications,"Place of delivery")=="Other facility";d(this.newbornComplications,"Facility","displayNone",!e)},async getLocations(e){return await Ht.getFacilities({name:e})}}}),T_={class:"container"};function O_(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",T_,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.newbornComplications,initialData1:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData1","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const F_=M(M_,[["render",O_],["__scopeId","data-v-52f7f738"]]),H_=V({name:"SecondStageDelivery",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...y(qe,["obstetricComplications"])},mounted(){const e=qe();this.initialData=e.getInitialObstetricDetails()},watch:{obstetricComplications:{handler(){this.handleOtherComplications(),this.handlePerinealTear();const e=["Perineal tear","Sepsis","Pre-Eclampsia","Retained placenta","Postpartum haemorrhage"],t=["Oxytocin/cabitocin/tranexamic acid","Anticonvulsants","Antibiotics","Blood transfusion","Manual removal of placenta","Non-pneumatic Anti-shock Garment (NASG)","Manual Removal of Retained Products of Conception","Evacuation","Misoprostol","Other care"];this.handleObstetricComplicationCheck(e),this.handleNone([...e,"Other complications"],"No complications"),this.handleNone(t,"None")},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleOtherComplications(){var t;const e=(t=Z(this.obstetricComplications,"Other complications"))==null?void 0:t.checked;d(this.obstetricComplications,"Other notes","displayNone",!e)},handlePerinealTear(){var t;const e=(t=Z(this.obstetricComplications,"Perineal tear"))==null?void 0:t.checked;b(this.obstetricComplications,"Severity","displayNone",!e)},handleObstetricComplicationCheck(e){let t=!1;e.forEach(a=>{var n;t=t||((n=Z(this.obstetricComplications,a))==null?void 0:n.checked)}),ke(this.obstetricComplications,"Obstetric care","displayNone",!t)},handleNone(e,t){var a;(a=Z(this.obstetricComplications,t))!=null&&a.checked?e.forEach(n=>{B(this.obstetricComplications,n,"checked",!1),B(this.obstetricComplications,n,"disabled",!0)}):e.forEach(n=>{B(this.obstetricComplications,n,"disabled",!1)})}}}),R_={class:"container"};function L_(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",R_,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.obstetricComplications,initialData2:e.initialData},null,8,["contentData","initialData2"])]),_:1})]),_:1})])}const x_=M(H_,[["render",L_],["__scopeId","data-v-8005c521"]]),U_=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,IonPopover:Ft,DashBox:Ct,SelectionPopover:Dt,BasicInputField:W,BasicForm:F,List:gt,DynamicButton:Ve,labOrderResults:fa,DeliveryNewbornDetails:$_,OtherDeliveryDetails:F_,ObstetricComplications:x_},data(){return{iconsContent:w,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1,showSection:!0}},computed:{...y(qe,["secondStageDetails"]),...y(qe,["newbornComplications"]),...y(qe,["secondStageDetails"]),...y(qe,["obstetricComplications"])},mounted(){qe(),qe(),qe(),this.handleModeOfDeliver()},watch:{newbornComplications:{handler(){this.handleModeOfDeliver()},deep:!0},secondStageDetails:{handler(){this.handleSelectedStillBirth()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleModeOfDeliver(){},handleSelectedStillBirth(){const e=S(this.secondStageDetails,"Baby general condition at birth");if(e=="Macerated stillbirth"||e=="Fresh stillbirth"){this.showSection=!1;return}this.showSection=!0}}}),z_={class:"ion-padding",slot:"content"},q_={class:"ion-padding",slot:"content"};function W_(e,t,a,n,o,r){const l=c("ion-label"),u=c("ion-item"),h=c("DeliveryNewbornDetails"),f=c("ion-accordion"),_=c("ion-accordion-group"),D=c("OtherDeliveryDetails"),P=c("ion-row");return p(),O(P,null,{default:i(()=>[s(_,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[C("Delivery and newborn details")])),_:1,__:[0]})]),_:1}),v("div",z_,[s(h)])]),_:1})]),_:1},512),e.showSection?(p(),O(_,{key:0,ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[C("Other delivery details")])),_:1,__:[1]})]),_:1}),v("div",q_,[s(D)])]),_:1})]),_:1},512)):A("",!0)]),_:1})}const G_=M(U_,[["render",W_],["__scopeId","data-v-aef72f55"]]),j_=V({name:"ThirdStageOfDelivery",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...y(pn,["placentaExamination"])},mounted(){const e=pn();this.initialData=e.getInitial(),this.handleModeOfDelivery(),this.handleTears(),this.handleTearsDegree(),this.handleRepairDone()},watch:{placentaExamination:{handler(){this.handleCervixTearChange(),this.handleModeOfDelivery(),this.handleTears(),this.handleTearsDegree(),this.handleRepairDone()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleInputData(e){Le(this.placentaExamination,bo,e.name,e.value)},handleRepairDone(){["tears","episiotomy"].includes(S(this.placentaExamination,"Perineum"))?b(this.placentaExamination,"repair","displayNone",!1):b(this.placentaExamination,"repair","displayNone",!0)},handleTearsDegree(){S(this.placentaExamination,"Perineum")=="tears"?d(this.placentaExamination,"tears degree","displayNone",!1):d(this.placentaExamination,"tears degree","displayNone",!0)},handleTears(){S(this.placentaExamination,"Cervix")=="tears"?d(this.placentaExamination,"Other tears","displayNone",!1):d(this.placentaExamination,"Other tears","displayNone",!0)},handleModeOfDelivery(){S(this.placentaExamination,"Mode of delivery")=="other"?d(this.placentaExamination,"Specify","displayNone",!1):d(this.placentaExamination,"Specify","displayNone",!0)},handleCervixTearChange(){const e=S(this.placentaExamination,"Presentation")=="Other";b(this.placentaExamination,"Severity","displayNone",!e)}}}),Y_={class:"container"};function J_(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",Y_,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.placentaExamination,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const K_=M(j_,[["render",J_],["__scopeId","data-v-9d5a086c"]]),Q_=V({name:"end",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...y(Do,["endLabourAndDelivery"])},mounted(){this.handleOtherEnd()},watch:{endLabourAndDelivery:{handler(){this.handleOtherEnd()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleOtherEnd(){S(this.endLabourAndDelivery,"closing labour and delivery")=="other"?d(this.endLabourAndDelivery,"Specify","displayNone",!1):d(this.endLabourAndDelivery,"Specify","displayNone",!0)}}}),X_={class:"container"};function Z_(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",X_,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.endLabourAndDelivery},null,8,["contentData"])]),_:1})]),_:1})])}const ev=M(Q_,[["render",Z_],["__scopeId","data-v-c5cfbf12"]]),tv=V({name:"FirstVaginalExamination",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...y(mn,["otherExams"]),...y(mn,["urine"])},mounted(){this.handleUrine(),this.handleUrineColor(),this.handleUrineColorOdour(),this.handleDilated(),this.handleGrade(),this.handleUmbricalCord(),this.handleObstetricComplications(),this.handleOtherComplications(),this.handleObstetricCare()},watch:{urine:{handler(){this.handleUrine(),this.handleUrineColor(),this.handleUrineColorOdour(),this.handleDilated()},deep:!0},otherExams:{handler(){this.handleGrade(),this.handleUmbricalCord(),this.handleObstetricComplications(),this.handleOtherComplications(),this.handleObstetricCare()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleValidateFatal(e){Le(this.otherExams,So,e.name,e.value)},async handleInputData(e){this.handleValidateFatal(e)},handleUmbricalCord(){["presenting","prolapsed"].includes(S(this.otherExams,"Umbilical Cord"))?d(this.otherExams,"intervention","displayNone",!1):d(this.otherExams,"intervention","displayNone",!0)},handleGrade(){var e;((e=Z(this.otherExams,"Meconium stained"))==null?void 0:e.value)=="meconium stained"?b(this.otherExams,"Grade","displayNone",!1):b(this.otherExams,"Grade","displayNone",!0)},handleUrine(){S(this.urine,"woman urinated")=="yes"?d(this.urine,"amount of urine","displayNone",!1):d(this.urine,"amount of urine","displayNone",!0)},handleUrineColor(){S(this.urine,"woman urinated")=="yes"?d(this.urine,"color of urine","displayNone",!1):d(this.urine,"color of urine","displayNone",!0)},handleUrineColorOdour(){S(this.urine,"woman urinated")=="yes"?d(this.urine,"Odour","displayNone",!1):d(this.urine,"Odour","displayNone",!0)},handleDilated(){S(this.urine,"Fully dilated")=="yes"?d(this.urine,"Time fully dilated","displayNone",!1):d(this.urine,"Time fully dilated","displayNone",!0)},handleObstetricComplications(){var t;const e=["Antepartum haemorrhage","Post partum Haemorrhage","Obstructed/Prolonged labour","Preterm labour","(Pre-) Eclampsia","Sepsis","Ruptured uterus","Fetal distress","Placenta Previa","Fetal distress","Placenta abruption","Retained placenta","Severe anaemia","Perineal tear (2nd, 3rd or 4th degree)","symphysiotomy","Other"];(t=Z(this.otherExams,"None"))!=null&&t.checked?e.forEach(a=>{B(this.otherExams,a,"checked",!1),B(this.otherExams,a,"disabled",!0)}):e.forEach(a=>{B(this.otherExams,a,"disabled",!1)})},handleOtherComplications(){var e;((e=Z(this.otherExams,"Other"))==null?void 0:e.value)=="other"?d(this.otherExams,"Specify","displayNone",!1):d(this.otherExams,"Specify","displayNone",!0)},handleObstetricCare(){var t;const e=["Oxytocin","Cabitocin","Tranexamic acid","Misoprostol","Anticonvulsants","Antibiotics","Antenatal corticosteroids","Blood transfusion","Manual removal of placenta (MRP)","Non-pneumatic Anti-shock Garment (NASG)","Manual Removal of Retained Products of Conception (MRPOC)","Evacuation","Other"];(t=Z(this.otherExams,"None"))!=null&&t.checked?e.forEach(a=>{B(this.otherExams,a,"checked",!1),B(this.otherExams,a,"disabled",!0)}):e.forEach(a=>{B(this.otherExams,a,"disabled",!1)})}}}),av={class:"container"};function sv(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",av,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.otherExams,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),s(_,{class:"section"},{default:i(()=>[s(f,null,{default:i(()=>[s(h,{contentData:e.urine},null,8,["contentData"])]),_:1})]),_:1})])}const nv=M(tv,[["render",sv],["__scopeId","data-v-1169f3e1"]]),iv=V({components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,BasicInputField:W,BasicForm:F,PreviousVitals:xa},data(){return{iconsContent:w,BMI:{},BPStatus:{},saveBtnStatus:{},TempStatus:{},PulseStatus:{},RespiratoryStatus:{},OxygenStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1}}},watch:{vitals:{handler(){this.checkHeight()},deep:!0},$route:{handler(){this.checkHeight(),this.setTodayVitals(),this.updateVitalsStores()},deep:!0}},computed:{...y(Me,["patient"]),...y(Co,["vitals"])},async mounted(){await this.setTodayVitals();const e=Ke.getUserID();this.vitalsInstance=new Wo(this.patient.patientID,e),await this.validaterowData("onload")},setup(){return{checkmark:K,pulseOutline:X}},methods:{async setTodayVitals(){var r,l;const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","SAO2","Respiratory rate"],t=["Height (cm)","Weight","Systolic","Diastolic","Pulse"],a=[],n=me.getAgeInYears((l=(r=this.patient)==null?void 0:r.personInformation)==null?void 0:l.birthdate),o=e.map(async u=>{const h=await Ee.getFirstObsDatetime(this.patient.patientID,u);h&&me.toStandardHisFormat(h)==me.sessionDate()?(u=="Weight"&&B(this.vitals,"Height And Weight Not Done","displayNone",!0),u=="Systolic"&&B(this.vitals,"Blood Pressure Not Done","displayNone",!0),u=="Pulse"&&B(this.vitals,"Pulse Rate Not Done","displayNone",!0),d(this.vitals,u,"value",await Ee.getFirstValueNumber(this.patient.patientID,u,me.sessionDate())),d(this.vitals,u,"disabled",!0),a.push("true")):t.includes(u)?a.push("false"):d(this.vitals,u,"value",""),u==="Respiratory rate"&&n<=5&&(d(this.vitals,u,"required",!0),d(this.vitals,u,"inputHeader","Respiratory rate*"))});return await Promise.all(o),a.includes("false")?this.vitals[0].actionBtn="Finish and Save":this.vitals[0].actionBtn="Finish",!a.includes("false")},navigationMenu(e){$e.close(),this.$router.push(e)},updateVitalsStores(){Ba().setVitals(this.vitals)},validationController(e){var t,a,n,o,r,l;((t=e==null?void 0:e.col)==null?void 0:t.name)=="Height And Weight Not Done"&&e.col.checked?(we(this.vitals,"Height Weight Reason","displayNone",!1),d(this.vitals,"Height (cm)","disabled",!0),d(this.vitals,"Weight","disabled",!0),d(this.vitals,"Height (cm)","inputHeader","Height"),d(this.vitals,"Weight","inputHeader","Weight"),d(this.vitals,"Height (cm)","value",""),d(this.vitals,"Weight","value",""),this.validationStatus.heightWeight=!1):((a=e==null?void 0:e.col)==null?void 0:a.name)=="Height And Weight Not Done"&&(we(this.vitals,"Height Weight Reason","displayNone",!0),d(this.vitals,"Height (cm)","disabled",!1),d(this.vitals,"Weight","disabled",!1),d(this.vitals,"Height (cm)","inputHeader","Height*"),d(this.vitals,"Weight","inputHeader","Weight*"),this.validationStatus.heightWeight=!0),((n=e==null?void 0:e.col)==null?void 0:n.name)=="Blood Pressure Not Done"&&e.col.checked?(we(this.vitals,"Blood Pressure Reason","displayNone",!1),d(this.vitals,"Systolic","disabled",!0),d(this.vitals,"Diastolic","disabled",!0),d(this.vitals,"Systolic","inputHeader","Systolic Pressure"),d(this.vitals,"Diastolic","inputHeader","Diastolic pressure"),d(this.vitals,"Systolic","value",""),d(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!1):((o=e==null?void 0:e.col)==null?void 0:o.name)=="Blood Pressure Not Done"&&(we(this.vitals,"Blood Pressure Reason","displayNone",!0),d(this.vitals,"Systolic","disabled",!1),d(this.vitals,"Diastolic","disabled",!1),d(this.vitals,"Systolic","inputHeader","Systolic Pressure*"),d(this.vitals,"Diastolic","inputHeader","Diastolic pressure*"),d(this.vitals,"Systolic","value",""),d(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!0),((r=e==null?void 0:e.col)==null?void 0:r.name)=="Pulse Rate Not Done"&&e.col.checked?(we(this.vitals,"Pulse Rate Reason","displayNone",!1),d(this.vitals,"Pulse","disabled",!0),d(this.vitals,"Pulse","inputHeader","Pulse rate"),d(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!1):((l=e==null?void 0:e.col)==null?void 0:l.name)=="Pulse Rate Not Done"&&(we(this.vitals,"Pulse Rate Reason","displayNone",!0),d(this.vitals,"Pulse","disabled",!1),d(this.vitals,"Pulse","inputHeader","Pulse rate*"),d(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!0)},async checkHeight(){const e=new De,t=await e.getRecentHeightObs();if(!Pe.isEmpty(t)){const a=Ns(t.obs_datetime).diff(e.getBirthdate(),"year"),n=t.value_numeric;t.obs_id,a<18||e.getAge()<18||(d(this.vitals,"Height","disabled",!0),d(this.vitals,"Height","value",n))}},async validaterowData(e){this.checkHeight(),this.validationController(e),this.hasValidationErrors=[],this.vitals.forEach((t,a)=>{var n,o;(n=t==null?void 0:t.data)!=null&&n.rowData&&((o=t==null?void 0:t.data)==null||o.rowData.forEach((r,l)=>{var u,h,f;if(r.colData[0].inputHeader=="Systolic Pressure*"&&(e.inputHeader=="Systolic Pressure*"||e.inputHeader=="Diastolic pressure*"||e=="onload")||r.colData[0].inputHeader=="Systolic Pressure"&&((u=e==null?void 0:e.col)==null?void 0:u.name)=="Blood Pressure Not Done"){const _=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BPStatus=_?this.getBloodPressureStatus(r.colData[0].value,r.colData[1].value):{},this.updateBP(r.colData[0].value,r.colData[1].value)}if(r.colData[1].inputHeader=="Pulse rate*"&&(e.inputHeader=="Pulse rate*"||e=="onload")||r.colData[1].inputHeader=="Pulse rate"&&((h=e==null?void 0:e.col)==null?void 0:h.name)=="Pulse Rate Not Done"){const D=this.vitalsInstance.validator(r.colData[1])==null?this.getPulseRateStatus(r.colData[1].value):{};this.updateTemperateRate("pulse",r.colData[1].value+" BMP",D,4)}if(r.colData[0].value&&r.colData[0].inputHeader=="Temperature"){const D=this.vitalsInstance.validator(r.colData[0])==null?this.getTemperatureStatus(r.colData[0].value):{};this.updateTemperateRate("temp",r.colData[0].value+"°C",D,4)}if(r.colData[0].inputHeader=="Respiratory rate"){const D=this.vitalsInstance.validator(r.colData[0])==null?this.getRespiratoryRateStatus(r.colData[0].value):{};this.updateTemperateRate("respiratory",r.colData[0].value+"BMP",D,6)}if(r.colData[1].value&&r.colData[1].inputHeader=="Oxygen saturation"){const D=this.vitalsInstance.validator(r.colData[1])==null?this.getOxygenSaturationStatus(r.colData[1].value):{};this.updateTemperateRate("oxygen",r.colData[1].value+"%",D,6)}if(r.colData[0].inputHeader=="Height*"&&(e.inputHeader=="Height*"||e.inputHeader=="Weight*"||e=="onload")||r.colData[0].inputHeader=="Height"&&((f=e==null?void 0:e.col)==null?void 0:f.name)=="Height And Weight Not Done"){const _=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BMI=_?this.setBMI(r.colData[1].value,r.colData[0].value):{},this.updateBMI()}r.colData.some((_,D)=>{const P=this.vitalsInstance.validator(_);if((P==null?void 0:P.length)>0){if(this.hasValidationErrors.push("false"),_.inputHeader===e.inputHeader)return this.vitals[a].data.rowData[l].colData[D].alertsErrorMassage=!0,this.vitals[a].data.rowData[l].colData[D].alertsErrorMassage=P.flat(1/0)[0],!0}else this.hasValidationErrors.push("true"),this.vitals[a].data.rowData[l].colData[D].alertsErrorMassage=!1,this.vitals[a].data.rowData[l].colData[D].alertsErrorMassage="";return!1})}))}),this.vitals.validationStatus=!this.hasValidationErrors.includes("false")},async setBMI(e,t){var a,n,o,r,l,u,h,f;(n=(a=this.patient)==null?void 0:a.personInformation)!=null&&n.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&e&&t&&(this.BMI=await bt.getBMI(parseInt(e),parseInt(t),(u=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:u.gender,me.calculateAge((f=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:f.birthdate,me.sessionDate())),console.log("🚀 ~ setBMI ~ this.BMI:",this.BMI),this.updateBMI())},async updateBMI(){var a,n,o,r,l,u;const e=(n=(a=this.BMI)==null?void 0:a.color)!=null?n:[],t=this.vitals[0].alerts[0];t.icon=bt.iconBMI(e),t.backgroundColor=e[0],t.textColor=e[1],t.index="BMI "+((r=(o=this.BMI)==null?void 0:o.index)!=null?r:""),t.value=(u=(l=this.BMI)==null?void 0:l.result)!=null?u:""},async updateBP(e,t){var o,r,l,u,h,f;const a=(r=(o=this.vitals[2])==null?void 0:o.alerts[0])!=null?r:[],n=(u=(l=this.BPStatus)==null?void 0:l.colors)!=null?u:[];a.icon=qa(n),a.backgroundColor=n[0],a.textColor=n[1],a.index=e+"/"+t,a.value=(f=(h=this.BPStatus)==null?void 0:h.value)!=null?f:""},async updateTemperateRate(e,t,a,n){var l,u,h,f,_,D;const o=(u=(l=this.vitals[n])==null?void 0:l.alerts)==null?void 0:u.filter(P=>P.name!==e);this.vitals[n].alerts=o;const r=(h=a==null?void 0:a.colors)!=null?h:[];(_=this.vitals[n])==null||_.alerts.push({backgroundColor:r[0],status:"",icon:"",textColor:r[1],value:(f=a==null?void 0:a.value)!=null?f:"",name:e,index:t}),console.log((D=this.vitals[4])==null?void 0:D.alerts)},getBloodPressureStatus(e,t){if(e&&t){let a,n,o,r;const u=new De().getAge();return u<1?(a=75,n=100,o=50,r=70):u>=1&&u<6?(a=80,n=110,o=50,r=80):u>=6&&u<13?(a=85,n=120,o=55,r=80):u>=13&&u<18?(a=95,n=140,o=60,r=90):(a=100,n=130,o=60,r=90),e<a&&t<o?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP "}:e>=a&&e<=n&&t>=o&&t<=r?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP "}:e>140&&t>90?{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP"}:e<a?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP  (Using Systolic Only)"}:e>=a&&e<=n?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP  (Using Systolic Only)"}:{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP  (Using Systolic Only)"}}},getTemperatureStatus(e){if(e){let t,a;const o=new De().getAge();if(o<=1||o>=1&&o<=18||o>=19&&o<=64||o>=65?(t=35.5,a=37.4):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Temperature "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Temperature "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Temperature "}}},getPulseRateStatus(e){if(e){let t,a;const o=new De().getAge();if(o<=.08?(t=70,a=190):o>=.08&&o<1?(t=80,a=160):o>=1&&o<=2?(t=80,a=130):o>=3&&o<=4?(t=80,a=120):o>=5&&o<=6?(t=75,a=115):o>=7&&o<=9?(t=70,a=110):o>=10?(t=60,a=100):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Pulse Rate "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Pulse Rate "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Pulse Rate "}}},getOxygenSaturationStatus(e){if(e){let t=95,a=100;if(e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low oxygen saturation"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal oxygen saturation"}}},getRespiratoryRateStatus(e){if(e){let t,a;const o=new De().getAge();if(o<=1?(t=30,a=60):o>=1&&o<3?(t=24,a=40):o>=3&&o<=6?(t=22,a=34):o>=6&&o<=12?(t=18,a=30):o>=12&&o<=18?(t=12,a=16):o>=19?(t=12,a=20):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low respiratory rate"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal respiratory rate"};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High respiratory rate"}}}}}),ov={class:"ion-padding",slot:"content"};function lv(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-label"),h=c("ion-item"),f=c("PreviousVitals"),_=c("ion-accordion"),D=c("ion-accordion-group"),P=c("ion-row");return p(),m(ne,null,[s(l,{contentData:e.vitals,"onUpdate:inputValue":t[0]||(t[0]=N=>e.validaterowData(N))},null,8,["contentData"]),s(P,null,{default:i(()=>[s(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[s(_,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[s(h,{slot:"header",color:"light"},{default:i(()=>[s(u,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[C("Previous measurements")])),_:1,__:[1]})]),_:1}),v("div",ov,[s(f)])]),_:1})]),_:1},512)]),_:1})],64)}const rv=M(iv,[["render",lv],["__scopeId","data-v-d7b7b31b"]]),dv=V({name:"immidiatePostnatalChecksForChild",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...y(fn,["examsAfterDeliveryForChild"])},mounted(){const e=fn();this.initialData=e.getInitial()},watch:{},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleValidateBaby(e){Le(this.examsAfterDeliveryForChild,wo,e.name,e.value)},async handleInputData(e){this.handleValidateBaby(e)}}}),cv={class:"container"};function uv(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",cv,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.examsAfterDeliveryForChild,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const hv=M(dv,[["render",uv],["__scopeId","data-v-c38fbba8"]]),pv=V({name:"ImmidiatePostnatalChecksForMother",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...y(_n,["examsAfterDelivery"])},mounted(){const e=_n();this.initialData=e.getInitial(),this.handleImmidiate(),this.handleHour(),this.handleUrine()},watch:{examsAfterDelivery:{handler(){this.handleImmidiate(),this.handleHour(),this.handleUrine()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleValidatePostnatal(e){Le(this.examsAfterDelivery,Io,e.name,e.value)},async handleInputData(e){this.handleValidatePostnatal(e)},handleImmidiate(){S(this.examsAfterDelivery,"Time for postnatal check")==="immediately after delivery"||S(this.examsAfterDelivery,"Time for postnatal check")==="1 hour after delivery"?(d(this.examsAfterDelivery,"Systolic blood pressure","displayNone",!1),d(this.examsAfterDelivery,"Pulse","displayNone",!1)):(d(this.examsAfterDelivery,"Systolic blood pressure","displayNone",!0),d(this.examsAfterDelivery,"Pulse","displayNone",!0))},handleHour(){S(this.examsAfterDelivery,"Time for postnatal check")==="1 hour after delivery"?(d(this.examsAfterDelivery,"Temperature","displayNone",!1),b(this.examsAfterDelivery,"Raptured Uterus","displayNone",!1),b(this.examsAfterDelivery,"Lochia","displayNone",!1),b(this.examsAfterDelivery,"Woman urinated","displayNone",!1)):(d(this.examsAfterDelivery,"Temperature","displayNone",!0),b(this.examsAfterDelivery,"Raptured Uterus","displayNone",!0),b(this.examsAfterDelivery,"Lochia","displayNone",!0),b(this.examsAfterDelivery,"Woman urinated","displayNone",!0))},handleUrine(){S(this.examsAfterDelivery,"Woman urinated")==="Yes"?(d(this.examsAfterDelivery,"Time","displayNone",!1),d(this.examsAfterDelivery,"amount of urine","displayNone",!1),d(this.examsAfterDelivery,"color of urine","displayNone",!1)):(d(this.examsAfterDelivery,"Time","displayNone",!0),d(this.examsAfterDelivery,"amount of urine","displayNone",!0),d(this.examsAfterDelivery,"color of urine","displayNone",!0))}}}),mv={class:"container"};function fv(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",mv,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.examsAfterDelivery,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const _v=M(pv,[["render",fv],["__scopeId","data-v-cef1a91e"]]),vv=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F},data(){return{iconsContent:w,initialData:[]}},computed:{...y(Aa,["ReasonForSubsequentVisit"])},mounted(){const e=Aa();this.initialData=e.getInitial1(),this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit()},watch:{ReasonForVisit:{handler(){this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{navigationMenu(e){$e.close(),this.$router.push(e)},handleFirstAntenalVisit(){},handleSpecificConcernsVisit(){}}}),gv={class:"container"};function yv(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",gv,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.ReasonForSubsequentVisit,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const bv=M(vv,[["render",yv],["__scopeId","data-v-664c84b2"]]),Dv=V({components:{IonButton:mt,BabyDetailsModal:Ms,IonToggle:se,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonInput:J,BasicInputField:W,BasicForm:F,FeatusModal:mi},data(){return{iconsContent:w,vValidations:"",hasValidationErrors:[],FeatusModalOpen:!1,arrayOfFeatus:[],selectedFeatus:0,initialData:[]}},computed:{...y(ht,["fetalAssessment","fetalDetails"]),...y(Ds,["fetalPresentation"]),...y(ht,["fetalsDetails"])},mounted(){const e=ht();this.initialData=e.getInitialFetalAssesment()},watch:{fetalAssessment:{handler(){this.handleNumberOfFetuses()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{handleInputData(e){Le(this.fetalAssessment,si,e.name,e.value)},selectFeatus(e){this.selectedFeatus=e;const t=this.fetalsDetails.find(n=>n.featus==e);ht().setFetalDetails(t.details),this.toggleFetalModal()},handleNumberOfFetuses(){const e=Y(this.fetalAssessment,"Number of fetuses","value");this.arrayOfFeatus=[...Array(Number(e)).keys()]},handleAddFeatusDetails(e){ht().setFetalDetails(),this.selectedFeatus=e,this.toggleFetalModal()},closeFetalModal(){},handleFeatusYes(){this.toggleFetalModal();const e=ht(),t=this.fetalsDetails.findIndex(a=>a.featus==this.selectedFeatus);t<0?this.fetalsDetails.push({featus:this.selectedFeatus,details:[...Pe.cloneDeep(e.fetalDetails)]}):this.fetalsDetails[t].details=[...Pe.cloneDeep(e.fetalDetails)],e.setFetalDetails()},handleFeatusNo(){this.toggleFetalModal(),ht().fetalAssessment.setFetalDetals()},toggleFetalModal(){this.FeatusModalOpen=!this.FeatusModalOpen},navigationMenu(e){$e.close(),this.$router.push(e)},checkIfSubmitted(e){return this.fetalsDetails.find(t=>t.featus==e)}}}),Sv={class:"container"},Cv={key:0};function wv(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("FeatusModal"),_=c("ion-button"),D=c("ion-card-content"),P=c("ion-card");return p(),m("div",Sv,[s(P,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[C("Fetal assessment results")])),_:1,__:[0]})]),_:1}),s(D,null,{default:i(()=>[s(h,{contentData:e.fetalAssessment,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),s(f,{closeModalFunc:e.closeFetalModal,onYes:e.handleFeatusYes,onNo:e.handleFeatusNo,isOpen:e.FeatusModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfFeatus.length>0?(p(),m("div",Cv,[(p(!0),m(ne,null,fe(e.arrayOfFeatus,N=>(p(),m("div",{key:N},[e.checkIfSubmitted(N)?A("",!0):(p(),O(_,{key:0,onClick:G=>e.handleAddFeatusDetails(N)},{default:i(()=>[C("Add Featus "+$(N+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(N)?(p(),O(_,{key:1,onClick:G=>e.selectFeatus(N)},{default:i(()=>[C("View Featus "+$(N+1),1)]),_:2},1032,["onClick"])):A("",!0)]))),128))])):A("",!0)]),_:1})]),_:1})])}const Iv=M(Dv,[["render",wv],["__scopeId","data-v-c7a76c0d"]]),Mn=[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Clinical counselling done?",selectedValue:"",name:"Clinical counselling",class:"bold"},data:[{name:"Counseling conducted on the risks of severe hypertension",value:"Counseling conducted on the risks of severe hypertension",checked:!1,colSize:12},{name:"Counselling on HIV positive",value:"Counselling on HIV positive",checked:!1,colSize:12},{name:"Counselling on Hepatitis B",value:"Counselling on Hepatitis B",checked:!1,colSize:12},{name:"Counselling on Hepatitis C",value:"Counselling on Hepatitis C",checked:!1,colSize:12},{name:"Counselling on Syphilis",value:"Counselling on Syphilis",checked:!1,colSize:12},{name:"Counselling on TB screening",value:"Counselling on TB screening",checked:!1,colSize:12},{name:"Counselling on gestational diabetes mellitus (GDM)",value:"Counselling on gestational diabetes mellitus (GDM)",checked:!1,colSize:12},{name:"Counselling on anaemia conducted",value:"Counselling on anaemia conducted",checked:!1,colSize:12}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",sideColSize:0,checkboxBtnContent:{header:{title:"Reason if any clinical counselling not conducted?",selectedValue:"",name:"Reason clinical counselling not done",class:"bold"},data:[{name:"Client was referred",value:"client was referred",colSize:"7"},{name:"Other",value:"Other",colSize:"7"}]}},{childName:"Other",classDash:"dashed_bottom_border",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",icon:w.editPen,name:"Other notes",inputType:"",valueType:"text",value:"",eventType:"input",inputWidth:"100%",required:!0}]}]}}],Tn=je("clinicalCounsellingStore",{state:()=>({clinicalCounselling:[...Mn]}),actions:{addBehaviourInfo(e){this.clinicalCounselling=e},getInitial(){return[...Pe.cloneDeep(Mn)]}},persist:!0}),Pv=V({name:"diagnosisTreatment",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonTitle:L,IonToolbar:R,IonMenu:z,menuController:$e,IonToggle:se,IonSelectOption:oe,IonInput:J,IonSelect:le,BasicForm:F,IonRadio:ge,IonRadioGroup:ve},data(){return{currentSection:0,initialData:[]}},setup(){return{checkmark:K,pulseOutline:X}},computed:{...y(Tn,["clinicalCounselling"])},mounted(){const e=Tn();this.initialData=e.getInitial()},watch:{},methods:{goToNextSection(){this.currentSection<4&&this.currentSection++}}}),Nv={class:"container"};function kv(e,t,a,n,o,r){const l=c("ion-card-title"),u=c("ion-card-header"),h=c("basic-form"),f=c("ion-card-content"),_=c("ion-card");return p(),m("div",Nv,[s(_,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),s(f,null,{default:i(()=>[s(h,{contentData:e.clinicalCounselling,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Bv=M(Pv,[["render",kv],["__scopeId","data-v-7c916b1b"]]),Ia=je("labourWomanBehaviourStore",{state:()=>({dailyCaffeineIntake:[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{class:"bold",title:"Daily caffeine intake",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than 2 cups of coffee",value:"more than 2 cups of coffee",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than 4 cups of tea",value:"more than 4 cups of tea",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than 12 bars of chocolate",value:"more than 12 bars of chocolate",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than one bottle of soda, energy, soft drink",value:"more than one bottle of soda, energy, soft drink",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}}],Tobacco:[{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Recently quit tobacco products",selectedValue:"",name:"Recently quit tobacco products"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Exposure to second hand smoke",selectedValue:"",name:"Exposure to second hand smoke"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Pica",selectedValue:"",name:"Pica"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Alcohol Intake",selectedValue:"",name:"Alcohol"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}}]}),actions:{setPersonalInformation(e){this.dailyCaffeineIntake=e}}}),Ev=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,UpcomingFeature:Nt,DynamicButton:Ve},data(){return{iconsContent:w,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...y(nt,["investigations"]),...y(Me,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e,t,a,n;try{const o=await Ee.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Daily caffeine use"),r=await Ee.getAllValueCoded(((t=this.patient)==null?void 0:t.patientID)||"","Recently quit tobacco products"),l=await Ee.getAllValueCoded(((a=this.patient)==null?void 0:a.patientID)||"","Exposure to second hand smoke"),u=await Ee.getAllValueCoded(((n=this.patient)==null?void 0:n.patientID)||"","Alcohol"),h=[...o,...r,...l,...u];console.log("Fetched Daily caffeine use:",h),this.immunisation=h}catch(o){console.error("Error fetching Daily caffeine use:",o)}},async updateData(){const e=new De;this.visits=await De.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return me.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await St.getEncounters(this.patient.patient_id,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,n,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(n=this.filterObs(t,"Gravida"))==null?void 0:n[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(n=>n.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){vt(kt)}}}),Vv={class:"visitContent"},Av={class:"visitData"},$v={key:0},Mv={style:{"max-width":"1000px"}},Tv={key:1,class:"noData"};function Ov(e,t,a,n,o,r){const l=c("ion-col"),u=c("ion-row");return p(),m("div",Vv,[s(u,null,{default:i(()=>[s(l,{offset:"0.1",size:"7"},{default:i(()=>[v("div",Av,[e.immunisation&&e.immunisation.length>0?(p(),m("div",$v,[v("div",Mv,[t[1]||(t[1]=v("div",{class:"heading"},"WOMAN BEHAVIOUR",-1)),v("div",null,[s(u,null,{default:i(()=>[s(l,{class:"contentTitle"})]),_:1}),(p(!0),m(ne,null,fe(e.immunisation,(h,f)=>(p(),O(u,{key:f},{default:i(()=>[s(l,null,{default:i(()=>[C($(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=v("br",null,null,-1))])])])):(p(),m("div",Tv,"WOMEN BEHAVIOUR DATA IS EMPTY"))])]),_:1})]),_:1})])}const Fv=M(Ev,[["render",Ov],["__scopeId","data-v-06755d32"]]),Hv=V({name:"Menu",components:{BasicForm:F,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,LabourBehaviourHistory:Fv},data(){return{iconsContent:w,currentSection:0}},mounted(){Ia(),Ia(),this.handleNone()},watch:{dailyCaffeineIntake:{handler(e){this.handleNone(),this.handleInputData(e)},deep:!0}},computed:{...y(Ia,["dailyCaffeineIntake"]),...y(Ia,["Tobacco"]),DailyCaffeineIntake(){return Z(this.dailyCaffeineIntake,"Daily caffeine use")},SubstanceAbuse(){return S(this.Tobacco,"Recently quit tobacco products")},SecondHandSmoke(){return S(this.Tobacco,"Exposure to second hand smoke")}},setup(){return{checkmark:K,pulseOutline:X}},methods:{validationCaffeineRules(e){return ot(this.dailyCaffeineIntake,e.name,this[e.name])},validationTobaccoRules(e){return ot(this.dailyCaffeineIntake,e.name,this[e.name])},async handleInputData(e){this.validationCaffeineRules(e),this.validationTobaccoRules(e)},handleNone(){var t;const e=["More than 2 cups of coffee","More than 4 cups of tea","More than 12 bars of chocolate","More than one bottle of soda, energy, soft drink"];(t=Z(this.dailyCaffeineIntake,"None"))!=null&&t.checked?e.forEach(a=>{B(this.dailyCaffeineIntake,a,"checked",!1),B(this.dailyCaffeineIntake,a,"disabled",!0)}):e.forEach(a=>{B(this.dailyCaffeineIntake,a,"disabled",!1)})},navigationMenu(e){$e.close(),this.$router.push(e)}}}),Rv={class:"container"};function Lv(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Rv,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.dailyCaffeineIntake,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.Tobacco,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const xv=M(Hv,[["render",Lv],["__scopeId","data-v-c7a27dd7"]]),Uv=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,UpcomingFeature:Nt,DynamicButton:Ve},data(){return{iconsContent:w,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...y(nt,["investigations"]),...y(Me,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ee.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Does the woman have any allergies?");console.log("Fetched allergies use:",t),this.immunisation=t}catch(t){console.error("Error fetching allergies use:",t)}},async updateData(){const e=new De;this.visits=await De.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return me.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await St.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,n,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(n=this.filterObs(t,"Gravida"))==null?void 0:n[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(n=>n.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){vt(kt)}}}),zv={class:"visitContent"},qv={class:"visitData"},Wv={key:0},Gv={style:{"max-width":"1000px"}},jv={key:1,class:"noData"};function Yv(e,t,a,n,o,r){const l=c("ion-col"),u=c("ion-row");return p(),m("div",zv,[s(u,null,{default:i(()=>[s(l,{offset:"0.1",size:"7"},{default:i(()=>[v("div",qv,[e.immunisation&&e.immunisation.length>0?(p(),m("div",Wv,[v("div",Gv,[t[1]||(t[1]=v("div",{class:"heading"},"ALLERGIES",-1)),v("div",null,[s(u,null,{default:i(()=>[s(l,{class:"contentTitle"})]),_:1}),(p(!0),m(ne,null,fe(e.immunisation,(h,f)=>(p(),O(u,{key:f},{default:i(()=>[s(l,null,{default:i(()=>[C($(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=v("br",null,null,-1))])])])):(p(),m("div",jv,"ALLERGIES DATA IS EMPTY"))])]),_:1})]),_:1})])}const Jv=M(Uv,[["render",Yv],["__scopeId","data-v-3ee41ee7"]]),Re={albendazole:{name:"Albendazole",value:"albendazole"},aluminiumHydroxide:{name:"Aluminium-hydroxide",value:"aluminium-hydroxide"},calcium:{name:"Calcium",value:"calcium"},chamomile:{name:"Chamomile",value:"chamomile"},folicAcid:{name:"Folic-acid",value:"folic-acid"},ginger:{name:"Ginger",value:"ginger"},fish:{name:"Fish",value:"fish"},iron:{name:"Iron",value:"iron"},malariaMedication:{name:"Sulfadoxine-Pyrimethamine",value:"Sulfadoxine-Pyrimethamine"},mebendazole:{name:"Mebendazole",value:"mebendazole"},penicillin:{name:"Penicillin",value:"penicillin"},prEPTenofovirDisoproxilFumarate:{name:"PrEP(TDF)",value:"PrEP(TDF)"}},Kv=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have any allergies?",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Re.albendazole.name,disabled:!1,value:Re.albendazole.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Re.aluminiumHydroxide.name,disabled:!1,value:Re.aluminiumHydroxide.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Re.calcium.name,disabled:!1,value:Re.calcium.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Re.chamomile.name,disabled:!1,value:Re.chamomile.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Re.folicAcid.name,disabled:!1,value:Re.folicAcid.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Re.ginger.name,disabled:!1,value:Re.ginger.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Re.fish.name,disabled:!1,value:Re.fish.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Re.iron.name,disabled:!1,value:Re.iron.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Re.malariaMedication.name,disabled:!1,value:Re.malariaMedication.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Re.mebendazole.name,disabled:!1,value:Re.mebendazole.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Re.penicillin.name,disabled:!1,value:Re.penicillin.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Re.prEPTenofovirDisoproxilFumarate.name,disabled:!1,value:Re.prEPTenofovirDisoproxilFumarate.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:"None",value:"none",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:"Other",value:"other",disabled:!1,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{childName:"Other",classDash:"dashed_bottom_border",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",icon:w.editPen,value:"",name:"Other notes",valueType:"text",eventType:"input",inputWidth:"82%",required:!0}]}]}}],Qv=je("labourAllergiesStore",{state:()=>({labourAllergies:[...Kv]}),actions:{addAllegy(e){this.labourAllergies=e}}}),Xv=V({name:"Past Surguries",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,LabourAllergiesHistory:Jv},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=pe(),t=pe(),a=pe();pe(),pe(),pe(),pe(),pe(),pe(),pe(),pe(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleAllergies()},watch:{allegy:{handler(){this.handleAllergies()},deep:!0}},computed:{...y(Qv,["labourAllergies"])},methods:{async getFacility(e){return await Ht.getFacilities({name:e})},handleAllergies(){var t;const e=["Other","PrEP(TDF)","Albendazole","Aluminium-hydroxide","Calcium","Sulfadoxine-Pyrimethamine","Chamomile","Folic-acid","Ginger","Fish","Iron","Mebendazole","Penicillin"];(t=Z(this.labourAllergies,"None"))!=null&&t.checked?e.forEach(a=>{B(this.labourAllergies,a,"checked",!1),B(this.labourAllergies,a,"disabled",!0)}):e.forEach(a=>{B(this.labourAllergies,a,"disabled",!1)})}}}),Zv={class:"container"},eg={class:"ion-padding",slot:"content"};function tg(e,t,a,n,o,r){const l=c("ion-label"),u=c("ion-item"),h=c("LabourAllergiesHistory"),f=c("ion-accordion"),_=c("ion-accordion-group"),D=c("basic-form"),P=c("ion-card-content"),N=c("ion-card");return p(),m("div",Zv,[s(_,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[s(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[C("Allergies History")])),_:1,__:[0]})]),_:1}),v("div",eg,[s(h)])]),_:1})]),_:1},512),s(N,{class:"section"},{default:i(()=>[s(P,null,{default:i(()=>[s(D,{contentData:e.labourAllergies,initialData:e.initialData1},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const ag=M(Xv,[["render",tg],["__scopeId","data-v-5da4e321"]]),sg=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,UpcomingFeature:Nt,DynamicButton:Ve},data(){return{iconsContent:w,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...y(nt,["investigations"]),...y(Me,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ee.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Does the woman have any past surgeries done?");console.log("Fetched past surgeries use:",t),this.immunisation=t}catch(t){console.error("Error fetching past surgeries use:",t)}},async updateData(){const e=new De;this.visits=await De.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return me.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await St.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,n,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(n=this.filterObs(t,"Gravida"))==null?void 0:n[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(n=>n.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){vt(kt)}}}),ng={class:"visitContent"},ig={class:"visitData"},og={key:0},lg={style:{"max-width":"1000px"}},rg={key:1,class:"noData"};function dg(e,t,a,n,o,r){const l=c("ion-col"),u=c("ion-row");return p(),m("div",ng,[s(u,null,{default:i(()=>[s(l,{offset:"0.1",size:"7"},{default:i(()=>[v("div",ig,[e.immunisation&&e.immunisation.length>0?(p(),m("div",og,[v("div",lg,[t[1]||(t[1]=v("div",{class:"heading"},"PAST SURGERIES DATA",-1)),v("div",null,[s(u,null,{default:i(()=>[s(l,{class:"contentTitle"})]),_:1}),(p(!0),m(ne,null,fe(e.immunisation,(h,f)=>(p(),O(u,{key:f},{default:i(()=>[s(l,null,{default:i(()=>[C($(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=v("br",null,null,-1))])])])):(p(),m("div",rg,"PAST SURGERIES DATA IS EMPTY"))])]),_:1})]),_:1})])}const cg=M(sg,[["render",dg],["__scopeId","data-v-29d3b668"]]),ct={dilationAndCurrettage:{name:"Dilation and currettage",value:"dilation and currettage"},Myomectomy:{name:"Myomectomy",value:"myomectomy"},removalOfOvarianCystst:{name:"Removal of ovarian cyst",value:"Removal of ovarian cyst"},Oophorectomy:{name:"Oophorectomy",value:"oophorectomy"},Salpingectomy:{name:"Salpingectomy"},cervicalCone:{name:"Cervical cone",value:"cervical cone"}},On=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have any past medical and surgical?",selectedValue:"",class:"bold",name:"Does the woman have any past surgeries done?"},data:[{name:ct.dilationAndCurrettage.name,value:ct.dilationAndCurrettage.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:ct.Myomectomy.name,value:ct.Myomectomy.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Past surgeries done?"},data:[{name:ct.removalOfOvarianCystst.name,value:ct.removalOfOvarianCystst.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:ct.Oophorectomy.name,value:ct.Oophorectomy.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any past surgeries done?"},data:[{name:ct.Salpingectomy.name,value:ct.Salpingectomy.name,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:ct.cervicalCone.name,value:ct.cervicalCone.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any past surgeries done?"},data:[{name:"None",value:"none",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:"Other",value:"Other",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{childName:"Other",classDash:"dashed_bottom_border",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",icon:w.editPen,value:"",name:"Other notes",valueType:"text",eventType:"input",inputWidth:"82%",required:!0}]}]}}],ug=je("labourPastSurgeriesStore",{state:()=>({labourPastSurgeries:[...On]}),actions:{addLabourPastSurgeries(e){this.labourPastSurgeries=e},getInitial(){return[...Pe.cloneDeep(On)]}}}),hg=V({name:"Past Surguries",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,LabourPastSurgeriesHistory:cg},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=pe(),t=pe(),a=pe();pe(),pe(),pe(),pe(),pe(),pe(),pe(),pe(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleSurgries()},watch:{medicalHistory:{handler(){this.handleSurgries(),this.handleDisable()},deep:!0}},computed:{...y(ug,["labourPastSurgeries"])},methods:{async getFacility(e){return await Ht.getFacilities({name:e})},handleSurgries(){var t;const e=["Dilation and currettage","Myomectomy","Removal of ovarian cystst","Oophorectomy","Removal of ovarian cyst","Salpingectomy","Cervical cone","Other"];(t=Z(this.labourPastSurgeries,"None"))!=null&&t.checked?e.forEach(a=>{B(this.labourPastSurgeries,a,"checked",!1),B(this.labourPastSurgeries,a,"disabled",!0)}):e.forEach(a=>{B(this.labourPastSurgeries,a,"disabled",!1)})},handleDisable(){Z(this.labourPastSurgeries,"NoSurgery")=="otherSurguries"?ke(this.labourPastSurgeries,"Other","disabled",!0):ke(this.labourPastSurgeries,"Other","disabled",!1)}}}),pg={class:"container"},mg={class:"ion-padding",slot:"content"};function fg(e,t,a,n,o,r){const l=c("ion-label"),u=c("ion-item"),h=c("LabourPastSurgeriesHistory"),f=c("ion-accordion"),_=c("ion-accordion-group"),D=c("basic-form"),P=c("ion-card-content"),N=c("ion-card");return p(),m("div",pg,[s(_,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[s(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[C("Surgeries History")])),_:1,__:[0]})]),_:1}),v("div",mg,[s(h)])]),_:1})]),_:1},512),s(N,{class:"section"},{default:i(()=>[s(P,null,{default:i(()=>[s(D,{contentData:e.labourPastSurgeries,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const _g=M(hg,[["render",fg],["__scopeId","data-v-d7e6d6d0"]]),vg=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,UpcomingFeature:Nt,DynamicButton:Ve},data(){return{iconsContent:w,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...y(nt,["investigations"]),...y(Me,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ee.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","chronic conditions");console.log("Fetched chronic conditions:",t),this.immunisation=t}catch(t){console.error("Error fetching chronic conditions:",t)}},async updateData(){const e=new De;this.visits=await De.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return me.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await St.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,n,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(n=this.filterObs(t,"Gravida"))==null?void 0:n[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(n=>n.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){vt(kt)}}}),gg={class:"visitContent"},yg={class:"visitData"},bg={key:0},Dg={style:{"max-width":"1000px"}},Sg={key:1,class:"noData"};function Cg(e,t,a,n,o,r){const l=c("ion-col"),u=c("ion-row");return p(),m("div",gg,[s(u,null,{default:i(()=>[s(l,{offset:"0.1",size:"7"},{default:i(()=>[v("div",yg,[e.immunisation&&e.immunisation.length>0?(p(),m("div",bg,[v("div",Dg,[t[1]||(t[1]=v("div",{class:"heading"},"CHRONIC CONDITIONS",-1)),v("div",null,[s(u,null,{default:i(()=>[s(l,{class:"contentTitle"})]),_:1}),(p(!0),m(ne,null,fe(e.immunisation,(h,f)=>(p(),O(u,{key:f},{default:i(()=>[s(l,null,{default:i(()=>[C($(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=v("br",null,null,-1))])])])):(p(),m("div",Sg,"CHRONIC CONDITIONS DATA IS EMPTY"))])]),_:1})]),_:1})])}const wg=M(vg,[["render",Cg],["__scopeId","data-v-f729b889"]]),Pa={autoImmuneDesease:{name:"Auto-immune desease",value:"auto immune disease"},asthma:{name:"Asthma",value:"asthma"}},Zt={sickleCell:{name:"Sickle cell",value:"sickle cell"},anaemia:{name:"Anemia",value:"anemia"},thalassemia:{name:"Thalassemia",value:"thalassemia"}},Fn={gynaelogical:{name:"Gynae Cancer",value:"gynae cancer"}},Na={ccf:{name:"CCF"},rhd:{name:"RHD",value:"rhd"}},zt={gestationalDiabetes:{name:"Gestational diabetes",value:"gestational diabetes"},preExistingType1:{name:"Diabetes Type 1",value:"diabetes type 1"},preExistingType2:{name:"Diabetes Type 2",value:"diabetes type 2"},otherDiabetis:{name:""}},Hn={epilespy:{name:"Epilepsy",value:"epilepsy"}},Ue={hivTestRequired:{name:"HIV test required",value:"HIV test required"},hivTestOrdered:{name:"HIV test ordered",value:"HIV test ordered"},hivTestConducted:{name:"HIV test ordered"},hivTestNotDone:{name:"HIV test not done"},testStockOut:{value:"Test stock-out"},expiredTests:{value:" expired tests"},hivPositive:{name:"HIV Positive",value:"HIV Positive"},hivNegative1:{name:"HIV Negative 1",value:"HIV Negative 1"},hivNegative2:{name:"HIV Negative 2",value:"HIV Negative 2"},inconclusive:{name:"Inconclusive",value:"inconclusive"},highRiskYes:{name:"Yes",value:"yes"},highRiskNo:{name:"No",value:"no"},reasonsTestNotDone:{name:"",value:"reasonsTestNotDone"}},ze={syphilisTestConducted:{name:"Syphilis test conducted",value:"Syphilis test conducted"},syphilisTestOrdered:{name:"Syphilis test ordered",value:"Syphilis test ordered"},syphilisTestNotDone:{name:"Syphilis Test Not Done",value:"syphilisTestNotDone"},rapidSyphilisTest:{name:"Rapid syphilis test",value:"rapid syphilis test"},offSiteLabTest:{name:"Off-site lab test",value:"Off-site lab test"},treponemaPallidum:{name:"TPHA",value:"TPHA"},testStockOut:{name:"Test stock-out",value:"Test stock-out"},expiredTests:{name:"Expired tests",value:"Expired tests"},syphilisPositiveResults:{name:"Syphilis positive",value:"Syphilis positive"},syphilisNegativeResults:{name:"Syphilis Negative",value:"syphilis negative"},reasonsTestNotDone:{value:""}},Rn={hypertension:{name:"Hypertension",value:"hypertension"}},Ln={kidney:{name:"Kidney Disease",value:"kidney disease"}},xn={tb:{name:"TB",value:"tb"}},Un={mentalIlliness:{name:"Mental illness",value:"mental illness"}},zn=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have existing Chronic Health Conditions? *",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:Pa.autoImmuneDesease.name,value:Pa.autoImmuneDesease.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Pa.asthma.name,value:Pa.asthma.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:Zt.sickleCell.name,value:Zt.sickleCell.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Fn.gynaelogical.name,value:Fn.gynaelogical.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:Zt.anaemia.name,value:Zt.anaemia.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Zt.thalassemia.name,value:Zt.thalassemia.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:Na.ccf.name,value:Na.rhd.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Na.rhd.name,value:Na.rhd.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:zt.gestationalDiabetes.name,value:zt.gestationalDiabetes.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:zt.preExistingType1.name,value:zt.preExistingType1.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:zt.preExistingType2.name,value:zt.preExistingType2.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Hn.epilespy.name,value:Hn.epilespy.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:Rn.hypertension.name,value:Rn.hypertension.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Ln.kidney.name,value:Ln.kidney.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:xn.tb.name,value:xn.tb.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Un.mentalIlliness.name,value:Un.mentalIlliness.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:"HIV positive",value:"hiv positive",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:"Other",value:"other",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:"None",value:"none",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{sideColSize:0,classDash:"dashed_bottom_border",childName:"Other",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify other chronic conditions",icon:w.editPen,valueType:"text",value:zt.otherDiabetis.name,name:"Other notes",eventType:"input",inputWidth:"85%",required:!0}]}]}},{classDash:"dashed_bottom_border",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"HIV test date",icon:w.calenderPrimary,value:"",name:"HIV test date",eventType:"blur",valueType:"text",inputWidth:"50%",required:!0,isDatePopover:!0,placeholder:"Pick date"}]}]}},{childName:"HIV positive",sideColSize:.5,selectdData:[],classDash:"dashed_bottom_border",isFinishBtn:!1,radioBtnContent:{header:{title:"Is the client on ART?",selectedValue:"",name:"chronic conditions",displayNone:!0,displayNext:"Yes"},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"no",colSize:"2.5"}]}},{childName:"chronic conditions",classDash:"dashed_bottom_border",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"ART number",value:"",name:"Art number",eventType:"blur",valueType:"text",inputWidth:"50%",required:!0}]}]}},{childName:"chronic conditions",sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Facility for ART",icon:w.search,value:"",name:"facility for art",popOver:!0,valueType:"text",eventType:"input",required:!0,alertsErrorMassage:"",inputWidth:"50%",placeholder:"Search for facility",popOverData:{filterData:!1,data:[]},id:"",idName:"facility_id"}]}]}}],ms=je("labourChronicHealthConditionsStore",{state:()=>({labourChronicHealthConditions:[...zn],labourHivTest:[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Was the hiv test conducted?",selectedValue:"",class:"bold",name:"hivOption"},data:[{name:Ue.hivTestRequired.name,value:Ue.hivTestRequired.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:Ue.hivTestOrdered.name,value:Ue.hivTestOrdered.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:Ue.hivTestConducted.name,value:"hivTestConducted",labelPlacement:"start",colSize:"7",justify:"space-between"},{name:Ue.hivTestNotDone.name,value:"hivTestNotDone",labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{data:{rowData:[{colData:[{inputHeader:"HIV test date",icon:w.calenderPrimary,value:"",name:"Test Date",eventType:"blur",required:!0,isDatePopover:!0}]}]}},{checkboxBtnContent:{header:{title:"Reasons HIV test not done:",selectedValue:"",class:"bold",name:"hivOutcome"},data:[{name:"Test Stock Out",value:Ue.testStockOut.value,labelPlacement:"start",colSize:"9",justify:"space-between",checked:!1},{name:"Expired Tests",value:Ue.expiredTests.value,labelPlacement:"start",colSize:"9",justify:"space-between",checked:!1},{name:"Other",value:"other",labelPlacement:"start",colSize:"9",justify:"space-between",checked:!1}]}},{data:{rowData:[{colData:[{inputHeader:"specify",icon:w.editPen,value:Ue.reasonsTestNotDone.name,name:Ue.reasonsTestNotDone.value,eventType:"input",inputWidth:"55%",required:!0}]}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Select the result of HIV test",name:"test2",selectedValue:"",class:"bold"},data:[{name:Ue.hivPositive.name,value:Ue.hivPositive.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:Ue.hivNegative1.name,value:Ue.hivNegative1.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:Ue.hivNegative2.name,value:Ue.hivNegative2.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:Ue.inconclusive.name,value:Ue.inconclusive.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{name:"test1",title:"Is the woman at high risk of HIV?",selectedValue:"",class:"bold"},data:[{name:Ue.highRiskYes.name,value:Ue.highRiskYes.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:Ue.highRiskNo.name,value:Ue.highRiskNo.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}}],labourSyphilisTest:[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Select whether:",name:"syphilisOption",class:"bold",selectedValue:""},data:[{name:ze.syphilisTestConducted.name,value:ze.syphilisTestConducted.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:ze.syphilisTestOrdered.name,value:ze.syphilisTestOrdered.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:ze.syphilisTestNotDone.name,value:ze.syphilisTestNotDone.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{radioBtnContent:{header:{displayNone:!0,name:"syphilisDetails",class:"bold",title:"Select the type of syphilis test that was done",selectedValue:""},data:[{name:ze.rapidSyphilisTest.name,value:ze.rapidSyphilisTest.value,labelPlacement:"start",colSize:"7",justify:"space-between",checked:!1},{name:ze.offSiteLabTest.name,value:ze.offSiteLabTest.value,labelPlacement:"start",colSize:"7",justify:"space-between",checked:!1},{name:ze.treponemaPallidum.name,value:ze.treponemaPallidum.value,labelPlacement:"start",colSize:"7",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{title:"Syphilis test result",class:"bold",selectedValue:"",name:"syphlisResults"},data:[{name:ze.syphilisPositiveResults.name,value:ze.syphilisPositiveResults.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:ze.syphilisNegativeResults.name,value:ze.syphilisNegativeResults.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{data:{rowData:[{colData:[{inputHeader:"Syphilis test date",icon:w.calenderPrimary,value:"",name:"syphilisDate",eventType:"blur",required:!0,inputWidth:"55%",isDatePopover:!0}]}]}},{data:{rowData:[{colData:[{inputHeader:"Syphilis test date",icon:w.calenderPrimary,value:"",name:"syphilisDate",eventType:"blur",required:!0,inputWidth:"300px",isDatePopover:!0}]}]}},{selectdData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"Reason syphilis test not done",selectedValue:"",name:"notDone",class:"bold"},data:[{name:ze.testStockOut.name,value:ze.testStockOut.value,checked:!1,labelPlacement:"start",colSize:"9",justify:"space-between"},{name:ze.expiredTests.name,value:ze.expiredTests.value,checked:!1,labelPlacement:"start",colSize:"9",justify:"space-between"},{name:"Other",value:"other",checked:!1,labelPlacement:"start",colSize:"9",justify:"space-between"}]}},{data:{rowData:[{colData:[{inputHeader:"specify",icon:w.editPen,value:ze.reasonsTestNotDone.value,name:"Reason",eventType:"input",inputWidth:"55%",required:!0}]}]}}]}),actions:{addExisitingChronicHealthConditions(e){this.labourChronicHealthConditions=e},addhivTest(e){this.labourHivTest=e},addSyphilisTest(e){this.labourSyphilisTest=e},getInitial2(){return[...Pe.cloneDeep(zn)]}}}),Ig=V({name:"Past Surguries",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,LabourChronicHistory:wg},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=pe(),t=pe(),a=pe();pe(),pe(),pe(),pe(),pe(),pe(),pe(),pe(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleHivResults(),this.handleSyphilis(),this.handleChronicCondition(),this.handleHivConducted(),this.handleHivConductedOptin(),this.handleOtherHiv(),this.handleSyphlisdate(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis(),this.handleTestNotDone(),this.handleHIVPositive()},watch:{hivTest:{handler(){this.handleHivResults(),this.handleOtherHiv(),this.handleHivConducted(),this.handleTestNotDone(),this.handleHivConductedOptin()},deep:!0},syphilisTest:{handler(){this.handleSyphilis(),this.handleSyphlisdate(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis()},deep:!0},exisitingChronicHealthConditions:{handler(e){this.handleChronicCondition(),this.handleHIVPositive(),this.handleInputData(e)},deep:!0}},computed:{...y(ms,["labourChronicHealthConditions"]),...y(ms,["labourHivTest"]),...y(ms,["labourSyphilisTest"]),ExistingChronicConditions(){return Z(this.labourChronicHealthConditions,"chronic conditions")}},methods:{validationRules(e){return ot(this.labourChronicHealthConditions,e.name,this[e.name])},async handleInputData(e){this.validationRules(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),d(this.labourChronicHealthConditions,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Ht.getFacilities({name:e})},handleHIVPositive(){var e;((e=Z(this.labourChronicHealthConditions,"HIV positive"))==null?void 0:e.value)=="hiv positive"?(d(this.labourChronicHealthConditions,"HIV test date","displayNone",!1),b(this.labourChronicHealthConditions,"Is client on ART","displayNone",!1)):(d(this.labourChronicHealthConditions,"HIV test date","displayNone",!0),b(this.labourChronicHealthConditions,"Is client on ART","displayNone",!0))},handleHivResults(){S(this.labourHivTest,"test2")=="hivPositive"?b(this.labourHivTest,"test1","displayNone",!1):b(this.labourHivTest,"test1","displayNone",!0)},handleHivConductedOptin(){S(this.labourHivTest,"hivOption")=="hivTestConducted"?b(this.labourHivTest,"test2","displayNone",!1):b(this.labourHivTest,"test2","displayNone",!0)},handleOtherHiv(){var e;((e=Z(this.labourHivTest,"Other"))==null?void 0:e.value)=="other"?d(this.labourHivTest,"reasonsTestNotDone","displayNone",!1):d(this.labourHivTest,"reasonsTestNotDone","displayNone",!0)},handleSyphilis(){S(this.labourSyphilisTest,"syphilisOption")=="syphilisTestConducted"?b(this.labourSyphilisTest,"syphilisDetails","displayNone",!1):b(this.labourSyphilisTest,"syphilisDetails","displayNone",!0)},handleChronicCondition(){var t;const e=["Auto-immune desease","Asthma","Sickle cell","Anemia","HIV positive","Thalassemia","Gynaecological","CCF","RHD","Gynae Cancer","Diabetes Type 1","Diabetes Type 2","Gestational diabetes","pre-existing type 1","pre-existing type 2","Epilepsy","Hypertension","Kidney Disease","TB","Mental illness","Other"];(t=Z(this.labourChronicHealthConditions,"None"))!=null&&t.checked?e.forEach(a=>{B(this.labourChronicHealthConditions,a,"checked",!1),B(this.labourChronicHealthConditions,a,"disabled",!0)}):e.forEach(a=>{B(this.labourChronicHealthConditions,a,"disabled",!1)})},handleHivConducted(){S(this.labourHivTest,"hivOption")=="hivTestConducted"?d(this.labourHivTest,"testDate","displayNone",!1):d(this.labourHivTest,"testDate","displayNone",!0)},handleTestNotDone(){S(this.labourHivTest,"hivOption")=="hivTestNotDone"?ke(this.labourHivTest,"hivOutcome","displayNone",!1):ke(this.labourHivTest,"hivOutcome","displayNone",!0)},handleSyphlisdate(){S(this.labourSyphilisTest,"syphilisOption")=="syphilisTestConducted"?d(this.labourSyphilisTest,"syphilisDate","displayNone",!1):d(this.labourSyphilisTest,"syphilisDate","displayNone",!0)},handleSyphilisNotDone(){var e;((e=S(this.labourSyphilisTest,"syphilisOption"))==null?void 0:e.value)=="syphilisTestNotDone"?ke(this.labourSyphilisTest,"notDone","displayNone",!1):ke(this.labourSyphilisTest,"notDone","displayNone",!0)},handleSpecifySyphilis(){Z(this.labourSyphilisTest,"Other")=="other"?d(this.labourSyphilisTest,"Reason","displayNone",!1):d(this.labourSyphilisTest,"Reason","displayNone",!0)}}}),Pg={class:"container"},Ng={class:"ion-padding",slot:"content"};function kg(e,t,a,n,o,r){const l=c("ion-label"),u=c("ion-item"),h=c("LabourChronicHistory"),f=c("ion-accordion"),_=c("ion-accordion-group"),D=c("basic-form"),P=c("ion-card-content"),N=c("ion-card");return p(),m("div",Pg,[s(_,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[s(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[C("Chronical Health conditions History")])),_:1,__:[0]})]),_:1}),v("div",Ng,[s(h)])]),_:1})]),_:1},512),s(N,{class:"section"},{default:i(()=>[s(P,null,{default:i(()=>[s(D,{contentData:e.labourChronicHealthConditions,initialData:e.initialData2,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Bg=M(Ig,[["render",kg],["__scopeId","data-v-2ba09954"]]),Eg=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,UpcomingFeature:Nt,DynamicButton:Ve},data(){return{iconsContent:w,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...y(nt,["investigations"]),...y(Me,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ee.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","The woman received tetanus doses for immunization?");console.log("Fetched tetanus doses for immunization:",t),this.immunisation=t}catch(t){console.error("Error fetching tetanus doses for immunization:",t)}},async updateData(){const e=new De;this.visits=await De.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return me.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await St.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,n,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(n=this.filterObs(t,"Gravida"))==null?void 0:n[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(n=>n.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){vt(kt)}}}),Vg={class:"visitContent"},Ag={class:"visitData"},$g={key:0},Mg={style:{"max-width":"1000px"}},Tg={key:1,class:"noData"};function Og(e,t,a,n,o,r){const l=c("ion-col"),u=c("ion-row");return p(),m("div",Vg,[s(u,null,{default:i(()=>[s(l,{offset:"0.1",size:"7"},{default:i(()=>[v("div",Ag,[e.immunisation&&e.immunisation.length>0?(p(),m("div",$g,[v("div",Mg,[t[1]||(t[1]=v("div",{class:"heading"},"IMMUNISATION DATA",-1)),v("div",null,[s(u,null,{default:i(()=>[s(l,{class:"contentTitle"})]),_:1}),(p(!0),m(ne,null,fe(e.immunisation,(h,f)=>(p(),O(u,{key:f},{default:i(()=>[s(l,null,{default:i(()=>[C($(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=v("br",null,null,-1))])])])):(p(),m("div",Tg,"IMMUNISATION DATA IS EMPTY"))])]),_:1})]),_:1})])}const Fg=M(Eg,[["render",Og],["__scopeId","data-v-4e85aaa3"]]);Es().shape({"The woman received tetanus doses for immunization?":xi().required("This field is required")});const qn=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"The woman received tetanus doses for immunization*?",selectedValue:"",name:"The woman received tetanus doses for immunization?",alertsErrorMassage:""},data:[{name:"Fully Immunised",value:"fully immunised",colSize:"4"},{name:"Under Immunised",value:"under immunised",colSize:"4"},{name:"No doses",value:"no doses",colSize:"4.001"},{name:"Unknown doses",value:"unknown doses",colSize:"4"}]}},{selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{class:"bold",title:"Number of under immunised tetanus doses",selectedValue:"",displayNone:!0,name:"Number of tetanus doses",alertsErrorMassage:""},data:[{name:"One dose",value:"one dose",colSize:"4"},{name:"Two doses",value:"two doses",colSize:"4"},{name:"Three doses",value:"three doses",colSize:"4.001"},{name:"Four doses",value:"four doses",colSize:"4"}]}},{isFinishBtn:!1,classDash:"",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt6Date",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,classDash:"",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt7Date",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 2 immunisation date",value:"",name:"tt8Date",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""}]}]}},{sideColSize:.5,isFinishBtn:!1,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt9Date",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 2 immunisation date",value:"",name:"tt10Date",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 3 immunisation date",value:"",name:"tt11Date",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt1Date",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 2 immunisation date",value:"",name:"tt2Date",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 3 immunisation date",value:"",name:"tt3Date",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 4 immunisation date",value:"",name:"tt4Date",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 5 immunisation date",value:"",name:"tt5Date",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"12",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 2 immunisation date",value:"",name:"13",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 3 immunisation date",value:"",name:"14",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 4 immunisation date",value:"",name:"15",isDatePopover:!0,icon:w.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""}]}]}},{sideColSize:.5,selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{class:"bold",title:"Reason Tetanus toxoid (TT) was not conducted",name:"Reason Tetanus toxoid (TT) was not conducted",selectedValue:"",displayNone:!0,alertsErrorMassage:""},data:[{name:"Stockout",value:"stockout",colSize:"5"},{name:"Client is ill",value:"client is ill",colSize:"5"},{name:"Client refused",value:"client refused",colSize:"5"},{name:"Allergy to vaccine",value:"allergy",colSize:"5"},{name:"Other",value:"other",colSize:"5"}]}},{classDash:"dashed_bottom_border",sideColSize:.5,isFinishBtn:!1,sectionHeader:"",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify other reasons",value:"",name:"Other",icon:w.editPen,required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""}]}]}}],Wn=je("labourVaccineStore",{state:()=>({labourTetanus:[...qn]}),actions:{setTetanus(e){this.labourTetanus=e},getInitial(){return[...Pe.cloneDeep(qn)]}}}),Hg=V({name:"Current",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve,LabourVaccineHistory:Fg},data(){return{iconsContent:w,currentPregnanciesInstance:{},inputField:"",setName:"",initialData:[],initialData1:[],initialData2:[]}},computed:{...y(Wn,["labourTetanus"])},mounted(){ut(),ut(),ut();const e=Wn();this.initialData=e.getInitial(),this.handleTetanus(),this.validaterowData({}),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},setup(){return{checkmark:K,pulseOutline:X}},watch:{labourTetanus:{handler(e){this.handleInputData(e),this.handleTetanus(),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},deep:!0}},methods:{async handleImmunValidation(e){Le(this.labourTetanus,ni,e.name,e.value)},validationRules(e){return ot(this.labourTetanus,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},async handleInputData(e){this.handleImmunValidation(e),this.validaterowData(e)},handleTetanus(){S(this.labourTetanus,"The woman received tetanus doses for immunization?")=="fully immunised"?(d(this.labourTetanus,"tt1Date","displayNone",!1),d(this.labourTetanus,"tt2Date","displayNone",!1),d(this.labourTetanus,"tt3Date","displayNone",!1),d(this.labourTetanus,"tt4Date","displayNone",!1),d(this.labourTetanus,"tt5Date","displayNone",!1)):(d(this.labourTetanus,"tt1Date","displayNone",!0),d(this.labourTetanus,"tt2Date","displayNone",!0),d(this.labourTetanus,"tt3Date","displayNone",!0),d(this.labourTetanus,"tt4Date","displayNone",!0),d(this.labourTetanus,"tt5Date","displayNone",!0))},handleUnderImmunised(){S(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?b(this.labourTetanus,"Number of tetanus doses","displayNone",!1):b(this.labourTetanus,"Number of tetanus doses","displayNone",!0)},handleOneDose(){S(this.labourTetanus,"Number of tetanus doses")=="one dose"&&S(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?d(this.labourTetanus,"tt6Date","displayNone",!1):d(this.labourTetanus,"tt6Date","displayNone",!0)},handleTwoDose(){S(this.labourTetanus,"Number of tetanus doses")=="two doses"&&S(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?(d(this.labourTetanus,"tt7Date","displayNone",!1),d(this.labourTetanus,"tt8Date","displayNone",!1)):(d(this.labourTetanus,"tt7Date","displayNone",!0),d(this.labourTetanus,"tt8Date","displayNone",!0))},handleThreeDose(){S(this.labourTetanus,"Number of tetanus doses")=="three doses"&&S(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?(d(this.labourTetanus,"tt9Date","displayNone",!1),d(this.labourTetanus,"tt10Date","displayNone",!1),d(this.labourTetanus,"tt11Date","displayNone",!1)):(d(this.labourTetanus,"tt9Date","displayNone",!0),d(this.labourTetanus,"tt10Date","displayNone",!0),d(this.labourTetanus,"tt11Date","displayNone",!0))},handleFourDose(){S(this.labourTetanus,"Number of tetanus doses")=="four doses"&&S(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?(d(this.labourTetanus,"12","displayNone",!1),d(this.labourTetanus,"13","displayNone",!1),d(this.labourTetanus,"14","displayNone",!1),d(this.labourTetanus,"15","displayNone",!1)):(d(this.labourTetanus,"12","displayNone",!0),d(this.labourTetanus,"13","displayNone",!0),d(this.labourTetanus,"14","displayNone",!0),d(this.labourTetanus,"15","displayNone",!0))},handleNodoses(){S(this.labourTetanus,"The woman received tetanus doses for immunization?")=="no doses"?b(this.labourTetanus,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!1):b(this.labourTetanus,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!0)},handleOtherDoses(){S(this.labourTetanus,"Reason Tetanus toxoid (TT) was not conducted")=="other"&&S(this.labourTetanus,"The woman received tetanus doses for immunization?")=="no doses"?d(this.labourTetanus,"Other","displayNone",!1):d(this.labourTetanus,"Other","displayNone",!0)}}}),Rg={class:"container"},Lg={class:"ion-padding",slot:"content"};function xg(e,t,a,n,o,r){const l=c("ion-label"),u=c("ion-item"),h=c("LabourVaccineHistory"),f=c("ion-accordion"),_=c("ion-accordion-group"),D=c("basic-form"),P=c("ion-card-content"),N=c("ion-card");return p(),m("div",Rg,[s(_,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[s(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[C("Vaccine History")])),_:1,__:[0]})]),_:1}),v("div",Lg,[s(h)])]),_:1})]),_:1},512),s(N,{class:"section"},{default:i(()=>[s(P,null,{default:i(()=>[s(D,{contentData:e.labourTetanus,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,initialData:e.initialData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","initialData"])]),_:1})]),_:1})])}const Ug=M(Hg,[["render",xg],["__scopeId","data-v-f2955169"]]),Gn=[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Which medications is the woman currently prescribed?*",selectedValue:"",class:"bold"},data:[]}},{sideColSize:.5,selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Oral PreP for HIV",value:"Oral PreP for HIV",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Analgesic",value:"Analgesic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Anti-consulsive",value:"Anti-consulsive",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Anti-TB",value:"Anti-TB",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Antihelmintic",value:"Antihelmintic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Antimarials",value:"Antimarials",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Antitussive",value:"Antitussive",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Aspirin",value:"Aspirin",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Calcium",value:"Calcium",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Doxylamine",value:"Doxylamine",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Hematinic",value:"Hematinic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Iron",value:"Iron",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Metoclopramide",value:"Metoclopramide",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Thyroid medication",value:"Thyroid medication",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Antiacids",value:"Antiacids",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Anti-psychotics",value:"Anti-psychotics",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Anti-diabetic",value:"Anti-diabetic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Anti-hypertensive",value:"Anti-hypertensive",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Asthamatic",value:"Asthamatic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Co-trimoxazole",value:"Co-trimoxazole",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Folic acid",value:"Folic acid",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Hemorrhoidal medication",value:"Hemorrhoidal medication",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Magnesium",value:"Magnesium",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Multivitamin",value:"Multivitamin",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Vitamin A",value:"Vitamin A",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Other",value:"other",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Other",sideColSize:.5,isFinishBtn:!1,sectionHeader:"",classDash:"",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify other medications",unit:"",icon:w.editPen,value:"",valueType:"text",name:"Other notes",required:!0,eventType:"input",inputWidth:"100%"}]}]}}],zg=je("labourMedicationsStore",{state:()=>({LabourMedication:[...Gn]}),actions:{setPersonalInformation(e){this.LabourMedication=e},getInitial(){return[...Pe.cloneDeep(Gn)]}},persist:!0}),qg=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,UpcomingFeature:Nt,DynamicButton:Ve},data(){return{iconsContent:w,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...y(nt,["investigations"]),...y(Me,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ee.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Which medications is the woman currently prescribed?");console.log("Fetched medications use:",t),this.immunisation=t}catch(t){console.error("Error fetching medications use:",t)}},async updateData(){const e=new De;this.visits=await De.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return me.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await St.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,n,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(n=this.filterObs(t,"Gravida"))==null?void 0:n[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(n=>n.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){vt(kt)}}}),Wg={class:"visitContent"},Gg={class:"visitData"},jg={key:0},Yg={style:{"max-width":"1000px"}},Jg={key:1,class:"noData"};function Kg(e,t,a,n,o,r){const l=c("ion-col"),u=c("ion-row");return p(),m("div",Wg,[s(u,null,{default:i(()=>[s(l,{offset:"0.1",size:"7"},{default:i(()=>[v("div",Gg,[e.immunisation&&e.immunisation.length>0?(p(),m("div",jg,[v("div",Yg,[t[1]||(t[1]=v("div",{class:"heading"},"MEDICATIONS DATA",-1)),v("div",null,[s(u,null,{default:i(()=>[s(l,{class:"contentTitle"})]),_:1}),(p(!0),m(ne,null,fe(e.immunisation,(h,f)=>(p(),O(u,{key:f},{default:i(()=>[s(l,null,{default:i(()=>[C($(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=v("br",null,null,-1))])])])):(p(),m("div",Jg,"MEDICATIONS DATA IS EMPTY"))])]),_:1})]),_:1})])}const Qg=M(qg,[["render",Kg],["__scopeId","data-v-1060c254"]]),Xg=V({name:"Menu",components:{IonLabel:ie,IonTextarea:Bs,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,LabourMedicationsHistory:Qg},data(){return{iconsContent:w,initialData:[]}},mounted(){this.handleOther();const e=ys();this.initialData=e.getInitial()},watch:{Medication:{handler(e){this.handleOther(),this.handleInputData(e)},deep:!0}},computed:{...y(zg,["LabourMedication"]),Medications(){return Z(this.LabourMedication,"Which medications is the woman currently prescribed?")}},setup(){return{checkmark:K,pulseOutline:X}},methods:{navigationMenu(e){$e.close(),this.$router.push(e)},validationRules(e){return ot(this.LabourMedication,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)},handleOther(){var t;const e=["Oral PreP for HIV","Analgesic","Anti-consulsive","Anti-TB","Antihelmintic","Antimarials","Antitussive","Aspirin","Calcium","Doxylamine","Hematinic","Iron","Metoclopramide","Thyroid medication","Antiacids","Anti-psychotics","Anti-diabetic","Anti-hypertensive","ARVs","Antivirals","Asthamatic","Co-trimoxazole","Folic acid","Hemorrhoidal medication","Magnesium","Multivitamin","Vitamin A","Other"];(t=Z(this.LabourMedication,"None"))!=null&&t.checked?e.forEach(a=>{B(this.LabourMedication,a,"checked",!1),B(this.LabourMedication,a,"disabled",!0)}):e.forEach(a=>{B(this.LabourMedication,a,"disabled",!1)})}}}),Zg={class:"container"};function ey(e,t,a,n,o,r){const l=c("basic-form"),u=c("ion-card-content"),h=c("ion-card");return p(),m("div",Zg,[s(h,{class:"section"},{default:i(()=>[s(u,null,{default:i(()=>[s(l,{contentData:e.LabourMedication,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Si=M(Xg,[["render",ey],["__scopeId","data-v-8c118b36"]]),ty=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,UpcomingFeature:Nt,DynamicButton:Ve},data(){return{iconsContent:w,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{}}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()},computed:{...y(nt,["investigations"]),...y(Me,["patient"]),...y(ai,["activeProgram"]),inputFields(){return this.investigations[0].selectedData}},methods:{async updateData(){const e=new De;this.visits=await De.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return me.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await St.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,n,o,r,l,u,h,f,_,D,P,N,G,q,ee,Q;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;this.pregnancy.Gravida=(r=(o=(n=this.filterObs(t,"Gravida"))==null?void 0:n[0])==null?void 0:o.value_text)!=null?r:"",this.pregnancy["Abortions/Miscarriages"]=(h=(u=(l=this.filterObs(t,"Abortions/Miscarriages"))==null?void 0:l[0])==null?void 0:u.value_text)!=null?h:"",this.pregnancy.Stillbirths=(D=(_=(f=this.filterObs(t,"Stillbirths"))==null?void 0:f[0])==null?void 0:_.value_text)!=null?D:"",this.pregnancy.LiveBirths=(G=(N=(P=this.filterObs(t,"LiveBirths"))==null?void 0:P[0])==null?void 0:N.value_text)!=null?G:"",this.pregnancy.Parity=(Q=(ee=(q=this.filterObs(t,"Parity"))==null?void 0:q[0])==null?void 0:ee.value_text)!=null?Q:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(n=>n.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){vt(kt)}}}),ay={class:"visitContent"},sy={class:"visitData"},ny={key:0},iy={style:{"max-width":"1000px"}},oy={key:1,class:"noData"};function ly(e,t,a,n,o,r){const l=c("ion-col"),u=c("ion-row");return p(),m("div",ay,[s(u,null,{default:i(()=>[s(l,{offset:"0.1",size:"7"},{default:i(()=>[v("div",sy,[Object.values(e.pregnancy).every(h=>h!=="")?(p(),m("div",ny,[v("div",iy,[t[7]||(t[7]=v("div",{class:"heading"},"OBSTETRIC DATA",-1)),v("div",null,[s(u,null,{default:i(()=>[s(l,{size:"2",class:"contentTitle"},{default:i(()=>t[0]||(t[0]=[C("GRAVIDA")])),_:1,__:[0]}),s(l,{size:"3",class:"contentTitle"},{default:i(()=>t[1]||(t[1]=[C("ABORTIONS/MISCARRIAGES")])),_:1,__:[1]}),s(l,{class:"contentTitle"},{default:i(()=>t[2]||(t[2]=[C("STILLBIRTHS")])),_:1,__:[2]}),s(l,{class:"contentTitle"},{default:i(()=>t[3]||(t[3]=[C("LIVE BIRTHS")])),_:1,__:[3]}),s(l,{size:"2",class:"contentTitle"},{default:i(()=>t[4]||(t[4]=[C("PARITY")])),_:1,__:[4]})]),_:1}),t[5]||(t[5]=v("br",null,null,-1)),s(u,null,{default:i(()=>[s(l,{size:"2"},{default:i(()=>[C($(e.pregnancy.Gravida),1)]),_:1}),s(l,{size:"3"},{default:i(()=>[C($(e.pregnancy["Abortions/Miscarriages"]),1)]),_:1}),s(l,null,{default:i(()=>[C($(e.pregnancy.Stillbirths),1)]),_:1}),s(l,null,{default:i(()=>[C($(e.pregnancy.LiveBirths),1)]),_:1}),s(l,{size:"2"},{default:i(()=>[C($(e.pregnancy.Parity),1)]),_:1})]),_:1}),t[6]||(t[6]=v("br",null,null,-1))])])])):e.activeProgram.program_id!==32?(p(),m("div",oy,"OBSTETRIC DATA IS EMPTY")):A("",!0)])]),_:1})]),_:1})])}const ry=M(ty,[["render",ly],["__scopeId","data-v-310b789d"]]),dy=Es().shape({Gravida:ea().typeError("Gravida can only be number").min(0).max(30),"Abortions/Miscarriages":ea().typeError("Abortions/Miscarriages can only be number").min(0),Stillbirths:ea().typeError("Stillbirths can only be number").min(0)}),ka=je("labourObstreticHistoryStore",{state:()=>({prevPregnancies:[{isFinishBtn:!1,sectionHeader:"",data:{rowData:[{colData:[{class:"bold",inputHeader:"Gravida",value:"",name:"Gravida",icon:w.editPen,required:!0,valueType:"text",eventType:"input",alertsErrorMassage:""}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]},{isFinishBtn:!1,sectionHeader:"",data:{rowData:[{colData:[{class:"bold",inputHeader:"Abortions/Miscarriages",value:"",icon:w.editPen,name:"Abortions/Miscarriages",required:!0,disabled:!1,valueType:"text",eventType:"input",alertsErrorMassage:""},{class:"bold",inputHeader:"Stillbirths",value:"",name:"Stillbirths",disabled:!1,required:!0,valueType:"text",icon:w.editPen,eventType:"input",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{class:"bold",inputHeader:"Live births",value:"",disabled:!0,name:"LiveBirths",required:!0,valueType:"text",eventType:"input",alertsErrorMassage:""},{class:"bold",inputHeader:"Parity",disabled:!0,value:"",name:"Parity",valueType:"text",required:!0,eventType:"input",alertsErrorMassage:""}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]}],preterm:[],modeOfDelivery:[],Complications:[]}),actions:{setPrevPregnancies(e){this.prevPregnancies=e},setPreterm(e){this.preterm=e},setComplications(e){this.Complications=e},async validate(){const e=oi(this.prevPregnancies);return await li(this.prevPregnancies,dy,e)}}}),cy=V({name:"History",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve,LabourObstetricData:ry},data(){return{modeOfDelieveryRef:{},iconsContent:w,vValidations:"",hasValidationErrors:[],prevPregnanciesInstance:{},modeOfDeliveryInstance:{},currentSection:0,inputField:"",alertMessage:""}},computed:{...y(ka,["prevPregnancies"]),...y(ka,["preterm"]),...y(ka,["modeOfDelivery"]),...y(ka,["Complications"]),Stillbirths(){return Y(this.prevPregnancies,"Stillbirths","value")},Gravida(){return Y(this.prevPregnancies,"Gravida","value")},LiveBirths(){return Y(this.prevPregnancies,"LiveBirths","value")},Parity(){return Y(this.prevPregnancies,"Parity","value")},"Abortions/Miscarriages"(){return Y(this.prevPregnancies,"Abortions/Miscarriages","value")}},created(){this.modeOfDelieveryRef={...this.modeOfDelivery[0],...this.modeOfDelivery[1]}},mounted(){this.prevPregnanciesInstance=Tt(),this.handleOther(),this.handleDynamic(),this.handleGravida(event),this.validaterowData({})},watch:{LiveBirths:{handler(e){(e==0||!e)&&this.prevPregnanciesInstance.setModeOfDelivery(0)}},prevPregnancies:{handler(e){if(e&&e[2].data.rowData[0].colData[0].value){const t=parseInt(e[2].data.rowData[0].colData[0].value);this.prevPregnanciesInstance.setModeOfDelivery(t)}this.handleGravida(e),this.handleOther()},deep:!0},modeOfDelivery:{handler(){this.handleDynamic(),this.prevPregnanciesInstance.checkChanges()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleObstreticValidation(e){Le(this.prevPregnancies,Vs,e.name,e.value)},handleOther(){var t,a;((t=Z(this.prevPregnancies,"Other"))==null?void 0:t.value)=="other"?d(this.prevPregnancies,"Other notes","displayNone",!1):d(this.prevPregnancies,"Other notes","displayNone",!0);const e=["Asphyxia","Does not know","Pre-eclampsia","Eclampsia","Puerperal Sepsis","Baby died within 24hrs of birth","Convulsions","Forceps","Gestational diabetes mellitus","Heavy bleeding","Macrosomia","Perineal tear (3rd or 4th degree)","Other"];(a=Z(this.prevPregnancies,"None"))!=null&&a.checked?e.forEach(n=>{B(this.prevPregnancies,n,"checked",!1),B(this.prevPregnancies,n,"disabled",!0)}):e.forEach(n=>{B(this.prevPregnancies,n,"disabled",!1)})},handleDynamic(){S(this.modeOfDelivery,"Mode of delivery")=="caesarean section"?d(this.modeOfDelivery,"Specify","displayNone",!1):d(this.modeOfDelivery,"Specify","displayNone",!0)},handleAlert(e){ii(this.modeOfDelivery,"Mode of delivery",e.id)=="caesarean section"?$a(e.id,this.modeOfDelivery,"Specify","displayNone",!1):$a(e.id,this.modeOfDelivery,"Specify","displayNone",!0)},validationRules(e){return ot(this.prevPregnancies,e.name,this[e.name])},async handleInputData(e){this.validaterowData(e),this.handleObstreticValidation(e),this.calculateParity(e),this.calculateLiveBirths(e)},validaterowData(e){},calculateLiveBirths(e){if(e.name==="Parity"||e.name==="Stillbirths"){const t=parseInt(Y(this.prevPregnancies,"Stillbirths","value")),a=parseInt(Y(this.prevPregnancies,"Parity","value"));if(!isNaN(t)&&!isNaN(a)){const n=a-t;d(this.prevPregnancies,"LiveBirths","value",n)}else d(this.prevPregnancies,"LiveBirths","value",null)}},calculateParity(e){if(e.name==="Gravida"||e.name==="Abortions/Miscarriages"){const t=parseInt(Y(this.prevPregnancies,"Gravida","value")),a=parseInt(Y(this.prevPregnancies,"Abortions/Miscarriages","value"));if(!isNaN(t)&&!isNaN(a)){const n=t-a-1;d(this.prevPregnancies,"Parity","value",n)}else d(this.prevPregnancies,"Parity","value",null)}},handleGravida(e){const t=Y(this.prevPregnancies,"Gravida","value"),a="First pregnancy, take note",n=this.prevPregnancies[0].alerts.findIndex(o=>o.value===a);t===null||t===""?(d(this.prevPregnancies,"Abortions/Miscarriages","value",""),d(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),d(this.prevPregnancies,"Stillbirths","value",""),d(this.prevPregnancies,"Stillbirths","disabled",!1),d(this.prevPregnancies,"LiveBirths","value",""),d(this.prevPregnancies,"LiveBirths","disabled",!1),d(this.prevPregnancies,"Parity","value",""),d(this.prevPregnancies,"Parity","disabled",!1),n!==-1&&this.prevPregnancies[0].alerts.splice(n,1)):t==1?(b(this.prevPregnancies,"Was last live birth preterm?","displayNone",!0),b(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!0),b(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!0),ke(this.prevPregnancies,"past pregnancies complications","displayNone",!0),d(this.prevPregnancies,"Abortions/Miscarriages","value",""),d(this.prevPregnancies,"Abortions/Miscarriages","disabled",!0),d(this.prevPregnancies,"Stillbirths","value",""),d(this.prevPregnancies,"Stillbirths","disabled",!0),d(this.prevPregnancies,"LiveBirths","value",""),d(this.prevPregnancies,"LiveBirths","disabled",!0),d(this.prevPregnancies,"Parity","value",""),d(this.prevPregnancies,"Parity","disabled",!0),n===-1&&this.prevPregnancies[0].alerts.push({backgroundColor:"#FFD700",status:"info",icon:"info-circle",textColor:"#000000",value:a,name:"LiveBirths"})):(b(this.prevPregnancies,"Was last live birth preterm?","displayNone",!1),b(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!1),b(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!1),ke(this.prevPregnancies,"past pregnancies complications","displayNone",!1),d(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),d(this.prevPregnancies,"Stillbirths","disabled",!1),d(this.prevPregnancies,"LiveBirths","disabled",!1),d(this.prevPregnancies,"Parity","disabled",!1),n!==-1&&this.prevPregnancies[0].alerts.splice(n,1))}}}),uy={class:"container"},hy={class:"ion-padding",slot:"content"};function py(e,t,a,n,o,r){const l=c("ion-label"),u=c("ion-item"),h=c("LabourObstetricData"),f=c("ion-accordion"),_=c("ion-accordion-group"),D=c("basic-form"),P=c("ion-card-content"),N=c("ion-card");return p(),m("div",uy,[s(_,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[s(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[C("Obstetric History")])),_:1,__:[0]})]),_:1}),v("div",hy,[s(h)])]),_:1})]),_:1},512),s(N,{class:"section"},{default:i(()=>[s(P,null,{default:i(()=>[s(D,{contentData:e.prevPregnancies,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),s(D,{contentData:e.modeOfDelivery,"onUpdate:inputValue":e.handleAlert},null,8,["contentData","onUpdate:inputValue"]),s(D,{contentData:e.preterm},null,8,["contentData"])]),_:1})]),_:1})])}const my=M(cy,[["render",py],["__scopeId","data-v-84730752"]]),fy=V({name:"Menu",components:{IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,UpcomingFeature:Nt,DynamicButton:Ve},data(){return{iconsContent:w,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...y(nt,["investigations"]),...y(Me,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ee.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","past pregnancies complications");console.log("Fetched past pregnancies complications:",t),this.immunisation=t}catch(t){console.error("Error fetching past pregnancies complications:",t)}},async updateData(){const e=new De;this.visits=await De.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return me.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await St.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,n,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(n=this.filterObs(t,"Gravida"))==null?void 0:n[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(n=>n.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){vt(kt)}}}),_y={class:"visitContent"},vy={class:"visitData"},gy={key:0},yy={style:{"max-width":"1000px"}},by={key:1,class:"noData"};function Dy(e,t,a,n,o,r){const l=c("ion-col"),u=c("ion-row");return p(),m("div",_y,[s(u,null,{default:i(()=>[s(l,{offset:"0.1",size:"7"},{default:i(()=>[v("div",vy,[e.immunisation&&e.immunisation.length>0?(p(),m("div",gy,[v("div",yy,[t[1]||(t[1]=v("div",{class:"heading"},"PREGNANCY COMPLICATIONS",-1)),v("div",null,[s(u,null,{default:i(()=>[s(l,{class:"contentTitle"})]),_:1}),(p(!0),m(ne,null,fe(e.immunisation,(h,f)=>(p(),O(u,{key:f},{default:i(()=>[s(l,null,{default:i(()=>[C($(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=v("br",null,null,-1))])])])):(p(),m("div",by,"COMPLICATIONS DATA IS EMPTY"))])]),_:1})]),_:1})])}const Sy=M(fy,[["render",Dy],["__scopeId","data-v-c36ab6c5"]]),Cy=Es().shape({Gravida:ea().typeError("Gravida can only be number").min(0).max(30),"Abortions/Miscarriages":ea().typeError("Abortions/Miscarriages can only be number").min(0),Stillbirths:ea().typeError("Stillbirths can only be number").min(0)}),wy=je("labourCoplicationsStore",{state:()=>({labourPrevPregnancies:[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{class:"bold",title:"Did the woman have any of the complications during the past pregnancies?",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Asphyxia",value:"Asphyxia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Pre-eclampsia",value:"pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Eclampsia",value:"eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Puerperal Sepsis",value:"puerperal sepsis",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Baby died within 24hrs of birth",value:"baby died within 24hrs of birth",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Convulsions",value:"convulsions",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Gestational diabetes mellitus",value:"gestational diabetes mellitus",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Heavy bleeding",value:"heavy bleeding",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Macrosomia",value:"macrosomia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Perineal tear (3rd or 4th degree)",value:"perineal tear (3rd or 4th degree)",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Other",value:"other",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"specify",unit:"",icon:w.editPen,value:"",name:"Other notes",valueType:"text",required:!0,eventType:"input",inputWidth:"85%"}]}]}}],preterm:[],modeOfDelivery:[],Complications:[]}),actions:{setPrevPregnancies(e){this.labourPrevPregnancies=e},async validate(){const e=oi(this.labourPrevPregnancies);return await li(this.labourPrevPregnancies,Cy,e)}}}),Iy=V({name:"History",components:{BasicCard:Ne,IonContent:H,IonHeader:x,IonItem:E,IonList:T,IonMenu:z,IonTitle:L,IonToolbar:R,IonToggle:se,IonSelect:le,IonSelectOption:oe,IonInput:J,BasicInputField:W,BasicForm:F,IonRadio:ge,IonRadioGroup:ve,LabourMedications:Si,LabourComplicationsHistory:Sy},data(){return{modeOfDelieveryRef:{},iconsContent:w,vValidations:"",hasValidationErrors:[],prevPregnanciesInstance:{},modeOfDeliveryInstance:{},currentSection:0,inputField:"",alertMessage:""}},computed:{...y(wy,["labourPrevPregnancies"])},mounted(){this.prevPregnanciesInstance=Tt(),this.handleOther(),this.validaterowData({})},watch:{LiveBirths:{handler(e){(e==0||!e)&&this.prevPregnanciesInstance.setModeOfDelivery(0)}},prevPregnancies:{handler(e){if(e&&e[2].data.rowData[0].colData[0].value){const t=parseInt(e[2].data.rowData[0].colData[0].value);this.prevPregnanciesInstance.setModeOfDelivery(t)}this.handleOther()},deep:!0},modeOfDelivery:{handler(){this.prevPregnanciesInstance.checkChanges()},deep:!0}},setup(){return{checkmark:K,pulseOutline:X}},methods:{async handleObstreticValidation(e){Le(this.labourPrevPregnancies,Vs,e.name,e.value)},handleOther(){var t,a;((t=Z(this.labourPrevPregnancies,"Other"))==null?void 0:t.value)=="other"?d(this.labourPrevPregnancies,"Other notes","displayNone",!1):d(this.labourPrevPregnancies,"Other notes","displayNone",!0);const e=["Asphyxia","Does not know","Pre-eclampsia","Eclampsia","Puerperal Sepsis","Baby died within 24hrs of birth","Convulsions","Forceps","Gestational diabetes mellitus","Heavy bleeding","Macrosomia","Perineal tear (3rd or 4th degree)","Other"];(a=Z(this.labourPrevPregnancies,"None"))!=null&&a.checked?e.forEach(n=>{B(this.labourPrevPregnancies,n,"checked",!1),B(this.labourPrevPregnancies,n,"disabled",!0)}):e.forEach(n=>{B(this.labourPrevPregnancies,n,"disabled",!1)})},async handleInputData(e){this.validaterowData(e),this.handleObstreticValidation(e)},validaterowData(e){}}}),Py={class:"ion-padding",slot:"content"},Ny={class:"container"};function ky(e,t,a,n,o,r){const l=c("ion-label"),u=c("ion-item"),h=c("LabourComplicationsHistory"),f=c("ion-accordion"),_=c("ion-accordion-group"),D=c("basic-form"),P=c("ion-card-content"),N=c("ion-card"),G=c("ion-row");return p(),O(G,null,{default:i(()=>[s(_,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[s(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[s(u,{slot:"header",color:"light"},{default:i(()=>[s(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[C("Pregnancy Complications History")])),_:1,__:[0]})]),_:1}),v("div",Py,[s(h)])]),_:1})]),_:1},512),v("div",Ny,[s(N,{class:"section"},{default:i(()=>[s(P,null,{default:i(()=>[s(D,{contentData:e.labourPrevPregnancies,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])]),_:1})}const By=M(Iy,[["render",ky],["__scopeId","data-v-2e8fd7b2"]]),Ey=V({mixins:[ci],name:"Home",components:{dispensationSummary:Pl,dispensedMedication:cl,IonContent:H,IonHeader:x,IonMenuButton:zi,IonPage:jn,IonTitle:L,IonToolbar:R,Toolbar:No,ToolbarSearch:Po,IonButton:mt,IonCard:ei,IonCardContent:Qn,IonCardHeader:Zn,IonCardSubtitle:Ui,IonCardTitle:Xn,IonAccordion:jt,IonAccordionGroup:Gt,IonItem:E,IonLabel:ie,VitalSigns:Bd,PresentingComplaints:$s,ClinicalAssessment:wd,Diagnosis:xo,ComplicationsScreening:Lo,ConfirmDiagnosis:zd,Outcome:Wd,Investigations:Dc,TreatmentPlan:Ro,NextAppointment:Ho,IonModal:Fa,Medications:yu,WomanBehaviour:Cu,MedicalHistory:Qh,DangerSigns:Nu,ReasonForVisit:Ou,ConfirmPregnancy:Vu,SpecificHealthConcerns:Lu,FetalPresentation:Xu,FetalAssessment:Yu,ANCVitals:Lp,MaternalExam:ah,PresentingSigns:oh,CurrentPregnancies:ch,PastObstreticHistory:mh,UltrasoundScan:gh,UrineTest:Sh,TB:Ph,MedicalFollowUp:tp,PersistentBehaviour:ip,CurrentPhysiologicalSymptoms:dp,Ipv:pp,FatalMovement:vp,BehaviourCounselling:Dp,PhysiologicalCounseling:Ip,DietCounselling:Bp,Referral:Tp,AncEnd:qp,DiagnosisTreatment:Eh,MedicationDispensed:Mh,DiagnosisCounselling:Hh,Immunization:zh,Deworming:jh,OPDDiagnosis:Ld,OPDTreatmentPlan:su,OPDOutcome:hm,DynamicButton:Ve,ImmunizationServices:nm,ChangeStatus:Jd,ImmunizationNextAppointment:fu,HeadAssessment:_m,ANCTreatment:Dm,ANCDiagnosis:Im,ANCDiagnosisCounselling:Bm,ANCImmunization:$m,ANCIntimatePartner:Fm,ANCDeworming:xm,ANCMedicationDispensed:Xm,DischargeWoman:af,PNCEnd:lf,BabyStatus:hf,PostnatalWardMonitoring:Vf,DeliveryDetails:Uf,HIVStatusAndTreatment:Gf,ObstetricDetails:Kf,VisitForMother:e_,VisitForBaby:n_,Labour:r_,QuickCheck:h_,PhysicalExamination:__,PelvicAssessment:b_,PatientReferral:w_,FirstVaginalExamination:k_,SecondStageDelivery:G_,ThirdStageDelivery:K_,end:ev,OtherExams:nv,LabourVitals:rv,ImmidiatePostnatalChecksForChild:hv,ImmidiatePostnatalChecksForMother:_v,SubsequentVisits:bv,AbdominalExamination:Iv,ClinicalCounselling:Bv,LabourWomanBehaviour:xv,LabourPastSurgeries:_g,LabourChronicHealthConditions:Bg,LabourVaccineHistory:Ug,LabourMedications:Si,LabourObstetricHistory:my,LabourAllergies:ag,LabourComplications:By},data(){return{isOpen:!1,iconsContent:w,currentOpenStepper:this.openStepper}},props:{wizardData:{default:[]},StepperData:{default:[]},stepperTitle:{type:String,default:""},openStepper:{type:String,default:"1"},backBtn:{type:String,default:"Back to profile"},backUrl:{type:String,default:""},getSaveFunction:{type:Function,required:!0},hasPatientsWaitingList:{type:Boolean,default:!1},specialButtonLabel:{type:String,required:!1,default:""},specialButtonFn:{type:Function,required:!1,default:null},userRole:{type:String,required:!1}},setup(){return{chevronBackOutline:Gi,checkmark:K}},methods:{chevronBack(){return Wi},chevronForward(){return qi},accordionGroupChange(e){const t=e.detail;t||(this.wizardData.forEach(a=>{t.value===a.number?(a.class="open_step common_step",a.checked=!0):(a.class="common_step",a.checked=!1)}),this.$emit("updateStatus",t),this.currentOpenStepper=t.value)},openBackController(){this.backUrl?this.$router.push(this.backUrl):vt(qo)},async nextAccordion(e){const t=this.getSaveFunction(e);t&&typeof t=="function"&&await t();const a=e+1;a<this.StepperData.length&&(this.currentOpenStepper=this.StepperData[a].value)},previousAccordion(e){const t=e-1;t>=0&&(this.currentOpenStepper=this.StepperData[t].value)}}}),Vy={class:"wizard_title"},Ay={id:"wizard_verticle",class:"form_wizard wizard_verticle"},$y={class:"list-unstyled wizard_steps anchor"},My={class:"done",isdone:"1",rel:"1"},Ty={key:1},Oy={class:"wizard_text"},Fy={class:"back_profile"},Hy={class:"accordion_group"},Ry={class:"ion-padding",slot:"content"},Ly={class:"button-row"},xy={key:0};function Uy(e,t,a,n,o,r){const l=c("ion-icon"),u=c("ion-card-content"),h=c("ion-card"),f=c("ion-col"),_=c("DynamicButton"),D=c("ion-label"),P=c("ion-item"),N=c("ion-button"),G=c("ion-accordion"),q=c("ion-accordion-group"),ee=c("ion-row");return p(),O(ee,null,{default:i(()=>[s(f,{"size-md":"4","size-xl":"2.5","size-sm":"0","size-lg":"4","offset-sm":"0","offset-md":"0.4","offset-xl":"0.8",class:"displayNoneMobile"},{default:i(()=>[s(h,{class:"wizard_card"},{default:i(()=>[v("div",Vy,[v("strong",null,$(e.stepperTitle),1)]),s(u,null,{default:i(()=>[v("div",Ay,[v("ul",$y,[(p(!0),m(ne,null,fe(e.wizardData,(Q,U)=>(p(),m("li",{key:U,class:Ls(Q.last_step)},[v("a",My,[v("span",{class:Ls(Q.class)},[Q.checked?(p(),O(l,{key:0,icon:e.checkmark,class:"checked_step"},null,8,["icon"])):A("",!0),Q.checked?A("",!0):(p(),m("span",Ty,$(Q.number),1)),v("span",Oy,$(Q.title),1)],2)])],2))),128))])])]),_:1})]),_:1})]),_:1}),s(f,{"size-sm":"12","size-xl":"7","size-md":"7.2","size-lg":"7","offset-sm":"0","offset-md":"0.4","offset-xl":"0.8"},{default:i(()=>[v("div",Fy,[s(_,{name:e.backBtn,iconSlot:"start",fill:"clear",icon:e.chevronBackOutline,onClick:t[0]||(t[0]=Q=>e.openBackController())},null,8,["name","icon"])]),v("div",Hy,[s(q,{onIonChange:t[2]||(t[2]=Q=>e.accordionGroupChange(Q)),value:e.currentOpenStepper},{default:i(()=>[(p(!0),m(ne,null,fe(e.StepperData,(Q,U)=>Yn((p(),O(G,{key:U,value:Q.value},{default:i(()=>[s(P,{slot:"header"},{default:i(()=>[s(D,null,{default:i(()=>[C($(Q.title),1)]),_:2},1024)]),_:2},1024),v("div",Ry,[(p(),O(ji(Q.component))),v("div",Ly,[U>0?(p(),m("div",xy,[s(N,{class:"previous-button",onClick:ue=>e.previousAccordion(U)},{default:i(()=>[s(l,{icon:e.chevronBack(),slot:"start"},null,8,["icon"]),t[3]||(t[3]=C(" Previous "))]),_:2,__:[3]},1032,["onClick"])])):A("",!0),v("div",null,[s(N,{class:"next-button",onClick:ue=>e.nextAccordion(U)},{default:i(()=>[s(l,{icon:U<e.StepperData.length-1?e.chevronForward():e.checkmark,slot:"start"},null,8,["icon"]),C(" "+$(U<e.StepperData.length-1?"Next":"Finish"),1)]),_:2},1032,["onClick"])]),U===e.StepperData.length-1&&e.specialButtonLabel&&e.specialButtonFn&&(e.userRole==="Clinician"||e.userRole==="Superuser")?(p(),O(N,{key:1,class:"special-button",onClick:t[1]||(t[1]=ue=>e.specialButtonFn(ue))},{default:i(()=>[s(l,{icon:U<e.StepperData.length-1?e.chevronForward():e.checkmark,slot:"start"},null,8,["icon"]),C(" "+$(e.specialButtonLabel),1)]),_:2},1024)):A("",!0)])])]),_:2},1032,["value"])),[[Jn,!(e.hasPatientsWaitingList&&U>=2)]])),128))]),_:1},8,["value"]),t[4]||(t[4]=v("hr",{style:{background:"rgba(0, 0, 0, 0.13)"}},null,-1))])]),_:1})]),_:1})}const db=M(Ey,[["render",Uy],["__scopeId","data-v-c61aa27d"]]);export{Qv as A,Ia as B,ch as C,jh as D,wy as E,ev as F,$n as G,Vn as H,zh as I,Nn as J,Bn as K,ql as L,Qh as M,yi as P,Tp as R,db as S,Ph as T,Sh as U,Op as V,Cu as W,Id as _,yu as a,mh as b,Au as c,Va as d,Ts as e,Tn as f,Mh as g,_m as h,Eh as i,Cn as j,bi as k,gh as l,my as m,Si as n,Ug as o,Bg as p,_g as q,ag as r,xv as s,ka as t,Ot as u,ot as v,zg as w,Wn as x,ms as y,ug as z};
