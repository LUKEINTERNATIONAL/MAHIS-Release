import{Y as p,H as B,y as I,ai as S,i as P,_ as h}from"./index-tZ4yxjbt.js";import{d as D,U as j,T as V,am as k,an as O,G as $,S as R,ao as T,X as x,ap as M,ai as N,E as y,e as F,f as A,k as c,l as w,A as _,z as E}from"./vendor-IHO26Iap.js";async function J(r,t=p.getSessionDate(),i=[]){const d=r.map(async a=>{if(a&&a.radioBtnContent&&a.radioBtnContent.header&&a.radioBtnContent.header.selectedValue){const e=await p.getConceptID(a.radioBtnContent.header.selectedValue,!0),u=await p.getConceptID(a.radioBtnContent.header.name,!0),n=I(r,a.radioBtnContent.header.name+" date","value")||t,s=i.map(o=>({concept_id:e,value_coded:o.drug_inventory_id,obs_datetime:n}));return i?{concept_id:u,value_coded:e,obs_datetime:n,child:s}:{concept_id:u,value_coded:e,obs_datetime:n}}else return null});return(await Promise.all(d)).filter(a=>a!==null)}async function K(r,t=p.getSessionDate(),i=[]){const d=r.map(async a=>{var e,u,n,s,o,l;if(a&&a.groupedRadioBtnContent&&a.groupedRadioBtnContent.groupedData&&((u=(e=a.groupedRadioBtnContent.groupedData[0])==null?void 0:e.header)!=null&&u.selectedValue)){const v=await p.getConceptID((s=(n=a.groupedRadioBtnContent.groupedData[0])==null?void 0:n.header)==null?void 0:s.selectedValue,!0),f=await p.getConceptID((l=(o=a.groupedRadioBtnContent.groupedData[0])==null?void 0:o.header)==null?void 0:l.name,!0),C=t||p.getSessionDate();return{concept_id:f,value_coded:v,obs_datetime:C}}else return null});return(await Promise.all(d)).filter(a=>a!==null)}async function Q(r,t=B.sessionDate(),i=""){const d=r.map(async e=>{var u;return(u=e==null?void 0:e.data)!=null&&u.rowData?Promise.all(e.data.rowData[0].colData.map(async n=>{var o;let s=[];return n.isMultiSelect&&(n!=null&&n.value)?s=await Promise.all(n==null?void 0:n.value.map(async l=>await g(n,l.concept_id,t,i))):n.isSingleSelect?s=(o=n==null?void 0:n.value)==null?void 0:o.name:s=n==null?void 0:n.value,n.buildConceptIgnore||!s?null:typeof s=="object"?s:await g(n,s,t)})).then(n=>n.filter(Boolean)):[]});return(await Promise.all(d)).flat().flat()}async function Z(r,t=B.sessionDate(),i=""){const d=r.map(async e=>{var u,n,s;return(n=(u=e==null?void 0:e.checkboxBtnContent)==null?void 0:u.inputFields)!=null&&n.length?Promise.all((s=e==null?void 0:e.checkboxBtnContent)==null?void 0:s.inputFields.map(async o=>{var v,f;let l=[];return o.isMultiSelect&&(o!=null&&o.value)?l=await g(o,(v=o==null?void 0:o.value)==null?void 0:v.name,t,i):o.isSingleSelect?l=(f=o==null?void 0:o.value)==null?void 0:f.name:l=o==null?void 0:o.value,o.buildConceptIgnore||!l?null:typeof l=="object"?l:await g(o,l,t)})).then(o=>o.filter(Boolean)):[]});return(await Promise.all(d)).flat().flat()}async function g(r,t,i,d=""){const a=await p.getConceptID(r.name,!0);if(r.valueType==="coded"){const e=await p.getConceptID(t,!0);return d?{concept_id:a,value_coded:e,obs_datetime:i,child:[{concept_id:a,value_text:d,obs_datetime:i}]}:{concept_id:a,value_coded:e,obs_datetime:i}}else return r.valueType==="text"?{concept_id:a,value_text:t,obs_datetime:i}:r.valueType==="number"?{concept_id:a,value_numeric:t,obs_datetime:i}:null}async function m(r,t=p.getSessionDate(),i=[]){return Array.isArray(r)?(await Promise.all(r.map(async a=>{var u,n;if(!((n=(u=a==null?void 0:a.checkboxBtnContent)==null?void 0:u.data)!=null&&n.length))return[];const e=a.checkboxBtnContent.data.map(async s=>{if(!(s!=null&&s.checked)||s!=null&&s.buildConceptIgnore)return null;try{const o=await p.getConceptID(s.value,!0),l=await p.getConceptID(a.checkboxBtnContent.header.name,!0);if(t=I(r,s.name+" date","value")||t,!o||!l)return null;const f={concept_id:l,value_coded:o,obs_datetime:t};if(i.length>0){const C=i.map(b=>({concept_id:o,value_coded:b.drug_inventory_id,obs_datetime:t}));return{...f,child:C}}return f}catch(o){return console.error("Error processing checkbox data:",o),null}});return(await Promise.all(e)).filter(Boolean)}))).flat().filter(Boolean):[]}const H=D({name:"Menu",components:{IonContent:T,IonHeader:R,IonItem:$,IonList:O,IonMenu:k,IonTitle:V,IonToolbar:j},data(){return{iconsContent:P}},setup(){return{checkmark:N,pulseOutline:M}},methods:{dismiss(){x.dismiss()},async nav(r,t){t=="not_save"?(await S(),localStorage.setItem("saveProgressStatus","false")):localStorage.setItem("saveProgressStatus","true"),this.dismiss(),this.$router.push(r)}}}),z={class:"modal_wrapper"},G={class:"modal_title diplay_space_between"},Y={class:"center"},L={class:"triage_modal_btn center"},U={class:"center_btn"};function W(r,t,i,d,a,e){const u=y("ion-icon"),n=y("ion-button");return A(),F("div",z,[c("div",G,[t[3]||(t[3]=c("span",null,null,-1)),c("span",{onClick:t[0]||(t[0]=s=>r.dismiss()),style:{cursor:"pointer","font-weight":"300"}},"x")]),c("div",Y,[w(u,{style:{"font-size":"350px"},icon:r.iconsContent.triageWarning},null,8,["icon"])]),t[5]||(t[5]=c("div",{class:"center"},[c("h4",null,[c("b",null,"Save progress")])],-1)),t[6]||(t[6]=c("div",{class:"center text_12"},[c("p",{style:{"text-align":"center"}},[_(" Save the updates for the consultation. You’ll be able to complete "),c("br"),_(" it later. Click “Save” to save progress. ")])],-1)),t[7]||(t[7]=c("br",null,null,-1)),c("div",L,[c("div",U,[w(n,{class:"primary_btn",onClick:t[1]||(t[1]=s=>r.nav("patientProfile","save"))},{default:E(()=>t[4]||(t[4]=[_("Save")])),_:1,__:[4]}),c("span",{onClick:t[2]||(t[2]=s=>r.nav("patientProfile","not_save")),style:{cursor:"pointer"}}," Don't Save")])])])}const tt=h(H,[["render",W],["__scopeId","data-v-e4a09ffe"]]);export{tt as S,J as a,K as b,m as c,Z as d,Q as f};
