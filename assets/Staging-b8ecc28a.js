var ae=Object.defineProperty;var de=(e,c,d)=>c in e?ae(e,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[c]=d;var k=(e,c,d)=>(de(e,typeof c!="symbol"?c+"":c,d),d);import{d as le,r as K,cF as J,a as ce,e as b,y as G,z as a,l as s,x as o,aJ as ue,j as g,aK as ge,f as H,be as U,aL as P,aM as T,G as N,D as _,A as h,d2 as R,d1 as D,B as A,m as L,M as pe,F as X,J as Z,L as he,cY as ye,ab as fe,bp as me,aN as _e,b7 as x,bj as Ae,V as be,aH as Ce,N as Ie}from"./vendor-65256339.js";import{j as ee,C as F,A as Y,L as Te,a as Se,c as ve,t as De,b as we,k as te,_ as Ee}from"./index-e9c24b53.js";import{g as Oe}from"./LocationFieldOptions-7c932384.js";import"./lodash-7be49fbd.js";import"./apexcharts-583f3fdc.js";import"./chartjs-bbe0813a.js";import"./barcode-qrcode-reader-d9469be9.js";const S="2016-04-30",Ve={"Adults with stage 4 conditions":{concept:"WHO STAGE IV ADULT",priority:1,conditions:{stage:e=>e===4}},"Classify as stage 4 when reason for ART is WHO STAGE 4":{concept:"WHO STAGE IV ADULT",priority:2,conditions:{reasonForArt:e=>e==="WHO STAGE IV ADULT"}},"Adults with stage 3 conditions":{concept:"WHO STAGE III ADULT",priority:3,conditions:{stage:e=>e===3}},"Adults with stage 2 conditions":{concept:"WHO STAGE II ADULT",priority:4,conditions:{stage:e=>e===2}},"Adults with stage 1 conditions":{concept:"WHO STAGE I ADULT",priority:5,conditions:{stage:e=>e===1}}},He={"Children with stage 4 conditions":{concept:"WHO STAGE IV PEDS",priority:1,conditions:{stage:e=>e===4}},"Classify as stage 4 when reason for ART is WHO STAGE 4":{concept:"WHO STAGE IV PEDS",priority:2,conditions:{reasonForArt:e=>e==="WHO STAGE IV PEDS"}},"For children with stage 3 conditions":{concept:"WHO STAGE III PEDS",priority:3,conditions:{stage:e=>e===3}},"Children with stage 2 conditions":{concept:"WHO STAGE II PEDS",priority:4,conditions:{stage:e=>e===2}},"Children with stage 1 conditions":{concept:"WHO STAGE I PEDS",priority:5,conditions:{stage:e=>e===1}}},Ne={"Warn if Severe weight loss is selected when actual patient BMI is acceptable":{priority:1,actions:{alert:async e=>await ee("Patient's BMI of ".concat(e.bmi," greater than 18.5, do you wish to proceed?"),{confirmBtnLabel:"Yes, keep severe weightloss",cancelBtnLabel:"No, cancel"})},conditions:{selectedCondition(e){return e==="Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"},bmi:e=>e>18.5}},"Warn for contradicting stage defining conditions":{priority:1,actions:{alert:async e=>!!await ee("CONTRADICTING STAGE DEFINING CONDITIONS",{confirmBtnLabel:"Keep Asymptomatic",cancelBtnLabel:"Keep other(s)"})},conditions:{selectedCondition(e){return e==="Asymptomatic HIV infection"}}}},Be={"Enable TB staging condition if client is TB positive":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:()=>"Client registered as a TB Patient in the TB Module"},conditions:{tbPositive:e=>e,selectedCondition:e=>/\bTuberculosis \(PTB or EPTB\)|\bPulmonary tuberculosis/i.test(e)}},"Enable TB staging condition if client is EPTB positive":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:()=>"Client registered with EPTB in TB Module"},conditions:{eptbPositive:e=>e,selectedCondition:e=>/Extrapulmonary tuberculosis/i.test(e)}},"For children whose current weight percentile is less than 70":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:e=>"Child has a low weight percentile of ".concat(e.weightPercentile)},conditions:{selectedCondition(e){return e==="Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)"},weightPercentile(e){return e<70}}},"Enable Moderate unexplained malnutrition for children whose weight for height is 70-79%":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:e=>"Child has weight percentile of ".concat(e.weightPercentile)},conditions:{selectedCondition(e){return e==="Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"},weightPercentile(e){return e>=70&&e<=79}}},"Disable moderate weight loss when Severe unexplained weight loss is chosen":{priority:2,actions:{isChecked:!1,disabled:!0},description:{color:"secondary",show:"always",info:()=>"Severe weight loss/manutrition was already selected"},conditions:{selectedCondition(e){return e==="Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"},selectedConditions(e){return e.includes("Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)")}}}},Ge={"Enable TB staging condition if client is TB positive":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:()=>"Client registered Positive in TB Module"},conditions:{tbPositive:e=>e,selectedCondition:e=>/\bTuberculosis \(PTB or EPTB\)|\bPulmonary tuberculosis/i.test(e)}},"Enable TB staging condition if client is EPTB positive":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:()=>"Client registered with EPTB in TB Module"},conditions:{eptbPositive:e=>e,selectedCondition:e=>/Extrapulmonary tuberculosis/i.test(e)}},"Adults with a BMI less than 16":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:e=>"Adult has a low BMI of ".concat(e.bmi)},conditions:{selectedCondition(e){return e==="Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"},bmi:e=>e<16}},"Adults whose BMI is between 16 and 18":{priority:3,actions:{isChecked:!0},description:{color:"warning",show:"onChecked",info:e=>"BMI of ".concat(e.bmi," is between 16 and 18")},conditions:{selectedCondition:e=>e==="Moderate weight loss less than or equal to 10 percent, unexplained",bmi:e=>e>=16&&e<=18.5}},"Disable Moderate weight loss if severe weightloss is selected":{priority:2,actions:{isChecked:!1,disabled:!0},description:{color:"secondary",show:"always",info:()=>"Severe weight loss was already selected"},conditions:{selectedCondition(e){return e==="Moderate weight loss less than or equal to 10 percent, unexplained"},selectedConditions(e){return e.includes("Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained")}}}},Pe={"Children under twelve months who tested positive on Rapid test and have presumed severe HIV":{concept:"PRESUMED SEVERE HIV",priority:1,conditions:{ageInMonths(e){return e<12},selectedConditions:e=>F.getConceptsByCategory("pshd_condition").some(c=>e.includes(c.name)),testType(e){return e==="HIV rapid test"}}},"Has stage 4 conditions":{concept:"WHO STAGE IV PEDS",priority:2,conditions:{stage:e=>e===4}},"Has stage 3 conditions":{concept:"WHO STAGE III PEDS",priority:3,conditions:{stage:e=>e===3}},"Children under twelve who tested positive via HIV DNA Polymerase Chain Reaction test":{concept:"HIV DNA polymerase chain reaction",priority:4,conditions:{ageInMonths:e=>e<12,testType:e=>e==="HIV DNA polymerase chain reaction"}},"Children who are less than 24 months":{concept:"HIV infected",priority:5,conditions:{ageInMonths:e=>e<24}},"Children between 24 and 56 months who have stage 2 or 1 conditions":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 750",priority:6,conditions:{ageInMonths(e){return e>=24&&e<=56},cd4Date:e=>new Date(e)<=new Date(S),cd4(e){return e<=750},cd4Modifier(e){return e==="<"||e==="="},stage(e){return e<=2}}},"Children with CD4 count less than 500 and have stage 1 and stage 2 conditions":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 500",priority:7,conditions:{cd4(e){return e<=500},cd4Date:e=>new Date(e)<=new Date(S),cd4Modifier(e){return e==="<"||e==="="},stage(e){return e<=2}}},"Children who are more than five years old and have cd4 count less than 500":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 500",priority:9,conditions:{cd4Date:e=>new Date(e)<=new Date(S),age(e){return e>5},cd4(e){return e<=500},cd4Modifier(e){return e==="<"||e==="="}}},"Children over date 2014-04-01 and less than Five years old":{concept:"HIV infected",priority:10,conditions:{date(e){return e>="2014-04-01"},age(e){return e<=5}}},"Women who are breast feeding":{concept:"BREASTFEEDING",priority:11,conditions:{gender(e){return e==="F"},breastFeeding(e){return e==="Yes"},stage:e=>e<=2}},"Women who are pregnant":{concept:"PATIENT PREGNANT",priority:12,conditions:{gender(e){return e==="F"},pregnant(e){return e==="Yes"},stage(e){return e<=2}}},"Asymptomatic patient with either stage one or stage two conditions":{concept:"Asymptomatic",priority:13,conditions:{stage:e=>e<=2}}},Le={"Has stage 4 conditions":{concept:"WHO STAGE IV ADULT",priority:1,conditions:{stage:e=>e===4}},"Has HIV wasting syndrome identified in stage 3":{concept:"WHO STAGE IV ADULT",priority:2,conditions:{selectedConditions:e=>F.getConceptsByCategory("severe_hiv_wasting_syndrome").reduce((l,y)=>e.includes(y.name)?l+1:0,0)>=2}},"Has stage 3 conditions":{concept:"WHO STAGE III ADULT",priority:3,conditions:{stage:e=>e===3}},"CD4 less than 350 for adults before 2014":{concept:"cd4 less than or equal to 350",priority:4,conditions:{cd4Date:e=>new Date(e)<=new Date(S),cd4(e){return e<=350},cd4Modifier(e){return e==="<"||e==="="}}},"CD4 less than 250 for adults after 2014":{concept:"cd4 less than or equal to 250",priority:4,conditions:{cd4Date:e=>new Date(e)<=new Date(S),cd4(e){return e<=250},cd4Modifier(e){return e==="<"||e==="="}}},"CD4 less than 350 for adults after 2014":{concept:"cd4 less than or equal to 350",priority:5,conditions:{cd4Date:e=>new Date(e)<=new Date(S),cd4(e){return e<=350},cd4Modifier(e){return e==="<"||e==="="}}},"CD4 less than 500 for adults after 2014":{concept:"cd4 less than or equal to 500",priority:6,conditions:{cd4Date:e=>new Date(e)<=new Date(S),cd4(e){return e<=500},cd4Modifier(e){return e==="<"||e==="="}}},"Women who are breast feeding":{concept:"BREASTFEEDING",priority:8,conditions:{gender(e){return e==="F"},breastFeeding(e){return e==="Yes"},stage:e=>e<=2}},"Women who are pregnant":{concept:"PATIENT PREGNANT",priority:7,conditions:{gender(e){return e==="F"},pregnant(e){return e==="Yes"},stage(e){return e<=2}}},"Asymptomatic patient with either stage one or stage two conditions":{concept:"Asymptomatic",priority:9,conditions:{stage:e=>e<=2}}};class Fe extends Y{constructor(d,l,y){super(d,52,y);k(this,"age");k(this,"confirmatoryTest");this.age=l,this.confirmatoryTest=null}isAdult(){return this.age>=15}isPedaid(){return this.age<=14}setAge(d){this.age=d}getFacilities(d=""){return Te.getFacilities({name:d})}getConfirmatoryTestType(){return this.confirmatoryTest}cd4CountIsValid(d){try{return!!d.match(/^(=|<|>)([0-9]*)$/m)}catch(l){return!1}}getAlertGuidelines(){return Ne}getWhoStageGuidelines(){return this.isAdult()?Ve:He}getProgramEligibilityGuidelines(){return this.isAdult()?Le:Pe}getRecommendedConditionGuidelines(){return this.isAdult()?Ge:Be}getStagingConditions(d){const l=this.getStagingCategoryByNum(d);return Y.getConceptsByCategory(l)}buildWhoStageObs(d){return this.buildValueCoded("Who stage",d)}buildWhoCriteriaObs(d){return this.buildValueCoded("Who stages criteria present",d)}buildReasonForArtObs(d){return this.buildValueCoded("Reason for ART eligibility",d)}getStagingCategoryByNum(d){switch(d){case 1:return this.isAdult()?"stage_1_conditions_adults":"stage_1_conditions_pedaids";case 2:return this.isAdult()?"stage_2_conditions_adults":"stage_2_conditions_pedaids";case 3:return this.isAdult()?"stage_3_conditions_adults":"stage_3_conditions_pedaids";case 4:return this.isAdult()?"stage_4_conditions_adults":"stage_4_conditions_pedaids";default:return""}}async loadHivConfirmatoryTestType(){const d=await Y.getFirstValueCoded(this.patientID,"Confirmatory hiv test type");d&&(this.confirmatoryTest=d)}}const Me={key:0,style:{"border-bottom":"dashed #ccc"},class:"ion-padding"},We={class:"error"},ke={class:"error"},Ue={class:"accordion_group"},Re={style:{"font-weight":"bold"}},xe={class:"error"},Ye={class:"ion-padding",slot:"content"},qe={style:{"border-top":"dashed #ccc","border-bottom":"dashed #ccc"},class:"ion-padding"},$e={class:"ion-padding"},je={class:"error"},Qe={key:0,class:"ion-padding"},ze={class:"error"},Ke={class:"error"},Je={class:"error"},Xe={class:"ion-padding",style:{"border-bottom":"dashed #ccc"}},Ze={key:1,class:"ion-padding"},et=le({__name:"Staging",props:{hideSubmit:{type:Boolean,default:!0}},setup(e){const c=new Se,d=K({}),l=new Fe(c.getID(),c.getAge(),-1),y=J({stage_4_conditions:{title:"Stage 4 Conditions",options:[]},stage_3_conditions:{title:"Stage 3 Conditions",options:[]},stage_2_conditions:{title:"Stage 2 Conditions",options:[]},stage_1_conditions:{title:"Stage 1 Conditions",options:[]}}),q=K([]),r=J({cd4:"",cd4Date:"",isChildBearing:!1,reasonForArt:"",pregnant:"",breastFeeding:"",cd4Available:"",cd4Location:"",whoStage:"",staging:[],confirmatoryTest:"",selectedFacilityObj:null}),p={reasonForArt:{buildObs:()=>l.buildReasonForArtObs(r.reasonForArt),suggestAvalue:()=>({"PRESUMED SEVERE HIV":{priority:1,condition:()=>c.getAgeInMonths()<12&&r.confirmatoryTest==="HIV rapid test"&&F.getConceptsByCategory("pshd_condition").some(n=>Q().includes(n.name))},"WHO STAGE IV PEDS":{priority:2,condition:()=>l.isPedaid()&&f(["stage_4_conditions"])},"WHO STAGE III PEDS":{priority:3,condition:()=>l.isPedaid()&&f(["stage_3_conditions"])},"HIV DNA polymerase chain reaction":{priority:4,condition:()=>c.getAgeInMonths()<12&&r.confirmatoryTest==="HIV DNA polymerase chain reaction"},"CD4 COUNT LESS THAN OR EQUAL TO 750":{priority:5,condition:()=>E(750)&&O()&&w()&&c.ageInMonths()>=24&&c.ageInMonths()<=56},"CD4 COUNT LESS THAN OR EQUAL TO 500":{priority:6,condition:()=>l.isPedaid()&&E(500)&&O()&&w()},"HIV infected":{priority:7,condition:()=>c.getAgeInMonths()<24||c.getAge()<=5},"WHO STAGE IV ADULT":{priority:1,condition:()=>{const n=F.getConceptsByCategory("severe_hiv_wasting_syndrome");return l.isAdult()&&(f(["stage_4_conditions"])||n.filter(t=>Q().includes(t.name)).length>=2)}},"WHO STAGE III ADULT":{priority:2,condition:()=>l.isAdult()&&f(["stage_3_conditions"])},"cd4 less than or equal to 350":{priority:3,condition:()=>l.isAdult()&&E(350)&&w()},"cd4 less than or equal to 250":{priority:4,condition:()=>l.isAdult()&&E(250)&&w()},"cd4 less than or equal to 500":{priority:4,condition:()=>l.isAdult()&&E(500)&&w()},BREASTFEEDING:{priority:5,condition:()=>l.isAdult()&&r.breastFeeding==="Yes"&&O()},"PATIENT PREGNANT":{priority:6,condition:()=>l.isAdult()&&r.pregnant==="Yes"&&O()},Asymptomatic:{priority:7,condition:()=>O()}})},whoStage:{buildObs:()=>l.buildWhoStageObs(r.whoStage),suggestAvalue:()=>({"WHO STAGE IV ADULT":{priority:1,condition:()=>l.isAdult()&&f(["stage_4_conditions"])},"WHO STAGE III ADULT":{priority:2,condition:()=>l.isAdult()&&f(["stage_3_conditions"])},"WHO STAGE II ADULT":{priority:3,condition:()=>l.isAdult()&&f(["stage_2_conditions"])},"WHO STAGE I ADULT":{priority:4,condition:()=>l.isAdult()&&f(["stage_1_conditions"])},"WHO STAGE IV PEDS":{priority:1,condition:()=>l.isPedaid()&&(f(["stage_4_conditions"])||r.reasonForArt==="WHO STAGE IV PEDS")},"WHO STAGE III PEDS":{priority:2,condition:()=>l.isPedaid()&&f(["stage_3_conditions"])},"WHO STAGE II PEDS":{priority:3,condition:()=>l.isPedaid()&&f(["stage_2_conditions"])},"WHO STAGE I PEDS":{priority:4,condition:()=>l.isPedaid()&&f(["stage_1_conditions"])}})},cd4Available:{required:()=>!0,dataHandler:n=>{n!="Yes"&&(r.cd4="",r.cd4Date=""),d.value.cd4="",d.value.cd4Date="",d.value.cd4Location=""}},pregnant:{required:()=>r.isChildBearing,buildObs:()=>l.buildValueCoded("Is patient pregnant?",r.pregnant)},breastFeeding:{required:()=>r.isChildBearing,buildObs:()=>l.buildValueCoded("Is patient breast feeding?",r.breastFeeding)},cd4:{required:()=>r.cd4Available==="Yes",validation:()=>{if(!j()){d.value.cd4="Invalid cd4 count format, expected e.g. <100 or >500 or =750";return}M()>1e4&&(d.value.cd4="CD4 value cannot exceed 10,000")},buildObs:()=>l.buildValueNumber("CD4 count",M(),$())},cd4Date:{required:()=>r.cd4Available==="Yes",dataHandler:n=>{n&&(r.cd4Date=Ie(n).format("YYYY-MM-DD"))},validation:()=>{const n=new Date(r.cd4Date);if(isNaN(n.getTime())){d.value.cd4Date="Invalid CD4 date";return}const t=new Date(c.getBirthdate());(n>new Date||n<t)&&(d.value.cd4Date="CD4 date must not exceed today or be earlier than birthdate")},buildObs:()=>l.buildValueDate("Cd4 count datetime",r.cd4Date)},cd4Location:{required:()=>r.cd4Available==="Yes",dataHandler:n=>r.cd4Location=n.label,searchFacilities:n=>Oe(n).then(t=>q.value=t),buildObs:()=>l.buildValueText("Cd4 count location",r.cd4Location)},staging:{validation:()=>{if(Object.keys(y).every(u=>V(u)<=0)){d.value.staging="Please select one or more staging conditions";return}const t=["stage_4_conditions","stage_3_conditions","stage_2_conditions"].some(u=>V(u)>0);y.stage_1_conditions.options.some(u=>/asymptomatic/i.test(u.name)&&u.checked)&&t&&(d.value.staging="Asymptomatic cannot be selected with other staging conditions")},buildObs:()=>Object.keys(y).reduce((t,i)=>(y[i].options.forEach(u=>{u.checked&&t.push(u.name)}),t),[]).map(t=>l.buildWhoCriteriaObs(t))}};function f(n){return n.some(t=>V(t)>0)}function w(){return new Date(r.cd4Date)<=new Date("2016-04-30")}function $(){var n,t,i;return(i=(t="".concat((n=r.cd4)!=null?n:"").match(/^([=><]{1})/))==null?void 0:t[0])!=null?i:""}function M(){var n,t;return parseInt((t=(n="".concat(r.cd4).match(/\d+$/))==null?void 0:n[0])!=null?t:"0")}function j(){return/^([=><]{1})(\d+)$/i.test("".concat(r.cd4))}function E(n){if(!j())return!1;const t=$(),i=M();return t==="="&&n===i||t==="<"&&i<=n||t===">"&&i>=n}function O(){return f(["stage_2_conditions","stage_1_conditions"])}function Q(){return Object.keys(y).reduce((n,t)=>(y[t].options.forEach(i=>i.checked&&n.push(i.name)),n),[])}function z(n){if(d.value[n]="",typeof p[n].required=="function"&&p[n].required()&&!r[n]){d.value[n]="This field is required";return}r[n]&&typeof p[n].validation=="function"&&p[n].validation()}function ne(n){var t,i,u;if(p[n]&&"suggestAvalue"in p[n]){r[n]="";const m=p[n].suggestAvalue(),v=Object.keys(m).reduce((C,B)=>{const W=m[B];return typeof W.condition=="function"&&W.condition()?[...C,{value:B,priority:W.priority}]:C},[]);r[n]=(u=(i=(t=v.sort((C,B)=>C.priority-B.priority))==null?void 0:t[0])==null?void 0:i.value)!=null?u:""}}function ie(){return Object.keys(r).reduce((n,t)=>{if(t in p&&r[t]&&typeof p[t].buildObs=="function"){const i=p[t].buildObs();return Array.isArray(i)?[...n,...i]:[...n,i]}return n},[])}function V(n){return y[n].options.filter(t=>t.checked).length}async function oe(){await l.loadHivConfirmatoryTestType(),r.confirmatoryTest=l.getConfirmatoryTestType(),r.isChildBearing=c.isChildBearing()}function I(n,t){n in p&&typeof p[n].dataHandler=="function"&&p[n].dataHandler(t),z(n),Object.keys(p).forEach(i=>ne(i))}function se(){Object.keys(y).forEach(n=>{var u,m;const t=Number((m=(u=n.match(/\d+/))==null?void 0:u[0])!=null?m:0),i=l.getStagingConditions(t);y[n].options=i.map(v=>({checked:!1,name:v.name,concept_id:v.concept_id}))})}async function re(){if(Object.keys(p).forEach(i=>z(i)),Object.keys(d.value).some(i=>"".concat(d.value[i]).length>=1))return De("Please review form for errors");const t=await Promise.all(ie());l.createEncounter().then(()=>l.saveObservationList(t).then(()=>{we("Observations saved!")}).catch(i=>{console.error(i),te("Error has occured while saving observations")})).catch(()=>te("Unable to save data"))}return ce(async()=>{await oe(),se()}),(n,t)=>(b(),G(o(Ce),null,{default:a(()=>[s(o(ue),null,{default:a(()=>t[14]||(t[14]=[g("span",{class:"section-header ion-text-left",style:{"margin-bottom":"10px"}},[g("h2",{style:{color:"gray","font-size":"20px","font-weight":"600","margin-left":"10px"}},"HIV Staging"),g("hr",{style:{"border-top":"1px dashed #0c0c0c","margin-top":"10px"}})],-1)])),_:1,__:[14]}),s(o(ge),null,{default:a(()=>[r.isChildBearing?(b(),H("div",Me,[s(o(U),null,{default:a(()=>[s(o(P),null,{default:a(()=>[s(o(T),null,{default:a(()=>[s(o(N),{color:"light"},{default:a(()=>[s(o(_),{slot:"start"},{default:a(()=>t[15]||(t[15]=[h("Pregnant?")])),_:1,__:[15]}),s(o(R),{modelValue:r.pregnant,"onUpdate:modelValue":t[0]||(t[0]=i=>r.pregnant=i),onIonChange:t[1]||(t[1]=i=>I("pregnant",i.detail.value)),class:"custom-segment"},{default:a(()=>[s(o(D),{value:"Yes"},{default:a(()=>[s(o(_),null,{default:a(()=>t[16]||(t[16]=[h("Yes")])),_:1,__:[16]})]),_:1}),s(o(D),{value:"No"},{default:a(()=>[s(o(_),null,{default:a(()=>t[17]||(t[17]=[h("No")])),_:1,__:[17]})]),_:1})]),_:1},8,["modelValue"])]),_:1}),g("div",We,A(d.value.pregnant),1)]),_:1}),s(o(T),null,{default:a(()=>[s(o(N),{color:"light"},{default:a(()=>[s(o(_),{slot:"start"},{default:a(()=>t[18]||(t[18]=[h("Breastfeeding?")])),_:1,__:[18]}),s(o(R),{modelValue:r.breastFeeding,"onUpdate:modelValue":t[2]||(t[2]=i=>r.breastFeeding=i),onIonChange:t[3]||(t[3]=i=>I("breastFeeding",i.detail.value)),class:"custom-segment"},{default:a(()=>[s(o(D),{value:"Yes"},{default:a(()=>[s(o(_),null,{default:a(()=>t[19]||(t[19]=[h("Yes")])),_:1,__:[19]})]),_:1}),s(o(D),{value:"No"},{default:a(()=>[s(o(_),null,{default:a(()=>t[20]||(t[20]=[h("No")])),_:1,__:[20]})]),_:1})]),_:1},8,["modelValue"])]),_:1}),g("div",ke,A(d.value.breastFeeding),1)]),_:1})]),_:1})]),_:1})])):L("",!0),g("div",Ue,[s(o(pe),{color:"light"},{default:a(()=>[(b(!0),H(X,null,Z(y,(i,u)=>(b(),G(o(he),{key:u},{default:a(()=>[s(o(N),{color:"light",slot:"header"},{default:a(()=>[s(o(_),{style:{color:"grey","font-size":"17px"},class:"ion-padding"},{default:a(()=>[g("b",Re,[h(A(i.title)+" ",1),s(o(ye),{color:V("".concat(u))>0?"primary":void 0},{default:a(()=>[h(" Selected: "+A(V("".concat(u))),1)]),_:2},1032,["color"])]),g("p",xe,A(d.value.staging),1)]),_:2},1024)]),_:2},1024),g("div",Ye,[s(o(fe),null,{default:a(()=>[(b(!0),H(X,null,Z(i.options,(m,v)=>(b(),G(o(N),{key:v},{default:a(()=>[s(o(me),{modelValue:m.checked,"onUpdate:modelValue":C=>m.checked=C,onIonChange:C=>I("staging",{stage_type:u,raw:C,option:m})},null,8,["modelValue","onUpdate:modelValue","onIonChange"]),s(o(_),{style:{margin:"13px"}},{default:a(()=>[h(A(m.name),1)]),_:2},1024),t[21]||(t[21]=g("p",null,null,-1)),m.description?(b(),G(o(_e),{key:0,color:m.color},{default:a(()=>[h(A(m.text),1)]),_:2},1032,["color"])):L("",!0)]),_:2,__:[21]},1024))),128))]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),g("div",qe,[g("div",$e,[s(o(N),{color:"light"},{default:a(()=>[s(o(_),{slot:"start"},{default:a(()=>t[22]||(t[22]=[h("Recent CD4 count results available?")])),_:1,__:[22]}),s(o(R),{modelValue:r.cd4Available,"onUpdate:modelValue":t[4]||(t[4]=i=>r.cd4Available=i),onIonChange:t[5]||(t[5]=i=>I("cd4Available",i.detail.value)),class:"custom-segment"},{default:a(()=>[s(o(D),{value:"Yes"},{default:a(()=>[s(o(_),null,{default:a(()=>t[23]||(t[23]=[h("Yes")])),_:1,__:[23]})]),_:1}),s(o(D),{value:"No"},{default:a(()=>[s(o(_),null,{default:a(()=>t[24]||(t[24]=[h("No")])),_:1,__:[24]})]),_:1})]),_:1},8,["modelValue"])]),_:1}),g("div",je,A(d.value.cd4Available),1)]),r.cd4Available==="Yes"?(b(),H("div",Qe,[s(o(U),{class:"ion-padding"},{default:a(()=>[s(o(P),null,{default:a(()=>[s(o(T),null,{default:a(()=>[s(o(_),null,{default:a(()=>t[25]||(t[25]=[h(" CD4 Count Date ")])),_:1,__:[25]}),s(ve,{place_holder:"Enter CD4 Date",onDateUpDated:t[6]||(t[6]=i=>I("cd4Date","".concat(i.value.year,"-").concat(i.value.month,"-").concat(i.value.day))),date_prop:""}),g("div",ze,A(d.value.cd4Date),1)]),_:1})]),_:1}),s(o(P),{style:{"margin-top":"15px"}},{default:a(()=>[s(o(T),null,{default:a(()=>[s(o(x),{modelValue:r.cd4,"onUpdate:modelValue":t[7]||(t[7]=i=>r.cd4=i),onIonInput:t[8]||(t[8]=i=>I("cd4",i)),placeholder:"CD4 count e.g. <100 or >500","label-placement":"stacked",label:"CD4 Count",fill:"outline"},null,8,["modelValue"]),g("div",Ke,A(d.value.cd4),1)]),_:1}),s(o(T),null,{default:a(()=>[s(o(Ae),{modelValue:r.selectedFacilityObj,"onUpdate:modelValue":[t[9]||(t[9]=i=>r.selectedFacilityObj=i),t[10]||(t[10]=i=>I("cd4Location",i))],multiple:!1,taggable:!1,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Find and select facility",placeholder:"Select CD4 Count location",selectLabel:"",label:"label",searchable:!0,"track-by":"label",onSearchChange:t[11]||(t[11]=i=>p.cd4Location.searchFacilities(i)),options:q.value},null,8,["modelValue","options"]),g("div",Je,A(d.value.cd4Location),1)]),_:1})]),_:1})]),_:1})])):L("",!0)]),g("div",Xe,[s(o(U),null,{default:a(()=>[s(o(P),null,{default:a(()=>[s(o(T),null,{default:a(()=>[s(o(x),{readonly:"",placeholder:"N/A",label:"REASON FOR ART:",modelValue:r.reasonForArt,"onUpdate:modelValue":t[12]||(t[12]=i=>r.reasonForArt=i)},null,8,["modelValue"])]),_:1}),s(o(T),null,{default:a(()=>[s(o(x),{readonly:"",placeholder:"N/A",label:"WHO STAGE:",modelValue:r.whoStage,"onUpdate:modelValue":t[13]||(t[13]=i=>r.whoStage=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),n.hideSubmit?L("",!0):(b(),H("div",Ze,[s(o(be),{color:"primary",onClick:re},{default:a(()=>t[26]||(t[26]=[h("Submit")])),_:1,__:[26]})]))]),_:1})]),_:1}))}});const lt=Ee(et,[["__scopeId","data-v-54e3ec5a"]]);export{lt as default};
