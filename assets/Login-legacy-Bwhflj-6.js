System.register(["./vendor-legacy-CJZC4Dfn.js","./index-legacy-C4TpyYf0.js","./Img-legacy-BNmikZ_d.js","./lodash-legacy-pOOc9Efu.js"],function(e,a){"use strict";var t,l,n,o,i,s,d,r,u,c,f,g,p,v,m,y,x,_,w,h,b,k,I,z,S,j,C,E,F,P,U,L,M,R,$,A,H,K;return{setters:[e=>{t=e.d,l=e.r,n=e.au,o=e.a,i=e.E,s=e.y,d=e.f,r=e.z,u=e.l,c=e.u,f=e.a9,g=e.k,p=e.a$,v=e.aY,m=e.d2,y=e.T,x=e.e,_=e.A,w=e.B,h=e.a3,b=e.D,k=e.cg,I=e.d3,z=e.bF,S=e.d4,j=e.W,C=e.af},e=>{E=e.m,F=e.J,P=e.K,U=e.l,L=e.t,M=e.I,R=e.M,$=e.o,A=e.N,H=e._},e=>{K=e.i},null],execute:function(){var a=document.createElement("style");a.textContent=".login-page[data-v-fdd85313]{background-color:#fff}.login-container[data-v-fdd85313]{display:flex;justify-content:center;align-items:center;text-align:center;height:90vh}.login-title[data-v-fdd85313]{font-size:24px;margin-bottom:30px;font-weight:700;margin-top:20px}.input-fields[data-v-fdd85313]{margin-bottom:35px}.password-toggle[data-v-fdd85313]{cursor:pointer;position:absolute;margin-top:-73px;margin-left:130px;z-index:1000}.login-button[data-v-fdd85313]{color:#fff;margin-top:30px}.signup-link[data-v-fdd85313]{margin-top:50px}.signup-link a[data-v-fdd85313]{text-decoration:underline}.password-toggle[data-v-fdd85313]{font-size:20px}.login_img[data-v-fdd85313]{width:90px;margin:auto}ion-card[data-v-fdd85313]{min-width:330px}@media (max-width: 902px){.login-page[data-v-fdd85313]{--ion-background-color: #ffffff}ion-card[data-v-fdd85313]{box-shadow:unset}}\n/*$vite$:1*/",document.head.appendChild(a);const N={class:"login-container"},q={key:0,style:{"justify-content":"center",display:"block"}},D={style:{"font-size":"15px"}},O={style:{"font-size":"12px",color:"#34af4d"}},T={key:1},B={style:{"font-size":"15px"}},G={style:{"text-align":"left"}};e("default",H(t({__name:"Login",setup(e){const a=l(""),t=l(""),H=l(""),J=l(!1),W=l("test"),Y=l(new A),Q=n(),V=E(),X=async()=>{if(a.value&&t.value){Y.value.setUsername(a.value);try{await Y.value.login(t.value),await(async()=>{const e=M(),a=await R();a&&(e.setUserFacilityName(a.name),e.setFacilityLocation(a),localStorage.setItem("facility_code",a.code))})(),await(async()=>{const e=await Y.value.checkUserPrograms(void 0);null!=e&&e.programs&&$().setAuthorizedPrograms(null==e?void 0:e.programs)})(),await F(),Q.push("/home")}catch(e){e instanceof P?U("Invalid username or password"):U(`${e}`,5e4)}}else L("Complete form to log in")};return o(async()=>{localStorage.setItem("apiKey",""),await Y.value.loadConfig(),H.value=localStorage.getItem("core_version")||"",await(async()=>{V.terminate(),await E().postData("SET_OFFLINE_PROGRAMS")})()}),(e,l)=>{const n=i("ion-icon");return d(),s(c(C),null,{default:r(()=>[u(c(f),{class:"ion-padding login-page"},{default:r(()=>[g("div",N,[u(c(p),{style:{"background-color":"#fff"}},{default:r(()=>[u(c(v),null,{default:r(()=>[u(c(m),{class:"login_img",src:c(K)("mw.png"),id:"logo"},null,8,["src"]),u(c(y),{class:"login-title"},{default:r(()=>["development"===W.value||"test"===W.value?(d(),x("span",q,[g("div",null,[l[3]||(l[3]=_(" MaHIS ")),g("small",D,"(v"+w(H.value)+")",1)]),g("div",O,"("+w(W.value)+")",1)])):(d(),x("span",T,[l[4]||(l[4]=_(" MaHIS ")),g("small",B,"(v"+w(H.value)+")",1)]))]),_:1}),g("span",G,[u(c(h),{value:a.value,onIonInput:l[0]||(l[0]=e=>a.value=e.target.value||""),type:"text",label:"Username",ref:"usernameRef","label-placement":"floating",fill:"outline",placeholder:"Enter Username",class:"input-fields",required:""},{default:r(()=>[u(c(b),{slot:"end"},{default:r(()=>[u(n,{icon:c(k)},null,8,["icon"])]),_:1})]),_:1},8,["value"]),u(c(h),{value:t.value,onIonInput:l[2]||(l[2]=e=>t.value=e.target.value||""),type:J.value?"text":"password",label:"Password",ref:"passwordRef","label-placement":"floating",fill:"outline",placeholder:"Enter Password",class:"input-fields",required:"",onKeydown:I(X,["enter"])},{default:r(()=>[u(c(b),{slot:"end"},{default:r(()=>[u(n,{icon:J.value?c(z):c(S),onClick:l[1]||(l[1]=e=>J.value=!J.value)},null,8,["icon"])]),_:1})]),_:1},8,["value","type"])]),u(c(j),{expand:"block",style:{"--background":"var(--ion-color-primary)","font-size":"var(--ion-button-font)"},onClick:X,class:"login-button"},{default:r(()=>l[5]||(l[5]=[_(" Login ")])),_:1,__:[5]}),l[6]||(l[6]=g("p",{class:"signup-link"},[_("For help click "),g("a",{href:"#"},"Here")],-1))]),_:1,__:[6]})]),_:1})])]),_:1})]),_:1})}}}),[["__scopeId","data-v-fdd85313"]]))}}});
