var mo=Object.defineProperty;var fo=(e,t,a)=>t in e?mo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var ut=(e,t,a)=>fo(e,typeof t!="symbol"?t+"":t,a);import{d as B,G as V,S as q,ao as z,E as d,y as A,m as $,f as p,z as i,k as _,B as k,R as qe,al as w,U as W,T as j,am as Y,an as x,X as Wt,ap as le,ai as ie,e as v,l as n,c4 as ya,aq as Ft,ar as ae,A as S,F as te,aj as zt,r as b,bY as Ni,w as Je,a as dt,n as ki,L as he,u as g,c7 as Bi,b1 as _o,V as Ha,au as na,D as J,d0 as es,dq as ts,bg as pa,W as it,bf as Sa,I as rt,ac as Re,ab as ye,bh as sa,db as vo,bj as $i,aR as go,p as ht,ag as jt,cR as yo,ay as vn,ad as Ca,ae as gn,af as wa,c as ze,aZ as bo,aB as Do,aK as as,dB as So,dR as Co,dS as wo,dT as Io,cc as ns,av as ea,M as Mt,J as At,cn as Mi,d8 as yn,dm as Fn,dl as Po,da as No,aA as ss,a$ as ko,dU as is,dV as os,bn as ls,aw as Ie,ax as Pe,cv as ve,cu as ge,cz as me,O as rs,aD as Ue,dW as Bo,dy as un,bv as Ia,i as Ai,dX as $o,v as Ei,aI as Vi,aT as Mo,br as _s,dY as Ao,bp as Eo,b5 as ds,b7 as Vo,b6 as ga,bI as Oo,be as To,bd as Fo,ck as Ho,ct as Ro}from"./vendor-IHO26Iap.js";import{A as It}from"./app_encounter_service-RKYf1Er9.js";import{_ as O,i as P,H as ne,Q as Ae,u as Ne,w as Be,B as G,e as ee,O as Et,x as u,a0 as ia,k as St,A as Gt,R as Gn,g as Ct,C as Yt,Y as Ge,ai as Lo,S as Ve,aA as je,t as Xe,m as ta,W as Ht,a4 as Oa,P as Me,a2 as xo,a6 as gt,a as Uo,T as Oi,aE as Ra,b4 as zo,b5 as qo,at as Ti,J as Wo,D as Go,aK as Lt,b6 as jo,b as Yo,s as Jo,p as hn,aP as jn,y as oe,E as Ko,aB as F,ac as Fi,h as Yn,j as Jn,l as Aa,V as yt,aL as Qo,aa as N,b7 as fa,b8 as Xo,b9 as Zo,ba as el,bb as tl,bc as al,bd as nl,aY as ue,aX as I,aZ as L,aO as vs,aM as gs,aQ as sl,X as qt,be as ka,Z as ys,aF as Oe,a7 as rn,aN as Hn,ad as il,a5 as La,L as Jt,bf as Kn,bg as en,bh as bs,bi as Ds,bj as Le,bk as Ke,bl as ol,bm as pn,bn as Ss,bo as Qn,bp as nt,bq as $t,br as Hi,bs as Xn,bt as ll,bu as Nt,bv as Cs,bw as Ri,bx as Bt,by as Li,bz as mn,bA as cs,bB as Zt,bC as ws,bD as da,bE as Is,bF as rl,bG as Rn,bH as Zn,bI as Ut,bJ as fn,bK as we,bL as Ps,bM as Ln,bN as Ns,bO as ks,bP as Bs,bQ as $s,bR as Ms,bS as As,bT as dl,bU as Es,bV as cl,bW as Vs,aq as xn,av as Un,bX as Os,bY as tn,bZ as ha,b_ as ua,b$ as Ts,c0 as Fs,c1 as ul,c2 as hl,c3 as pl,c4 as ml,c5 as zn,c6 as fl,c7 as Hs,c8 as _l,c9 as vl,ca as gl,cb as yl,cc as Rs,cd as bl,ce as Dl,cf as Ls,cg as Sl,ch as Cl,ci as xs,cj as wl,ck as Us,cl as xi,cm as Ui,z as Il}from"./index-BUOqMZYn.js";import{l as $e,_ as zs}from"./lodash-Dt8AsbQm.js";import{P as bn}from"./previousVitals-CTDJlfD_.js";import{L as wt,i as xa,a as Ua,c as Dn}from"./SvgDynamicColor-DeD0f1Y6.js";import{P as qs}from"./patient_complaints_service-Ciz8OVtQ.js";import{P as zi}from"./patient_lab_service-KbSY86um.js";import{v as Ta}from"./group_validation-BnrsoIf6.js";import{A as Pl,B as Fe}from"./ncd_appointment_service-4C6JR8nN.js";import{U as Kt,I as Qt}from"./UpcomingFeature-4cWDa50w.js";import{f as Nl,S as kl}from"./SaveProgressModal-DnProDVt.js";import{_ as Fa}from"./DatePicker.vue_vue_type_script_setup_true_lang-DctJVZ_2.js";import{S as Bl}from"./SelectFacility-y3EC6Amq.js";import{D as ba}from"./drug_service-CDl2DHKq.js";import{g as $l,D as qi,a as xt,b as Ml}from"./drug_prescription_service-DJerx_XS.js";import{A as Ma}from"./appointment_service-B3G7Vp82.js";import{u as qn,s as Al}from"./clinicalDaysStore-DJm_CKmQ.js";import{F as Wi}from"./FeatusModal-DYjaSrbI.js";import{V as El}from"./vitals_service-BKkGnNOl.js";const Vl=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V},data(){return{}},props:{status:{type:Boolean,default:!0},content:{type:String,default:""}},methods:{}}),Ol={class:"dash_box"};function Tl(e,t,a,s,o,r){const l=d("ion-row");return e.status?(p(),A(l,{key:0},{default:i(()=>[_("span",Ol,k(e.content),1)]),_:1})):$("",!0)}const Vt=O(Vl,[["render",Tl]]),Ws=qe("NCDDiagnosisStore",{state:()=>({diagnosis:[{selectedData:[],isFinishBtn:!1,data:{rowData:[{colData:[{inputHeader:"Diagnosis",icon:P.search,value:"",name:"diagnosis",eventType:"input",required:!0,alertsErrorMassage:"",isSingleSelect:!0,trackBy:"concept_id",valueType:"coded",multiSelectData:[],id:"",validationFunctionName:"required"}]}]}}]}),actions:{setDiagnosis(e){this.diagnosis=e}}}),Fl=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,List:wt},computed:{...w(Ne,["patient"])},data(){return{valueNumericArray:[],obsDatetime:[],graphIcon:Ua(["#006401"]),listIcon:xa(["#636363"]),displayGraph:!0,orders:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],series:[{name:"",data:[]}]}},setup(){return{checkmark:ie,pulseOutline:le}},async mounted(){const e=await Ae.getAll(this.patient.patientID,"Primary diagnosis"),t=await Ae.getAll(this.patient.patientID,"Secondary diagnosis"),a=await Ae.getAll(this.patient.patientID,"Attempted/ Differential diagnosis"),s=[...e||[],...t||[],...a||[]],o=$e.isEmpty(s)?[]:Promise.all(s.map(async r=>({name:await Ae.getConceptName(r.value_coded),obs_date:r.obs_datetime})));this.setListData(await o)},methods:{dismiss(){Wt.dismiss()},handleIcon(){},setActivClass(e){this.activeHeight="",this.activeBMI="",this.activeWeight="",e=="height"?this.activeHeight="_active":e=="weight"?this.activeWeight="_active":e=="BMI"&&(this.activeBMI="_active")},setListData(e){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 25px;",display:["Date","Diagnosis","Notes"]}),e.forEach(t=>{this.list.push({actionBtn:!1,minHeight:"--min-height: 25px;",class:"col_background",display:[ne.toStandardHisFormat(t.obs_date),t.name,""]})})}}}),Hl={class:"modal_wrapper"};function Rl(e,t,a,s,o,r){const l=d("list");return p(),v("div",Hl,[_("div",null,[n(l,{listData:e.list},null,8,["listData"])])])}const Gi=O(Fl,[["render",Rl],["__scopeId","data-v-5665ae64"]]),Ll=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Vt,SelectionPopover:Et,BasicInputField:ee,List:wt,BasicForm:G,DynamicButton:Be,previousDiagnosis:Gi,DataTable:ya},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],diagnosisData:[],popoverOpen:!1,event:"",selectedCondition:""}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(Ws,["diagnosis"]),...w(Ne,["patient"])},async mounted(){await this.getDiagnosis("")},methods:{async getDiagnosis(e){const t=await Gt("diagnosis",{likeClause:e?{name:"%".concat(e,"%")}:"",currentPage:1,itemsPerPage:5}).then(a=>a.records);u(this.diagnosis,"diagnosis","multiSelectData",t)},dismiss(){Wt.dismiss()},async addNewRow(){var e,t,a;if(await Ta(this.diagnosis)){u(this.diagnosis,"diagnosis","alertsErrorMassage","");const s=await Nl(this.diagnosis),o=JSON.parse(JSON.stringify(this.patient));(a=(t=(e=o.diagnosis)!=null?e:o.diagnosis={}).unsaved)!=null||(t.unsaved=[]),o.diagnosis.unsaved.push(...s),await ia(o),St("Diagnosis successfully saved"),this.dismiss()}else u(this.diagnosis,"diagnosis","alertsErrorMassage","Please select diagnosis from the list")},updateDiagnosisStores(){Ws().setDiagnosis(this.diagnosis)},async handleInputData(e){u(this.diagnosis,"diagnosis","alertsErrorMassage","")}}}),xl={class:"modal_wrapper"},Ul={class:""};function zl(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-icon"),h=d("ion-header"),m=d("basic-form"),f=d("ion-content"),y=d("DynamicButton"),D=d("ion-col"),C=d("ion-row"),E=d("ion-footer");return p(),v(te,null,[n(h,{style:{display:"flex","justify-content":"space-between"}},{default:i(()=>[n(l,{class:"modalTitle"},{default:i(()=>t[2]||(t[2]=[S("Add Diagnosis")])),_:1,__:[2]}),n(c,{onClick:t[0]||(t[0]=T=>e.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:e.iconsContent.cancel},null,8,["icon"])]),_:1}),n(f,{fullscreen:!0,style:{"--background":"#fff"}},{default:i(()=>[_("div",xl,[_("div",Ul,[n(m,{contentData:e.diagnosis,onSearchChange:e.getDiagnosis,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onSearchChange","onUpdate:inputValue"])])])]),_:1}),n(E,{collapse:"fade",class:"ion-no-border"},{default:i(()=>[n(C,null,{default:i(()=>[n(D,null,{default:i(()=>[n(y,{onClick:t[1]||(t[1]=T=>e.addNewRow()),name:"Save",fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})],64)}const ql=O(Ll,[["render",zl],["__scopeId","data-v-ab3c70a2"]]),Wl={class:"table-responsive"},Gl=B({__name:"Diagnosis",setup(e){const t=Gn(),a=Ne(),{diagnosis:s}=zt(t),{patient:o}=zt(a),r=b(null),l=b([]),c=b(P),h=["Diagnosis","Date","Action"],m={responsive:!0,select:!1,layout:{topStart:"buttons",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},ordering:!1,buttons:[{text:" <b>+ Add diagnosis </b>",className:"add-test text-white",action:async()=>{await f()}}]},f=async()=>{await Ct(ql,{class:"lab-results-modal"},!0),await C()},y=async T=>T.length>0?await Promise.all(T.map(async U=>{const R=await Ae.getConceptName(U.value_coded),M=U.obs_datetime;return[R,ne.toStandardHisFormat(M),'<button class="btn btn-outline-danger btn-sm delete-btn" data-id=\''.concat(JSON.stringify({id:U.obs_id,value_coded:U.value_coded,name:R,obs_date:M}),"'>").concat(c.value.delete2,"</button>")]})):[],D=async(T,U)=>{var M;if(await Yt("Do you want to delete ".concat(T.name," ?"),U)){const H=JSON.parse(JSON.stringify(o.value)),K=H.diagnosis;T!=null&&T.id?(K.saved=K.saved.filter(X=>!(X.value_coded===T.value_coded&&X.obs_datetime===T.obs_date)),(M=K.voided)!=null||(K.voided=[]),K.voided.push(T)):K.unsaved=K.unsaved.filter(X=>!(X.value_coded===T.value_coded&&X.obs_datetime===T.obs_date)),await ia(H)}},C=async()=>{var R,M;const T=JSON.parse(JSON.stringify(o.value)),U=[...((R=T==null?void 0:T.diagnosis)==null?void 0:R.unsaved)||[],...((M=T==null?void 0:T.diagnosis)==null?void 0:M.saved)||[]];l.value=await y(U),ya.use(Bi)},E=Ni();return Je(()=>E,async()=>{await C()},{deep:!0}),Je(()=>o,async()=>{await C()},{deep:!0}),dt(async()=>{await C(),ki(()=>{const T=r.value.dt;T.columns.adjust().draw(),T.on("click",".delete-btn",U=>{const R=U.target.getAttribute("data-id");D(JSON.parse(R),U)})})}),(T,U)=>(p(),v("div",Wl,[n(g(ya),{ref_key:"dataTableRef",ref:r,options:m,data:l.value,class:"display nowrap",width:"100%"},{default:i(()=>[_("thead",null,[_("tr",null,[(p(),v(te,null,he(h,R=>_("th",{key:R},k(R),1)),64))])])]),_:1},8,["data"])]))}}),jl=O(Gl,[["__scopeId","data-v-a6230e7a"]]),Gs=[{isFinishBtn:!1,validationStatus:"",sectionHeader:"Visual acuity test",data:{rowData:[{colData:[{inputHeader:"Left Eye",value:"",name:"Left eye visual acuity",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1,validationFunctionName:"",valueType:"text"},{inputHeader:"Right Eye",value:"",name:"Right eye visual acuity",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1,validationFunctionName:"",valueType:"text"}]}]}}],js=[{selectedData:[],classDash:"dashed_bottom_border",groupedRadioBtnContent:{groupedData:[{header:{selectedValue:"",name:"Peripheral neuropathy"},data:[{name:"Neuropathy/PVO",labelPlacement:"start",colSize:"3",justify:"space-between",header:!0,headClassName:"bold"},{name:"Yes",value:"Yes",checked:!1,colSize:"3",justify:"end"},{name:"No",value:"No",checked:!1,colSize:"3",justify:"end"}]}]}},{selectedData:[],classDash:"dashed_bottom_border",groupedRadioBtnContent:{groupedData:[{header:{selectedValue:"",name:"Deformity"},data:[{name:"Deformities",labelPlacement:"start",colSize:"3",justify:"space-between",header:!0,headClassName:"bold"},{name:"Yes",value:"Yes",checked:!1,colSize:"3",justify:"end"},{name:"No",value:"No",checked:!1,colSize:"3",justify:"end"}]}]}},{selectedData:[],classDash:"dashed_bottom_border",groupedRadioBtnContent:{groupedData:[{header:{selectedValue:"",name:"Ulcers"},data:[{name:"Ulcers",labelPlacement:"start",colSize:"3",justify:"space-between",header:!0,headClassName:"bold"},{name:"Yes",value:"Yes",checked:!1,colSize:"3",justify:"end"},{name:"No",value:"No",checked:!1,colSize:"3",justify:"end"}]}]}}],Ys=[{isFinishBtn:!1,validationStatus:"",sectionHeader:"CV Risk %",data:{rowData:[{colData:[{inputHeader:"",value:"",name:"CVD",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1,valueType:"text",validationFunctionName:"isNumber"}]}]}}],Yl=qe("complicationsStore",{state:()=>({visualScreening:[...Gs],FootScreening:[...js],cvScreening:[...Ys]}),actions:{setCvScreening(e){this.cvScreening=e},setVisualScreening(e){this.visualScreening=e},setFootScreening(e){this.FootScreening=e},getInitialCvScreening(){return[...$e.cloneDeep(Ys)]},getInitialVisualScreening(){return[...$e.cloneDeep(Gs)]},getInitialFootScreening(){return[...$e.cloneDeep(js)]},resetScreening(){this.setCvScreening(this.getInitialCvScreening()),this.setFootScreening(this.getInitialFootScreening()),this.setVisualScreening(this.getInitialVisualScreening())}},persist:!0}),Jl={class:"sub_item_body"},Kl={class:"ion-padding",slot:"content"},Ql={class:"table-responsive"},Xl=B({__name:"ComplicationsScreening",setup(e){_o();const t=Yl(),{FootScreening:a,visualScreening:s,cvScreening:o}=zt(t),r=Ne(),{patient:l}=zt(r);Ni();const c=b(null),h=b([]);b(!1),b(!1),b("");const m=b("");b({btnColor:"secondary",btnName:"No risk"});const f=b(P),y=["Condition","Result","Date","Action"],D={responsive:!0,select:!1,layout:{topEnd:"search",bottomStart:"info",bottomEnd:"paging"},ordering:!1},C=async()=>{var M,H;const U=JSON.parse(JSON.stringify(l.value)),R=[...((M=U==null?void 0:U.screening)==null?void 0:M.unsaved)||[],...((H=U==null?void 0:U.screening)==null?void 0:H.saved)||[]];h.value=await E(R)},E=async U=>U.length===0?[]:(await Promise.all(U.map(async M=>M.concept_name==="Visual acuity"?M.children.map(H=>[H.concept_name,H.value_text,ne.toStandardHisFormat(H.obs_datetime),'<button class="btn btn-outline-danger btn-sm delete-btn" data-id=\''.concat(JSON.stringify(H),"'>\n                        ").concat(f.value.delete2,"</button>")]):M.concept_name==="Foot check"?Promise.all(M.children.map(async H=>[H.concept_name,await Ge.getConceptName(H.value_coded),ne.toStandardHisFormat(H.obs_datetime),'<button class="btn btn-outline-danger btn-sm delete-btn" data-id=\''.concat(JSON.stringify(H),"'>\n                            ").concat(f.value.delete2,"</button>")])):M.concept_name==="Cardiovascular disease"?[["CVD %",M.value_text,ne.toStandardHisFormat(M.obs_datetime),'<button class="btn btn-outline-danger btn-sm delete-btn" data-id=\''.concat(JSON.stringify(M),"'>\n                            ").concat(f.value.delete2,"</button>")]]:[]))).flat(),T=U=>{console.log("ðŸš€ ~ voidScreening ~ data:",U)};return dt(async()=>{await C(),ki(()=>{const U=c.value.dt;U.columns.adjust().draw(),U.on("click",".delete-btn",R=>{const M=R.target.getAttribute("data-id");T(JSON.parse(M))})})}),(U,R)=>{const M=d("ion-label"),H=d("ion-accordion"),K=d("ion-accordion-group"),X=d("ion-row");return p(),v(te,null,[n(G,{contentData:g(s)},null,8,["contentData"]),n(g(x),null,{default:i(()=>[n(g(V),{lines:m.value,class:"dashed_bottom_border textSectionFormat"},{default:i(()=>R[0]||(R[0]=[_("span",{style:{display:"flex","align-items":"center",gap:"10px"}}," Foot screening ",-1)])),_:1,__:[0]},8,["lines"]),_("div",Jl,[n(G,{contentData:g(a)},null,8,["contentData"])])]),_:1}),n(G,{contentData:g(o)},null,8,["contentData"]),n(X,null,{default:i(()=>[n(K,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(H,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(V),{slot:"header",color:"light"},{default:i(()=>[n(M,{class:"previousLabel"},{default:i(()=>R[1]||(R[1]=[S("Previous Visits")])),_:1,__:[1]})]),_:1}),_("div",Kl,[_("div",Ql,[n(g(ya),{ref_key:"dataTableRef",ref:c,options:D,data:h.value,class:"display nowrap",width:"100%"},{default:i(()=>[_("thead",null,[_("tr",null,[(p(),v(te,null,he(y,ce=>_("th",{key:ce},k(ce),1)),64))])])]),_:1},8,["data"])])])]),_:1})]),_:1},512)]),_:1})],64)}}}),Zl=O(Xl,[["__scopeId","data-v-127f623c"]]),Da=qe("labResultsStore",{state:()=>({labResults:[]}),actions:{setLabResults(e){this.labResults=e}},persist:!0}),er=B({components:{IonButtons:Sa,IonButton:it,IonModal:pa,IonHeader:q,IonContent:z,IonToolbar:W,IonTitle:j,IonItem:V,IonList:x,IonAvatar:ts,IonImg:es,IonLabel:J,IonPage:na,IonMenu:Y,BasicForm:G,IonFooter:Ha,DynamicButton:Be},data(){return{popoverStatus:null}},props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{type:Object,default:{}},popoverOpen:{type:Boolean,default:!1},event:{type:Event,default:""},title:{type:String,default:""}},computed:{...w(Ne,["patient"]),...w(Da,["labResults"])},mounted(){},methods:{dismiss(){Wt.dismiss()},async saveResults(){const e=await this.buildResults();this.patient.labOrders.results=[{encounter_id:"",date:ne.sessionDate(),measures:e,test_id:this.labResults[0].id}];let t=!1;for(let a=0;a<this.patient.labOrders.unsaved.length;a++)if(this.patient.labOrders.unsaved[a].tests[0].id===this.labResults[0].id&&this.patient.labOrders.unsaved[a].tests&&this.patient.labOrders.unsaved[a].tests.length>0){this.patient.labOrders.unsaved[a].tests[0].result=e,t=!0;break}if(!t){for(let a=0;a<this.patient.labOrders.saved.length;a++)if(this.patient.labOrders.saved[a].tests[0].id===this.labResults[0].id&&this.patient.labOrders.saved[a].tests&&this.patient.labOrders.saved[a].tests.length>0){this.patient.labOrders.saved[a].tests[0].result=e;break}}await ia(this.patient),St("Saved successfully"),this.$emit("saved")},async buildResults(){let e=[];return await Promise.all(this.labResults[1].data.rowData[0].colData.map(async t=>{var s;const a=await Gt("testResultIndicators",{whereClause:{concept_id:t.id}});e.push({indicator:{name:(s=a[0])==null?void 0:s.name,concept_id:t.id},value:t.value.name||t.value||"not done",value_modifier:"",value_type:"text"})})),e},async nav(e,t){const a=Da();t=="not_save"?(await Lo(),a.setLabResults(!1)):a.setLabResults(!0),this.dismiss(),this.$router.push(e)}}}),tr={class:"modal_wrapper"},ar={class:"center text_12"};function nr(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-button"),h=d("ion-buttons"),m=d("ion-toolbar"),f=d("ion-header"),y=d("basic-form"),D=d("ion-row"),C=d("ion-content"),E=d("DynamicButton"),T=d("ion-footer"),U=d("ion-modal");return p(),A(U,{"is-open":e.popoverOpen,"show-backdrop":!0,onDidDismiss:t[2]||(t[2]=R=>e.$emit("closePopoover",!1)),"keyboard-close":e.keyboardClose},{default:i(()=>[n(f,null,{default:i(()=>[n(m,null,{default:i(()=>[n(l,null,{default:i(()=>[_("b",null,"Enter lab results for ("+k(e.labResults[0].name)+") test",1)]),_:1}),n(h,{slot:"end"},{default:i(()=>[n(c,{onClick:t[0]||(t[0]=R=>e.$emit("closeModal"))},{default:i(()=>t[3]||(t[3]=[S("Close")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1}),n(C,{class:"ion-padding"},{default:i(()=>[_("div",tr,[_("div",ar,[n(D,null,{default:i(()=>[n(y,{contentData:e.labResults},null,8,["contentData"])]),_:1})])])]),_:1}),n(T,{translucent:!0},{default:i(()=>[n(m,null,{default:i(()=>[n(E,{onClick:t[1]||(t[1]=R=>e.saveResults()),name:"Save",fill:"clear",iconSlot:"icon-only",style:{float:"right"}})]),_:1})]),_:1})]),_:1},8,["is-open","keyboard-close"])}const ji=O(er,[["render",nr],["__scopeId","data-v-c61fd749"]]),sr=B({components:{IonButtons:Sa,IonButton:it,IonModal:pa,IonHeader:q,IonContent:z,IonToolbar:W,IonTitle:j,IonItem:V,IonList:x,IonAvatar:ts,IonImg:es,IonLabel:J,IonPage:na,IonMenu:Y,BasicForm:G,IonFooter:Ha,DynamicButton:Be},data(){return{popoverStatus:null}},props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{default:[]},popoverOpen:{type:Boolean,default:!1},event:{type:Event,default:""},title:{type:String,default:""}},methods:{dismiss(){Wt.dismiss()},nav(e,t){this.dismiss(),this.$router.push(e)}}}),ir={class:"modal_wrapper"},or={class:"center text_12"};function lr(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-button"),h=d("ion-buttons"),m=d("ion-toolbar"),f=d("ion-header"),y=d("ion-col"),D=d("ion-row"),C=d("ion-content"),E=d("ion-modal");return p(),A(E,{"is-open":e.popoverOpen,"show-backdrop":!0,onDidDismiss:t[1]||(t[1]=T=>e.$emit("closePopoover",!1)),"keyboard-close":e.keyboardClose},{default:i(()=>[n(f,null,{default:i(()=>[n(m,null,{default:i(()=>[n(l,null,{default:i(()=>[_("b",null,"Lab results for ("+k(e.content.name)+") test",1)]),_:1}),n(h,{slot:"end"},{default:i(()=>[n(c,{onClick:t[0]||(t[0]=T=>e.$emit("closeModal"))},{default:i(()=>t[2]||(t[2]=[S("Close")])),_:1,__:[2]})]),_:1})]),_:1})]),_:1}),n(C,{class:"ion-padding"},{default:i(()=>[_("div",ir,[_("div",or,[n(D,null,{default:i(()=>[(p(!0),v(te,null,he(e.content.result,(T,U)=>(p(),A(y,{size:"4",key:U},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{size:"8"},{default:i(()=>[S(k(T.indicator.name),1)]),_:2},1024),n(y,{class:"bold",size:"0.5"},{default:i(()=>t[3]||(t[3]=[S(":")])),_:1,__:[3]}),n(y,{class:"bold",size:"2"},{default:i(()=>[S(k(T.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])])]),_:1})]),_:1},8,["is-open","keyboard-close"])}const rr=O(sr,[["render",lr],["__scopeId","data-v-5d6713fe"]]),Js=qe("investigationNCDStore",{state:()=>({investigations:[{db_data:[],isFinishBtn:!1,selectedData:[],displayData:[],data:{rowData:[{colData:[{inputHeader:"Test",icon:P.search,value:"",name:"test",popOver:!0,eventType:"input",required:!0,alertsErrorMassage:"",isSingleSelect:!0,trackBy:"concept_id",multiSelectData:[],id:"",idName:"test_id",validationFunctionName:"required"},{inputHeader:"Specimen",icon:P.search,value:"",name:"specimen",eventType:"input",required:!0,alertsErrorMassage:"",disabled:!0,isSingleSelect:!0,trackBy:"concept_id",multiSelectData:[],id:"",idName:"specimen_id",validationFunctionName:"required"}]}]}}]}),actions:{setInvestigations(e){this.investigations=e}}}),us=B({data:()=>({userRole:"",ready:!1,userRoleSettings:{}}),watch:{$route:{async handler(e){this.userRole=Ve.getUserRoles();const t=Ve.getProgramID(),a=Ve.getProgramName();this.userRole=="Lab"&&t==14&&(this.userRoleSettings={url:"home",btnName:"Back to home",stepperTitle:"Laboratory"}),t==14&&this.userRole!="Lab"&&(this.userRoleSettings={url:"home",btnName:"Go to waiting list",stepperTitle:"Consultation Plan"}),t==12&&(this.userRoleSettings={url:"contact",btnName:"Back"}),a=="LABOUR AND DELIVERY PROGRAM"&&(this.userRoleSettings={url:"labour/labourHome",btnName:"Back to home"}),a=="PNC PROGRAM"&&(this.userRoleSettings={url:"pnc/home",btnName:"Back to home"})},immediate:!0,deep:!0}}}),dr=B({name:"Menu",mixins:[us],components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Vt,SelectionPopover:Et,BasicInputField:ee,BasicForm:G,List:wt,DynamicButton:Be},data(){return{segmentContent:"Lab Investigations",iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",labOrders:"",filteredSpecimen:"",testData:[],popoverOpen:!1,labOrderStatus:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(Js,["investigations"]),...w(Ne,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0},patient:{async handler(){this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved]},deep:!0},$route:{async handler(){await this.getTests()},deep:!0}},async mounted(){await this.getTests(),this.updateInvestigationsStores(),this.setDashedBox(),this.updateInvestigationWizard()},methods:{dismiss(){Wt.dismiss()},setSegmentContent(e){this.segmentContent=e},async getTests(){const e=await Gt("testTypes");u(this.investigations,"test","multiSelectData",e)},toggleLabOrderStatus(){this.labOrderStatus=!this.labOrderStatus},async updateInvestigationWizard(){this.labOrders=[...this.patient.labOrders.saved,...this.patient.labOrders.unsaved];const e=await this.labOrders.filter(t=>ne.toStandardHisFormat(ne.sessionDate())===ne.toStandardHisFormat(t.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},async updateInvestigationsStores(){await this.updateInvestigationWizard(),Js().setInvestigations(this.investigations)},displayInputFields(){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validateRowData(){return Ta(this.investigations)},async checkTest(){return await this.isNameInData(this.inputFields[0].value.name,await this.investigations[0].selectedData)?(u(this.investigations,"test","alertsErrorMassage","Lab order already selected"),!1):(u(this.investigations,"test","alertsErrorMassage",""),!0)},async addNewRow(){Ta(this.investigations)&&await this.checkTest()&&(await this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.updateInvestigationWizard(),this.dismiss()},isNameInData(e,t){for(let a of t)for(let s of a.tests)if(s.name===e)return!0;return!1},async saveTest(){var o,r,l,c,h,m;const e=[{concept_id:this.inputFields[0].value.concept_id,name:this.inputFields[0].value.name,specimen:this.inputFields[1].value.name,reason:"Routine",specimenConcept:await Ge.getConceptID(this.inputFields[1].value.name,!0)}];let a=(await je.buildLabOrders("",e))[0];a.order_date=a.date,a.specimen.name=this.inputFields[1].value.name,a.tests[0].name=this.inputFields[0].value.name;const s=JSON.parse(JSON.stringify(this.patient));(l=(r=(o=s.labOrders)!=null?o:s.labOrders={}).unsaved)!=null||(r.unsaved=[]),(m=(h=(c=s.labOrders)!=null?c:s.labOrders={}).saved)!=null||(h.saved=[]),s.labOrders.unsaved.push(a),await ia(s),u(this.investigations,"specimen","disabled",!0),this.labOrders=[...s.labOrders.saved,...s.labOrders.unsaved]},async handleInputData(e){if(e.inputHeader=="Test"&&this.checkTest(),u(this.investigations,"specimen","alertsErrorMassage",""),e.inputHeader=="Test"&&e.value){const t=await Gt("specimens");this.specimen=await Ge.getConceptSet(e.value.name,"",{names:t.map(a=>a.name)}),this.specimen.length==1?(u(this.investigations,"specimen","value",this.specimen[0]),u(this.investigations,"specimen","disabled",!0)):(u(this.investigations,"specimen","value",""),u(this.investigations,"specimen","disabled",!1)),u(this.investigations,"specimen","multiSelectData",this.specimen)}},async filterTest(e){return await this.labOrders.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))},async filterSpecimen(e){var t;return(t=this.specimen[0])!=null&&t.name&&e?await this.specimen.filter(a=>a==null?void 0:a.name.toLowerCase().includes(e.toLowerCase())):[]},setTest(e){this.selectedText=e.name,this.inputFields[1].inputHeader=="Test"?this.investigations[0].data.rowData[0].colData[0].value=e.name:this.investigations[0].data.rowData[0].colData[1].value=e.name,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[1].value||this.inputFields[0].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),cr={class:"modal_wrapper"},ur={class:""};function hr(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-icon"),h=d("ion-header"),m=d("basic-form"),f=d("ion-content"),y=d("DynamicButton"),D=d("ion-col"),C=d("ion-row"),E=d("ion-footer");return p(),v(te,null,[n(h,{style:{display:"flex","justify-content":"space-between"}},{default:i(()=>[n(l,{class:"modalTitle"},{default:i(()=>t[2]||(t[2]=[S("Add Lab Test")])),_:1,__:[2]}),n(c,{onClick:t[0]||(t[0]=T=>e.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:e.iconsContent.cancel},null,8,["icon"])]),_:1}),n(f,{fullscreen:!0,class:"ion-padding",style:{"--background":"#fff"}},{default:i(()=>[_("div",cr,[_("div",ur,[n(m,{contentData:e.investigations,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])])])]),_:1}),n(E,{collapse:"fade",class:"ion-no-border"},{default:i(()=>[n(C,null,{default:i(()=>[n(D,null,{default:i(()=>[n(y,{onClick:t[1]||(t[1]=T=>e.addNewRow()),name:"Save",fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})],64)}const pr=O(dr,[["render",hr],["__scopeId","data-v-28528878"]]),mr=B({name:"CheckInConfirmationModal",components:{IonCol:ye,IonRow:Re,IonFooter:Ha,DynamicButton:Be,IonModal:pa,IonHeader:q,IonToolbar:W,IonTitle:j,IonButtons:Sa,IonButton:it,IonContent:z,IonIcon:rt},props:{isOpen:{type:Boolean,required:!0,default:!1},closeModalFunc:{type:Function,required:!0},onYes:{type:Function,required:!0},onNo:{type:Function,required:!0},title:{type:String,required:!0}},computed:{},methods:{closeOutline(){return sa},closeModal(){this.closeModalFunc()},confirm(e){this.closeModal()}}}),fr={style:{display:"flex"}};function _r(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-icon"),h=d("ion-button"),m=d("ion-buttons"),f=d("ion-col"),y=d("DynamicButton"),D=d("ion-row"),C=d("ion-footer"),E=d("ion-content"),T=d("ion-modal");return p(),A(T,{"is-open":e.isOpen,"show-backdrop":!0,onDidDismiss:e.closeModal},{default:i(()=>[n(m,{slot:"start"},{default:i(()=>[n(l,{style:{color:"#0c0c0c"}},{default:i(()=>[S(k(e.title),1)]),_:1}),n(h,{onClick:e.closeModal},{default:i(()=>[n(c,{slot:"icon-only",icon:e.closeOutline(),style:{color:"#b02a37"}},null,8,["icon"])]),_:1},8,["onClick"])]),_:1}),n(E,null,{default:i(()=>[_("div",fr,[n(C,{collapse:"fade",class:"ion-no-border"},{default:i(()=>[n(D,null,{default:i(()=>[n(f,null,{default:i(()=>[n(h,{id:"cbtn",class:"btnText cbtn",fill:"solid",style:{width:"130px"},onClick:e.onNo},{default:i(()=>t[1]||(t[1]=[S(" Cancel ")])),_:1,__:[1]},8,["onClick"])]),_:1}),n(f,null,{default:i(()=>[n(y,{name:"Send",onClick:t[0]||(t[0]=U=>e.onYes()),fill:"solid",style:{float:"right",margin:"2%",width:"130px"}})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1},8,["is-open","onDidDismiss"])}const Yi=O(mr,[["render",_r],["__scopeId","data-v-be6bf3e1"]]);class vr extends It{constructor(t,a,s){super(t,57,a,s)}createLabResult(t,a,s){return It.postJson("lab/tests/".concat(a,"/results"),{encounter_id:this.encounterID,date:s,measures:t})}getTestsWithoutResults(){return je.getOrders(this.patientID,{status:"drawn"})}getTestIndicators(t){return je.getJson("lab/test_result_indicators",{test_type_id:t})}}class hs extends je{constructor(){super()}async postActivities(t,a){const s=a.location_id,r=await new vr(parseInt(t),-1,s).createEncounter();if(r){const l=await je.buildLabOrders(r,a.orders||a);if(!await je.saveOrdersArray(r.encounter_id,l))return Xe("Unable to save lab orders")}}}const Ji=(e,t,a,s={})=>({drug_id:e,name:t,category:a,...s}),_n=qe("OtherNCDMedicationsStore",{state:()=>({otherNCDMedications:[],selectedOtherNCDMedicationList:[]}),actions:{setSelectedNCDMedicationList(e){this.selectedOtherNCDMedicationList.push(e)},getSelectedNCDMedicationList(){return this.selectedOtherNCDMedicationList},addSearchedDrug(e){const t=Ji(e.drug_id,e.name,"Other",e);if(t.units=e.units,!this.otherNCDMedications.some(s=>s.drug_id===t.drug_id)){this.otherNCDMedications.unshift(t);const s={dosage:{morning:null,afternoon:null,evening:null},duration:null,...t};this.setSelectedNCDMedicationList(s)}},clearOtherNCDMedications(){this.otherNCDMedications=[],this.selectedOtherNCDMedicationList=[]}},persist:!0}),Dt=qe("NCDmedicationsStore",{state:()=>({medications:[],filteredMedications:[],selectedNCDMedicationList:[],frequency_selections:b({}),currentPatientID:""}),actions:{setMedications(e){this.medications=e,this.filteredMedications=e},setFilteredMedications(e){this.filteredMedications=e},initMedications(){},setSelectedNCDMedicationList(e){this.selectedNCDMedicationList.push(e)},getSelectedNCDMedicationList(){return this.selectedNCDMedicationList},clearMedicationDataStores(){this.medications=[],this.filteredMedications=[],this.selectedNCDMedicationList=[],this.frequency_selections=[]},setCurrentPatientID(e){this.currentPatientID=e}},persist:!0});function gr(){try{const e=Dt(),t=_n();e.medications=[...t.otherNCDMedications,...e.medications],e.medications=e.medications.reduce((a,s)=>(a.some(o=>o.drug_id===s.drug_id)||a.push(s),a),[]),e.selectedNCDMedicationList=[...t.selectedOtherNCDMedicationList,...e.selectedNCDMedicationList],e.filteredMedications=e.medications,St("Medication added successfully")}catch(e){}}const yr={name:"DiabetesMedication",ids:[337,336,280,410,729,263,812,265,264,240,266,726,728,223]},Ks={name:"AntiHypertensivesMedication",ids:[]},br={ids:[274,168,648,289,286,164,287,288,672,257,1233,671]},Dr={ids:[559,1236,1234,558,1235,1211,276,277,278,279]},Sr={ids:[556,653,557,652,943,1238,1240,1237,942,1239,946,1503,944,1504,945,1505]},Cr={ids:[116,85,117,1232,936,1364,937,1365,1366]};async function Ki(e){const t=Dt(),a=e.ids.map(async s=>{try{const o=await ba.getOfflineDrugById(s);if(o){const r=t.medications.findIndex(c=>c.drug_id===o.drug_id),l=Ji(o.drug_id,o.name,e.name,o);r!==-1?t.medications[r]=l:t.medications.push(l)}}catch(o){console.error("Error fetching drug ID ".concat(s,":"),o)}});return t.filteredMedications=t.medications,Promise.all(a)}async function wr(e){try{const t=await ba.getOfflineDrugById(e);return{drug_id:e,dosage:{morning:null,afternoon:null,evening:null},duration:null,...t}}catch(t){ta("Error fetching drug details. Please try again."),console.error("Error fetching drug details:",t)}}function Qs(){return Ki(yr)}function Xs(){return Ks.ids=[...br.ids,...Dr.ids,...Sr.ids,...Cr.ids],Ki(Ks)}function dn(){Dt().clearMedicationDataStores()}function Qi(e){Dt().setCurrentPatientID(e)}function Ir(e){Dt().currentPatientID!=e&&(dn(),Qi(e))}function t0(){return Dt().selectedNCDMedicationList.some(t=>{const{morning:a,afternoon:s,evening:o}=t.dosage,r=typeof a=="string"?Number(a):a,l=typeof s=="string"?Number(s):s,c=typeof o=="string"?Number(o):o;return typeof r=="number"&&r>0||typeof l=="number"&&l>0||typeof c=="number"&&c>0})}class Pr extends It{constructor(t,a){super(t,105,a)}}class Nr extends It{constructor(t,a){super(t,25,a)}static async get_____(t="",a=1,s=10){}}async function a0(e){var t,a,s;try{const o=Ne(),{patient:r}=zt(o),l=JSON.parse(JSON.stringify(r.value));(s=(a=(t=l.allergies)!=null?t:l.allergies={}).unsaved)!=null||(a.unsaved=[]),l.allergies.unsaved.push(...e),await ia(l,!1),St("Allergies saved successfully")}catch(o){Xe("Unable to save Allegies!")}}class n0{async onSubmitNotes(t,a,s){const o=new Pr(t,a);await o.createEncounter(),await o.saveObservationList(s)}async onSubmitAllergies(t,a,s){try{const o=new Nr(t,a);await o.createEncounter(),await o.saveObservationList(s),St("Allergies saved successfully")}catch(o){console.error("Error saving allergies:",o),Xe("Failed to save allergies")}}}class za{constructor(){ut(this,"programID");ut(this,"providerID");ut(this,"patientID");ut(this,"date");ut(this,"demographics");ut(this,"previousDrugPrescriptions",[]);ut(this,"previousClinicalNotes");ut(this,"previousDrugAllergies");const t=Ne();this.demographics=t.patient,this.patientID=this.demographics.patientID,this.date=Ae.getSessionDate(),this.providerID=Ve.getUserID(),this.programID=Ae.getProgramID(),this.previousClinicalNotes={},this.previousDrugAllergies={}}async getPatientEncounters(){const t=await this.getPatientVisitDates(),a=t.map(async o=>{const r=o.value,l=await Ht.getEncounters(this.patientID,{date:r});await Promise.all(l.map(async c=>{var h;if(c.type.name=="NOTES"){const{observations:m}=c;$e.isEmpty(m)||m.forEach(f=>{if(f.concept_id=="2688"){const y=ne.toStandardHisDisplayFormat(f.obs_datetime);$e.isEmpty(this.previousClinicalNotes.hasOwnProperty(y))&&(this.previousClinicalNotes[y]=[]),this.previousClinicalNotes[y].push({date:y,notes:f.value_text})}})}if(c.type.name=="TREATMENT"){const{observations:m}=c;if(!$e.isEmpty(m))for(const f in m){let y="<UNKNOWN CONCEPT>";const D=m[f];try{(h=D==null?void 0:D.concept)!=null&&h.concept_names?y=D.concept.concept_names[0].name:y=await Ge.getConceptName(D.concept_id)}catch(T){console.error(D,T)}const C=await Ae.resolvePrimaryValue(D),E=ne.toStandardHisDisplayFormat(D.date_created);y=="Allergic"&&(this.previousDrugAllergies.hasOwnProperty(E)||(this.previousDrugAllergies[E]=[]),this.previousDrugAllergies[E].push({date:E,value:C}))}}}))});await Promise.all(a);const s=t.map(async o=>{const r=await Oa.getOrderByPatient(this.patientID,{start_date:o.value});if(!$e.isEmpty(r)){const l=r.map(c=>({drugName:c.drug.name,value:ne.toStandardHisTimeFormat(c.order.start_date),dose:c.dose,frequency:$l(c.frequency),prescription:ne.toStandardHisFormat(c.order.auto_expire_date),duration:kr(c.order.instructions),other:c}));this.previousDrugPrescriptions.push({prescriptionDate:ne.toStandardHisDisplayFormat(o.value),previousPrescriptions:l})}});return await Promise.all(s),{previousDrugPrescriptions:this.previousDrugPrescriptions,previousClinicalNotes:this.previousClinicalNotes,previousDrugAllergies:this.previousDrugAllergies}}async getPatientVisitDates(){return(await Me.getPatientVisits(this.patientID,!1)).map(t=>({label:ne.toStandardHisDisplayFormat(t),value:t,other:{isActive:t===xo.getSessionDate()}}))}}function kr(e){const t=/(\d+)\s+days/i,a=e.match(t);return a&&a.length>1?parseInt(a[1]):null}async function Br(){const e=Ne(),{patient:t}=zt(e),a=t.value,s=[8809,903,6410,6409],r=(await Gt("diagnosis",{likeClause:"",currentPage:1,itemsPerPage:2e3}).then(y=>y.records)).filter(y=>s.includes(y.concept_id)),l=a.diagnosis.saved.map(y=>y.value_coded),c=a.diagnosis.unsaved.map(y=>y.value_coded),h=[...l,...c];return r.filter(y=>h.includes(y.concept_id)).map(y=>y.name)}const $r=B({name:"Home",components:{IonContent:z,IonHeader:q,IonMenuButton:$i,IonPage:na,IonTitle:j,IonToolbar:W,IonRow:Re,IonCol:ye,IonChip:vo,IonLabel:J,IonIcon:rt},computed:{...w(Ne,["patient"])},data(){const e=b([]),t=b([]),a=async()=>{try{const r=this.patient;Qi(r.ID);const l=b(!1),c=f=>{l.value=f};e.value=await Br();const h=e.value.some(f=>f.toLowerCase().includes("hypertension")),m=e.value.some(f=>f.toLowerCase().includes("diabetes"));h&&(c(!0),Xs()),m&&(c(!0),Qs()),l.value==!1}catch(r){}},s=async()=>{const r=t.value.some(c=>c.toLowerCase().includes("hypertension")),l=t.value.some(c=>c.toLowerCase().includes("diabetes"));r&&await Xs(),l&&await Qs()};return{diagnoses:e,selectedDiagnoses:t,medkitOutline:go,initC:a,toggleDiagnosisSelection:r=>{const l=t.value.indexOf(r);l===-1?(t.value.push(r),dn(),s()):(t.value.splice(l,1),dn(),s()),t.value.length===0&&(dn(),a())}}},async mounted(){this.initC()},watch:{patient:{handler(){Ir(this.patient.ID),this.initC()},deep:!0}}}),Mr={key:0,class:"diagnosis-container"},Ar={class:"heading"},Er={class:"diagnosis-list"};function Vr(e,t,a,s,o,r){const l=d("ion-icon"),c=d("ion-label"),h=d("ion-chip"),m=d("ion-col"),f=d("ion-row");return e.diagnoses.length>0?(p(),v("div",Mr,[_("div",Ar,[n(l,{icon:e.medkitOutline,class:"diagnosis-icon"},null,8,["icon"]),t[0]||(t[0]=_("h2",null,"Diagnosis",-1))]),n(f,null,{default:i(()=>[n(m,null,{default:i(()=>[_("div",Er,[(p(!0),v(te,null,he(e.diagnoses,(y,D)=>(p(),A(h,{key:D,class:ht({"diagnosis-chip-selected":e.selectedDiagnoses.includes(y)}),onClick:C=>e.toggleDiagnosisSelection(y)},{default:i(()=>[n(c,null,{default:i(()=>[S(k(y),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])]),_:1})]),_:1})])):$("",!0)}const Or=O($r,[["render",Vr],["__scopeId","data-v-2bd0f8ca"]]),Tr=B({name:"MedicationSearch",components:{IonContent:z,IonPage:na,IonItem:V,IonLabel:J,IonInput:ae,IonIcon:rt,BasicInputField:ee,IonCard:jt},setup(){const e=b(""),t=Dt();return{searchText:e,searchTextUpdated:s=>{const o=s.target;e.value=o.value;const r=t.medications.filter(l=>l.name.toLowerCase().includes(e.value.toLowerCase()));t.setFilteredMedications(r)},searchOutline:yo}}});function Fr(e,t,a,s,o,r){const l=d("BasicInputField"),c=d("ion-card");return p(),v("div",null,[_("div",null,[n(c,null,{default:i(()=>[n(l,{placeholder:"Filter medication list by name",icon:e.searchOutline,inputValue:e.searchText,"onUpdate:inputValue":e.searchTextUpdated,minHeight:50},null,8,["icon","inputValue","onUpdate:inputValue"])]),_:1})])])}const Hr=O(Tr,[["render",Fr]]),Rr=B({name:"medication",components:{IonCard:jt,IonCardHeader:wa,IonButton:it,IonCardTitle:gn,IonCardContent:Ca,IonInput:ae,IonIcon:rt,IonCol:ye,IonRow:Re,IonCheckbox:vn,PreviousNCDDiagnosis:Or,MedicationSearchInput:Hr},computed:{...w(Dt,["medications","filteredMedications"]),...w(_n,["otherNCDMedications"]),activeMedications(){return this.useDefaultStores?this.filteredMedications:this.otherNCDMedications}},props:{useDefaultStores:{type:Boolean,default:!0}},setup(e){const t=Dt();t.initMedications();const a=ze(()=>t.selectedNCDMedicationList),s=_n(),o=ze(()=>s.selectedOtherNCDMedicationList),r=ze(()=>e.useDefaultStores?a.value:o.value),l=b(!1),c=b({});let h=null;const m=()=>{l.value=!1,h&&(clearTimeout(h),h=null)},f=H=>{c.value={...c.value,[H]:!0},l.value=!0,h&&clearTimeout(h),h=window.setTimeout(()=>{l.value=!1,h=null},3e3),window.setTimeout(()=>{const K={...c.value};delete K[H],c.value=K},3e3)},y=H=>/^\d*$/.test(H),D=(H,K,X)=>{let ce=X.target.value;const se="".concat(H,"-").concat(K);if(ce!==""&&!y(ce)){f(se);const de=r.value.find(Ee=>Ee.drug_id===H);ce=(de==null?void 0:de.dosage[K])||"",setTimeout(()=>{const Ee=X.target;Ee&&(Ee.value=ce)},0);return}if(ce!==""){const de=parseInt(ce);isNaN(de)||de<0?ce="0":ce=Math.floor(de).toString()}const Q=r.value.findIndex(de=>de.drug_id===H);if(Q>-1){const de={...r.value[Q]};de.dosage={...de.dosage,[K]:ce},r.value[Q]=de}},C=(H,K)=>{let X=K.target.value;const ce="".concat(H,"-duration");if(X!==""&&!y(X)){f(ce);const Q=r.value.find(de=>de.drug_id===H);X=(Q==null?void 0:Q.duration)||"",setTimeout(()=>{const de=K.target;de&&(de.value=X)},0);return}if(X!==""){const Q=parseInt(X);isNaN(Q)||Q<1?X="1":X=Math.floor(Q).toString()}const se=r.value.findIndex(Q=>Q.drug_id===H);if(se>-1){const Q={...r.value[se]};Q.duration=X,r.value[se]=Q}},E=H=>r.value.some(K=>K.drug_id===H);return{medkit:ns,sunny:Io,partlySunny:wo,moon:Co,timeOutline:So,alertCircleOutline:as,closeCircleOutline:Do,updateDosage:D,updateDuration:C,getDosage:(H,K)=>{const X=r.value.find(ce=>ce.drug_id===H);return(X==null?void 0:X.dosage[K])||""},getDuration:H=>{const K=r.value.find(X=>X.drug_id===H);return(K==null?void 0:K.duration)||""},calculateQuantity:H=>{const K=r.value.find(se=>se.drug_id===H);if(!K||!K.dosage||!K.duration)return"";const X=["morning","afternoon","evening"].reduce((se,Q)=>{const de=parseInt(K.dosage[Q])||0;return se+de},0),ce=parseInt(K.duration)||0;return(X*ce).toString()},isActive:E,toggleMedication:async H=>{try{if(E(H)){const K=r.value.findIndex(X=>X.drug_id===H);K>-1&&r.value.splice(K,1)}else{const K=await wr(H);e.useDefaultStores==!1?s.setSelectedNCDMedicationList(K):t.setSelectedNCDMedicationList(K)}}catch(K){ta("Error toggling medication: "+K)}},cubeOutline:bo,showErrorMessage:l,errorFields:c,hideErrorMessage:m}}}),Lr={key:0},xr={key:0,class:"error-message"},Ur={class:"table-container"},zr={class:"prescription-table"},qr={class:"checkbox-col"},Wr={style:{cursor:"pointer"}},Gr=["onClick"];function jr(e,t,a,s,o,r){const l=d("PreviousNCDDiagnosis"),c=d("ion-col"),h=d("MedicationSearchInput"),m=d("ion-row"),f=d("ion-icon"),y=d("ion-button"),D=d("ion-checkbox"),C=d("ion-input");return p(),v(te,null,[n(m,null,{default:i(()=>[n(c,{size:"5"},{default:i(()=>[e.useDefaultStores?(p(),A(l,{key:0})):$("",!0)]),_:1}),n(c,null,{default:i(()=>[e.useDefaultStores&&e.medications.length>0?(p(),A(h,{key:0,style:{"margin-top":"0px","font-weight":"600","font-size":"16px"}})):$("",!0)]),_:1})]),_:1}),e.activeMedications.length>0?(p(),v("div",Lr,[e.showErrorMessage?(p(),v("div",xr,[n(f,{icon:e.alertCircleOutline,color:"danger"},null,8,["icon"]),t[0]||(t[0]=_("span",{style:{"font-size":"16px","font-weight":"600px",color:"red"}},"Only numbers are allowed",-1)),n(y,{fill:"clear",size:"small",onClick:e.hideErrorMessage},{default:i(()=>[n(f,{icon:e.closeCircleOutline},null,8,["icon"])]),_:1},8,["onClick"])])):$("",!0),_("div",Ur,[_("table",zr,[_("thead",null,[_("tr",null,[t[6]||(t[6]=_("th",{class:"checkbox-col"},"Select",-1)),t[7]||(t[7]=_("th",null,"Medication",-1)),_("th",null,[n(f,{icon:e.partlySunny},null,8,["icon"]),t[1]||(t[1]=S(" Morning"))]),_("th",null,[n(f,{icon:e.sunny},null,8,["icon"]),t[2]||(t[2]=S(" Noon"))]),_("th",null,[n(f,{icon:e.moon},null,8,["icon"]),t[3]||(t[3]=S(" Night"))]),_("th",null,[n(f,{icon:e.timeOutline},null,8,["icon"]),t[4]||(t[4]=S(" Duration"))]),_("th",null,[n(f,{icon:e.cubeOutline},null,8,["icon"]),t[5]||(t[5]=S(" Quantity"))])])]),_("tbody",null,[(p(!0),v(te,null,he(e.activeMedications,E=>(p(),v("tr",{key:E.id,class:ht({"active-row":e.isActive(E.drug_id)})},[_("td",qr,[n(D,{checked:e.isActive(E.drug_id),onIonChange:T=>e.toggleMedication(E.drug_id)},null,8,["checked","onIonChange"])]),_("td",Wr,[_("span",{class:"med-kit-font",onClick:T=>e.toggleMedication(E.drug_id)},k(E.name),9,Gr)]),_("td",null,[n(C,{type:"text",class:ht(["dose-input bordered-input med-kit-font",{"error-input":e.errorFields["".concat(E.drug_id,"-morning")]}]),disabled:!e.isActive(E.drug_id),value:e.getDosage(E.drug_id,"morning"),onIonInput:T=>e.updateDosage(E.drug_id,"morning",T),placeholder:"0",inputmode:"numeric"},null,8,["class","disabled","value","onIonInput"])]),_("td",null,[n(C,{type:"text",class:ht(["dose-input bordered-input med-kit-font",{"error-input":e.errorFields["".concat(E.drug_id,"-afternoon")]}]),disabled:!e.isActive(E.drug_id),value:e.getDosage(E.drug_id,"afternoon"),onIonInput:T=>e.updateDosage(E.drug_id,"afternoon",T),placeholder:"0",inputmode:"numeric"},null,8,["class","disabled","value","onIonInput"])]),_("td",null,[n(C,{type:"text",class:ht(["dose-input bordered-input med-kit-font",{"error-input":e.errorFields["".concat(E.drug_id,"-evening")]}]),disabled:!e.isActive(E.drug_id),value:e.getDosage(E.drug_id,"evening"),onIonInput:T=>e.updateDosage(E.drug_id,"evening",T),placeholder:"0",inputmode:"numeric"},null,8,["class","disabled","value","onIonInput"])]),_("td",null,[n(C,{type:"text",class:ht(["dose-input bordered-input med-kit-font",{"error-input":e.errorFields["".concat(E.drug_id,"-duration")]}]),disabled:!e.isActive(E.drug_id),value:e.getDuration(E.drug_id),onIonInput:T=>e.updateDuration(E.drug_id,T),placeholder:"0",inputmode:"numeric"},null,8,["class","disabled","value","onIonInput"])]),_("td",null,[n(C,{type:"text",class:"dose-input bordered-input med-kit-font",readonly:"",value:e.calculateQuantity(E.drug_id),placeholder:"0"},null,8,["value"])])],2))),128))])])])])):$("",!0)],64)}const Xi=O(Rr,[["render",jr],["__scopeId","data-v-601894a0"]]),Yr=B({name:"DrugSelector",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,VueMultiselect:ea,IonLabel:J,IonCol:ye,IonRow:Re},emits:["drug-selected"],data(){const e=o=>{this.$emit("drug-selected",o)},t=async o=>{const r=gt(),l=o,f=(await ba.getOfflineOPDDrugs({name:l,page:1,page_size:20})).map(y=>({label:y.name,value:y.name,other:y,...y}));r.setPartialOPDdrugList(f)},a=ze(()=>this.partialOPDdrugList);return{selected_drug:b(null),selectedDrugName:e,FindDrugName:t,OPDDrugList:a}},computed:{...w(gt,["partialOPDdrugList"])}});function Jr(e,t,a,s,o,r){const l=d("VueMultiselect"),c=d("ion-col"),h=d("ion-row");return p(),v("div",null,[n(h,null,{default:i(()=>[n(c,null,{default:i(()=>[n(l,{modelValue:e.selected_drug,"onUpdate:modelValue":[t[0]||(t[0]=m=>e.selected_drug=m),e.selectedDrugName],multiple:!1,taggable:!1,"hide-selected":!1,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Select medication",placeholder:"Select medication",selectLabel:"",label:"name",searchable:!0,onSearchChange:e.FindDrugName,"track-by":"uuid",options:e.OPDDrugList},null,8,["modelValue","onUpdate:modelValue","onSearchChange","options"])]),_:1})]),_:1})])}const Kr=O(Yr,[["render",Jr],["__scopeId","data-v-e4d309dd"]]),Qr=B({name:"Home",mixins:[Uo],components:{IonContent:z,IonHeader:q,IonPage:na,IonToolbar:W,IonRow:Re,IonTitle:j,IonIcon:rt,IonFooter:Ha,OPDMedications:Kr,Medication:Xi,IonCol:ye,IonButton:it},data(){const e=_n(),t=()=>{Wt.dismiss()};return{iconsContent:P,dismiss:t,addSearchedDrug:o=>{e.addSearchedDrug(o)},medkit:ns,checkmark:ie,onAdd:()=>{gr(),e.clearOtherNCDMedications(),t()}}},computed:{},$route:{async handler(){},deep:!0},watch:{},async mounted(){},methods:{}}),Xr={class:"medication-list"},Zr={class:"modal_wrapper"},ed={class:""};function td(e,t,a,s,o,r){const l=d("ion-icon"),c=d("ion-title"),h=d("ion-header"),m=d("OPDMedications"),f=d("Medication"),y=d("ion-content"),D=d("ion-button"),C=d("ion-col"),E=d("ion-row"),T=d("ion-footer");return p(),v(te,null,[n(h,{style:{display:"flex","justify-content":"space-between"}},{default:i(()=>[n(c,{class:"modalTitle"},{default:i(()=>[_("div",Xr,[n(l,{icon:e.medkit,class:"ion-margin-end"},null,8,["icon"]),t[1]||(t[1]=_("span",null,"Add Other Medication",-1))])]),_:1}),n(l,{onClick:t[0]||(t[0]=U=>e.dismiss()),style:{"padding-top":"10px","padding-right":"10px"},icon:e.iconsContent.cancel},null,8,["icon"])]),_:1}),n(y,{fullscreen:!0,class:"ion-padding",style:{"--background":"#fff"}},{default:i(()=>[_("div",Zr,[_("div",ed,[n(m,{onDrugSelected:e.addSearchedDrug},null,8,["onDrugSelected"]),n(f,{"use-default-stores":!1})])])]),_:1}),n(T,{collapse:"fade",class:"ion-no-border"},{default:i(()=>[n(E,null,{default:i(()=>[n(C,null,{default:i(()=>[n(D,{onClick:e.onAdd,color:"primary",style:{float:"right","margin-bottom":"20px","margin-right":"20px"}},{default:i(()=>[n(l,{icon:e.checkmark,slot:"start"},null,8,["icon"]),t[2]||(t[2]=S(" Add "))]),_:1,__:[2]},8,["onClick"])]),_:1})]),_:1})]),_:1})],64)}const ad=O(Qr,[["render",td],["__scopeId","data-v-dee50533"]]),nd=B({created(){},components:{IonItem:V,IonCol:ye,IonLabel:J,IonIcon:rt},data(){return{iconsContent:P,localMedicalDrugsList:[...this.$props._selectedMedicalDrugsList]}},props:{_selectedMedicalDrugsList:{type:Array,default:[]},show_actions_buttons:{type:Boolean,default:!0},highLightBackground:{type:String,default:"item-native"}},watch:{},methods:{highlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#006401"),this.highlightActionBtns(e)},undoHighlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#636363"),this.undohighlightActionBtns(e)},highlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="inline-block"},undohighlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="none"},asignLblID(e){return e+"_lbl"},asignSpanLblID(e){return e+"_spanlbl"},async removeItemAtIndex(e,t){await Yt("Do you want to delete it?",t)&&this.$emit("remove-item",e)},editItemAtIndex(e){this.$emit("edit-item",e)},highLightBnd(e){if(e){if(e.highlightbackground!==void 0&&e.highlightbackground==!0)return this.$props.highLightBackground}else return!1}}}),sd=["onMousemove","onMouseout"],id={class:"route-label"};function od(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-col"),h=d("ion-row"),m=d("ion-icon");return p(!0),v(te,null,he(e.localMedicalDrugsList,(f,y)=>(p(),v("div",{id:"df",class:"medication-item",key:y,onMousemove:D=>e.highlightItem(y),onMouseout:D=>e.undoHighlightItem(y)},[n(h,{class:"medication-header"},{default:i(()=>[n(c,{class:ht(["ion-text-wrap",e.highLightBnd(f)])},{default:i(()=>[n(l,{id:e.asignLblID(y),class:"medication-name"},{default:i(()=>[S(k(f.drugName),1)]),_:2},1032,["id"])]),_:2},1032,["class"])]),_:2},1024),n(h,{class:"medication-details"},{default:i(()=>[n(c,{size:"10",class:ht(["ion-text-wrap details-col",e.highLightBnd(f)])},{default:i(()=>[n(l,{class:"details-text"},{default:i(()=>[S(k(f.dose)+" / "+k(f.frequency)+" / daily / "+k(f.duration)+" / until "+k(f.prescription)+" ",1),_("span",id,k(f.route_name),1)]),_:2},1024)]),_:2},1032,["class"]),e.show_actions_buttons?(p(),A(c,{key:0,class:ht([e.highLightBnd(f),"actions-col"]),size:"2"},{default:i(()=>[n(l,{class:ht(["action-button",e.asignSpanLblID(y)]),onClick:D=>e.editItemAtIndex(y)},{default:i(()=>[n(m,{icon:e.iconsContent.edit},null,8,["icon"])]),_:2},1032,["class","onClick"]),n(l,{class:ht(["action-button",e.asignSpanLblID(y)]),onClick:D=>e.removeItemAtIndex(y,D)},{default:i(()=>[n(m,{icon:e.iconsContent.delete},null,8,["icon"])]),_:2},1032,["class","onClick"])]),_:2},1032,["class"])):$("",!0)]),_:2},1024)],40,sd))),128)}const Ea=O(nd,[["render",od],["__scopeId","data-v-01c693a3"]]),ld=B({name:"Home",components:{IonContent:z,IonHeader:q,IonPage:na,IonToolbar:W,Toolbar:Oi,IonRow:Re,IonAccordion:At,IonAccordionGroup:Mt,IonItem:V,IonLabel:J,DynamicList:Ea,IonCard:jt},data(){const e=b(0),t=b("Show more medications"),a=b(!1),s=b();return{componentKey:e,accordionGroupChange:c=>{const h=c.detail.value;h!==void 0?h=="second"&&(t.value="Show less medications",a.value=!a.value):(t.value="Show more medications",a.value=!a.value)},showMoreMedicationsMsg:t,itemWasExpanded:a,accordionGroupChangeFn1:c=>{},PreviuosSelectedMedicalDrugsList:s,loadPreviousMedications:async()=>{const c=new za,{previousDrugPrescriptions:h}=await c.getPatientEncounters();s.value=h}}},computed:{...w(Ne,["patient"]),...w(Dt,["selectedNCDMedicationList"])},$route:{async handler(){},deep:!0},watch:{patient:{handler(){this.loadPreviousMedications()},deep:!0},selectedNCDMedicationList:{handler(){this.loadPreviousMedications()},deep:!0}},async mounted(){this.loadPreviousMedications()}}),rd={style:{}},dd={class:"ion-padding",slot:"content"},cd={key:0},ud={class:"previousSecDrgs"},hd={class:"ion-padding",slot:"content"},pd={key:0},md={class:"previousSecDrgs"};function fd(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("dynamic-list"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("ion-card");return p(),A(y,null,{default:i(()=>[_("div",rd,[n(f,{ref:"accordionGroup",class:"previousView",onIonChange:e.accordionGroupChangeFn1},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Documented medications timeline")])),_:1,__:[0]})]),_:1}),_("div",dd,[(p(!0),v(te,null,he(e.PreviuosSelectedMedicalDrugsList,(D,C)=>(p(),v("div",{class:"ionLbltp",key:C},[C==0?(p(),v("div",cd,[_("div",null,[n(l,{class:"previousLabelDate"},{default:i(()=>[S(k(D.prescriptionDate),1)]),_:2},1024)]),_("div",ud,[(p(),A(h,{_selectedMedicalDrugsList:D.previousPrescriptions,show_actions_buttons:!1,key:e.componentKey},null,8,["_selectedMedicalDrugsList"]))])])):$("",!0)]))),128)),n(f,{onIonChange:e.accordionGroupChange},{default:i(()=>[n(m,{value:"second","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"",color:"primary"},{default:i(()=>[S(k(e.showMoreMedicationsMsg),1)]),_:1})]),_:1}),_("div",hd,[(p(!0),v(te,null,he(e.PreviuosSelectedMedicalDrugsList,(D,C)=>(p(),v("div",{class:"ionLbltp",key:C},[e.itemWasExpanded&&C>0?(p(),v("div",pd,[_("div",null,[n(l,{class:"previousLabelDate"},{default:i(()=>[S(k(D.prescriptionDate),1)]),_:2},1024)]),_("div",md,[(p(),A(h,{_selectedMedicalDrugsList:D.previousPrescriptions,show_actions_buttons:!1,key:e.componentKey},null,8,["_selectedMedicalDrugsList"]))])])):$("",!0)]))),128))])]),_:1})]),_:1},8,["onIonChange"])])]),_:1})]),_:1},8,["onIonChange"])])]),_:1})}const _d=O(ld,[["render",fd],["__scopeId","data-v-1db96250"]]),vd=B({name:"PrescriptionTable",components:{IonCard:jt,IonCardHeader:wa,IonButton:it,IonCardTitle:gn,IonCardContent:Ca,IonInput:ae,IonIcon:rt,IonCol:ye,IonRow:Re,IonCheckbox:vn,Medication:Xi,MedicationHistory:_d},setup(){return{openAddOtherOPDMedicationModal:async()=>{await Ct(ad,{class:"large-modal"},!0,{})},medkit:ns}}});function gd(e,t,a,s,o,r){const l=d("Medication"),c=d("ion-icon"),h=d("ion-button"),m=d("ion-col"),f=d("ion-row"),y=d("MedicationHistory"),D=d("IonCol"),C=d("ion-card-content"),E=d("ion-card");return p(),A(E,null,{default:i(()=>[n(C,null,{default:i(()=>[n(l),n(f,null,{default:i(()=>[n(m,null,{default:i(()=>[n(h,{onClick:e.openAddOtherOPDMedicationModal,color:"primary",style:{float:"right"}},{default:i(()=>[n(c,{icon:e.medkit,slot:"start"},null,8,["icon"]),t[0]||(t[0]=_("span",{style:{"margin-left":"10px","font-size":"16px","font-weight":"600"}}," ADD Other Medication",-1))]),_:1,__:[0]},8,["onClick"])]),_:1})]),_:1}),n(f,null,{default:i(()=>[n(D,null,{default:i(()=>[n(y)]),_:1})]),_:1})]),_:1})]),_:1})}const yd=O(vd,[["render",gd],["__scopeId","data-v-a4ad7088"]]),bd={key:0,class:"custom-allergy-container"},Dd=B({watch:{},name:"AllergiesComponent"}),Sd=B({...Dd,setup(e){const t=Ra(),a=Ne(),s=ze(()=>t.selectedMedicalAllergiesList),o=ze(()=>a.patient),r=ze(()=>t.medicalAllergiesList),l=b(T(8,"item-")),c=b(),h=b(!1),m=[{multi_Selection:!0,show_list_label:!0,unqueId:l.value,name_of_list:"Add/Remove allergies",placeHolder:"Search for an allergy",items:[],listUpdatedFN:D,listFilteredFN:()=>{},searchTextFN:C,use_internal_filter:!0,show_error:b(!1),error_message:"please select a User",disabled:b(!1)}],f=b(!1);dt(async()=>{y()});const y=()=>{t.current_patient.ID!=o.value.ID&&(t.clearSelectedMedicalAllergiesList(),t.setCurrentPatient(o.value))};function D(R){R.forEach(M=>{M.selected==!0&&M.name==="Other"&&(h.value=M.name==="Other")}),t.setSelectedMedicalAllergiesList(R),E()}async function C(R){const M=R,H=await Ge.getConceptSet("OPD Medication",M);H.map(se=>({label:se.name,value:se.name,other:se}));const K=zo(M),ce=qo(K,H).sort((se,Q)=>se.name.localeCompare(Q.name));t.setMedicalAllergiesList(ce),E()}function E(){const R=r.value;s.value.forEach(H=>{let K=!1;R.forEach((X,ce)=>{X.concept_id==H.concept_id&&H.selected===!0&&(R[ce]=H,K=!0)}),!K&&H.selected===!0&&R.push(H)});const M=R.filter((H,K,X)=>K===X.findIndex(ce=>ce.concept_id===H.concept_id));t.setMedicalAllergiesList(M)}function T(R=8,M=""){const H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let K=M;for(let X=0;X<R;X++)K+=H.charAt(Math.floor(Math.random()*H.length));return K+="-".concat(Date.now()),K}async function U(R){try{const M=R.trim();if(M){const H={name:M,selected:!0};t.setMedicalAllergiesList([...r.value,H]),t.setSelectedMedicalAllergiesList(H),h.value=!1,f.value=!0,c.value="";const K=t.findSelectedAllergyByName("Other");t.removeSelectedAllergy(K)}}catch(M){console.error(M)}}return(R,M)=>(p(),A(g(jt),null,{default:i(()=>[n(g(wa),null,{default:i(()=>[n(g(J),{class:"header-container"},{default:i(()=>[n(g(rt),{icon:g(as),class:"allergy-icon"},null,8,["icon"]),M[2]||(M[2]=_("span",{style:{"font-size":"16px","font-weight":"600"}}," Allergies (Medication, Healthcare items, Environment and Food) ",-1))]),_:1,__:[2]})]),_:1}),n(g(Ca),null,{default:i(()=>[n(Ti,{multiSelection:m[0].multi_Selection,show_label:m[0].show_list_label,uniqueId:m[0].unqueId,name_of_list:m[0].name_of_list,choose_place_holder:m[0].placeHolder,"items_-list":r.value,use_internal_filter:m[0].use_internal_filter,disabled:m[0].disabled.value,onItemListUpDated:m[0].listUpdatedFN,onItemListFiltered:m[0].listFilteredFN,onItemSearchText:m[0].searchTextFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered","onItemSearchText"]),h.value?(p(),v("div",bd,[n(g(ae),{modelValue:c.value,"onUpdate:modelValue":M[0]||(M[0]=H=>c.value=H),placeholder:"Please specify the allergy",fill:"outline",class:"custom-input"},null,8,["modelValue"]),n(g(it),{onClick:M[1]||(M[1]=H=>U(c.value)),class:"addCustomAllergyBtn"},{default:i(()=>M[3]||(M[3]=[S(" Add Allergy ")])),_:1,__:[3]})])):$("",!0)]),_:1})]),_:1}))}}),Zi=O(Sd,[["__scopeId","data-v-8aa98f55"]]),Cd=qe("nonPharmaTherapyStore",{state:()=>({items:[{id:"wound-dressing",label:"Wound dressing",checked:!1},{id:"patient-education",label:"Patient education",checked:!1},{id:"counseling",label:"Counseling",checked:!1},{id:"minor-surgery",label:"Minor Surgery",checked:!1}],current_patient:{}}),actions:{async saveNonPharmaTherapyPatientData(){const e=Wo(),t=[];this.items.forEach(a=>{a.checked==!0&&t.push({concept_id:11023,value_coded:2592,value_text:JSON.stringify(a),obs_datetime:ne.toStandardHisFormat(Ve.getSessionDate()),location_id:e.facilityLocation.code})});try{t.length>0&&wd(t)}catch(a){Xe("Unable to update Non Pharma Therapy!")}this.clearSelectednonPharmaTherapyStore()},clearSelectednonPharmaTherapyStore(){this.items.forEach(e=>{e.checked=!1})},setCurrentPatient(e){this.current_patient=e}},persist:!0});async function wd(e){var t,a,s;try{const o=Ne(),{patient:r}=zt(o),l=JSON.parse(JSON.stringify(r.value));(s=(a=(t=l.notes)!=null?t:l.notes={}).unsaved)!=null||(a.unsaved=[]),l.notes.unsaved.push(...e),await ia(l,!1),St("Non Pharma Therapy has been saved")}catch(o){Xe("Unable to create non pharmalogical notes!")}}const Id={class:"checklist-container"},Pd=B({watch:{},name:"xxxComponent"}),Nd=B({...Pd,setup(e){const t=Ne(),a=ze(()=>t.patient),s=Cd(),o=s.items;dt(async()=>{r()});const r=()=>{s.current_patient.ID!=a.value.ID&&(s.clearSelectednonPharmaTherapyStore(),s.setCurrentPatient(a.value))};return Je(()=>a.value,async l=>{}),(l,c)=>(p(),v("div",Id,[(p(!0),v(te,null,he(g(o),h=>(p(),A(g(V),{key:h.id,class:"no-border"},{default:i(()=>[n(g(vn),{id:h.id,modelValue:h.checked,"onUpdate:modelValue":m=>h.checked=m,slot:"start"},null,8,["id","modelValue","onUpdate:modelValue"]),n(g(J),{style:{"font-size":"16px","font-weight":"600"}},{default:i(()=>[S(k(h.label),1)]),_:2},1024)]),_:2},1024))),128))]))}}),eo=O(Nd,[["__scopeId","data-v-371e920f"]]),kd={style:{"margin-top":"14px","margin-left":"10px"}},Bd={class:"ion-padding",slot:"content"},$d={key:0},Md={class:"previousSecDrgs"},Ad={class:"ion-padding",slot:"content"},Ed={class:"previousSecDrgs"},Vd=B({watch:{},name:"xxxComponent"}),Od=B({...Vd,setup(e){const t=b(),a=b(),s=b(!1),o=b(!1),r=b("Show more notes");dt(async()=>{const h=new za,{previousClinicalNotes:m}=await h.getPatientEncounters();t.value=Object.entries(m)[0];const[,...f]=Object.entries(m);a.value=f});function l(h){const m=h.detail.value;m!==void 0?m=="third"&&(r.value="Show less notes",o.value=!s.value):(r.value="Show more notes",o.value=!s.value)}function c(h){return h[1]}return(h,m)=>(p(),A(g(jt),null,{default:i(()=>[_("div",kd,[n(g(Mt),{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(g(At),{value:"fourth","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(V),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"previousLabel"},{default:i(()=>m[0]||(m[0]=[S("Previous visits notes")])),_:1,__:[0]})]),_:1}),_("div",Bd,[(p(!0),v(te,null,he(t.value,(f,y)=>(p(),v("div",{class:"ionLbltp",key:y},[y==1?(p(),v("div",$d,[(p(!0),v(te,null,he(f,(D,C)=>(p(),v("div",{key:C},[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(D.date),1)]),_:2},1024)]),_("div",Md,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(D.notes),1)]),_:2},1024)]),_:2},1024)])]))),128))])):$("",!0)]))),128)),n(g(Mt),{onIonChange:l},{default:i(()=>[n(g(At),{value:"third","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(V),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"",color:"primary"},{default:i(()=>[S(k(r.value),1)]),_:1})]),_:1}),_("div",Ad,[(p(!0),v(te,null,he(a.value,(f,y)=>(p(),v("div",{class:"ionLbltp",key:y},[(p(!0),v(te,null,he(c(f),(D,C)=>(p(),v("div",{key:C},[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(D.date),1)]),_:2},1024)]),_("div",Ed,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(D.notes),1)]),_:2},1024)]),_:2},1024)])]))),128))]))),128))])]),_:1})]),_:1})])]),_:1})]),_:1},512)])]),_:1}))}}),Td=O(Od,[["__scopeId","data-v-994df42d"]]),Fd={style:{"margin-top":"14px","margin-left":"10px"}},Hd=B({watch:{},name:"xxxComponent"}),Rd=B({...Hd,setup(e){const t=gt(),a=P,s=ze(()=>t.nonPharmalogicalTherapyAndOtherNotes);function o(l){let c=l.target.value;r(c)}function r(l){gt().setNonPharmalogicalTherapyAndOtherNotes(l)}return(l,c)=>(p(),A(g(jt),null,{default:i(()=>[n(g(wa),null,{default:i(()=>[n(g(J),{class:"tpStndCls"},{default:i(()=>[n(g(rt),{icon:g(Mi),class:"header-icon","aria-hidden":"true"},null,8,["icon"]),c[1]||(c[1]=S(" Non-pharmalogical therapy and other notes "))]),_:1,__:[1]})]),_:1}),n(g(Ca),null,{default:i(()=>[_("div",null,[n(eo),n(g(V),{class:"input_item",style:{"min-height":"120px","margin-top":"14px"}},{default:i(()=>[n(g(J),null,{default:i(()=>[n(g(rt),{slot:"start",icon:g(a).editPen,"aria-hidden":"true"},null,8,["icon"])]),_:1}),n(g(yn),{onIonInput:o,modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=h=>s.value=h),style:{"min-height":"120px"},class:"inputTpln","auto-grow":!0,fill:"outline"},null,8,["modelValue"])]),_:1})]),_("div",Fd,[n(Td)])]),_:1})]),_:1}))}}),Ld=O(Rd,[["__scopeId","data-v-fd19ec21"]]),xd={class:"ion-padding",slot:"content"},Ud={key:0},zd={class:"previousSecDrgs"},qd={class:"ion-padding",slot:"content"},Wd={class:"previousSecDrgs"},Gd=B({watch:{},name:"xxxComponent"}),jd=B({...Gd,setup(e){const t=b(!1),a=b(!1),s=b("Show more allergies"),o=b(),r=b();dt(async()=>{const h=new za,{previousDrugAllergies:m}=await h.getPatientEncounters();o.value=Object.entries(m)[0];const[,...f]=Object.entries(m);r.value=f});function l(h){const m=h.detail.value;m!==void 0?m=="fith"&&(s.value="Show less allegies",a.value=!t.value):(s.value="Show more allegies",a.value=!t.value)}function c(h){return h[1]}return(h,m)=>{const f=d("ion-card");return p(),A(f,null,{default:i(()=>[n(g(Mt),{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(g(At),{value:"fourth","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(V),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"previousLabel"},{default:i(()=>m[0]||(m[0]=[S("Documented allergies timeline")])),_:1,__:[0]})]),_:1}),_("div",xd,[(p(!0),v(te,null,he(o.value,(y,D)=>(p(),v("div",{class:"ionLbltp",key:D},[D==1?(p(),v("div",Ud,[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(y[0].date),1)]),_:2},1024)]),(p(!0),v(te,null,he(y,(C,E)=>(p(),v("div",{key:E},[_("div",zd,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(C.value),1)]),_:2},1024)]),_:2},1024)])]))),128))])):$("",!0)]))),128)),n(g(Mt),{onIonChange:l},{default:i(()=>[n(g(At),{value:"fith","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(V),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"",color:"primary"},{default:i(()=>[S(k(s.value),1)]),_:1})]),_:1}),_("div",qd,[(p(!0),v(te,null,he(r.value,(y,D)=>(p(),v("div",{class:"ionLbltp",key:D},[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(y[0]),1)]),_:2},1024)]),(p(!0),v(te,null,he(c(y),(C,E)=>(p(),v("div",{key:E},[_("div",Wd,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(C.value),1)]),_:2},1024)]),_:2},1024)])]))),128))]))),128))])]),_:1})]),_:1})])]),_:1})]),_:1},512)]),_:1})}}}),Yd=O(jd,[["__scopeId","data-v-358c5959"]]),Jd={class:"background"},Kd={key:0},Qd={style:{margin:"10px"}},Xd={key:1},Zd={style:{margin:"10px"}},ec={key:2},tc={style:{margin:"10px"}},ac=B({__name:"TreatmentPlan",setup(e){const t=b(["medications","allergies","other_notes"]),a=b(t.value[0]);dt(()=>{s(t.value[0])});function s(o){a.value=o}return(o,r)=>(p(),v("div",Jd,[n(g(Po),{value:a.value,style:{"margin-top":"5px"}},{default:i(()=>[n(g(Fn),{value:"medications",onClick:r[0]||(r[0]=l=>s(t.value[0]))},{default:i(()=>[n(g(J),null,{default:i(()=>r[3]||(r[3]=[S("Medications")])),_:1,__:[3]})]),_:1}),n(g(Fn),{value:"allergies",onClick:r[1]||(r[1]=l=>s(t.value[1]))},{default:i(()=>[n(g(J),null,{default:i(()=>r[4]||(r[4]=[S("Allergies")])),_:1,__:[4]})]),_:1}),n(g(Fn),{value:"other_notes",onClick:r[2]||(r[2]=l=>s(t.value[2]))},{default:i(()=>[n(g(J),null,{default:i(()=>r[5]||(r[5]=[S("Non-pharmalogical therapy and other notes")])),_:1,__:[5]})]),_:1})]),_:1},8,["value"]),a.value===t.value[0]?(p(),v("div",Kd,[_("div",Qd,[n(yd)])])):$("",!0),a.value===t.value[1]?(p(),v("div",Xd,[_("div",Zd,[n(Zi),n(Yd,{style:{"margin-top":"10px"}})])])):$("",!0),a.value===t.value[2]?(p(),v("div",ec,[_("div",tc,[n(Ld)])])):$("",!0)]))}}),nc=O(ac,[["__scopeId","data-v-d844be41"]]);async function s0(){var e,t,a;try{const s=Ne(),{patient:o}=zt(s),r=ic(),l=JSON.parse(JSON.stringify(o.value));if(r.length>0){(a=(t=(e=l.MedicationOrder)!=null?e:l.MedicationOrder={}).unsaved)!=null||(t.unsaved=[]);const c=l.MedicationOrder.unsaved.findIndex(m=>m.NCD_Drug_Orders);if(c>=0)l.MedicationOrder.unsaved[c].NCD_Drug_Orders=[...l.MedicationOrder.unsaved[c].NCD_Drug_Orders,...r];else{const m={NCD_Drug_Orders:r};l.MedicationOrder.unsaved.push(m)}await ia(l,!1),Dt().clearMedicationDataStores(),St("Drug order(s) has been created")}else Xe("Unable to create drug orders!")}catch(s){Xe("Unable to create drug orders!")}}function Zs(){try{const e=new Date(Ve.getSessionDate()),a=gt().selectedMedicalDrugsList;let s=0;if(a.forEach(m=>{const f=parseInt(m.duration,10);!isNaN(f)&&f>s&&(s=f)}),s<=0)return{date:null,formattedDate:null};const o=new Date(e);o.setDate(e.getDate()+s);const r=String(o.getDate()).padStart(2,"0"),l=String(o.getMonth()+1).padStart(2,"0"),c=o.getFullYear(),h="".concat(r,"/").concat(l,"/").concat(c);return{date:o,formattedDate:h}}catch(e){return console.error("Error calculating OPD medication run out date:",e),{date:null,formattedDate:null}}}function sc(){try{const e=new Date(Ve.getSessionDate()),a=Dt().selectedNCDMedicationList;let s=0;if(a.forEach(m=>{const f=parseInt(m.duration,10);!isNaN(f)&&f>s&&(s=f)}),s<=0)return{date:null,formattedDate:null};const o=new Date(e);o.setDate(e.getDate()+s);const r=String(o.getDate()).padStart(2,"0"),l=String(o.getMonth()+1).padStart(2,"0"),c=o.getFullYear(),h="".concat(r,"/").concat(l,"/").concat(c);return{date:o,formattedDate:h}}catch(e){return console.error("Error calculating medication run out date:",e),{date:null,formattedDate:null}}}const ic=()=>{const e=Dt();return e.selectedNCDMedicationList.map(t=>{t.frequency=e.frequency_selections[t.drug_id]||"",t.totalDosage=Object.values(t.dosage).reduce((o,r)=>o+Number(r),0);const a=qi.getSessionDate(),s=rc(t.drug_id);return{drug_inventory_id:t.drug_id,equivalent_daily_dose:t.totalDosage=="Unknown"?0:t.totalDosage*(s==null?void 0:s.value)||0,start_date:a,auto_expire_date:to(a,t.duration),units:t.units,instructions:"".concat(t.name," ").concat(t.totalDosage," ").concat(t.units," ").concat((s==null?void 0:s.code)||""," for ").concat(t.duration," days"),dose:oc(t),frequency:(s==null?void 0:s.code)||""}})},oc=e=>e.dose_strength!=null&&e.dose_strength?Math.trunc(e.dose_strength):1;async function i0(){var e,t,a;try{const s=Ne(),{patient:o}=zt(s),r=lc(),l=JSON.parse(JSON.stringify(o.value));if(r.length>0){(a=(t=(e=l.MedicationOrder)!=null?e:l.MedicationOrder={}).unsaved)!=null||(t.unsaved=[]);const c=l.MedicationOrder.unsaved.findIndex(m=>m.NCD_Drug_Orders);if(c>=0)l.MedicationOrder.unsaved[c].NCD_Drug_Orders=[...l.MedicationOrder.unsaved[c].NCD_Drug_Orders,...r];else{const m={NCD_Drug_Orders:r};l.MedicationOrder.unsaved.push(m)}await ia(l,!1),gt().clearSelectedMedicalDrugsList(),St("Drug order(s) has been created")}else Xe("Unable to create drug orders!")}catch(s){Xe("Unable to create drug orders!")}}const lc=()=>gt().selectedMedicalDrugsList.map(t=>{const a=qi.getSessionDate(),s=xt.find(o=>o.label===t.frequency)||{};return{drug_inventory_id:t.drug_id,equivalent_daily_dose:t.dose=="Unknown"?0:t.dose*(s==null?void 0:s.value)||0,start_date:a,auto_expire_date:to(a,t.duration),units:t.units,instructions:"".concat(t.drugName,": ").concat(t.dose," ").concat(t.units," ").concat((s==null?void 0:s.code)||""," for ").concat(t.duration," days"),dose:t.dose,frequency:(s==null?void 0:s.code)||""}}),rc=e=>{const a=Dt().selectedNCDMedicationList.find(o=>o.drug_id===e);if(!a||!a.dosage)return null;switch(["morning","afternoon","evening"].reduce((o,r)=>o+(a.dosage[r]?1:0),0)){case 1:return a.dosage.morning?xt.find(o=>o.code==="QAM"):a.dosage.afternoon?xt.find(o=>o.code==="QNOON"):a.dosage.evening?xt.find(o=>o.code==="QPM"):xt.find(o=>o.code==="OD");case 2:return xt.find(o=>o.code==="BD");case 3:return xt.find(o=>o.code==="TDS");default:return xt.find(o=>o.code==="Unknown")}},to=(e,t)=>{const a=new Date(e);return a.setDate(a.getDate()+parseInt(t)),ne.toStandardHisFormat(a)},dc=B({components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicInputField:ee,IonDatetime:ss,IonBadge:No,DateInputField:Go,DynamicButton:Be},setup(){const e=qn(),t=b(0),a=ze(()=>e.getDisabledDates()),s=ze(()=>e.getAssignedAppointments()),o=b();return{disabledDates:a,datesCounts:s,appointment_count:t,calendarOutline:ko,inputPRDate:o}},data(){return Lt(),hn(),{iconsContent:P,date:new Date(Ve.getSessionDate()),tomorrow:new Date(Ve.getSessionDate()).getDate()+1,appointment:"",drugRunoutDate:"",nextAppointmentDate:"",minDate:new Date(Ve.getSessionDate())}},computed:{...w(Lt,["nextAppointment","appointmentCountsCache","currentSelectedNextAppointmentDate"]),...w(qn,["maximumNumberOfDaysForEachDay","assignedAppointmentsDates"]),...w(Ne,["patient"]),...w(hn,["activeProgram"]),calendarDate(){const e=Lt();return e.currentSelectedNextAppointmentDate?ne.toStandardHisDisplayFormat(e.currentSelectedNextAppointmentDate):""},runOutDate(){var e;return((e=this.activeProgram)==null?void 0:e.program_id)===14?Zs():sc()}},watch:{calendarDate:{handler(){this.updateNextAppointment()},deep:!0},"$service.sessionDate":{handler(){this.updateMinDate()},immediate:!0},"patient.ID":{async handler(e,t){e!==t&&(this.cleanCurrentNextAppointmentDate(),this.checkIfSamePatientInContext())}}},async mounted(){this.checkIfSamePatientInContext(),await this.getAppointmentMents(this.runOutDate.date),await Jo().loadGlobalProperty(),this.validateAppointmentCountsCache(),await this.preloadAppointmentCounts(),Al();const e=Ve.getUserID(),t=new Me;this.appointment=new Ma(t.getID(),e),this.nextAppointmentDate=this.appointment.date,this.supposedRunOutDate(),window.addEventListener("storage",this.handleStorageChange),Zs()},beforeUnmount(){window.removeEventListener("storage",this.handleStorageChange)},methods:{handleStorageChange(e){e.key==="sessionDate"&&this.updateMinDate()},updateMinDate(){this.date=new Date(Ve.getSessionDate()),this.minDate=new Date(Ve.getSessionDate())},updateNextAppointment(){Lt().setNextAppointment(this.calendarDate)},async handleDateUpdate(e){e&&(qn().setsssignedAppointmentsDates(e,!0),this.calendarDate=ne.toStandardHisDisplayFormat(e),await this.save(),await this.getAppointmentMents(e),await this.updateAppointmentCache(e),Lt().setCurrentSelectedNextAppointmentDate(e,this.patient.ID))},async getAppointmentMents(e){if(Yo().apiStatus)try{const a=await Ma.getDailiyAppointments(ne.toStandardHisFormat(e),ne.toStandardHisFormat(e));this.appointment_count=a.length}catch(a){}},getCounter(e){const t=ne.toStandardHisFormat(e);return this.appointmentCountsCache[t]||""},async save(){if(this.assignedAppointmentsDates.length>0)try{const t=await new Pl().createOfflineAppointment()}catch(e){}},async openCornfirmModal(e){this.calendarDate=ne.toStandardHisDisplayFormat(e),await this.getAppointmentMents(e),Ct(jo,{class:"otherVitalsModal"},!0,{message:"Are you sure you want to add this Appointment?"},{cancel:o=>{},confirm:async o=>{o.detail==!0&&await this.handleDateUpdate(e)}})},async handleInput(e){this.inputPRDate=ne.toStandardHisDisplayFormat(e),await this.openCornfirmModal(e)},async supposedRunOutDate(){await Oa.getLastDrugsReceived(this.patient.patientID)},async preloadAppointmentCounts(){try{const e=new Date(Ve.getSessionDate());e.setDate(1);const t=new Date(Ve.getSessionDate());t.setMonth(t.getMonth()+2),t.setDate(0);const a=this.generateDateRange(e,t);for(const s of a)try{const o=await Ma.getDailiyAppointments(ne.toStandardHisFormat(s),ne.toStandardHisFormat(s)),r=ne.toStandardHisFormat(s);this.appointmentCountsCache[r]=o.length}catch(o){console.error("Error fetching appointments for ".concat(s,":"),o);const r=ne.toStandardHisFormat(s);this.appointmentCountsCache[r]=0}}catch(e){console.error("Error in preload process:",e)}},generateDateRange(e,t){const a=[],s=new Date(e);for(;s<=t;)a.push(new Date(s)),s.setDate(s.getDate()+1);return a},async updateAppointmentCache(e){try{const t=ne.toStandardHisFormat(e),a=await Ma.getDailiyAppointments(ne.toStandardHisFormat(e),ne.toStandardHisFormat(e));this.appointmentCountsCache[t]=a.length}catch(t){console.error("Error updating appointment cache:",t)}},validateAppointmentCountsCache(){Lt().checkCurrentLocationIfInContext()},isRunOutDate(e){return!this.runOutDate||!this.runOutDate.date?!1:ne.toStandardHisFormat(e)===ne.toStandardHisFormat(this.runOutDate.date)},cleanCurrentNextAppointmentDate(){Lt().cleanCurrentSelectedNextAppointmentDate()},checkIfSamePatientInContext(){const e=Lt();e.current_patient.ID!=this.patient.ID&&(this.cleanCurrentNextAppointmentDate(),e.setCurrentPatient(this.patient))}}}),cc={class:"card_content"},uc={class:"count-badge"},hc={class:"dates_title"},pc={class:"sub_data"},mc={class:"dates_title"},fc={class:"sub_data"},_c={class:"dates_title"},vc={class:"sub_data"},gc={class:"dates_title"},yc={class:"sub_data"};function bc(e,t,a,s,o,r){const l=d("VueDatePicker"),c=d("ion-col"),h=d("DynamicButton"),m=d("ion-item"),f=d("ion-row"),y=d("DateInputField");return p(),v("div",cc,[n(f,null,{default:i(()=>[n(c,{"size-sm":"12","size-md":"12","size-lg":"12","size-xl":"8"},{default:i(()=>[n(l,{class:"calender",onDateUpdate:e.openCornfirmModal,inline:"","auto-apply":"","enable-time-picker":!1,"disabled-dates":e.disabledDates,"min-date":e.minDate,modelValue:e.runOutDate.date,"onUpdate:modelValue":t[0]||(t[0]=D=>e.runOutDate.date=D)},{day:i(({day:D,date:C})=>[(p(),v("p",{key:0,class:ht({"run-out-date":e.isRunOutDate(C)}),style:{"font-weight":"600","font-size":"20px"}},[_("span",null,[S(k(D),1),_("sup",uc,k(e.getCounter(C)),1)])],2))]),_:1},8,["onDateUpdate","disabled-dates","min-date","modelValue"])]),_:1}),n(c,null,{default:i(()=>[n(m,null,{default:i(()=>[_("div",hc,[t[3]||(t[3]=_("div",null,[S("Suggested Next Appointment Date "),_("span",{style:{"font-size":"16px"}},"(Medication run out date)")],-1)),_("div",pc,[S(k(e.runOutDate.formattedDate||"No run out date available")+" ",1),e.runOutDate.formattedDate?(p(),A(h,{key:0,onClick:t[1]||(t[1]=D=>e.handleDateUpdate(e.runOutDate.date)),name:"Set Next Appt.",fill:"solid",iconSlot:"icon-only",style:{float:"right"}})):$("",!0)])])]),_:1}),n(m,null,{default:i(()=>[_("div",mc,[t[4]||(t[4]=_("div",null,"User set appointment date",-1)),_("div",fc,k(e.calendarDate),1)])]),_:1}),n(m,null,{default:i(()=>[_("div",_c,[t[5]||(t[5]=_("div",null,"Appointments",-1)),_("div",vc,k(e.appointment_count),1)])]),_:1}),n(m,null,{default:i(()=>[_("div",gc,[t[6]||(t[6]=_("div",null,"Appointment limit (per/day)",-1)),_("div",yc,k(e.appointment_count)+"/"+k(e.maximumNumberOfDaysForEachDay),1)])]),_:1})]),_:1})]),_:1}),n(f,null,{default:i(()=>[n(c,{size:"4"},{default:i(()=>[n(y,{inputHeader:"Preferred Next Appointment Date",bold:"600",fontSize:"17px",placeholderFontSize:"17px",placeholderFontWeight:"600",unit:"",icon:e.calendarOutline,placeholder:"press to select date",iconRight:"",inputWidth:"100%",inputValue:e.inputPRDate,eventType:"",minDate:e.minDate,maxDate:"",disabled:!1,"onUpdate:rawDateValue":t[2]||(t[2]=D=>e.handleInput(D))},null,8,["icon","inputValue","minDate"])]),_:1})]),_:1})])}const Dc=O(dc,[["render",bc],["__scopeId","data-v-b92d422a"]]);class Sc extends It{constructor(a,s){super(a,54,s);ut(this,"drugHistory");ut(this,"currentDrugOrder");this.drugHistory=[],this.currentDrugOrder=[]}getDrugHistory(){return this.drugHistory}getCurrentOrder(){return this.currentDrugOrder}buildDispensations(a,s){return[{drug_order_id:a,date:this.date,quantity:s}]}saveDispensations(a){return It.postJson("/dispensations",{dispensations:a,program_id:It.getProgramID()})}async voidOrder(a){return It.void("/dispensations/".concat(a),{})}async loadDrugHistory(){const a=await Oa.getDrugOrderHistory(this.patientID);a&&(this.drugHistory=a)}async loadCurrentDrugOrder(){const a=await Oa.getDrugOrders(this.patientID);a&&(this.currentDrugOrder=await Promise.all(a))}calcCompletePack(a,s){const o=a.barcodes.sort(function(c,h){return c.tabs-h.tabs});if(o.length==0||s==0)return s;for(let c=0;c<=o.length-1;c++)if(parseInt(o[c].tabs)>=s)return o[c].tabs;const r=parseInt(o[0].tabs);let l=parseInt(o[o.length-1].tabs);for(;l<s;)l+=r;return l}}const aa=qe("dispensation",{state:()=>({drugPrescriptions:[],dispensedMedication:[],payload:{},saveInitiated:!1,StepperData:[{title:"Dispense Medications",component:"dispensedMedication",value:"1"}]}),actions:{resetStore(){this.drugPrescriptions=[],this.dispensedMedication=[],this.payload={},this.saveInitiated=!1},editDispensations(){this.toggleStepperData()},getStepperData(){return this.StepperData},toggleStepperData(){this.StepperData[0].component=="dispensedMedication"?this.StepperData.splice(0,1,{title:"Dispensation Summary",component:"dispensationSummary",value:"1"}):this.StepperData.splice(0,1,{title:"Dispense Medications",component:"dispensedMedication",value:"1"})},isSaveInitiated(e){this.saveInitiated=e},validateInputs(){if(this.saveInitiated==!1)return!1;let e=!1;return console.log("Validating drugPrescriptions:",this.drugPrescriptions),this.drugPrescriptions.forEach((t,a)=>{t.other||(console.error("Item ".concat(a,": Element.other is undefined.")),t.other={quantity:0},e=!0);const s=Number(t.other.quantity);console.log("Item ".concat(a,": Quantity = ").concat(s,", Reason = ").concat(t.reason,", isSelected = ").concat(t.isSelected)),t.isSelected?s<=0?(t.showValidation=!0,e=!0):t.showValidation=!1:t.reason===""?(t.showValidation=!0,e=!0):t.showValidation=!1}),e},initializeDispensedAmount(){this.drugPrescriptions.forEach(e=>{e.other||(e.other={quantity:0}),e.other.quantity=0})},initializeValidationsBoolean(){this.drugPrescriptions.forEach(e=>{e.showValidation=!1})},initializeReasonParameter(){this.drugPrescriptions.forEach(e=>{e.reason=""})},getValidation(e){return this.drugPrescriptions[e].showValidation},setReason(e,t){this.drugPrescriptions[t].reason=e},setDrugPrescriptions(e){this.drugPrescriptions=e},getDrugPrescriptions(){return this.drugPrescriptions},updateCheckboxBool(e,t){this.drugPrescriptions[t].other||(this.drugPrescriptions[t].other={quantity:0}),this.drugPrescriptions[t].isSelected=e,e||(this.drugPrescriptions[t].other.quantity=0,this.drugPrescriptions[t].reason="")},getCheckedBool(e){return this.drugPrescriptions[e].isSelected},getReason(e){return this.drugPrescriptions[e].reason},getDispensedMedications(){return this.dispensedMedication},addQuantity(e,t){this.drugPrescriptions[t].other||(this.drugPrescriptions[t].other={quantity:0}),this.drugPrescriptions[t].other.quantity=Number(e)},saveDispensedMedications(){this.dispensedMedication=this.drugPrescriptions},setDispensedMedicationsPayload(){const e={dispensations:[],program_id:14},t=[];this.dispensedMedication.forEach(a=>{const s={drug_order_id:null,quantity:null,date:null};s.drug_order_id=a.other.order_id,s.quantity=a.other.quantity,s.date=a.prescription,t.push(s)}),e.dispensations=t,this.payload=e},getDispensedMedicationsPayload(){return this.payload}}}),Cc={style:{display:"flex","flex-direction":"column",width:"100%"}},wc={class:"flex-item"},Ic={key:1},Pc={key:0},Nc={key:1},kc={key:3},Bc=B({components:{IonItem:V,IonCol:ye,IonLabel:J},computed:{...w(aa,["drugPrescriptions"])},data(){return{iconsContent:P,dataArray:[...this.$props.dataArray],dispensationStore:aa(),noDispensationReason:[{name:"Out of stock",selected:!1},{name:"Wrong prescription",selected:!1}],title:"Select a reason"}},props:{dataArray:{type:Array,default:[]},show_actions_buttons:{type:Boolean,default:!0},withCheckboxs:{type:Boolean,default:!1},showInputs:{type:Boolean,default:!1},value:{type:String,default:""}},watch:{},methods:{highlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#006401"),this.highlightActionBtns(e)},undoHighlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="rgb(0,0,0)"),this.undohighlightActionBtns(e)},highlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="block"},undohighlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="none"},asignLblID(e){return e+"_lbl"},asignSpanLblID(e){return e+"_spanlbl"},async removeItemAtIndex(e,t){await Yt("Do you want to delete it?",t)&&this.$emit("remove-item",e)},editItemAtIndex(e){this.$emit("edit-item",e)}}}),$c=B({...Bc,__name:"DynamicList",setup(e){const t=b(!1);b("");const a=b(!1),s=b(Event);function o(r){s.value=r,t.value=!0}return(r,l)=>{const c=d("ion-row"),h=d("ion-checkbox"),m=d("ion-input"),f=d("ion-icon");return p(),v(te,null,[n(c,{class:"header-row",style:{"padding-top":"1rem"}},{default:i(()=>[n(g(ye),{class:"header-col"},{default:i(()=>[n(g(J),{class:"header-label bold"},{default:i(()=>l[6]||(l[6]=[S("Drug name and frequency ")])),_:1,__:[6]})]),_:1}),n(g(ye),{class:"header-col"},{default:i(()=>[n(g(J),{class:"header-label bold"},{default:i(()=>l[7]||(l[7]=[S("Quantity")])),_:1,__:[7]})]),_:1})]),_:1}),(p(!0),v(te,null,he(r.dataArray,(y,D)=>(p(),A(g(V),{class:"ionLbltp",key:D,onMousemove:C=>r.highlightItem(D),onMouseout:C=>r.undoHighlightItem(D)},{default:i(()=>[n(c,null,{default:i(()=>[n(g(ye),{class:"col-st1"},{default:i(()=>[r.withCheckboxs?(p(),A(h,{key:0,id:D,onIonChange:l[0]||(l[0]=C=>r.$emit("clickt",C)),justify:"start",labelPlacement:"end",checked:!0},{default:i(()=>[_("div",Cc,[_("div",wc,[n(g(J),{id:r.asignLblID(D),style:{color:"#00190E","font-weight":"400"}},{default:i(()=>[S(k(y.drugName),1)]),_:2},1032,["id"]),n(g(J),{style:{color:"#636363","font-weight":"400"}},{default:i(()=>[S(k(y.frequency)+" / for "+k(y.duration)+" days",1)]),_:2},1024)])])]),_:2},1032,["id"])):$("",!0),r.withCheckboxs?$("",!0):(p(),v("div",Ic,[_("div",{onClick:l[1]||(l[1]=C=>r.$emit("click",C)),style:{display:"flex","flex-direction":"column",width:"100%"}},[n(g(J),{id:r.asignLblID(D),style:{color:"#00190E","font-weight":"400"}},{default:i(()=>[S(k(y.drugName),1)]),_:2},1032,["id"]),n(g(J),{style:{color:"#636363","font-weight":"400"}},{default:i(()=>[S(k(y.frequency)+" / for "+k(y.duration)+" days",1)]),_:2},1024)])]))]),_:2},1024),n(g(ye),null,{default:i(()=>[!r.showInputs&&y.other.quantity>0?(p(),v("div",Pc,[n(g(J),{color:"primary"},{default:i(()=>[S(k(y.other.quantity)+" dispensed",1)]),_:2},1024)])):!r.showInputs&&y.other.quantity<1?(p(),v("div",Nc,[n(g(J),{style:{color:"#b42318"}},{default:i(()=>[S("Not Dispensed. ("+k(y.reason)+")",1)]),_:2},1024)])):$("",!0),r.dispensationStore.getCheckedBool(D)&&r.showInputs?(p(),A(g(V),{key:2,class:"input_item"},{default:i(()=>[n(g(J),{style:{"padding-right":"3px"}},{default:i(()=>l[8]||(l[8]=[S("Quantity:")])),_:1,__:[8]}),n(m,{id:D,placeholder:"0",onIonInput:l[2]||(l[2]=C=>r.$emit("updateQuantity",C))},null,8,["id"])]),_:2},1024)):$("",!0),r.dispensationStore.getValidation(D)?(p(),v("span",kc,[n(g(J),{style:{color:"red"}},{default:i(()=>l[9]||(l[9]=[S("Please fill in this section")])),_:1,__:[9]})])):$("",!0),!r.dispensationStore.getCheckedBool(D)&&r.showInputs?(p(),A(g(V),{key:4,class:"input_item",style:{width:"200px"}},{default:i(()=>[_("span",{style:{display:"flex","align-items":"center"},id:"chooseType",onClick:o},[n(m,{id:D,value:r.dispensationStore.getReason(D),onIonFocus:l[3]||(l[3]=C=>r.$emit("getInputID",C)),placeholder:"Reason why?"},null,8,["id","value"]),a.value?$("",!0):(p(),A(f,{key:0,icon:g(is)},null,8,["icon"])),a.value?(p(),A(f,{key:1,icon:g(os)},null,8,["icon"])):$("",!0)]),n(Et,{content:r.noDispensationReason,title:r.title,popoverOpen:t.value,onClosePopoover:l[4]||(l[4]=C=>t.value=C),event:s.value,onSetSelection:l[5]||(l[5]=C=>r.$emit("getSelectedReason",C))},null,8,["content","title","popoverOpen","event"])]),_:2},1024)):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onMousemove","onMouseout"]))),128))],64)}}}),ei=O($c,[["__scopeId","data-v-5b73e01b"]]),Mc={key:0,class:"diagnosis-list"},Ac={class:"item-name"},Ec={class:"item-type"},Vc={key:1},Oc={key:0},Tc={key:1},Fc={key:0},Hc=B({watch:{$route:{immediate:!0,deep:!0,handler(){this.getPatientDiagnosis()}}},name:"xxxComponent",computed:{...w(aa,["drugPrescriptions"]),...w(Ne,["patient"])},data(){return{addOutline:ls,list:[],isLoading:!1}},async mounted(){await this.getPatientDiagnosis()},methods:{async getPatientDiagnosis(){this.isLoading=!0,this.list=[];const e=this.patient.patientID,t=new Date(Ve.getSessionDate()).toISOString().split("T")[0];console.log(t);try{const a=await Ae.getAll(e,"Primary diagnosis"),s=await Ae.getAll(e,"Secondary diagnosis"),o=await Ae.getAll(e,"Attempted/ Differential diagnosis"),r=[],l=h=>h.filter(m=>new Date(m.obs_datetime).toISOString().split("T")[0]===t),c=async(h,m)=>{const f=l(h);return await Promise.all(f.map(async y=>({display:[await Ae.getConceptName(y.value_coded),m]})))};if(!$e.isEmpty(a)){const h=await c(a,"Primary diagnosis");r.push(...h)}if(!$e.isEmpty(s)){const h=await c(s,"Secondary diagnosis");r.push(...h)}if(!$e.isEmpty(o)){const h=await c(o,"Differential diagnosis");r.push(...h)}this.list=r}catch(a){console.error("Error fetching diagnoses:",a)}finally{this.isLoading=!0}},resetStore(){this.drugPrescriptions=[]},setListData(e){this.list=[],e.forEach(t=>{this.list.push({display:[t.name]})})}}}),Rc=B({...Hc,setup(e){const t=Ne(),a=ze(()=>t.patient),s=aa(),o=Ra(),r=ze(()=>o.selectedMedicalAllergiesList),l=b(""),c=ze(()=>s.getDispensedMedications());Je(c,R=>{console.log("Dispensed Medications Updated:",R)});function h(R){return R}function m(R){const M=/(\d+)\s+days/i,H=R.match(M);return H&&H.length>1?parseInt(H[1]):null}async function f(){const R=new Date(Ve.getSessionDate()).toISOString().split("T")[0],M=a.value.patientID;try{const H=await Oa.getOrderByPatient(M,{start_date:R});if(console.log("Fetched medications:",H),!H||H.length===0){console.log("No medications found for the patient."),s.setDrugPrescriptions([]);return}const K=H.map(X=>({drugName:X.drug.name,dose:X.dose,frequency:X.frequency,duration:m(X.order.instructions),prescription:ne.toStandardHisFormat(X.order.auto_expire_date),drug_id:X.drug.drug_id,units:X.units,route_concept_id:X.route_concept_id,route_name:X.route_name,other:{quantity:0,order_id:X.order_id},reason:"",isSelected:!0,showValidation:!1}));console.log("Formatted medications:",K),s.setDrugPrescriptions(K)}catch(H){console.error("Error fetching medications:",H),s.setDrugPrescriptions([])}}dt(async()=>{await f()}),Je(()=>a.value,async(R,M)=>{R&&R.patientID!==M.patientID&&(s.resetStore(),await f(),s.drugPrescriptions.forEach(H=>{H.quantity||(H.quantity=0)}))},{immediate:!0,deep:!0});function y(){s.editDispensations()}function D(R){l.value=R.name}function C(R){l.value!=""&&(s.setReason(l.value,R.target.id),l.value="",s.validateInputs())}function E(R){const M=R.target.id,H=R.detail.value;s.addQuantity(H,M),s.validateInputs()}function T(R){const M=R.target.id,H=R.detail.checked;s.updateCheckboxBool(H,M)}function U(){if(s.isSaveInitiated(!0),s.validateInputs())return;console.log("Saving dispensed medications..."),s.saveDispensedMedications(),s.setDispensedMedicationsPayload();const R=new Sc(a.value.patientID,Ve.getUserID()),M=s.getDispensedMedicationsPayload();R.saveDispensations(M.dispensations),console.log("Dispensed Medications:",s.getDispensedMedications())}return(R,M)=>{const H=d("ion-loading"),K=d("ion-row"),X=d("ion-icon");return p(),v(te,null,[R.isLoading?(p(),A(H,{key:0,message:"Loading data, please wait...",spinner:"bubbles"})):$("",!0),n(g(x),null,{default:i(()=>[n(g(J),null,{default:i(()=>M[1]||(M[1]=[S("Allergies (Medication, Healthcare items, Environment and Food)")])),_:1,__:[1]}),n(K,null,{default:i(()=>[n(g(V),{lines:"none",class:"medicalAl"},{default:i(()=>[n(K,null,{default:i(()=>[(p(!0),v(te,null,he(r.value,(ce,se)=>(p(),v("div",{key:se},[ce.selected?(p(),A(g(it),{key:0,class:"medicalAlBtn"},{default:i(()=>[S(k(ce.name),1)]),_:2},1024)):$("",!0)]))),128))]),_:1})]),_:1})]),_:1}),n(g(J),null,{default:i(()=>M[2]||(M[2]=[S("Diagnoses")])),_:1,__:[2]}),n(K,null,{default:i(()=>[n(g(V),{lines:"none",class:"medicalAl"},{default:i(()=>[n(K,null,{default:i(()=>[R.list.length>0?(p(),v("div",Mc,[M[3]||(M[3]=_("div",{class:"diagnosis-header"},[_("span",{class:"header-name"},"Diagnosis name"),_("span",{class:"header-type"},"Diagnosis type")],-1)),(p(!0),v(te,null,he(R.list,(ce,se)=>(p(),v("div",{key:se,class:"diagnosis-item"},[_("span",Ac,k(ce.display[0]),1),_("span",Ec,k(ce.display[1]),1)]))),128))])):(p(),v("div",Vc,"No diagnoses were added."))]),_:1})]),_:1})]),_:1}),M[7]||(M[7]=_("div",{class:"space"},null,-1)),n(g(J),null,{default:i(()=>M[4]||(M[4]=[S("Prescribed Medications To Be Dispensed")])),_:1,__:[4]}),g(s).getDrugPrescriptions()&&g(s).getDrugPrescriptions().length>0?(p(),v("div",Oc,[n(ei,{onClickt:T,dataArray:g(s).drugPrescriptions,withCheckboxs:!0,showInputs:!0,show_actions_buttons:!1,onUpdateQuantity:E,onGetInputID:C,onGetSelectedReason:D},null,8,["dataArray"]),_("div",null,[M[6]||(M[6]=_("div",{class:"space3"},null,-1)),n(g(it),{class:"faded-green no-background",style:{"padding-left":"15px","border-radius":"1px"},onClick:M[0]||(M[0]=ce=>U())},{default:i(()=>[n(X,{slot:"start",icon:g(ls)},null,8,["icon"]),M[5]||(M[5]=S(" Submit "))]),_:1,__:[5]})])])):(p(),v("div",Tc,"No medications were added for this patient."))]),_:1,__:[7]}),n(g(x),null,{default:i(()=>[g(s).getDispensedMedications()&&g(s).getDispensedMedications().length>0?(p(),v("div",Fc,[n(g(J),null,{default:i(()=>M[8]||(M[8]=[S("Here is the dispensation summary")])),_:1,__:[8]}),n(ei,{onClick:y,dataArray:g(s).getDispensedMedications(),withCheckboxs:!1,showInputs:!1,show_actions_buttons:!1},null,8,["dataArray"])])):$("",!0)]),_:1})],64)}}}),Lc=O(Rc,[["__scopeId","data-v-36fd7d91"]]),xc={style:{display:"flex",padding:"0.3em"}},Uc={style:{display:"flex",padding:"0.3em"}},zc={style:{display:"flex",padding:"0.3em"}},qc={style:{padding:"0.3em"}},Wc={key:1},Gc={key:0},jc={key:1},Yc={key:3},Jc=B({components:{IonItem:V,IonCol:ye,IonLabel:J},computed:{...w(aa,["drugPrescriptions"])},data(){return{iconsContent:P,dataArray:[...this.$props.dataArray],dispensationStore:aa(),noDispensationReason:[{name:"Out of stock",selected:!1},{name:"Wrong prescription",selected:!1}],title:"Select a reason"}},props:{dataArray:{type:Array,default:[]},show_actions_buttons:{type:Boolean,default:!0},withCheckboxs:{type:Boolean,default:!1},showInputs:{type:Boolean,default:!1},value:{type:String,default:""}},watch:{},methods:{highlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#006401"),this.highlightActionBtns(e)},undoHighlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="rgb(0,0,0)"),this.undohighlightActionBtns(e)},highlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="block"},undohighlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="none"},asignLblID(e){return e+"_lbl"},asignSpanLblID(e){return e+"_spanlbl"},async removeItemAtIndex(e,t){await Yt("Do you want to delete it?",t)&&this.$emit("remove-item",e)},editItemAtIndex(e){this.$emit("edit-item",e)}}}),Kc=B({...Jc,__name:"DynamicListOPDcopy",setup(e){const t=b(!1);b("");const a=b(!1),s=b(Event);function o(r){s.value=r,t.value=!0}return(r,l)=>{const c=d("ion-row"),h=d("ion-checkbox"),m=d("ion-input"),f=d("ion-icon");return p(),v(te,null,[n(c,{style:{"padding-top":"1rem"}},{default:i(()=>[n(g(ye),null,{default:i(()=>[_("div",xc,[n(g(J),{style:{width:"500px",color:"#00190E","font-weight":"550",font:"inter","line-height":"21px"}},{default:i(()=>l[6]||(l[6]=[S("Drug Name")])),_:1,__:[6]})])]),_:1}),n(g(ye),null,{default:i(()=>[_("div",Uc,[n(g(J),{style:{width:"280px",color:"#00190E","font-weight":"550",font:"inter","line-height":"21px"}},{default:i(()=>l[7]||(l[7]=[S("Duration")])),_:1,__:[7]})])]),_:1}),n(g(ye),null,{default:i(()=>[_("div",zc,[n(g(J),{style:{color:"#00190E","font-weight":"550",font:"inter","line-height":"21px"}},{default:i(()=>l[8]||(l[8]=[S("Dispensation")])),_:1,__:[8]})])]),_:1})]),_:1}),(p(!0),v(te,null,he(r.dataArray,(y,D)=>(p(),A(g(V),{class:"ionLbltp",key:D,onMousemove:C=>r.highlightItem(D),onMouseout:C=>r.undoHighlightItem(D)},{default:i(()=>[n(c,null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(c,{style:{display:"flex","align-items":"center",width:"800px"}},{default:i(()=>[n(g(ye),null,{default:i(()=>[r.withCheckboxs?(p(),A(h,{key:0,id:D,onIonChange:l[0]||(l[0]=C=>r.$emit("clickt",C)),justify:"start",labelPlacement:"end",checked:!0,style:{width:"500px"}},{default:i(()=>[_("div",qc,[n(g(J),{id:r.asignLblID(D),style:{color:"#00190E","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(y.drugName),1)]),_:2},1032,["id"]),n(g(J),{style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(y.frequency),1)]),_:2},1024)])]),_:2},1032,["id"])):$("",!0),r.withCheckboxs?$("",!0):(p(),v("div",Wc,[_("div",{style:{padding:"0.3em",width:"500px"},onClick:l[1]||(l[1]=C=>r.$emit("click",C))},[n(g(J),{id:r.asignLblID(D),style:{color:"#00190E","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(y.drugName),1)]),_:2},1032,["id"]),n(g(J),{style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(y.frequency),1)]),_:2},1024)])]))]),_:2},1024),n(g(ye),null,{default:i(()=>[_("div",null,[n(g(J),{style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(" for")+" "+k(y.duration)+" days ",1)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024),n(g(ye),null,{default:i(()=>[!r.showInputs&&y.other.quantity>0?(p(),v("div",Gc,[n(g(J),{color:"primary"},{default:i(()=>[S(k(y.other.quantity)+" dispensed",1)]),_:2},1024)])):!r.showInputs&&y.other.quantity<1?(p(),v("div",jc,[n(g(J),{style:{color:"#b42318"}},{default:i(()=>l[9]||(l[9]=[S("Not Dispensed.")])),_:1,__:[9]}),n(g(J),{style:{color:"#b42318"}},{default:i(()=>[S("("+k(y.reason)+")",1)]),_:2},1024)])):$("",!0),r.dispensationStore.getCheckedBool(D)&&r.showInputs?(p(),A(g(V),{key:2,class:"input_item"},{default:i(()=>[n(m,{id:D,placeholder:"Quantity",onIonInput:l[2]||(l[2]=C=>r.$emit("updateQuantity",C))},null,8,["id"])]),_:2},1024)):$("",!0),r.dispensationStore.getValidation(D)?(p(),v("span",Yc,[n(g(J),{style:{color:"red"}},{default:i(()=>l[10]||(l[10]=[S("Please fill in this section")])),_:1,__:[10]})])):$("",!0),!r.dispensationStore.getCheckedBool(D)&&r.showInputs?(p(),A(g(V),{key:4,class:"input_item",style:{width:"190px"}},{default:i(()=>[_("span",{style:{display:"flex","align-items":"center"},id:"chooseType",onClick:o},[n(m,{id:D,value:r.dispensationStore.getReason(D),onIonFocus:l[3]||(l[3]=C=>r.$emit("getInputID",C)),placeholder:"Reason why?"},null,8,["id","value"]),a.value?$("",!0):(p(),A(f,{key:0,icon:g(is)},null,8,["icon"])),a.value?(p(),A(f,{key:1,icon:g(os)},null,8,["icon"])):$("",!0)]),n(Et,{content:r.noDispensationReason,title:r.title,popoverOpen:t.value,onClosePopoover:l[4]||(l[4]=C=>t.value=C),event:s.value,onSetSelection:l[5]||(l[5]=C=>r.$emit("getSelectedReason",C))},null,8,["content","title","popoverOpen","event"])]),_:2},1024)):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onMousemove","onMouseout"]))),128))],64)}}}),Qc=O(Kc,[["__scopeId","data-v-5f6fcb4c"]]),Xc={key:0},Zc={key:1},eu=B({watch:{},name:"xxxComponent",computed:{...w(aa,["drugPrescriptions"])}}),tu=B({...eu,setup(e){const t=aa();function a(){t.editDispensations()}return(s,o)=>(p(),A(g(x),null,{default:i(()=>[n(g(J),null,{default:i(()=>o[0]||(o[0]=[S("Here is the dispensation summary")])),_:1,__:[0]}),g(t).getDispensedMedications()&&g(t).getDispensedMedications().length>0?(p(),v("div",Xc,[n(Qc,{onClick:a,dataArray:g(t).getDispensedMedications(),withCheckboxs:!1,showInputs:!1,show_actions_buttons:!1},null,8,["dataArray"])])):(p(),v("div",Zc,"Please complete dispensing of prescribed medications first. Then the summary will appear here."))]),_:1}))}}),au=O(tu,[["__scopeId","data-v-1b987a8b"]]),nu=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,List:wt},computed:{...w(Ne,["patient"]),...w(jn,["presentingComplaints"])},data(){return{valueNumericArray:[],obsDatetime:[],graphIcon:Ua(["#006401"]),listIcon:xa(["#636363"]),displayGraph:!0,orders:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],series:[{name:"",data:[]}]}},setup(){return{checkmark:ie,pulseOutline:le}},watch:{$router:{async handler(){await this.updateList()},immediate:!0,deep:!0},patient:{async handler(){await this.updateList()},deep:!0}},async mounted(){await this.updateList()},methods:{async updateList(){const e=await Ae.getAll(this.patient.patientID,"Presenting complaint"),t=$e.isEmpty(e)?[]:Promise.all(e.map(async a=>a.value_coded?{name:await Ae.getConceptName(a.value_coded),obs_date:a.obs_datetime,duration:a.children[0].value_text}:[]));this.setListData(await t)},setListData(e){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 20px;",containSize:4,display:["Date","Presenting Complains","Duration"]}),e.forEach(t=>{this.list.push({actionBtn:!1,minHeight:"--min-height:20px;",class:"col_background",containSize:4,display:[ne.toStandardHisFormat(t.obs_date),t.name,t.duration]})})}}}),su={class:"modal_wrapper"};function iu(e,t,a,s,o,r){const l=d("list");return p(),v("div",su,[_("div",null,[n(l,{listData:e.list},null,8,["listData"])])])}const ou=O(nu,[["render",iu],["__scopeId","data-v-30434e22"]]),lu=B({components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,PreviousVitals:bn,previousComplaints:ou,IonPopover:Ft,DashBox:Vt,SelectionPopover:Et,List:wt,DynamicButton:Be},data(){return{iconsContent:P,BMI:{},BPStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,conditionStatus:"",data:[],presentingComplaintsListData:[],popoverOpen:!1,event:"",selectedCondition:"",complaints:[]}},computed:{...w(Ne,["patient"]),...w(jn,["presentingComplaints"]),inputFields(){return this.presentingComplaints[0].data.rowData[0].colData},"Other (specify)"(){return oe(this.presentingComplaints,"Other (specify)","value")},selectedComplaintValue(){return this.presentingComplaints[0].data.rowData[0].colData[0].value}},async mounted(){this.updatePresentingComplaintsListStores(),this.setDashedBox(),this.getPresentingDataLIst(),this.validaterowData({}),this.checkComplaints()},watch:{selectedComplaintValue(e,t){e!==t&&this.checkComplaints()},presentingComplaints:{handler(){this.setDashedBox()},deep:!0},$router:{handler(){this.getPresentingDataLIst()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async getPresentingDataLIst(){this.complaints=await qs.getComplaintsList("Presenting complaint"),u(this.presentingComplaints,"PresentingComplaints","multiSelectData",this.complaints)},async onRefresh(){try{this.complaints=await qs.getConceptSetViaDirectAPICall("Presenting complaint"),u(this.presentingComplaints,"PresentingComplaints","multiSelectData",this.complaints),St("Presenting Complaints Selection List has been updated")}catch(e){ta("An error occurred fetching the list of complaints")}},displayInputFields(){this.conditionStatus="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},isNameInArray(e,t){return t.some(a=>a.name===e)},async addNewRow(){if(!(this.inputFields[0].value.name==="Other"&&!this.validateOtherSpecifyField())&&this.validateDuration()){if(!this.inputFields[1].unitsData.value){this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage="Duration Unit is Required";return}this.checkPresentingComplaints()&&(this.presentingComplaints[0].data.rowData[0].colData[0].value=this.inputFields[0].value,this.search_item=!1,this.display_item=!0,this.addItemButton=!0,this.buildpresentingComplaintsList()),this.presentingComplaints[0].data.rowData[0].colData[0].value="",this.presentingComplaints[0].data.rowData[0].colData[1].value="",this.presentingComplaints[0].data.rowData[0].colData[1].unitsData.value="",u(this.presentingComplaints,"Other (specify)","displayNone",!0),u(this.presentingComplaints,"Other (specify)","value","")}},checkPresentingComplaints(){const e=this.inputFields[0].value.name==="Other"?oe(this.presentingComplaints,"Other (specify)","value"):this.inputFields[0].value.name;return this.isNameInData(e,this.presentingComplaints[0].selectedData)?(u(this.presentingComplaints,"PresentingComplaints","alertsErrorMassage","Presenting complaint already added"),!1):(u(this.presentingComplaints,"PresentingComplaints","alertsErrorMassage",""),!0)},buildpresentingComplaintsList(){const e=this.inputFields[1].value+" "+this.inputFields[1].unitsData.value.name,t=this.inputFields[0].value.name==="Other"?oe(this.presentingComplaints,"Other (specify)","value"):this.inputFields[0].value.name;this.presentingComplaints[0].selectedData.push({actionBtn:!0,btn:["edit","delete"],name:t,concept_id:this.inputFields[0].value.concept_id,duration:this.inputFields[1].value,durationUnits:this.inputFields[1].unitsData.value,display:[t,e],data:[{concept_id:8578,value_coded:this.inputFields[0].value.concept_id,obs_datetime:Ve.getSessionDate(),child:[{concept_id:this.inputFields[0].value.concept_id,value_text:e,obs_datetime:Ve.getSessionDate()}]}]})},isNameInData(e,t){return t.some(a=>a.name===e)},updatePresentingComplaintsListStores(){jn().setPresentingComplaints(this.presentingComplaints)},openPopover(e){this.event=e,this.popoverOpen=!0},checkComplaints(){var a;const e=oe(this.presentingComplaints,"PresentingComplaints","value");let t=!0;e&&(this.complaints.some(o=>{var r;return o.name.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())})||e.name==="Other")&&(t=!1),t?(!this.presentingComplaints[0].alerts[0]||this.presentingComplaints[0].alerts[0].name!=="NoMatchAlert")&&(this.presentingComplaints[0].alerts[0]={backgroundColor:"lightyellow",status:"Warning",colSize:"4px",textColor:"black",value:"Please search thoroughly for the complaint. If it is not listed, search and select the 'Other' option to specify the complaint.",name:"noMatchAlert"}):(a=this.presentingComplaints[0].alerts[0])!=null&&a.value&&(this.presentingComplaints[0].alerts[0]={backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:""})},async handleInputData(e){if(e.inputHeader==="Presenting Complaints"?this.checkPresentingComplaints():e.inputHeader==="Duration"&&this.validateDuration(),e.inputHeader==="Presenting Complaints"){const t=oe(this.presentingComplaints,"PresentingComplaints","value");(t==null?void 0:t.name)==="Other"?u(this.presentingComplaints,"Other (specify)","displayNone",!1):(u(this.presentingComplaints,"Other (specify)","displayNone",!0),u(this.presentingComplaints,"Other (specify)","value",""))}},validateDuration(){return this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!1,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage="",this.inputFields[1].unitsData.value?F.isNumber(this.inputFields[1].value)==null&&this.inputFields[1].value!=""?!0:(this.search_item=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=" Value must be a number",!1):(this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage=!0,this.presentingComplaints[0].data.rowData[0].colData[1].alertsErrorMassage="Duration Units Required",ta("Duration Units Required"),!1)},validationRules(e){return Ko(this.presentingComplaints,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},editpresentingComplaintsList(e){this.deletepresentingComplaintsList(e.item),this.presentingComplaints[0].data.rowData[0].colData[0].value=e.item,this.presentingComplaints[0].data.rowData[0].colData[1].value=e.item.duration,this.presentingComplaints[0].data.rowData[0].colData[1].unitsData.value=e.item.durationUnits,this.addItemButton=!1,this.search_item=!0,this.updatePresentingComplaintsListStores()},deletepresentingComplaintsList(e){this.presentingComplaints[0].selectedData=this.presentingComplaints[0].selectedData.filter(t=>t.display[0]!==e.name),this.updatePresentingComplaintsListStores()},setDashedBox(){var e;this.presentingComplaints[0].selectedData,(e=this.inputFields[0])!=null&&e.value&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.presentingComplaints[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)},async updateList(){},validateOtherSpecifyField(){const e=oe(this.presentingComplaints,"Other (specify)","value");return!e||e.trim()===""?(u(this.presentingComplaints,"Other (specify)","alertsErrorMassage","Please specify the complaint"),!1):(u(this.presentingComplaints,"Other (specify)","alertsErrorMassage",""),!0)}}}),ru={key:0},du={class:"ion-padding",slot:"content"};function cu(e,t,a,s,o,r){const l=d("DashBox"),c=d("list"),h=d("basic-form"),m=d("ion-row"),f=d("DynamicButton"),y=d("ion-label"),D=d("ion-item"),C=d("previousComplaints"),E=d("ion-accordion"),T=d("ion-accordion-group");return p(),v(te,null,[n(l,{status:e.no_item,content:"No presenting complaints added"},null,8,["status"]),e.display_item?(p(),v("span",ru,[n(c,{listData:e.presentingComplaints[0].selectedData,"onClicked:edit":t[0]||(t[0]=U=>e.editpresentingComplaintsList(U)),"onClicked:delete":e.deletepresentingComplaintsList},null,8,["listData","onClicked:delete"])])):$("",!0),e.search_item?(p(),A(m,{key:1},{default:i(()=>[n(h,{contentData:e.presentingComplaints,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,"onClicked:button":e.addNewRow,onRefresh:e.onRefresh},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","onClicked:button","onRefresh"])]),_:1})):$("",!0),e.addItemButton?(p(),A(m,{key:2,style:{"margin-top":"10px"}},{default:i(()=>[n(f,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=U=>e.displayInputFields()),name:"Add new presenting complaints"},null,8,["icon"])]),_:1})):$("",!0),n(m,null,{default:i(()=>[n(T,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(E,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(D,{slot:"header",color:"light"},{default:i(()=>[n(y,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("Previous presenting complaints")])),_:1,__:[2]})]),_:1}),_("div",du,[n(C)])]),_:1})]),_:1},512)]),_:1})],64)}const ps=O(lu,[["render",cu],["__scopeId","data-v-06fe1c73"]]);class ao extends It{constructor(a){super(a,32);ut(this,"patientID");ut(this,"testTypeID");ut(this,"resultDate");ut(this,"testID");this.patientID=a,this.testTypeID=-1,this.resultDate="",this.testID=-1}createLabResult(a){return It.postJson("lab/tests/".concat(this.testID,"/results"),{encounter_id:this.encounterID,date:this.resultDate,measures:a})}getTestID(){return this.testID}getTestTypeID(){return this.testTypeID}setTestTypeID(a){this.testTypeID=a}setResultDate(a){this.resultDate=a}setTestID(a){this.testID=a}getTestsWithoutResults(){return je.getOrders(this.patientID,{status:"drawn"})}getTestIndicators(){return je.getJson("lab/test_result_indicators",{test_type_id:this.testTypeID})}static getTestIndicatorsWithID(a){return je.getJson("lab/test_result_indicators",{test_type_id:a})}}const uu=B({components:{IonButtons:Sa,IonButton:it,IonModal:pa,IonHeader:q,IonContent:z,IonToolbar:W,IonTitle:j,IonItem:V,IonList:x,IonAvatar:ts,IonImg:es,IonLabel:J,IonPage:na,IonMenu:Y,BasicForm:G,IonFooter:Ha,DynamicButton:Be},data(){return{popoverStatus:null}},props:{keyboardClose:{type:Boolean,default:!1},keepContentsMounted:{type:Boolean,default:!1},content:{default:[]},popoverOpen:{type:Boolean,default:!1},event:{type:Event,default:""},title:{type:String,default:""}},methods:{dismiss(){Wt.dismiss()},nav(e,t){this.dismiss(),this.$router.push(e)}}}),hu={class:"modal_wrapper"},pu={class:"center text_12"};function mu(e,t,a,s,o,r){const l=d("ion-title"),c=d("ion-button"),h=d("ion-buttons"),m=d("ion-toolbar"),f=d("ion-header"),y=d("ion-col"),D=d("ion-row"),C=d("ion-content"),E=d("ion-modal");return p(),A(E,{"is-open":e.popoverOpen,"show-backdrop":!0,onDidDismiss:t[1]||(t[1]=T=>e.$emit("closePopoover",!1)),"keyboard-close":e.keyboardClose},{default:i(()=>[n(f,null,{default:i(()=>[n(m,null,{default:i(()=>[n(l,null,{default:i(()=>[_("b",null,"Lab results for ("+k(e.content.item.name)+") test",1)]),_:1}),n(h,{slot:"end"},{default:i(()=>[n(c,{onClick:t[0]||(t[0]=T=>e.$emit("closeModal"))},{default:i(()=>t[2]||(t[2]=[S("Close")])),_:1,__:[2]})]),_:1})]),_:1})]),_:1}),n(C,{class:"ion-padding"},{default:i(()=>[_("div",hu,[_("div",pu,[n(D,null,{default:i(()=>[(p(!0),v(te,null,he(e.content.item.item.result,(T,U)=>(p(),A(y,{size:"4",key:U},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{size:"8"},{default:i(()=>[S(k(T.indicator.name),1)]),_:2},1024),n(y,{class:"bold",size:"0.5"},{default:i(()=>t[3]||(t[3]=[S(":")])),_:1,__:[3]}),n(y,{class:"bold",size:"2"},{default:i(()=>[S(k(T.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])])]),_:1})]),_:1},8,["is-open","keyboard-close"])}const fu=O(uu,[["render",mu],["__scopeId","data-v-91fdd7d6"]]),_u=B({name:"Menu",components:{CheckInConfirmationModal:Fi,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,DynamicButton:Be,DashBox:Vt,LabModal:ji,LabViewResultsModal:rr,SendToLabConfirmationModal:Yi,DataTable:ya},computed:{...w(Ne,["patient"]),...w(Da,["labResults"]),...w(yt,["investigations"]),...w(Aa,["patientsWaitingForVitals","patientsWaitingForConsultation","patientsWaitingForLab","patientsWaitingForDispensation"]),hasEnterResults(){return this.listOrders.some(e=>e.btn&&e.btn.includes("enter_results"))}},props:{propOrders:{default:[]}},data(){return{tableData:[],options:{responsive:!0,select:!1,layout:{topStart:"",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},ordering:!1,order:[[3,"desc"]]},header:["Lab Test","Specimen","Accession Number","Order Date","Result"],iconsContent:P,valueNumericArray:[],obsDatetime:[],graphIcon:Ua(["#006401"]),listIcon:xa(["#636363"]),displayGraph:!0,sendToLabModalOpen:!1,orders:[],userRoles:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],listOrders:[],listResults:[],hasPatientsWaitingForLab:!1,labResultsContent:"",listHeaderOrders:"",service:"",openModal:!1,openResultsModal:!1,series:[{name:"",data:[]}]}},setup(){return{checkmark:ie,pulseOutline:le}},async mounted(){await this.updateInvestigationWizard(),await this.setListData(),this.$nextTick(()=>{const e=this.$refs.dataTable.dt;e.columns.adjust().draw(),e.on("click",".result-btn",t=>{const a=t.target.getAttribute("data-id");this.openResultsForm(JSON.parse(a))}),e.on("click",".view-btn",t=>{const a=t.target.getAttribute("data-id");this.viewLabOrder(JSON.parse(a))}),e.on("click",".delete-btn",t=>{const a=t.target.getAttribute("data-id");this.voidLabOrder(JSON.parse(a),t)}),e.on("click",".order-btn",t=>{const a=t.target.getAttribute("data-id");this.saveTest(JSON.parse(a))})}),this.orders=this.propOrders,this.service=new zi(this.patient.patientID),this.userRoles=await Ve.getUserRoles()},watch:{$route:{async handler(){await this.setListData()},deep:!0},patient:{async handler(e){e&&e.patientID&&await this.setListData()},immediate:!0},tableData:{handler(e){if(this.$refs.dataTable){const t=this.$refs.dataTable.dt;t.clear(),t.rows.add(e),t.draw()}},deep:!0}},methods:{async closeModal(){this.openModal=!1,await this.setListData()},async saveTest(e){await new hs().postActivities(this.patient.patientID,[{concept_id:await Ge.getConceptID(e.name,!0),name:e.name,specimen:e.specimen,reason:"Routine",specimenConcept:await Ge.getConceptID(e.specimen,!0)}]),St("Successfully saved"),this.orders=await je.getOrders(this.patient.patientID),this.tableData=this.generateListItems(this.orders,"order"),this.tableData.sort((s,o)=>{const r=new Date(s[3]);return new Date(o[3]).getTime()-r.getTime()});const a=this.$refs.dataTable.dt;a.clear(),a.rows.add(this.tableData),a.draw()},async openEnterResultModal(){await Ct(pr,{class:"lab-results-modal"},!0,{title:"name"}),await this.setListData()},toggleSendToLabModal(){this.sendToLabModalOpen=!this.sendToLabModalOpen},async fetchPatientLabStageData(){const e=await Yn(),t=e?e.code:null;if(t){const a=await Jn.getPatientList("LAB",t);await Aa().refresh(t),this.patient.patientID&&(this.hasPatientsWaitingForLab=a.some(s=>s.patient_id===this.patient.patientID))}},async updateInvestigationWizard(){this.orders=await je.getOrders(this.patient.patientID);const e=await this.orders.filter(t=>ne.toStandardHisFormat(ne.sessionDate())===ne.toStandardHisFormat(t.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},dismiss(){Wt.dismiss()},async voidLabOrder(e,t){await Yt("Do you want to delete ".concat(e.tests[0].name," ?"),t)&&await this.service.voidOrder(e.id,"Mistake entry"),await this.setListData()},async openResultsForm(e){const t=await ao.getTestIndicatorsWithID(e.concept_id);console.log({testIndicators:t});const a=[e,{validationStatus:"",data:{rowData:[{colData:[]}]}}];t.forEach(o=>{let r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:""};if(o.name=="RBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateRBS",unit:"mg/dL"}),o.name=="FBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateFBS",unit:"mg/dL"}),o.name=="MRDT"||o.name=="Tuberculosis program"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="Lam"||o.name=="CrAg"||o.name=="CD4 count"||o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Urine Ketones"||o.name=="HIV test"){let l=[];(o.name=="MRDT"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="CrAg"||o.name=="Lam")&&(l=[{id:"1",name:"Positive"},{id:"2",name:"Negative"},{id:"3",name:"Invalid"}]),o.name=="Tuberculosis program"&&(l=[{id:"1",name:"Scanty"},{id:"2",name:"Negative"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"}]),o.name=="CD4 count"&&(l=[{id:"1",name:"below reference line"},{id:"2",name:"above reference line"}]),(o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Ketones"||o.name=="Urine Ketones")&&(l=[{id:"2",name:"Negative"},{id:"1",name:"Trace"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"},{id:"6",name:"4+"}]),o.name=="HIV test"&&(l=[{id:"2",name:"Positive"},{id:"1",name:"Negative"},{id:"3",name:"Invalid"}]),r={inputHeader:o.name,icon:P.search,value:"",name:"units",eventType:"input",alertsErrorMassage:"",isSingleSelect:!0,trackBy:"id",multiSelectData:l,id:o.concept_id,idName:"district_id"}}a[1].data.rowData[0].colData.push(r)}),Da().setLabResults(a),this.openModal=!0,this.orders=await je.getOrders(this.patient.patientID),console.log("ðŸš€ ~ openResultsForm ~ this.orders:",this.orders)},async viewLabOrder(e){this.labResultsContent=e,this.openResultsModal=!0},async setListData(){this.orders=await je.getOrders(this.patient.patientID);let e=this.generateListItems(this.orders,"order");e.sort((r,l)=>{const c=new Date(r[3]);return new Date(l[3]).getTime()-c.getTime()});const t=[],a=t.filter(r=>!e.some(l=>l[0]===r[0])),s=e.filter(r=>t.some(l=>l[0]===r[0])),o=e.filter(r=>!s.some(l=>l[0]===r[0]));this.tableData=[...s,...a,...o],await this.updateInvestigationWizard(),ya.use(Bi)},generateListItems(e,t){return e.length>0?e.flatMap(a=>a.tests.flatMap(s=>{var l,c,h,m;const o='<button class="btn btn-outline-secondary btn-sm view-btn" data-id=\''.concat(JSON.stringify(s),"'>").concat(this.iconsContent.view2,"</button> ");let r="";return((l=s==null?void 0:s.result)==null?void 0:l.length)==1?r=(s==null?void 0:s.result)!=null?((c=s==null?void 0:s.result[0])==null?void 0:c.value_modifier)+((h=s==null?void 0:s.result[0])==null?void 0:h.value):null:((m=s==null?void 0:s.result)==null?void 0:m.length)>1&&(s==null||s.result,r=o),[[s.name,a.specimen.name,a.accession_number,ne.toStandardHisFormat(a.order_date),r]]})):[]}}}),vu={class:"container"},gu={class:"table-responsive"};function yu(e,t,a,s,o,r){const l=d("DataTable"),c=d("LabViewResultsModal"),h=d("LabModal");return p(),v("div",vu,[_("div",gu,[n(l,{ref:"dataTable",options:e.options,data:e.tableData,class:"display nowrap",width:"100%"},{default:i(()=>[_("thead",null,[_("tr",null,[(p(!0),v(te,null,he(e.header,m=>(p(),v("th",{key:m,"data-orderable":!0},k(m),1))),128))])])]),_:1},8,["options","data"])]),n(c,{popoverOpen:e.openResultsModal,content:e.labResultsContent,onCloseModal:t[0]||(t[0]=m=>e.openResultsModal=!1)},null,8,["popoverOpen","content"]),n(h,{popoverOpen:e.openModal,onSaved:e.closeModal,onCloseModal:t[1]||(t[1]=m=>e.openModal=!1)},null,8,["popoverOpen","onSaved"])])}const bu=O(_u,[["render",yu],["__scopeId","data-v-7c4e1547"]]),Du=B({name:"Menu",components:{LabTestsHistory:bu,CheckInConfirmationModal:Fi,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,List:wt,DynamicButton:Be,DashBox:Vt,LabModal:ji,LabViewResultsModal:fu,SendToLabConfirmationModal:Yi},computed:{...w(Ne,["patient"]),...w(Da,["labResults"]),...w(hn,["activeProgram"]),...w(yt,["investigations"]),...w(Aa,["patientsWaitingForVitals","patientsWaitingForConsultation","patientsWaitingForLab","patientsWaitingForDispensation"]),hasEnterResults(){return this.listOrders.some(e=>e.btn&&e.btn.includes("enter_results"))},hasPatientsWaitingForLab(){return Array.isArray(this.patientsWaitingForLab)&&this.patientsWaitingForLab.length>0}},props:{propOrders:{default:[]}},data(){return{iconsContent:P,valueNumericArray:[],obsDatetime:[],graphIcon:Ua(["#006401"]),listIcon:xa(["#636363"]),displayGraph:!0,sendToLabModalOpen:!1,orders:[],userRoles:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],listOrders:[],listResults:[],hasPatientsWaitingForLab:!1,listSeeMoreOrders:[],listSeeLessOrders:[],listSeeMoreResults:[],listSeeLessResults:[],listHeaderResults:"",labResultsContent:"",listHeaderOrders:"",service:"",openModal:!1,openResultsModal:!1,series:[{name:"",data:[]}]}},setup(){return{checkmark:ie,pulseOutline:le}},async mounted(){this.orders=this.propOrders,this.setListData(this.orders),this.service=new zi(this.patient.patientID),this.userRoles=await Ve.getUserRoles()},watch:{patientsWaitingForLab(e){this.hasPatientsWaitingForLab=e.some(t=>t.patient_id===this.patient.patientID)},propOrders:{handler(){this.orders=this.propOrders,this.setListData(this.orders)},deep:!0},$route:{immediate:!0,handler(){this.updateLabList(),this.fetchPatientLabStageData()}}},methods:{toggleSendToLabModal(){this.sendToLabModalOpen=!this.sendToLabModalOpen},async fetchPatientLabStageData(){const e=await Yn(),t=e?e.code:null;if(t){const a=await Jn.getPatientList("LAB",t);await Aa().refresh(t),this.patient.patientID&&(this.patientsWaitingForLab=a.some(s=>s.patient_id===this.patient.patientID))}},async handleSendToLabYes(){const e=await Yn(),t=e?e.code:null;if(!t){ta("Location ID could not be found. Please check your settings.");return}await Jn.addPatientToStage(this.patient.patientID,ne.todayDateFormatted(),"LAB",t),await Aa().refresh(t),St("Lab orders submitted to the lab successfully. Consultation paused"),await this.fetchPatientLabStageData(),this.closeSendToLabModal()},async handleSendToLabNo(){this.toggleSendToLabModal()},closeSendToLabModal(){this.sendToLabModalOpen=!1},async updateLabList(){this.openModal=!1,this.orders=await je.getOrders(this.patient.patientID),this.setListData(this.orders),this.updateInvestigationWizard()},async updateInvestigationWizard(){this.orders=await je.getOrders(this.patient.patientID);const e=await this.orders.filter(t=>ne.toStandardHisFormat(ne.sessionDate())===ne.toStandardHisFormat(t.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},dismiss(){Wt.dismiss()},async voidLabOrder(e){await this.service.voidOrder(e.id,"Mistake entry"),this.updateLabList()},handleIcon(){},async openResultsForm(e){console.log(e.item.concept_id);const t=await ao.getTestIndicatorsWithID(e.item.concept_id);console.log({testIndicators:t});const a=[e.item,{validationStatus:"",data:{rowData:[{colData:[]}]}}];t.forEach(o=>{let r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:""};if(o.name=="RBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateRBS",unit:"mg/dL"}),o.name=="FBS"&&(r={inputHeader:o.name,value:"",colSize:3,id:o.concept_id,name:o.name,required:!0,eventType:"input",alertsErrorMassage:"",validationFunctionName:"validateFBS",unit:"mg/dL"}),o.name=="MRDT"||o.name=="Tuberculosis program"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="Lam"||o.name=="CrAg"||o.name=="CD4 count"||o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Urine Ketones"||o.name=="HIV test"){let l=[];(o.name=="MRDT"||o.name=="Vdrl"||o.name=="Hepatitis B"||o.name=="CrAg"||o.name=="Lam")&&(l=[{id:"1",name:"Positive"},{id:"2",name:"Negative"},{id:"3",name:"Invalid"}]),o.name=="Tuberculosis program"&&(l=[{id:"1",name:"Scanty"},{id:"2",name:"Negative"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"}]),o.name=="CD4 count"&&(l=[{id:"1",name:"below reference line"},{id:"2",name:"above reference line"}]),(o.name=="Leukocytes"||o.name=="Protein"||o.name=="Nitrite"||o.name=="Ketones"||o.name=="Urine Ketones")&&(l=[{id:"2",name:"Negative"},{id:"1",name:"Trace"},{id:"3",name:"1+"},{id:"4",name:"2+"},{id:"5",name:"3+"},{id:"6",name:"4+"}]),o.name=="HIV test"&&(l=[{id:"2",name:"Positive"},{id:"1",name:"Negative"},{id:"3",name:"Invalid"}]),r={inputHeader:o.name,icon:P.search,value:"",name:"units",eventType:"input",alertsErrorMassage:"",isSingleSelect:!0,trackBy:"id",multiSelectData:l,id:o.concept_id,idName:"district_id"}}a[1].data.rowData[0].colData.push(r)}),Da().setLabResults(a),this.openModal=!0,this.orders=await je.getOrders(this.patient.patientID)},async viewLabOrder(e){console.log("ðŸš€ ~ openResultsForm ~ labResults:",e),this.labResultsContent=e,this.openResultsModal=!0},setActivClass(e){this.activeHeight="",this.activeBMI="",this.activeWeight="",e=="height"?this.activeHeight="_active":e=="weight"?this.activeWeight="_active":e=="BMI"&&(this.activeBMI="_active")},setListData(e){const t={containSize:2.1,btnSize:1};this.listHeaderResults=this.generateListHeader(["Date","Accession Number","Lab Test","Specimen","Result"],t),this.listHeaderOrders=this.generateListHeader(["Date","Accession Number","Lab Test","Specimen"]),this.listSeeMoreResults=this.generateListItems(e,"result",!0,t),this.listSeeLessResults=this.generateListItems(e,"result",!1,t),this.listSeeMoreOrders=this.generateListItems(e,"order",!0),this.listSeeLessOrders=this.generateListItems(e,"order",!1),this.listResults=[this.listHeaderResults,...this.listSeeLessResults],this.listOrders=[this.listHeaderOrders,...this.listSeeLessOrders]},generateListHeader(e,t={}){return{containSize:t==null?void 0:t.containSize,btnSize:t==null?void 0:t.btnSize,class:"",header:!0,minHeight:"--min-height: 25px;",display:e}},generateListItems(e,t,a,s={}){let o=0;return e.length>0?e.flatMap(r=>r.tests.flatMap(l=>{var h,m,f,y;let c=null;if(((h=l==null?void 0:l.result)==null?void 0:h.length)==1?c=(l==null?void 0:l.result)!=null?((m=l==null?void 0:l.result[0])==null?void 0:m.value_modifier)+((f=l==null?void 0:l.result[0])==null?void 0:f.value):null:((y=l==null?void 0:l.result)==null?void 0:y.length)>1&&(c=l==null?void 0:l.result),c==""&&console.log("ðŸš€ ~ returnitem.tests.flatMap ~ result:",l),t==="result"&&c!==null||t==="order"&&c===null){const D={containSize:s==null?void 0:s.containSize,btnSize:s==null?void 0:s.btnSize,btn:t==="order"?["enter_results","attach","print","delete"]:["print","delete"],minHeight:"--min-height: 25px;",class:"",id:r.order_id,name:l.name,item:l,display:t=="order"?[ne.toStandardHisFormat(r.order_date),r.accession_number,l.name,r.specimen.name]:[ne.toStandardHisFormat(r.order_date),r.accession_number,l.name,r.specimen.name,c]};if(a||o<2)return o++,[D]}return[]})):[]},seeOrderStatus(e){e=="more"?this.listResults=[this.listHeaderResults,...this.listSeeMoreResults]:e=="less"&&(this.listResults=[this.listHeaderResults,...this.listSeeLessResults])},seeResultsStatus(e){e=="more"?this.listOrders=[this.listHeaderOrders,...this.listSeeMoreOrders]:e=="less"&&(this.listOrders=[this.listHeaderOrders,...this.listSeeLessOrders])}}}),Su={key:1,class:"modal_wrapper"},Cu={style:{"--background":"#fff"}},wu={key:0,style:{"margin-top":"5px"}},Iu={key:1,style:{"margin-top":"5px"}},Pu={key:2,class:"modal_wrapper"},Nu={class:"scrollable-container"},ku={key:0,style:{"margin-top":"5px"}},Bu={key:1,style:{"margin-top":"5px"}},$u={key:3},Mu={key:0},Au={key:1};function Eu(e,t,a,s,o,r){const l=d("SendToLabConfirmationModal"),c=d("DashBox"),h=d("LabTestsHistory"),m=d("DynamicButton"),f=d("list"),y=d("LabModal"),D=d("LabViewResultsModal");return p(),v(te,null,[n(l,{closeModalFunc:e.closeSendToLabModal,onYes:e.handleSendToLabYes,onNo:e.handleSendToLabNo,isOpen:e.sendToLabModalOpen,title:"Do you really want to send patient to lab?"},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.listResults.length<1&&e.listOrders.length<1?(p(),A(c,{key:0,content:"No Investigations added "})):$("",!0),e.listResults.length>1?(p(),v("div",Su,[t[7]||(t[7]=_("div",{style:{"font-weight":"1000"}},"Lab Investigations history",-1)),_("div",Cu,[n(h)]),e.listResults.length<=4&&e.listSeeMoreResults.length>=4?(p(),v("div",wu,[n(m,{onClick:t[0]||(t[0]=C=>e.seeOrderStatus("more")),name:"Show More Lab Results",fill:"clear",iconSlot:"icon-only"})])):e.listResults.length>=5?(p(),v("div",Iu,[n(m,{onClick:t[1]||(t[1]=C=>e.seeOrderStatus("less")),name:"Show Less Lab Results",fill:"clear",iconSlot:"icon-only"})])):$("",!0)])):$("",!0),e.listOrders.length>1?(p(),v("div",Pu,[t[8]||(t[8]=_("div",{style:{"font-weight":"700"}},"Lab Orders",-1)),_("div",Nu,[n(f,{listData:e.listOrders.map(C=>({...C,disabledEnterResults:e.hasPatientsWaitingForLab&&e.activeProgram.program_id===14&&(e.userRoles==="Clinician"||e.userRoles==="Superuser")})),"onClicked:delete":e.voidLabOrder,"onClicked:results":e.openResultsForm},null,8,["listData","onClicked:delete","onClicked:results"])]),e.listOrders.length<=4&&e.listSeeMoreOrders.length>=4?(p(),v("div",ku,[n(m,{onClick:t[2]||(t[2]=C=>e.seeResultsStatus("more")),name:"Show More Lab Orders",fill:"clear",iconSlot:"icon-only"})])):$("",!0),e.listOrders.length>=5?(p(),v("div",Bu,[n(m,{onClick:t[3]||(t[3]=C=>e.seeResultsStatus("less")),name:"Show Less Lab Orders",fill:"clear",iconSlot:"icon-only"})])):$("",!0)])):$("",!0),e.activeProgram.program_id==14&&e.hasEnterResults&&(e.userRoles==="Clinician"||e.userRoles==="Superuser")?(p(),v("div",$u,[e.hasPatientsWaitingForLab?(p(),v("div",Mu,[n(m,{class:"no-margin-left",fill:"clear",icon:"notification_icon",iconSlot:"icon-only",name:"Waiting for results from the lab. Consultation paused!"})])):(p(),v("div",Au,[n(m,{fill:"solid",icon:e.iconsContent.plus,iconSlot:"icon-only",onClick:t[4]||(t[4]=C=>e.toggleSendToLabModal()),name:"Send to Lab"},null,8,["icon"])]))])):$("",!0),n(y,{popoverOpen:e.openModal,onSaved:e.updateLabList,onCloseModal:t[5]||(t[5]=C=>e.openModal=!1)},null,8,["popoverOpen","onSaved"]),n(D,{popoverOpen:e.openResultsModal,content:e.labResultsContent,onCloseModal:t[6]||(t[6]=C=>e.openResultsModal=!1)},null,8,["popoverOpen","content"])],64)}const qa=O(Du,[["render",Eu],["__scopeId","data-v-9531f0d9"]]),Vu=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicForm:G},setup(){var l;const{adult:e,minor:t}=Qo(),{patient:a}=Ne();console.log(e),console.log(t);const s=b(""),o=b(ne.getAgeInYears((l=a==null?void 0:a.personInformation)==null?void 0:l.birthdate)),r=c=>{s.value=c};return Je(e,c=>{var E,T,U;const h=N(c,fa.EYE_OPENING_RESPONSE),m=N(c,fa.BEST_MOTOR_RESPONSE),f=N(c,fa.BEST_VERBAL_RESPONSE),y=(E=el[h])!=null?E:0,D=(T=Xo[m])!=null?T:0,C=(U=Zo[f])!=null?U:0;s.value="(M ".concat(D," V ").concat(C," E ").concat(y,") ").concat(y+D+C,"/15")}),Je(t,c=>{var E,T,U;const h=N(c,fa.EYE_OPENING_RESPONSE),m=N(c,fa.BEST_MOTOR_RESPONSE),f=N(c,fa.BEST_VERBAL_RESPONSE),y=(E=nl[h])!=null?E:0,D=(T=tl[m])!=null?T:0,C=(U=al[f])!=null?U:0;s.value="(M ".concat(D," V ").concat(C," E ").concat(y,") ").concat(y+D+C,"/5")}),{gcs:s,setGcs:r,minor:t,adult:e,patientAge:o}},data(){return{}},methods:{}}),Ou={class:"modal_wrapper"};function Tu(e,t,a,s,o,r){const l=d("basic-form");return p(),v("div",Ou,[e.patientAge<18?(p(),A(l,{key:0,contentData:e.minor},null,8,["contentData"])):$("",!0),e.patientAge>=18?(p(),A(l,{key:1,contentData:e.adult},null,8,["contentData"])):$("",!0),_("h5",null,k(e.gcs),1)])}const no=O(Vu,[["render",Tu]]),Fu=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicForm:G},data(){return{initialData:[]}},computed:{...w(vs,["pastMedicalHistory"])},mounted(){const e=vs();this.initialData=e.getInitial(),this.handleChronicConditions()},watch:{pastMedicalHistory:{handler(){this.handleChronicConditions()},deep:!0}},methods:{handleChronicConditions(){var t;const e=["TB","Chronic Obstructive Pulmonary Disease (COPD)","Asthma","Epilepsy","Previous stroke","Peptic Ulcer Disease (PUD)","Mental disorder","Bleeding disorders","Hypertension","HIV Positive","Diabetes Mellitus"];(t=ue(this.pastMedicalHistory,"None"))!=null&&t.checked?e.forEach(a=>{I(this.pastMedicalHistory,"TB treatment","displayNone",!0),u(this.pastMedicalHistory,"TB drugs","displayNone",!0),u(this.pastMedicalHistory,"TB drug start date","displayNone",!0),I(this.pastMedicalHistory,"Hypertension medication","displayNone",!0),u(this.pastMedicalHistory,"Current hypertension treatment regimen","displayNone",!0),I(this.pastMedicalHistory,"HIV status","displayNone",!0),u(this.pastMedicalHistory,"ARV start date","displayNone",!0),I(this.pastMedicalHistory,"Diabetes","displayNone",!0),I(this.pastMedicalHistory,"Controlled by","displayNone",!0),L(this.pastMedicalHistory,a,"checked",!1),L(this.pastMedicalHistory,a,"disabled",!0)}):e.forEach(a=>{L(this.pastMedicalHistory,a,"disabled",!1)})},handleInputData(e){u(this.pastMedicalHistory,"TB drugs","popOverData",{filterData:!0,data:[{name:"Auramine â€˜Oâ€™ (C.I. 41000) 50g"},{name:"Bedaquilline 100mg"},{name:"Clofazimine 100mg"},{name:"Clofazimine 50mg"},{name:"Cycloserine 125mg"},{name:"Cycloserine 250mg"},{name:"Delamanid 50mg"},{name:"Ethambutol 100mg"},{name:"Ethambutol 400mg"},{name:"Ethionamide 250mg"},{name:"Isoniazid 100mg "},{name:"Isoniazid 300mg"},{name:"Isoniazid / Rifapentine 300mg / 300mg"},{name:"Levofloxacin 100mg"},{name:"Levofloxacin 250mg"},{name:"Linezolid 600mg"},{name:"Moxifloxacin 400mg"},{name:"Pyrazinamide 400mg"},{name:"Rifabutin 150mg Capsules"},{name:"Rifampicin 150mg/isoniazid 75mg"},{name:"Rifampicin 75mg+INH 50mg dispersible"},{name:"Rifampicin 75mg+INH 50mg+Pyrazinamide 150mg dispersible"},{name:"Rifampicin150mg/Isoniazid75mg/Pyrazinamide 400mg/Ethambutol"}]}),u(this.pastMedicalHistory,"Current hypertension treatment regimen","popOverData",{filterData:!0,data:[{name:"Captopril 12.5mg"},{name:"Aspirin 75mg"},{name:"Hydrochlorothiazide 25mg"},{name:"Enalapril Meleate 5mg"},{name:"Enalapril Maleate 10mg"}]})}}}),Hu={class:"modal_wrapper"},Ru={class:"uniform_columns"};function Lu(e,t,a,s,o,r){const l=d("basic-form");return p(),v("div",Hu,[_("div",Ru,[n(l,{contentData:e.pastMedicalHistory,initialData:e.initialData,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","initialData","onUpdate:inputValue","onUpdate:selected"])])])}const xu=O(Fu,[["render",Lu],["__scopeId","data-v-2b756eeb"]]),Uu=B({name:"immidiatePostnatalChecksForChild",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{initialData:[],iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(gs,["physicalExam"]),...w(Ne,["patient"])},mounted(){const e=gs();this.initialData=e.getInitial(),this.handlePhysicalExam(),this.handleGenitalExam()},watch:{physicalExam:{handler(){this.handlePhysicalExam(),this.handleGenitalExam()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handlePhysicalExam(){N(this.physicalExam,"Physical examination")=="No"?I(this.physicalExam,"Reason why physical examination not done","displayNone",!1):(I(this.physicalExam,"Reason why physical examination not done","displayNone",!0),I(this.physicalExam,"Reason why physical examination not done","selectedValue",""))},handleGenitalExam(){var t,a;const e=(a=(t=this.patient)==null?void 0:t.personInformation)==null?void 0:a.gender;e=="M"&&(L(this.physicalExam,"Vulva examination","disabled",!0),L(this.physicalExam,"Visible bleeding","disabled",!0)),e=="F"&&(L(this.physicalExam,"Urethral meatus abnormal","disabled",!0),L(this.physicalExam,"Scrotal swelling","disabled",!0),L(this.physicalExam,"Tastes swelling","disabled",!0))}}}),zu={class:"container"};function qu(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",zu,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.physicalExam,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const so=O(Uu,[["render",qu],["__scopeId","data-v-c1d7fdd5"]]),Wu=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicForm:G},data(){return{}},computed:{...w(sl,["pregnancy"])},methods:{handleInputData(){}}}),Gu={class:"modal_wrapper"};function ju(e,t,a,s,o,r){const l=d("basic-form");return p(),v("div",Gu,[n(l,{contentData:e.pregnancy,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:inputValue"])])}const io=O(Wu,[["render",ju]]),Yu=B({name:"Menu",components:{IonButton:it,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Kt,DynamicButton:Be},setup(){const e=Ra();return{selectedAllergiesList2:ze(()=>e.selectedMedicalAllergiesList)}},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",allergies:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],selectedAllergiesList2:[],pastMedicalHistory:[],levelOfConsciousness:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:[],physicalExams:[],eyesAbnormal:[],mouthAbnormal:[],earsAbnormal:[],faceAbnormal:[],neckAbnormal:[],chestAbnormal:[],chestMovement:[],heartSoundsAbnormal:[],breathSoundsAbnormal:[],addedBreathSoundsAbnormal:[],abdominalInspectionAbnormal:[]}},watch:{patient:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()},computed:{...w(Ne,["patient"]),todayVisit(){const e=ne.toStandardHisFormat(new Date);return this.visits.find(t=>t===e)||null},uniquePastMedicalHistory(){return[...new Map(this.pastMedicalHistory.map(e=>[e,e])).values()]},uniquePresentingComplaints(){return[...new Map(this.presentingComplaint.map(e=>[e,e])).values()]},uniqueEyesAbnormal(){return[...new Map(this.eyesAbnormal.map(e=>[e,e])).values()]},uniqueMouthAbnormal(){return[...new Map(this.mouthAbnormal.map(e=>[e,e])).values()]},uniqueEarsAbnormal(){return[...new Map(this.earsAbnormal.map(e=>[e,e])).values()]},uniqueFaceAbnormal(){return[...new Map(this.faceAbnormal.map(e=>[e,e])).values()]},uniqueNeckAbnormal(){return[...new Map(this.neckAbnormal.map(e=>[e,e])).values()]},uniqueChestAbnormal(){return[...new Map(this.chestAbnormal.map(e=>[e,e])).values()]},uniqueChestMovement(){return[...new Map(this.chestMovement.map(e=>[e,e])).values()]},uniqueHeartSoundsAbnormal(){return[...new Map(this.heartSoundsAbnormal.map(e=>[e,e])).values()]},uniqueBreathSoundsAbnormal(){return[...new Map(this.breathSoundsAbnormal.map(e=>[e,e])).values()]},uniqueAddedBreathSoundsAbnormal(){return[...new Map(this.addedBreathSoundsAbnormal.map(e=>[e,e])).values()]},uniqueAbdominalInspectionAbnormal(){return[...new Map(this.abdominalInspectionAbnormal.map(e=>[e,e])).values()]}},methods:{async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setDiagnosisEncounters(t),await this.setVitalsEncounters(t),await this.setPresentingComplainsEncounters(t),await this.setLevelOfConsciousnessEncounters(t),await this.setPregnancyStatusEncounters(t),await this.setTreatmentEncounters(t),await this.setPastMedicalHistoryEncounters(t),await this.setAllergiesEncounters(t),await this.setPhysicalExamEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setDiagnosisEncounters(e){var a;const t=(a=this.findEncounter(e,"OUTPATIENT DIAGNOSIS"))==null?void 0:a.observations;this.primaryDiagnosis=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded"),this.secondaryDiagnosis=await this.getConceptValues(this.filterObs(t,"Secondary diagnosis"),"coded")},async setVitalsEncounters(e){var a,s,o,r,l,c,h,m,f,y,D,C,E,T,U,R,M,H,K,X,ce,se,Q,de,Ee;const t=(a=this.findEncounter(e,"VITALS"))==null?void 0:a.observations;this.vitals.weight=(r=(o=(s=this.filterObs(t,"Weight"))==null?void 0:s[0])==null?void 0:o.value_numeric)!=null?r:"",this.vitals.temperature=(h=(c=(l=this.filterObs(t,"Temperature"))==null?void 0:l[0])==null?void 0:c.value_numeric)!=null?h:"",this.vitals.pulse=(y=(f=(m=this.filterObs(t,"Pulse"))==null?void 0:m[0])==null?void 0:f.value_numeric)!=null?y:"",this.vitals.SAO2=(E=(C=(D=this.filterObs(t,"SAO2"))==null?void 0:D[0])==null?void 0:C.value_numeric)!=null?E:"",this.vitals.height=(R=(U=(T=this.filterObs(t,"Height (cm)"))==null?void 0:T[0])==null?void 0:U.value_numeric)!=null?R:"",this.vitals.systolic=(K=(H=(M=this.filterObs(t,"Systolic"))==null?void 0:M[0])==null?void 0:H.value_numeric)!=null?K:"",this.vitals.respirationRate=(se=(ce=(X=this.filterObs(t,"Respiration rate"))==null?void 0:X[0])==null?void 0:ce.value_numeric)!=null?se:"",this.vitals.diastolic=(Ee=(de=(Q=this.filterObs(t,"Diastolic"))==null?void 0:Q[0])==null?void 0:de.value_numeric)!=null?Ee:"",this.vitals.weight&&this.vitals.height&&await this.setBMI(this.vitals.weight,this.vitals.height)},async setTreatmentEncounters(e){},async setPresentingComplainsEncounters(e){var a;const t=(a=this.findEncounter(e,"PRESENTING COMPLAINTS"))==null?void 0:a.observations;this.presentingComplaint=await this.getConceptValues(this.filterObs(t,"Presenting complaint"),"coded")},async setLevelOfConsciousnessEncounters(e){var a;const t=(a=this.findEncounter(e,"ASSESSMENT"))==null?void 0:a.observations;if(t&&Array.isArray(t)){const s=this.filterObs(t,"Eye opening response");this.levelOfConsciousness.eyeResponse=s.length>0?await Ge.getConceptName(s[0].value_coded):"";const o=this.filterObs(t,"Best verbal response");this.levelOfConsciousness.verbalResponse=o.length>0?await Ge.getConceptName(o[0].value_coded):"";const r=this.filterObs(t,"Best motor response");this.levelOfConsciousness.motorResponse=r.length>0?await Ge.getConceptName(r[0].value_coded):""}},async setPregnancyStatusEncounters(e){var a;const t=(a=this.findEncounter(e,"PREGNANCY STATUS"))==null?void 0:a.observations;if(t&&Array.isArray(t)){const s=this.filterObs(t,"Patient pregnant");this.pregnancy.patientPregnant=s.length>0?await Ge.getConceptName(s[0].value_coded):"";const o=this.filterObs(t,"Is patient breast feeding?");this.pregnancy.breastFeeding=o.length>0?await Ge.getConceptName(o[0].value_coded):""}},async setPhysicalExamEncounters(e){var a;const t=(a=this.findEncounter(e,"EXAMINATION"))==null?void 0:a.observations;this.eyesAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for eyes"),"coded"),this.mouthAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for  mouth"),"coded"),this.earsAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for ears"),"coded"),this.faceAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for face"),"coded"),this.neckAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for neck"),"coded"),this.chestAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormality for  chest inspection"),"coded"),this.chestMovement=await this.getConceptValues(this.filterObs(t,"Chest movements"),"coded"),this.heartSoundsAbnormal=await this.getConceptValues(this.filterObs(t,"Heart sounds abnormality"),"coded"),this.breathSoundsAbnormal=await this.getConceptValues(this.filterObs(t,"Breath sounds abnormality"),"coded"),this.addedBreathSoundsAbnormal=await this.getConceptValues(this.filterObs(t,"Abnormalities when added"),"coded"),this.abdominalInspectionAbnormal=await this.getConceptValues(this.filterObs(t,"Abdominal inspection abnormality"),"coded")},async setPastMedicalHistoryEncounters(e){var a;const t=(a=this.findEncounter(e,"MEDICAL HISTORY"))==null?void 0:a.observations;this.pastMedicalHistory=await this.getConceptValues(this.filterObs(t,"Chronic disease"),"coded")},async setAllergiesEncounters(e){var a;const t=(a=this.findEncounter(e,"MEDICAL HISTORY"))==null?void 0:a.observations;this.allergies=await this.getConceptValues(this.filterObs(t,"Chronic disease"),"coded")},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){Ct(Qt)},async setBMI(e,t){var a,s,o,r,l,c,h,m;(s=(a=this.patient)==null?void 0:a.personInformation)!=null&&s.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&(this.BMI=await qt.getBMI(parseInt(e),parseInt(t),(c=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:c.gender,ne.calculateAge((m=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:m.birthdate,ne.sessionDate()))),this.updateBMI()},async updateBMI(){var t,a,s,o,r,l;const e=(a=(t=this.BMI)==null?void 0:t.color)!=null?a:[];this.vitalsWeightHeight.icon=qt.iconBMI(e),this.vitalsWeightHeight.backgroundColor=e[0],this.vitalsWeightHeight.textColor=e[1],this.vitalsWeightHeight.index="BMI "+((o=(s=this.BMI)==null?void 0:s.index)!=null?o:""),this.vitalsWeightHeight.value=(l=(r=this.BMI)==null?void 0:r.result)!=null?l:""}}}),Ju={class:"visitContent"},Ku={class:"visitData"},Qu={key:0},Xu={key:0,class:"levelOfConsciousnessContent"},Zu={style:{"font-weight":"normal !important"}},eh={key:1,class:"levelOfConsciousnessContent"},th={style:{"font-weight":"normal !important"}},ah={key:2,class:"levelOfConsciousnessContent"},nh={style:{"font-weight":"normal !important"}},sh={key:1,class:"noData"},ih={key:2},oh={style:{display:"flex","flex-wrap":"wrap"}},lh={key:3,class:"noData"},rh={key:4},dh={key:0,class:"levelOfConsciousnessContent"},ch={style:{"font-weight":"bold !important"}},uh={key:1,class:"levelOfConsciousnessContent"},hh={style:{"font-weight":"bold"}},ph={key:5,class:"noData"},mh={key:6},fh={style:{display:"flex","flex-wrap":"wrap"}},_h={key:7,class:"noData"},vh={key:8},gh={key:9,class:"noData"},yh={key:0,class:"physicalExam"},bh={style:{display:"flex","flex-wrap":"wrap"}},Dh={key:1,class:"physicalExam"},Sh={style:{display:"flex","flex-wrap":"wrap"}},Ch={key:2,class:"physicalExam"},wh={style:{display:"flex","flex-wrap":"wrap"}},Ih={key:3,class:"physicalExam"},Ph={style:{display:"flex","flex-wrap":"wrap"}},Nh={key:4,class:"physicalExam"},kh={style:{display:"flex","flex-wrap":"wrap"}},Bh={key:5,class:"physicalExam"},$h={style:{display:"flex","flex-wrap":"wrap"}},Mh={key:6,class:"physicalExam"},Ah={style:{display:"flex","flex-wrap":"wrap"}},Eh={key:7,class:"physicalExam"},Vh={style:{display:"flex","flex-wrap":"wrap"}},Oh={key:8,class:"physicalExam"},Th={style:{display:"flex","flex-wrap":"wrap"}},Fh={key:9,class:"physicalExam"},Hh={style:{display:"flex","flex-wrap":"wrap"}},Rh={key:10,class:"physicalExam"},Lh={style:{display:"flex","flex-wrap":"wrap"}};function xh(e,t,a,s,o,r){const l=d("ion-button"),c=d("ion-row"),h=d("ion-item"),m=d("ion-col");return p(),v("div",Ju,[n(c,null,{default:i(()=>[n(m,{offset:"0.1",size:"10"},{default:i(()=>{var f,y,D,C,E,T,U,R,M,H,K,X,ce,se;return[_("div",Ku,[e.levelOfConsciousness.eyeResponse||e.levelOfConsciousness.verbalResponse||e.levelOfConsciousness.motorResponse?(p(),v("div",Qu,[_("div",null,[t[3]||(t[3]=_("div",{class:"heading"},"1. Level of consciousness presented:",-1)),e.levelOfConsciousness.eyeResponse?(p(),v("div",Xu,[t[0]||(t[0]=S(" Eye opening response: ")),_("span",Zu,k(e.levelOfConsciousness.eyeResponse),1)])):$("",!0),e.levelOfConsciousness.verbalResponse?(p(),v("div",eh,[t[1]||(t[1]=S(" Best verbal response: ")),_("span",th,k(e.levelOfConsciousness.verbalResponse),1)])):$("",!0),e.levelOfConsciousness.motorResponse?(p(),v("div",ah,[t[2]||(t[2]=S(" Best motor response: ")),_("span",nh,k(e.levelOfConsciousness.motorResponse),1)])):$("",!0)])])):(p(),v("div",sh,"1. No level of consciousness recorded")),((f=e.uniquePresentingComplaints)==null?void 0:f.length)>0?(p(),v("div",ih,[t[4]||(t[4]=_("div",{class:"heading"},"2. Presenting Complaints recorded",-1)),_("div",oh,[(p(!0),v(te,null,he(e.uniquePresentingComplaints,(Q,de)=>(p(),v("div",{class:"spanContent",key:de},k(Q),1))),128))])])):(p(),v("div",lh,"2. No presenting complaints were recorded")),e.pregnancy.patientPregnant||e.pregnancy.breastFeeding?(p(),v("div",rh,[_("div",null,[t[7]||(t[7]=_("div",{class:"heading"},"3. Pregnancy and breast feeding status recorded:",-1)),e.pregnancy.patientPregnant?(p(),v("div",dh,[t[5]||(t[5]=S(" Is the patient pregnant?: ")),_("span",ch,k(e.pregnancy.patientPregnant),1)])):$("",!0),e.pregnancy.breastFeeding?(p(),v("div",uh,[t[6]||(t[6]=S(" Is the patient breast feeding?: ")),_("span",hh,k(e.pregnancy.breastFeeding),1)])):$("",!0)])])):(p(),v("div",ph,"3. No pregnancy and breastfeeding status was recorded")),((y=e.uniquePastMedicalHistory)==null?void 0:y.length)>0?(p(),v("div",mh,[t[8]||(t[8]=_("div",{class:"heading"},"4. Past medical history recorded",-1)),_("div",fh,[(p(!0),v(te,null,he(e.uniquePastMedicalHistory,(Q,de)=>(p(),v("div",{class:"spanContent",key:de},k(Q),1))),128))])])):(p(),v("div",_h,"4. No past medical history was recorded")),((D=e.selectedAllergiesList2)==null?void 0:D.length)>0?(p(),v("div",vh,[t[9]||(t[9]=_("div",{class:"heading"},"5. Allergies recorded",-1)),n(h,{lines:"none",class:"medicalAl"},{default:i(()=>[n(c,null,{default:i(()=>[(p(!0),v(te,null,he(e.selectedAllergiesList2,(Q,de)=>(p(),v("div",{key:de},[Q.selected?(p(),A(l,{key:0,style:{padding:"2px"},class:"medicalAlBtn"},{default:i(()=>[S(k(Q.name),1)]),_:2},1024)):$("",!0)]))),128))]),_:1})]),_:1})])):(p(),v("div",gh,"5. No allergies were recorded")),_("div",null,[_("div",null,[t[21]||(t[21]=_("div",{class:"heading"},"6.Physical exams recorded:",-1)),((C=e.uniqueEyesAbnormal)==null?void 0:C.length)>0?(p(),v("div",yh,[t[10]||(t[10]=S(" Abnormality for eyes: ")),_("div",bh,[(p(!0),v(te,null,he(e.uniqueEyesAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((E=e.uniqueMouthAbnormal)==null?void 0:E.length)>0?(p(),v("div",Dh,[t[11]||(t[11]=S(" Abnormality for mouth: ")),_("div",Sh,[(p(!0),v(te,null,he(e.uniqueMouthAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((T=e.uniqueEarsAbnormal)==null?void 0:T.length)>0?(p(),v("div",Ch,[t[12]||(t[12]=S(" Abnormality for ears: ")),_("div",wh,[(p(!0),v(te,null,he(e.uniqueEarsAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((U=e.uniqueFaceAbnormal)==null?void 0:U.length)>0?(p(),v("div",Ih,[t[13]||(t[13]=S(" Abnormality for face: ")),_("div",Ph,[(p(!0),v(te,null,he(e.uniqueFaceAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((R=e.uniqueNeckAbnormal)==null?void 0:R.length)>0?(p(),v("div",Nh,[t[14]||(t[14]=S(" Abnormality for neck: ")),_("div",kh,[(p(!0),v(te,null,he(e.uniqueNeckAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((M=e.uniqueChestAbnormal)==null?void 0:M.length)>0?(p(),v("div",Bh,[t[15]||(t[15]=S(" Abnormality after chest inspection: ")),_("div",$h,[(p(!0),v(te,null,he(e.uniqueChestAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((H=e.uniqueChestMovement)==null?void 0:H.length)>0?(p(),v("div",Mh,[t[16]||(t[16]=S(" Chest movement:: ")),_("div",Ah,[(p(!0),v(te,null,he(e.uniqueChestMovement,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((K=e.uniqueHeartSoundsAbnormal)==null?void 0:K.length)>0?(p(),v("div",Eh,[t[17]||(t[17]=S(" Heart sounds abnormality: ")),_("div",Vh,[(p(!0),v(te,null,he(e.uniqueHeartSoundsAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((X=e.uniqueBreathSoundsAbnormal)==null?void 0:X.length)>0?(p(),v("div",Oh,[t[18]||(t[18]=S(" Breath sounds abnormality: ")),_("div",Th,[(p(!0),v(te,null,he(e.uniqueBreathSoundsAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((ce=e.uniqueAddedBreathSoundsAbnormal)==null?void 0:ce.length)>0?(p(),v("div",Fh,[t[19]||(t[19]=S(" Abnormalities when breath sound is \"added': ")),_("div",Hh,[(p(!0),v(te,null,he(e.uniqueAddedBreathSoundsAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0),((se=e.uniqueAbdominalInspectionAbnormal)==null?void 0:se.length)>0?(p(),v("div",Rh,[t[20]||(t[20]=S(" Abdominal inspection abnormality: ")),_("div",Lh,[(p(!0),v(te,null,he(e.uniqueAbdominalInspectionAbnormal,(Q,de)=>(p(),v("div",{class:"levelOfConsciousnessContent",key:de},k(Q),1))),128))])])):$("",!0)])])])]}),_:1})]),_:1})])}const Uh=O(Yu,[["render",xh],["__scopeId","data-v-2f7079e9"]]),zh=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Vt,SelectionPopover:Et,BasicInputField:ee,BasicForm:G,List:wt,DynamicButton:Be,labOrderResults:qa,Allergies:Zi,LevelOfConsciousness:no,PastMedicalHistory:xu,PhysicalExamination:so,PregnancyBreastfeeding:io,PresentingComplaints:ps,VisitHistory:Uh},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){const e=b([]),t=b(!0);async function a(c){const h=new Me,m=await Ht.getEncounters(h.getID(),{date:c});await s(m)}async function s(c){var m;const h=(m=c.find(f=>f.type.name==="PRESENTING COMPLAINTS"))==null?void 0:m.observations;h?e.value=await r(o(h,"Presenting complaint")):e.value=[],t.value=!1}function o(c,h){return c==null?void 0:c.filter(m=>m.concept.concept_names.some(f=>f.name===h))}async function r(c,h){return c?Promise.all(c.map(async m=>await Ge.getConceptName(m.value_coded))):[]}return(async()=>{const c=new Date().toISOString().split("T")[0];await a(c)})(),{presentingComplaints:e,loading:t}},computed:{...w(Ne,["patient"])},watch:{presentingComplaints:{handler(e){},deep:!0}},methods:{checkPatient(){return new Me().isChildBearing()}}}),qh={key:0,style:{width:"100%","text-align":"center",padding:"20px"}},Wh={key:1,style:{width:"100%"}},Gh={key:2,style:{width:"100%"}},jh={class:"ion-padding",slot:"content"},Yh={class:"ion-padding",slot:"content"},Jh={class:"ion-padding",slot:"content"},Kh={class:"ion-padding",slot:"content"},Qh={class:"ion-padding",slot:"content"},Xh={class:"ion-padding",slot:"content"};function Zh(e,t,a,s,o,r){const l=d("ion-spinner"),c=d("VisitHistory"),h=d("ion-label"),m=d("ion-item"),f=d("LevelOfConsciousness"),y=d("ion-accordion"),D=d("ion-accordion-group"),C=d("PresentingComplaints"),E=d("PregnancyBreastfeeding"),T=d("PastMedicalHistory"),U=d("Allergies"),R=d("PhysicalExamination"),M=d("ion-row");return p(),A(M,null,{default:i(()=>[e.loading?(p(),v("div",qh,[n(l,{name:"crescent"}),t[0]||(t[0]=_("p",null,"Loading...",-1))])):e.presentingComplaints&&e.presentingComplaints.length>0?(p(),v("div",Wh,[n(c)])):(p(),v("div",Gh,[n(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[S("Level of consciousness")])),_:1,__:[1]})]),_:1}),_("div",jh,[n(f)])]),_:1})]),_:1},512),n(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("Presenting complaints")])),_:1,__:[2]})]),_:1}),_("div",Yh,[n(C)])]),_:1})]),_:1},512),e.checkPatient()?(p(),A(D,{key:0,ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[S("Pregnancy and breastfeeding status")])),_:1,__:[3]})]),_:1}),_("div",Jh,[n(E)])]),_:1})]),_:1},512)):$("",!0),n(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[4]||(t[4]=[S("Past medical history")])),_:1,__:[4]})]),_:1}),_("div",Kh,[n(T)])]),_:1})]),_:1},512),n(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[5]||(t[5]=[S("Allergies")])),_:1,__:[5]})]),_:1}),_("div",Qh,[n(U)])]),_:1})]),_:1},512),n(D,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(y,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(m,{slot:"header",color:"light"},{default:i(()=>[n(h,{class:"previousLabel"},{default:i(()=>t[6]||(t[6]=[S("Physical examination")])),_:1,__:[6]})]),_:1}),_("div",Xh,[n(R)])]),_:1})]),_:1},512)]))]),_:1})}const ep=O(zh,[["render",Zh],["__scopeId","data-v-f05194f6"]]),tp=B({data:()=>({BMI:{},BPStatus:{},vitalsData:{}}),computed:{...w(Ne,["patient"])},methods:{async setTodayVitals(){var s,o;const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","SAO2","Respiratory rate"],t=ne.getAgeInYears((o=(s=this.patient)==null?void 0:s.personInformation)==null?void 0:o.birthdate),a=e.map(async r=>{const l=await Ae.getFirstObsDatetime(this.patient.patientID,r);l&&ne.toStandardHisFormat(l)==ne.sessionDate()?(r=="Weight"&&L(this.vitalsData,"Height And Weight Not Done","displayNone",!0),r=="Systolic"&&L(this.vitalsData,"Blood Pressure Not Done","displayNone",!0),r=="Pulse"&&L(this.vitalsData,"Pulse Rate Not Done","displayNone",!0),r=="Respiratory rate"&&L(this.vitalsData,"Respiratory rate Not Done","displayNone",!0),u(this.vitalsData,r,"value",await Ae.getFirstValueNumber(this.patient.patientID,r,ne.sessionDate())),u(this.vitalsData,r,"disabled",!0)):u(this.vitalsData,r,"value",""),r==="Respiratory rate"&&t<=5&&(u(this.vitalsData,r,"required",!0),u(this.vitalsData,r,"inputHeader","Respiratory rate*"))});await Promise.all(a)},async setBMI(e,t){var a,s,o,r,l,c,h,m;(s=(a=this.patient)==null?void 0:a.personInformation)!=null&&s.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&F.vitalsHeight(e)==null&&F.vitalsWeight(t)==null?this.BMI=await qt.getBMI(parseInt(t),parseInt(e),(c=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:c.gender,ne.calculateAge((m=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:m.birthdate,ne.sessionDate())):this.BMI={},await this.updateBMI()},async updateBMI(){var t,a,s,o,r,l;if(!this.vitalsData[0])return;const e=(a=(t=this.BMI)==null?void 0:t.color)!=null?a:[];this.updateRate("bmi","BMI "+((o=(s=this.BMI)==null?void 0:s.index)!=null?o:""),"",{colors:e,value:(l=(r=this.BMI)==null?void 0:r.result)!=null?l:""},qt.iconBMI(e))},async updateBP(e,t){var s,o,r,l;this.BPStatus=this.getBloodPressureStatus(e,t),F.vitalsSystolic(e)==null&&F.vitalsDiastolic(t)==null||(this.BPStatus={});const a=(o=(s=this.BPStatus)==null?void 0:s.colors)!=null?o:[];this.updateRate("bp",e+"/"+t,"mmHg",{colors:a,value:(l=(r=this.BPStatus)==null?void 0:r.value)!=null?l:""},Dn(a))},async updateRate(e,t,a,s,o=""){var c,h;if(!t)return;const r=t+" "+a,l=(c=s==null?void 0:s.colors)!=null?c:[];ka(this.vitalsData,e,"icon",o||""),ka(this.vitalsData,e,"textColor",l[1]),ka(this.vitalsData,e,"index",r),ka(this.vitalsData,e,"backgroundColor",l[0]),ka(this.vitalsData,e,"value",(h=s==null?void 0:s.value)!=null?h:"")},getBloodPressureStatus(e,t){if(e&&t){let a,s,o,r;const c=new Me().getAge();return c<1?(a=75,s=100,o=50,r=70):c>=1&&c<6?(a=80,s=110,o=50,r=80):c>=6&&c<13?(a=85,s=120,o=55,r=80):c>=13&&c<18?(a=95,s=140,o=60,r=90):(a=100,s=130,o=60,r=90),e<a&&t<o?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP "}:e>=a&&e<=s&&t>=o&&t<=r?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP "}:e>140&&t>90?{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP"}:e<a?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP  (Using Systolic Only)"}:e>=a&&e<=s?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP  (Using Systolic Only)"}:{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP  (Using Systolic Only)"}}},getTemperatureStatus(e){if(e&&F.vitalsTemperature(e)==null){let t,a;const o=new Me().getAge();if(o<=1||o>=1&&o<=18||o>=19&&o<=64||o>=65?(t=35.5,a=37.4):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Temperature "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Temperature "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Temperature "}}else return{}},getPulseRateStatus(e){if(F.vitalsPulseRate(e)==null){let t,a;const o=new Me().getAge();if(o<=.25?(t=100,a=160):o>=.25&&o<=1||o>=1&&o<=2?(t=80,a=120):o>=6&&o<=12?(t=70,a=100):o>=13&&o<=18?(t=55,a=90):o>=18?(t=60,a=100):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Pulse Rate "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Pulse Rate "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Pulse Rate "}}},getOxygenSaturationStatus(e){if(e&&F.vitalsOxygenSaturation(e)==null){let t=95,a=100;if(e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low oxygen saturation"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal oxygen saturation"}}},getRespiratoryRateStatus(e){if(F.vitalsRespiratoryRate(e)==null){let t,a;const o=new Me().getAge();if(o<=1?(t=30,a=60):o>=1&&o<3?(t=24,a=40):o>=3&&o<=6?(t=22,a=34):o>=6&&o<=12?(t=18,a=30):o>=12&&o<=18?(t=12,a=16):o>=19?(t=12,a=20):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low respiratory rate"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal respiratory rate"};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High respiratory rate"}}}}}),ap=B({mixins:[tp],components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,PreviousVitals:bn},data(){return{iconsContent:P,saveBtnStatus:{},TempStatus:{},PulseStatus:{},RespiratoryStatus:{},OxygenStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1}}},watch:{$route:{async handler(){this.vitalsData=this.vitals,await this.validateRowData("onload")},deep:!0},"patient.ID":{async handler(e,t){e!==t&&await this.checkHeight()}}},computed:{...w(Ne,["patient"]),...w(rn,["vitals"])},async mounted(){this.checkIfSamePatientInContext(),this.vitalsData=this.vitals,await this.checkHeight(),await this.validateRowData("onload")},setup(){return{checkmark:ie,pulseOutline:le}},methods:{checkIfSamePatientInContext(){const e=rn();e.current_patient.ID!=this.patient.ID&&(this.cleanVitalForm(),e.setCurrentPatient(this.patient))},navigationMenu(e){Ue.close(),this.$router.push(e)},cleanVitalForm(){const e=rn();e.setVitals(e.getInitialVitals(this.patient.ID))},async validationController(e){var t,a,s,o,r,l,c,h,m,f,y,D,C,E;((t=e==null?void 0:e.col)==null?void 0:t.name)=="Height Not Done"&&e.col.checked?(Oe(this.vitals,"Height (cm)","displayNone",!1),u(this.vitals,"Height (cm)","disabled",!0),u(this.vitals,"Height (cm)","inputHeader","Height"),u(this.vitals,"Height (cm)","value",""),this.validationStatus.heightWeight=!1):((a=e==null?void 0:e.col)==null?void 0:a.name)=="Height Not Done"&&(Oe(this.vitals,"Height (cm)","displayNone",!0),Oe(this.vitals,"Height (cm)","value",""),u(this.vitals,"Height (cm)","disabled",!1),u(this.vitals,"Height (cm)","inputHeader","Height*"),this.validationStatus.heightWeight=!0),((s=e==null?void 0:e.col)==null?void 0:s.name)=="Weight Not Done"&&e.col.checked?(Oe(this.vitals,"Weight","displayNone",!1),u(this.vitals,"Weight","disabled",!0),u(this.vitals,"Weight","inputHeader","Weight"),u(this.vitals,"Weight","value",""),this.validationStatus.heightWeight=!1):((o=e==null?void 0:e.col)==null?void 0:o.name)=="Weight Not Done"&&(Oe(this.vitals,"Weight","displayNone",!0),Oe(this.vitals,"Weight","value",""),u(this.vitals,"Weight","disabled",!1),u(this.vitals,"Weight","inputHeader","Weight*"),this.validationStatus.heightWeight=!0),((r=e==null?void 0:e.col)==null?void 0:r.name)=="Blood Pressure Not Done"&&e.col.checked?(Oe(this.vitals,"Blood Pressure","displayNone",!1),u(this.vitals,"Systolic","disabled",!0),u(this.vitals,"Diastolic","disabled",!0),u(this.vitals,"Systolic","inputHeader","Systolic Pressure"),u(this.vitals,"Diastolic","inputHeader","Diastolic pressure"),u(this.vitals,"Systolic","value",""),u(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!1):((l=e==null?void 0:e.col)==null?void 0:l.name)=="Blood Pressure Not Done"&&(Oe(this.vitals,"Blood Pressure","displayNone",!0),Oe(this.vitals,"Blood Pressure","value",""),u(this.vitals,"Systolic","disabled",!1),u(this.vitals,"Diastolic","disabled",!1),u(this.vitals,"Systolic","inputHeader","Systolic Pressure*"),u(this.vitals,"Diastolic","inputHeader","Diastolic pressure*"),u(this.vitals,"Systolic","value",""),u(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!0),((c=e==null?void 0:e.col)==null?void 0:c.name)=="Pulse Rate Not Done"&&e.col.checked?(Oe(this.vitals,"Pulse","displayNone",!1),u(this.vitals,"Pulse","disabled",!0),u(this.vitals,"Pulse","inputHeader","Pulse rate"),u(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!1):((h=e==null?void 0:e.col)==null?void 0:h.name)=="Pulse Rate Not Done"&&(Oe(this.vitals,"Pulse","displayNone",!0),Oe(this.vitals,"Pulse","value",""),u(this.vitals,"Pulse","disabled",!1),u(this.vitals,"Pulse","inputHeader","Pulse rate*"),u(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!0),((m=e==null?void 0:e.col)==null?void 0:m.name)=="Temperature Not Done"&&e.col.checked?(Oe(this.vitals,"Temperature","displayNone",!1),u(this.vitals,"Temperature","disabled",!0),u(this.vitals,"Temperature","inputHeader","Temperature"),u(this.vitals,"Temperature","value",""),this.validationStatus.bloodPressure=!1):((f=e==null?void 0:e.col)==null?void 0:f.name)=="Temperature Not Done"&&(Oe(this.vitals,"Temperature","displayNone",!0),Oe(this.vitals,"Temperature","value",""),u(this.vitals,"Temperature","disabled",!1),u(this.vitals,"Temperature","inputHeader","Temperature*"),u(this.vitals,"Temperature","value",""),this.validationStatus.bloodPressure=!0),((y=e==null?void 0:e.col)==null?void 0:y.name)=="Respiratory rate Not Done"&&e.col.checked?(Oe(this.vitals,"Respiratory rate","displayNone",!1),u(this.vitals,"Respiratory rate","disabled",!0),u(this.vitals,"Respiratory rate","inputHeader","Respiratory rate"),u(this.vitals,"Respiratory rate","value",""),this.validationStatus.bloodPressure=!1):((D=e==null?void 0:e.col)==null?void 0:D.name)=="Respiratory rate Not Done"&&(Oe(this.vitals,"Respiratory rate","displayNone",!0),Oe(this.vitals,"Respiratory rate","value",""),u(this.vitals,"Respiratory rate","disabled",!1),u(this.vitals,"Respiratory rate","inputHeader","Respiratory rate*"),u(this.vitals,"Respiratory rate","value",""),this.validationStatus.bloodPressure=!0),((C=e==null?void 0:e.col)==null?void 0:C.name)=="Oxygen saturation Not Done"&&e.col.checked?(Oe(this.vitals,"SAO2","displayNone",!1),u(this.vitals,"SAO2","disabled",!0),u(this.vitals,"SAO2","inputHeader","Oxygen saturation"),u(this.vitals,"SAO2","value",""),this.validationStatus.bloodPressure=!1):((E=e==null?void 0:e.col)==null?void 0:E.name)=="Oxygen saturation Not Done"&&(Oe(this.vitals,"SAO2","displayNone",!0),Oe(this.vitals,"SAO2","value",""),u(this.vitals,"SAO2","disabled",!1),u(this.vitals,"SAO2","inputHeader","Oxygen saturation*"),u(this.vitals,"SAO2","value",""),this.validationStatus.bloodPressure=!0)},async checkHeight(){var o,r,l,c;const e=[...((r=(o=this.patient)==null?void 0:o.vitals)==null?void 0:r.saved)||[],...((c=(l=this.patient)==null?void 0:l.vitals)==null?void 0:c.unsaved)||[]],t=await ys(e,"value_numeric",5090),a=await ys(e,"obs_datetime",5090),s=new Me;t&&(rs(a).diff(s.getBirthdate(),"year")<18||s.getAge()<18||(u(this.vitals,"Height (cm)","disabled",!0),u(this.vitals,"Height (cm)","value",t)))},async validateRowData(e){if(e!="onload"){await this.validationController(e);const t=oe(this.vitals,"Height (cm)","value"),a=oe(this.vitals,"Weight","value"),s=oe(this.vitals,"Systolic","value"),o=oe(this.vitals,"Diastolic","value"),r=oe(this.vitals,"Temperature","value"),l=oe(this.vitals,"Pulse","value"),c=oe(this.vitals,"Respiratory rate","value"),h=oe(this.vitals,"SAO2","value");await this.setBMI(t,a),await this.updateBP(s,o);const m=this.getPulseRateStatus(l);await this.updateRate("pulse",l," BMP",m,4);const f=this.getTemperatureStatus(r);this.updateRate("temp",r,"Â°C",f,4);const y=this.getRespiratoryRateStatus(c);this.updateRate("respiratory",c,"BMP",y,6);const D=this.getOxygenSaturationStatus(h);this.updateRate("oxygen",h,"%",D,6)}}}}),np={class:"ion-padding",slot:"content"};function sp(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-label"),h=d("ion-item"),m=d("PreviousVitals"),f=d("ion-accordion"),y=d("ion-accordion-group"),D=d("ion-row");return p(),v(te,null,[n(l,{contentData:e.vitals,"onUpdate:inputValue":t[0]||(t[0]=C=>e.validateRowData(C))},null,8,["contentData"]),n(D,null,{default:i(()=>[n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(c,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[S("Previous measurements")])),_:1,__:[1]})]),_:1}),_("div",np,[n(m)])]),_:1})]),_:1},512)]),_:1})],64)}const ip=O(ap,[["render",sp],["__scopeId","data-v-bbed3d60"]]),op=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,List:wt},computed:{...w(Ne,["patient"])},data(){return{valueNumericArray:[],obsDatetime:[],graphIcon:Ua(["#006401"]),listIcon:xa(["#636363"]),displayGraph:!0,orders:[],height:[],BMI:[],iconBg:{},activeWeight:[],activeHeight:[],activeBMI:[],list:[],series:[{name:"",data:[]}]}},setup(){return{checkmark:ie,pulseOutline:le}},async mounted(){const e=await Ae.getAll(this.patient.patientID,"Primary diagnosis"),t=await Ae.getAll(this.patient.patientID,"Secondary diagnosis"),a=await Ae.getAll(this.patient.patientID,"Attempted/ Differential diagnosis"),s=[...e||[],...t||[],...a||[]],o=$e.isEmpty(s)?[]:Promise.all(s.map(async r=>({name:await Ae.getConceptName(r.value_coded),obs_date:r.obs_datetime})));this.setListData(await o)},methods:{dismiss(){Wt.dismiss()},handleIcon(){},setActivClass(e){this.activeHeight="",this.activeBMI="",this.activeWeight="",e=="height"?this.activeHeight="_active":e=="weight"?this.activeWeight="_active":e=="BMI"&&(this.activeBMI="_active")},setListData(e){this.list=[],this.list.push({actionBtn:!1,class:"col_background",header:!0,minHeight:"--min-height: 25px;",display:["Date","Diagnosis","Notes"]}),e.forEach(t=>{this.list.push({actionBtn:!1,minHeight:"--min-height: 25px;",class:"col_background",display:[ne.toStandardHisFormat(t.obs_date),t.name,""]})})}}}),lp={class:"modal_wrapper"};function rp(e,t,a,s,o,r){const l=d("list");return p(),v("div",lp,[_("div",null,[n(l,{listData:e.list},null,8,["listData"])])])}const dp=O(op,[["render",rp],["__scopeId","data-v-88580898"]]),cp=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Vt,SelectionPopover:Et,BasicInputField:ee,List:wt,BasicForm:G,DynamicButton:Be,previousDiagnosis:dp},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_primary:!0,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],diagnosisData:[],popoverOpen:!1,event:"",selectedCondition:"",selected:null,diagnoses:[],initialData:[]}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(Hn,["OPDdiagnosis"]),primaryDiagnosisExists(){return this.OPDdiagnosis[0].selectedData.some(e=>e.data.concept_id===6542)},primaryInputField(){return this.OPDdiagnosis[0].data.rowData[0].colData},secondaryInputField(){return this.OPDdiagnosis[2].data.rowData[0].colData},differentialInputField(){return this.OPDdiagnosis[3].data.rowData[0].colData}},watch:{OPDdiagnosis:{handler(){this.setDashedBox()},deep:!0},patient:{handler(e){e&&this.resetDiagnosisList()},immediate:!0,deep:!0}},async mounted(){this.updateDiagnosisStores();const e=Hn();this.initialData=e.getInitial(),this.setDashedBox(),this.diagnoses.length||await this.getDiagnosis("")},methods:{resetDiagnosisList(){this.OPDdiagnosis[0].selectedData=[],this.updateDiagnosisStores()},displayInputFields(){this.conditionStatus="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validaterowData(e={name:"secondaryDiagnosis"}){u(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage",""),u(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage",""),u(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage","");const t=oe(this.OPDdiagnosis,"primaryDiagnosis","value"),a=oe(this.OPDdiagnosis,"secondaryDiagnosis","value"),s=oe(this.OPDdiagnosis,"differentialDiagnosis","value");if(t.name&&this.OPDdiagnosis[0].selectedData.some(c=>c.data.concept_id===6542))return u(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage","Only one primary diagnosis can be added. Delete the existing one to change."),ta("Only one primary diagnosis is allowed. Delete one added if you want to change"),!1;const o=a&&a.length>0,r=s&&s.length>0;return o&&a.some(l=>l.name===t.name)?(u(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage","".concat(t.name," is already selected as primary diagnosis.")),!1):r&&s.some(l=>l.name===t.name)?(u(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage","".concat(t.name," is already selected as primary diagnosis.")),!1):o&&r&&a.some(c=>s.some(h=>h.name===c.name))?(u(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage","Secondary and differential diagnoses cannot overlap."),!1):t!=null&&t.name?!0:(u(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage","Primary diagnosis is required."),!1)},async addNewRow(){await this.validaterowData()&&(this.buildDiagnosis(),this.search_item=!1,this.display_item=!0,this.addItemButton=!0,this.display_primary=!1,this.OPDdiagnosis[0].data.rowData[0].colData[0].value="",this.OPDdiagnosis[2].data.rowData[0].colData[0].value="",this.OPDdiagnosis[3].data.rowData[0].colData[0].value="",u(this.OPDdiagnosis,"primaryDiagnosis","inputFieldDisplayNone",!1),u(this.OPDdiagnosis,"primaryDiagnosis","colSize",""))},buildDiagnosis(){var a,s;const e=[],t=this.OPDdiagnosis[0].selectedData.map(o=>o.name);if((s=(a=this.primaryInputField[0])==null?void 0:a.value)!=null&&s.name&&!t.includes(this.primaryInputField[0].value.name))if(!this.OPDdiagnosis[0].selectedData.some(r=>r.data.concept_id===6542))e.push({actionBtn:!0,btn:["delete"],name:this.primaryInputField[0].value.name,id:this.primaryInputField[0].value.concept_id,display:[this.primaryInputField[0].value.name,"Primary diagnosis"],data:{concept_id:6542,value_coded:this.primaryInputField[0].value.concept_id,obs_datetime:Ve.getSessionDate()}});else return ta("Only one primary diagnosis is allowed"),!1;return this.secondaryInputField[0].value&&this.secondaryInputField[0].value.forEach(o=>{t.includes(o.name)||e.push({actionBtn:!0,btn:["delete"],name:o.name,id:o.concept_id,display:[o.name,"Secondary diagnosis"],data:{concept_id:6543,value_coded:o.concept_id,obs_datetime:Ve.getSessionDate()}})}),this.differentialInputField[0].value&&this.differentialInputField[0].value.forEach(o=>{t.includes(o.name)||e.push({actionBtn:!0,btn:["delete"],name:o.name,id:o.concept_id,display:[o.name,"Differential diagnosis"],data:{concept_id:10201,value_coded:o.concept_id,obs_datetime:Ve.getSessionDate()}})}),e.length>0&&(this.OPDdiagnosis[0].selectedData=[...this.OPDdiagnosis[0].selectedData,...e]),!0},compareArrays(e,t){return e.reduce((a,s)=>{const o=t.find(r=>r.name===s.name);return o&&a.push(o.display[1]),a},[])},updateDiagnosisStores(){Hn().setOPDDiagnosis(this.OPDdiagnosis)},openPopover(e){this.event=e,this.popoverOpen=!0},async handleInputData(e){u(this.OPDdiagnosis,"secondaryDiagnosis","alertsErrorMassage",""),u(this.OPDdiagnosis,"primaryDiagnosis","alertsErrorMassage",""),u(this.OPDdiagnosis,"differentialDiagnosis","alertsErrorMassage",""),await this.getDiagnosis(e.value),this.validaterowData(e)},async getDiagnosis(e){return this.diagnoses=await Gt("diagnosis"),u(this.OPDdiagnosis,"primaryDiagnosis","multiSelectData",this.diagnoses),u(this.OPDdiagnosis,"secondaryDiagnosis","multiSelectData",this.diagnoses),u(this.OPDdiagnosis,"differentialDiagnosis","multiSelectData",this.diagnoses),this.diagnoses},async onRefresh(e){(await this.getDiagnosis(e)).length>0&&St("Diagnoses selection list has been updated")},editDiagnosis(e){this.deleteDiagnosis(e),this.selectedText=e.name,this.OPDdiagnosis[0].data.rowData[0].colData[0].value=e.name,this.addItemButton=!1,this.search_item=!0,this.updateDiagnosisStores()},async openDeletePopover(e){await Yt("Do you want to delete ".concat(e.name," ?"),e.event)&&this.deleteDiagnosis(e.name)},deleteDiagnosis(e){const t=this.OPDdiagnosis[0].selectedData,a=e.name,s=t.filter(r=>r.display[0]!==a),o=t.filter(r=>r.display[0]===a);this.OPDdiagnosis[0].selectedData=s,o[0].data.concept_id==6542&&(u(this.OPDdiagnosis,"primaryDiagnosis","inputFieldDisplayNone",!1),u(this.OPDdiagnosis,"primaryDiagnosis","colSize",""))},setDashedBox(){var e,t,a,s;((t=(e=this.primaryInputField[0])==null?void 0:e.value)!=null&&t.name||(s=(a=this.primaryInputField[1])==null?void 0:a.value)!=null&&s.name)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.OPDdiagnosis[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0),this.addItemButton=!this.primaryDiagnosisExists}}}),up={class:"custom_card",style:{padding:"10px"}},hp={key:0},pp={key:0,style:{color:"red","margin-top":"10px",background:"lightgoldenrodyellow"}},mp={class:"ion-padding",slot:"content"};function fp(e,t,a,s,o,r){const l=d("DashBox"),c=d("list"),h=d("basic-form"),m=d("ion-row"),f=d("DynamicButton"),y=d("ion-label"),D=d("ion-item"),C=d("previousDiagnosis"),E=d("ion-accordion"),T=d("ion-accordion-group");return p(),v(te,null,[_("div",up,[n(l,{status:e.no_item,content:"No Diagnosis added"},null,8,["status"]),e.display_item?(p(),v("span",hp,[n(c,{listData:e.OPDdiagnosis[0].selectedData,"onClicked:edit":t[0]||(t[0]=U=>e.editDiagnosis(U)),"onClicked:delete":e.deleteDiagnosis},null,8,["listData","onClicked:delete"]),e.primaryDiagnosisExists?(p(),v("div",pp," In order to update the diagnosis list, please remove/delete the primary diagnosis only and then re-add or change it along with the secondary and differential diagnoses. ")):$("",!0)])):$("",!0),e.search_item?(p(),A(m,{key:1},{default:i(()=>[n(h,{initialData:e.initialData,contentData:e.OPDdiagnosis,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,disabled:e.primaryDiagnosisExists,"onClicked:button":e.addNewRow,onSearchChange:e.getDiagnosis,onRefresh:t[1]||(t[1]=U=>e.onRefresh("a"))},null,8,["initialData","contentData","onUpdate:selected","onUpdate:inputValue","disabled","onClicked:button","onSearchChange"])]),_:1})):$("",!0),e.addItemButton?(p(),A(m,{key:2,style:{"margin-top":"10px"}},{default:i(()=>[n(f,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[2]||(t[2]=U=>e.displayInputFields()),name:"Add new Diagnosis"},null,8,["icon"])]),_:1})):$("",!0)]),n(m,null,{default:i(()=>[n(T,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(E,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(D,{slot:"header",color:"light"},{default:i(()=>[n(y,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[S("Previous Diagnosis")])),_:1,__:[3]})]),_:1}),_("div",mp,[n(C)])]),_:1})]),_:1},512)]),_:1})],64)}const _p=O(cp,[["render",fp],["__scopeId","data-v-578bc73d"]]),vp=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W},data(){return{iconsContent:P}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{navigationMenu(e){Ue.close(),this.$router.push(e)}}});function gp(e,t,a,s,o,r){const l=d("ion-row");return p(),v(te,null,[n(l,null,{default:i(()=>t[0]||(t[0]=[_("span",{class:"dash_box"},"No Diagnosis added",-1)])),_:1,__:[0]}),n(l,null,{default:i(()=>t[1]||(t[1]=[_("span",{class:"add_item"}," + Add Diagnosis ",-1)])),_:1,__:[1]})],64)}const yp=O(vp,[["render",gp],["__scopeId","data-v-5cb38228"]]),bp=B({components:{IonItem:V,IonCol:ye,IonLabel:J},data(){return{iconsContent:P}},props:{displayData:{type:Array,default:[]}},methods:{highlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="#006401"),this.highlightActionBtns(e)},undoHighlightItem(e){const t=document.getElementById(e+"_lbl");t&&(t.style.color="rgb(0,0,0)"),this.undohighlightActionBtns(e)},highlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="block"},undohighlightActionBtns(e){const t=document.getElementsByClassName(e+"_spanlbl");for(let a=0;a<t.length;a++)t[a].style.display="none"},asignLblID(e){return e+"_lbl"},asignSpanLblID(e){return e+"_spanlbl"},async removeItemAtIndex(e,t){await Yt("Do you want to delete it?",t)&&this.$emit("update:removeItem",e)},async editItemAtIndex(e,t,a){await il("Do you want to edit it?",a)&&this.$emit("update:editItem",{index:e,item:t})},fomartDate(e){const t=e.year,a=(e.month<10?"0":"")+e.month,s=(e.day<10?"0":"")+e.day;return t+"-"+a+"-"+s}}});function Dp(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-col"),h=d("ion-icon"),m=d("ion-item");return p(!0),v(te,null,he(e.displayData,(f,y)=>(p(),A(m,{displayData:e.displayData,class:"ionLbltp",key:y,onMousemove:D=>e.highlightItem(y),onMouseout:D=>e.undoHighlightItem(y)},{default:i(()=>[n(c,{class:"col-st1"},{default:i(()=>[n(l,{id:e.asignLblID(y),class:"truncate-text",style:{color:"#00190E","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[S(k(f.type),1)]),_:2},1032,["id"])]),_:2},1024),n(c,{class:"col-st2"},{default:i(()=>[n(l,{class:"truncate-text",style:{color:"#636363","font-weight":"400",font:"inter","line-height":"21px"}},{default:i(()=>[t[0]||(t[0]=_("span",{class:"spaceBetween"},null,-1)),S(" "+k(f.name)+" ",1),t[1]||(t[1]=_("span",{class:"spaceBetween"},null,-1)),S(k(f.reason),1),t[2]||(t[2]=_("span",{class:"spaceBetween"},null,-1)),S(k(e.fomartDate(f.date)),1)]),_:2,__:[0,1,2]},1024)]),_:2},1024),n(c,{class:"action_buttons"},{default:i(()=>[n(l,{class:ht(e.asignSpanLblID(y)),style:{cursor:"pointer",display:"none","text-align":"end"},onClick:D=>e.editItemAtIndex(y,f,D)},{default:i(()=>[n(h,{icon:e.iconsContent.edit},null,8,["icon"])]),_:2},1032,["class","onClick"]),n(l,{class:ht(e.asignSpanLblID(y)),style:{cursor:"pointer",display:"none","text-align":"end"},onClick:D=>e.removeItemAtIndex(y,D)},{default:i(()=>[n(h,{icon:e.iconsContent.delete},null,8,["icon"])]),_:2},1032,["class","onClick"])]),_:2},1024)]),_:2},1032,["displayData","onMousemove","onMouseout"]))),128)}const oo=O(bp,[["render",Dp],["__scopeId","data-v-4346bf77"]]),Va=B({__name:"TimePicker",props:{place_holder:{},time_prop:{}},emits:["timeUpDated"],setup(e,{emit:t}){const a=b(),s=b({title:"Set Time",popoverOpen:!1,isOpen:!1,event:{},keyboardClose:!1,popoverData:{}}),o=b(),r={name:"Now",show:!0,fn:U},l=b(!0),c=b(!1),h=b(0),m=e;Je(()=>m.time_prop,R=>{R&&(a.value=R.time)},{immediate:!0,deep:!0});const f=t;function y(){f("timeUpDated",o.value)}function D(R){c.value==!0?(l.value=!1,c.value=!1):l.value=!0,s.value.isOpen=!0,s.value.event=R}function C(R){a.value=R.detail.value;const M=T(a.value);if(E(M)==!0){U();return}a.value=M}function E(R){return R.indexOf("NaN")!==-1}function T(R){let M=new Date(R),H=M.getHours(),K=M.getMinutes(),X=H>=12?"PM":"AM";H=H%12,H=H||12;let ce=H.toString().padStart(2,"0")+":"+K.toString().padStart(2,"0")+" "+X;return o.value={time:ce,meridian:X},y(),ce}function U(){c.value=!0,a.value=T(new Date),l.value=!1,h.value++}return(R,M)=>{const H=d("ion-popover");return p(),v(te,null,[(p(),A(ee,{placeholder:m.place_holder.default,inputValue:a.value,icon:g(Bo),"-inner-action-btn-propeties":r,"onClicked:inputValue":D,"onUpdate:InnerActionBtnPropetiesAction":r.fn,key:h.value},null,8,["placeholder","inputValue","icon","onUpdate:InnerActionBtnPropetiesAction"])),n(H,{"show-backdrop":!1,"keep-contents-mounted":!0,"is-open":s.value.isOpen,event:s.value.event,side:"top",onDidDismiss:M[0]||(M[0]=K=>s.value.isOpen=!1)},{default:i(()=>[l.value?(p(),A(g(ss),{key:0,onIonChange:C,id:"datetime",presentation:"time","show-default-buttons":!0})):$("",!0)]),_:1},8,["is-open","event"])],64)}}});async function Sp(e={}){try{const{name:t="",page:a=1,page_size:s=10}=e,o=t?{name:"%".concat(t,"%")}:{};return(await Gt("wards",{likeClause:o,currentPage:a,itemsPerPage:s}).then(l=>l.records)).map(l=>({name:l.name,value:l.name,other:l}))}catch(t){throw console.error("Error fetching offline wards:",t.message),t}}const Cp=B({name:"xxxComponent"}),wp=B({...Cp,props:{selected_ward_prop:{},admitted_other_props:{}},emits:["dataSaved"],setup(e,{emit:t}){const a=b([]),s=La(),o=b(NaN),r=b(!1),l=b(),c=b(!1);dt(async()=>{M(),C()});const h=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:H},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:de}],m=[{placeHolder:"Reason",dataHandler:U,dataValue:b(),show_error:b(!1),error_message:"please provide a reason"}],f=[{placeHolder:{default:"Enter date"},dataHandler:T,dataValue:b(),show_error:b(!1),error_message:"please provide date"}],y=[{placeHolder:{default:"Enter time of admission"},dataHandler:E,dataValue:b(),show_error:b(!1),error_message:"error"}],D=e;Je(()=>D.selected_ward_prop,De=>{De&&(l.value=De)},{immediate:!0,deep:!0}),Je(()=>D.admitted_other_props,De=>{De&&(m[0].dataValue.value=De.reason,y[0].dataValue.value=De.time,f[0].dataValue.value=De.date)},{immediate:!0,deep:!0});function C(De=!0){c.value=De}function E(De){y[0].dataValue.value=De,H(!1)}function T(De){const Z={day:De.value.day,month:De.value.month,year:De.value.year,formattedDate:De.value.formattedDate};f[0].dataValue.value=Z,H(!1)}function U(De){const Z=De.target.value;m[0].dataValue.value=Z,R(),C(!1)}function R(){c.value==!0&&Xe("Remember to press the SAVE button",1e4)}async function M(De){(await Sp({name:"",page:1,page_size:1e3})).forEach(ke=>{const Qe={name:ke.name,selected:!1,other:ke,location_ward_id:ke.other.location_id};a.value.push(Qe)})}function H(De=!0){K(),X(),Ee(),bt(),f[0].show_error.value==!1&&y[0].show_error.value==!1&&m[0].show_error.value==!1&&r.value==!1?ce():De&&Xe("Please enter correct data values",4e3)}function K(){l.value===void 0||l.value==""?r.value=!0:r.value=!1}function X(){m[0].dataValue.value==""||m[0].dataValue.value===void 0?m[0].show_error.value=!0:m[0].show_error.value=!1}async function ce(){const De={name:l.value.name,type:"Admitted for short stay",date:f[0].dataValue,time:y[0].dataValue,reason:m[0].dataValue,other:l.value,selected:!0};await s.addOutcomeData(De,o.value)&&Q({dataSaved:!1})}const se=t;function Q(De={dataSaved:!0}){se("dataSaved",De)}function de(){Q()}function Ee(){f[0].dataValue.value===void 0||f[0].dataValue.value==""?f[0].show_error.value=!0:f[0].show_error.value=!1}function bt(){y[0].dataValue.value===void 0||f[0].dataValue.value==""?y[0].show_error.value=!0:y[0].show_error.value=!1}const pt=De=>{l.value=De,C(),H(!1)};return(De,Z)=>(p(),A(g(x),null,{default:i(()=>[n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(g(ea),{modelValue:l.value,"onUpdate:modelValue":[Z[0]||(Z[0]=ke=>l.value=ke),Z[1]||(Z[1]=ke=>pt(ke))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Find and select a ward",placeholder:"Find and select a ward",selectLabel:"",label:"name",searchable:!0,disabled:!1,onSearchChange:Z[2]||(Z[2]=ke=>ke={}),"track-by":"location_ward_id",options:a.value},null,8,["modelValue","options"]),_("div",null,[r.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>Z[3]||(Z[3]=[S(k("Please select a ward"))])),_:1,__:[3]})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[_("div",null,[n(Fa,{place_holder:f[0].placeHolder,onDateUpDated:f[0].dataHandler,date_prop:f[0].dataValue.value},null,8,["place_holder","onDateUpDated","date_prop"]),_("div",null,[f[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(f[0].error_message),1)]),_:1})):$("",!0)])])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[_("div",null,[n(Va,{place_holder:y[0].placeHolder,onTimeUpDated:y[0].dataHandler,time_prop:y[0].dataValue.value},null,8,["place_holder","onTimeUpDated","time_prop"]),_("div",null,[y[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(y[0].error_message),1)]),_:1})):$("",!0)])])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(ee,{placeholder:m[0].placeHolder,icon:g(un),inputValue:m[0].dataValue.value,"onUpdate:inputValue":m[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[m[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(m[0].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),h[0].showAddItemButton?(p(),A(g(Re),{key:0,class:"spc_btwn"},{default:i(()=>[h[0].addItemButton?(p(),A(Be,{key:0,name:h[0].name,fill:h[0].btnFill,icon:g(Ia),"onClicked:btn":h[0].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0),h[1].addItemButton?(p(),A(Be,{key:1,name:h[1].name,fill:h[1].btnFill,icon:g(sa),"onClicked:btn":h[1].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0)]),_:1})):$("",!0)]),_:1}))}}),lo=O(wp,[["__scopeId","data-v-3f54ed58"]]),Ip=B({name:"xxxComponent"}),Pp=B({...Ip,props:{selected_referral_data:{},selected_other_referral_data:{}},emits:["dataSaved"],setup(e,{emit:t}){const a=b(NaN),s=b(null),o=La(),r=b(!1),l=b([]),c=b({}),h=b(!0),m={location_data:{}},f=[{placeHolder:"Reason",dataHandler:T,dataValue:b(),show_error:b(!1),error_message:"please provide a reason"}],y=[{placeHolder:{default:"Enter date"},dataHandler:E,dataValue:b(),show_error:b(!1),error_message:"please provide date"}],D=[{placeHolder:{default:"Enter time of referral"},dataHandler:R,dataValue:b(),show_error:b(!1),error_message:"error"}],C=e;Je(()=>C.selected_other_referral_data,Z=>{Z&&(f[0].dataValue.value=Z.reason,y[0].dataValue.value=Z.date,D[0].dataValue.value=Z.time)},{immediate:!0,deep:!0}),Je(()=>C.selected_referral_data,Z=>{if(!Z)return;s.value=Z.selected_location,m.location_data=Z;const ke=Array.isArray(Z.selected_district_ids)?[...Z.selected_district_ids]:[],Qe=Z.selected_location?{...Z.selected_location}:null;l.value=ke,c.value=Qe},{immediate:!0,deep:!0}),dt(()=>{se()});function E(Z){const ke={day:Z.value.day,month:Z.value.month,year:Z.value.year,formattedDate:Z.value.formattedDate};y[0].dataValue.value=ke,M(!1)}function T(Z){const ke=Z.target.value;f[0].dataValue.value=ke,U(),se(!1)}function U(){h.value==!0&&Xe("Remember to press the SAVE button",1e4)}function R(Z){D[0].dataValue.value=Z,M(!1)}function M(Z=!0){ce(),H(),K(),X(),y[0].show_error.value==!1&&D[0].show_error.value==!1&&f[0].show_error.value==!1&&r.value==!1?de():Z&&Xe("Please enter correct data values",4e3)}function H(){f[0].dataValue.value==""||f[0].dataValue.value===void 0?f[0].show_error.value=!0:f[0].show_error.value=!1}function K(){y[0].dataValue.value===void 0||y[0].dataValue.value==""?y[0].show_error.value=!0:y[0].show_error.value=!1}function X(){D[0].dataValue.value===void 0||y[0].dataValue.value==""?D[0].show_error.value=!0:D[0].show_error.value=!1}function ce(){s.value?r.value=!1:r.value=!0}function se(Z=!0){h.value=Z}const Q=Z=>{s.value=Z.selected_location,ce(),m.location_data=Z,se(),M(!1)},de=async()=>{const Z={name:s.value.name,type:"Referred out",selected:!0,date:y[0].dataValue,time:D[0].dataValue,reason:f[0].dataValue},ke={...Z,other:{ref_data:Z,location_data:m.location_data}};await o.addOutcomeData(ke,a.value)&&pt({dataSaved:!1})},Ee=()=>{pt()},bt=t;function pt(Z={dataSaved:!0}){bt("dataSaved",Z)}const De=[{showAddItemButton:!0,addItemButton:!0,name:" save",btnFill:"clear",fn:M},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:Ee}];return(Z,ke)=>(p(),A(g(x),null,{default:i(()=>[n(g(Re),null,{default:i(()=>[n(Bl,{show_error:r.value,onFacilitySelected:Q,selected_district_ids:l.value,selected_location:c.value},null,8,["show_error","selected_district_ids","selected_location"])]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[_("div",null,[n(Fa,{place_holder:y[0].placeHolder,onDateUpDated:y[0].dataHandler,date_prop:y[0].dataValue.value},null,8,["place_holder","onDateUpDated","date_prop"]),_("div",null,[y[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(y[0].error_message),1)]),_:1})):$("",!0)])])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[_("div",null,[n(Va,{place_holder:D[0].placeHolder,onTimeUpDated:D[0].dataHandler,time_prop:D[0].dataValue.value},null,8,["place_holder","onTimeUpDated","time_prop"]),_("div",null,[D[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(D[0].error_message),1)]),_:1})):$("",!0)])])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(ee,{placeholder:f[0].placeHolder,icon:g(un),inputValue:f[0].dataValue.value,"onUpdate:inputValue":f[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(f[0].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),De[0].showAddItemButton?(p(),A(g(Re),{key:0,class:"spc_btwn"},{default:i(()=>[De[0].addItemButton?(p(),A(Be,{key:0,name:De[0].name,fill:De[0].btnFill,icon:g(Ia),"onClicked:btn":De[0].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0),De[1].addItemButton?(p(),A(Be,{key:1,name:De[1].name,fill:De[1].btnFill,icon:g(sa),"onClicked:btn":De[1].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0)]),_:1})):$("",!0)]),_:1}))}}),ro=O(Pp,[["__scopeId","data-v-aa5f466b"]]),Np=B({name:"xxxComponent"}),kp=B({...Np,props:{selected_discharged_prop:{},selected_discharged_data:{}},emits:["dataSaved"],setup(e,{emit:t}){const a=b(NaN),s=b([]),o=La(),r=b();dt(async()=>{E("")});const l=[{placeHolder:"Reason",dataHandler:f,dataValue:b(),show_error:b(!1),error_message:"please provide a reason"}],c=[{placeHolder:{default:"Enter date"},dataHandler:m,dataValue:b(),show_error:b(!1),error_message:"please provide date"}],h=e;Je(()=>h.selected_discharged_prop,se=>{se&&(r.value=se)},{immediate:!0,deep:!0}),Je(()=>h.selected_discharged_data,se=>{se&&(c[0].dataValue.value=se.date||"",se.reason&&(l[0].dataValue.value=se.reason))},{immediate:!0,deep:!0});function m(se){const Q={day:se.value.day,month:se.value.month,year:se.value.year,formattedDate:se.value.formattedDate};c[0].dataValue.value=Q,U(!1)}function f(se){const Q=se.target.value;l[0].dataValue.value=Q}s.value,b(!1),b(!1);const y=[{placeHolder:{default:"Enter time of referral"},dataHandler:D,dataValue:b(),show_error:b(!1),error_message:"error"}];function D(se){y[0].dataValue.value=se}const C=new Set;async function E(se){const Q=se;(await Jt.getFacilities({name:Q})).forEach(Ee=>{C.has(Ee.location_id)||(C.add(Ee.location_id),$e.isEmpty(Ee.name)==!1&&s.value.push({name:Ee.name,selected:!1,other:Ee}))})}function T(se){s.value=se}function U(se=!0){R(),c[0].show_error.value?se&&Xe("Please enter a valid date",4e3):M()}function R(){c[0].dataValue.value===void 0||c[0].dataValue.value==""?c[0].show_error.value=!0:c[0].show_error.value=!1}async function M(){const se={type:"Discharged Home",date:c[0].dataValue,reason:l[0].dataValue.value};await o.addOutcomeData(se,a.value)&&X({dataSaved:!1})}function H(){X()}const K=t;function X(se={dataSaved:!0}){K("dataSaved",se)}const ce=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:U},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:H}];return(se,Q)=>(p(),A(g(x),null,{default:i(()=>[n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[_("div",null,[n(Fa,{place_holder:c[0].placeHolder,onDateUpDated:c[0].dataHandler,date_prop:c[0].dataValue.value},null,8,["place_holder","onDateUpDated","date_prop"]),_("div",null,[c[0].show_error.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(c[0].error_message),1)]),_:1})):$("",!0)])])]),_:1})]),_:1}),ce[0].showAddItemButton?(p(),A(g(Re),{key:0,class:"spc_btwn"},{default:i(()=>[ce[0].addItemButton?(p(),A(Be,{key:0,name:ce[0].name,fill:ce[0].btnFill,icon:g(Ia),"onClicked:btn":ce[0].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0),ce[1].addItemButton?(p(),A(Be,{key:1,name:ce[1].name,fill:ce[1].btnFill,icon:g(sa),"onClicked:btn":ce[1].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0)]),_:1})):$("",!0)]),_:1}))}}),co=O(kp,[["__scopeId","data-v-c99ccb0e"]]),Bp={class:"dash_box"},$p={key:0,style:{"margin-top":"100px"}},Mp=B({name:"xxxComponent"}),Ap=B({...Mp,setup(e){const t=b("No outcome created yet"),a=b(!1),s=b(!0),o=b(""),r=b(!0),l=b(!1),c=La(),h=ze(()=>c.outcomes),m=b(!1),f=b(!1),y=b(!1),D=b(!1),C=b(!1),E=b(),T=b(null),U=b(null),R=b(null),M=b(null),H=b(null),K=b(null),X=b([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1}]);function ce(Z){X.value.forEach(ke=>{Z.selected==!0&&(Z.name==ke.name||Z.type==ke.name)&&(o.value=ke.name)})}dt(async()=>{Q()}),Je(()=>o.value,async Z=>{m.value==!0?m.value=!1:bt()}),Je(()=>h.value.length,async Z=>{Q()});function se(){X.value.forEach(Z=>{Z.selected=!1}),o.value=""}function Q(){h.value.length>0?r.value=!1:h.value.length==0&&l.value==!1&&(r.value=!0)}function de(Z){h.value.splice(Z,1)}const Ee=Z=>{de(Z.index),ce(Z.item),T.value=Z.item.other.location_data,U.value={reason:Z.item.reason,date:Z.item.date,time:Z.item.time},R.value=Z.item.other,M.value=Z.item,Z.item.type==="Discharged Home"&&(H.value=Z.item,K.value={reason:Z.item.reason,date:Z.item.date})};async function bt(Z=!0){const ke=o.value;o.value=ke;const Qe=o.value;Qe==X.value[0].name?y.value=!0:y.value=!1,Qe==X.value[1].name?D.value=!0:D.value=!1,Qe==X.value[2].name?C.value=!0:C.value=!1}function pt(){f.value=!1,y.value=!1,C.value=!1,D.value=!1,se()}const De=Z=>{X.value.forEach(ke=>{ke.selected=!1}),E.value=Z,E.value.selected=!0,ce(E.value)};return(Z,ke)=>{const Qe=d("ion-row");return p(),A(g(x),null,{default:i(()=>[n(Qe,null,{default:i(()=>[n(g(ye),null,{default:i(()=>[(p(),A(oo,{key:0,"onUpdate:removeItem":de,"onUpdate:editItem":Ee,displayData:h.value},null,8,["displayData"]))]),_:1})]),_:1}),r.value?(p(),A(Qe,{key:0},{default:i(()=>[_("span",Bp,k(t.value),1)]),_:1})):$("",!0),n(Qe,null,{default:i(()=>[n(g(ye),null,{default:i(()=>[s.value?(p(),v("div",$p,[n(Qe,null,{default:i(()=>[n(g(ea),{modelValue:E.value,"onUpdate:modelValue":[ke[0]||(ke[0]=Ot=>E.value=Ot),ke[1]||(ke[1]=Ot=>De(Ot))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"top","tag-placeholder":"find and select a referral type",placeholder:"find and select a referral type",selectLabel:"",label:"name",searchable:!0,disabled:!1,onSearchChange:()=>{},"track-by":"name",options:X.value},null,8,["modelValue","options"]),_("div",null,[a.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>ke[2]||(ke[2]=[S(k("please select a type"))])),_:1,__:[2]})):$("",!0)])]),_:1})])):$("",!0)]),_:1})]),_:1}),y.value?(p(),A(lo,{key:1,onDataSaved:pt,selected_ward_prop:R.value,admitted_other_props:M.value},null,8,["selected_ward_prop","admitted_other_props"])):$("",!0),D.value?(p(),A(ro,{key:2,onDataSaved:pt,selected_referral_data:T.value,selected_other_referral_data:U.value},null,8,["selected_referral_data","selected_other_referral_data"])):$("",!0),C.value?(p(),A(co,{key:3,onDataSaved:pt,selected_discharged_prop:H.value,selected_discharged_data:K.value},null,8,["selected_discharged_prop","selected_discharged_data"])):$("",!0)]),_:1})}}}),Ep=O(Ap,[["__scopeId","data-v-6e592042"]]),Vp=B({name:"xxxComponent"}),Op=B({...Vp,setup(e){return(t,a)=>(p(),A(Ep))}}),ti=qe("ChangeStatusStore",{state:()=>({changeStatus:[{selectedData:[],isFinishBtn:!1,radioBtnContent:{header:{name:"Immunization patient status",selectedValue:""},data:[{name:"Active",value:"Active",checked:!0},{name:"Inactive",value:"Inactive",checked:!1},{name:"Lost to follow-up",value:"Lost to follow-up",checked:!1},{name:"Archive Record",value:"Archive Record",checked:!1}]}}]}),actions:{setStatus(e){this.changeStatus=e}},persist:!0}),Tp=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicForm:G},data(){return{initialData:[]}},computed:{...w(ti,["changeStatus"])},mounted(){ti()},methods:{handleInputData(e){}}}),Fp={class:"modal_wrapper"};function Hp(e,t,a,s,o,r){const l=d("basic-form");return p(),v("div",Fp,[n(l,{contentData:e.changeStatus,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])}const Rp=O(Tp,[["render",Hp]]),ai=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Skull",value:"Skull",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Mastoid",value:"Mastoid",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"ParaSinuses",value:"ParaSinuses",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Optic Foramen",value:"PVD",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Orbits",value:"Orbits",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Nasal Bone",value:"Nasal Bone",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Mandible",value:"Mandible",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"TMJs",value:"TMJs",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Zygomatic",value:"Zygomatic",checked:!1}]}}],Lp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Neck",value:"Neck",checked:!1}]}}],xp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Chest",value:"Chest",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Heart",value:"Heart",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Sternum",value:"Sternum",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Ribs",value:"Ribs",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"SCJ",value:"SCJ",checked:!1}]}}],Up=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Abdomen",value:"Abdomen",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"IVP",value:"IVP",checked:!1}]}}],zp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Clavicle",value:"Clavicle",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Shoulder",value:"Shoulder",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Scapula",value:"Scapula",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Humerus",value:"Humerus",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Elbow",value:"Elbow",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Forearm",value:"Forearm",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Wrist",value:"Wrist",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Hand",value:"Hand",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Phalanges",value:"Phalanges",checked:!1}]}}],qp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"CSpine",value:"CSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"TSpine",value:"TSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"LSpine",value:"LSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"SSpine",value:"SSpine",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Coccyx",value:"Coccyx",checked:!1}]}}],Wp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Pelvis",value:"Pelvis",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Sacroillac Joints",value:"Sacroillac Joints",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Hip",value:"Hip",checked:!1}]}}],Gp=[{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Femur",value:"Femur",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Knee",value:"Knee",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Patella",value:"Patella",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Leg",value:"Leg",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Ankle",value:"Ankle",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Calcaneus",value:"Calcaneus",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Foot",value:"Foot",checked:!1}]}},{checkboxBtnContent:{header:{name:"Medical history"},data:[{name:"Toe",value:"Toe",checked:!1}]}}],jp=qe("RadiologyStore",{state:()=>({head:[...ai],neck:[...Lp],chest:[...xp],abdomen:[...Up],upper_extremity:[...zp],spine:[...qp],pelvis:[...Wp],lower_extremity:[...Gp]}),actions:{setOPDDiagnosis(e){this.head=e},getInitial(){return[...$e.cloneDeep(ai)]}}}),Yp=["innerHTML"],Jp={class:"scrollable-container"},Kp={key:0,class:"form-section"},Qp={key:1,class:"form-section"},Xp={key:2,class:"form-section"},Zp={key:3,class:"form-section"},em={key:4,class:"form-section"},tm={key:5,class:"form-section"},am={key:6,class:"form-section"},nm={key:7,class:"form-section"},sm=B({__name:"RadiologyInvestigation",setup(e){const t=jp(),{head:a,neck:s,chest:o,abdomen:r,upper_extremity:l,spine:c,pelvis:h,lower_extremity:m}=zt(t),f=b(P),y=b([]),D=(E,T,U)=>{document.querySelectorAll("#".concat(E," path")).forEach(M=>{M.classList.toggle("white-fill")}),document.querySelectorAll("#".concat(T," line")).forEach(M=>{M.classList.toggle("dark-green-stroke")}),document.querySelectorAll("#".concat(T," rect")).forEach(M=>{M.classList.toggle("bright-green-fill"),M.classList.toggle("dark-green-stroke")}),document.querySelectorAll("#".concat(T," path")).forEach(M=>{M.classList.toggle("dark-green-fill")}),document.querySelectorAll("#".concat(T," circle")).forEach(M=>{M.classList.toggle("bright-green-fill")});const R=y.value.findIndex(M=>M.id===U);R>=0?y.value.splice(R,1):y.value.unshift({id:U,active:!0})},C=()=>{const E=document.getElementById("SPINE");E.style.display==="none"||E.style.display==""?E.style.display="block":E.style.display="none",D("SPINE","SPINE_LABEL-2","spine")};return dt(()=>{const E=document.getElementById("HEAD");E&&E.addEventListener("click",()=>{D("HEAD","LABEL-6","head")});const T=document.getElementById("NECK");T&&T.addEventListener("click",()=>{D("NECK","LABEL-5","neck")});const U=document.getElementById("CHEST");U&&U.addEventListener("click",()=>{D("CHEST","LABEL-4","chest")});const R=document.getElementById("ABDOMEN_LABEL");R&&R.addEventListener("click",()=>{const Q=document.getElementById("ABDOMEN-2");Q.style.display==="none"||Q.style.display==""?Q.style.display="block":Q.style.display="none",D("ABDOMEN","ABDOMEN_LABEL-2","abdomen")});const M=document.getElementById("UPPER_EXTRMITY");M&&M.addEventListener("click",()=>{D("UPPER_EXTRMITY","LABEL-3","upper_extremity")});const H=document.getElementById("SPINE"),K=document.getElementById("SPINE_LABEL"),X=document.getElementById("LOWER_SPINE_INACTIVE");H&&H.addEventListener("click",()=>{C()}),K&&K.addEventListener("click",()=>{C()}),X&&X.addEventListener("click",()=>{C()});const ce=document.getElementById("PELVIS");ce&&ce.addEventListener("click",()=>{D("PELVIS","LABEL-2","pelvis")});const se=document.getElementById("LOWER_EXTREMITY");se&&se.addEventListener("click",()=>{D("LOWER_EXTREMITY","LABEL","lower_extremity")})}),(E,T)=>{const U=d("ion-col"),R=d("ion-row");return p(),A(R,null,{default:i(()=>[n(U,{size:"7"},{default:i(()=>[_("div",{innerHTML:f.value.full_body_sk},null,8,Yp)]),_:1}),n(U,{size:"5",class:"form-column"},{default:i(()=>[_("div",Jp,[(p(!0),v(te,null,he(y.value,M=>(p(),v(te,null,[M.id==="head"?(p(),v("div",Kp,[T[0]||(T[0]=_("h6",null,"Body Part: Head",-1)),n(G,{contentData:g(a)},null,8,["contentData"])])):M.id==="neck"?(p(),v("div",Qp,[T[1]||(T[1]=_("h6",null,"Body Part: Neck",-1)),n(G,{contentData:g(s)},null,8,["contentData"])])):M.id==="chest"?(p(),v("div",Xp,[T[2]||(T[2]=_("h6",null,"Body Part: Chest",-1)),n(G,{contentData:g(o)},null,8,["contentData"])])):M.id==="abdomen"?(p(),v("div",Zp,[T[3]||(T[3]=_("h6",null,"Body Part: Abdomen",-1)),n(G,{contentData:g(r)},null,8,["contentData"])])):M.id==="upper_extremity"?(p(),v("div",em,[T[4]||(T[4]=_("h6",null,"Body Part: Upper Extremity",-1)),n(G,{contentData:g(l)},null,8,["contentData"])])):M.id==="spine"?(p(),v("div",tm,[T[5]||(T[5]=_("h6",null,"Body Part: Spine",-1)),n(G,{contentData:g(c)},null,8,["contentData"])])):M.id==="pelvis"?(p(),v("div",am,[T[6]||(T[6]=_("h6",null,"Body Part: Pelvis",-1)),n(G,{contentData:g(h)},null,8,["contentData"])])):M.id==="lower_extremity"?(p(),v("div",nm,[T[7]||(T[7]=_("h6",null,"Body Part: Lower Extremity",-1)),n(G,{contentData:g(m)},null,8,["contentData"])])):$("",!0)],64))),256))])]),_:1})]),_:1})}}}),im=O(sm,[["__scopeId","data-v-4e8419f9"]]),om=B({name:"Menu",mixins:[us],components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Vt,SelectionPopover:Et,BasicInputField:ee,BasicForm:G,List:wt,DynamicButton:Be,labOrderResults:qa,RadiologyInvestigation:im},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",labOrders:"",filteredSpecimen:"",testData:[],popoverOpen:!1,labOrderStatus:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(yt,["investigations"]),...w(Ne,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0},patient:{async handler(){this.labOrders=await je.getOrders(this.patient.patientID)},deep:!0},$route:{async handler(){await this.getTests()},deep:!0}},async mounted(){await this.getTests(),this.updateInvestigationsStores(),this.setDashedBox(),this.updateInvestigationWizard()},methods:{async getTests(){const e=await Gt("testTypes");u(this.investigations,"test","multiSelectData",e)},async onRefresh(){try{const e=await je.getTestTypesViaDirectAPICall();u(this.investigations,"test","multiSelectData",e),St("Test Types Selection list has been updated")}catch(e){ta("Could not fetch test types")}},toggleLabOrderStatus(){this.labOrderStatus=!this.labOrderStatus},async updateInvestigationWizard(){this.labOrders=await je.getOrders(this.patient.patientID);const e=await this.labOrders.filter(t=>ne.toStandardHisFormat(ne.sessionDate())===ne.toStandardHisFormat(t.order_date));e.length>0?this.investigations[0].selectedData=e:this.investigations[0].selectedData=""},async updateInvestigationsStores(){await this.updateInvestigationWizard(),yt().setInvestigations(this.investigations)},displayInputFields(e=!0){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!e,this.search_item=e},async validateRowData(){return Ta(this.investigations)},async checkTest(){return await this.isNameInData(this.inputFields[0].value.name,await this.investigations[0].selectedData)?(u(this.investigations,"test","alertsErrorMassage","Lab order already selected"),!1):(u(this.investigations,"test","alertsErrorMassage",""),!0)},async addNewRow(){Ta(this.investigations)&&await this.checkTest()&&(await this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.updateInvestigationWizard()},isNameInData(e,t){for(let a of t)for(let s of a.tests)if(s.name===e)return!0;return!1},async saveTest(){await new hs().postActivities(this.patient.patientID,[{concept_id:this.inputFields[0].value.concept_id,name:this.inputFields[0].value.name,specimen:this.inputFields[1].value.name,reason:"Routine",specimenConcept:await Ge.getConceptID(this.inputFields[1].value.name,!0)}]),u(this.investigations,"specimen","disabled",!0),this.labOrders=await je.getOrders(this.patient.patientID)},async handleInputData(e){e.inputHeader=="Test"&&this.checkTest(),u(this.investigations,"specimen","alertsErrorMassage",""),e.inputHeader=="Test"&&e.value&&(this.specimen=await je.getSpecimens(e.value.name),this.specimen.length==1?(u(this.investigations,"specimen","value",this.specimen[0]),u(this.investigations,"specimen","disabled",!0)):(u(this.investigations,"specimen","value",""),u(this.investigations,"specimen","disabled",!1)),u(this.investigations,"specimen","multiSelectData",this.specimen))},async filterTest(e){return await this.labOrders.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))},async filterSpecimen(e){var t;return(t=this.specimen[0])!=null&&t.name&&e?await this.specimen.filter(a=>a==null?void 0:a.name.toLowerCase().includes(e.toLowerCase())):[]},setTest(e){this.selectedText=e.name,this.inputFields[1].inputHeader=="Test"?this.investigations[0].data.rowData[0].colData[0].value=e.name:this.investigations[0].data.rowData[0].colData[1].value=e.name,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[1].value||this.inputFields[0].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),lm={class:"ion-padding",slot:"content",style:{"margin-bottom":"125px"}},rm={key:0},dm={class:"ion-padding",slot:"content"};function cm(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("labOrderResults"),m=d("basic-form"),f=d("DynamicButton"),y=d("ion-row"),D=d("ion-accordion"),C=d("ion-accordion-group"),E=d("RadiologyInvestigation");return p(),v(te,null,[n(C,{ref:"accordionGroup",class:"previousView",value:"first"},{default:i(()=>[n(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("Lab Investigations")])),_:1,__:[2]})]),_:1}),_("div",lm,[_("span",null,[n(h,{propOrders:e.labOrders},null,8,["propOrders"])]),e.search_item?(p(),v("span",rm,[n(m,{contentData:e.investigations,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,"onClicked:button":e.addNewRow,onRefresh:e.onRefresh},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","onClicked:button","onRefresh"])])):$("",!0),e.addItemButton&&e.userRole!="Lab"?(p(),A(y,{key:1,style:{"margin-top":"10px"}},{default:i(()=>[n(f,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[0]||(t[0]=T=>e.displayInputFields()),name:"Add new test"},null,8,["icon"])]),_:1})):$("",!0),e.search_item?(p(),A(y,{key:2},{default:i(()=>[n(f,{fill:"clear",icon:e.iconsContent.redXclose,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=T=>e.displayInputFields(!1)),name:"cancel"},null,8,["icon"])]),_:1})):$("",!0)])]),_:1})]),_:1},512),e.userRole!="Lab"?(p(),A(C,{key:0,ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[S("Radiology Investigation")])),_:1,__:[3]})]),_:1}),_("div",dm,[n(E)])]),_:1})]),_:1},512)):$("",!0),e.userRole!="Lab"?(p(),A(C,{key:1,ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(D,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[4]||(t[4]=[S("Other Investigation")])),_:1,__:[4]})]),_:1}),t[5]||(t[5]=_("div",{class:"ion-padding",slot:"content"},null,-1))]),_:1,__:[5]})]),_:1},512)):$("",!0)],64)}const um=O(om,[["render",cm],["__scopeId","data-v-c5e9d501"]]),hm={class:"allergies-section"},pm={class:"allergies-container"},mm={key:0,class:"allergies-grid"},fm={key:1,class:"no-allergies"},_m={class:"ion-padding",slot:"content"},vm={key:0},gm={class:"previousSecDrgs"},ym={class:"ion-padding",slot:"content"},bm={class:"previousSecDrgs"},Dm={class:"medication-section"},Sm={class:"medication-content"},Cm={key:0,class:"add-medication-form"},wm={class:"form-group"},Im={class:"option-label"},Pm={key:0,class:"error-message"},Nm={class:"form-row"},km={class:"form-group"},Bm={key:0,class:"error-message"},$m={class:"form-group"},Mm={key:0,class:"error-message"},Am={class:"form-group"},Em={key:0,class:"error-message"},Vm={class:"action-buttons"},Om={class:"notes-section"},Tm={class:"notes-content"},Fm={class:"notes-input-container"},Hm={class:"ion-padding",slot:"content"},Rm={class:"notes-timeline"},Lm={class:"note-date"},xm={class:"note-content"},Um={class:"ion-padding",slot:"content"},zm={class:"note-date"},qm={class:"note-content"},Wm=B({watch:{},name:"xxxComponent"}),Gm=B({...Wm,setup(e){const t=P,a=xt,s=b(!1),o=b(!1),r=b(!0),l=b(0);b(""),b(!1);const c=b(""),h=b(!1),m=b(),f=b(!1),y=b(""),D=b(""),C=b(""),E=b(""),T=b(""),U=b("");b(!1);const R="Add new medication",M="clear";b("Show more medications");const H=gt(),K=Ra(),X=ze(()=>K.selectedMedicalAllergiesList),ce=ze(()=>H.selectedMedicalDrugsList),se=[],Q=ze(()=>H.nonPharmalogicalTherapyAndOtherNotes),de=["first","second","third"],Ee=b(),bt=b(),pt=b(),De=b(!1),Z=b(!1),ke=b(!1),Qe=b("Show more notes"),Ot=b("Show more allergies"),ma=b(),Tt=b(),_e=b(),Se=ze(()=>H.editingDrugItem),Te=b("Select a route"),ct=b(!1),Sn=b("Select frequency"),Pa=b(!1),Cn=b("Select drug"),Na=b(!1),mt=b(),ft=b(),Rt=b(),oa=b([]),Wa=b([{concept_id:11797,name:"Buccal",concept_name_id:null,id:1769},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:6284},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:6285},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:6286},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:6295},{concept_id:3327,name:"Oral",concept_name_id:null,id:8686},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:8920},{concept_id:11792,name:"Rectally",concept_name_id:null,id:10785},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:12342},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:12344},{concept_id:11792,name:"Rectally",concept_name_id:null,id:14078},{concept_id:11793,name:"Intravenous (IV)",concept_name_id:null,id:14079},{concept_id:11794,name:"Intradermal",concept_name_id:null,id:14080},{concept_id:11795,name:"Intramuscular (IM)",concept_name_id:null,id:14081},{concept_id:11796,name:"Sublingual",concept_name_id:null,id:14082},{concept_id:11797,name:"Buccal",concept_name_id:null,id:14083},{concept_id:11798,name:"Subcutaneous",concept_name_id:null,id:14084},{concept_id:11799,name:"Intraosseous",concept_name_id:null,id:14085},{concept_id:11800,name:"Other method of prescription",concept_name_id:null,id:14086}]),Ga=ze(()=>oa.value.length?oa.value:Wa.value);function ja(fe){mt.value=fe}async function wn(){return await Ml()}async function In(fe=5,re=1e3){let He=0;for(;He<fe&&(oa.value=await wn(),!(oa.value.length>0));)He++,await new Promise(tt=>setTimeout(tt,re));oa.value.length===0&&console.warn("Failed to fetch route list after maximum retries.")}dt(async()=>{const fe=await Gt("drugs");se.push(...Array.isArray(fe)?fe:fe.records);const re=new za,{previousDrugPrescriptions:He,previousClinicalNotes:tt,previousDrugAllergies:be}=await re.getPatientEncounters();Ee.value=He,bt.value=Object.entries(tt)[0];const[,...Ze]=Object.entries(tt);pt.value=Ze,ma.value=Object.entries(be)[0];const[,...lt]=Object.entries(be);Tt.value=lt,await In()}),Je(()=>y.value,async fe=>{Ja()}),Je(()=>D.value,async fe=>{Bn()}),Je(()=>C.value,async fe=>{Ka()});function Pn(){if($e.isEmpty(mt.value)==!0)return ct.value=!0,!1;if($e.isEmpty(mt.value)==!1)return ct.value=!1,!0}function Nn(){if($e.isEmpty(ft.value)==!0)return Pa.value=!0,!1;if($e.isEmpty(ft.value)==!1)return Pa.value=!1,!0}function kn(){if($e.isEmpty(Rt.value)==!0)return Na.value=!0,!1;if($e.isEmpty(Rt.value)==!1)return Na.value=!1,!0}function Ya(){r.value=!r.value,s.value=!0,h.value=!1,f.value=!1}async function Ja(){return!1}async function Bn(){return We(D.value)?h.value=!1:(c.value="please enter a number",h.value=!0),h.value}async function Ka(){return We(C.value)?f.value=!1:(m.value="please enter a number",f.value=!0),f.value}async function Qa(){const fe=await Ja(),re=await Ka(),He=Nn(),tt=kn(),be=Pn();return!fe&&!re&&He==!0&&tt==!0&&be==!0}function $n(fe){ft.value=fe}async function Xa(){const fe=()=>_e.value.dose_strength!=null&&_e.value.dose_strength?Math.trunc(_e.value.dose_strength):1;if(Se.value!==null){if(!await Qa()){Xe("Please enter correct data values",4e3);return}const He=Ve.getSessionDate(),tt=st(He,parseInt(C.value));let be=!1;la(_e.value)==!0&&(be=!0);const Ze={drugName:y.value,dose:fe(),frequency:ft.value.label,frequency_code:ft.value.code,duration:C.value,prescription:tt,drug_id:U.value,units:T.value,route_concept_id:mt.value.concept_id,route_name:mt.value.name,highlightbackground:be},lt=gt();console.log(lt.setSelectedMedicalDrugsList([Ze])),lt.editingDrugItem=null,r.value=!0}else{if(!await Qa()){Xe("Please enter correct data values",4e3);return}ot();const He=Ve.getSessionDate(),tt=st(He,parseInt(C.value));let be=!1;la(_e.value)==!0&&(be=!0);const Ze={drugName:y.value,dose:fe(),frequency:ft.value.label,frequency_code:ft.value.code,duration:C.value,prescription:tt,drug_id:U.value,units:T.value,route_concept_id:mt.value.concept_id,route_name:mt.value.name,highlightbackground:be},lt=gt();lt.setSelectedMedicalDrugsList([Ze]),console.log(lt.selectedMedicalDrugsList)}U.value="",y.value="",D.value="",ft.value=null,C.value="",E.value="",l.value++,Rt.value=null,mt.value=null}async function Mn(fe){const re=fe,be=await ba.getOfflineOPDDrugs({name:re,page:1,page_size:10});be.map(Ze=>({label:Ze.name,value:Ze.name,other:Ze})),H.setPartialOPDdrugList(be)}function la(fe){const re=[];return X.value.forEach(tt=>{tt.selected&&re.push(tt.concept_id)}),Za([fe],re)==!0?(Xe("Client is allergic to the selected medication",4e3),!0):!1}function Za(fe,re){try{return fe.some(He=>re.includes(He.concept_id))}catch(He){return!1}}function An(fe){fe&&(y.value=fe.name,U.value=fe.drug_id,T.value=fe.units,_e.value=fe,la(fe))}function En(fe){const re=ce.value[fe],He=gt();He.removeDrugById(re.drug_id),He.editingDrugItem=re,U.value="",y.value="",D.value="",ft.value=null,C.value="",E.value="",Rt.value=null,mt.value=null,U.value=re.drug_id,y.value=re.drugName,D.value=re.dose,ft.value={label:re.frequency,code:re.frequency_code},C.value=re.duration,E.value=re.prescription;const tt=se.value.find(be=>be.name===re.drugName);tt&&(Rt.value=tt),mt.value={concept_id:re.route_concept_id,name:re.route_name},r.value=!1,l.value++}function Vn(){if(Se.value!==null){U.value="",y.value="",D.value="",ft.value=null,C.value="",E.value="",Rt.value=null,mt.value=null;const fe=gt();fe.setSelectedMedicalDrugsList([Se.value]),fe.editingDrugItem=null}r.value=!0,l.value++}function On(fe){ce.value.splice(fe,1),l.value++,Xe("you have removed a drug from list",6e3)}function Ce(fe){let re=fe.target.value;pe(re)}function pe(fe){gt().setNonPharmalogicalTherapyAndOtherNotes(fe)}function We(fe){return/^[0-9]+$/.test(fe)}function st(fe,re){const He=new Date(fe);He.setDate(He.getDate()+re);const tt=He.getFullYear(),be=String(He.getMonth()+1).padStart(2,"0"),Ze=String(He.getDate()).padStart(2,"0");return"".concat(tt,"-").concat(be,"-").concat(Ze)}function ot(){s.value=!1,o.value=!0,r.value=!0}function _t(fe){de.filter(He=>He!==fe.detail.value);const re=fe.detail.value;re!==void 0?re=="third"&&(Qe.value="Show less notes",Z.value=!De.value):(Qe.value="Show more notes",Z.value=!De.value)}function xe(fe){de.filter(He=>He!==fe.detail.value);const re=fe.detail.value;re!==void 0?re=="fith"&&(Ot.value="Show less allegies",ke.value=!De.value):(Ot.value="Show more allegies",ke.value=!De.value)}function vt(fe){return fe[1]}function Tn(fe){(fe.key==="Enter"||fe.key==="ArrowDown")&&(fe.preventDefault(),Xa())}const Xt=ze(()=>[{showAddItemButton:!0,addItemButton:!0,name:Se.value!==null?"Update":"ADD",btnFill:"clear",fn:Xa},{showAddItemButton:!0,addItemButton:!0,name:"CANCEL",btnFill:"clear",fn:Vn}]);return(fe,re)=>{const He=d("ion-chip"),tt=d("ion-text");return p(),A(g(x),null,{default:i(()=>[_("div",hm,[n(g(J),{class:"section-title"},{default:i(()=>[n(g(rt),{icon:g(as),class:"alert-icon"},null,8,["icon"]),n(g(J),null,{default:i(()=>re[9]||(re[9]=[S("Allergies (Medication, Healthcare items, Environment and Food)")])),_:1,__:[9]})]),_:1}),_("div",pm,[X.value.some(be=>be.selected)?(p(),v("div",mm,[(p(!0),v(te,null,he(X.value,(be,Ze)=>Ai((p(),v("div",{key:Ze,class:"allergy-item"},[n(He,{class:"allergy-chip",color:"danger"},{default:i(()=>[n(g(J),null,{default:i(()=>[S(k(be.name),1)]),_:2},1024),n(g(rt),{icon:g($o)},null,8,["icon"])]),_:2},1024)])),[[Ei,be.selected]])),128))])):(p(),v("div",fm,[n(tt,{style:{"font-size":"16px","font-weight":"600",color:"#9c8011"}},{default:i(()=>re[10]||(re[10]=[S("No allergies recorded")])),_:1,__:[10]})])),n(g(Mt),{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(g(At),{value:"fourth","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(V),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"previousLabel"},{default:i(()=>re[11]||(re[11]=[S("Documented allergies timeline")])),_:1,__:[11]})]),_:1}),_("div",_m,[(p(!0),v(te,null,he(ma.value,(be,Ze)=>(p(),v("div",{class:"ionLbltp",key:Ze},[Ze==1?(p(),v("div",vm,[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(be[0].date),1)]),_:2},1024)]),(p(!0),v(te,null,he(be,(lt,ra)=>(p(),v("div",{key:ra},[_("div",gm,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(lt.value),1)]),_:2},1024)]),_:2},1024)])]))),128))])):$("",!0)]))),128)),n(g(Mt),{onIonChange:xe},{default:i(()=>[n(g(At),{value:"fith","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(V),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"",color:"primary"},{default:i(()=>[S(k(Ot.value),1)]),_:1})]),_:1}),_("div",ym,[(p(!0),v(te,null,he(Tt.value,(be,Ze)=>(p(),v("div",{class:"ionLbltp",key:Ze},[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(be[0]),1)]),_:2},1024)]),(p(!0),v(te,null,he(vt(be),(lt,ra)=>(p(),v("div",{key:ra},[_("div",bm,[n(g(x),null,{default:i(()=>[n(g(J),{class:"notes_p"},{default:i(()=>[S(k(lt.value),1)]),_:2},1024)]),_:2},1024)])]))),128))]))),128))])]),_:1})]),_:1})])]),_:1})]),_:1},512)])]),_("div",Dm,[n(g(V),{lines:"none",class:"section-header"},{default:i(()=>[n(g(rt),{icon:g(Vi),class:"section-icon"},null,8,["icon"]),n(g(J),{class:"section-title",style:{"margin-top":"12px"}},{default:i(()=>re[12]||(re[12]=[S("Medication")])),_:1,__:[12]})]),_:1}),_("div",Sm,[(p(),A(Ea,{_selectedMedicalDrugsList:ce.value,onEditItem:En,onRemoveItem:On,key:l.value,class:"medication-list"},null,8,["_selectedMedicalDrugsList"])),r.value?$("",!0):(p(),v("div",Cm,[_("div",wm,[re[13]||(re[13]=_("label",{class:"input-label"},"Medication",-1)),n(g(ea),{modelValue:Rt.value,"onUpdate:modelValue":[re[0]||(re[0]=be=>Rt.value=be),re[1]||(re[1]=be=>An(be))],options:se,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select medication",label:"name","track-by":"drug_id",onSearchChange:re[2]||(re[2]=be=>Mn(be))},{option:i(be=>[_("div",Im,k(be.option.name),1)]),_:1},8,["modelValue"]),Na.value?(p(),v("div",Pm,k(Cn.value),1)):$("",!0)]),_("div",Nm,[_("div",km,[re[14]||(re[14]=_("label",{class:"input-label"},"Route",-1)),n(g(ea),{modelValue:mt.value,"onUpdate:modelValue":[re[3]||(re[3]=be=>mt.value=be),re[4]||(re[4]=be=>ja(be))],options:Ga.value,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select route",label:"name","track-by":"concept_id"},null,8,["modelValue","options"]),ct.value?(p(),v("div",Bm,k(Te.value),1)):$("",!0)]),_("div",$m,[re[15]||(re[15]=_("label",{class:"input-label"},"Frequency",-1)),n(g(ea),{modelValue:ft.value,"onUpdate:modelValue":[re[5]||(re[5]=be=>ft.value=be),re[6]||(re[6]=be=>$n(be))],options:g(a),searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Select frequency",label:"label","track-by":"code"},null,8,["modelValue","options"]),Pa.value?(p(),v("div",Mm,k(Sn.value),1)):$("",!0)]),_("div",Am,[re[16]||(re[16]=_("label",{class:"input-label"},"Duration (days)",-1)),n(g(ae),{modelValue:C.value,"onUpdate:modelValue":re[7]||(re[7]=be=>C.value=be),type:"number",inputmode:"numeric",pattern:"[0-9]*",fill:"outline",placeholder:"Enter duration",onKeydown:Tn},null,8,["modelValue"]),f.value?(p(),v("div",Em,k(m.value),1)):$("",!0)])]),_("div",Vm,[Xt.value[0].addItemButton?(p(),A(Be,{key:0,name:Xt.value[0].name,fill:Xt.value[0].btnFill,icon:g(Ia),"onClicked:btn":Xt.value[0].fn,class:"save-button"},null,8,["name","fill","icon","onClicked:btn"])):$("",!0),Xt.value[1].addItemButton?(p(),A(Be,{key:1,name:Xt.value[1].name,fill:Xt.value[1].btnFill,icon:g(sa),"onClicked:btn":Xt.value[1].fn,class:"cancel-button"},null,8,["name","fill","icon","onClicked:btn"])):$("",!0)])])),r.value?(p(),A(Be,{key:1,name:R,fill:M,icon:g(ls),"onClicked:btn":Ya,class:"add-new-button"},null,8,["icon"])):$("",!0)])]),_("div",Om,[n(g(V),{lines:"none",class:"section-header"},{default:i(()=>[n(g(rt),{icon:g(Mi),class:"section-icon"},null,8,["icon"]),n(g(J),{class:"section-title"},{default:i(()=>re[17]||(re[17]=[S("Non-pharmacological therapy and other notes")])),_:1,__:[17]})]),_:1}),_("div",Tm,[n(eo,{class:"intervention-component"}),_("div",Fm,[n(g(V),{class:"notes-input-item"},{default:i(()=>[n(g(rt),{slot:"start",icon:g(t).editPen,class:"edit-icon","aria-hidden":"true"},null,8,["icon"]),n(g(yn),{modelValue:Q.value,"onUpdate:modelValue":re[8]||(re[8]=be=>Q.value=be),onIonInput:Ce,placeholder:"Enter notes here...","auto-grow":!0,class:"notes-textarea",fill:"outline",style:{"--padding-start":"16px"}},null,8,["modelValue"])]),_:1})]),n(g(Mt),{ref:"accordionGroup",class:"previous-notes"},{default:i(()=>[n(g(At),{value:"fourth","toggle-icon-slot":"start"},{default:i(()=>[n(g(V),{slot:"header",color:"light",class:"previous-notes-header"},{default:i(()=>[n(g(J),null,{default:i(()=>re[18]||(re[18]=[S("Previous visit notes")])),_:1,__:[18]})]),_:1}),_("div",Hm,[_("div",Rm,[fe.index===1?(p(!0),v(te,{key:0},he(bt.value,(be,Ze)=>(p(),v("div",{key:Ze,class:"note-entry"},[(p(!0),v(te,null,he(be,(lt,ra)=>(p(),v("div",{key:ra},[_("div",Lm,k(lt.date),1),_("div",xm,k(lt.notes),1)]))),128))]))),128)):$("",!0),n(g(Mt),{onIonChange:_t},{default:i(()=>[n(g(At),{value:"third","toggle-icon-slot":"start"},{default:i(()=>[n(g(V),{slot:"header",color:"light",class:"show-more-header"},{default:i(()=>[n(g(J),{color:"primary"},{default:i(()=>[S(k(Qe.value),1)]),_:1})]),_:1}),_("div",Um,[(p(!0),v(te,null,he(pt.value,(be,Ze)=>(p(),v("div",{key:Ze,class:"note-entry"},[(p(!0),v(te,null,he(vt(be),(lt,ra)=>(p(),v("div",{key:ra},[_("div",zm,k(lt.date),1),_("div",qm,k(lt.notes),1)]))),128))]))),128))])]),_:1})]),_:1})])])]),_:1})]),_:1},512)])])]),_:1})}}}),jm=O(Gm,[["__scopeId","data-v-cd4f7020"]]),Ym=B({components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,BasicInputField:ee,IonDatetime:ss},data(){return{iconsContent:P,calendarDate:"",date:new Date,bookedPatient:20,tomorrow:new Date().getDate()+1,appointment:"",drugRunoutDate:"",nextAppointmentDate:"",minDate:new Date}},computed:{...w(Lt,["nextAppointment"])},watch:{calendarDate:{handler(){this.updateNextAppointment()},deep:!0}},async mounted(){const e=Ve.getUserID(),t=new Me;this.appointment=new Ma(t.getID(),e),this.nextAppointmentDate=this.appointment.date},methods:{updateNextAppointment(){Lt().setNextAppointment(this.calendarDate)},handleDateUpdate(e){this.calendarDate=ne.toStandardHisDisplayFormat(e),this.saveData()},async saveData(){try{const t=await this.appointment.getNextAppointment();this.nextAppointmentDate=t.appointment_date,this.drugRunoutDate=t.drugs_run_out_date,console.log(t)}catch(t){}const e=[await this.appointment.buildValueDate("Appointment date","2024-03-28"),await this.appointment.buildValueDate("Estimated date",this.nextAppointmentDate)];console.log("ðŸš€ ~ mounted ~ ttt:",e)}}}),Jm={class:"card_content"},Km={key:0},Qm={style:{color:"#999"}},Xm={class:"dates_title"},Zm={class:"sub_data"},ef={class:"dates_title"},tf={class:"sub_data"},af={class:"dates_title"},nf={class:"sub_data"};function sf(e,t,a,s,o,r){const l=d("VueDatePicker"),c=d("ion-col"),h=d("ion-item"),m=d("ion-row");return p(),v("div",Jm,[n(m,null,{default:i(()=>[n(c,{"size-sm":"12","size-md":"12","size-lg":"12","size-xl":"8"},{default:i(()=>[n(l,{class:"calender",onDateUpdate:e.handleDateUpdate,modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=f=>e.date=f),"min-date":e.minDate,inline:"","auto-apply":"","enable-time-picker":!1},{day:i(({day:f})=>[f===e.tomorrow?(p(),v("p",Km,[S(k(f),1),_("sup",Qm,k(e.bookedPatient),1)])):(p(),v(te,{key:1},[S(k(f),1)],64))]),_:1},8,["onDateUpdate","modelValue","min-date"])]),_:1}),n(c,null,{default:i(()=>[n(h,null,{default:i(()=>t[1]||(t[1]=[_("div",{class:"dates_title"},[_("div",null,"Next Vaccination date"),_("div",{class:"sub_data"},"20 June 2024 - 27 June 2024")],-1)])),_:1,__:[1]}),n(h,null,{default:i(()=>[_("div",Xm,[t[2]||(t[2]=_("div",null,"User set appointment date",-1)),_("div",Zm,k(e.calendarDate),1)])]),_:1}),n(h,null,{default:i(()=>[_("div",ef,[t[3]||(t[3]=_("div",null,"Appointments",-1)),_("div",tf,k(e.bookedPatient),1)])]),_:1}),n(h,null,{default:i(()=>[_("div",af,[t[4]||(t[4]=_("div",null,"Appointment limit (per/day)",-1)),_("div",nf,k(e.bookedPatient)+"/120",1)])]),_:1})]),_:1})]),_:1})])}const of=O(Ym,[["render",sf],["__scopeId","data-v-90d9f6bb"]]);function Pt(e,t,a){var r,l,c,h;const s={Gravida:()=>an(t,a),lmnpEED:()=>F.required(a),Stillbirths:()=>an(t,a),LiveBirths:()=>F.required(a),Parity:()=>F.required(a),"Abortions/Miscarriages":()=>an(t,a),specify:()=>an(t,a),TetanusDosesForImmunisation:()=>F.required(a),NumberOfUnderImmunisedDoses:()=>F.required(a),tt1Date:()=>F.required(a),tt2Date:()=>F.required(a),tt3Date:()=>F.required(a),tt4Date:()=>F.required(a),tt5Date:()=>F.required(a),tt6Date:()=>F.required(a),tt7Date:()=>F.required(a),tt8Date:()=>F.required(a),tt9Date:()=>F.required(a),tt10Date:()=>F.required(a),tt11Date:()=>F.required(a),tt12Date:()=>F.required(a),tt13Date:()=>F.required(a),tt14Date:()=>F.required(a),tt15Date:()=>F.required(a),ReasonTTVnotConducted:()=>F.required(a),ExistingChronicConditions:()=>F.required(a),Medications:()=>F.required(a),DailyCaffeineIntake:()=>F.required(a),CurrentMedications:()=>F.required(a),SubstanceAbuse:()=>F.required(a),SecondHandSmoke:()=>F.required(a),"Who does the client live with":()=>F.required(a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),L(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),L(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function an(e,t){if(e==="Gravida"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,1,15);if(o!==null)return o}else if(e==="Abortions/Miscarriages"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="Stillbirths"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="lmnpDate"){const a=F.required(t);if(a!==null)return a;const s=F.isDate(t);if(s!==null)return s}else if(e==="UltrasoundDate"){const a=F.required(t);if(a!==null)return a;const s=F.isDate(t);if(s!==null)return s}else if(e==="specify"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,42);if(o!==null)return o}else if(e==="Gestation age by palpation"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,4,36);if(o!==null)return o}else return null;return null}const lf=B({name:"Menu",components:{IonLabel:J,IonTextarea:yn,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,initialData:[]}},mounted(){this.handleOther();const e=Kn();this.initialData=e.getInitial()},watch:{Medication:{handler(e){this.handleOther(),this.handleInputData(e)},deep:!0}},computed:{...w(Kn,["Medication"]),Medications(){return ue(this.Medication,"Which medications is the woman currently prescribed?")}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{navigationMenu(e){Ue.close(),this.$router.push(e)},validationRules(e){return Pt(this.Medication,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)},handleOther(){var t;const e=["Oral PreP for HIV","Analgesic","Anti-consulsive","Anti-TB","Antihelmintic","Antimarials","Antitussive","Aspirin","Calcium","Doxylamine","Hematinic","Iron","Metoclopramide","Thyroid medication","Antiacids","Anti-psychotics","Anti-diabetic","Anti-hypertensive","ARVs","Antivirals","Asthamatic","Co-trimoxazole","Folic acid","Hemorrhoidal medication","Magnesium","Multivitamin","Vitamin A","Other"];(t=ue(this.Medication,"None"))!=null&&t.checked?e.forEach(a=>{L(this.Medication,a,"checked",!1),L(this.Medication,a,"disabled",!0)}):e.forEach(a=>{L(this.Medication,a,"disabled",!1)})}}}),rf={class:"container"};function df(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",rf,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.Medication,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const cf=O(lf,[["render",df],["__scopeId","data-v-fce72491"]]),uf=B({name:"Menu",components:{BasicForm:G,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee},data(){return{iconsContent:P,currentSection:0}},mounted(){en(),en(),this.handleNone()},watch:{dailyCaffeineIntake:{handler(e){this.handleNone(),this.handleInputData(e)},deep:!0}},computed:{...w(en,["dailyCaffeineIntake"]),...w(en,["Tobacco"]),DailyCaffeineIntake(){return ue(this.dailyCaffeineIntake,"Daily caffeine use")},SubstanceAbuse(){return N(this.Tobacco,"Recently quit tobacco products")},SecondHandSmoke(){return N(this.Tobacco,"Exposure to second hand smoke")}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{validationCaffeineRules(e){return Pt(this.dailyCaffeineIntake,e.name,this[e.name])},validationTobaccoRules(e){return Pt(this.dailyCaffeineIntake,e.name,this[e.name])},async handleInputData(e){this.validationCaffeineRules(e),this.validationTobaccoRules(e)},handleNone(){var t;const e=["More than 2 cups of coffee","More than 4 cups of tea","More than 12 bars of chocolate","More than one bottle of soda, energy, soft drink"];(t=ue(this.dailyCaffeineIntake,"None"))!=null&&t.checked?e.forEach(a=>{L(this.dailyCaffeineIntake,a,"checked",!1),L(this.dailyCaffeineIntake,a,"disabled",!0)}):e.forEach(a=>{L(this.dailyCaffeineIntake,a,"disabled",!1)})},navigationMenu(e){Ue.close(),this.$router.push(e)}}}),hf={class:"container"};function pf(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",hf,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.dailyCaffeineIntake,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.Tobacco,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const mf=O(uf,[["render",pf],["__scopeId","data-v-fcd67f7f"]]),ff=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{initialData:[],iconsContent:P}},mounted(){const e=bs();this.initialData=e.getInitial(),this.handleDangerSigns()},watch:{PreviousVisit:{handler(e){},deep:!0},DangerSigns:{handler(){this.handleDangerSigns()},deep:!0}},computed:{...w(bs,["DangerSigns"])},setup(){return{checkmark:ie,pulseOutline:le}},methods:{navigationMenu(e){Ue.close(),this.$router.push(e)},handleDangerSigns(){var t;const e=["Preterm labour","Central cyanosis","Unconscious","Fever","Imminent delivery","Severe headache","Severe vomiting","Severe abdominal pain","Draining liquor","Respiratory problems","Convulsion history","Vomiting","Oedema","Epigastric pain","Bleeding vaginally","Other"];(t=ue(this.DangerSigns,"None"))!=null&&t.checked?e.forEach(a=>{L(this.DangerSigns,a,"checked",!1),L(this.DangerSigns,a,"disabled",!0)}):e.forEach(a=>{L(this.DangerSigns,a,"disabled",!1)})}}}),_f={class:"container"};function vf(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",_f,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.DangerSigns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const gf=O(ff,[["render",vf],["__scopeId","data-v-7b6416cc"]]),yf=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{initialData:[],iconsContent:P,confirmPregnancy:"",plannedPregnancy:""}},mounted(){const e=Ds();this.initialData=e.getInitial()},computed:{...w(Ds,["ConfirmPregnancy"])},setup(){return{checkmark:ie,pulseOutline:le}},methods:{navigationMenu(e){Ue.close(),this.$router.push(e)}}}),bf={class:"container"};function Df(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",bf,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ConfirmPregnancy,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Sf=O(yf,[["render",Df],["__scopeId","data-v-a137d033"]]);function Cf(e,t,a){var r,l,c,h;const s={reasonVisitFacility:()=>F.required(a),dangerSigns:()=>F.required(a),pregnancyConfirmed:()=>F.required(a),pregnancyPlanned:()=>F.required(a),referWoman:()=>F.required(a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),L(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),L(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}const wf=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,initialData:[]}},computed:{...w(pn,["ReasonForVisit","ReasonForSubsequentVisit"]),reasonVisitFacility(){return N(this.ReasonForVisit,"Reason for visit")}},mounted(){const e=pn();this.initialData=e.getInitial(),this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit(),this.handleFacility(),this.handleReffer()},watch:{ReasonForVisit:{handler(){this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit(),this.handleFacility(),this.handleReffer()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleInputData(e){Ke(this.ReasonForVisit,ol,e.name,e.value)},validationRules(e){return Cf(this.ReasonForVisit,e.name,this[e.name])},async handleInputDataa(e){this.validationRules(e)},navigationMenu(e){Ue.close(),this.$router.push(e)},handleFacility(){N(this.ReasonForVisit,"Reason for visit")=="facility"?u(this.ReasonForVisit,"facility for art","displayNone",!1):u(this.ReasonForVisit,"facility for art","displayNone",!0)},handleReffer(){N(this.ReasonForVisit,"Action for danger signs")=="Yes"?u(this.ReasonForVisit,"facility","displayNone",!1):u(this.ReasonForVisit,"facility","displayNone",!0)},handleFirstAntenalVisit(){var t,a;((t=ue(this.ReasonForVisit,"Other danger signs"))==null?void 0:t.value)=="other danger signs"?u(this.ReasonForVisit,"Other notes","displayNone",!1):u(this.ReasonForVisit,"Other notes","displayNone",!0);const e=["Pre-term labour","Central cyanosis","Unconscious","Fever","Imminent delivery","Severe headache","Severe vomiting","Severe abdominal pain","Draining liquor","Respiratory problems","Convulsion history","Vomiting","Oedema","Epigastric pain","Bleeding vaginally","Other danger signs","Abnormal vaginal discharge","Change in blood pressure-up","Diarrhoea","Vomiting","Genital ulcers","Change in blood pressure-down","Constipation","Contractions","Vaginal bleeding","Intimate partner violence","Flu symptoms","Painful urination","Headache","Dyspepsia","Frequent urination/Polyuria","Injury","Jaundice","Mental health-Depression","Genital warts","Itchy vulva","Painful intercourse","No health concerns","Other"];if((a=ue(this.ReasonForVisit,"None"))!=null&&a.checked)e.forEach(s=>{L(this.ReasonForVisit,s,"checked",!1),L(this.ReasonForVisit,s,"disabled",!0)}),I(this.ReasonForVisit,"Action for danger signs","selectedValue",""),I(this.ReasonForVisit,"Action for danger signs","displayNone",!0),I(this.ReasonForVisit,"Previous visits","displayNone",!0),u(this.ReasonForVisit,"notes","displayNone",!0),u(this.ReasonForVisit,"Number of previous visits","displayNone",!0);else{let s=!1;e.forEach(o=>{var r;(r=ue(this.ReasonForVisit,o))!=null&&r.checked&&(s=!0),L(this.ReasonForVisit,o,"disabled",!1)}),I(this.ReasonForVisit,"Action for danger signs","displayNone",!s)}N(this.ReasonForVisit,"Action for danger signs")=="No"?(Le(this.ReasonForVisit,"Specific health concerns","displayNone",!1),I(this.ReasonForVisit,"Previous visits","displayNone",!1)):(["Abnormal vaginal discharge","Change in blood pressure-up","Diarrhoea","Vomiting","Genital ulcers","Change in blood pressure-down","Constipation","Contractions","Vaginal bleeding","Intimate partner violence","Flu symptoms","Painful urination","Headache","Dyspepsia","Frequent urination/Polyuria","Injury","Jaundice","Mental health-Depression","Genital warts","Itchy vulva","Painful intercourse","No health concerns","Other"].forEach(o=>{L(this.ReasonForVisit,o,"checked",!1)}),Le(this.ReasonForVisit,"Specific health concerns","displayNone",!0),I(this.ReasonForVisit,"Specific health concerns","displayNone",!0))},handleSpecificConcernsVisit(){}}}),If={class:"container"};function Pf(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",If,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ReasonForVisit,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Nf=O(wf,[["render",Pf],["__scopeId","data-v-9b877028"]]),kf=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,healthConcern:"",initialData:[]}},watch:{HealthConcerns:{handler(){this.handleHealthconcerns()},deep:!0}},mounted(){const e=Ss();this.initialData=e.getInitial(),this.handleHealthconcerns()},computed:{...w(Ss,["HealthConcerns"])},setup(){return{checkmark:ie,pulseOutline:le}},methods:{navigationMenu(e){Ue.close(),this.$router.push(e)},handleHealthconcerns(){var t,a;((t=ue(this.HealthConcerns,"Other"))==null?void 0:t.value)=="other"?u(this.HealthConcerns,"Other","displayNone",!1):u(this.HealthConcerns,"Other","displayNone",!0);const e=["Abnormal vaginal discharge","Change in blood pressure-up","Diarrhoea","Vomiting","Genital ulcers","Change in blood pressure-down","Constipation","Contractions","Vaginal bleeding","Intimate partner violence","Flu symptoms","Painful urination","Dyspepsia","Itchy vulva","Headache","Heartburn","Frequent urination/Polyuria","Injury","Jaundice","Mental health-Depression","Genital warts","Painful intercourse","Other"];(a=ue(this.HealthConcerns,"None"))!=null&&a.checked?e.forEach(s=>{L(this.HealthConcerns,s,"checked",!1),L(this.HealthConcerns,s,"disabled",!0)}):e.forEach(s=>{L(this.HealthConcerns,s,"disabled",!1)})}}}),Bf={class:"container"};function $f(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Bf,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.HealthConcerns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Mf=O(kf,[["render",$f],["__scopeId","data-v-6c9c9696"]]),Af=B({name:"BabyDetailsModal",components:{DynamicButton:Be,IonModal:pa,IonHeader:q,IonToolbar:W,IonTitle:j,IonButtons:Sa,IonButton:it,IonContent:z,IonIcon:rt,BasicForm:G},data(){return{initialData:[]}},props:{isOpen:{type:Boolean,required:!0,default:!1},closeModalFunc:{type:Function,required:!0},onYes:{type:Function,required:!0},onNo:{type:Function,required:!0},title:{type:String,required:!0}},computed:{...w(nt,["babyDetails"]),...w(nt,["secondStageDetails"])},watch:{secondStageDetails:{async handler(){this.handleChangeDisplay()},deep:!0},babyDetails:{handler(){this.handleChangeDisplay();const e=["Prematurity","Sepsis","Congenital abnormalities","Asphyxia","Other complications","Low birthweight","Nursery"],t=["Kangaroo mother care","Antibiotics","Other"];this.handleComplicationCheck(e),this.handleNone(e,"None"),this.handleNone(t,"Routine newborn care"),this.handleCongenitalCheck(),this.handleAsphyxiaCheck(),this.handleResuscitationChange()},deep:!0}},methods:{async handleInputData(e){Ke(this.babyDetails,Qn,e.name,e.value)},closeOutline(){return sa},closeModal(){this.closeModalFunc()},confirm(){this.onYes(),this.babyDetails=[],this.closeModal()},handleChangeDisplay(){const e=N(this.secondStageDetails,"Baby general condition at birth");this.babyDetailsDisplayNone(e=="Macerated stillbirth"||e=="Fresh stillbirth")},babyDetailsDisplayNone(e){u(this.babyDetails,"First name","displayNone",e),u(this.babyDetails,"Last name","displayNone",e),u(this.babyDetails,"Apgar score at 1 minute","displayNone",e),u(this.babyDetails,"Apgar score at 5 minute","displayNone",e),I(this.babyDetails,"Tetracycline eye ointment given","displayNone",e),I(this.babyDetails,"Chlorhexidine","displayNone",e),Le(this.babyDetails,"Newborn baby complications","displayNone",e),I(this.babyDetails,"Oxytocin 10 UI given","displayNone",e),I(this.babyDetails,"Vitamin K given","displayNone",e)},handleNone(e,t){var a;(a=ue(this.babyDetails,t))!=null&&a.checked?e.forEach(s=>{L(this.babyDetails,s,"checked",!1),L(this.babyDetails,s,"disabled",!0)}):e.forEach(s=>{L(this.babyDetails,s,"disabled",!1)})},handleComplicationCheck(e){let t=!1;e.forEach(a=>{var s;t=t||((s=ue(this.babyDetails,a))==null?void 0:s.checked)}),Le(this.babyDetails,"Management to newborn","displayNone",!t)},handleCongenitalCheck(){var t;const e=(t=ue(this.babyDetails,"Congenital abnormalities"))==null?void 0:t.checked;u(this.babyDetails,"Specify","displayNone",!e)},handleAsphyxiaCheck(){var t;const e=(t=ue(this.babyDetails,"Asphyxia"))==null?void 0:t.checked;I(this.babyDetails,"Resuscitation attempt","displayNone",!e)},handleResuscitationChange(){const e=N(this.babyDetails,"Resuscitation attempt")=="Yes";I(this.babyDetails,"Type of resuscitation","displayNone",!e)}}}),Ef={style:{display:"flex"}};function Vf(e,t,a,s,o,r){const l=d("ion-title"),c=d("basic-form"),h=d("DynamicButton"),m=d("ion-content"),f=d("ion-modal");return p(),A(f,{"is-open":e.isOpen,"show-backdrop":!0,onDidDismiss:e.closeModal},{default:i(()=>[n(m,null,{default:i(()=>[n(l,{style:{color:"black"}},{default:i(()=>[S(k(e.title),1)]),_:1}),n(c,{contentData:e.babyDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),_("div",Ef,[n(h,{expand:"block",onClick:t[0]||(t[0]=y=>e.confirm()),name:"Save",style:"flex:1"}),n(h,{expand:"block",onClick:t[1]||(t[1]=y=>e.onNo()),style:"flex:1",name:"Cancel",fill:"clear"})])]),_:1})]),_:1},8,["is-open","onDidDismiss"])}const ms=O(Af,[["render",Vf],["__scopeId","data-v-b227def4"]]),Of=B({components:{IonButton:it,BabyDetailsModal:ms,IonToggle:me,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,FeatusModal:Wi},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],FeatusModalOpen:!1,arrayOfFeatus:[],selectedFeatus:0,fetalsDetails:[]}},computed:{...w($t,["fetalAssessment","fetalDetails"])},mounted(){this.handleFetalAssessment(),this.handleFetalRate()},watch:{fetalAssessment:{handler(){this.handleFetalAssessment(),this.handleFetalRate()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleInputData(e){Ke(this.fetalAssessment,Hi,e.name,e.value)},selectFeatus(e){this.selectedFeatus=e;const t=this.fetalsDetails.find(s=>s.featus==e);$t().setFetalDetails(t.details),this.toggleFetalModal()},handleNumberOfBabies(){const e=oe(this.fetalAssessment,"Number of fetuses","value");this.arrayOfFeatus=[...Array(Number(e)).keys()]},handleAddFeatusDetails(e){$t().setFetalDetails(),this.selectedFeatus=e,this.toggleFetalModal()},closeFetalModal(){},handleFeatusYes(){this.toggleFetalModal();const e=$t(),t=this.fetalsDetails.findIndex(a=>a.featus==this.selectedFeatus);t<0?this.fetalsDetails.push({featus:this.selectedFeatus,details:[...$e.cloneDeep(e.fetalDetails)]}):this.fetalsDetails[t].details=[...$e.cloneDeep(e.fetalDetails)],e.setFetalDetails()},handleFeatusNo(){this.toggleFetalModal(),$t().fetalAssessment.setFetalDetals()},toggleFetalModal(){this.FeatusModalOpen=!this.FeatusModalOpen},navigationMenu(e){Ue.close(),this.$router.push(e)},checkIfSubmitted(e){return this.fetalsDetails.find(t=>t.featus==e)},handleFetalAssessment(){N(this.fetalAssessment,"Number of fetuses known")=="yes"?u(this.fetalAssessment,"Number of fetuses","displayNone",!1):u(this.fetalAssessment,"Number of fetuses","displayNone",!0)},handleFetalRate(){N(this.fetalAssessment,"Fetal heartbeat")=="yes"?(u(this.fetalAssessment,"Fetal heart rate","displayNone",!1),u(this.fetalAssessment,"Repeated fetal rate","displayNone",!1)):(u(this.fetalAssessment,"Fetal heart rate","displayNone",!1),u(this.fetalAssessment,"Repeated fetal rate","displayNone",!1))}}}),Tf={class:"container"},Ff={key:0};function Hf(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("FeatusModal"),f=d("ion-button"),y=d("ion-card-content"),D=d("ion-card");return p(),v("div",Tf,[n(D,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Fetal assessment results")])),_:1,__:[0]})]),_:1}),n(y,null,{default:i(()=>[n(h,{contentData:e.fetalAssessment,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),n(m,{closeModalFunc:e.closeFetalModal,onYes:e.handleFeatusYes,onNo:e.handleFeatusNo,isOpen:e.FeatusModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfFeatus.length>0?(p(),v("div",Ff,[(p(!0),v(te,null,he(e.arrayOfFeatus,C=>(p(),v("div",{key:C},[e.checkIfSubmitted(C)?$("",!0):(p(),A(f,{key:0,onClick:E=>e.handleAddFeatusDetails(C)},{default:i(()=>[S("Add Featus "+k(C+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(C)?(p(),A(f,{key:1,onClick:E=>e.selectFeatus(C)},{default:i(()=>[S("View Featus "+k(C+1),1)]),_:2},1032,["onClick"])):$("",!0)]))),128))])):$("",!0)]),_:1})]),_:1})])}const Rf=O(Of,[["render",Hf],["__scopeId","data-v-27efabcc"]]),Lf=B({components:{IonToggle:me,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[]}},computed:{...w(Xn,["fetalPresentation"])},mounted(){Ve.getUserID(),Xn(),this.handleFetalPresentation()},watch:{fetalPresentation:{handler(){this.handleFetalPresentation()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{navigationMenu(e){Ue.close(),this.$router.push(e)},handleFetalPresentation(){N(this.fetalPresentation,"Fetal presentation")=="other"?u(this.fetalPresentation,"Other (specify)","displayNone",!1):u(this.fetalPresentation,"Other (specify)","displayNone",!0)}}}),xf={class:"container"};function Uf(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",xf,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Fetal presentation result")])),_:1,__:[0]})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.fetalPresentation},null,8,["contentData"])]),_:1})]),_:1})])}const zf=O(Lf,[["render",Uf],["__scopeId","data-v-39aabab1"]]),qf=B({components:{IonToggle:me,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],initialRespiratory:[],initialBreastExam:[],initialPallor:[],initialOedema:[],initialCervicalExam:[],initialVaginalExam:[]}},computed:{...w(Nt,["respiratory"]),...w(Nt,["pallor"]),...w(Nt,["breastExam"]),...w(Nt,["vaginalInspection"]),...w(Nt,["cervicalExam"]),...w(Nt,["oedemaPresence"])},mounted(){Ve.getUserID();const e=Nt();this.initialBreastExam=e.getInitialBreastExam();const t=Nt();this.initialOedema=t.getInitialOedema();const a=Nt();this.initialVaginalExam=a.getInitialVaginalInspection();const s=Nt();this.initialCervicalExam=s.getInitialCervicalExam();const o=Nt();this.initialPallor=o.getInitialPallor();const r=Nt();this.initialRespiratory=r.getInitialRespiratoryExam(),this.handleBreastExams(),this.handleVaginalInspection()},watch:{breastExam:{handler(){this.handleBreastExams()},deep:!0},vaginalInspection:{handler(){this.handleVaginalInspection()},deep:!0},cervicalExam:{handler(){},deep:!0},oedemaPresence:{handler(){},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleInputData(e){Ke(this.vaginalInspection,ll,e.name,e.value)},navigationMenu(e){Ue.close(),this.$router.push(e)},handleBreastExams(){var t;const e=["Normal breast exam result","Bleeding","Tenderness","Other","Breast","Nodule","Discharge","Flushing","Local pain","Increased temperature","Epigastric pain","Other breast exams"];(t=ue(this.breastExam,"No breast exam conducted"))!=null&&t.checked?e.forEach(a=>{L(this.breastExam,a,"checked",!1),L(this.breastExam,a,"disabled",!0)}):e.forEach(a=>{L(this.breastExam,a,"disabled",!1)})},handleVaginalInspection(){var t;const e=["Normal vaginal exam result","Nothing abnormal observed","Other","Evidence of amniotic fluid","Genital pain","Abnormal discharge","Papules","Ulcers","Ulcers","Warts","Vesicles","Bleeding","Other"];(t=ue(this.vaginalInspection,"No vaginal inspection done"))!=null&&t.checked?e.forEach(a=>{L(this.vaginalInspection,a,"checked",!1),L(this.vaginalInspection,a,"disabled",!0)}):e.forEach(a=>{L(this.vaginalInspection,a,"disabled",!1)})}}}),Wf={class:"container"};function Gf(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Wf,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.respiratory,initialData:e.initialRespiratory,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.breastExam,initialData:e.initialBreastExam,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.vaginalInspection,initialData:e.initialVaginalExam,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.pallor,initialData:e.initialPallor,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.cervicalExam,initialData:e.initialCervicalExam,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.oedemaPresence,initialData:e.initialOedema,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const jf=O(qf,[["render",Gf],["__scopeId","data-v-4990371e"]]),Yf=B({components:{IonToggle:me,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,currentSection:0,vValidations:"",hasValidationErrors:[],initialData:[]}},computed:{...w(Cs,["presentingSigns"])},mounted(){const e=Cs();this.initialData=e.getInitialPresentingSigns()},watch:{},setup(){return{checkmark:ie,pulseOutline:le}},methods:{navigationMenu(e){Ue.close(),this.$router.push(e)}}}),Jf={class:"container"};function Kf(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Jf,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.presentingSigns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Qf=O(Yf,[["render",Kf],["__scopeId","data-v-36e0ccf2"]]),Xf=B({name:"Current",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,currentPregnanciesInstance:{},inputField:"",setName:"",initialData:[],initialData1:[],initialData2:[]}},computed:{...w(Bt,["palpation"]),...w(Bt,["lmnp"]),...w(Bt,["tetanus"]),...w(Bt,["tetanus"]),...w(Bt,["ultrasound"]),lmnpGestationAge(){return oe(this.lmnp,"lmnpGestationAge","value")},lmnpDate(){return oe(this.lmnp,"lmnpDate","value")},UltrasoundDate(){return oe(this.lmnp,"Ultrasound","value")},specify(){return oe(this.lmnp,"specify","value")},"Gestation age by palpation"(){return oe(this.lmnp,"Gestation age by palpation","value")},tt1Date(){return oe(this.lmnp,"tt1Date","value")},tt2Date(){return oe(this.lmnp,"tt1Date","value")},tt3Date(){return oe(this.lmnp,"tt1Date","value")},tt4Date(){return oe(this.lmnp,"tt1Date","value")},tt5Date(){return oe(this.lmnp,"tt1Date","value")},tt6Date(){return oe(this.lmnp,"tt1Date","value")},tt7Date(){return oe(this.lmnp,"tt1Date","value")},tt8Date(){return oe(this.lmnp,"tt1Date","value")},tt9Date(){return oe(this.lmnp,"tt1Date","value")},tt10Date(){return oe(this.lmnp,"tt1Date","value")},tt11Date(){return oe(this.lmnp,"tt1Date","value")},tt12Date(){return oe(this.lmnp,"12","value")},tt13Date(){return oe(this.lmnp,"13","value")},tt14Date(){return oe(this.lmnp,"14","value")},tt15Date(){return oe(this.lmnp,"15","value")}},mounted(){Bt();const e=Bt(),t=Bt(),a=Bt();this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleTetanus(),this.calculateEDD,this.validaterowData({}),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},setup(){return{checkmark:ie,pulseOutline:le}},watch:{lmnp:{handler(e){this.handleInputData(e),this.calculateEDD(e),this.lmnp,this.handleTetanus(),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},deep:!0}},methods:{async handleImmunValidation(e){Ke(this.lmnp,Ri,e.name,e.value)},validationRules(e){return Pt(this.lmnp,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},async handleInputData(e){this.handleImmunValidation(e),this.validaterowData(e),this.calculateGestationAgefromLNMP(e),this.calculateEDD(e),this.calculateEDDFromGestationAge(e),this.calculateLNMPdatefromAge(e),this.calculateEDDFromPalpation(e),this.handleLMNPDateRange(e),this.handleUltraSoundDateRange(e)},handleLMNPDateRange(e){const t=new Date,a=new Date(t);a.setDate(t.getDate()-36*7);const s=a.toISOString().split("T")[0],o=t.toISOString().split("T")[0];u(this.lmnp,"lmnpDate","minDate",s),u(this.lmnp,"lmnpDate","maxDate",o)},handleUltraSoundDateRange(e){const t=new Date,a=new Date(t);a.setDate(t.getDate()-36*7);const s=a.toISOString().split("T")[0],o=t.toISOString().split("T")[0];u(this.lmnp,"Ultrasound","minDate",s),u(this.lmnp,"Ultrasound","maxDate",o)},calculateGestationAgefromLNMP(e){if(e.name=="lmnpDate"){const t=Date.parse(oe(this.lmnp,"lmnpDate","value"));if(isNaN(t))u(this.lmnp,"lmnpGestationAge","value",null);else{const s=(new Date().getTime()-t)/(1e3*60*60*24),o=Math.floor(s/7);u(this.lmnp,"lmnpGestationAge","value",o)}}},calculateEDD(e){if(e.name==="lmnpDate"){const t=Date.parse(oe(this.lmnp,"lmnpDate","value"));if(isNaN(t))u(this.lmnp,"Estimated date of delivery","value",null);else{const a=new Date(t+24192e6);u(this.lmnp,"Estimated date of delivery","value",a)}}},calculateEDDFromGestationAge(e){if(e.name==="specify"){const t=parseInt(oe(this.lmnp,"specify","value"));if(isNaN(t))u(this.lmnp,"Estimated date of delivery from ultrasound","value",null);else{const a=new Date,s=new Date(a.getTime()-t*7*24*60*60*1e3),o=new Date(s.getTime()+280*24*60*60*1e3);u(this.lmnp,"Estimated date of delivery from ultrasound","value",o)}}},calculateLNMPdatefromAge(e){if(e.name==="specify"){const t=parseInt(oe(this.lmnp,"specify","value"));if(isNaN(t))u(this.lmnp,"ultrasound lmnp date","value",null);else{const a=new Date,s=new Date(a.getTime()-t*7*24*60*60*1e3);u(this.lmnp,"ultrasound lmnp date","value",s)}}},calculateEDDFromPalpation(e){if(e.name==="Gestation age by palpation"){const t=parseInt(oe(this.lmnp,"Gestation age by palpation","value"));if(isNaN(t))u(this.lmnp,"date of delivery","value",null);else{const a=new Date,s=new Date(a.getTime()-t*7*24*60*60*1e3),o=new Date(s.getTime()+280*24*60*60*1e3);u(this.lmnp,"date of delivery","value",o)}}},handleTetanus(){N(this.lmnp,"The woman received tetanus doses for immunization?")=="fully immunised"?(u(this.lmnp,"tt1Date","displayNone",!1),u(this.lmnp,"tt2Date","displayNone",!1),u(this.lmnp,"tt3Date","displayNone",!1),u(this.lmnp,"tt4Date","displayNone",!1),u(this.lmnp,"tt5Date","displayNone",!1)):(u(this.lmnp,"tt1Date","displayNone",!0),u(this.lmnp,"tt2Date","displayNone",!0),u(this.lmnp,"tt3Date","displayNone",!0),u(this.lmnp,"tt4Date","displayNone",!0),u(this.lmnp,"tt5Date","displayNone",!0))},handleUnderImmunised(){N(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?I(this.lmnp,"Number of tetanus doses","displayNone",!1):I(this.lmnp,"Number of tetanus doses","displayNone",!0)},handleOneDose(){N(this.lmnp,"Number of tetanus doses")=="one dose"&&N(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?u(this.lmnp,"tt6Date","displayNone",!1):u(this.lmnp,"tt6Date","displayNone",!0)},handleTwoDose(){N(this.lmnp,"Number of tetanus doses")=="two doses"&&N(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.lmnp,"tt7Date","displayNone",!1),u(this.lmnp,"tt8Date","displayNone",!1)):(u(this.lmnp,"tt7Date","displayNone",!0),u(this.lmnp,"tt8Date","displayNone",!0))},handleThreeDose(){N(this.lmnp,"Number of tetanus doses")=="three doses"&&N(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.lmnp,"tt9Date","displayNone",!1),u(this.lmnp,"tt10Date","displayNone",!1),u(this.lmnp,"tt11Date","displayNone",!1)):(u(this.lmnp,"tt9Date","displayNone",!0),u(this.lmnp,"tt10Date","displayNone",!0),u(this.lmnp,"tt11Date","displayNone",!0))},handleFourDose(){N(this.lmnp,"Number of tetanus doses")=="four doses"&&N(this.lmnp,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.lmnp,"12","displayNone",!1),u(this.lmnp,"13","displayNone",!1),u(this.lmnp,"14","displayNone",!1),u(this.lmnp,"15","displayNone",!1)):(u(this.lmnp,"12","displayNone",!0),u(this.lmnp,"13","displayNone",!0),u(this.lmnp,"14","displayNone",!0),u(this.lmnp,"15","displayNone",!0))},handleNodoses(){N(this.lmnp,"The woman received tetanus doses for immunization?")=="no doses"?I(this.lmnp,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!1):I(this.lmnp,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!0)},handleOtherDoses(){N(this.lmnp,"Reason Tetanus toxoid (TT) was not conducted")=="other"&&N(this.lmnp,"The woman received tetanus doses for immunization?")=="no doses"?u(this.lmnp,"Other","displayNone",!1):u(this.lmnp,"Other","displayNone",!0)}}}),Zf={class:"container"};function e_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Zf,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.lmnp,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,initialData:e.initialData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","initialData"])]),_:1})]),_:1})])}const t_=O(Xf,[["render",e_],["__scopeId","data-v-935ab386"]]),a_=B({name:"History",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{modeOfDelieveryRef:{},iconsContent:P,vValidations:"",hasValidationErrors:[],prevPregnanciesInstance:{},modeOfDeliveryInstance:{},currentSection:0,inputField:"",alertMessage:""}},computed:{...w(Zt,["prevPregnancies"]),...w(Zt,["preterm"]),...w(Zt,["abnormalities"]),...w(Zt,["modeOfDelivery"]),...w(Zt,["Complications"]),Stillbirths(){return oe(this.prevPregnancies,"Stillbirths","value")},Gravida(){return oe(this.prevPregnancies,"Gravida","value")},LiveBirths(){return oe(this.prevPregnancies,"LiveBirths","value")},Parity(){return oe(this.prevPregnancies,"Parity","value")},"Abortions/Miscarriages"(){return oe(this.prevPregnancies,"Abortions/Miscarriages","value")}},created(){this.modeOfDelieveryRef={...this.modeOfDelivery[0],...this.modeOfDelivery[1]}},mounted(){this.prevPregnanciesInstance=Zt(),this.handleOther(),this.handleDynamic(),this.handleGravida(event),this.validaterowData({})},watch:{LiveBirths:{handler(e){(e==0||!e)&&this.prevPregnanciesInstance.setModeOfDelivery(0)}},prevPregnancies:{handler(e){if(e&&e[2].data.rowData[0].colData[0].value){const t=parseInt(e[2].data.rowData[0].colData[0].value);this.prevPregnanciesInstance.setModeOfDelivery(t)}this.handleGravida(e),this.handleOther()},deep:!0},modeOfDelivery:{handler(){this.handleDynamic(),this.prevPregnanciesInstance.checkChanges()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleObstreticValidation(e){Ke(this.prevPregnancies,cs,e.name,e.value)},handleOther(){var t,a;((t=ue(this.prevPregnancies,"Other"))==null?void 0:t.value)=="other"?u(this.prevPregnancies,"Other notes","displayNone",!1):u(this.prevPregnancies,"Other notes","displayNone",!0);const e=["Asphyxia","Does not know","Pre-eclampsia","Eclampsia","Puerperal Sepsis","Baby died within 24hrs of birth","Convulsions","Forceps","Gestational diabetes mellitus","Heavy bleeding","Macrosomia","Perineal tear (3rd or 4th degree)","Other"];(a=ue(this.prevPregnancies,"None"))!=null&&a.checked?e.forEach(s=>{L(this.prevPregnancies,s,"checked",!1),L(this.prevPregnancies,s,"disabled",!0)}):e.forEach(s=>{L(this.prevPregnancies,s,"disabled",!1)})},handleDynamic(){N(this.modeOfDelivery,"Mode of delivery")=="caesarean section"?u(this.modeOfDelivery,"Specify","displayNone",!1):u(this.modeOfDelivery,"Specify","displayNone",!0)},handleAlert(e){Li(this.modeOfDelivery,"Mode of delivery",e.id)=="caesarean section"?mn(e.id,this.modeOfDelivery,"Specify","displayNone",!1):mn(e.id,this.modeOfDelivery,"Specify","displayNone",!0)},validationRules(e){return Pt(this.prevPregnancies,e.name,this[e.name])},async handleInputData(e){this.validaterowData(e),this.handleObstreticValidation(e),this.calculateParity(e),this.calculateLiveBirths(e)},validaterowData(e){},calculateLiveBirths(e){if(e.name==="Parity"||e.name==="Stillbirths"){const t=parseInt(oe(this.prevPregnancies,"Stillbirths","value")),a=parseInt(oe(this.prevPregnancies,"Parity","value"));if(!isNaN(t)&&!isNaN(a)){const s=a-t;u(this.prevPregnancies,"LiveBirths","value",s)}else u(this.prevPregnancies,"LiveBirths","value",null)}},calculateParity(e){if(e.name==="Gravida"||e.name==="Abortions/Miscarriages"){const t=parseInt(oe(this.prevPregnancies,"Gravida","value")),a=parseInt(oe(this.prevPregnancies,"Abortions/Miscarriages","value"));if(!isNaN(t)&&!isNaN(a)){const s=t-a-1;u(this.prevPregnancies,"Parity","value",s)}else u(this.prevPregnancies,"Parity","value",null)}},handleGravida(e){const t=oe(this.prevPregnancies,"Gravida","value"),a="First pregnancy, take note",s=this.prevPregnancies[0].alerts.findIndex(o=>o.value===a);t===null||t===""?(u(this.prevPregnancies,"Abortions/Miscarriages","value",""),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),u(this.prevPregnancies,"Stillbirths","value",""),u(this.prevPregnancies,"Stillbirths","disabled",!1),u(this.prevPregnancies,"LiveBirths","value",""),u(this.prevPregnancies,"LiveBirths","disabled",!1),u(this.prevPregnancies,"Parity","value",""),u(this.prevPregnancies,"Parity","disabled",!1),s!==-1&&this.prevPregnancies[0].alerts.splice(s,1)):t==1?(I(this.prevPregnancies,"Was last live birth preterm?","displayNone",!0),I(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!0),I(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!0),Le(this.prevPregnancies,"past pregnancies complications","displayNone",!0),u(this.prevPregnancies,"Abortions/Miscarriages","value",""),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!0),u(this.prevPregnancies,"Stillbirths","value",""),u(this.prevPregnancies,"Stillbirths","disabled",!0),u(this.prevPregnancies,"LiveBirths","value",""),u(this.prevPregnancies,"LiveBirths","disabled",!0),u(this.prevPregnancies,"Parity","value",""),u(this.prevPregnancies,"Parity","disabled",!0),s===-1&&this.prevPregnancies[0].alerts.push({backgroundColor:"#FFD700",status:"info",icon:"info-circle",textColor:"#000000",value:a,name:"LiveBirths"})):(I(this.prevPregnancies,"Was last live birth preterm?","displayNone",!1),I(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!1),I(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!1),Le(this.prevPregnancies,"past pregnancies complications","displayNone",!1),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),u(this.prevPregnancies,"Stillbirths","disabled",!1),u(this.prevPregnancies,"LiveBirths","disabled",!1),u(this.prevPregnancies,"Parity","disabled",!1),s!==-1&&this.prevPregnancies[0].alerts.splice(s,1))}}}),n_={class:"container"};function s_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",n_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.prevPregnancies,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),n(l,{contentData:e.modeOfDelivery,"onUpdate:inputValue":e.handleAlert},null,8,["contentData","onUpdate:inputValue"]),n(l,{contentData:e.preterm},null,8,["contentData"])]),_:1})]),_:1})])}const i_=O(a_,[["render",s_],["__scopeId","data-v-9840a2eb"]]),o_=B({name:"Ultrasound",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:Ue,IonToggle:me,IonSelectOption:ve,IonInput:ae,IonSelect:ge,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,labTestsInstance:{},currentSection:0}},mounted(){this.handleUltraDate(),this.handleReason(),this.handleUltraNotDone()},watch:{ultrasound:{handler(){this.handleUltraDate(),this.handleReason()},deep:!0},reason:{handler(){this.handleUltraNotDone()},deep:!0}},computed:{...w(ws,["reason"]),...w(ws,["ultrasound"])},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleUltraDate(){const e=N(this.ultrasound,"Ultrasound scan status")=="Scan required",t=N(this.ultrasound,"Ultrasound scan status")=="Scan ordered",a=N(this.ultrasound,"Ultrasound scan status")=="Scan conducted";e||t||a?(u(this.ultrasound,"Scan date","displayNone",!1),I(this.reason,"Amniotic fluid level","displayNone",!1),u(this.reason,"Amniotic fluid level result","displayNone",!1),I(this.reason,"Placenta location","displayNone",!1)):(u(this.ultrasound,"Scan date","displayNone",!0),I(this.reason,"Amniotic fluid level","displayNone",!0),I(this.reason,"Placenta location","displayNone",!0),u(this.reason,"Amniotic fluid level result","displayNone",!0))},handleReason(){N(this.ultrasound,"Ultrasound scan status")=="NOT done"?I(this.reason,"Reason not done","displayNone",!1):I(this.reason,"Reason not done","displayNone",!0)},handleUltraNotDone(){N(this.reason,"Reason not done")=="Other reason"?u(this.reason,"specify","displayNone",!1):u(this.reason,"specify","displayNone",!0)}}}),l_={class:"container"};function r_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",l_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ultrasound},null,8,["contentData"]),n(l,{contentData:e.reason},null,8,["contentData"])]),_:1})]),_:1})])}const d_=O(o_,[["render",r_],["__scopeId","data-v-cc319db3"]]),c_=B({name:"UrineTest",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonTitle:j,IonToolbar:W,IonRow:Re,IonMenu:Y,menuController:Ue,IonToggle:me,IonSelectOption:ve,IonInput:ae,IonSelect:ge,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,urineTestInstance:{},currentSection:0}},computed:{...w(da,["urineTest"]),...w(da,["protein"]),...w(da,["nitrites"]),...w(da,["culture"]),...w(da,["gram"]),...w(da,["leukocytes"]),...w(da,["glucose"])},mounted(){this.handleTestNotDone(),this.handleOtherNotDone(),this.handleTypeofTest(),this.handleFirstTest(),this.handleThirdTest()},watch:{urineTest:{handler(){this.handleTestNotDone(),this.handleOtherNotDone(),this.handleTypeofTest(),this.handleFirstTest(),this.handleThirdTest()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleTestNotDone(){N(this.urineTest,"Urine test status")=="Test not done"?Le(this.urineTest,"Reason not done","displayNone",!1):Le(this.urineTest,"Reason not done","displayNone",!0)},handleOtherNotDone(){var e;((e=ue(this.urineTest,"Other"))==null?void 0:e.value)=="Other"?u(this.urineTest,"Other (specify)","displayNone",!1):u(this.urineTest,"Other (specify)","displayNone",!0)},handleTypeofTest(){N(this.urineTest,"Urine test status")=="Test conducted"?I(this.urineTest,"Urine test","displayNone",!1):I(this.urineTest,"Urine test","displayNone",!0)},handleFirstTest(){N(this.urineTest,"Urine test")=="Midstream urine culture"?I(this.culture,"Midstream urine culture result","displayNone",!1):I(this.culture,"Midstream urine culture result","displayNone",!0)},handleSecondTest(){N(this.urineTest,"Urine test")=="Midstream urine gram-staining"?I(this.gram,"Midstream urine gram-staining result","displayNone",!1):I(this.gram,"Midstream urine gram-staining result","displayNone",!0)},handleThirdTest(){N(this.urineTest,"Urine test")=="Urine dipstick"?(I(this.nitrites,"Nitrites dipstick test result","displayNone",!1),I(this.protein,"Protein dipstick test result","displayNone",!1),I(this.leukocytes,"Leukocytes dipstick test result","displayNone",!1),I(this.glucose,"Glucose dipstick test result","displayNone",!1)):(I(this.nitrites,"Nitrites dipstick test result","displayNone",!0),I(this.protein,"Protein dipstick test result","displayNone",!0),I(this.leukocytes,"Leukocytes dipstick test result","displayNone",!0),I(this.glucose,"Glucose dipstick test result","displayNone",!0))}}}),u_={class:"container"};function h_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",u_,[e.currentSection===0?(p(),A(f,{key:0,class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.urineTest},null,8,["contentData"]),n(h,{contentData:e.culture},null,8,["contentData"]),n(h,{contentData:e.gram},null,8,["contentData"]),n(h,{contentData:e.nitrites},null,8,["contentData"]),n(h,{contentData:e.leukocytes},null,8,["contentData"]),n(h,{contentData:e.protein},null,8,["contentData"]),n(h,{contentData:e.glucose},null,8,["contentData"])]),_:1})]),_:1})):$("",!0)])}const p_=O(c_,[["render",h_],["__scopeId","data-v-97bdbffa"]]),m_=B({name:"TB screening",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:Ue,IonToggle:me,IonSelectOption:ve,IonInput:ae,IonSelect:ge,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,labTestsInstance:{},currentSection:0}},computed:{...w(Is,["reasons"]),...w(Is,["tbTest"])},mounted(){this.handleResults(),this.handleDate(),this.handleNotDone(),this.handleOther()},watch:{tbTest:{handler(){this.handleResults(),this.handleDate(),this.handleNotDone()},deep:!0},reasons:{handler(){this.handleOther()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{goToNextSection(){this.currentSection<1&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--},handleResults(){N(this.tbTest,"TB screening status")=="Screening conducted"?I(this.tbTest,"TB screening results","displayNone",!1):I(this.tbTest,"TB screening results","displayNone",!0)},handleDate(){N(this.tbTest,"TB screening status")=="Screening conducted"?u(this.tbTest,"Screening date","displayNone",!1):u(this.tbTest,"Screening date","displayNone",!0)},handleNotDone(){N(this.tbTest,"TB screening status")=="Screening not done"?Le(this.reasons,"Reason not done","displayNone",!1):Le(this.reasons,"Reason not done","displayNone",!0)},handleOther(){var e;((e=ue(this.reasons,"Other"))==null?void 0:e.value)=="Other"?u(this.reasons,"Other (specify)","displayNone",!1):u(this.reasons,"Other (specify)","displayNone",!0)}}}),f_={class:"container"};function __(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",f_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.tbTest},null,8,["contentData"]),n(h,{contentData:e.reasons},null,8,["contentData"])]),_:1})]),_:1})])}const v_=O(m_,[["render",__],["__scopeId","data-v-289c777f"]]),uo=qe("diagnosisStore",{state:()=>({diagnoses:[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Patient diagnosis",selectedValue:"",class:"bold",name:"Diagnosis"},data:[{name:"Hypertension",value:"Hypertension",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Pre-eclampsia",value:"Pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Diagnosis"},data:[{name:"HIV",value:"HIV",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Hepatitis B",value:"Hepatitis B",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Diagnosis"},data:[{name:"Hepatitis C",value:"Hepatitis C",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Syphilis",value:"Syphilis",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Diagnosis"},data:[{name:"Pre-eclampsia with Severe Features",value:"Pre-eclampsia with Severe Features",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}}]}),actions:{setDiagnoses(e){this.diagnoses=e}},persist:!0}),g_=B({name:"diagnosisTreatment",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:Ue,IonToggle:me,IonSelectOption:ve,IonInput:ae,IonSelect:ge,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(uo,["diagnoses"])},mounted(){this.handleNone()},watch:{diagnoses:{handler(){this.handleNone()},deep:!0},hypertensionReason:{handler(){},deep:!0}},methods:{goToNextSection(){this.currentSection<4&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--},handleNone(){var t;const e=["Hypertension","Pre-eclampsia","HIV","Hepatitis B","Hepatitis C","Syphilis","Pre-eclampsia with Severe Features"];(t=ue(this.diagnoses,"None"))!=null&&t.checked?e.forEach(a=>{L(this.diagnoses,a,"checked",!1),L(this.diagnoses,a,"disabled",!0)}):e.forEach(a=>{L(this.diagnoses,a,"disabled",!1)})}}}),y_={class:"container"};function b_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",y_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.diagnoses},null,8,["contentData"])]),_:1})]),_:1})])}const D_=O(g_,[["render",b_],["__scopeId","data-v-205b8a5f"]]);function ni(e,t,a){var r,l,c,h;const s={"iron Amount":()=>si(t,a),"Amount of Folic acid":()=>si(t,a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),L(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),L(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function si(e,t){if(e==="iron Amount"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,1,1e3);if(o!==null)return o}else if(e==="Amount of Folic acid"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,1,1e3);if(o!==null)return o}else return null;return null}const S_=B({name:"medicationDispensed",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:Ue,IonToggle:me,IonSelectOption:ve,IonInput:ae,IonSelect:ge,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(Rn,["iron"]),...w(Rn,["folicAcid"]),...w(Rn,["vitaminA"]),"iron Amount"(){return oe(this.iron,"iron Amount","value")},"Amount of Folic acid"(){return oe(this.folicAcid,"Amount of Folic acid","value")}},mounted(){this.handleTypeIron(),this.handleAcid(),this.handleFolicIron(),this.handleVitaminA(),this.handleVitaminNo(),this.handleVitaminOther(),this.handleNoFolic(),this.handleNoIron(),this.handleNoIronOther(),this.handleIronDailyWeekly(),this.handleVitaminDailyWeekly(),this.validaterowData({})},watch:{iron:{handler(){this.handleTypeIron(),this.handleNoIron(),this.handleNoIronOther(),this.handleIronDailyWeekly()},deep:!0},folicAcid:{handler(){this.handleAcid(),this.handleNoFolic(),this.handleFolicIron()},deep:!0},folicAcidReason:{handler(){this.handleFolicIron()},deep:!0},vitaminA:{handler(){this.handleVitaminA(),this.handleVitaminNo(),this.handleVitaminOther(),this.handleVitaminDailyWeekly()},deep:!0}},methods:{handleVitamin(e){Ke(this.vitaminA,rl,e.name,e.value)},handleInputData(e){this.validationRules(e)},validaterowData(e){this.validationRules(e)},validationRules(e){return ni(this.folicAcid,e.name,this[e.name])||ni(this.iron,e.name,this[e.name])},handleTypeIron(){N(this.iron,"Iron prescription")=="yes"?I(this.iron,"Type of Iron supplement dosage","displayNone",!1):I(this.iron,"Type of Iron supplement dosage","displayNone",!0)},handleIronDailyWeekly(){const e=N(this.iron,"Type of Iron supplement dosage");e==="daily"&&N(this.iron,"Iron prescription")=="yes"||e==="weekly"&&N(this.iron,"Iron prescription")=="yes"?u(this.iron,"iron Amount","displayNone",!1):u(this.iron,"iron Amount","displayNone",!0)},handleVitaminDailyWeekly(){const e=N(this.vitaminA,"Type of Vitamin A dosage");e==="daily"||e==="weekly"?u(this.vitaminA,"Vitamin Amount","displayNone",!1):u(this.vitaminA,"Vitamin Amount","displayNone",!0)},handleNoIron(){N(this.iron,"Iron prescription")=="no"?I(this.iron,"Iron and folic acid not prescribed","displayNone",!1):I(this.iron,"Iron and folic acid not prescribed","displayNone",!0)},handleNoIronOther(){N(this.iron,"Iron and folic acid not prescribed")=="other"&&N(this.iron,"Iron prescription")=="no"?u(this.iron,"Other","displayNone",!1):u(this.iron,"Other","displayNone",!0)},handleAcid(){N(this.folicAcid,"Folic acid")=="yes"?u(this.folicAcid,"Amount of Folic acid","displayNone",!1):u(this.folicAcid,"Amount of Folic acid","displayNone",!0)},handleNoFolic(){N(this.folicAcid,"Folic acid")=="no"?I(this.folicAcid,"Iron and folic acid not prescribed","displayNone",!1):u(this.folicAcid,"Iron and folic acid not prescribed","displayNone",!0)},handleFolicIron(){N(this.folicAcid,"Iron and folic acid not prescribed")=="other"?u(this.folicAcid,"Other","displayNone",!1):u(this.folicAcid,"Other","displayNone",!0)},handleVitaminA(){N(this.vitaminA,"Vitamin A prescription")=="yes"?I(this.vitaminA,"Type of Vitamin A dosage","displayNone",!1):I(this.vitaminA,"Type of Vitamin A dosage","displayNone",!0)},handleVitaminNo(){N(this.vitaminA,"Vitamin A prescription")=="no"?I(this.vitaminA,"vitamin A not prescribed","displayNone",!1):I(this.vitaminA,"vitamin A not prescribed","displayNone",!0)},handleVitaminOther(){N(this.vitaminA,"vitamin A not prescribed")=="other"?u(this.vitaminA,"Other","displayNone",!1):u(this.vitaminA,"Other","displayNone",!0)}}}),C_={class:"container"};function w_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",C_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.iron,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),n(h,{contentData:e.folicAcid,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),n(h,{contentData:e.vitaminA,"onUpdate:selected":e.handleVitamin,"onUpdate:inputValue":e.handleVitamin},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const I_=O(S_,[["render",w_],["__scopeId","data-v-30186bb7"]]),P_=B({name:"Counselling",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,initialData:[]}},computed:{...w(Zn,["preventativeCounselling"])},mounted(){const e=Zn();this.initialData=e.getInitial()},watch:{},setup(){return{checkmark:ie,pulseOutline:le}},methods:{}}),N_={class:"container"};function k_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",N_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.preventativeCounselling,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const B_=O(P_,[["render",k_],["__scopeId","data-v-1716e79a"]]),$_=qe("demographicStore",{state:()=>({demographics:{},patient:{}}),actions:{setDemographics(e){this.demographics=e},setPatient(e){this.patient=e},getPatient(){return this.patient}},persist:!0}),M_=B({name:"Immunization",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:Ue,IonToggle:me,IonSelectOption:ve,IonInput:ae,IonSelect:ge,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(Ut,["ttDoses"]),...w(Ut,["HepB1"]),...w(Ut,["HepB2"]),...w(Ut,["HepB3"]),...w(Ut,["hepBReason"]),...w($_,["patient"])},mounted(){this.handleB1(),this.handleB2(),this.handleB3(),this.handelHepreason(),this.handleTTinfo()},watch:{HepB1:{handler(){this.handleB1()},deep:!0},HepB2:{handler(){this.handleB2()},deep:!0},HepB3:{handler(){this.handleB3()},deep:!0},hepBReason:{handler(){this.handelHepreason()},deep:!0}},methods:{handleB1(){N(this.HepB1,"Hepatitis B-1")=="Yes"?u(this.HepB1,"hepb1 Date","displayNone",!1):u(this.HepB1,"hepb1 Date","displayNone",!0)},handleB2(){N(this.HepB2,"Hepatitis B-2")=="yes"?u(this.HepB2,"Hep B-2 Date","displayNone",!1):u(this.HepB2,"Hep B-2 Date","displayNone",!0)},handleB3(){N(this.HepB3,"Hepatitis B-3")=="yes"?u(this.HepB3,"hep3Date","displayNone",!1):u(this.HepB3,"hep3Date","displayNone",!0)},handelHepreason(){N(this.hepBReason,"Hepatitis B")=="other"?u(this.hepBReason,"Specify","displayNone",!1):u(this.hepBReason,"Specify","displayNone",!0)},handleTTinfo(){this.setValues()},async setValues(){const e=await Ae.getFirstObsValue(this.patient.patientID,"Number of tetanus doses","value_coded");await Ae.getFirstObsValue(this.patient.patientID,"Systolic","value_text"),console.log(e),e=="Two doses"?u(this.ttDoses,"hepb1 Date","displayNone",!1):u(this.ttDoses,"hepb1 Date","displayNone",!0)}}}),A_={class:"container"};function E_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",A_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.ttDoses},null,8,["contentData"]),n(h,{contentData:e.HepB1},null,8,["contentData"]),n(h,{contentData:e.HepB2},null,8,["contentData"]),n(h,{contentData:e.HepB3},null,8,["contentData"]),n(h,{contentData:e.hepBReason},null,8,["contentData"])]),_:1})]),_:1})])}const V_=O(M_,[["render",E_],["__scopeId","data-v-0828c551"]]),O_=B({name:"Counselling",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,currentSection:0}},computed:{...w(fn,["treatment"]),...w(fn,["malaria"])},mounted(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther(),this.handleMalria(),this.handleOtherMalaria()},setup(){return{checkmark:ie,pulseOutline:le}},watch:{treatment:{handler(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther()},deep:!0},malaria:{handler(){this.handleMalria(),this.handleOtherMalaria()},deep:!0}},methods:{handlepreventive(){N(this.treatment,"antihelminthic treatment")=="yes"?I(this.treatment,"antihelminthic treatment provided","displayNone",!1):I(this.treatment,"antihelminthic treatment provided","displayNone",!0),console.log(N(this.treatment,"preventive"))},handleNoPreventative(){N(this.treatment,"antihelminthic treatment")=="no"?I(this.treatment,"no preventative treatment provided","displayNone",!1):I(this.treatment,"no preventative treatment provided","displayNone",!0)},handleOther(){N(this.treatment,"no preventative treatment provided")=="other"?u(this.treatment,"Specify","displayNone",!1):u(this.treatment,"Specify","displayNone",!0)},handleMalria(){N(this.malaria,"counselling on malaria prevention")=="no"?I(this.treatment,"counselling on malaria prevention","displayNone",!1):I(this.treatment,"counselling on malaria prevention","displayNone",!0)},handleOtherMalaria(){N(this.malaria,"counselling on malaria prevention")=="other"?u(this.treatment,"other","displayNone",!1):u(this.treatment,"other","displayNone",!0)}}}),T_={class:"container"};function F_(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",T_,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.treatment},null,8,["contentData"])]),_:1})]),_:1}),n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.malaria},null,8,["contentData"])]),_:1})]),_:1})])}const H_=O(O_,[["render",F_],["__scopeId","data-v-1edadf70"]]),R_=B({name:"Past Surguries",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=we(),t=we(),a=we();we(),we(),we(),we(),we(),we(),we(),we(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleHivResults(),this.handleSyphilis(),this.handleSurgries(),this.handleAllergies(),this.handleChronicCondition(),this.handleHivConducted(),this.handleHivConductedOptin(),this.handleOtherHiv(),this.handleSyphlisdate(),this.handleDisable(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis(),this.handleTestNotDone(),this.handleHIVPositive()},watch:{hivTest:{handler(){this.handleHivResults(),this.handleOtherHiv(),this.handleHivConducted(),this.handleTestNotDone(),this.handleHivConductedOptin()},deep:!0},syphilisTest:{handler(){this.handleSyphilis(),this.handleSyphlisdate(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis()},deep:!0},medicalHistory:{handler(){this.handleSurgries(),this.handleDisable()},deep:!0},allegy:{handler(){this.handleAllergies()},deep:!0},exisitingChronicHealthConditions:{handler(e){this.handleChronicCondition(),this.handleHIVPositive(),this.handleInputData(e)},deep:!0}},computed:{...w(we,["medicalHistory"]),...w(we,["allegy"]),...w(we,["exisitingChronicHealthConditions"]),...w(we,["hivTest"]),...w(we,["syphilisTest"]),ExistingChronicConditions(){return ue(this.exisitingChronicHealthConditions,"chronic conditions")}},methods:{validationRules(e){return Pt(this.exisitingChronicHealthConditions,e.name,this[e.name])},async handleInputData(e){this.validationRules(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),u(this.exisitingChronicHealthConditions,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Jt.getFacilities({name:e})},handleHIVPositive(){var e;((e=ue(this.exisitingChronicHealthConditions,"HIV positive"))==null?void 0:e.value)=="hiv positive"?(u(this.exisitingChronicHealthConditions,"HIV test date","displayNone",!1),I(this.exisitingChronicHealthConditions,"Is client on ART","displayNone",!1)):(u(this.exisitingChronicHealthConditions,"HIV test date","displayNone",!0),I(this.exisitingChronicHealthConditions,"Is client on ART","displayNone",!0))},handleHivResults(){N(this.hivTest,"test2")=="hivPositive"?I(this.hivTest,"test1","displayNone",!1):I(this.hivTest,"test1","displayNone",!0)},handleHivConductedOptin(){N(this.hivTest,"hivOption")=="hivTestConducted"?I(this.hivTest,"test2","displayNone",!1):I(this.hivTest,"test2","displayNone",!0)},handleOtherHiv(){var e;((e=ue(this.hivTest,"Other"))==null?void 0:e.value)=="other"?u(this.hivTest,"reasonsTestNotDone","displayNone",!1):u(this.hivTest,"reasonsTestNotDone","displayNone",!0)},handleSyphilis(){N(this.syphilisTest,"syphilisOption")=="syphilisTestConducted"?I(this.syphilisTest,"syphilisDetails","displayNone",!1):I(this.syphilisTest,"syphilisDetails","displayNone",!0)},handleSurgries(){var t;const e=["Dilation and currettage","Myomectomy","Removal of ovarian cystst","Oophorectomy","Removal of ovarian cyst","Salpingectomy","Cervical cone","Other"];(t=ue(this.medicalHistory,"None"))!=null&&t.checked?e.forEach(a=>{L(this.medicalHistory,a,"checked",!1),L(this.medicalHistory,a,"disabled",!0)}):e.forEach(a=>{L(this.medicalHistory,a,"disabled",!1)})},handleAllergies(){var t;const e=["Other","PrEP(TDF)","Albendazole","Aluminium-hydroxide","Calcium","Sulfadoxine-Pyrimethamine","Chamomile","Folic-acid","Ginger","Fish","Iron","Mebendazole","Penicillin"];(t=ue(this.allegy,"None"))!=null&&t.checked?e.forEach(a=>{L(this.allegy,a,"checked",!1),L(this.allegy,a,"disabled",!0)}):e.forEach(a=>{L(this.allegy,a,"disabled",!1)})},handleChronicCondition(){var t;const e=["Auto-immune desease","Asthma","Sickle cell","Anemia","HIV positive","Thalassemia","Gynaecological","CCF","RHD","Gynae Cancer","Diabetes Type 1","Diabetes Type 2","Gestational diabetes","pre-existing type 1","pre-existing type 2","Epilepsy","Hypertension","Kidney Disease","TB","Mental illness","Other"];(t=ue(this.exisitingChronicHealthConditions,"None"))!=null&&t.checked?e.forEach(a=>{L(this.exisitingChronicHealthConditions,a,"checked",!1),L(this.exisitingChronicHealthConditions,a,"disabled",!0)}):e.forEach(a=>{L(this.exisitingChronicHealthConditions,a,"disabled",!1)})},handleHivConducted(){N(this.hivTest,"hivOption")=="hivTestConducted"?u(this.hivTest,"testDate","displayNone",!1):u(this.hivTest,"testDate","displayNone",!0)},handleTestNotDone(){N(this.hivTest,"hivOption")=="hivTestNotDone"?Le(this.hivTest,"hivOutcome","displayNone",!1):Le(this.hivTest,"hivOutcome","displayNone",!0)},handleSyphlisdate(){N(this.syphilisTest,"syphilisOption")=="syphilisTestConducted"?u(this.syphilisTest,"syphilisDate","displayNone",!1):u(this.syphilisTest,"syphilisDate","displayNone",!0)},handleDisable(){ue(this.medicalHistory,"NoSurgery")=="otherSurguries"?Le(this.medicalHistory,"Other","disabled",!0):Le(this.medicalHistory,"Other","disabled",!1)},handleSyphilisNotDone(){var e;((e=N(this.syphilisTest,"syphilisOption"))==null?void 0:e.value)=="syphilisTestNotDone"?Le(this.syphilisTest,"notDone","displayNone",!1):Le(this.syphilisTest,"notDone","displayNone",!0)},handleSpecifySyphilis(){ue(this.syphilisTest,"Other")=="other"?u(this.syphilisTest,"Reason","displayNone",!1):u(this.syphilisTest,"Reason","displayNone",!0)}}}),L_={class:"container"};function x_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",L_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.exisitingChronicHealthConditions,initialData:e.initialData2,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.medicalHistory,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.allegy,initialData:e.initialData1},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const U_=O(R_,[["render",x_],["__scopeId","data-v-af1b04de"]]),z_=B({name:"Medical FollowUp",components:{IonItem:V,IonList:x,BasicInputField:ee,BasicForm:G},data(){return{initialData:[]}},setup(){return{checkmark:ie,pulseOutline:le}},mounted(){this.handleMedicalFollowup(),this.handleSideEffects();const e=Ps();this.initialData=e.getInitial()},computed:{...w(Ps,["medicalFollowUp"])},watch:{medicalFollowUp:{handler(){this.handleMedicalFollowup(),this.handleSideEffects()},deep:!0}},methods:{handleMedicalFollowup(){var t;const e=["Taking Calcium Supplements","Taking iron and folic acid (IFA) tablets","Taking aspirin tablets","Taking penicillin treatment for syphilis","Taking vitamin A supplements","Taking Albendazole for deworming","Other medication"];(t=ue(this.medicalFollowUp,"None"))!=null&&t.checked?e.forEach(a=>{L(this.medicalFollowUp,a,"checked",!1),L(this.medicalFollowUp,a,"disabled",!0)}):e.forEach(a=>{L(this.medicalFollowUp,a,"disabled",!1)})},handleSideEffects(){var t;const e=["Side-effects from calcium supplements","Side-effects from iron and folic acid supplements","Side-effects from Aspirin supplements","Side-effects from Vitamin A supplements","Side-effects from Penicillin","Side-effects from Albendazole","Other"];(t=ue(this.medicalFollowUp,"No side effects"))!=null&&t.checked?e.forEach(a=>{L(this.medicalFollowUp,a,"checked",!1),L(this.medicalFollowUp,a,"disabled",!0)}):e.forEach(a=>{L(this.medicalFollowUp,a,"disabled",!1)})}}}),q_={class:"container"};function W_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",q_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.medicalFollowUp,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const G_=O(z_,[["render",W_],["__scopeId","data-v-f9280c8a"]]);function fs(e,t,a){var r,l,c;const s={"High caffeine intake":()=>F.required(a),"Tobacco use":()=>F.required(a),"Recently quit tobacco products":()=>F.required(a),"Exposure to second-hand smoke":()=>F.required(a),"Persistent Symptom":()=>F.required(a),"Physiological symptom":()=>F.required(a),"Fetal movement":()=>F.required(a)},o=((r=s[t])==null?void 0:r.call(s))==null;return I(e,t,"alertsErrorMassage",!o),L(e,t,"alertsErrorMassage",!o),o||(I(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),L(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s))),o}const j_=B({name:"Persistent Behaviour",components:{IonItem:V,IonList:x,BasicInputField:ee,BasicForm:G},data(){return{initialData:[],initialData1:[]}},mounted(){const e=Ln(),t=Ln();this.initialData=e.getInitial(),this.initialData1=t.getInitialPersistentSymptoms(),this.handlePersistentBehaviour(),this.handlePersistentSymptoms()},computed:{...w(Ln,["persistentBehaviour","persistentSymptoms"])},watch:{persistentBehaviour:{handler(){this.handlePersistentBehaviour()},deep:!0},persistentSymptoms:{handler(){this.handlePersistentSymptoms()},deep:!0}},methods:{validationRules(e){return fs(this.persistentBehaviour,e.name,this[e.name])},handlePersistentSymptoms(){var t;const e=["Leg cramps","Visual disturbance","Constipation","Headache","Heartburn","Pain-Leg","Breathing difficulty","Cough lasting more than 3 weeks","Other symptoms","Pelvic pain","Pain - Low back","Abnormal pulse rate"];(t=ue(this.persistentSymptoms,"None"))!=null&&t.checked?e.forEach(a=>{L(this.persistentSymptoms,a,"checked",!1),L(this.persistentSymptoms,a,"disabled",!0)}):e.forEach(a=>{L(this.persistentSymptoms,a,"disabled",!1)})},handlePersistentBehaviour(){var a;const e=["Tobacco use","Recently quit tobacco products","Exposure to second-hand smoke","Condom use","Alcohol use","Substance use","High caffeine intake","Other"],t=(a=ue(this.persistentBehaviour,"No persistent behaviours"))==null?void 0:a.checked;e.forEach(s=>{t?(L(this.persistentBehaviour,s,"checked",!1),L(this.persistentBehaviour,s,"disabled",!0)):L(this.persistentBehaviour,s,"disabled",!1)})},async handleInputData(e){this.validationRules(e)}}}),Y_={class:"container"};function J_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Y_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.persistentBehaviour,"onUpdate:selected":e.handleInputData,initialData:e.initialData},null,8,["contentData","onUpdate:selected","initialData"]),n(l,{contentData:e.persistentSymptoms,"onUpdate:selected":e.handleInputData,initialData:e.initialData1},null,8,["contentData","onUpdate:selected","initialData"])]),_:1})]),_:1})])}const K_=O(j_,[["render",J_],["__scopeId","data-v-136e4faf"]]),Q_=B({name:"Persistent Behaviour",components:{IonItem:V,IonList:x,BasicInputField:ee,BasicForm:G},mounted(){Ns(),this.handleNone()},watch:{physiologicalSymptoms:{handler(){this.handleNone()},deep:!0}},computed:{...w(Ns,["physiologicalSymptoms"])},methods:{handleNone(){var t;const e=["Abnormal pulse rate","Cough lasting more than 3 weeks","Pain â€“ Low back","Constipation","Headache","Heartburn","Pain-Leg","Pain-pelvic"];(t=ue(this.physiologicalSymptoms,"None"))!=null&&t.checked?e.forEach(a=>{L(this.physiologicalSymptoms,a,"checked",!1),L(this.physiologicalSymptoms,a,"disabled",!0)}):e.forEach(a=>{L(this.physiologicalSymptoms,a,"disabled",!1)})},validationRules(e){return fs(this.physiologicalSymptoms,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)}}}),X_={class:"container"};function Z_(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",X_,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.physiologicalSymptoms,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])]),_:1})]),_:1})])}const ev=O(Q_,[["render",Z_],["__scopeId","data-v-8d0214c3"]]),tv=B({name:"Persistent Behaviour",components:{IonItem:V,IonList:x,BasicInputField:ee,BasicForm:G},mounted(){ks(),this.handleNone(),this.handleReferal(),this.handleOtherFirstline()},watch:{ipv:{handler(){this.handleNone()},deep:!0},referrals:{handler(){this.handleReferal(),this.handleOtherFirstline()},deep:!0}},computed:{...w(ks,["ipv","ipv1","additionalCare","safety_assessment","physical_violence","beaten_pregnant","strangling","murder_threat","referrals","constant_jealous","woman_threatened"])},methods:{handleNone(){var t;const e=["Ongoing stress","Unspecified Harmful Behaviours","Unwanted pregnancies","Injury to abdomen","Partner's intrusive during consultations","Misuse of alcohol","Unspecified harmful behaviours","Thoughts of self-harm","Unwanted Pregnancies","Misuse of drugs"];(t=ue(this.ipv,"None"))!=null&&t.checked?e.forEach(a=>{L(this.ipv,a,"checked",!1),L(this.ipv,a,"disabled",!0)}):e.forEach(a=>{L(this.ipv,a,"disabled",!1)})},handleIntimate(){N(this.ipv,"intimateInfo")=="no"?I(this.ipv,"IPV firstline support","displayNone",!1):I(this.ipv,"IPV firstline support","displayNone",!0)},handleOtherIpv(){N(this.ipv,"IPV firstline support")=="other"?u(this.ipv,"other","displayNone",!1):u(this.ipv,"other","displayNone",!0)},handleReferal(){var t;const e=["Care at another facility","Care at another facility","Crisis intervention or counselling","Police","Shelter or housing","Shelter or housing","Child protection","Livelihood support","Other"];(t=ue(this.referrals,"None"))!=null&&t.checked?e.forEach(a=>{L(this.referrals,a,"checked",!1),L(this.referrals,a,"disabled",!0)}):e.forEach(a=>{L(this.referrals,a,"disabled",!1)})},handleOtherFirstline(){var e,t;((e=ue(this.referrals,"first-line support"))==null?void 0:e.value)=="other"?u(this.referrals,"specifics","displayNone",!1):u(this.referrals,"specifics","displayNone",!0),console.log("+++++++++",((t=ue(this.referrals,"first-line support"))==null?void 0:t.value)=="specifics")}}}),av={class:"container"};function nv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card"),m=d("ion-card-title"),f=d("ion-card-header");return p(),v("div",av,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ipv},null,8,["contentData"]),t[0]||(t[0]=_("br",null,null,-1)),n(l,{contentData:e.ipv1},null,8,["contentData"])]),_:1,__:[0]})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(f,null,{default:i(()=>[n(m,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(c,null,{default:i(()=>[n(l,{contentData:e.additionalCare},null,8,["contentData"]),n(l,{contentData:e.safety_assessment},null,8,["contentData"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(f,null,{default:i(()=>[n(m,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(c,null,{default:i(()=>[n(l,{contentData:e.physical_violence},null,8,["contentData"]),n(l,{contentData:e.beaten_pregnant},null,8,["contentData"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(f,null,{default:i(()=>[n(m,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(c,null,{default:i(()=>[n(l,{contentData:e.woman_threatened},null,8,["contentData"]),n(l,{contentData:e.constant_jealous},null,8,["contentData"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(f,null,{default:i(()=>[n(m,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(c,null,{default:i(()=>[n(l,{contentData:e.strangling},null,8,["contentData"]),n(l,{contentData:e.murder_threat},null,8,["contentData"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(f,null,{default:i(()=>[n(m,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(c,null,{default:i(()=>[n(l,{contentData:e.referrals},null,8,["contentData"])]),_:1})]),_:1})])}const sv=O(tv,[["render",nv],["__scopeId","data-v-42770e04"]]),iv=B({name:"Fatal Movement",components:{IonItem:V,IonList:x,BasicInputField:ee,BasicForm:G},mounted(){Bs()},computed:{...w(Bs,["fatalMovement"])},methods:{validationRules(e){return fs(this.fatalMovement,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)}}}),ov={class:"container"};function lv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",ov,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.fatalMovement,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])]),_:1})]),_:1})])}const rv=O(iv,[["render",lv],["__scopeId","data-v-586b9fb7"]]),dv=B({name:"Persistent Behaviour",components:{IonItem:V,IonList:x,BasicInputField:ee,BasicForm:G},data(e){return{initialData:[]}},mounted(){const e=$s();this.initialData=e.getInitial()},watch:{behaviourInfo:{handler(){},deep:!0}},computed:{...w($s,["behaviourInfo"])},methods:{}}),cv={class:"container"};function uv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",cv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.behaviourInfo,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const hv=O(dv,[["render",uv],["__scopeId","data-v-d2e3a48e"]]),pv=B({name:"Persistent Behaviour",components:{IonItem:V,IonList:x,BasicInputField:ee,BasicForm:G},data(e){return{initialData:[]}},mounted(){const e=Ms();this.initialData=e.getInitial()},watch:{physiologicalCounselingInfo:{handler(){},deep:!0}},computed:{...w(Ms,["physiologicalCounselingInfo"])},methods:{}}),mv={class:"container"};function fv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",mv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.physiologicalCounselingInfo,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const _v=O(pv,[["render",fv],["__scopeId","data-v-79c39804"]]),vv=B({name:"Diet Counselling",components:{IonItem:V,IonList:x,BasicInputField:ee,BasicForm:G},data(e){return{initialData:[]}},methods:{},mounted(){const e=As();this.initialData=e.getInitial()},computed:{...w(As,["dietCounsellingInfo"])}}),gv={class:"container"};function yv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",gv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.dietCounsellingInfo,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const bv=O(vv,[["render",yv],["__scopeId","data-v-d2c02036"]]);function Dv(e,t,a){var r,l,c,h;const s={"Providerâ€™s phone number":()=>Sv(t,a),tt1Date:()=>F.required(a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsError",!o),I(e,t,"alertsError",!o),L(e,t,"alertsError",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),L(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function Sv(e,t){if(e==="Providerâ€™s phone number"){const a=F.required(t);if(a!==null)return a;const s=F.isMWPhoneNumber(t);if(s!==null)return s}else if(e==="Abortions"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="Stillbirths"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="lmnpDate"){const a=F.required(t);if(a!==null)return a;const s=F.isDate(t);if(s!==null)return s}else if(e==="UltrasoundDate"){const a=F.required(t);if(a!==null)return a;const s=F.isDate(t);if(s!==null)return s}else if(e==="specify"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,42);if(o!==null)return o}else if(e==="Gestation age by palpation"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,4,36);if(o!==null)return o}else return null;return null}const Cv=B({name:"Referral",components:{IonItem:V,IonList:x,BasicInputField:ee,BasicForm:G},data(){return{no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",initialData:[],selectedCondition:""}},mounted(){const e=Es();this.initialData=e.getInitialReferral(),this.handleReferral(),this.handletreatment()},watch:{referralInfo:{handler(){this.handleReferral(),this.handletreatment()},deep:!0}},computed:{...w(Es,["referralInfo"]),"Providerâ€™s phone number"(){return oe(this.referralInfo,"Providerâ€™s phone number","value")}},methods:{navigationMenu(e){this.$router.push(e)},handleReferral(){N(this.referralInfo,"referalOption")=="yes"?I(this.referralInfo,"referralOutcome","displayNone",!1):I(this.referralInfo,"referralOutcome","displayNone",!0)},handletreatment(){N(this.referralInfo,"Any treatment given before referral")=="yes"?I(this.referralInfo,"treatment","displayNone",!1):I(this.referralInfo,"treatment","displayNone",!0)},async handleInputData(e){Ke(this.referralInfo,dl,e.name,e.value),this.handleReferralDateRange(e),this.handleDateOfScheduledReferralRange(e),e.inputHeader=="Where is the client being referred to? *"&&(this.facilityData=await this.getFacility(e.value),u(this.referralInfo,"Location of referral","popOverData",{filterData:!1,data:this.facilityData})),e.inputHeader=="Providerâ€™s facility *"&&(this.facilityData=await this.getFacility(e.value),u(this.referralInfo,"Providerâ€™s facility","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Jt.getFacilities({name:e})},validationRules(e){return Dv(this.referralInfo,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},handleReferralDateRange(e){const t=new Date,a=new Date(t),s=new Date(t);a.setDate(a.getDate()-1),s.setMonth(s.getMonth()+6);const o=a.toISOString().split("T")[0],r=s.toISOString().split("T")[0];u(this.referralInfo,"Date scheduled referral","minDate",o),u(this.referralInfo,"Date scheduled referral","maxDate",r)},handleDateOfScheduledReferralRange(e){const t=new Date,a=new Date(t);a.setDate(a.getDate()-1);const s=a.toISOString().split("T")[0],o=t.toISOString().split("T")[0];u(this.referralInfo,"Date referral was made","minDate",s),u(this.referralInfo,"Date referral was made","maxDate",o)}}}),wv={class:"container"};function Iv(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",wv,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.referralInfo,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Pv=O(Cv,[["render",Iv],["__scopeId","data-v-e4a6aefe"]]);class Nv extends It{constructor(a,s){super(a,6,s);ut(this,"appEncounterServiceInstance");this.appEncounterServiceInstance=this}async mapObs(a){const s=[];await Promise.all(a.flatMap(r=>r.data.rowData.flat().map(async l=>{l.colData.flat().map(async c=>{if(c.value){const h=await this.appEncounterServiceInstance.buildValueNumber(c.name,c.value);s.push(h)}})})));const o=String(a[0].alerts[0].index);if(o){const r=await this.appEncounterServiceInstance.buildValueNumber("BMI",o);s.push(r)}return s}async onFinish(a){if(!await this.appEncounterServiceInstance.createEncounter())return Xe("Unable to create encounter");const o=await this.mapObs(a);if(!await this.appEncounterServiceInstance.saveObservationList(o))return Xe("Unable to save patient observations");St("Observations and encounter created!")}isNotEmptyandNumber(a){return"".concat(a.value).match(/^-?\d+\.?\d*$/)?null:["".concat(a.inputHeader," entered is not valid")]}isNotEmptyandFloat(a){return"".concat(a.value).match(/^\d{1,3}\.\d{1,5}$/)?null:["".concat(a.inputHeader," is an invalid entry. ").concat(a.inputHeader," should have a decimal e.g 61.3 ").concat(a.unit)]}checkMinMax(a,s,o){const r=[];return parseFloat("".concat(a.value))<s&&r.push(["".concat(a.inputHeader," captured is less than the required minimum ").concat(s," ").concat((a==null?void 0:a.unit)||"")]),parseFloat("".concat(a.value))>o&&r.push(["".concat(a.inputHeader," captured is greater than the required maximum ").concat(o," ").concat((a==null?void 0:a.unit)||"")]),r.length>0?r:null}validateAll(a){const s=[];return a.map(o=>{const r=this.validator(o);return $e.isArray(r)?s.push(r):null}),s.length>0?s:null}mergeErrors(a){const s=[];return a.forEach(o=>{$e.isArray(o)&&s.push(o)}),s.length>0?s:null}isValidBPReading(a){const s=[],o="".concat(a.value).match(/^\d{1,3}\/\d{1,3}$/g)?null:["Invalid BP reading"];if(s.push(o),o==null){const r="".concat(a.value).split("/"),l={name:"Systolic",value:r[0]},c={name:"Diastolic",value:r[1]};s.push(this.checkMinMax(c,30,200)),s.push(this.checkMinMax(l,40,250))}return this.mergeErrors(s)}validator(a){const o=[{name:"Weight*",validator:r=>{const l=this.isNotEmptyandNumber(r),c=this.checkMinMax(r,40,250);return this.mergeErrors([l,c])}},{name:"Pre-gestation weight",validator:r=>{console.log(r);const l=this.isNotEmptyandNumber(r),c=this.checkMinMax(r,40,250);return this.mergeErrors([l,c])}},{name:"Height*",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,100,200)),this.mergeErrors(l)}},{name:"BP",validator:r=>this.isValidBPReading(r)},{name:"Temperature",validator:r=>{const l=this.checkMinMax(r,30,42);return this.mergeErrors([l])}},{name:"Systolic Pressure*",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Repeated systolic pressure",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Diastolic pressure*",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Repeated diastolic pressure",validator:r=>{const l=[];return l.push(this.isNotEmptyandNumber(r)),l.push(this.checkMinMax(r,60,140)),this.mergeErrors(l)}},{name:"Pulse rate*",validator:r=>{const l=this.checkMinMax(r,60,120);return this.mergeErrors([l])}},{name:"Oxygen saturation",validator:r=>{const l=this.checkMinMax(r,0,100);return this.mergeErrors([l])}},{name:"Respiratory rate",validator:r=>{const l=this.checkMinMax(r,60,120);return this.mergeErrors([l])}}].filter(r=>r.name===a.inputHeader);return o.length>0?o[0].validator(a):null}}const ii=[{isFinishBtn:!1,validationStatus:"",sectionHeader:"Height and weight",actionBtn:"Finish and Save",data:{rowData:[{colData:[{inputHeader:"Height*",unit:"cm",icon:P.height,value:"",name:"Height (cm)",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1},{inputHeader:"Weight*",unit:"kg",icon:P.weight,value:"",name:"Weight",required:!0,eventType:"input",alertsErrorMassage:"",disabled:!1},{inputHeader:"Pre-gestation weight",unit:"kg",icon:P.weight,value:"",name:"Pre-gestation weight",valueType:"number",required:!0,eventType:"input",alertsErrorMassage:""}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}],previousView:{name:"vitals"}},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" "},data:[{colSize:"5.8",name:"Height And Weight Not Done",value:"Height And Weight Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:P.search,isMultiSelect:!0,popOver:!0,value:"",name:"Height Weight Reason",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"Blood pressure",data:{rowData:[{colData:[{inputHeader:"Systolic Pressure*",unit:"mmHg",icon:P.systolicPressure,value:"",name:"Systolic",required:!0,eventType:"input",disabled:!1},{inputHeader:"Diastolic pressure*",unit:"mmHg",icon:P.diastolicPressure,value:"",name:"Diastolic",required:!0,eventType:"input",disabled:!1}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}],previousView:{name:"vitals"}},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",name:"Primary diagnosis"},data:[{colSize:"5.8",name:"Blood Pressure Not Done",value:"Blood Pressure Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:P.search,isMultiSelect:!0,popOver:!0,value:"",name:"Blood Pressure Reason",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"Temperature and rates",data:{rowData:[{colData:[{inputHeader:"Temperature",unit:"C",icon:P.temprature,value:"",name:"Temperature",eventType:"input"},{inputHeader:"Pulse rate*",unit:"BMP",icon:P.pulse,value:"",name:"Pulse",eventType:"input"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]},{classDash:"dashed_bottom_border",selectedData:[],sideColSize:3.8,checkboxBtnContent:{header:{title:"",selectedValue:" ",name:"Primary diagnosis"},data:[{colSize:"5.8",name:"Pulse Rate Not Done",value:"Pulse Rate Not Done",checked:!1,displayNone:!1}],inputFields:[{inputHeader:"Specify Reason",icon:P.search,isMultiSelect:!0,popOver:!0,value:"",name:"Pulse Rate Reason",multiSelectData:[{id:1,name:"Patient uncooperative"},{id:2,name:"Machine not working"},{id:3,name:"Machine not available"}],eventType:"input",required:!0,alertsErrorMassage:"",id:"",idName:"district_id",displayNone:!0}]}},{sectionHeader:"null",data:{rowData:[{colData:[{inputHeader:"Respiratory rate",unit:"BMP",icon:P.respiratory,value:"",name:"Respiratory rate",eventType:"input"},{inputHeader:"Oxygen saturation",unit:"%",icon:P.oxgenStaturation,value:"",name:"SAO2",eventType:"input"}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]}],cn=qe("vitalsStore",{state:()=>({ANCVitals:[...ii]}),actions:{setVitals(e){this.ANCVitals=e},getInitialVitals(){return[...$e.cloneDeep(ii)]}},persist:!0}),kv=B({components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,PreviousVitals:bn},data(){return{iconsContent:P,BMI:{},BPStatus:{},saveBtnStatus:{},TempStatus:{},PulseStatus:{},RespiratoryStatus:{},OxygenStatus:{},vValidations:"",initialData:[],hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1}}},computed:{...w(Ne,["patient"]),...w(cn,["ANCVitals"])},async mounted(){const e=cn();this.initialData=e.getInitialVitals(),await this.setTodayVitals();const t=Ve.getUserID();this.vitalsInstance=new Nv(this.patient.patientID,t),await this.validaterowData("onload"),this.handleVital()},watch:{ANCVitals:{handler(){this.checkHeight()},deep:!0},$route:{handler(){this.checkHeight(),this.setTodayVitals(),this.updateVitalsStores()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleVital(){this.setVitalValue},async setVitalValue(){const e=await Ae.getFirstObsValue(this.patient.patientID,"Systolic","value_numeric");console.log("+++++ lets see",e)},async setTodayVitals(){const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","SAO2","Respiratory rate"],t=["Height (cm)","Weight","Systolic","Diastolic","Pulse"],a=[],s=e.map(async o=>{const r=await Ae.getFirstObsDatetime(this.patient.patientID,o);r&&ne.toStandardHisFormat(r)==ne.sessionDate()?(o=="Weight"&&L(this.ANCVitals,"Height And Weight Not Done","displayNone",!0),o=="Systolic"&&L(this.ANCVitals,"Blood Pressure Not Done","displayNone",!0),o=="Pulse"&&L(this.ANCVitals,"Pulse Rate Not Done","displayNone",!0),u(this.ANCVitals,o,"value",await Ae.getFirstValueNumber(this.patient.patientID,o,ne.sessionDate())),u(this.ANCVitals,o,"disabled",!0),a.push("true")):t.includes(o)?a.push("false"):u(this.ANCVitals,o,"value","")});return await Promise.all(s),a.includes("false")?this.ANCVitals[0].actionBtn="Finish and Save":this.ANCVitals[0].actionBtn="Finish",!a.includes("false")},navigationMenu(e){Ue.close(),this.$router.push(e)},updateVitalsStores(){cn().setVitals(this.ANCVitals)},validationController(e){var t,a,s,o,r,l;((t=e==null?void 0:e.col)==null?void 0:t.name)=="Height And Weight Not Done"&&e.col.checked?(Oe(this.ANCVitals,"Height Weight Reason","displayNone",!1),u(this.ANCVitals,"Height (cm)","disabled",!0),u(this.ANCVitals,"Weight","disabled",!0),u(this.ANCVitals,"Height (cm)","inputHeader","Height"),u(this.ANCVitals,"Weight","inputHeader","Weight"),u(this.ANCVitals,"Height (cm)","value",""),u(this.ANCVitals,"Weight","value",""),this.validationStatus.heightWeight=!1):((a=e==null?void 0:e.col)==null?void 0:a.name)=="Height And Weight Not Done"&&(Oe(this.ANCVitals,"Height Weight Reason","displayNone",!0),u(this.ANCVitals,"Height (cm)","disabled",!1),u(this.ANCVitals,"Weight","disabled",!1),u(this.ANCVitals,"Height (cm)","inputHeader","Height*"),u(this.ANCVitals,"Weight","inputHeader","Weight*"),this.validationStatus.heightWeight=!0),((s=e==null?void 0:e.col)==null?void 0:s.name)=="Blood Pressure Not Done"&&e.col.checked?(Oe(this.ANCVitals,"Blood Pressure Reason","displayNone",!1),u(this.ANCVitals,"Systolic","disabled",!0),u(this.ANCVitals,"Diastolic","disabled",!0),u(this.ANCVitals,"Systolic","inputHeader","Systolic Pressure"),u(this.ANCVitals,"Diastolic","inputHeader","Diastolic pressure"),u(this.ANCVitals,"Systolic","value",""),u(this.ANCVitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!1):((o=e==null?void 0:e.col)==null?void 0:o.name)=="Blood Pressure Not Done"&&(Oe(this.ANCVitals,"Blood Pressure Reason","displayNone",!0),u(this.ANCVitals,"Systolic","disabled",!1),u(this.ANCVitals,"Diastolic","disabled",!1),u(this.ANCVitals,"Systolic","inputHeader","Systolic Pressure*"),u(this.ANCVitals,"Diastolic","inputHeader","Diastolic pressure*"),u(this.ANCVitals,"Systolic","value",""),u(this.ANCVitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!0),((r=e==null?void 0:e.col)==null?void 0:r.name)=="Pulse Rate Not Done"&&e.col.checked?(Oe(this.ANCVitals,"Pulse Rate Reason","displayNone",!1),u(this.ANCVitals,"Pulse","disabled",!0),u(this.ANCVitals,"Pulse","inputHeader","Pulse rate"),u(this.ANCVitals,"Pulse","value",""),this.validationStatus.bloodPressure=!1):((l=e==null?void 0:e.col)==null?void 0:l.name)=="Pulse Rate Not Done"&&(Oe(this.ANCVitals,"Pulse Rate Reason","displayNone",!0),u(this.ANCVitals,"Pulse","disabled",!1),u(this.ANCVitals,"Pulse","inputHeader","Pulse rate*"),u(this.ANCVitals,"Pulse","value",""),this.validationStatus.bloodPressure=!0)},async checkHeight(){const e=new Me,t=await e.getRecentHeightObs();if(!$e.isEmpty(t)){const a=rs(t.obs_datetime).diff(e.getBirthdate(),"year"),s=t.value_numeric;t.obs_id,a<18||e.getAge()<18||(u(this.ANCVitals,"Height","disabled",!0),u(this.ANCVitals,"Height","value",s))}},async validaterowData(e){this.checkHeight(),this.validationController(e),this.hasValidationErrors=[],this.ANCVitals.forEach((t,a)=>{var s,o;(s=t==null?void 0:t.data)!=null&&s.rowData&&((o=t==null?void 0:t.data)==null||o.rowData.forEach((r,l)=>{var c,h,m;if(r.colData[0].inputHeader=="Systolic Pressure*"&&(e.inputHeader=="Systolic Pressure*"||e.inputHeader=="Diastolic pressure*"||e=="onload")||r.colData[0].inputHeader=="Systolic Pressure"&&((c=e==null?void 0:e.col)==null?void 0:c.name)=="Blood Pressure Not Done"){const f=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BPStatus=f?this.getBloodPressureStatus(r.colData[0].value,r.colData[1].value):{},this.updateBP(r.colData[0].value,r.colData[1].value)}if(r.colData[1].inputHeader=="Pulse rate*"&&(e.inputHeader=="Pulse rate*"||e=="onload")||r.colData[1].inputHeader=="Pulse rate"&&((h=e==null?void 0:e.col)==null?void 0:h.name)=="Pulse Rate Not Done"){const y=this.vitalsInstance.validator(r.colData[1])==null?this.getPulseRateStatus(r.colData[1].value):{};this.updateTemperateRate("pulse",r.colData[1].value+" BMP",y,4)}if(r.colData[0].value&&r.colData[0].inputHeader=="Temperature"){const y=this.vitalsInstance.validator(r.colData[0])==null?this.getTemperatureStatus(r.colData[0].value):{};this.updateTemperateRate("temp",r.colData[0].value+"Â°C",y,4)}if(r.colData[0].inputHeader=="Respiratory rate"){const y=this.vitalsInstance.validator(r.colData[0])==null?this.getRespiratoryRateStatus(r.colData[0].value):{};this.updateTemperateRate("respiratory",r.colData[0].value+"BMP",y,6)}if(r.colData[1].value&&r.colData[1].inputHeader=="Oxygen saturation"){const y=this.vitalsInstance.validator(r.colData[1])==null?this.getOxygenSaturationStatus(r.colData[1].value):{};this.updateTemperateRate("oxygen",r.colData[1].value+"%",y,6)}if(r.colData[0].inputHeader=="Height*"&&(e.inputHeader=="Height*"||e.inputHeader=="Weight*"||e=="onload")||r.colData[0].inputHeader=="Height"&&((m=e==null?void 0:e.col)==null?void 0:m.name)=="Height And Weight Not Done"){const f=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BMI=f?this.setBMI(r.colData[1].value,r.colData[0].value):{},this.updateBMI()}r.colData.some((f,y)=>{const D=this.vitalsInstance.validator(f);if((D==null?void 0:D.length)>0){if(this.hasValidationErrors.push("false"),f.inputHeader===e.inputHeader)return this.ANCVitals[a].data.rowData[l].colData[y].alertsErrorMassage=!0,this.ANCVitals[a].data.rowData[l].colData[y].alertsErrorMassage=D.flat(1/0)[0],!0}else this.hasValidationErrors.push("true"),this.ANCVitals[a].data.rowData[l].colData[y].alertsErrorMassage=!1,this.ANCVitals[a].data.rowData[l].colData[y].alertsErrorMassage="";return!1})}))}),this.ANCVitals.validationStatus=!this.hasValidationErrors.includes("false")},async setBMI(e,t){var a,s,o,r,l,c,h,m;t<140&&this.heightAlert(),(s=(a=this.patient)==null?void 0:a.personInformation)!=null&&s.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&e&&t&&(this.BMI=await qt.getBMI(parseInt(e),parseInt(t),(c=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:c.gender,ne.calculateAge((m=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:m.birthdate,ne.sessionDate())),this.updateBMI())},async updateBMI(){var a,s,o,r,l,c;const e=(s=(a=this.BMI)==null?void 0:a.color)!=null?s:[],t=this.ANCVitals[0].alerts[0];t.icon=qt.iconBMI(e),t.backgroundColor=e[0],t.textColor=e[1],t.index="BMI "+((r=(o=this.BMI)==null?void 0:o.index)!=null?r:""),t.value=(c=(l=this.BMI)==null?void 0:l.result)!=null?c:""},async heightAlert(){this.ANCVitals[0].alerts.find(t=>t.value==="Below critical height threshold")?this.ANCVitals[0].alerts=this.ANCVitals[0].alerts.filter(t=>t.value!=="Below critical height threshold"):this.ANCVitals[0].alerts.push({backgroundColor:"#FFD700",textColor:"#b42318",value:"Below critical height threshold"})},async updateBP(e,t){var o,r,l,c,h,m;const a=(r=(o=this.ANCVitals[2])==null?void 0:o.alerts[0])!=null?r:[],s=(c=(l=this.BPStatus)==null?void 0:l.colors)!=null?c:[];a.icon=Dn(s),a.backgroundColor=s[0],a.textColor=s[1],a.index=e+"/"+t,a.value=(m=(h=this.BPStatus)==null?void 0:h.value)!=null?m:"",console.log(a)},async updateTemperateRate(e,t,a,s){var l,c,h,m,f,y;const o=(c=(l=this.ANCVitals[s])==null?void 0:l.alerts)==null?void 0:c.filter(D=>D.name!==e);this.ANCVitals[s].alerts=o;const r=(h=a==null?void 0:a.colors)!=null?h:[];(f=this.ANCVitals[s])==null||f.alerts.push({backgroundColor:r[0],status:"",icon:"",textColor:r[1],value:(m=a==null?void 0:a.value)!=null?m:"",name:e,index:t}),console.log((y=this.ANCVitals[4])==null?void 0:y.alerts)},getBloodPressureStatus(e,t){if(e&&t){let a,s,o,r;const c=new Me().getAge();return c<1?(a=75,s=100,o=50,r=70):c>=1&&c<6?(a=80,s=110,o=50,r=80):c>=6&&c<13?(a=85,s=120,o=55,r=80):c>=13&&c<18?(a=95,s=140,o=60,r=90):(a=100,s=130,o=60,r=90),e<a&&t<o?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP "}:e>=a&&e<=s&&t>=o&&t<=r?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP "}:e>140&&t>90?{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP"}:e<a?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP  (Using Systolic Only)"}:e>=a&&e<=s?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP  (Using Systolic Only)"}:{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP  (Using Systolic Only)"}}},getTemperatureStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=1||o>=1&&o<=18||o>=19&&o<=64||o>=65?(t=35.5,a=37.4):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Temperature "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Temperature "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Temperature "}}},getPulseRateStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=.08?(t=70,a=190):o>=.08&&o<1?(t=80,a=160):o>=1&&o<=2?(t=80,a=130):o>=3&&o<=4?(t=80,a=120):o>=5&&o<=6?(t=75,a=115):o>=7&&o<=9?(t=70,a=110):o>=10?(t=60,a=100):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Pulse Rate "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Pulse Rate "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Pulse Rate "}}},getOxygenSaturationStatus(e){if(e){let t=95,a=100;if(e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low oxygen saturation"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal oxygen saturation"}}},getRespiratoryRateStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=1?(t=30,a=60):o>=1&&o<3?(t=24,a=40):o>=3&&o<=6?(t=22,a=34):o>=6&&o<=12?(t=18,a=30):o>=12&&o<=18?(t=12,a=16):o>=19?(t=12,a=20):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low respiratory rate"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal respiratory rate"};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High respiratory rate"}}}}}),Bv={class:"container"};function $v(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Bv,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ANCVitals,"onUpdate:inputValue":t[0]||(t[0]=m=>e.validaterowData(m)),initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Mv=O(kv,[["render",$v],["__scopeId","data-v-7b5ab1eb"]]),Av=B({name:"Persistent Behaviour",components:{IonItem:V,IonList:x,BasicInputField:ee,BasicForm:G},data(){return{currentSection:0,vValidations:"",hasValidationErrors:[],initialData:[]}},computed:{...w(Vs,["ancInfo"])},mounted(){const e=Vs();this.initialData=e.getInitialANCend(),this.handleOther(),this.handledeath(),this.handleDeathDate(),this.handleRecordNotViewed()},watch:{ancInfo:{handler(){this.handleOther(),this.handledeath(),this.handleDeathDate(),this.handleRecordNotViewed()},deep:!0}},methods:{async handleInputData(e){Ke(this.ancInfo,cl,e.name,e.value)},handleOther(){N(this.ancInfo,"ANC pregnancy outcome")=="Other outcome"?u(this.ancInfo,"Pregnancy outcome notes","displayNone",!1):u(this.ancInfo,"Pregnancy outcome notes","displayNone",!0)},handledeath(){N(this.ancInfo,"ANC pregnancy outcome")=="Death"?u(this.ancInfo,"Date of death","displayNone",!1):u(this.ancInfo,"Date of death","displayNone",!0)},handleDeathDate(){N(this.ancInfo,"ANC pregnancy outcome")=="Death"?u(this.ancInfo,"Cause of death","displayNone",!1):u(this.ancInfo,"Cause of death","displayNone",!0)},handleRecordNotViewed(){N(this.ancInfo,"ANC pregnancy outcome")=="Death"?I(this.ancInfo,"Client record will no longer be  viewed","displayNone",!1):I(this.ancInfo,"Client record will no longer be  viewed","displayNone",!0)}}}),Ev={class:"container"};function Vv(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Ev,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ancInfo,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Ov=O(Av,[["render",Vv],["__scopeId","data-v-b10cfe1d"]]),Tv=qe("ImmunizationStore",{state:()=>({birthImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"birth immunization"},data:[{name:"OPV 0",value:"OPV 0",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"birth immunization"},data:[{name:"BCG",value:"BCG",checked:!1}]}}],sixWeeksImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"OPV 1",value:"OPV 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"Pentavalent 1",value:"Pentavalent 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"PCV 1",value:"PCV 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"6 Weeks"},data:[{name:"Rota 1",value:"Rota 1",checked:!1}]}}],tenWeeksImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"OPV 2",value:"OPV 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"Pentavalent 2",value:"Pentavalent 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"PCV 2",value:"PCV 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"Rota 2",value:"Rota 2",checked:!1}]}}],fourteenWeeksImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"OPV 3",value:"OPV 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"Pentavalent 3",value:"Pentavalent 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"PCV 3",value:"PCV 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"",selectedValue:"",name:"10 Weeks"},data:[{name:"IPV",value:"IPV",checked:!1}]}}],fiveToTwentyTwoImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"5 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 1",value:"Malaria Vaccine 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 2",value:"Malaria Vaccine 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"7 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 3",value:"Malaria Vaccine 3",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"9 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"MR 1",value:"MR 1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"9 months â€“ under 15 years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"TCV",value:"TCV",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"15 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"MR 2",value:"MR 2",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"22 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"Malaria Vaccine 4",value:"Malaria Vaccine 4",checked:!1}]}}],oneYearToFiveYearsImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1 Year",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1 Year 6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2 Years 6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"3 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"3 Year 6 Months",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"4 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"4 Years 6 Month",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"5 Years",class:"bold",selectedValue:"",name:"birth immunization"},data:[{name:"vitamin A",value:"vitamin A",checked:!1}]}}],nineToFourteenYearsImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1st Dose",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"HPV1",value:"HPV1",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2nd dose after 6 months",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"HPV2",value:"HPV2",checked:!1}]}}],twelveYearsAboveImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{selectedValue:"",name:"moreThan5"},data:[{name:"Pfizer",value:"Pfizer",checked:!1}]}}],fifteenYearsImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"1st Dose",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"2nd after 4 weeks",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"3rd after 6 months",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"4th after 5 years",class:"bold",selectedValue:"",name:"moreThan5"},data:[{name:"TD",value:"TD",checked:!1}]}}],eighteenYearsAboveImmunization:[{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{selectedValue:"",name:"moreThan5"},data:[{name:"AstraZeneca",value:"AstraZeneca",checked:!1}]}},{selectedData:[],isFinishBtn:!1,checkboxBtnContent:{header:{selectedValue:"",name:"moreThan5"},data:[{name:"Janssen (Johnson & Johnson)",value:"Janssen (Johnson & Johnson)",checked:!1}]}}]}),actions:{setDiagnosis(e){this.birthImmunization=e}},persist:!0}),Fv=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Vt,SelectionPopover:Et,BasicInputField:ee,BasicForm:G,List:wt,DynamicButton:Be,labOrderResults:qa,LevelOfConsciousness:no,PhysicalExamination:so,PregnancyBreastfeeding:io,PresentingComplaints:ps},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(yt,["investigations"]),...w(Ne,["patient"]),...w(Tv,["birthImmunization","sixWeeksImmunization","tenWeeksImmunization","fourteenWeeksImmunization","fiveToTwentyTwoImmunization","nineToFourteenYearsImmunization","twelveYearsAboveImmunization","fifteenYearsImmunization","eighteenYearsAboveImmunization","oneYearToFiveYearsImmunization"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){this.setDashedBox()},deep:!0}},async mounted(){this.updateInvestigationsStores(),this.setDashedBox(),this.orders=await je.getOrders(this.patient.patientID),this.labOrders=await je.getTestTypes()},methods:{checkPatient(){return new Me().isChildBearing()},updateInvestigationsStores(){yt().setInvestigations(this.investigations)},displayInputFields(){this.testResult="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validateRowData(){var l,c;const e=this.investigations[0].data.rowData[0].colData[0],t=this.investigations[0].data.rowData[0].colData[1];e.alertsErrorMassage=!1,e.alertsErrorMassage="",t.alertsErrorMassage=!1,t.alertsErrorMassage="",t.disabled=!1;const a=this.inputFields[0].value,s=this.inputFields[1].value;this.test=await this.filterTest(a),this.filteredSpecimen=await this.filterSpecimen(s);const o=a&&((l=this.test[0])==null?void 0:l.name)===a,r=s&&((c=this.filteredSpecimen[0])==null?void 0:c.name)===s;return a?o?(this.specimen=await je.getSpecimens(e.value),this.specimen.length==1&&(t.value=this.specimen[0].name,t.disabled=!0),t.popOverData.data=this.specimen):(t.value="",this.search_item=!0,e.alertsErrorMassage=!0,e.alertsErrorMassage="Please select test from the list"):t.value="",s&&!r&&!t.disabled&&(t.alertsErrorMassage=!0,t.alertsErrorMassage="Please select specimen from the list"),o&&(r||t.disabled)},async addNewRow(){await this.validateRowData()&&(this.saveTest(),this.investigations[0].data.rowData[0].colData[0].value="",this.investigations[0].data.rowData[0].colData[1].value="",this.search_item=!1,this.display_item=!0,this.addItemButton=!0),this.investigations[0].data.rowData[0].colData[0].popOverData.data=[]},async saveTest(){await new hs().postActivities(this.patient.patientID,[{concept_id:this.test[0].concept_id,name:this.inputFields[0].value,specimen:this.inputFields[1].value,reason:"Routine",specimenConcept:await Ge.getConceptID(this.inputFields[1].value)}]),this.orders=await je.getOrders(this.patient.patientID)},buildResults(){this.inputFields[1].value.charAt(0),parseInt(this.inputFields[1].value.substring(1))},async handleInputData(e){e.inputHeader=="Test"&&(this.popoverOpen=!0,this.testData=await this.filterTest(e.value),this.investigations[0].data.rowData[0].colData[0].popOverData.data=this.testData),this.validateRowData()},async filterTest(e){return await this.labOrders.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))},async filterSpecimen(e){var t;return(t=this.specimen[0])!=null&&t.name&&e?await this.specimen.filter(a=>a==null?void 0:a.name.toLowerCase().includes(e.toLowerCase())):[]},setTest(e){this.selectedText=e.name,this.inputFields[0].inputHeader=="Test"?this.investigations[0].data.rowData[0].colData[0].value=e.name:this.investigations[0].data.rowData[0].colData[1].value=e.name,this.updateInvestigationsStores()},async openDeletePopover(e){await Yt("Do you want to delete ".concat(e[1]," ?"),e[0])&&this.deleteTest(e[1])},deleteTest(e){this.investigations[0].selectedData=this.investigations[0].selectedData.filter(t=>t.display[0]!==e),this.updateInvestigationsStores()},editTest(e){this.deleteTest(e[0]),this.selectedText=e[0],this.investigations[0].data.rowData[0].colData[0].value=e[0],this.investigations[0].data.rowData[0].colData[1].value=e[1],this.addItemButton=!1,this.search_item=!0,this.updateInvestigationsStores()},setDashedBox(){(this.inputFields[0].value||this.inputFields[1].value)&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.investigations[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),Hv={class:"ion-padding",slot:"content"},Rv={class:"ion-padding",slot:"content"},Lv={class:"ion-padding",slot:"content"},xv={class:"ion-padding",slot:"content"},Uv={class:"ion-padding",slot:"content"},zv={class:"ion-padding",slot:"content"},qv={class:"ion-padding",slot:"content"},Wv={class:"ion-padding",slot:"content"},Gv={class:"ion-padding",slot:"content"},jv={class:"ion-padding",slot:"content"};function Yv(e,t,a,s,o,r){const l=d("ion-label"),c=d("DynamicButton"),h=d("ion-item"),m=d("basic-form"),f=d("ion-accordion"),y=d("ion-accordion-group"),D=d("ion-row");return p(),A(D,null,{default:i(()=>[n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Birth")])),_:1,__:[0]}),t[1]||(t[1]=_("div",{class:"due_date"},"2023-04-13",-1)),_("div",null,[n(c,{color:"danger",name:"Overdue",size:"small"})])]),_:1,__:[1]}),_("div",Hv,[n(m,{contentData:e.birthImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("6 Weeks")])),_:1,__:[2]})]),_:1}),_("div",Rv,[n(m,{contentData:e.sixWeeksImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[3]||(t[3]=[S("10 Weeks")])),_:1,__:[3]})]),_:1}),_("div",Lv,[n(m,{contentData:e.tenWeeksImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[4]||(t[4]=[S("14 Weeks")])),_:1,__:[4]})]),_:1}),_("div",xv,[n(m,{contentData:e.fourteenWeeksImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[5]||(t[5]=[S("5 - 22 Months")])),_:1,__:[5]})]),_:1}),_("div",Uv,[n(m,{contentData:e.fiveToTwentyTwoImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[6]||(t[6]=[S(" 1 Year - 5 Years")])),_:1,__:[6]})]),_:1}),_("div",zv,[n(m,{contentData:e.oneYearToFiveYearsImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[7]||(t[7]=[S("9 - 14 Years For Girls")])),_:1,__:[7]})]),_:1}),_("div",qv,[n(m,{contentData:e.nineToFourteenYearsImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[8]||(t[8]=[S("12 Years Above")])),_:1,__:[8]})]),_:1}),_("div",Wv,[n(m,{contentData:e.twelveYearsAboveImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[9]||(t[9]=[S("15 Years (for pregnant women and women of childbearing age up to 45 years )")])),_:1,__:[9]})]),_:1}),_("div",Gv,[n(m,{contentData:e.fifteenYearsImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512),n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[10]||(t[10]=[S("18 Years Above")])),_:1,__:[10]})]),_:1}),_("div",jv,[n(m,{contentData:e.eighteenYearsAboveImmunization,"onUpdate:inputValue":e.handleInputData,"onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:inputValue","onUpdate:selected"])])]),_:1})]),_:1},512)]),_:1})}const Jv=O(Fv,[["render",Yv],["__scopeId","data-v-89e4457d"]]),Kv=B({name:"xxxComponent"}),Qv=B({...Kv,emits:["dataSaved"],setup(e,{emit:t}){const a=b(),s=b("gurdian phone number");b(!0),b(!0);const o=b(!0),r=b(),l=b();dt(async()=>{Qe()});const c=[{placeHolder:{default:"Enter time of death if known"},property_name:"timeOfDeath",dataHandler:M,dataValue:b(),show_error:b(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time arrived"},property_name:"timeArrived",dataHandler:H,dataValue:b(),show_error:b(!1),error_message:"Time required",type:"time",skip_validation:!1},{placeHolder:{default:"Enter time confirming death"},property_name:"timeOfDeathConfirmation",dataHandler:K,dataValue:b(),show_error:b(!1),error_message:"Time required",skip_validation:!1}],h=[{placeHolder:{default:"Enter date of death"},property_name:"dateOfDeath",dataHandler:X,dataValue:b(),show_error:b(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date arrived"},property_name:"dateArrived",dataHandler:ce,dataValue:b(),show_error:b(!1),error_message:"Date required",type:"date",skip_validation:!1},{placeHolder:{default:"Enter date confirming death"},property_name:"dateOfDeathConfirmation",dataHandler:se,dataValue:b(),show_error:b(!1),error_message:"Date required",type:"date",skip_validation:!1}],m=[{lblTxt:"Was the individual pregnant at the time of death?",value:b(!1),disable_checkbox:b(!0)}],f=[{placeHolder:"Enter place of death",property_name:"placeOfDeath",dataHandler:Q,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of guardian",property_name:"nameOfGuardian",dataHandler:de,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter name of person confirming death",property_name:"nameOfPersonConfirmindDeath",dataHandler:Ee,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter position of the person confirming death",property_name:"positionOfthePersonConfirmingDeath",dataHandler:bt,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",type:"text",skip_validation:!1},{placeHolder:"Enter medical council registration number of the person confirming death",property_name:"medicalConcilRegistrationNumberOfThePersonConfirmingDeath",dataHandler:pt,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters and numbers are allowed",type:"alphanumeric",skip_validation:!1},{placeHolder:"Other (specify)",property_name:"otherNotes",dataHandler:De,dataValue:b(),show_error:b(!1),error_message:"Input required, Only letters allowed",dissabled:o.value,type:"text",skip_validation:!0}],y=[{showAddItemButton:!0,addItemButton:!0,name:"save",btnFill:"clear",fn:Ot},{showAddItemButton:!0,addItemButton:!0,name:"cancel",btnFill:"clear",fn:T}],D=b([{id:1,name:"Natural",selected:!1},{id:2,name:"Accident",selected:!1},{id:3,name:"Homicide",selected:!1},{id:4,name:"Suicide",selected:!1},{id:5,name:"Pending investigation",selected:!1},{id:6,name:"Could not be determined",selected:!1},{id:7,name:"Other - specify",selected:!1}]),C=b([{id:1,name:"Motor vehicle (passenger)",selected:!1},{id:2,name:"Motor vehicle (pedestrian)",selected:!1},{id:3,name:"Drowning",selected:!1},{id:4,name:"Other - specify",selected:!1}]),E=[{multi_Selection:!1,manner_of_death_Selection_value:b(),show_list_label:!0,unqueId:"qwerty",name_of_list:"Manner of death ",property_name:"mannerOfDeath",placeHolder:"Choose one",items:D.value,listUpdatedFN:Z,listFilteredFN:()=>{},use_internal_filter:!0,disabled:b(!1),show_error:b(!1),error_message:"selection required"},{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty1hjkn",name_of_list:"How did it occur?",property_name:"howDiditOccur",placeHolder:"Choose one",items:C.value,listUpdatedFN:ke,listFilteredFN:()=>{},use_internal_filter:!0,disabled:b(!0),show_error:b(!1),error_message:"selection required"}];function T(){R()}const U=t;function R(_e={dataSaved:!0}){U("dataSaved",_e)}function M(_e){c[0].dataValue.value=_e}function H(_e){c[1].dataValue.value=_e}function K(_e){c[2].dataValue.value=_e}function X(_e){const Se={day:_e.value.day,month:_e.value.month,year:_e.value.year,formattedDate:_e.value.formattedDate};h[0].dataValue.value=Se}function ce(_e){const Se={day:_e.value.day,month:_e.value.month,year:_e.value.year,formattedDate:_e.value.formattedDate};h[1].dataValue.value=Se,console.log(h[2].dataValue.value)}function se(_e){const Se={day:_e.value.day,month:_e.value.month,year:_e.value.year,formattedDate:_e.value.formattedDate};h[2].dataValue.value=Se,console.log(h[2].dataValue.value)}function Q(_e){const Se=_e.target.value;f[0].dataValue.value=Se}function de(_e){const Se=_e.target.value;f[1].dataValue.value=Se}function Ee(_e){const Se=_e.target.value;f[2].dataValue.value=Se}function bt(_e){const Se=_e.target.value;f[3].dataValue.value=Se}function pt(_e){const Se=_e.target.value;f[4].dataValue.value=Se}function De(_e){const Se=_e.target.value;f[5].dataValue.value=Se}function Z(_e){D.value.forEach(Te=>Te.selected=!1);const Se=D.value.find(Te=>Te.id==_e.id);E[1].disabled.value=_e.name!="Accident",Se.selected=!0}function ke(_e){console.log("listUpdated",_e),C.value.forEach(Te=>Te.selected=!1);const Se=C.value.find(Te=>Te.id==_e.id);Se.selected=!0}function Qe(){const Se=new Me().isChildBearing;Se==!0&&(m[0].disable_checkbox.value=!1),Se==!1&&(m[0].disable_checkbox.value=!0)}function Ot(){xn(f),xn(h),xn(c),ma();const _e=$e.merge(Un(f),Un(h),Un(c),Tt(E[0]),Tt(E[1]));console.log(_e)}function ma(){const _e=D.value.filter(Se=>Se.selected);if(_e.length==0)E[0].show_error.value=!0;else if(E[0].show_error.value=!1,_e[0].name=="Accident"){const Se=C.value.filter(Te=>Te.selected);E[1].show_error.value=Se.length==0}}function Tt(_e){const Se=[];let Te={};return _e.items.forEach(ct=>{ct.selected==!0&&Se.push({property_name:_e.property_name,name:ct.name})}),Se.length>0&&(Te[Se[0].property_name]=Se[0].name),Te}return(_e,Se)=>{const Te=d("ion-label");return p(),v(te,null,[n(g(Re),{class:"checkbox_content md"},{default:i(()=>[n(g(ye),null,{default:i(()=>[n(ee,{placeholder:f[0].placeHolder,icon:g(Mo),inputValue:f[0].dataValue.value,"onUpdate:inputValue":f[0].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[0].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(f[0].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ye),null,{default:i(()=>[n(Fa,{place_holder:h[0].placeHolder,onDateUpDated:h[0].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),_("div",null,[h[0].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(h[0].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(Va,{place_holder:c[0].placeHolder,onTimeUpDated:c[0].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),_("div",null,[c[0].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(c[0].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ye))]),_:1}),n(g(Re),{class:"checkbox_content md"},{default:i(()=>[n(g(ye),null,{default:i(()=>[n(ee,{placeholder:f[1].placeHolder,icon:g(_s),inputValue:f[1].dataValue.value,"onUpdate:inputValue":f[1].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[1].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(f[1].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ye),null,{default:i(()=>[n(g(vn),{value:m[0].value,alignment:"start",class:"ion-lblCls",disabled:m[0].disable_checkbox.value},{default:i(()=>[S(k(m[0].lblTxt),1)]),_:1},8,["value","disabled"])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(ee,{placeholder:s.value,icon:g(Ao),inputValue:a.value},null,8,["placeholder","icon","inputValue"])]),_:1}),n(g(ye))]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(Fa,{place_holder:h[1].placeHolder,onDateUpDated:h[1].dataHandler,date_prop:""},null,8,["place_holder","onDateUpDated"]),_("div",null,[h[1].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(h[1].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ye),null,{default:i(()=>[n(Va,{place_holder:c[1].placeHolder,onTimeUpDated:c[1].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),_("div",null,[c[1].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(c[1].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(g(ea),{modelValue:r.value,"onUpdate:modelValue":[Se[0]||(Se[0]=ct=>r.value=ct),Se[1]||(Se[1]=ct=>Z(ct))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Manner of death",placeholder:"Manner of death",selectLabel:"",label:"name",searchable:!0,"track-by":"id",options:D.value},null,8,["modelValue","options"]),_("div",null,[E[0].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(E[0].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ye),null,{default:i(()=>[n(g(ea),{modelValue:l.value,"onUpdate:modelValue":[Se[2]||(Se[2]=ct=>l.value=ct),Se[3]||(Se[3]=ct=>ke(ct))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"How did it occur?",placeholder:"How did it occur?",selectLabel:"",label:"name",disabled:E[1].disabled.value,searchable:!0,"track-by":"id",options:C.value},null,8,["modelValue","disabled","options"]),_("div",null,[E[1].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(E[1].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(ee,{placeholder:f[5].placeHolder,icon:g(un),inputValue:f[5].dataValue.value,disabled:o.value,"onUpdate:inputValue":f[5].dataHandler},null,8,["placeholder","icon","inputValue","disabled","onUpdate:inputValue"]),_("div",null,[f[5].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(f[5].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(Va,{place_holder:c[2].placeHolder,onTimeUpDated:c[2].dataHandler,time_prop:""},null,8,["place_holder","onTimeUpDated"]),_("div",null,[c[2].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(c[2].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ye),null,{default:i(()=>[n(ee,{placeholder:f[2].placeHolder,icon:g(_s),inputValue:f[2].dataValue.value,"onUpdate:inputValue":f[2].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[2].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(f[2].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),n(g(Re),null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(ee,{placeholder:f[3].placeHolder,icon:g(Vi),inputValue:f[3].dataValue.value,"onUpdate:inputValue":f[3].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[3].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(f[3].error_message),1)]),_:1})):$("",!0)])]),_:1}),n(g(ye),null,{default:i(()=>[n(ee,{placeholder:f[4].placeHolder,icon:g(un),inputValue:f[4].dataValue.value,"onUpdate:inputValue":f[4].dataHandler},null,8,["placeholder","icon","inputValue","onUpdate:inputValue"]),_("div",null,[f[4].show_error.value?(p(),A(Te,{key:0,class:"error-label"},{default:i(()=>[S(k(f[4].error_message),1)]),_:1})):$("",!0)])]),_:1})]),_:1}),(p(),A(g(Re),{key:0,class:"spc_btwn"},{default:i(()=>[y[0].addItemButton?(p(),A(Be,{key:0,name:y[0].name,fill:y[0].btnFill,icon:g(Ia),"onClicked:btn":y[0].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0),y[1].addItemButton?(p(),A(Be,{key:1,name:y[1].name,fill:y[1].btnFill,icon:g(sa),"onClicked:btn":y[1].fn},null,8,["name","fill","icon","onClicked:btn"])):$("",!0)]),_:1}))],64)}}}),Xv=O(Qv,[["__scopeId","data-v-7589a3cd"]]),Zv={class:"dash_box"},eg={key:1},tg=B({name:"xxxComponent"}),ag=B({...tg,setup(e){const t=b("No outcome created yet"),a=b(!1),s=b("please select a type");b("Add new outcome"),b(!0);const o=b(!0),r=b(""),l=b(!0),c=b(!1),h=La(),m=ze(()=>h.outcomes),f=b(!1),y=b(!1),D=b(!1),C=b(!1),E=b(!1);b(null),b(null);const T=b([{name:"Admitted for short stay",selected:!1},{name:"Referred out",selected:!1},{name:"Discharged Home",selected:!1},{name:"Death",selected:!1}]),U=[{multi_Selection:!1,show_list_label:!0,unqueId:"qwerty2",name_of_list:"Add new outcome",placeHolder:"Choose one",items:T.value,listUpdatedFN:R,listFilteredFN:()=>{},use_internal_filter:!0,disabled:b(!1)}];function R(Q){T.value=Q,T.value.forEach(de=>{de.selected==!0&&(r.value=de.name)})}dt(async()=>{H()}),Je(()=>r.value,async Q=>{f.value==!0?f.value=!1:ce()}),Je(()=>m.value.length,async Q=>{H()});function M(){T.value.forEach(Q=>{Q.selected=!1}),r.value=""}function H(){m.value.length>0?l.value=!1:m.value.length==0&&c.value==!1&&(l.value=!0)}function K(Q){m.value.splice(Q,1)}const X=Q=>{};async function ce(Q=!0){const de=r.value;console.log(de),r.value=de;const Ee=r.value;Ee==T.value[0].name?D.value=!0:D.value=!1,Ee==T.value[1].name?(C.value=!0,console.log("show_discharged_options is set to true")):C.value=!1,Ee==T.value[2].name?(E.value=!0,console.log("show_discharged_options is set to true")):E.value=!1,Ee==T.value[3].name?y.value=!0:y.value=!1}function se(){y.value=!1,D.value=!1,C.value=!1,E.value=!1,M()}return(Q,de)=>{const Ee=d("ion-row");return p(),A(g(x),null,{default:i(()=>[n(Ee,null,{default:i(()=>[n(g(ye),null,{default:i(()=>[(p(),A(oo,{key:0,"onUpdate:removeItem":K,"onUpdate:editItem":X,displayData:m.value},null,8,["displayData"]))]),_:1})]),_:1}),l.value?(p(),A(Ee,{key:0},{default:i(()=>[_("span",Zv,k(t.value),1)]),_:1})):$("",!0),o.value?(p(),v("div",eg,[n(Ee,null,{default:i(()=>[n(g(ye),null,{default:i(()=>[n(Ti,{multiSelection:U[0].multi_Selection,show_label:U[0].show_list_label,uniqueId:U[0].unqueId,name_of_list:U[0].name_of_list,choose_place_holder:U[0].placeHolder,"items_-list":U[0].items,use_internal_filter:U[0].use_internal_filter,disabled:U[0].disabled.value,onItemListUpDated:U[0].listUpdatedFN,onItemListFiltered:U[0].listFilteredFN},null,8,["multiSelection","show_label","uniqueId","name_of_list","choose_place_holder","items_-list","use_internal_filter","disabled","onItemListUpDated","onItemListFiltered"]),_("div",null,[a.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(s.value),1)]),_:1})):$("",!0)])]),_:1})]),_:1})])):$("",!0),D.value?(p(),A(lo,{key:2,onDataSaved:se,selected_ward_prop:"",admitted_other_props:""})):$("",!0),C.value?(p(),A(ro,{key:3,onDataSaved:se,selected_referral_data:"",selected_other_referral_data:""})):$("",!0),E.value?(p(),A(co,{key:4,onDataSaved:se,selected_discharged_prop:"",selected_discharged_data:""})):$("",!0),y.value?(p(),A(Xv,{key:5,onDataSaved:se})):$("",!0)]),_:1})}}}),ng=O(ag,[["__scopeId","data-v-a93c247b"]]),sg=B({name:"History",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{initialData:[],iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(Os,["headssAssesment"])},mounted(){this.handleHeadAssessment();const e=Os();this.initialData=e.getInitial()},watch:{headssAssesment:{handler(){this.handleHeadAssessment()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleHeadAssessment(){N(this.headssAssesment,"Who does does the client live with")=="other"?u(this.headssAssesment,"Other","displayNone",!1):u(this.headssAssesment,"Other","displayNone",!0)}}}),ig={class:"container"};function og(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",ig,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.headssAssesment},null,8,["contentData"])]),_:1})]),_:1})])}const lg=O(sg,[["render",og],["__scopeId","data-v-ba4e5256"]]);class rg extends It{constructor(t,a){super(t,8,a)}static async getDiagnosis(t="",a=1,s=10){const o=await Ge.getConceptID("Qech outpatient diagnosis list");return It.getJson("diagnosis",{id:o,name:t,page:a,page_size:s})}}const dg=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Vt,SelectionPopover:Et,BasicInputField:ee,List:wt,BasicForm:G,DynamicButton:Be,previousDiagnosis:Gi},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],diagnosisData:[],popoverOpen:!1,event:"",selectedCondition:""}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(Gn,["diagnosis"]),inputFields(){return this.diagnosis[0].data.rowData[0].colData}},watch:{diagnosis:{handler(){this.setDashedBox()},deep:!0}},mounted(){this.updateDiagnosisStores(),this.setDashedBox()},methods:{displayInputFields(){this.conditionStatus="",this.selectedText="",this.no_item=!1,this.addItemButton=!1,this.search_item=!0},async validaterowData(){var e;return this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage=!1,this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage="",this.diagnosisData=await this.getDiagnosis(this.inputFields[0].value),this.inputFields[0].value==((e=this.diagnosisData[0])==null?void 0:e.name)?!0:(this.search_item=!0,this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage=!0,this.diagnosis[0].data.rowData[0].colData[0].alertsErrorMassage="Please select diagnosis from the list",!1)},async addNewRow(){await this.validaterowData()&&(this.diagnosis[0].data.rowData[0].colData[0].value=this.inputFields[0].value,this.search_item=!1,this.display_item=!0,this.addItemButton=!0,this.buildDiagnosis()),this.diagnosis[0].data.rowData[0].colData[0].value="",this.diagnosis[0].data.rowData[0].colData[0].popOverData.data=[]},buildDiagnosis(){this.diagnosis[0].selectedData.push({actionBtn:!0,btn:["edit","delete"],name:this.inputFields[0].value,id:this.diagnosisData[0].concept_id,display:[this.inputFields[0].value],data:{concept_id:6542,value_coded:this.diagnosisData[0].concept_id,obs_datetime:Ve.getSessionDate()}})},updateDiagnosisStores(){Gn().setDiagnosis(this.diagnosis)},openPopover(e){this.event=e,this.popoverOpen=!0},async handleInputData(e){e.inputHeader=="Diagnosis"&&(this.diagnosisData=await this.getDiagnosis(e.value),this.diagnosis[0].data.rowData[0].colData[0].popOverData.data=this.diagnosisData,this.validaterowData())},async getDiagnosis(e){return await rg.getDiagnosis(e,1,5)},editDiagnosis(e){this.deleteDiagnosis(e),this.selectedText=e.name,this.diagnosis[0].data.rowData[0].colData[0].value=e.name,this.addItemButton=!1,this.search_item=!0,this.updateDiagnosisStores()},async openDeletePopover(e){await Yt("Do you want to delete ".concat(e.name," ?"),e.event)&&this.deleteDiagnosis(e.name)},deleteDiagnosis(e){this.diagnosis[0].selectedData=this.diagnosis[0].selectedData.filter(t=>t.display[0]!==e.name),this.updateDiagnosisStores()},setDashedBox(){this.inputFields[0].value&&(this.addItemButton=!1,this.search_item=!0,this.no_item=!1),this.diagnosis[0].selectedData.length>0?(this.display_item=!0,this.no_item=!1):this.search_item||(this.no_item=!0)}}}),cg={key:0},ug={class:"ion-padding",slot:"content"};function hg(e,t,a,s,o,r){const l=d("DashBox"),c=d("list"),h=d("basic-form"),m=d("ion-row"),f=d("DynamicButton"),y=d("ion-label"),D=d("ion-item"),C=d("previousDiagnosis"),E=d("ion-accordion"),T=d("ion-accordion-group");return p(),v(te,null,[n(l,{status:e.no_item,content:"No Diagnosis added"},null,8,["status"]),e.display_item?(p(),v("span",cg,[n(c,{listData:e.diagnosis[0].selectedData,"onClicked:edit":t[0]||(t[0]=U=>e.editDiagnosis(U)),"onClicked:delete":e.deleteDiagnosis},null,8,["listData","onClicked:delete"])])):$("",!0),e.search_item?(p(),A(m,{key:1},{default:i(()=>[n(h,{contentData:e.diagnosis,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,"onClicked:button":e.addNewRow},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","onClicked:button"])]),_:1})):$("",!0),e.addItemButton?(p(),A(m,{key:2,style:{"margin-top":"10px"}},{default:i(()=>[n(f,{fill:"clear",icon:e.iconsContent.plus,iconSlot:"icon-only","onClicked:btn":t[1]||(t[1]=U=>e.displayInputFields()),name:"Add Diagnosis"},null,8,["icon"])]),_:1})):$("",!0),n(m,null,{default:i(()=>[n(T,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(E,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(D,{slot:"header",color:"light"},{default:i(()=>[n(y,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("Previous Diagnosis")])),_:1,__:[2]})]),_:1}),_("div",ug,[n(C)])]),_:1})]),_:1},512)]),_:1})],64)}const pg=O(dg,[["render",hg],["__scopeId","data-v-230bd021"]]),mg=B({name:"diagnosisTreatment",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:Ue,IonToggle:me,IonSelectOption:ve,IonInput:ae,IonSelect:ge,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(uo,["diagnoses"])},mounted(){},watch:{},methods:{}}),fg={class:"container"};function _g(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",fg,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.diagnoses},null,8,["contentData"])]),_:1})]),_:1})])}const vg=O(mg,[["render",_g],["__scopeId","data-v-d63eb8c8"]]),gg=B({name:"Counselling",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P}},computed:{...w(Zn,["preventativeCounselling"])},mounted(){},watch:{},setup(){return{checkmark:ie,pulseOutline:le}},methods:{}}),yg={class:"container"};function bg(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",yg,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.preventativeCounselling},null,8,["contentData"])]),_:1})]),_:1})])}const Dg=O(gg,[["render",bg],["__scopeId","data-v-97077fb6"]]),Sg=B({name:"Immunization",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:Ue,IonToggle:me,IonSelectOption:ve,IonInput:ae,IonSelect:ge,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(Ut,["ttDoses"]),...w(Ut,["HepB1"]),...w(Ut,["HepB2"]),...w(Ut,["HepB3"]),...w(Ut,["hepBReason"])},mounted(){this.handleB1(),this.handleB2(),this.handleB3(),this.handelHepreason()},watch:{HepB1:{handler(){this.handleB1()},deep:!0},HepB2:{handler(){this.handleB2()},deep:!0},HepB3:{handler(){this.handleB3()},deep:!0},hepBReason:{handler(){this.handelHepreason()},deep:!0}},methods:{handleB1(){N(this.HepB1,"Hepatitis B-1")=="yes"?u(this.HepB1,"hepb1 Date","displayNone",!1):u(this.HepB1,"hepb1 Date","displayNone",!0)},handleB2(){N(this.HepB2,"Hepatitis B-2")=="yes"?u(this.HepB2,"Hep B-2 Date","displayNone",!1):u(this.HepB2,"Hep B-2 Date","displayNone",!0)},handleB3(){N(this.HepB3,"Hepatitis B-3")=="yes"?u(this.HepB3,"hep3Date","displayNone",!1):u(this.HepB3,"hep3Date","displayNone",!0)},handelHepreason(){N(this.hepBReason,"Hepatitis B")=="other"?u(this.hepBReason,"Specify","displayNone",!1):u(this.hepBReason,"Specify","displayNone",!0)},goToNextSection(){this.currentSection<2&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--}}}),Cg={class:"container"};function wg(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Cg,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.ttDoses},null,8,["contentData"]),n(h,{contentData:e.HepB1},null,8,["contentData"]),n(h,{contentData:e.HepB2},null,8,["contentData"]),n(h,{contentData:e.HepB3},null,8,["contentData"]),n(h,{contentData:e.hepBReason},null,8,["contentData"])]),_:1})]),_:1})])}const Ig=O(Sg,[["render",wg],["__scopeId","data-v-20d6d5da"]]),Pg=B({name:"intimatePartner",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:Ue,IonToggle:me,IonSelectOption:ve,IonInput:ae,IonSelect:ge,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{},mounted(){},watch:{ipv:{handler(){},deep:!0},referrals:{handler(){},deep:!0}},methods:{goToNextSection(){this.currentSection<5&&this.currentSection++},goToPreviousSection(){this.currentSection>0&&this.currentSection--}}}),Ng={class:"container"};function kg(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("ion-card-content"),m=d("ion-card");return p(),v("div",Ng,[n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(h)]),_:1}),n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(h)]),_:1}),n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(h)]),_:1}),n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(h)]),_:1}),n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(h)]),_:1}),n(m,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"sub_item_header"})]),_:1}),n(h)]),_:1})])}const Bg=O(Pg,[["render",kg],["__scopeId","data-v-a83a3b60"]]),$g=B({name:"Counselling",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,currentSection:0}},computed:{...w(fn,["treatment"]),...w(fn,["malaria"])},mounted(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther(),this.handleMalariaPreventive()},setup(){return{checkmark:ie,pulseOutline:le}},watch:{treatment:{handler(){this.handlepreventive(),this.handleNoPreventative(),this.handleOther()},deep:!0},malaria:{handler(){this.handleMalariaPreventive(),this.handleOtherMalaria()},deep:!0}},methods:{handlepreventive(){N(this.treatment,"antihelminthic treatment")=="yes"?I(this.treatment,"antihelminthic treatment provided","displayNone",!1):I(this.treatment,"antihelminthic treatment provided","displayNone",!0)},handleNoPreventative(){N(this.treatment,"antihelminthic treatment")=="no"?I(this.treatment,"no preventative treatment provided","displayNone",!1):I(this.treatment,"no preventative treatment provided","displayNone",!0)},handleOther(){N(this.treatment,"no preventative treatment provided")=="other"?u(this.treatment,"Specify","displayNone",!1):u(this.treatment,"Specify","displayNone",!0)},handleMalariaPreventive(){N(this.malaria," counselling on malaria prevention")=="no"?I(this.malaria,"counselling on malaria prevention","displayNone",!1):I(this.malaria,"counselling on malaria prevention","displayNone",!0)},handleOtherMalaria(){N(this.malaria,"counselling on malaria prevention")=="other"?u(this.malaria,"other","displayNone",!1):u(this.malaria,"other","displayNone",!0)},goToPreviousSection(){this.currentSection>0&&this.currentSection--}}}),Mg={class:"container"};function Ag(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Mg,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.treatment},null,8,["contentData"])]),_:1})]),_:1}),n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.malaria},null,8,["contentData"])]),_:1})]),_:1})])}const Eg=O($g,[["render",Ag],["__scopeId","data-v-a08bbd24"]]),Vg={style:{"margin-left":"30px","margin-bottom":"14px"}},Og={style:{"margin-top":"14px"}},Tg={class:"ion-padding",slot:"content"},Fg={key:0},Hg={class:"previousSecDrgs"},Rg={class:"ion-padding",slot:"content"},Lg={key:0},xg={class:"previousSecDrgs"},Ug=B({watch:{},name:"xxxComponent"}),zg=B({...Ug,setup(e){const t=P,a=xt,s=b(!1),o=b(!1),r=b(!0),l=b(!1);b(!1);let c=null;const h=b(0),m=b(""),f=b(!1),y=b(""),D=b(!1),C=b(),E=b(!1),T=b([]),U=b(""),R=b(""),M=b(""),H=b(""),K=b(""),X=b(""),ce=b(""),se=b(!1),Q="Add  medication",de="clear",Ee=b("Show more medications"),bt=gt(),pt=Ra(),De=ze(()=>pt.selectedMedicalAllergiesList),Z=ze(()=>bt.selectedMedicalDrugsList);ze(()=>bt.nonPharmalogicalTherapyAndOtherNotes),ze(()=>bt.selectedMedicalAllergiesList),b();const ke=["first","second","third"],Qe=b(),Ot=b(),ma=b(),Tt=b(!1);b(!1),b(!1),b("Show more notes"),b("Show more allergies");const _e=b(),Se=b(),Te=b(),ct=!1,Sn="45",Pa=b("List"),Cn=b("Please select method of prescribing medication"),Na=b([{name:"Oral"},{name:"Intravenous (IV)"},{name:"Intramuscular (IM)"},{name:"Intradermal"},{name:"Rectally"},{name:"Sublingual"},{name:"Vaginally"},{name:"Buccal"},{name:"Subcutaneous"},{name:"Intraosseous"},{name:"Other"}]),mt=!1;function ft(Ce){}function Rt(Ce){}dt(async()=>{const Ce=new za,{previousDrugPrescriptions:pe,previousClinicalNotes:We,previousDrugAllergies:st}=await Ce.getPatientEncounters();Qe.value=pe,Ot.value=Object.entries(We)[0];const[,...ot]=Object.entries(We);ma.value=ot,_e.value=Object.entries(st)[0];const[,..._t]=Object.entries(st);Se.value=_t}),Je(()=>U.value,async Ce=>{Wa()}),Je(()=>R.value,async Ce=>{Ga()}),Je(()=>H.value,async Ce=>{ja()});function oa(){r.value=!r.value,s.value=!0}async function Wa(){return await Ja()?f.value=!1:(m.value="please select a valid drug name",f.value=!0),f.value}async function Ga(){return Za(R.value)?D.value=!1:(y.value="please enter a number",D.value=!0),D.value}async function ja(){return Za(H.value)?E.value=!1:(C.value="please enter a number",E.value=!0),E.value}async function wn(){const Ce=await Wa(),pe=await Ga(),We=await ja();return!Ce&&!pe&&!We}function In(Ce){a.forEach(pe=>{pe.selected=!1}),a[Ce].selected=!a[Ce].selected,M.value=a[Ce].label}async function Pn(){if(!await wn()){Xe("Please enter correct data values",4e3);return}En();const pe=Ve.getSessionDate();H.value;const We=An(pe,parseInt(H.value));let st=!1;Ya(Te.value)==!0&&(st=!0);const ot={drugName:U.value,dose:R.value,frequency:M.value,duration:H.value,prescription:We,drug_id:ce.value,units:X.value,highlightbackground:st};Z.value.push(ot),U.value="",R.value="",M.value="",H.value="",K.value="",h.value++,la()}async function Nn(Ce){const pe=Ce.target.value;Ka(Ce);const ot=await ba.getOPDDrugs({name:pe,page:1,page_size:10});ot.map(_t=>({label:_t.name,value:_t.name,other:_t})),T.value=ot}async function kn(Ce){let pe;Ce.target===void 0?pe=Ce:pe=Ce.target.value;const ot=await ba.getOPDDrugs({name:pe,page:1,page_size:10});return ot.map(_t=>({label:_t.name,value:_t.name,other:_t})),T.value=ot,ot}function Ya(Ce){const pe=[];return De.value.forEach(st=>{st.selected&&pe.push(st.concept_id)}),Bn([Ce],pe)==!0?(Xe("Client is allergic to the selected medication",4e3),!0):!1}async function Ja(){return(await kn(U.value)).length>0?U.value.length!=0:!1}function Bn(Ce,pe){return Ce.some(We=>pe.includes(We.concept_id))}function Ka(Ce){c=Ce,l.value=!0}function Qa(Ce,pe){U.value=Ce,ce.value=pe.drug_id,X.value=pe.units,Te.value=pe,Ya(pe)}function $n(){se.value=!0}function Xa(Ce){const pe=Z.value[Ce];Z.value.splice(Ce,1),U.value=pe.drugName,R.value=pe.dose,M.value=pe.frequency,H.value=pe.duration,K.value=pe.prescription,r.value=!r,h.value++,la()}function Mn(Ce){Z.value.splice(Ce,1),h.value++,la()}function la(){gt().setSelectedMedicalDrugsList(Z)}function Za(Ce){return/^[0-9]+$/.test(Ce)}function An(Ce,pe){const We=new Date(Ce);We.setDate(We.getDate()+pe);const st=We.getFullYear(),ot=String(We.getMonth()+1).padStart(2,"0"),_t=String(We.getDate()).padStart(2,"0");return"".concat(st,"-").concat(ot,"-").concat(_t)}function En(){s.value=!1,o.value=!0,r.value=!0}function Vn(Ce){}function On(Ce){ke.filter(We=>We!==Ce.detail.value);const pe=Ce.detail.value;pe!==void 0?pe=="second"&&(Ee.value="Show less medications",Tt.value=!Tt.value):(Ee.value="Show more medications",Tt.value=!Tt.value)}return(Ce,pe)=>{const We=d("ion-row"),st=d("ion-icon"),ot=d("ion-popover"),_t=d("ListPicker");return p(),A(g(x),null,{default:i(()=>[n(g(J),null,{default:i(()=>pe[7]||(pe[7]=[S("Diagnosis")])),_:1,__:[7]}),n(We,null,{default:i(()=>[n(g(V),{lines:"none",class:"medicalAl"},{default:i(()=>[n(We,null,{default:i(()=>[(p(!0),v(te,null,he(De.value,(xe,vt)=>(p(),v("div",{key:vt},[xe.selected?(p(),A(g(it),{key:0,class:"medicalAlBtn"},{default:i(()=>[S(k(xe.name),1)]),_:2},1024)):$("",!0)]))),128))]),_:1})]),_:1})]),_:1}),n(g(V),{lines:"none"},{default:i(()=>[n(g(J),null,{default:i(()=>pe[8]||(pe[8]=[S("List of medications")])),_:1,__:[8]})]),_:1}),_("div",Vg,[(p(),A(Ea,{_selectedMedicalDrugsList:Z.value,onEditItem:Xa,onRemoveItem:Mn,key:h.value},null,8,["_selectedMedicalDrugsList"])),r.value?$("",!0):(p(),A(We,{key:0,style:{"margin-bottom":"20px"}},{default:i(()=>[n(g(ye),null,{default:i(()=>[n(g(V),{class:"input_item"},{default:i(()=>[n(g(ae),{modelValue:U.value,"onUpdate:modelValue":pe[0]||(pe[0]=xe=>U.value=xe),onIonInput:Nn,fill:"outline"},null,8,["modelValue"]),n(g(J),null,{default:i(()=>[n(st,{slot:"start",icon:g(t).search,class:"selectedPatient","aria-hidden":"true"},null,8,["icon"])]),_:1})]),_:1}),_("div",null,[f.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(m.value),1)]),_:1})):$("",!0)]),f.value?$("",!0):(p(),A(ot,{key:0,"is-open":l.value,event:g(c),onDidDismiss:pe[1]||(pe[1]=xe=>l.value=!1),"keyboard-close":!1,"show-backdrop":!1,"dismiss-on-select":!0,style:{top:"10px",left:"-25px"}},{default:i(()=>[n(g(z),{color:"light",class:"ion-padding content-al"},{default:i(()=>[n(g(x),{class:"list-al"},{default:i(()=>[(p(!0),v(te,null,he(T.value,(xe,vt)=>(p(),v("div",{class:"item-al",key:vt},[n(g(ye),{onClick:Tn=>Qa(xe.name,xe)},{default:i(()=>[S(k(xe.name),1)]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["is-open","event"]))]),_:1}),n(g(ye),null,{default:i(()=>[n(_t,{style:{"margin-top":"-2%"},multiSelection:ct,uniqueId:Sn,name_of_list:Pa.value,choose_place_holder:Cn.value,use_internal_filter:!0,"items_-list":Na.value,show_label:mt,disabled:!1,onItemListUpDated:ft,onItemListFiltered:Rt},null,8,["name_of_list","choose_place_holder","items_-list"])]),_:1}),n(g(ye),null,{default:i(()=>[n(g(V),{class:"input_item"},{default:i(()=>[n(g(ae),{placeholder:"Dose",modelValue:R.value,"onUpdate:modelValue":pe[2]||(pe[2]=xe=>R.value=xe),fill:"outline"},null,8,["modelValue"]),n(g(J),null,{default:i(()=>pe[9]||(pe[9]=[_("span",{class:"selectedPatient"},null,-1)])),_:1,__:[9]})]),_:1}),_("div",null,[D.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(y.value),1)]),_:1})):$("",!0)])]),_:1}),n(g(ye),null,{default:i(()=>[n(g(V),{class:"input_item"},{default:i(()=>[_("span",{class:"spcls",id:"chooseType",onClick:$n},[n(g(ae),{placeholder:"Frequency",modelValue:M.value,"onUpdate:modelValue":pe[3]||(pe[3]=xe=>M.value=xe)},null,8,["modelValue"]),se.value?$("",!0):(p(),A(st,{key:0,icon:g(is)},null,8,["icon"])),se.value?(p(),A(st,{key:1,icon:g(os)},null,8,["icon"])):$("",!0)]),n(ot,{class:"popover-al","show-backdrop":!1,trigger:"chooseType","trigger-action":"click",onDidDismiss:pe[4]||(pe[4]=xe=>se.value=!1)},{default:i(()=>[n(g(z),{color:"light",class:"ion-padding content-al"},{default:i(()=>[n(g(J),null,{default:i(()=>pe[10]||(pe[10]=[S("Choose the type:")])),_:1,__:[10]}),n(g(x),{class:"list-al"},{default:i(()=>[(p(!0),v(te,null,he(g(a),(xe,vt)=>(p(),v("div",{class:"item-al",key:vt},[n(g(J),{onClick:Tn=>In(vt),style:{display:"flex","justify-content":"space-between"}},{default:i(()=>[S(k(xe.label)+" ",1),xe.selected?(p(),A(st,{key:0,class:"icon-al",icon:g(Eo)},null,8,["icon"])):$("",!0)]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(g(ye),null,{default:i(()=>[n(g(V),{class:"input_item"},{default:i(()=>[n(g(ae),{placeholder:"Duration",modelValue:H.value,"onUpdate:modelValue":pe[5]||(pe[5]=xe=>H.value=xe),fill:"outline"},null,8,["modelValue"]),n(g(J),null,{default:i(()=>pe[11]||(pe[11]=[_("span",{class:"selectedPatient"},null,-1)])),_:1,__:[11]})]),_:1}),_("div",null,[E.value?(p(),A(g(J),{key:0,class:"error-label"},{default:i(()=>[S(k(C.value),1)]),_:1})):$("",!0)])]),_:1}),n(g(ye),{class:"action_buttons"},{default:i(()=>[_("span",{onClick:pe[6]||(pe[6]=xe=>Pn())},"+ Save")]),_:1})]),_:1})),r.value?(p(),A(Be,{key:1,name:Q,fill:de,icon:g(Ia),"onClicked:btn":oa},null,8,["icon"])):$("",!0),_("div",Og,[n(g(Mt),{ref:"accordionGroup",class:"previousView",onIonChange:Vn},{default:i(()=>[n(g(At),{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(V),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"previousLabel"},{default:i(()=>pe[12]||(pe[12]=[S("View previous medications")])),_:1,__:[12]})]),_:1}),_("div",Tg,[(p(!0),v(te,null,he(Qe.value,(xe,vt)=>(p(),v("div",{class:"ionLbltp",key:vt},[vt==0?(p(),v("div",Fg,[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(xe.prescriptionDate),1)]),_:2},1024)]),_("div",Hg,[(p(),A(Ea,{_selectedMedicalDrugsList:xe.previousPrescriptions,show_actions_buttons:!1,key:h.value},null,8,["_selectedMedicalDrugsList"]))])])):$("",!0)]))),128)),n(g(Mt),{onIonChange:On},{default:i(()=>[n(g(At),{value:"second","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(g(V),{slot:"header",color:"light"},{default:i(()=>[n(g(J),{class:"",color:"primary"},{default:i(()=>[S(k(Ee.value),1)]),_:1})]),_:1}),_("div",Rg,[(p(!0),v(te,null,he(Qe.value,(xe,vt)=>(p(),v("div",{class:"ionLbltp",key:vt},[Tt.value&&vt>0?(p(),v("div",Lg,[_("div",null,[n(g(J),{class:"previousLabelDate"},{default:i(()=>[S(k(xe.prescriptionDate),1)]),_:2},1024)]),_("div",xg,[(p(),A(Ea,{_selectedMedicalDrugsList:xe.previousPrescriptions,show_actions_buttons:!1,key:h.value},null,8,["_selectedMedicalDrugsList"]))])])):$("",!0)]))),128))])]),_:1})]),_:1})])]),_:1})]),_:1},512)])])]),_:1})}}}),qg=O(zg,[["__scopeId","data-v-9c537322"]]),oi=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"What is the discharge status of the woman?",selectedValue:"",class:"bold",name:"Discharge status of woman",displayNext:"Discharged alive"},data:[{name:"Discharged alive",value:"Discharged alive",colSize:"5"},{name:"Absconded",value:"Absconded",colSize:"5"},{name:"Referred out",value:"Referred out",colSize:"5"},{name:"Death",value:"Death",colSize:"5"}]}},{childName:"Discharge status of woman",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Other mode of delivery notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Discharge status of woman",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Postpartum family planning counselling done?",selectedValue:"",name:"Postpartum family planning counselling",class:"bold",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Discharge status of woman",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Postpartum family planning methods provided?",selectedValue:"",name:"Postpartum family planning methods provided",class:"bold",displayNone:!0,displayNext:"Yes"},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Postpartum family planning methods provided",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Select the method provided",selectedValue:"",name:"Postpartum family planning method",class:"bold",displayNone:!0},data:[{name:"IUCD",value:"IUCD",colSize:"3"},{name:"BTL",value:"BTL",colSize:"3"}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Facility for ART",icon:P.search,value:"",name:"facility for art",popOver:!0,valueType:"text",eventType:"input",required:!0,alertsErrorMassage:"",placeholder:"Search for facility",popOverData:{filterData:!1,data:[]},id:"",idName:"facility_id",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Date of Referral*",value:"",name:"Date of referral",icon:P.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Referral*",value:"",name:"Time of referral",icon:P.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Reason for Referral (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Woman's Condition on Referral",value:"",name:"condition on referral",required:!0,valueType:"text",eventType:"input",alertsErrorMassage:"",placeholder:"Describe condition on referral",style:{padding:"10px",borderBottom:"1px solid #ccc"}}]}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{inputHeader:"Date of Death*",value:"",name:"Date of Death",icon:P.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Death*",value:"",name:"Time of Death",icon:P.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Cause of death (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]}]}}],li=qe("dischargeWomanStore",{state:()=>({dischargeWoman:[...oi]}),actions:{setDischargeWoman(e){this.dischargeWoman=e},getInitial(){return[...$e.cloneDeep(oi)]}}}),Wg=B({name:"DeliveryDetails",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],facilityData:[]}},computed:{...w(li,["dischargeWoman"])},mounted(){const e=li();this.initialData=e.getInitial(),this.handleSelection()},watch:{dischargeWoman:{handler(e){this.handleSelection(),this.handleInputData(e)},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{validationRules(e){return Pt(this.dischargeWoman,e.name,this[e.name])},async handleInputData(e){this.validationRules(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),u(this.dischargeWoman,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Jt.getFacilities({name:e})},handleSelection(){N(this.dischargeWoman,"Discharge status of woman")=="Referred out"?u(this.dischargeWoman,"facility for art","displayNone",!1):u(this.dischargeWoman,"facility for art","displayNone",!0),N(this.dischargeWoman,"Discharge status of woman")=="Death"?u(this.dischargeWoman,"Date of Death","displayNone",!1):u(this.dischargeWoman,"Date of Death","displayNone",!0)}}}),Gg={class:"container"};function jg(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Gg,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.dischargeWoman,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const Yg=O(Wg,[["render",jg],["__scopeId","data-v-c08e611c"]]),ri=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Reason for ending PNC?",selectedValue:"",name:"Reason for ending PNC",class:"bold"},data:[{name:"Refer",value:"Refer",colSize:"8"},{name:"Discharge home",value:"Discharge home",colSize:"8"},{name:"Death",value:"Death",colSize:"8"},{name:"Lost",value:"Lost",colSize:"8"}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Facility for ART",icon:P.search,value:"",name:"facility for art",popOver:!0,valueType:"text",eventType:"input",required:!0,alertsErrorMassage:"",placeholder:"Search for facility",popOverData:{filterData:!1,data:[]},id:"",idName:"facility_id",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Date of Referral*",value:"",name:"Date of referral",icon:P.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Referral*",value:"",name:"Time of referral",icon:P.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Reason for Referral (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]},{colData:[{inputHeader:"Woman's Condition on Referral",value:"",name:"condition on referral",required:!0,valueType:"text",eventType:"input",alertsErrorMassage:"",placeholder:"Describe condition on referral",style:{padding:"10px",borderBottom:"1px solid #ccc"}}]}]}},{sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{inputHeader:"Date of Death*",value:"",name:"Date of Death",icon:P.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date",style:{width:"48%",marginRight:"4%"}},{inputHeader:"Time of Death*",value:"",name:"Time of Death",icon:P.timePicker,required:!0,valueType:"text",eventType:"input",isTimePopover:!0,alertsErrorMassage:"",placeholder:"Pick time",style:{width:"48%"}}]},{colData:[{inputHeader:"Cause of death (Free text)",value:"",name:"reason for referral",required:!0,valueType:"text",eventType:"input",isTextArea:!0,alertsErrorMassage:"",placeholder:"Enter reason for referral",style:{marginBottom:"15px",padding:"10px",borderBottom:"1px solid #ccc"}}]}]}}],di=qe("pncEndStore",{state:()=>({pncEnd:[...ri]}),actions:{setPNCend(e){this.pncEnd=e},getInitial(){return[...$e.cloneDeep(ri)]}}}),Jg=B({name:"PNCEnd",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(di,["pncEnd"])},mounted(){const e=di();this.initialData=e.getInitial(),this.handleSelection()},watch:{pncEnd:{handler(e){this.handleSelection()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleSelection(){N(this.pncEnd,"Reason for ending PNC")=="Refer"?u(this.pncEnd,"facility for art","displayNone",!1):u(this.pncEnd,"facility for art","displayNone",!0),N(this.pncEnd,"Reason for ending PNC")=="Death"?u(this.pncEnd,"Date of Death","displayNone",!1):u(this.pncEnd,"Date of Death","displayNone",!0)}}}),Kg={class:"container"};function Qg(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Kg,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.pncEnd,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Xg=O(Jg,[["render",Qg],["__scopeId","data-v-d88152a7"]]);function Zg(e,t,a){var r,l,c,h;const s={"Birth weight":()=>Ba(t,a),"Current weight":()=>Ba(t,a),"Full name of the baby":()=>Ba(t,a),"Date BCG given":()=>Ba(t,a),"Respiratory rate":()=>Ba(t,a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),L(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),L(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function Ba(e,t){if(e==="Systolic blood pressure"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,20,140);if(o!==null)return o}else if(e==="Diastolic blood pressure"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,20,90);if(o!==null)return o}else if(e==="Pulse"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,50,200);if(o!==null)return o}else if(e==="Temperature"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,35,42);if(o!==null)return o}else if(e==="Respiratory rate"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,12,16);if(o!==null)return o}else return null;return null}const ey=B({name:"BabyStatus",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],initialData1:[]}},computed:{...w(tn,["babyStatusDetails"]),...w(tn,["dangerSigns"]),"Birth weight"(){return oe(this.babyStatusDetails,"Birth weight","value")}},mounted(){const e=tn(),t=tn();this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.validateRowData({})},watch:{},setup(){return{checkmark:ie,pulseOutline:le}},methods:{validationRules(e){return Zg(this.babyStatusDetails,e.name,this[e.name])},async handleInputData(e){this.validateRowData(e)},validateRowData(e){this.validationRules(e)}}}),ty={class:"container"};function ay(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",ty,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.babyStatusDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const ny=O(ey,[["render",ay],["__scopeId","data-v-906f94af"]]),sy=B({name:"DeliveryDetails",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(ha,["dangerSigns"])},mounted(){const e=ha();this.initialData=e.getInitial(),this.handleDangerSigns()},watch:{dangerSigns:{handler(){this.handleDangerSigns()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleDangerSigns(){var t;const e=["Bleeding vaginally","Central cyanosis","Preterm labour","Severe vomiting","Fever","Visual disturbance","Severe abdominal pain","Unconscious","Other danger signs"];(t=ue(this.dangerSigns,"No danger signs"))!=null&&t.checked?e.forEach(a=>{L(this.dangerSigns,a,"checked",!1),L(this.dangerSigns,a,"disabled",!0)}):e.forEach(a=>{L(this.dangerSigns,a,"disabled",!1)})}}}),iy={class:"container"};function oy(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",iy,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.dangerSigns,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const ly=O(sy,[["render",oy],["__scopeId","data-v-b3265856"]]);function ry(e,t,a){var r,l,c,h;const s={"Systolic blood pressure":()=>$a(t,a),"Diastolic blood pressure":()=>$a(t,a),Pulse:()=>$a(t,a),Temperature:()=>$a(t,a),"Respiratory rate":()=>$a(t,a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),L(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),L(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function $a(e,t){if(e==="Systolic blood pressure"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,20,140);if(o!==null)return o}else if(e==="Diastolic blood pressure"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,20,90);if(o!==null)return o}else if(e==="Pulse"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,50,200);if(o!==null)return o}else if(e==="Temperature"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,35,42);if(o!==null)return o}else if(e==="Respiratory rate"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,12,16);if(o!==null)return o}else return null;return null}const dy=B({name:"DeliveryDetails",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",BMI:{},BPStatus:{},hasValidationErrors:[],vitalsInstance:{},inputField:"",initialData:[]}},computed:{...w(ha,["vitals"]),...w(Ne,["patient"]),"Systolic blood pressure"(){return oe(this.vitals,"Systolic blood pressure","value")},"Diastolic blood pressure"(){return oe(this.vitals,"Diastolic blood pressure","value")},Pulse(){return oe(this.vitals,"Pulse","value")},Temperature(){return oe(this.vitals,"Temperature","value")},"Respiratory rate"(){return oe(this.vitals,"Respiratory rate","value")}},mounted(){const e=ha();this.initialData=e.getInitial1(),this.validateRowData({})},watch:{},setup(){return{checkmark:ie,pulseOutline:le}},methods:{validationRules(e){return ry(this.vitals,e.name,this[e.name])},async handleInputData(e){await this.validateRowData(e)},updateVitalsStores(){cn().setVitals(this.vitals)},async validateRowData(e){this.validationRules(e)},async setBMI(e,t){var a,s,o,r,l,c,h,m;(s=(a=this.patient)==null?void 0:a.personInformation)!=null&&s.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&(this.BMI=await qt.getBMI(parseInt(e),parseInt(t),(c=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:c.gender,ne.calculateAge((m=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:m.birthdate,ne.sessionDate()))),this.updateBMI()},async updateBMI(){var a,s,o,r,l,c;const e=(s=(a=this.BMI)==null?void 0:a.color)!=null?s:[],t=this.vitals[0].alerts[0];t.icon=qt.iconBMI(e),t.backgroundColor=e[0],t.textColor=e[1],t.index=(r=(o=this.BMI)==null?void 0:o.index)!=null?r:"",t.value=(c=(l=this.BMI)==null?void 0:l.result)!=null?c:""},async updateBP(e,t){var o,r,l,c;const a=this.vitals[1].alerts[0],s=(r=(o=this.BPStatus)==null?void 0:o.colors)!=null?r:[];a.icon=Dn(s),a.backgroundColor=s[0],a.textColor=s[1],a.index=e+"/"+t,a.value=(c=(l=this.BPStatus)==null?void 0:l.value)!=null?c:""},getBloodPressureStatus(e,t){if(t&&e){if(parseInt(t)>=30&&parseInt(t)<=60&&parseInt(e)>=40&&parseInt(e)<=90)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low"};if(parseInt(t)>=60&&parseInt(t)<=80&&parseInt(e)>=90&&parseInt(e)<=120)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal"};if(parseInt(t)>=80&&parseInt(t)<=90&&parseInt(e)>=120&&parseInt(e)<=140){let a="Pre-high blood pressure";return parseInt(t)>=85&&parseInt(t)<=89&&parseInt(e)>=130&&parseInt(e)<=139&&(a="Pre-high blood pressure (Class: Borderline)"),{colors:["#FEDF89","#B54708","#FED667"],value:a}}else if(parseInt(t)>=90&&parseInt(t)<=109&&parseInt(e)>=140&&parseInt(e)<=190){let a="High blood pressure";return parseInt(t)>=90&&parseInt(t)<=99&&parseInt(e)>=140&&parseInt(e)<=159&&(a="High blood pressure (Class: Mild/ I)"),parseInt(t)>=100&&parseInt(t)<=109&&parseInt(e)>=160&&parseInt(e)<=179&&(a="High blood pressure (Class: Moderate/ II)"),{colors:["#FECDCA","#B42318","#FDA19B"],value:a}}else return parseInt(t)>=110&&parseInt(t)<=200&&parseInt(e)>=180&&parseInt(e)<=250?{colors:["#FECDCA","#B42318","#FDA19B"],value:"The patient has hypertension (Class: Severe/ III)"}:(Xe("Invalid BP values",4e3),this.hasValidationErrors.push("false"),{})}else return{colors:[],value:""}}}}),cy={class:"container"};function uy(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",cy,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.vitals,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const hy=O(dy,[["render",uy],["__scopeId","data-v-c1307173"]]),py=B({name:"DeliveryDetails",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(ha,["otherExams"])},mounted(){const e=ha();this.initialData=e.getInitial2(),this.handleOtherExaminations()},watch:{otherExams:{handler(){this.handleOtherExaminations()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleOtherExaminations(){N(this.otherExams,"Status of uterus")=="Sub-involuted"?I(this.otherExams,"Intervention given","displayNone",!1):(I(this.otherExams,"Intervention given","displayNone",!0),I(this.otherExams,"Intervention given","selectedValue",""))}}}),my={class:"container"};function fy(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",my,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.otherExams,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const _y=O(py,[["render",fy],["__scopeId","data-v-ed6335d4"]]),vy=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Vt,SelectionPopover:Et,BasicInputField:ee,BasicForm:G,List:wt,DynamicButton:Be,labOrderResults:qa,DangerSigns:ly,Vitals:hy,OtherExaminations:_y},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1}},mounted(){this.handleLochia(),this.handleEpisiotomy()},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(ha,["otherExams"]),...w(yt,["investigations"]),...w(Ne,["patient"]),inputFields(){return this.investigations[0].data.rowData[0].colData}},watch:{investigations:{handler(){},deep:!0},otherExams:{handler(){this.handleLochia(),this.handleEpisiotomy()},deep:!0}},methods:{handleLochia(){var e;((e=ue(this.otherExams,"Other status"))==null?void 0:e.value)=="Other status"?u(this.otherExams,"Status of lochia notes","displayNone",!1):u(this.otherExams,"Status of lochia notes","displayNone",!0)},handleEpisiotomy(){N(this.otherExams,"Episiotomy/tear")=="No"?u(this.otherExams,"Episiotomy Reason","displayNone",!1):u(this.otherExams,"Episiotomy Reason","displayNone",!0)}}}),gy={class:"ion-padding",slot:"content"},yy={class:"ion-padding",slot:"content"},by={class:"ion-padding",slot:"content"};function Dy(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("DangerSigns"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("Vitals"),D=d("OtherExaminations"),C=d("ion-row");return p(),A(C,null,{default:i(()=>[n(f,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Danger signs")])),_:1,__:[0]})]),_:1}),_("div",gy,[n(h)])]),_:1})]),_:1},512),n(f,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[S("Vitals")])),_:1,__:[1]})]),_:1}),_("div",yy,[n(y)])]),_:1})]),_:1},512),n(f,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[2]||(t[2]=[S("Other examinations")])),_:1,__:[2]})]),_:1}),_("div",by,[n(D)])]),_:1})]),_:1},512)]),_:1})}const Sy=O(vy,[["render",Dy],["__scopeId","data-v-bceb0788"]]),Cy=B({name:"BabyModal",components:{DynamicButton:Be,IonModal:pa,IonHeader:q,IonToolbar:W,IonTitle:j,IonButtons:Sa,IonButton:it,IonContent:z,IonIcon:rt,BasicForm:G},data(){return{initialData:[]}},props:{isOpen:{type:Boolean,required:!0,default:!1},closeModalFunc:{type:Function,required:!0},onYes:{type:Function,required:!0},onNo:{type:Function,required:!0},title:{type:String,required:!0}},computed:{...w(ua,["babyDetails"]),...w(ua,["deliveryDetails"])},watch:{secondStageDetails:{async handler(){this.handleChangeDisplay()},deep:!0},babyDetails:{handler(){this.handleChangeDisplay();const e=["Prematurity","Sepsis","Congenital abnormalities","Asphyxia","Other complications","Low birthweight"],t=["Kangaroo mother care","Antibiotics","Other"];this.handleNone(e,"None"),this.handleNone(t,"Nothing"),this.handleCongenitalCheck(),this.handleAsphyxia()},deep:!0}},methods:{async handleInputData(e){},closeOutline(){return sa},closeModal(){this.closeModalFunc()},confirm(){this.onYes(),this.babyDetails=[],this.closeModal()},onNo(){this.babyDetails=[],this.closeModal()},handleChangeDisplay(){const e=N(this.deliveryDetails,"Baby general condition at birth");this.babyDetailsDisplayNone(e=="Macerated stillbirth"||e=="Fresh stillbirth")},getFieldDisplayNone(e){var a,s;const t=this.babyDetails.find(o=>o.childName===e);return((s=(a=t==null?void 0:t.radioBtnContent)==null?void 0:a.header)==null?void 0:s.displayNone)||!0},babyDetailsDisplayNone(e){u(this.babyDetails,"First name","displayNone",e),u(this.babyDetails,"Last name","displayNone",e),u(this.babyDetails,"Apgar score at 1 minute","displayNone",e),u(this.babyDetails,"Apgar score at 5 minute","displayNone",e)},handleNone(e,t){var a;(a=ue(this.babyDetails,t))!=null&&a.checked?(console.log("this is checked: "),e.forEach(s=>{L(this.babyDetails,s,"checked",!1),L(this.babyDetails,s,"disabled",!0)})):e.forEach(s=>{L(this.babyDetails,s,"disabled",!1)})},handleAsphyxia(){var t;if((t=ue(this.babyDetails,"Asphyxia"))==null?void 0:t.checked){console.log("Asphyxia selected"),I(this.babyDetails,"Resuscitation attempt","displayNone",!1);const a=N(this.babyDetails,"Resuscitation attempt");I(this.babyDetails,"Type of resuscitation","displayNone",a!=="Yes")}else u(this.babyDetails,"Resuscitation attempt","displayNone",!0),u(this.babyDetails,"Type of resuscitation","displayNone",!0)},handleCongenitalCheck(){var t;const e=(t=ue(this.babyDetails,"Congenital abnormalities"))==null?void 0:t.checked;u(this.babyDetails,"Specify","displayNone",!e)}}}),wy={key:0},Iy={key:1},Py={style:{display:"flex"}};function Ny(e,t,a,s,o,r){const l=d("ion-title"),c=d("basic-form"),h=d("DynamicButton"),m=d("ion-content"),f=d("ion-modal");return p(),A(f,{"is-open":e.isOpen,"show-backdrop":!0,onDidDismiss:e.closeModal},{default:i(()=>[n(m,null,{default:i(()=>[n(l,{style:{color:"black"}},{default:i(()=>[S(k(e.title),1)]),_:1}),n(c,{contentData:e.babyDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),e.getFieldDisplayNone("Resuscitation attempt")?$("",!0):(p(),v("div",wy,[n(c,{contentData:e.babyDetails,section:"Resuscitation attempt","onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])])),e.getFieldDisplayNone("Type of resuscitation")?$("",!0):(p(),v("div",Iy,[n(c,{contentData:e.babyDetails,section:"Type of resuscitation","onUpdate:selected":e.handleInputData},null,8,["contentData","onUpdate:selected"])])),_("div",Py,[n(h,{expand:"block",onClick:t[0]||(t[0]=y=>e.confirm()),name:"Save",style:"flex:1"}),n(h,{expand:"block",onClick:t[1]||(t[1]=y=>e.onNo()),style:"flex:1",name:"Cancel",fill:"clear"})])]),_:1})]),_:1},8,["is-open","onDidDismiss"])}const ky=O(Cy,[["render",Ny],["__scopeId","data-v-c87fd073"]]);function ho(e,t,a){var r,l,c,h;const s={Gravida:()=>_a(t,a),Parity:()=>_a(t,a),"Number of babies":()=>_a(t,a),"Date of delivery":()=>F.required(a),"First name":()=>F.required(a),"Last name":()=>F.required(a),Weight:()=>_a(t,a),Height:()=>_a(t,a),"Apgar score at 5 minutes":()=>_a(t,a)},o=((r=s[t])==null?void 0:r.call(s))==null;return u(e,t,"alertsErrorMassage",!o),I(e,t,"alertsErrorMassage",!o),L(e,t,"alertsErrorMassage",!o),o||(u(e,t,"alertsErrorMassage",(l=s[t])==null?void 0:l.call(s)),I(e,t,"alertsErrorMassage",(c=s[t])==null?void 0:c.call(s)),L(e,t,"alertsErrorMassage",(h=s[t])==null?void 0:h.call(s))),o}function _a(e,t){if(e==="Gravida"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,1,15);if(o!==null)return o}else if(e==="Parity"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,15);if(o!==null)return o}else if(e==="Number of babies"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,5);if(o!==null)return o}else if(e==="Weight"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,900,7e3);if(o!==null)return o}else if(e==="Height"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,30,100);if(o!==null)return o}else if(e==="Apgar score at 5 minutes"){const a=F.required(t);if(a!==null)return a;const s=F.isWholeNumber(t);if(s!==null)return s;const o=F.checkMinMax(t,0,10);if(o!==null)return o}else return null;return null}const By=B({name:"DeliveryDetails",components:{IonCard:jt,IonCardHeader:wa,IonCardTitle:gn,IonCardContent:Ca,IonItem:V,IonButton:it,BasicForm:G,BabyModal:ky},data(){return{initialData:[],arrayOfBabies:[],babyModalOpen:!1,selectedBaby:0,babiesDetails:[],showSection:!1}},computed:{deliveryDetails(){return ua().deliveryDetails}},mounted(){this.initialData=ua().getInitial(),this.handleDeliveryDetails(),this.handlePastProblems()},watch:{deliveryDetails:{handler(){this.handleDeliveryDetails(),this.handlePastProblems(),this.handleNumberOfBabies(),this.handleSelectedStillBirth()},deep:!0}},methods:{handleNumberOfBabies(){const e=oe(this.deliveryDetails,"Number of babies","value");this.arrayOfBabies=[...Array(Number(e)).keys()]},closeBabyModal(){this.babyModalOpen=!1},handleSelectedStillBirth(){const e=N(this.deliveryDetails,"Baby general condition at birth");if(e==="Macerated stillbirth"||e==="Fresh stillbirth"){this.showSection=!1,this.babyDetailsDisplayNone(!0);return}this.babyDetailsDisplayNone(!1),this.showSection=!0},selectBaby(e){this.selectedBaby=e;const t=this.babiesDetails.find(s=>s.baby==e);ua().setBabyDetails((t==null?void 0:t.details)||[]),this.toggleBabyModal()},checkIfSubmitted(e){return!!this.babiesDetails.find(t=>t.baby==e)},handleBabyYes(){this.toggleBabyModal();const e=ua(),t=this.babiesDetails.findIndex(a=>a.baby==this.selectedBaby);t<0?this.babiesDetails.push({baby:this.selectedBaby,details:[...e.babyDetails]}):this.babiesDetails[t].details=[...e.babyDetails],e.setBabyDetails()},handleBabyNo(){this.toggleBabyModal(),ua().setBabyDetails([])},toggleBabyModal(){this.babyModalOpen=!this.babyModalOpen},handleAddBabyDetails(e){this.selectedBaby=e,this.toggleBabyModal()},babyDetailsDisplayNone(e){I(this.babiesDetails,"First name","displayNone",e),I(this.babiesDetails,"Last name","displayNone",e)},handlePastProblems(){const e=["Prematurity","Sepsis","Congenital abnormalities","Asphyxia","Other complications"],t=N(this.deliveryDetails,"None");e.forEach(a=>{L(this.deliveryDetails,a,"disabled",!!(t!=null&&t.checked))})},handleDeliveryDetails(){const e=N(this.deliveryDetails,"Outcome of the delivery"),t=N(this.deliveryDetails,"Was resuscitation attempted?");e==="Stillbirths"?I(this.deliveryDetails,"Type of still birth","displayNone",!1):(I(this.deliveryDetails,"Type of still birth","displayNone",!0),I(this.deliveryDetails,"Type of still birth","selectedValue","")),t==="Yes"?I(this.deliveryDetails,"Type of resuscitation","displayNone",!0):(I(this.deliveryDetails,"Type of resuscitation","displayNone",!0),I(this.deliveryDetails,"Type of resuscitation","selectedValue",""))},validationRules(e){return ho(this.deliveryDetails,e.name,e.name)},async handleInputData(e){this.validationRules(e)}}}),$y={class:"container"},My={key:0};function Ay(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("BabyModal"),f=d("ion-button"),y=d("ion-card-content"),D=d("ion-card");return p(),v("div",$y,[n(D,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Delivery Details")])),_:1,__:[0]})]),_:1}),n(y,null,{default:i(()=>[n(h,{contentData:e.deliveryDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),n(m,{closeModalFunc:e.closeBabyModal,onYes:e.handleBabyYes,onNo:e.handleBabyNo,isOpen:e.babyModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfBabies.length>0?(p(),v("div",My,[(p(!0),v(te,null,he(e.arrayOfBabies,C=>(p(),v("div",{key:C},[e.checkIfSubmitted(C)?$("",!0):(p(),A(f,{key:0,onClick:E=>e.handleAddBabyDetails(C)},{default:i(()=>[S(" Add Baby "+k(C+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(C)?(p(),A(f,{key:1,onClick:E=>e.selectBaby(C)},{default:i(()=>[S(" View Baby "+k(C+1),1)]),_:2},1032,["onClick"])):$("",!0)]))),128))])):$("",!0)]),_:1})]),_:1})])}const Ey=O(By,[["render",Ay],["__scopeId","data-v-a769e5ef"]]),Vy=B({name:"HIVStatusAndTreatment",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(Ts,["hivStatusAndTreatment"])},mounted(){const e=Ts();this.initialData=e.getInitial(),this.handleHIV(),this.handleArtNumber()},watch:{hivStatusAndTreatment:{handler(){this.handleHIV(),this.handleArtNumber()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleHIV(){N(this.hivStatusAndTreatment,"Mother HIV Status")=="positive"?I(this.hivStatusAndTreatment,"ART treatment","displayNone",!1):I(this.hivStatusAndTreatment,"ART treatment","displayNone",!0)},handleArtNumber(){N(this.hivStatusAndTreatment,"ART treatment")=="yes"?u(this.hivStatusAndTreatment,"ART Number","displayNone",!1):u(this.hivStatusAndTreatment,"ART Number","displayNone",!0)}}}),Oy={class:"container"};function Ty(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Oy,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.hivStatusAndTreatment,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Fy=O(Vy,[["render",Ty],["__scopeId","data-v-6aa30269"]]),Hy=B({name:"ObstetricDetails",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(Fs,["obstetricDetails"]),Parity(){return oe(this.obstetricDetails,"Parity","value")},Gravida(){return oe(this.obstetricDetails,"Gravida","value")}},mounted(){const e=Fs();this.initialData=e.getInitial(),this.validateRowData({})},watch:{},setup(){return{checkmark:ie,pulseOutline:le}},methods:{validationRules(e){return ho(this.obstetricDetails,e.name,this[e.name])},async handleInputData(e){this.validateRowData(e)},validateRowData(e){this.validationRules(e)}}}),Ry={class:"container"};function Ly(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Ry,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.obstetricDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const xy=O(Hy,[["render",Ly],["__scopeId","data-v-793db442"]]),ci=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"What is the status of the mother?",selectedValue:"",name:"Status of the mother",class:"bold",displayNext:"Alive"},data:[{name:"Alive",value:"Alive",colSize:"4"},{name:"Dead",value:"Dead",colSize:"4"}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Is the postnatal check within?",selectedValue:"",class:"bold",name:"Postnatal check period",displayNone:!0},data:[{name:"Up to 48 hrs or before discharge",value:"up to 48 hrs or before discharge",colSize:"7"},{name:"3-7 days",value:"3-7 days",colSize:"7"},{name:"8-42 days",value:"8-42 days",colSize:"7"}]}},{childName:"Status of the mother",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have any of the danger signs?",selectedValue:"",name:"Danger signs",class:"bold",displayNone:!0},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Sepsis",value:"sepsis",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of the mother",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Anemia",value:"anemia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Postpartum hemorrhage",value:"postpartum hemorrhage",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of the mother",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Severe pre-eclampsia",value:"severe pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Pre-eclampsia",value:"pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of the mother",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Breast engorgement",value:"breast engorgement",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Other danger signs",value:"Other danger signs",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Other danger signs",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Other danger signs notes",required:!0,eventType:"input",inputWidth:"85%"}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Status of uterus",selectedValue:"",class:"bold",name:"Status of Uterus",displayNext:"Other status",displayNone:!0},data:[{name:"Involuted",value:"involuted",colSize:"4"},{name:"Sub-involuted",value:"sub-involuted",colSize:"4"},{name:"Other status",value:"Other status",colSize:"5"}]}},{childName:"Status of Uterus",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Status of uterus notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],childName:"Status of uterus",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was the intervention given?",selectedValue:"",name:"Intervention on uterus problem",class:"bold",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{isFinishBtn:!1,sectionHeader:"",childName:"Intervention on uterus problem",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention given?",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Intervention provided notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Status of lochia",selectedValue:"",class:"bold",name:"Status of lochia",displayNext:"Other status",displayNone:!0},data:[{name:"Mild",value:"mild",colSize:"4"},{name:"Moderate",value:"moderate",colSize:"4"},{name:"Heavy",value:"heavy",colSize:"4"},{name:"Offensive smell",value:"offensive smell",colSize:"4"},{name:"Other status",value:"Other status",colSize:"4"}]}},{isFinishBtn:!1,ChildName:"Status of lochia",sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Status of lochia notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was the intervention given?",selectedValue:"",name:"Intervention on lochia",class:"bold",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{isFinishBtn:!1,childName:"Intervention on lochia",sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention given?",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Intervention on lochia notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of the mother",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Episiotomy/tear present?",selectedValue:"",class:"bold",name:"Episiotomy/tear",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{selectdData:[],childName:"Episiotomy/tear",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Condition of episiotomy/tear?",selectedValue:"",name:"Condition of episiotomy/tear",class:"bold",displayNone:!0},data:[{name:"Intact",value:"intact",colSize:"4"},{name:"Gaped",value:"gaped",colSize:"4"},{name:"Infected",value:"infected",colSize:"4"},{name:"Infected and gaped",value:"infected and gaped",colSize:"4"}]}},{childName:"Episiotomy/tear",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was the intervention given?",selectedValue:"",class:"bold",name:"Intervention on condition of episiotomy/tear",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Intervention on condition of episiotomy/tear",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention given?",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Other notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],isFinishBtn:!1,childName:"Status of the mother",classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Counselling on family planning done?",selectedValue:"",name:"Counselling on family planning",class:"bold",displayNone:!0,displayNext:"Yes"},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{selectdData:[],isFinishBtn:!1,childName:"Counselling on family planning",classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Postpartum family planning method chosen",selectedValue:"",name:"Postpartum family planning method",class:"bold",displayNone:!0},data:[{name:"Intrauterine contraceptive device",value:"IUCD",colSize:"4"},{name:"Bilateral tubal ligation",value:"BTL",colSize:"4"},{name:"Oral contraception",value:"Oral contraception",colSize:"4"},{name:"Injectable contraceptives",value:"Injectable contraceptives",colSize:"4"},{name:"Contraceptive implant",value:"Contraceptive implant",colSize:"4"},{name:"Intrauterine device (IUD)",value:"Intrauterine device (IUD)",colSize:"4"},{name:"Implants",value:"Implants",colSize:"4"},{name:"iucd-hormonal",value:"iucd-hormonal",colSize:"4"},{name:"iucd-cooper t",value:"iucd-cooper t",colSize:"4"},{name:"None",value:"none",colSize:"4"}]}},{selectdData:[],childName:"Status of the mother",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Breast feeding?",selectedValue:"",name:"Breast feeding",class:"bold",displayNone:!0},data:[{name:"Breastfed exclusively",value:"Breastfed exclusively",colSize:"4"},{name:"Non exclusive",value:"Non exclusive",colSize:"4"},{name:"Not breastfeeding",value:"Not breastfeeding",colSize:"5"}]}}],ui=qe("visitForMotherStore",{state:()=>({visitForMother:[...ci]}),actions:{setPNCVisitForMother(e){this.visitForMother=e},getInitial(){return[...$e.cloneDeep(ci)]}}}),Uy=B({name:"VisitForBaby",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(ui,["visitForMother"])},mounted(){const e=ui();this.initialData=e.getInitial()},watch:{},setup(){return{checkmark:ie,pulseOutline:le}},methods:{}}),zy={class:"container"};function qy(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",zy,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.visitForMother,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Wy=O(Uy,[["render",qy],["__scopeId","data-v-dc0dcbc7"]]),hi=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"What is the status of the baby?",selectedValue:"",name:"Status of baby",displayNext:"Alive",class:"bold",displayNone:""},data:[{name:"Alive",value:"Alive",colSize:"4"},{name:"Dead",value:"Dead",colSize:"4"}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Current weight",unit:"kg",icon:P.weight,value:"",valueType:"text",name:"Current weight",required:!0,eventType:"input",inputWidth:""},{displayNone:!0,inputHeader:"Current Temperature",unit:"C",icon:P.temprature,value:"",name:"Temperature",eventType:"input"}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Respiratory rate",unit:"BMP",icon:P.respiratory,value:"",name:"Respiratory Rate",eventType:"input",alertsErrorMassage:""},{displayNone:!0,inputHeader:"Heart rate",unit:"BMP",icon:P.pulse,value:"",name:"Heart Rate",eventType:"input",alertsErrorMassage:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Oxygen Saturation Rate",unit:"%",icon:P.oxgenStaturation,value:"",name:"Oxygen Saturation Rate",eventType:"input",alertsErrorMassage:""}]}]}},{childName:"Status of baby",selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Is the postnatal visit within",selectedValue:"",name:"Postnatal visit period",class:"bold",displayNone:!0},data:[{name:"Up to 48 hrs or before discharge",value:"Up to 48 hrs or before discharge",colSize:"7"},{name:"3-7 days",value:"3-7 days",colSize:"7"},{name:"8-42 days",value:"8-42 days",colSize:"7"}]}},{childName:"Status of baby",selectdData:[],classDash:"dashed_bottom_border _padding",checkboxBtnContent:{header:{title:"Has the baby received the following immunisations?",selectedValue:"",name:"Type of immunisation the baby received",displayNext:"",class:"bold",displayNone:!0},data:[{name:"BCG",value:"BCG",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Polio",value:"Polio",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"BCG",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Date BCG given",unit:"",icon:P.calenderPrimary,value:"",valueType:"text",name:"Date BCG given",required:!0,eventType:"input",datePopover:!0,inputWidth:"",placeholder:"Pick holder",isDatePopover:!0}]}]}},{childName:"Polio",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Date polio given",unit:"",icon:P.calenderPrimary,value:"",valueType:"text",name:"Date polio given",required:!0,eventType:"input",datePopover:!0,inputWidth:"",placeholder:"Pick holder",isDatePopover:!0}]}]}},{childName:"Status of baby",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Danger signs for the child",selectedValue:"",name:"Danger signs",class:"bold",displayNone:!0},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Not able to feed",value:"not able to feed",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Fever (>37.5C)",value:"fever",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Hypothermia",value:"Hypothermia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Convulsions",value:"convulsions",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Lethargic",value:"lethargic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Chest in-drawing",value:"chest in-drawing",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Fast breathing",value:"fast breathing",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Eye discharge",value:"Eye discharge",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Signs of cord infection",value:"Signs of cord infection",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Jaundice",value:"jaundice",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Skin rashes",value:"skin rashes",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Status of baby",classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Danger signs",displayNone:!0},data:[{name:"Other danger signs",value:"Other danger signs",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Other danger signs",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Other danger signs notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],childName:"Status of baby",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Was an intervention given?",selectedValue:"",name:"Intervention on danger signs",class:"bold",displayNext:"Yes",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Intervention on danger signs",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Describe the intervention",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Intervention on danger signs notes",required:!0,eventType:"input",inputWidth:""}]}]}},{selectdData:[],childName:"Status of baby",isFinishBtn:!1,classDash:"dashed_bottom_border _padding",radioBtnContent:{header:{title:"Has the baby started nevirapine?",selectedValue:"",name:"Nevirapine started",class:"bold",displayNext:"No",displayNone:!0},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"No",colSize:"2.5"}]}},{childName:"Nevirapine started",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Why the baby is not on neverapine?",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Neverapine not started notes",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Date of Death",unit:"",icon:P.calenderPrimary,required:!0,valueType:"text",eventType:"input",isDatePopover:!0,alertsErrorMassage:"",placeholder:"Pick date"},{displayNone:!0,inputHeader:"Time of Death",unit:"",icon:P.timePicker,value:"",valueType:"time",name:"Time of Death",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Cause of Death",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Cause of Death",required:!0,eventType:"input",inputWidth:""},{displayNone:!0,inputHeader:"Colour of the Skin",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Colour of the Skin",required:!0,eventType:"input",inputWidth:""}]}]}},{childName:"Status of baby",isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Condition of the Umbilical Cord",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Condition of the Umbilical Cord",required:!0,eventType:"input",inputWidth:""}]}]}}],pi=qe("visitForBabyStore",{state:()=>({visitForBaby:[...hi]}),actions:{setPNCVisitForBaby(e){this.visitForBaby=e},getInitial(){return[...$e.cloneDeep(hi)]}}}),Gy=B({name:"VisitForBaby",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{visitForBaby(){return pi().visitForBaby}},mounted(){this.initialData=pi().getInitial(),this.handleSelection()},watch:{visitForBaby:{handler(){this.handleSelection()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleSelection(){N(this.visitForBaby,"Status of baby")==="Dead"?(u(this.visitForBaby,"Date of Death","displayNone",!1),u(this.visitForBaby,"Cause of Death","displayNone",!1),u(this.visitForBaby,"Condition of the Umbilical Cord","displayNone",!1)):(u(this.visitForBaby,"Date of Death","displayNone",!0),u(this.visitForBaby,"Cause of Death","displayNone",!0),u(this.visitForBaby,"Condition of the Umbilical Cord","displayNone",!0))}}}),jy={class:"container"};function Yy(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",jy,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.visitForBaby,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const Jy=O(Gy,[["render",Yy],["__scopeId","data-v-fa64a92c"]]),Ky=B({name:"History",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(ul,["labourDetails"])},mounted(){},watch:{},setup(){return{checkmark:ie,pulseOutline:le}},methods:{}}),Qy={class:"container"};function Xy(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Qy,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Labour details")])),_:1,__:[0]})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.labourDetails},null,8,["contentData"])]),_:1})]),_:1})])}const Zy=O(Ky,[["render",Xy],["__scopeId","data-v-1c41c247"]]),eb=B({name:"History",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(hl,["pastProblems"])},mounted(){this.handleDangerSigns(),this.handleChckedDangerSigns(),this.handleInLabour()},watch:{pastProblems:{handler(){this.handleDangerSigns(),this.handleChckedDangerSigns(),this.handleInLabour()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleDangerSigns(){var e;((e=ue(this.pastProblems,"Other danger signs"))==null?void 0:e.value)=="other danger signs"?u(this.pastProblems,"otherC","displayNone",!1):u(this.pastProblems,"otherC","displayNone",!0)},handleChckedDangerSigns(){var t;const e=["Bleeding vaginally","Central cyanosis","Pre-term labour","Severe vomiting","Fever","Visual disturbance","Severe abdominal pain","Unconscious","No fetal movement","Difficulties in breathing","Jaundice","Other danger signs"];(t=ue(this.pastProblems,"No danger signs"))!=null&&t.checked?e.forEach(a=>{L(this.pastProblems,a,"checked",!1),L(this.pastProblems,a,"disabled",!0)}):e.forEach(a=>{L(this.pastProblems,a,"disabled",!1)})},handleInLabour(){N(this.pastProblems,"reason")=="In labour"?(u(this.pastProblems,["Time"],"displayNone",!1),I(this.pastProblems,"Labour onset type","displayNone",!1),I(this.pastProblems,"Membranes ruptured","displayNone",!1),u(this.pastProblems,"Time Membrane","displayNone",!1),I(this.pastProblems,"food in 4 hours","displayNone",!1),I(this.pastProblems,"Homemade medicines taken","displayNone",!1),I(this.pastProblems,"Sleep","displayNone",!1)):(u(this.pastProblems,"Time","displayNone",!0),I(this.pastProblems,"Labour onset type","displayNone",!0),I(this.pastProblems,"Membranes ruptured","displayNone",!0),u(this.pastProblems,"Time Membrane","displayNone",!0),I(this.pastProblems,"food in 4 hours","displayNone",!0),I(this.pastProblems,"Homemade medicines taken","displayNone",!0),I(this.pastProblems,"Sleep","displayNone",!0))}}}),tb={class:"container"};function ab(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",tb,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.pastProblems},null,8,["contentData"])]),_:1})]),_:1})])}const nb=O(eb,[["render",ab],["__scopeId","data-v-68d75ac3"]]),sb=B({name:"History",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],height:0,showPulsingAlert:!1}},computed:{...w(zn,["vitals"]),...w(zn,["anaemia"]),...w(zn,["otherphysicalExams"])},mounted(){this.handleOedema(),this.handleCephalic(),this.handleShowAlertCordPulsating()},watch:{otherphysicalExams:{handler(){this.handleOtherPresentation(),this.handleContractions(),this.handleCephalic(),this.handleOedema(),this.showPulsingAlert=N(this.otherphysicalExams,"Presentation")=="breech"},deep:!0},showPulsingAlert:{handler(){this.handleShowAlertCordPulsating()}},anaemia:{handler(){},deep:!0},vitals:{handler(){this.height=oe(this.vitals,"Height","value")},deep:!0},height:{handler(){this.handleVitalsChange()}}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleShowAlertCordPulsating(){const e=N(this.otherphysicalExams,"Presentation"),t=this.otherphysicalExams.find(a=>{var s,o;return((o=(s=a==null?void 0:a.radioBtnContent)==null?void 0:s.header)==null?void 0:o.name)=="Presentation"});if(t.alerts=[],["footling","face","breech"].includes(e)){t.alerts.push({backgroundColor:"#FF9999",status:"info",icon:"info-circle",textColor:"#000000",value:"Prepare to refer the woman",name:"Presentation"});return}},async handleVitalsValidation(e){Ke(this.vitals,ml,e.name,e.value)},async handleExamsValidate(e){Ke(this.otherphysicalExams,pl,e.name,e.value)},async handleInputData(e){this.handleVitalsValidation(e),this.handleExamsValidate(e)},handleVitalsChange(){const e=oe(this.vitals,"Height","value");if(e<150&&e!=""){this.vitals[2].alerts.push({backgroundColor:"#FFD700",status:"info",icon:"info-circle",textColor:"#000000",value:"Height is less than 150 CM",name:"Height"});return}this.vitals[2].alerts=[]},handleOtherPresentation(){const e=N(this.otherphysicalExams,"Presentation")=="Other";u(this.otherphysicalExams,"Other","displayNone",!e)},handleContractions(){const e=N(this.otherphysicalExams,"Contractions")=="no Contraction Felt";u(this.otherphysicalExams,"Number of contraction","displayNone",e)},handleOedema(){N(this.otherphysicalExams,"Oedema")=="present"?u(this.otherphysicalExams,"Other oedema","displayNone",!1):u(this.otherphysicalExams,"Other oedema","displayNone",!0)},handleCephalic(){N(this.otherphysicalExams,"Presentation")=="cephalic"?I(this.otherphysicalExams,"Position","displayNone",!1):I(this.otherphysicalExams,"Position","displayNone",!0)}}}),ib={class:"container"};function ob(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",ib,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.vitals,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S(" Anaemia")])),_:1,__:[0]})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.anaemia},null,8,["contentData"])]),_:1})]),_:1}),n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.otherphysicalExams,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const lb=O(sb,[["render",ob],["__scopeId","data-v-df64e4e5"]]),rb=B({name:"FirstVaginalExamination",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",showPulsingAlert:!1}},computed:{...w(fl,["pelvicAssessment"])},mounted(){},watch:{pelvicAssessment:{handler(){this.showPulsingAlert=N(this.pelvicAssessment,"Intertuberous diameter")=="more than or equal to 8.5cm"},deep:!0},showPulsingAlert:{handler(){this.handleShowAdiameter()}}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleShowAdiameter(){const e=N(this.pelvicAssessment,"Intertuberous diameter"),t=this.pelvicAssessment.find(a=>{var s,o;return((o=(s=a==null?void 0:a.radioBtnContent)==null?void 0:s.header)==null?void 0:o.name)=="Intertuberous diameter"});t.alerts=[],e=="more than or equal to 8.5cm"?t.alerts.push({backgroundColor:"#99FF99",status:"info",icon:"info-circle",textColor:"#000000",value:"Normal",name:"Intertuberous diameter"}):e=="less than 8.5cm"&&t.alerts.push({backgroundColor:"#FF9999",status:"warning",icon:"exclamation-circle",textColor:"#000000",value:"Abnormal",name:"Intertuberous diameter"})}}}),db={class:"container"};function cb(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",db,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.pelvicAssessment},null,8,["contentData"])]),_:1})]),_:1})])}const ub=O(rb,[["render",cb],["__scopeId","data-v-dbd10580"]]),hb=B({name:"FirstVaginalExamination",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",facilityData:[]}},computed:{...w(_l,["labourReferral","labourLab"])},mounted(){this.handleART(),this.handleARTYes()},watch:{labourReferral:{handler(){this.handleMother(),this.handleOtherMother(),this.handleOtherBaby()},deep:!0},labourLab:{handler(e){this.handleART(),this.handleARTYes(),this.handleInputData(e)},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async Lab(e){Ke(this.labourLab,Hs,e.name,e.value)},async Referral(e){Ke(this.labourReferral,Hs,e.name,e.value)},async handleInputData(e){this.Lab(e),this.Referral(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),u(this.labourLab,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Jt.getFacilities({name:e})},handleMother(){const e=N(this.labourReferral,"referred");Le(this.labourReferral,"referring mother","displayNone",e!="mother"),Le(this.labourReferral,"Baby identifier","displayNone",e!="baby"),u(this.labourReferral,"treatment given to baby before referral","displayNone",e!="baby"),u(this.labourReferral,"Time of referral","displayNone",e!="baby"),u(this.labourReferral,"Date of referral","displayNone",e!="baby"),u(this.labourReferral,"Provider who made referral","displayNone",e!="baby"),u(this.labourReferral,"Phone number for provider","displayNone",e!="baby")},handleOtherMother(){var e;((e=ue(this.labourReferral,"Other"))==null?void 0:e.value)=="other"?u(this.labourReferral,"specify","displayNone",!1):u(this.labourReferral,"specify","displayNone",!0)},handleOtherBaby(){var e;((e=ue(this.labourReferral,"Other reason"))==null?void 0:e.value)=="other reason"?u(this.labourReferral,"other","displayNone",!1):u(this.labourReferral,"other","displayNone",!0)},handleART(){N(this.labourLab,"HIV")=="positive"?I(this.labourLab,"chronic conditions","displayNone",!1):I(this.labourLab,"chronic conditions","displayNone",!0)},handleARTYes(){N(this.labourLab,"chronic conditions")=="Yes"?(u(this.labourLab,"Art number","displayNone",!1),u(this.labourLab,"facility for art","displayNone",!1)):(u(this.labourLab,"Art number","displayNone",!0),u(this.labourLab,"facility for art","displayNone",!0))}}}),pb={class:"container"};function mb(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",pb,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.labourReferral,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.labourLab,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const fb=O(hb,[["render",mb],["__scopeId","data-v-b36e2fed"]]),_b=B({name:"FirstVaginalExamination",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",showPulsingAlert:!1}},computed:{...w(gl,["firstVaginalExamination"])},mounted(){this.handleCord()},watch:{firstVaginalExamination:{handler(){this.handleShow(),this.handleRupturedMembrane(),this.handleCord(),this.showPulsingAlert=N(this.firstVaginalExamination,"Is Cord Pulsating")=="yes"},deep:!0},showPulsingAlert:{handler(){this.handleShowAlertCordPulsating()}}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleShow(){const e=N(this.firstVaginalExamination,"Show")=="present";I(this.firstVaginalExamination,"Color","displayNone",!e)},async handleInputData(e){Ke(this.firstVaginalExamination,vl,e.name,e.value)},handleShowAlertCordPulsating(){const e=N(this.firstVaginalExamination,"Is Cord Pulsating"),t=this.firstVaginalExamination.find(a=>{var s,o;return((o=(s=a==null?void 0:a.radioBtnContent)==null?void 0:s.header)==null?void 0:o.name)=="Is Cord Pulsating"});if(e=="yes"){t.alerts.push({backgroundColor:"#FF9999",status:"info",icon:"info-circle",textColor:"#000000",value:"This is an emergency. Change the position of the woman to relieve pressure on the cord and refer the woman.",name:"Is Cord Pulsating"});return}t.alerts=[]},handleRupturedMembrane(){const e=N(this.firstVaginalExamination,"State of membranes"),t=N(this.firstVaginalExamination,"Cord"),a=N(this.firstVaginalExamination,"Liquor"),s=N(this.firstVaginalExamination,"What part is presenting");I(this.firstVaginalExamination,"How","displayNone",e!="ruptured"),u(this.firstVaginalExamination,"time membranes ruptured","displayNone",e!="ruptured"),u(this.firstVaginalExamination,"date membranes ruptured","displayNone",e!="ruptured"),I(this.firstVaginalExamination,"cold felt color","displayNone",t!="felt"),I(this.firstVaginalExamination,"Meconium Grade","displayNone",a!="meconium stained"),u(this.firstVaginalExamination,"specify","displayNone",s!="other"),u(this.firstVaginalExamination,"Position of sutures and fontanelles","displayNone",s!="head"),I(this.firstVaginalExamination,"Level in relation to ischial spines","displayNone",s!="head"),I(this.firstVaginalExamination,"Caput","displayNone",s!="head"),I(this.firstVaginalExamination,"Moulding","displayNone",s!="head")},handleCord(){N(this.firstVaginalExamination,"What part is presenting")=="cord"?I(this.firstVaginalExamination,"Is Cord Pulsating","displayNone",!1):I(this.firstVaginalExamination,"Is Cord Pulsating","displayNone",!0)}}}),vb={class:"container"};function gb(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",vb,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Cervix")])),_:1,__:[0]})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.firstVaginalExamination,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const yb=O(_b,[["render",gb],["__scopeId","data-v-11df2658"]]),bb=B({name:"SecondStageDelivery",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie,IonButton:it,BabyDetailsModal:ms},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],arrayOfBabies:[],babyModalOpen:!1,selectedBaby:0,babiesDetails:[],showSection:!1}},computed:{...w(nt,["secondStageDetails"]),...w(nt,["babyDetails"]),...w(nt,["newbornComplications"])},mounted(){const e=nt();this.initialData=e.getInitial()},watch:{secondStageDetails:{handler(){this.handleBabyCondition(),this.handleNumberOfBabies(),this.handleSelectedStillBirth()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleValidateNewBorn(e){Ke(this.newbornComplications,Qn,e.name,e.value)},async handleValidateBabies(e){Ke(this.secondStageDetails,Qn,e.name,e.value)},async handleInputData(e){this.handleValidateBabies(e),this.handleValidateNewBorn(e)},handleNumberOfBabies(){const e=oe(this.secondStageDetails,"Number of babies","value");this.arrayOfBabies=[...Array(Number(e)).keys()]},closeBabyModal(){},handleSelectedStillBirth(){const e=N(this.secondStageDetails,"Baby general condition at birth");if(e=="Macerated stillbirth"||e=="Fresh stillbirth"){this.showSection=!1,this.babyDetailsDisplayNone(!0);return}this.babyDetailsDisplayNone(!1),this.showSection=!0},selectBaby(e){this.selectedBaby=e;const t=this.babiesDetails.find(s=>s.baby==e);nt().setBabyDetails(t.details),this.toggleBabyModal()},checkIfSubmitted(e){return this.babiesDetails.find(t=>t.baby==e)},handleBabyYes(){this.toggleBabyModal();const e=nt(),t=this.babiesDetails.findIndex(a=>a.baby==this.selectedBaby);t<0?this.babiesDetails.push({baby:this.selectedBaby,details:[...zs.cloneDeep(e.babyDetails)]}):this.babiesDetails[t].details=[...zs.cloneDeep(e.babyDetails)],e.setBabyDetails()},handleBabyNo(){this.toggleBabyModal(),nt().secondStageDetails.setBabyDetails()},toggleBabyModal(){this.babyModalOpen=!this.babyModalOpen},handleAddBabyDetails(e){nt().setBabyDetails(),this.selectedBaby=e,this.toggleBabyModal()},handleBabyCondition(){const e=N(this.secondStageDetails,"Baby general condition at birth");e=="Live full term"||e=="Live preterm"?this.babyDisplayNone(!1):this.babyDisplayNone(!0)},babyDisplayNone(e){u(this.secondStageDetails,"First name","displayNone",e),u(this.secondStageDetails,"Last name","displayNone",e),u(this.secondStageDetails,"Apgar score at 1 minute","displayNone",e),u(this.secondStageDetails,"Apgar score at 5 minutes","displayNone",e),I(this.secondStageDetails,"Sex","displayNone",e),I(this.secondStageDetails,"vitals","displayNone",e),u(this.secondStageDetails,"Weight","displayNone",e),u(this.secondStageDetails,"Height","displayNone",e),u(this.secondStageDetails,"Circumference","displayNone",e),I(this.secondStageDetails,"Tetracycline eye ointment given","displayNone",e),I(this.secondStageDetails,"Chlorhexidine","displayNone",e),Le(this.secondStageDetails,"Newborn baby complications","displayNone",e),Le(this.secondStageDetails,"Management to newborn","displayNone",e),I(this.secondStageDetails,"Oxytocin 10 UI given","displayNone",e),I(this.secondStageDetails,"bold","displayNone",e),I(this.secondStageDetails,"babyDetails","displayNone",e)},babyDetailsDisplayNone(e){u(this.babyDetails,"First name","displayNone",e),u(this.babyDetails,"Last name","displayNone",e),u(this.babyDetails,"Apgar score at 1 minute","displayNone",e),u(this.babyDetails,"Apgar score at 5 minute","displayNone",e),I(this.babyDetails,"Tetracycline eye ointment given","displayNone",e),I(this.babyDetails,"Chlorhexidine","displayNone",e),Le(this.babyDetails,"Newborn baby complications","displayNone",e),I(this.babyDetails,"Oxytocin 10 UI given","displayNone",e),I(this.babyDetails,"Vitamin K given","displayNone",e)}}}),Db={class:"container"},Sb={key:0};function Cb(e,t,a,s,o,r){const l=d("basic-form"),c=d("BabyDetailsModal"),h=d("ion-button"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Db,[n(f,{class:"section"},{default:i(()=>[n(m,null,{default:i(()=>[n(l,{contentData:e.secondStageDetails,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),n(c,{closeModalFunc:e.closeBabyModal,onYes:e.handleBabyYes,onNo:e.handleBabyNo,isOpen:e.babyModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfBabies.length>0?(p(),v("div",Sb,[(p(!0),v(te,null,he(e.arrayOfBabies,y=>(p(),v("div",{key:y},[e.checkIfSubmitted(y)?$("",!0):(p(),A(h,{key:0,onClick:D=>e.handleAddBabyDetails(y)},{default:i(()=>[S("Add Baby "+k(y+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(y)?(p(),A(h,{key:1,onClick:D=>e.selectBaby(y)},{default:i(()=>[S("View Baby "+k(y+1),1)]),_:2},1032,["onClick"])):$("",!0)]))),128))])):$("",!0)]),_:1})]),_:1})])}const wb=O(bb,[["render",Cb],["__scopeId","data-v-137aebb8"]]),Ib=B({name:"DeliveryNewbornDetails",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[],facilities:[]}},computed:{...w(nt,["newbornComplications"])},async mounted(){const e=nt();this.initialData=e.getInitialNewbornComplications()},watch:{newbornComplications:{handler(){this.handleOtherFacilitySelect()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleInputData(e){e.name=="Facility"&&u(this.newbornComplications,"Facility","popOverData",{filterData:!1,data:await this.getLocations(e.value)})},handleOtherFacilitySelect(){const e=N(this.newbornComplications,"Place of delivery")=="Other facility";u(this.newbornComplications,"Facility","displayNone",!e)},async getLocations(e){return await Jt.getFacilities({name:e})}}}),Pb={class:"container"};function Nb(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",Pb,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.newbornComplications,initialData1:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData1","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const kb=O(Ib,[["render",Nb],["__scopeId","data-v-52f7f738"]]),Bb=B({name:"SecondStageDelivery",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(nt,["obstetricComplications"])},mounted(){const e=nt();this.initialData=e.getInitialObstetricDetails()},watch:{obstetricComplications:{handler(){this.handleOtherComplications(),this.handlePerinealTear();const e=["Perineal tear","Sepsis","Pre-Eclampsia","Retained placenta","Postpartum haemorrhage"],t=["Oxytocin/cabitocin/tranexamic acid","Anticonvulsants","Antibiotics","Blood transfusion","Manual removal of placenta","Non-pneumatic Anti-shock Garment (NASG)","Manual Removal of Retained Products of Conception","Evacuation","Misoprostol","Other care"];this.handleObstetricComplicationCheck(e),this.handleNone([...e,"Other complications"],"No complications"),this.handleNone(t,"None")},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleOtherComplications(){var t;const e=(t=ue(this.obstetricComplications,"Other complications"))==null?void 0:t.checked;u(this.obstetricComplications,"Other notes","displayNone",!e)},handlePerinealTear(){var t;const e=(t=ue(this.obstetricComplications,"Perineal tear"))==null?void 0:t.checked;I(this.obstetricComplications,"Severity","displayNone",!e)},handleObstetricComplicationCheck(e){let t=!1;e.forEach(a=>{var s;t=t||((s=ue(this.obstetricComplications,a))==null?void 0:s.checked)}),Le(this.obstetricComplications,"Obstetric care","displayNone",!t)},handleNone(e,t){var a;(a=ue(this.obstetricComplications,t))!=null&&a.checked?e.forEach(s=>{L(this.obstetricComplications,s,"checked",!1),L(this.obstetricComplications,s,"disabled",!0)}):e.forEach(s=>{L(this.obstetricComplications,s,"disabled",!1)})}}}),$b={class:"container"};function Mb(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",$b,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.obstetricComplications,initialData2:e.initialData},null,8,["contentData","initialData2"])]),_:1})]),_:1})])}const Ab=O(Bb,[["render",Mb],["__scopeId","data-v-8005c521"]]),Eb=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,IonPopover:Ft,DashBox:Vt,SelectionPopover:Et,BasicInputField:ee,BasicForm:G,List:wt,DynamicButton:Be,labOrderResults:qa,DeliveryNewbornDetails:wb,OtherDeliveryDetails:kb,ObstetricComplications:Ab},data(){return{iconsContent:P,no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",testResult:"",test:"",orders:"",filteredSpecimen:"",labOrders:"",testData:[],popoverOpen:!1,levelOfConsciousnessStatus:!1,presentingComplaintsStatus:!1,pregnancyBreastfeedingStatus:!1,pastMedicalHistory:!1,allergiesStatus:!1,physicalExamination:!1,event:"",specimen:"",radiologyOrdersStatus:!1,otherOrdersStatus:!1,showSection:!0}},computed:{...w(nt,["secondStageDetails"]),...w(nt,["newbornComplications"]),...w(nt,["secondStageDetails"]),...w(nt,["obstetricComplications"])},mounted(){nt(),nt(),nt(),this.handleModeOfDeliver()},watch:{newbornComplications:{handler(){this.handleModeOfDeliver()},deep:!0},secondStageDetails:{handler(){this.handleSelectedStillBirth()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleModeOfDeliver(){},handleSelectedStillBirth(){const e=N(this.secondStageDetails,"Baby general condition at birth");if(e=="Macerated stillbirth"||e=="Fresh stillbirth"){this.showSection=!1;return}this.showSection=!0}}}),Vb={class:"ion-padding",slot:"content"},Ob={class:"ion-padding",slot:"content"};function Tb(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("DeliveryNewbornDetails"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("OtherDeliveryDetails"),D=d("ion-row");return p(),A(D,null,{default:i(()=>[n(f,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Delivery and newborn details")])),_:1,__:[0]})]),_:1}),_("div",Vb,[n(h)])]),_:1})]),_:1},512),e.showSection?(p(),A(f,{key:0,ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[S("Other delivery details")])),_:1,__:[1]})]),_:1}),_("div",Ob,[n(y)])]),_:1})]),_:1},512)):$("",!0)]),_:1})}const Fb=O(Eb,[["render",Tb],["__scopeId","data-v-aef72f55"]]),Hb=B({name:"ThirdStageOfDelivery",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(Rs,["placentaExamination"])},mounted(){const e=Rs();this.initialData=e.getInitial(),this.handleModeOfDelivery(),this.handleTears(),this.handleTearsDegree(),this.handleRepairDone()},watch:{placentaExamination:{handler(){this.handleCervixTearChange(),this.handleModeOfDelivery(),this.handleTears(),this.handleTearsDegree(),this.handleRepairDone()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleInputData(e){Ke(this.placentaExamination,yl,e.name,e.value)},handleRepairDone(){["tears","episiotomy"].includes(N(this.placentaExamination,"Perineum"))?I(this.placentaExamination,"repair","displayNone",!1):I(this.placentaExamination,"repair","displayNone",!0)},handleTearsDegree(){N(this.placentaExamination,"Perineum")=="tears"?u(this.placentaExamination,"tears degree","displayNone",!1):u(this.placentaExamination,"tears degree","displayNone",!0)},handleTears(){N(this.placentaExamination,"Cervix")=="tears"?u(this.placentaExamination,"Other tears","displayNone",!1):u(this.placentaExamination,"Other tears","displayNone",!0)},handleModeOfDelivery(){N(this.placentaExamination,"Mode of delivery")=="other"?u(this.placentaExamination,"Specify","displayNone",!1):u(this.placentaExamination,"Specify","displayNone",!0)},handleCervixTearChange(){const e=N(this.placentaExamination,"Presentation")=="Other";I(this.placentaExamination,"Severity","displayNone",!e)}}}),Rb={class:"container"};function Lb(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",Rb,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.placentaExamination,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const xb=O(Hb,[["render",Lb],["__scopeId","data-v-9d5a086c"]]),Ub=B({name:"end",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(bl,["endLabourAndDelivery"])},mounted(){this.handleOtherEnd()},watch:{endLabourAndDelivery:{handler(){this.handleOtherEnd()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleOtherEnd(){N(this.endLabourAndDelivery,"closing labour and delivery")=="other"?u(this.endLabourAndDelivery,"Specify","displayNone",!1):u(this.endLabourAndDelivery,"Specify","displayNone",!0)}}}),zb={class:"container"};function qb(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",zb,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.endLabourAndDelivery},null,8,["contentData"])]),_:1})]),_:1})])}const Wb=O(Ub,[["render",qb],["__scopeId","data-v-c5cfbf12"]]),Gb=B({name:"FirstVaginalExamination",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:""}},computed:{...w(Ls,["otherExams"]),...w(Ls,["urine"])},mounted(){this.handleUrine(),this.handleUrineColor(),this.handleUrineColorOdour(),this.handleDilated(),this.handleGrade(),this.handleUmbricalCord(),this.handleObstetricComplications(),this.handleOtherComplications(),this.handleObstetricCare()},watch:{urine:{handler(){this.handleUrine(),this.handleUrineColor(),this.handleUrineColorOdour(),this.handleDilated()},deep:!0},otherExams:{handler(){this.handleGrade(),this.handleUmbricalCord(),this.handleObstetricComplications(),this.handleOtherComplications(),this.handleObstetricCare()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleValidateFatal(e){Ke(this.otherExams,Dl,e.name,e.value)},async handleInputData(e){this.handleValidateFatal(e)},handleUmbricalCord(){["presenting","prolapsed"].includes(N(this.otherExams,"Umbilical Cord"))?u(this.otherExams,"intervention","displayNone",!1):u(this.otherExams,"intervention","displayNone",!0)},handleGrade(){var e;((e=ue(this.otherExams,"Meconium stained"))==null?void 0:e.value)=="meconium stained"?I(this.otherExams,"Grade","displayNone",!1):I(this.otherExams,"Grade","displayNone",!0)},handleUrine(){N(this.urine,"woman urinated")=="yes"?u(this.urine,"amount of urine","displayNone",!1):u(this.urine,"amount of urine","displayNone",!0)},handleUrineColor(){N(this.urine,"woman urinated")=="yes"?u(this.urine,"color of urine","displayNone",!1):u(this.urine,"color of urine","displayNone",!0)},handleUrineColorOdour(){N(this.urine,"woman urinated")=="yes"?u(this.urine,"Odour","displayNone",!1):u(this.urine,"Odour","displayNone",!0)},handleDilated(){N(this.urine,"Fully dilated")=="yes"?u(this.urine,"Time fully dilated","displayNone",!1):u(this.urine,"Time fully dilated","displayNone",!0)},handleObstetricComplications(){var t;const e=["Antepartum haemorrhage","Post partum Haemorrhage","Obstructed/Prolonged labour","Preterm labour","(Pre-) Eclampsia","Sepsis","Ruptured uterus","Fetal distress","Placenta Previa","Fetal distress","Placenta abruption","Retained placenta","Severe anaemia","Perineal tear (2nd, 3rd or 4th degree)","symphysiotomy","Other"];(t=ue(this.otherExams,"None"))!=null&&t.checked?e.forEach(a=>{L(this.otherExams,a,"checked",!1),L(this.otherExams,a,"disabled",!0)}):e.forEach(a=>{L(this.otherExams,a,"disabled",!1)})},handleOtherComplications(){var e;((e=ue(this.otherExams,"Other"))==null?void 0:e.value)=="other"?u(this.otherExams,"Specify","displayNone",!1):u(this.otherExams,"Specify","displayNone",!0)},handleObstetricCare(){var t;const e=["Oxytocin","Cabitocin","Tranexamic acid","Misoprostol","Anticonvulsants","Antibiotics","Antenatal corticosteroids","Blood transfusion","Manual removal of placenta (MRP)","Non-pneumatic Anti-shock Garment (NASG)","Manual Removal of Retained Products of Conception (MRPOC)","Evacuation","Other"];(t=ue(this.otherExams,"None"))!=null&&t.checked?e.forEach(a=>{L(this.otherExams,a,"checked",!1),L(this.otherExams,a,"disabled",!0)}):e.forEach(a=>{L(this.otherExams,a,"disabled",!1)})}}}),jb={class:"container"};function Yb(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",jb,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.otherExams,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(f,{class:"section"},{default:i(()=>[n(m,null,{default:i(()=>[n(h,{contentData:e.urine},null,8,["contentData"])]),_:1})]),_:1})])}const Jb=O(Gb,[["render",Yb],["__scopeId","data-v-1169f3e1"]]),Kb=B({components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,PreviousVitals:bn},data(){return{iconsContent:P,BMI:{},BPStatus:{},saveBtnStatus:{},TempStatus:{},PulseStatus:{},RespiratoryStatus:{},OxygenStatus:{},vValidations:"",hasValidationErrors:[],vitalsInstance:{},validationStatus:{heightWeight:!1,bloodPressure:!1}}},watch:{vitals:{handler(){this.checkHeight()},deep:!0},$route:{handler(){this.checkHeight(),this.setTodayVitals(),this.updateVitalsStores()},deep:!0}},computed:{...w(Ne,["patient"]),...w(Sl,["vitals"])},async mounted(){await this.setTodayVitals();const e=Ve.getUserID();this.vitalsInstance=new El(this.patient.patientID,e),await this.validaterowData("onload")},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async setTodayVitals(){var r,l;const e=["Height (cm)","Weight","Systolic","Diastolic","Temperature","Pulse","SAO2","Respiratory rate"],t=["Height (cm)","Weight","Systolic","Diastolic","Pulse"],a=[],s=ne.getAgeInYears((l=(r=this.patient)==null?void 0:r.personInformation)==null?void 0:l.birthdate),o=e.map(async c=>{const h=await Ae.getFirstObsDatetime(this.patient.patientID,c);h&&ne.toStandardHisFormat(h)==ne.sessionDate()?(c=="Weight"&&L(this.vitals,"Height And Weight Not Done","displayNone",!0),c=="Systolic"&&L(this.vitals,"Blood Pressure Not Done","displayNone",!0),c=="Pulse"&&L(this.vitals,"Pulse Rate Not Done","displayNone",!0),u(this.vitals,c,"value",await Ae.getFirstValueNumber(this.patient.patientID,c,ne.sessionDate())),u(this.vitals,c,"disabled",!0),a.push("true")):t.includes(c)?a.push("false"):u(this.vitals,c,"value",""),c==="Respiratory rate"&&s<=5&&(u(this.vitals,c,"required",!0),u(this.vitals,c,"inputHeader","Respiratory rate*"))});return await Promise.all(o),a.includes("false")?this.vitals[0].actionBtn="Finish and Save":this.vitals[0].actionBtn="Finish",!a.includes("false")},navigationMenu(e){Ue.close(),this.$router.push(e)},updateVitalsStores(){rn().setVitals(this.vitals)},validationController(e){var t,a,s,o,r,l;((t=e==null?void 0:e.col)==null?void 0:t.name)=="Height And Weight Not Done"&&e.col.checked?(Oe(this.vitals,"Height Weight Reason","displayNone",!1),u(this.vitals,"Height (cm)","disabled",!0),u(this.vitals,"Weight","disabled",!0),u(this.vitals,"Height (cm)","inputHeader","Height"),u(this.vitals,"Weight","inputHeader","Weight"),u(this.vitals,"Height (cm)","value",""),u(this.vitals,"Weight","value",""),this.validationStatus.heightWeight=!1):((a=e==null?void 0:e.col)==null?void 0:a.name)=="Height And Weight Not Done"&&(Oe(this.vitals,"Height Weight Reason","displayNone",!0),u(this.vitals,"Height (cm)","disabled",!1),u(this.vitals,"Weight","disabled",!1),u(this.vitals,"Height (cm)","inputHeader","Height*"),u(this.vitals,"Weight","inputHeader","Weight*"),this.validationStatus.heightWeight=!0),((s=e==null?void 0:e.col)==null?void 0:s.name)=="Blood Pressure Not Done"&&e.col.checked?(Oe(this.vitals,"Blood Pressure Reason","displayNone",!1),u(this.vitals,"Systolic","disabled",!0),u(this.vitals,"Diastolic","disabled",!0),u(this.vitals,"Systolic","inputHeader","Systolic Pressure"),u(this.vitals,"Diastolic","inputHeader","Diastolic pressure"),u(this.vitals,"Systolic","value",""),u(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!1):((o=e==null?void 0:e.col)==null?void 0:o.name)=="Blood Pressure Not Done"&&(Oe(this.vitals,"Blood Pressure Reason","displayNone",!0),u(this.vitals,"Systolic","disabled",!1),u(this.vitals,"Diastolic","disabled",!1),u(this.vitals,"Systolic","inputHeader","Systolic Pressure*"),u(this.vitals,"Diastolic","inputHeader","Diastolic pressure*"),u(this.vitals,"Systolic","value",""),u(this.vitals,"Diastolic","value",""),this.validationStatus.bloodPressure=!0),((r=e==null?void 0:e.col)==null?void 0:r.name)=="Pulse Rate Not Done"&&e.col.checked?(Oe(this.vitals,"Pulse Rate Reason","displayNone",!1),u(this.vitals,"Pulse","disabled",!0),u(this.vitals,"Pulse","inputHeader","Pulse rate"),u(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!1):((l=e==null?void 0:e.col)==null?void 0:l.name)=="Pulse Rate Not Done"&&(Oe(this.vitals,"Pulse Rate Reason","displayNone",!0),u(this.vitals,"Pulse","disabled",!1),u(this.vitals,"Pulse","inputHeader","Pulse rate*"),u(this.vitals,"Pulse","value",""),this.validationStatus.bloodPressure=!0)},async checkHeight(){const e=new Me,t=await e.getRecentHeightObs();if(!$e.isEmpty(t)){const a=rs(t.obs_datetime).diff(e.getBirthdate(),"year"),s=t.value_numeric;t.obs_id,a<18||e.getAge()<18||(u(this.vitals,"Height","disabled",!0),u(this.vitals,"Height","value",s))}},async validaterowData(e){this.checkHeight(),this.validationController(e),this.hasValidationErrors=[],this.vitals.forEach((t,a)=>{var s,o;(s=t==null?void 0:t.data)!=null&&s.rowData&&((o=t==null?void 0:t.data)==null||o.rowData.forEach((r,l)=>{var c,h,m;if(r.colData[0].inputHeader=="Systolic Pressure*"&&(e.inputHeader=="Systolic Pressure*"||e.inputHeader=="Diastolic pressure*"||e=="onload")||r.colData[0].inputHeader=="Systolic Pressure"&&((c=e==null?void 0:e.col)==null?void 0:c.name)=="Blood Pressure Not Done"){const f=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BPStatus=f?this.getBloodPressureStatus(r.colData[0].value,r.colData[1].value):{},this.updateBP(r.colData[0].value,r.colData[1].value)}if(r.colData[1].inputHeader=="Pulse rate*"&&(e.inputHeader=="Pulse rate*"||e=="onload")||r.colData[1].inputHeader=="Pulse rate"&&((h=e==null?void 0:e.col)==null?void 0:h.name)=="Pulse Rate Not Done"){const y=this.vitalsInstance.validator(r.colData[1])==null?this.getPulseRateStatus(r.colData[1].value):{};this.updateTemperateRate("pulse",r.colData[1].value+" BMP",y,4)}if(r.colData[0].value&&r.colData[0].inputHeader=="Temperature"){const y=this.vitalsInstance.validator(r.colData[0])==null?this.getTemperatureStatus(r.colData[0].value):{};this.updateTemperateRate("temp",r.colData[0].value+"Â°C",y,4)}if(r.colData[0].inputHeader=="Respiratory rate"){const y=this.vitalsInstance.validator(r.colData[0])==null?this.getRespiratoryRateStatus(r.colData[0].value):{};this.updateTemperateRate("respiratory",r.colData[0].value+"BMP",y,6)}if(r.colData[1].value&&r.colData[1].inputHeader=="Oxygen saturation"){const y=this.vitalsInstance.validator(r.colData[1])==null?this.getOxygenSaturationStatus(r.colData[1].value):{};this.updateTemperateRate("oxygen",r.colData[1].value+"%",y,6)}if(r.colData[0].inputHeader=="Height*"&&(e.inputHeader=="Height*"||e.inputHeader=="Weight*"||e=="onload")||r.colData[0].inputHeader=="Height"&&((m=e==null?void 0:e.col)==null?void 0:m.name)=="Height And Weight Not Done"){const f=this.vitalsInstance.validator(r.colData[0])==null&&this.vitalsInstance.validator(r.colData[1])==null;this.BMI=f?this.setBMI(r.colData[1].value,r.colData[0].value):{},this.updateBMI()}r.colData.some((f,y)=>{const D=this.vitalsInstance.validator(f);if((D==null?void 0:D.length)>0){if(this.hasValidationErrors.push("false"),f.inputHeader===e.inputHeader)return this.vitals[a].data.rowData[l].colData[y].alertsErrorMassage=!0,this.vitals[a].data.rowData[l].colData[y].alertsErrorMassage=D.flat(1/0)[0],!0}else this.hasValidationErrors.push("true"),this.vitals[a].data.rowData[l].colData[y].alertsErrorMassage=!1,this.vitals[a].data.rowData[l].colData[y].alertsErrorMassage="";return!1})}))}),this.vitals.validationStatus=!this.hasValidationErrors.includes("false")},async setBMI(e,t){var a,s,o,r,l,c,h,m;(s=(a=this.patient)==null?void 0:a.personInformation)!=null&&s.gender&&((r=(o=this.patient)==null?void 0:o.personInformation)!=null&&r.birthdate)&&e&&t&&(this.BMI=await qt.getBMI(parseInt(e),parseInt(t),(c=(l=this.patient)==null?void 0:l.personInformation)==null?void 0:c.gender,ne.calculateAge((m=(h=this.patient)==null?void 0:h.personInformation)==null?void 0:m.birthdate,ne.sessionDate())),console.log("ðŸš€ ~ setBMI ~ this.BMI:",this.BMI),this.updateBMI())},async updateBMI(){var a,s,o,r,l,c;const e=(s=(a=this.BMI)==null?void 0:a.color)!=null?s:[],t=this.vitals[0].alerts[0];t.icon=qt.iconBMI(e),t.backgroundColor=e[0],t.textColor=e[1],t.index="BMI "+((r=(o=this.BMI)==null?void 0:o.index)!=null?r:""),t.value=(c=(l=this.BMI)==null?void 0:l.result)!=null?c:""},async updateBP(e,t){var o,r,l,c,h,m;const a=(r=(o=this.vitals[2])==null?void 0:o.alerts[0])!=null?r:[],s=(c=(l=this.BPStatus)==null?void 0:l.colors)!=null?c:[];a.icon=Dn(s),a.backgroundColor=s[0],a.textColor=s[1],a.index=e+"/"+t,a.value=(m=(h=this.BPStatus)==null?void 0:h.value)!=null?m:""},async updateTemperateRate(e,t,a,s){var l,c,h,m,f,y;const o=(c=(l=this.vitals[s])==null?void 0:l.alerts)==null?void 0:c.filter(D=>D.name!==e);this.vitals[s].alerts=o;const r=(h=a==null?void 0:a.colors)!=null?h:[];(f=this.vitals[s])==null||f.alerts.push({backgroundColor:r[0],status:"",icon:"",textColor:r[1],value:(m=a==null?void 0:a.value)!=null?m:"",name:e,index:t}),console.log((y=this.vitals[4])==null?void 0:y.alerts)},getBloodPressureStatus(e,t){if(e&&t){let a,s,o,r;const c=new Me().getAge();return c<1?(a=75,s=100,o=50,r=70):c>=1&&c<6?(a=80,s=110,o=50,r=80):c>=6&&c<13?(a=85,s=120,o=55,r=80):c>=13&&c<18?(a=95,s=140,o=60,r=90):(a=100,s=130,o=60,r=90),e<a&&t<o?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP "}:e>=a&&e<=s&&t>=o&&t<=r?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP "}:e>140&&t>90?{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP"}:e<a?{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low BP  (Using Systolic Only)"}:e>=a&&e<=s?{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal BP  (Using Systolic Only)"}:{colors:["#FECDCA","#B42318","#FDA19B"],value:"High BP  (Using Systolic Only)"}}},getTemperatureStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=1||o>=1&&o<=18||o>=19&&o<=64||o>=65?(t=35.5,a=37.4):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Temperature "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Temperature "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Temperature "}}},getPulseRateStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=.08?(t=70,a=190):o>=.08&&o<1?(t=80,a=160):o>=1&&o<=2?(t=80,a=130):o>=3&&o<=4?(t=80,a=120):o>=5&&o<=6?(t=75,a=115):o>=7&&o<=9?(t=70,a=110):o>=10?(t=60,a=100):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low Pulse Rate "};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal Pulse Rate "};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High Pulse Rate "}}},getOxygenSaturationStatus(e){if(e){let t=95,a=100;if(e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low oxygen saturation"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal oxygen saturation"}}},getRespiratoryRateStatus(e){if(e){let t,a;const o=new Me().getAge();if(o<=1?(t=30,a=60):o>=1&&o<3?(t=24,a=40):o>=3&&o<=6?(t=22,a=34):o>=6&&o<=12?(t=18,a=30):o>=12&&o<=18?(t=12,a=16):o>=19?(t=12,a=20):(t="",a=""),e<t)return{colors:["#B9E6FE","#026AA2","#9ADBFE"],value:"Low respiratory rate"};if(e>=t&&e<=a)return{colors:["#DDEEDD","#016302","#BBDDBC"],value:"Normal respiratory rate"};if(e>a)return{colors:["#FECDCA","#B42318","#FDA19B"],value:"High respiratory rate"}}}}}),Qb={class:"ion-padding",slot:"content"};function Xb(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-label"),h=d("ion-item"),m=d("PreviousVitals"),f=d("ion-accordion"),y=d("ion-accordion-group"),D=d("ion-row");return p(),v(te,null,[n(l,{contentData:e.vitals,"onUpdate:inputValue":t[0]||(t[0]=C=>e.validaterowData(C))},null,8,["contentData"]),n(D,null,{default:i(()=>[n(y,{ref:"accordionGroup",class:"previousView"},{default:i(()=>[n(f,{value:"first","toggle-icon-slot":"start",style:{"border-radius":"10px","background-color":"#fff"}},{default:i(()=>[n(h,{slot:"header",color:"light"},{default:i(()=>[n(c,{class:"previousLabel"},{default:i(()=>t[1]||(t[1]=[S("Previous measurements")])),_:1,__:[1]})]),_:1}),_("div",Qb,[n(m)])]),_:1})]),_:1},512)]),_:1})],64)}const Zb=O(Kb,[["render",Xb],["__scopeId","data-v-d7b7b31b"]]),eD=B({name:"immidiatePostnatalChecksForChild",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(xs,["examsAfterDeliveryForChild"])},mounted(){const e=xs();this.initialData=e.getInitial()},watch:{},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleValidateBaby(e){Ke(this.examsAfterDeliveryForChild,Cl,e.name,e.value)},async handleInputData(e){this.handleValidateBaby(e)}}}),tD={class:"container"};function aD(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",tD,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.examsAfterDeliveryForChild,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const nD=O(eD,[["render",aD],["__scopeId","data-v-c38fbba8"]]),sD=B({name:"ImmidiatePostnatalChecksForMother",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],inputField:"",initialData:[]}},computed:{...w(Us,["examsAfterDelivery"])},mounted(){const e=Us();this.initialData=e.getInitial(),this.handleImmidiate(),this.handleHour(),this.handleUrine()},watch:{examsAfterDelivery:{handler(){this.handleImmidiate(),this.handleHour(),this.handleUrine()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleValidatePostnatal(e){Ke(this.examsAfterDelivery,wl,e.name,e.value)},async handleInputData(e){this.handleValidatePostnatal(e)},handleImmidiate(){N(this.examsAfterDelivery,"Time for postnatal check")==="immediately after delivery"||N(this.examsAfterDelivery,"Time for postnatal check")==="1 hour after delivery"?(u(this.examsAfterDelivery,"Systolic blood pressure","displayNone",!1),u(this.examsAfterDelivery,"Pulse","displayNone",!1)):(u(this.examsAfterDelivery,"Systolic blood pressure","displayNone",!0),u(this.examsAfterDelivery,"Pulse","displayNone",!0))},handleHour(){N(this.examsAfterDelivery,"Time for postnatal check")==="1 hour after delivery"?(u(this.examsAfterDelivery,"Temperature","displayNone",!1),I(this.examsAfterDelivery,"Raptured Uterus","displayNone",!1),I(this.examsAfterDelivery,"Lochia","displayNone",!1),I(this.examsAfterDelivery,"Woman urinated","displayNone",!1)):(u(this.examsAfterDelivery,"Temperature","displayNone",!0),I(this.examsAfterDelivery,"Raptured Uterus","displayNone",!0),I(this.examsAfterDelivery,"Lochia","displayNone",!0),I(this.examsAfterDelivery,"Woman urinated","displayNone",!0))},handleUrine(){N(this.examsAfterDelivery,"Woman urinated")==="Yes"?(u(this.examsAfterDelivery,"Time","displayNone",!1),u(this.examsAfterDelivery,"amount of urine","displayNone",!1),u(this.examsAfterDelivery,"color of urine","displayNone",!1)):(u(this.examsAfterDelivery,"Time","displayNone",!0),u(this.examsAfterDelivery,"amount of urine","displayNone",!0),u(this.examsAfterDelivery,"color of urine","displayNone",!0))}}}),iD={class:"container"};function oD(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",iD,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.examsAfterDelivery,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const lD=O(sD,[["render",oD],["__scopeId","data-v-cef1a91e"]]),rD=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G},data(){return{iconsContent:P,initialData:[]}},computed:{...w(pn,["ReasonForSubsequentVisit"])},mounted(){const e=pn();this.initialData=e.getInitial1(),this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit()},watch:{ReasonForVisit:{handler(){this.handleFirstAntenalVisit(),this.handleSpecificConcernsVisit()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{navigationMenu(e){Ue.close(),this.$router.push(e)},handleFirstAntenalVisit(){},handleSpecificConcernsVisit(){}}}),dD={class:"container"};function cD(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",dD,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.ReasonForSubsequentVisit,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const uD=O(rD,[["render",cD],["__scopeId","data-v-664c84b2"]]),hD=B({components:{IonButton:it,BabyDetailsModal:ms,IonToggle:me,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonInput:ae,BasicInputField:ee,BasicForm:G,FeatusModal:Wi},data(){return{iconsContent:P,vValidations:"",hasValidationErrors:[],FeatusModalOpen:!1,arrayOfFeatus:[],selectedFeatus:0,initialData:[]}},computed:{...w($t,["fetalAssessment","fetalDetails"]),...w(Xn,["fetalPresentation"]),...w($t,["fetalsDetails"])},mounted(){const e=$t();this.initialData=e.getInitialFetalAssesment()},watch:{fetalAssessment:{handler(){this.handleNumberOfFetuses()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{handleInputData(e){Ke(this.fetalAssessment,Hi,e.name,e.value)},selectFeatus(e){this.selectedFeatus=e;const t=this.fetalsDetails.find(s=>s.featus==e);$t().setFetalDetails(t.details),this.toggleFetalModal()},handleNumberOfFetuses(){const e=oe(this.fetalAssessment,"Number of fetuses","value");this.arrayOfFeatus=[...Array(Number(e)).keys()]},handleAddFeatusDetails(e){$t().setFetalDetails(),this.selectedFeatus=e,this.toggleFetalModal()},closeFetalModal(){},handleFeatusYes(){this.toggleFetalModal();const e=$t(),t=this.fetalsDetails.findIndex(a=>a.featus==this.selectedFeatus);t<0?this.fetalsDetails.push({featus:this.selectedFeatus,details:[...$e.cloneDeep(e.fetalDetails)]}):this.fetalsDetails[t].details=[...$e.cloneDeep(e.fetalDetails)],e.setFetalDetails()},handleFeatusNo(){this.toggleFetalModal(),$t().fetalAssessment.setFetalDetals()},toggleFetalModal(){this.FeatusModalOpen=!this.FeatusModalOpen},navigationMenu(e){Ue.close(),this.$router.push(e)},checkIfSubmitted(e){return this.fetalsDetails.find(t=>t.featus==e)}}}),pD={class:"container"},mD={key:0};function fD(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("FeatusModal"),f=d("ion-button"),y=d("ion-card-content"),D=d("ion-card");return p(),v("div",pD,[n(D,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"},{default:i(()=>t[0]||(t[0]=[S("Fetal assessment results")])),_:1,__:[0]})]),_:1}),n(y,null,{default:i(()=>[n(h,{contentData:e.fetalAssessment,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"]),n(m,{closeModalFunc:e.closeFetalModal,onYes:e.handleFeatusYes,onNo:e.handleFeatusNo,isOpen:e.FeatusModalOpen,title:""},null,8,["closeModalFunc","onYes","onNo","isOpen"]),e.arrayOfFeatus.length>0?(p(),v("div",mD,[(p(!0),v(te,null,he(e.arrayOfFeatus,C=>(p(),v("div",{key:C},[e.checkIfSubmitted(C)?$("",!0):(p(),A(f,{key:0,onClick:E=>e.handleAddFeatusDetails(C)},{default:i(()=>[S("Add Featus "+k(C+1),1)]),_:2},1032,["onClick"])),e.checkIfSubmitted(C)?(p(),A(f,{key:1,onClick:E=>e.selectFeatus(C)},{default:i(()=>[S("View Featus "+k(C+1),1)]),_:2},1032,["onClick"])):$("",!0)]))),128))])):$("",!0)]),_:1})]),_:1})])}const _D=O(hD,[["render",fD],["__scopeId","data-v-c7a76c0d"]]),mi=[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Clinical counselling done?",selectedValue:"",name:"Clinical counselling",class:"bold"},data:[{name:"Counseling conducted on the risks of severe hypertension",value:"Counseling conducted on the risks of severe hypertension",checked:!1,colSize:12},{name:"Counselling on HIV positive",value:"Counselling on HIV positive",checked:!1,colSize:12},{name:"Counselling on Hepatitis B",value:"Counselling on Hepatitis B",checked:!1,colSize:12},{name:"Counselling on Hepatitis C",value:"Counselling on Hepatitis C",checked:!1,colSize:12},{name:"Counselling on Syphilis",value:"Counselling on Syphilis",checked:!1,colSize:12},{name:"Counselling on TB screening",value:"Counselling on TB screening",checked:!1,colSize:12},{name:"Counselling on gestational diabetes mellitus (GDM)",value:"Counselling on gestational diabetes mellitus (GDM)",checked:!1,colSize:12},{name:"Counselling on anaemia conducted",value:"Counselling on anaemia conducted",checked:!1,colSize:12}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",sideColSize:0,checkboxBtnContent:{header:{title:"Reason if any clinical counselling not conducted?",selectedValue:"",name:"Reason clinical counselling not done",class:"bold"},data:[{name:"Client was referred",value:"client was referred",colSize:"7"},{name:"Other",value:"Other",colSize:"7"}]}},{childName:"Other",classDash:"dashed_bottom_border",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",icon:P.editPen,name:"Other notes",inputType:"",valueType:"text",value:"",eventType:"input",inputWidth:"100%",required:!0}]}]}}],fi=qe("clinicalCounsellingStore",{state:()=>({clinicalCounselling:[...mi]}),actions:{addBehaviourInfo(e){this.clinicalCounselling=e},getInitial(){return[...$e.cloneDeep(mi)]}},persist:!0}),vD=B({name:"diagnosisTreatment",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonTitle:j,IonToolbar:W,IonMenu:Y,menuController:Ue,IonToggle:me,IonSelectOption:ve,IonInput:ae,IonSelect:ge,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie},data(){return{currentSection:0,initialData:[]}},setup(){return{checkmark:ie,pulseOutline:le}},computed:{...w(fi,["clinicalCounselling"])},mounted(){const e=fi();this.initialData=e.getInitial()},watch:{},methods:{goToNextSection(){this.currentSection<4&&this.currentSection++}}}),gD={class:"container"};function yD(e,t,a,s,o,r){const l=d("ion-card-title"),c=d("ion-card-header"),h=d("basic-form"),m=d("ion-card-content"),f=d("ion-card");return p(),v("div",gD,[n(f,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{class:"dashed_bottom_border sub_item_header"})]),_:1}),n(m,null,{default:i(()=>[n(h,{contentData:e.clinicalCounselling,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const bD=O(vD,[["render",yD],["__scopeId","data-v-7c916b1b"]]),nn=qe("labourWomanBehaviourStore",{state:()=>({dailyCaffeineIntake:[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{class:"bold",title:"Daily caffeine intake",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than 2 cups of coffee",value:"more than 2 cups of coffee",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than 4 cups of tea",value:"more than 4 cups of tea",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than 12 bars of chocolate",value:"more than 12 bars of chocolate",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"More than one bottle of soda, energy, soft drink",value:"more than one bottle of soda, energy, soft drink",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Daily caffeine use"},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"7",justify:"space-between"}]}}],Tobacco:[{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Recently quit tobacco products",selectedValue:"",name:"Recently quit tobacco products"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Exposure to second hand smoke",selectedValue:"",name:"Exposure to second hand smoke"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Pica",selectedValue:"",name:"Pica"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}},{classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"Alcohol Intake",selectedValue:"",name:"Alcohol"},data:[{value:"Yes",name:"Yes",colSize:"2.5"},{value:"No",name:"No",colSize:"2.5"}]}}]}),actions:{setPersonalInformation(e){this.dailyCaffeineIntake=e}}}),DD=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Kt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(yt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e,t,a,s;try{const o=await Ae.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Daily caffeine use"),r=await Ae.getAllValueCoded(((t=this.patient)==null?void 0:t.patientID)||"","Recently quit tobacco products"),l=await Ae.getAllValueCoded(((a=this.patient)==null?void 0:a.patientID)||"","Exposure to second hand smoke"),c=await Ae.getAllValueCoded(((s=this.patient)==null?void 0:s.patientID)||"","Alcohol"),h=[...o,...r,...l,...c];console.log("Fetched Daily caffeine use:",h),this.immunisation=h}catch(o){console.error("Error fetching Daily caffeine use:",o)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patient_id,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){Ct(Qt)}}}),SD={class:"visitContent"},CD={class:"visitData"},wD={key:0},ID={style:{"max-width":"1000px"}},PD={key:1,class:"noData"};function ND(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",SD,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",CD,[e.immunisation&&e.immunisation.length>0?(p(),v("div",wD,[_("div",ID,[t[1]||(t[1]=_("div",{class:"heading"},"WOMAN BEHAVIOUR",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,he(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",PD,"WOMEN BEHAVIOUR DATA IS EMPTY"))])]),_:1})]),_:1})])}const kD=O(DD,[["render",ND],["__scopeId","data-v-06755d32"]]),BD=B({name:"Menu",components:{BasicForm:G,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,LabourBehaviourHistory:kD},data(){return{iconsContent:P,currentSection:0}},mounted(){nn(),nn(),this.handleNone()},watch:{dailyCaffeineIntake:{handler(e){this.handleNone(),this.handleInputData(e)},deep:!0}},computed:{...w(nn,["dailyCaffeineIntake"]),...w(nn,["Tobacco"]),DailyCaffeineIntake(){return ue(this.dailyCaffeineIntake,"Daily caffeine use")},SubstanceAbuse(){return N(this.Tobacco,"Recently quit tobacco products")},SecondHandSmoke(){return N(this.Tobacco,"Exposure to second hand smoke")}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{validationCaffeineRules(e){return Pt(this.dailyCaffeineIntake,e.name,this[e.name])},validationTobaccoRules(e){return Pt(this.dailyCaffeineIntake,e.name,this[e.name])},async handleInputData(e){this.validationCaffeineRules(e),this.validationTobaccoRules(e)},handleNone(){var t;const e=["More than 2 cups of coffee","More than 4 cups of tea","More than 12 bars of chocolate","More than one bottle of soda, energy, soft drink"];(t=ue(this.dailyCaffeineIntake,"None"))!=null&&t.checked?e.forEach(a=>{L(this.dailyCaffeineIntake,a,"checked",!1),L(this.dailyCaffeineIntake,a,"disabled",!0)}):e.forEach(a=>{L(this.dailyCaffeineIntake,a,"disabled",!1)})},navigationMenu(e){Ue.close(),this.$router.push(e)}}}),$D={class:"container"};function MD(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",$D,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.dailyCaffeineIntake,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1}),n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.Tobacco,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const AD=O(BD,[["render",MD],["__scopeId","data-v-c7a27dd7"]]),ED=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Kt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(yt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ae.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Does the woman have any allergies?");console.log("Fetched allergies use:",t),this.immunisation=t}catch(t){console.error("Error fetching allergies use:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){Ct(Qt)}}}),VD={class:"visitContent"},OD={class:"visitData"},TD={key:0},FD={style:{"max-width":"1000px"}},HD={key:1,class:"noData"};function RD(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",VD,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",OD,[e.immunisation&&e.immunisation.length>0?(p(),v("div",TD,[_("div",FD,[t[1]||(t[1]=_("div",{class:"heading"},"ALLERGIES",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,he(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",HD,"ALLERGIES DATA IS EMPTY"))])]),_:1})]),_:1})])}const LD=O(ED,[["render",RD],["__scopeId","data-v-3ee41ee7"]]),Ye={albendazole:{name:"Albendazole",value:"albendazole"},aluminiumHydroxide:{name:"Aluminium-hydroxide",value:"aluminium-hydroxide"},calcium:{name:"Calcium",value:"calcium"},chamomile:{name:"Chamomile",value:"chamomile"},folicAcid:{name:"Folic-acid",value:"folic-acid"},ginger:{name:"Ginger",value:"ginger"},fish:{name:"Fish",value:"fish"},iron:{name:"Iron",value:"iron"},malariaMedication:{name:"Sulfadoxine-Pyrimethamine",value:"Sulfadoxine-Pyrimethamine"},mebendazole:{name:"Mebendazole",value:"mebendazole"},penicillin:{name:"Penicillin",value:"penicillin"},prEPTenofovirDisoproxilFumarate:{name:"PrEP(TDF)",value:"PrEP(TDF)"}},xD=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have any allergies?",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Ye.albendazole.name,disabled:!1,value:Ye.albendazole.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Ye.aluminiumHydroxide.name,disabled:!1,value:Ye.aluminiumHydroxide.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Ye.calcium.name,disabled:!1,value:Ye.calcium.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Ye.chamomile.name,disabled:!1,value:Ye.chamomile.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Ye.folicAcid.name,disabled:!1,value:Ye.folicAcid.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Ye.ginger.name,disabled:!1,value:Ye.ginger.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Ye.fish.name,disabled:!1,value:Ye.fish.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Ye.iron.name,disabled:!1,value:Ye.iron.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Ye.malariaMedication.name,disabled:!1,value:Ye.malariaMedication.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Ye.mebendazole.name,disabled:!1,value:Ye.mebendazole.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:Ye.penicillin.name,disabled:!1,value:Ye.penicillin.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Ye.prEPTenofovirDisoproxilFumarate.name,disabled:!1,value:Ye.prEPTenofovirDisoproxilFumarate.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any allergies?"},data:[{name:"None",value:"none",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:"Other",value:"other",disabled:!1,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{childName:"Other",classDash:"dashed_bottom_border",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",icon:P.editPen,value:"",name:"Other notes",valueType:"text",eventType:"input",inputWidth:"82%",required:!0}]}]}}],UD=qe("labourAllergiesStore",{state:()=>({labourAllergies:[...xD]}),actions:{addAllegy(e){this.labourAllergies=e}}}),zD=B({name:"Past Surguries",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,LabourAllergiesHistory:LD},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=we(),t=we(),a=we();we(),we(),we(),we(),we(),we(),we(),we(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleAllergies()},watch:{allegy:{handler(){this.handleAllergies()},deep:!0}},computed:{...w(UD,["labourAllergies"])},methods:{async getFacility(e){return await Jt.getFacilities({name:e})},handleAllergies(){var t;const e=["Other","PrEP(TDF)","Albendazole","Aluminium-hydroxide","Calcium","Sulfadoxine-Pyrimethamine","Chamomile","Folic-acid","Ginger","Fish","Iron","Mebendazole","Penicillin"];(t=ue(this.labourAllergies,"None"))!=null&&t.checked?e.forEach(a=>{L(this.labourAllergies,a,"checked",!1),L(this.labourAllergies,a,"disabled",!0)}):e.forEach(a=>{L(this.labourAllergies,a,"disabled",!1)})}}}),qD={class:"container"},WD={class:"ion-padding",slot:"content"};function GD(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourAllergiesHistory"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card");return p(),v("div",qD,[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Allergies History")])),_:1,__:[0]})]),_:1}),_("div",WD,[n(h)])]),_:1})]),_:1},512),n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.labourAllergies,initialData:e.initialData1},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const jD=O(zD,[["render",GD],["__scopeId","data-v-5da4e321"]]),YD=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Kt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(yt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ae.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Does the woman have any past surgeries done?");console.log("Fetched past surgeries use:",t),this.immunisation=t}catch(t){console.error("Error fetching past surgeries use:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){Ct(Qt)}}}),JD={class:"visitContent"},KD={class:"visitData"},QD={key:0},XD={style:{"max-width":"1000px"}},ZD={key:1,class:"noData"};function e1(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",JD,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",KD,[e.immunisation&&e.immunisation.length>0?(p(),v("div",QD,[_("div",XD,[t[1]||(t[1]=_("div",{class:"heading"},"PAST SURGERIES DATA",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,he(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",ZD,"PAST SURGERIES DATA IS EMPTY"))])]),_:1})]),_:1})])}const t1=O(YD,[["render",e1],["__scopeId","data-v-29d3b668"]]),kt={dilationAndCurrettage:{name:"Dilation and currettage",value:"dilation and currettage"},Myomectomy:{name:"Myomectomy",value:"myomectomy"},removalOfOvarianCystst:{name:"Removal of ovarian cyst",value:"Removal of ovarian cyst"},Oophorectomy:{name:"Oophorectomy",value:"oophorectomy"},Salpingectomy:{name:"Salpingectomy"},cervicalCone:{name:"Cervical cone",value:"cervical cone"}},_i=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have any past medical and surgical?",selectedValue:"",class:"bold",name:"Does the woman have any past surgeries done?"},data:[{name:kt.dilationAndCurrettage.name,value:kt.dilationAndCurrettage.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:kt.Myomectomy.name,value:kt.Myomectomy.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Past surgeries done?"},data:[{name:kt.removalOfOvarianCystst.name,value:kt.removalOfOvarianCystst.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:kt.Oophorectomy.name,value:kt.Oophorectomy.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any past surgeries done?"},data:[{name:kt.Salpingectomy.name,value:kt.Salpingectomy.name,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:kt.cervicalCone.name,value:kt.cervicalCone.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"Does the woman have any past surgeries done?"},data:[{name:"None",value:"none",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:"Other",value:"Other",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{childName:"Other",classDash:"dashed_bottom_border",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify",icon:P.editPen,value:"",name:"Other notes",valueType:"text",eventType:"input",inputWidth:"82%",required:!0}]}]}}],a1=qe("labourPastSurgeriesStore",{state:()=>({labourPastSurgeries:[..._i]}),actions:{addLabourPastSurgeries(e){this.labourPastSurgeries=e},getInitial(){return[...$e.cloneDeep(_i)]}}}),n1=B({name:"Past Surguries",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,LabourPastSurgeriesHistory:t1},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=we(),t=we(),a=we();we(),we(),we(),we(),we(),we(),we(),we(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleSurgries()},watch:{medicalHistory:{handler(){this.handleSurgries(),this.handleDisable()},deep:!0}},computed:{...w(a1,["labourPastSurgeries"])},methods:{async getFacility(e){return await Jt.getFacilities({name:e})},handleSurgries(){var t;const e=["Dilation and currettage","Myomectomy","Removal of ovarian cystst","Oophorectomy","Removal of ovarian cyst","Salpingectomy","Cervical cone","Other"];(t=ue(this.labourPastSurgeries,"None"))!=null&&t.checked?e.forEach(a=>{L(this.labourPastSurgeries,a,"checked",!1),L(this.labourPastSurgeries,a,"disabled",!0)}):e.forEach(a=>{L(this.labourPastSurgeries,a,"disabled",!1)})},handleDisable(){ue(this.labourPastSurgeries,"NoSurgery")=="otherSurguries"?Le(this.labourPastSurgeries,"Other","disabled",!0):Le(this.labourPastSurgeries,"Other","disabled",!1)}}}),s1={class:"container"},i1={class:"ion-padding",slot:"content"};function o1(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourPastSurgeriesHistory"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card");return p(),v("div",s1,[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Surgeries History")])),_:1,__:[0]})]),_:1}),_("div",i1,[n(h)])]),_:1})]),_:1},512),n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.labourPastSurgeries,initialData:e.initialData},null,8,["contentData","initialData"])]),_:1})]),_:1})])}const l1=O(n1,[["render",o1],["__scopeId","data-v-d7e6d6d0"]]),r1=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Kt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(yt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ae.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","chronic conditions");console.log("Fetched chronic conditions:",t),this.immunisation=t}catch(t){console.error("Error fetching chronic conditions:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){Ct(Qt)}}}),d1={class:"visitContent"},c1={class:"visitData"},u1={key:0},h1={style:{"max-width":"1000px"}},p1={key:1,class:"noData"};function m1(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",d1,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",c1,[e.immunisation&&e.immunisation.length>0?(p(),v("div",u1,[_("div",h1,[t[1]||(t[1]=_("div",{class:"heading"},"CHRONIC CONDITIONS",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,he(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",p1,"CHRONIC CONDITIONS DATA IS EMPTY"))])]),_:1})]),_:1})])}const f1=O(r1,[["render",m1],["__scopeId","data-v-f729b889"]]),sn={autoImmuneDesease:{name:"Auto-immune desease",value:"auto immune disease"},asthma:{name:"Asthma",value:"asthma"}},va={sickleCell:{name:"Sickle cell",value:"sickle cell"},anaemia:{name:"Anemia",value:"anemia"},thalassemia:{name:"Thalassemia",value:"thalassemia"}},vi={gynaelogical:{name:"Gynae Cancer",value:"gynae cancer"}},on={ccf:{name:"CCF"},rhd:{name:"RHD",value:"rhd"}},ca={gestationalDiabetes:{name:"Gestational diabetes",value:"gestational diabetes"},preExistingType1:{name:"Diabetes Type 1",value:"diabetes type 1"},preExistingType2:{name:"Diabetes Type 2",value:"diabetes type 2"},otherDiabetis:{name:""}},gi={epilespy:{name:"Epilepsy",value:"epilepsy"}},et={hivTestRequired:{name:"HIV test required",value:"HIV test required"},hivTestOrdered:{name:"HIV test ordered",value:"HIV test ordered"},hivTestConducted:{name:"HIV test ordered"},hivTestNotDone:{name:"HIV test not done"},testStockOut:{value:"Test stock-out"},expiredTests:{value:" expired tests"},hivPositive:{name:"HIV Positive",value:"HIV Positive"},hivNegative1:{name:"HIV Negative 1",value:"HIV Negative 1"},hivNegative2:{name:"HIV Negative 2",value:"HIV Negative 2"},inconclusive:{name:"Inconclusive",value:"inconclusive"},highRiskYes:{name:"Yes",value:"yes"},highRiskNo:{name:"No",value:"no"},reasonsTestNotDone:{name:"",value:"reasonsTestNotDone"}},at={syphilisTestConducted:{name:"Syphilis test conducted",value:"Syphilis test conducted"},syphilisTestOrdered:{name:"Syphilis test ordered",value:"Syphilis test ordered"},syphilisTestNotDone:{name:"Syphilis Test Not Done",value:"syphilisTestNotDone"},rapidSyphilisTest:{name:"Rapid syphilis test",value:"rapid syphilis test"},offSiteLabTest:{name:"Off-site lab test",value:"Off-site lab test"},treponemaPallidum:{name:"TPHA",value:"TPHA"},testStockOut:{name:"Test stock-out",value:"Test stock-out"},expiredTests:{name:"Expired tests",value:"Expired tests"},syphilisPositiveResults:{name:"Syphilis positive",value:"Syphilis positive"},syphilisNegativeResults:{name:"Syphilis Negative",value:"syphilis negative"},reasonsTestNotDone:{value:""}},yi={hypertension:{name:"Hypertension",value:"hypertension"}},bi={kidney:{name:"Kidney Disease",value:"kidney disease"}},Di={tb:{name:"TB",value:"tb"}},Si={mentalIlliness:{name:"Mental illness",value:"mental illness"}},Ci=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Does the woman have existing Chronic Health Conditions? *",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:sn.autoImmuneDesease.name,value:sn.autoImmuneDesease.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:sn.asthma.name,value:sn.asthma.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:va.sickleCell.name,value:va.sickleCell.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:vi.gynaelogical.name,value:vi.gynaelogical.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:va.anaemia.name,value:va.anaemia.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:va.thalassemia.name,value:va.thalassemia.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:on.ccf.name,value:on.rhd.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:on.rhd.name,value:on.rhd.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:ca.gestationalDiabetes.name,value:ca.gestationalDiabetes.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:ca.preExistingType1.name,value:ca.preExistingType1.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:ca.preExistingType2.name,value:ca.preExistingType2.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:gi.epilespy.name,value:gi.epilespy.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:yi.hypertension.name,value:yi.hypertension.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:bi.kidney.name,value:bi.kidney.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:Di.tb.name,value:Di.tb.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:Si.mentalIlliness.name,value:Si.mentalIlliness.value,labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:"HIV positive",value:"hiv positive",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1},{name:"Other",value:"other",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",class:"bold",name:"chronic conditions"},data:[{name:"None",value:"none",labelPlacement:"start",colSize:"6",justify:"space-between",checked:!1}]}},{sideColSize:0,classDash:"dashed_bottom_border",childName:"Other",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify other chronic conditions",icon:P.editPen,valueType:"text",value:ca.otherDiabetis.name,name:"Other notes",eventType:"input",inputWidth:"85%",required:!0}]}]}},{classDash:"dashed_bottom_border",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"HIV test date",icon:P.calenderPrimary,value:"",name:"HIV test date",eventType:"blur",valueType:"text",inputWidth:"50%",required:!0,isDatePopover:!0,placeholder:"Pick date"}]}]}},{childName:"HIV positive",sideColSize:.5,selectdData:[],classDash:"dashed_bottom_border",isFinishBtn:!1,radioBtnContent:{header:{title:"Is the client on ART?",selectedValue:"",name:"chronic conditions",displayNone:!0,displayNext:"Yes"},data:[{name:"Yes",value:"Yes",colSize:"2.5"},{name:"No",value:"no",colSize:"2.5"}]}},{childName:"chronic conditions",classDash:"dashed_bottom_border",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"ART number",value:"",name:"Art number",eventType:"blur",valueType:"text",inputWidth:"50%",required:!0}]}]}},{childName:"chronic conditions",sideColSize:.5,db_data:[],classDash:"dashed_bottom_border",isFinishBtn:!1,selectdData:[],displayData:[],data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Facility for ART",icon:P.search,value:"",name:"facility for art",popOver:!0,valueType:"text",eventType:"input",required:!0,alertsErrorMassage:"",inputWidth:"50%",placeholder:"Search for facility",popOverData:{filterData:!1,data:[]},id:"",idName:"facility_id"}]}]}}],Wn=qe("labourChronicHealthConditionsStore",{state:()=>({labourChronicHealthConditions:[...Ci],labourHivTest:[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Was the hiv test conducted?",selectedValue:"",class:"bold",name:"hivOption"},data:[{name:et.hivTestRequired.name,value:et.hivTestRequired.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.hivTestOrdered.name,value:et.hivTestOrdered.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.hivTestConducted.name,value:"hivTestConducted",labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.hivTestNotDone.name,value:"hivTestNotDone",labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{data:{rowData:[{colData:[{inputHeader:"HIV test date",icon:P.calenderPrimary,value:"",name:"Test Date",eventType:"blur",required:!0,isDatePopover:!0}]}]}},{checkboxBtnContent:{header:{title:"Reasons HIV test not done:",selectedValue:"",class:"bold",name:"hivOutcome"},data:[{name:"Test Stock Out",value:et.testStockOut.value,labelPlacement:"start",colSize:"9",justify:"space-between",checked:!1},{name:"Expired Tests",value:et.expiredTests.value,labelPlacement:"start",colSize:"9",justify:"space-between",checked:!1},{name:"Other",value:"other",labelPlacement:"start",colSize:"9",justify:"space-between",checked:!1}]}},{data:{rowData:[{colData:[{inputHeader:"specify",icon:P.editPen,value:et.reasonsTestNotDone.name,name:et.reasonsTestNotDone.value,eventType:"input",inputWidth:"55%",required:!0}]}]}},{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Select the result of HIV test",name:"test2",selectedValue:"",class:"bold"},data:[{name:et.hivPositive.name,value:et.hivPositive.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.hivNegative1.name,value:et.hivNegative1.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.hivNegative2.name,value:et.hivNegative2.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.inconclusive.name,value:et.inconclusive.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{name:"test1",title:"Is the woman at high risk of HIV?",selectedValue:"",class:"bold"},data:[{name:et.highRiskYes.name,value:et.highRiskYes.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:et.highRiskNo.name,value:et.highRiskNo.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}}],labourSyphilisTest:[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{title:"Select whether:",name:"syphilisOption",class:"bold",selectedValue:""},data:[{name:at.syphilisTestConducted.name,value:at.syphilisTestConducted.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:at.syphilisTestOrdered.name,value:at.syphilisTestOrdered.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:at.syphilisTestNotDone.name,value:at.syphilisTestNotDone.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{radioBtnContent:{header:{displayNone:!0,name:"syphilisDetails",class:"bold",title:"Select the type of syphilis test that was done",selectedValue:""},data:[{name:at.rapidSyphilisTest.name,value:at.rapidSyphilisTest.value,labelPlacement:"start",colSize:"7",justify:"space-between",checked:!1},{name:at.offSiteLabTest.name,value:at.offSiteLabTest.value,labelPlacement:"start",colSize:"7",justify:"space-between",checked:!1},{name:at.treponemaPallidum.name,value:at.treponemaPallidum.value,labelPlacement:"start",colSize:"7",justify:"space-between",checked:!1}]}},{selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{title:"Syphilis test result",class:"bold",selectedValue:"",name:"syphlisResults"},data:[{name:at.syphilisPositiveResults.name,value:at.syphilisPositiveResults.value,labelPlacement:"start",colSize:"7",justify:"space-between"},{name:at.syphilisNegativeResults.name,value:at.syphilisNegativeResults.value,labelPlacement:"start",colSize:"7",justify:"space-between"}]}},{data:{rowData:[{colData:[{inputHeader:"Syphilis test date",icon:P.calenderPrimary,value:"",name:"syphilisDate",eventType:"blur",required:!0,inputWidth:"55%",isDatePopover:!0}]}]}},{data:{rowData:[{colData:[{inputHeader:"Syphilis test date",icon:P.calenderPrimary,value:"",name:"syphilisDate",eventType:"blur",required:!0,inputWidth:"300px",isDatePopover:!0}]}]}},{selectdData:[],isFinishBtn:!1,checkboxBtnContent:{header:{title:"Reason syphilis test not done",selectedValue:"",name:"notDone",class:"bold"},data:[{name:at.testStockOut.name,value:at.testStockOut.value,checked:!1,labelPlacement:"start",colSize:"9",justify:"space-between"},{name:at.expiredTests.name,value:at.expiredTests.value,checked:!1,labelPlacement:"start",colSize:"9",justify:"space-between"},{name:"Other",value:"other",checked:!1,labelPlacement:"start",colSize:"9",justify:"space-between"}]}},{data:{rowData:[{colData:[{inputHeader:"specify",icon:P.editPen,value:at.reasonsTestNotDone.value,name:"Reason",eventType:"input",inputWidth:"55%",required:!0}]}]}}]}),actions:{addExisitingChronicHealthConditions(e){this.labourChronicHealthConditions=e},addhivTest(e){this.labourHivTest=e},addSyphilisTest(e){this.labourSyphilisTest=e},getInitial2(){return[...$e.cloneDeep(Ci)]}}}),_1=B({name:"Past Surguries",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,LabourChronicHistory:f1},data(){return{currentSection:0,initialData:[],initialData1:[],initialData2:[],no_item:!1,search_item:!1,display_item:!1,addItemButton:!0,selectedText:"",conditionStatus:"",data:[],facilityData:[],popoverOpen:!1,event:"",selectedCondition:""}},mounted(){const e=we(),t=we(),a=we();we(),we(),we(),we(),we(),we(),we(),we(),this.initialData=e.getInitial(),this.initialData1=t.getInitial1(),this.initialData2=a.getInitial2(),this.handleHivResults(),this.handleSyphilis(),this.handleChronicCondition(),this.handleHivConducted(),this.handleHivConductedOptin(),this.handleOtherHiv(),this.handleSyphlisdate(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis(),this.handleTestNotDone(),this.handleHIVPositive()},watch:{hivTest:{handler(){this.handleHivResults(),this.handleOtherHiv(),this.handleHivConducted(),this.handleTestNotDone(),this.handleHivConductedOptin()},deep:!0},syphilisTest:{handler(){this.handleSyphilis(),this.handleSyphlisdate(),this.handleSyphilisNotDone(),this.handleSpecifySyphilis()},deep:!0},exisitingChronicHealthConditions:{handler(e){this.handleChronicCondition(),this.handleHIVPositive(),this.handleInputData(e)},deep:!0}},computed:{...w(Wn,["labourChronicHealthConditions"]),...w(Wn,["labourHivTest"]),...w(Wn,["labourSyphilisTest"]),ExistingChronicConditions(){return ue(this.labourChronicHealthConditions,"chronic conditions")}},methods:{validationRules(e){return Pt(this.labourChronicHealthConditions,e.name,this[e.name])},async handleInputData(e){this.validationRules(e),e.inputHeader=="Facility for ART"&&(this.facilityData=await this.getFacility(e.value),u(this.labourChronicHealthConditions,"facility for art","popOverData",{filterData:!1,data:this.facilityData}))},async getFacility(e){return await Jt.getFacilities({name:e})},handleHIVPositive(){var e;((e=ue(this.labourChronicHealthConditions,"HIV positive"))==null?void 0:e.value)=="hiv positive"?(u(this.labourChronicHealthConditions,"HIV test date","displayNone",!1),I(this.labourChronicHealthConditions,"Is client on ART","displayNone",!1)):(u(this.labourChronicHealthConditions,"HIV test date","displayNone",!0),I(this.labourChronicHealthConditions,"Is client on ART","displayNone",!0))},handleHivResults(){N(this.labourHivTest,"test2")=="hivPositive"?I(this.labourHivTest,"test1","displayNone",!1):I(this.labourHivTest,"test1","displayNone",!0)},handleHivConductedOptin(){N(this.labourHivTest,"hivOption")=="hivTestConducted"?I(this.labourHivTest,"test2","displayNone",!1):I(this.labourHivTest,"test2","displayNone",!0)},handleOtherHiv(){var e;((e=ue(this.labourHivTest,"Other"))==null?void 0:e.value)=="other"?u(this.labourHivTest,"reasonsTestNotDone","displayNone",!1):u(this.labourHivTest,"reasonsTestNotDone","displayNone",!0)},handleSyphilis(){N(this.labourSyphilisTest,"syphilisOption")=="syphilisTestConducted"?I(this.labourSyphilisTest,"syphilisDetails","displayNone",!1):I(this.labourSyphilisTest,"syphilisDetails","displayNone",!0)},handleChronicCondition(){var t;const e=["Auto-immune desease","Asthma","Sickle cell","Anemia","HIV positive","Thalassemia","Gynaecological","CCF","RHD","Gynae Cancer","Diabetes Type 1","Diabetes Type 2","Gestational diabetes","pre-existing type 1","pre-existing type 2","Epilepsy","Hypertension","Kidney Disease","TB","Mental illness","Other"];(t=ue(this.labourChronicHealthConditions,"None"))!=null&&t.checked?e.forEach(a=>{L(this.labourChronicHealthConditions,a,"checked",!1),L(this.labourChronicHealthConditions,a,"disabled",!0)}):e.forEach(a=>{L(this.labourChronicHealthConditions,a,"disabled",!1)})},handleHivConducted(){N(this.labourHivTest,"hivOption")=="hivTestConducted"?u(this.labourHivTest,"testDate","displayNone",!1):u(this.labourHivTest,"testDate","displayNone",!0)},handleTestNotDone(){N(this.labourHivTest,"hivOption")=="hivTestNotDone"?Le(this.labourHivTest,"hivOutcome","displayNone",!1):Le(this.labourHivTest,"hivOutcome","displayNone",!0)},handleSyphlisdate(){N(this.labourSyphilisTest,"syphilisOption")=="syphilisTestConducted"?u(this.labourSyphilisTest,"syphilisDate","displayNone",!1):u(this.labourSyphilisTest,"syphilisDate","displayNone",!0)},handleSyphilisNotDone(){var e;((e=N(this.labourSyphilisTest,"syphilisOption"))==null?void 0:e.value)=="syphilisTestNotDone"?Le(this.labourSyphilisTest,"notDone","displayNone",!1):Le(this.labourSyphilisTest,"notDone","displayNone",!0)},handleSpecifySyphilis(){ue(this.labourSyphilisTest,"Other")=="other"?u(this.labourSyphilisTest,"Reason","displayNone",!1):u(this.labourSyphilisTest,"Reason","displayNone",!0)}}}),v1={class:"container"},g1={class:"ion-padding",slot:"content"};function y1(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourChronicHistory"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card");return p(),v("div",v1,[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Chronical Health conditions History")])),_:1,__:[0]})]),_:1}),_("div",g1,[n(h)])]),_:1})]),_:1},512),n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.labourChronicHealthConditions,initialData:e.initialData2,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const b1=O(_1,[["render",y1],["__scopeId","data-v-2ba09954"]]),D1=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Kt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(yt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ae.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","The woman received tetanus doses for immunization?");console.log("Fetched tetanus doses for immunization:",t),this.immunisation=t}catch(t){console.error("Error fetching tetanus doses for immunization:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){Ct(Qt)}}}),S1={class:"visitContent"},C1={class:"visitData"},w1={key:0},I1={style:{"max-width":"1000px"}},P1={key:1,class:"noData"};function N1(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",S1,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",C1,[e.immunisation&&e.immunisation.length>0?(p(),v("div",w1,[_("div",I1,[t[1]||(t[1]=_("div",{class:"heading"},"IMMUNISATION DATA",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,he(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",P1,"IMMUNISATION DATA IS EMPTY"))])]),_:1})]),_:1})])}const k1=O(D1,[["render",N1],["__scopeId","data-v-4e85aaa3"]]);ds().shape({"The woman received tetanus doses for immunization?":Vo().required("This field is required")});const wi=[{selectdData:[],isFinishBtn:!1,classDash:"dashed_bottom_border",radioBtnContent:{header:{class:"bold",title:"The woman received tetanus doses for immunization*?",selectedValue:"",name:"The woman received tetanus doses for immunization?",alertsErrorMassage:""},data:[{name:"Fully Immunised",value:"fully immunised",colSize:"4"},{name:"Under Immunised",value:"under immunised",colSize:"4"},{name:"No doses",value:"no doses",colSize:"4.001"},{name:"Unknown doses",value:"unknown doses",colSize:"4"}]}},{selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{class:"bold",title:"Number of under immunised tetanus doses",selectedValue:"",displayNone:!0,name:"Number of tetanus doses",alertsErrorMassage:""},data:[{name:"One dose",value:"one dose",colSize:"4"},{name:"Two doses",value:"two doses",colSize:"4"},{name:"Three doses",value:"three doses",colSize:"4.001"},{name:"Four doses",value:"four doses",colSize:"4"}]}},{isFinishBtn:!1,classDash:"",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt6Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,classDash:"",sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt7Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 2 immunisation date",value:"",name:"tt8Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""}]}]}},{sideColSize:.5,isFinishBtn:!1,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt9Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 2 immunisation date",value:"",name:"tt10Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 3 immunisation date",value:"",name:"tt11Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"tt1Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 2 immunisation date",value:"",name:"tt2Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 3 immunisation date",value:"",name:"tt3Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 4 immunisation date",value:"",name:"tt4Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{displayNone:!0,inputHeader:"TTV 5 immunisation date",value:"",name:"tt5Date",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,sideColSize:.5,data:{rowData:[{colData:[{displayNone:!0,inputHeader:"TTV 1 immunisation date",value:"",name:"12",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 2 immunisation date",value:"",name:"13",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 3 immunisation date",value:"",name:"14",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""},{inputHeader:"TTV 4 immunisation date",value:"",name:"15",isDatePopover:!0,icon:P.calenderPrimary,placeholder:"Pick the date",required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""}]}]}},{sideColSize:.5,selectdData:[],isFinishBtn:!1,radioBtnContent:{header:{class:"bold",title:"Reason Tetanus toxoid (TT) was not conducted",name:"Reason Tetanus toxoid (TT) was not conducted",selectedValue:"",displayNone:!0,alertsErrorMassage:""},data:[{name:"Stockout",value:"stockout",colSize:"5"},{name:"Client is ill",value:"client is ill",colSize:"5"},{name:"Client refused",value:"client refused",colSize:"5"},{name:"Allergy to vaccine",value:"allergy",colSize:"5"},{name:"Other",value:"other",colSize:"5"}]}},{classDash:"dashed_bottom_border",sideColSize:.5,isFinishBtn:!1,sectionHeader:"",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify other reasons",value:"",name:"Other",icon:P.editPen,required:!0,eventType:"input",inputWidth:"100%",alertsErrorMassage:""}]}]}}],Ii=qe("labourVaccineStore",{state:()=>({labourTetanus:[...wi]}),actions:{setTetanus(e){this.labourTetanus=e},getInitial(){return[...$e.cloneDeep(wi)]}}}),B1=B({name:"Current",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie,LabourVaccineHistory:k1},data(){return{iconsContent:P,currentPregnanciesInstance:{},inputField:"",setName:"",initialData:[],initialData1:[],initialData2:[]}},computed:{...w(Ii,["labourTetanus"])},mounted(){Bt(),Bt(),Bt();const e=Ii();this.initialData=e.getInitial(),this.handleTetanus(),this.validaterowData({}),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},setup(){return{checkmark:ie,pulseOutline:le}},watch:{labourTetanus:{handler(e){this.handleInputData(e),this.handleTetanus(),this.handleUnderImmunised(),this.handleOneDose(),this.handleTwoDose(),this.handleThreeDose(),this.handleFourDose(),this.handleNodoses(),this.handleOtherDoses()},deep:!0}},methods:{async handleImmunValidation(e){Ke(this.labourTetanus,Ri,e.name,e.value)},validationRules(e){return Pt(this.labourTetanus,e.name,this[e.name])},validaterowData(e){this.validationRules(e)},async handleInputData(e){this.handleImmunValidation(e),this.validaterowData(e)},handleTetanus(){N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="fully immunised"?(u(this.labourTetanus,"tt1Date","displayNone",!1),u(this.labourTetanus,"tt2Date","displayNone",!1),u(this.labourTetanus,"tt3Date","displayNone",!1),u(this.labourTetanus,"tt4Date","displayNone",!1),u(this.labourTetanus,"tt5Date","displayNone",!1)):(u(this.labourTetanus,"tt1Date","displayNone",!0),u(this.labourTetanus,"tt2Date","displayNone",!0),u(this.labourTetanus,"tt3Date","displayNone",!0),u(this.labourTetanus,"tt4Date","displayNone",!0),u(this.labourTetanus,"tt5Date","displayNone",!0))},handleUnderImmunised(){N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?I(this.labourTetanus,"Number of tetanus doses","displayNone",!1):I(this.labourTetanus,"Number of tetanus doses","displayNone",!0)},handleOneDose(){N(this.labourTetanus,"Number of tetanus doses")=="one dose"&&N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?u(this.labourTetanus,"tt6Date","displayNone",!1):u(this.labourTetanus,"tt6Date","displayNone",!0)},handleTwoDose(){N(this.labourTetanus,"Number of tetanus doses")=="two doses"&&N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.labourTetanus,"tt7Date","displayNone",!1),u(this.labourTetanus,"tt8Date","displayNone",!1)):(u(this.labourTetanus,"tt7Date","displayNone",!0),u(this.labourTetanus,"tt8Date","displayNone",!0))},handleThreeDose(){N(this.labourTetanus,"Number of tetanus doses")=="three doses"&&N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.labourTetanus,"tt9Date","displayNone",!1),u(this.labourTetanus,"tt10Date","displayNone",!1),u(this.labourTetanus,"tt11Date","displayNone",!1)):(u(this.labourTetanus,"tt9Date","displayNone",!0),u(this.labourTetanus,"tt10Date","displayNone",!0),u(this.labourTetanus,"tt11Date","displayNone",!0))},handleFourDose(){N(this.labourTetanus,"Number of tetanus doses")=="four doses"&&N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="under immunised"?(u(this.labourTetanus,"12","displayNone",!1),u(this.labourTetanus,"13","displayNone",!1),u(this.labourTetanus,"14","displayNone",!1),u(this.labourTetanus,"15","displayNone",!1)):(u(this.labourTetanus,"12","displayNone",!0),u(this.labourTetanus,"13","displayNone",!0),u(this.labourTetanus,"14","displayNone",!0),u(this.labourTetanus,"15","displayNone",!0))},handleNodoses(){N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="no doses"?I(this.labourTetanus,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!1):I(this.labourTetanus,"Reason Tetanus toxoid (TT) was not conducted","displayNone",!0)},handleOtherDoses(){N(this.labourTetanus,"Reason Tetanus toxoid (TT) was not conducted")=="other"&&N(this.labourTetanus,"The woman received tetanus doses for immunization?")=="no doses"?u(this.labourTetanus,"Other","displayNone",!1):u(this.labourTetanus,"Other","displayNone",!0)}}}),$1={class:"container"},M1={class:"ion-padding",slot:"content"};function A1(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourVaccineHistory"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card");return p(),v("div",$1,[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Vaccine History")])),_:1,__:[0]})]),_:1}),_("div",M1,[n(h)])]),_:1})]),_:1},512),n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.labourTetanus,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData,initialData:e.initialData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue","initialData"])]),_:1})]),_:1})])}const E1=O(B1,[["render",A1],["__scopeId","data-v-f2955169"]]),Pi=[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"Which medications is the woman currently prescribed?*",selectedValue:"",class:"bold"},data:[]}},{sideColSize:.5,selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Oral PreP for HIV",value:"Oral PreP for HIV",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Analgesic",value:"Analgesic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Anti-consulsive",value:"Anti-consulsive",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Anti-TB",value:"Anti-TB",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Antihelmintic",value:"Antihelmintic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Antimarials",value:"Antimarials",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Antitussive",value:"Antitussive",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Aspirin",value:"Aspirin",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Calcium",value:"Calcium",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Doxylamine",value:"Doxylamine",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Hematinic",value:"Hematinic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Iron",value:"Iron",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Metoclopramide",value:"Metoclopramide",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Thyroid medication",value:"Thyroid medication",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Antiacids",value:"Antiacids",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Anti-psychotics",value:"Anti-psychotics",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Anti-diabetic",value:"Anti-diabetic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Anti-hypertensive",value:"Anti-hypertensive",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Asthamatic",value:"Asthamatic",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Co-trimoxazole",value:"Co-trimoxazole",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Folic acid",value:"Folic acid",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Hemorrhoidal medication",value:"Hemorrhoidal medication",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Magnesium",value:"Magnesium",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Multivitamin",value:"Multivitamin",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"Vitamin A",value:"Vitamin A",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Other",value:"other",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{sideColSize:.5,classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"Which medications is the woman currently prescribed?"},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{childName:"Other",sideColSize:.5,isFinishBtn:!1,sectionHeader:"",classDash:"",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"Specify other medications",unit:"",icon:P.editPen,value:"",valueType:"text",name:"Other notes",required:!0,eventType:"input",inputWidth:"100%"}]}]}}],V1=qe("labourMedicationsStore",{state:()=>({LabourMedication:[...Pi]}),actions:{setPersonalInformation(e){this.LabourMedication=e},getInitial(){return[...$e.cloneDeep(Pi)]}},persist:!0}),O1=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Kt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(yt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ae.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","Which medications is the woman currently prescribed?");console.log("Fetched medications use:",t),this.immunisation=t}catch(t){console.error("Error fetching medications use:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){Ct(Qt)}}}),T1={class:"visitContent"},F1={class:"visitData"},H1={key:0},R1={style:{"max-width":"1000px"}},L1={key:1,class:"noData"};function x1(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",T1,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",F1,[e.immunisation&&e.immunisation.length>0?(p(),v("div",H1,[_("div",R1,[t[1]||(t[1]=_("div",{class:"heading"},"MEDICATIONS DATA",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,he(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",L1,"MEDICATIONS DATA IS EMPTY"))])]),_:1})]),_:1})])}const U1=O(O1,[["render",x1],["__scopeId","data-v-1060c254"]]),z1=B({name:"Menu",components:{IonLabel:J,IonTextarea:yn,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,LabourMedicationsHistory:U1},data(){return{iconsContent:P,initialData:[]}},mounted(){this.handleOther();const e=Kn();this.initialData=e.getInitial()},watch:{Medication:{handler(e){this.handleOther(),this.handleInputData(e)},deep:!0}},computed:{...w(V1,["LabourMedication"]),Medications(){return ue(this.LabourMedication,"Which medications is the woman currently prescribed?")}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{navigationMenu(e){Ue.close(),this.$router.push(e)},validationRules(e){return Pt(this.LabourMedication,e.name,this[e.name])},async handleInputData(e){this.validationRules(e)},handleOther(){var t;const e=["Oral PreP for HIV","Analgesic","Anti-consulsive","Anti-TB","Antihelmintic","Antimarials","Antitussive","Aspirin","Calcium","Doxylamine","Hematinic","Iron","Metoclopramide","Thyroid medication","Antiacids","Anti-psychotics","Anti-diabetic","Anti-hypertensive","ARVs","Antivirals","Asthamatic","Co-trimoxazole","Folic acid","Hemorrhoidal medication","Magnesium","Multivitamin","Vitamin A","Other"];(t=ue(this.LabourMedication,"None"))!=null&&t.checked?e.forEach(a=>{L(this.LabourMedication,a,"checked",!1),L(this.LabourMedication,a,"disabled",!0)}):e.forEach(a=>{L(this.LabourMedication,a,"disabled",!1)})}}}),q1={class:"container"};function W1(e,t,a,s,o,r){const l=d("basic-form"),c=d("ion-card-content"),h=d("ion-card");return p(),v("div",q1,[n(h,{class:"section"},{default:i(()=>[n(c,null,{default:i(()=>[n(l,{contentData:e.LabourMedication,initialData:e.initialData,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","initialData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])}const po=O(z1,[["render",W1],["__scopeId","data-v-8c118b36"]]),G1=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Kt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{}}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData()},computed:{...w(yt,["investigations"]),...w(Ne,["patient"]),...w(hn,["activeProgram"]),inputFields(){return this.investigations[0].selectedData}},methods:{async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r,l,c,h,m,f,y,D,C,E,T,U,R;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:"",this.pregnancy["Abortions/Miscarriages"]=(h=(c=(l=this.filterObs(t,"Abortions/Miscarriages"))==null?void 0:l[0])==null?void 0:c.value_text)!=null?h:"",this.pregnancy.Stillbirths=(y=(f=(m=this.filterObs(t,"Stillbirths"))==null?void 0:m[0])==null?void 0:f.value_text)!=null?y:"",this.pregnancy.LiveBirths=(E=(C=(D=this.filterObs(t,"LiveBirths"))==null?void 0:D[0])==null?void 0:C.value_text)!=null?E:"",this.pregnancy.Parity=(R=(U=(T=this.filterObs(t,"Parity"))==null?void 0:T[0])==null?void 0:U.value_text)!=null?R:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){Ct(Qt)}}}),j1={class:"visitContent"},Y1={class:"visitData"},J1={key:0},K1={style:{"max-width":"1000px"}},Q1={key:1,class:"noData"};function X1(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",j1,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",Y1,[Object.values(e.pregnancy).every(h=>h!=="")?(p(),v("div",J1,[_("div",K1,[t[7]||(t[7]=_("div",{class:"heading"},"OBSTETRIC DATA",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{size:"2",class:"contentTitle"},{default:i(()=>t[0]||(t[0]=[S("GRAVIDA")])),_:1,__:[0]}),n(l,{size:"3",class:"contentTitle"},{default:i(()=>t[1]||(t[1]=[S("ABORTIONS/MISCARRIAGES")])),_:1,__:[1]}),n(l,{class:"contentTitle"},{default:i(()=>t[2]||(t[2]=[S("STILLBIRTHS")])),_:1,__:[2]}),n(l,{class:"contentTitle"},{default:i(()=>t[3]||(t[3]=[S("LIVE BIRTHS")])),_:1,__:[3]}),n(l,{size:"2",class:"contentTitle"},{default:i(()=>t[4]||(t[4]=[S("PARITY")])),_:1,__:[4]})]),_:1}),t[5]||(t[5]=_("br",null,null,-1)),n(c,null,{default:i(()=>[n(l,{size:"2"},{default:i(()=>[S(k(e.pregnancy.Gravida),1)]),_:1}),n(l,{size:"3"},{default:i(()=>[S(k(e.pregnancy["Abortions/Miscarriages"]),1)]),_:1}),n(l,null,{default:i(()=>[S(k(e.pregnancy.Stillbirths),1)]),_:1}),n(l,null,{default:i(()=>[S(k(e.pregnancy.LiveBirths),1)]),_:1}),n(l,{size:"2"},{default:i(()=>[S(k(e.pregnancy.Parity),1)]),_:1})]),_:1}),t[6]||(t[6]=_("br",null,null,-1))])])])):e.activeProgram.program_id!==32?(p(),v("div",Q1,"OBSTETRIC DATA IS EMPTY")):$("",!0)])]),_:1})]),_:1})])}const Z1=O(G1,[["render",X1],["__scopeId","data-v-310b789d"]]),eS=ds().shape({Gravida:ga().typeError("Gravida can only be number").min(0).max(30),"Abortions/Miscarriages":ga().typeError("Abortions/Miscarriages can only be number").min(0),Stillbirths:ga().typeError("Stillbirths can only be number").min(0)}),ln=qe("labourObstreticHistoryStore",{state:()=>({prevPregnancies:[{isFinishBtn:!1,sectionHeader:"",data:{rowData:[{colData:[{class:"bold",inputHeader:"Gravida",value:"",name:"Gravida",icon:P.editPen,required:!0,valueType:"text",eventType:"input",alertsErrorMassage:""}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]},{isFinishBtn:!1,sectionHeader:"",data:{rowData:[{colData:[{class:"bold",inputHeader:"Abortions/Miscarriages",value:"",icon:P.editPen,name:"Abortions/Miscarriages",required:!0,disabled:!1,valueType:"text",eventType:"input",alertsErrorMassage:""},{class:"bold",inputHeader:"Stillbirths",value:"",name:"Stillbirths",disabled:!1,required:!0,valueType:"text",icon:P.editPen,eventType:"input",alertsErrorMassage:""}]}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border _padding",data:{rowData:[{colData:[{class:"bold",inputHeader:"Live births",value:"",disabled:!0,name:"LiveBirths",required:!0,valueType:"text",eventType:"input",alertsErrorMassage:""},{class:"bold",inputHeader:"Parity",disabled:!0,value:"",name:"Parity",valueType:"text",required:!0,eventType:"input",alertsErrorMassage:""}]}]},alerts:[{backgroundColor:"",status:"",icon:"",textColor:"",value:"",name:"",index:""}]}],preterm:[],modeOfDelivery:[],Complications:[]}),actions:{setPrevPregnancies(e){this.prevPregnancies=e},setPreterm(e){this.preterm=e},setComplications(e){this.Complications=e},async validate(){const e=xi(this.prevPregnancies);return await Ui(this.prevPregnancies,eS,e)}}}),tS=B({name:"History",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie,LabourObstetricData:Z1},data(){return{modeOfDelieveryRef:{},iconsContent:P,vValidations:"",hasValidationErrors:[],prevPregnanciesInstance:{},modeOfDeliveryInstance:{},currentSection:0,inputField:"",alertMessage:""}},computed:{...w(ln,["prevPregnancies"]),...w(ln,["preterm"]),...w(ln,["modeOfDelivery"]),...w(ln,["Complications"]),Stillbirths(){return oe(this.prevPregnancies,"Stillbirths","value")},Gravida(){return oe(this.prevPregnancies,"Gravida","value")},LiveBirths(){return oe(this.prevPregnancies,"LiveBirths","value")},Parity(){return oe(this.prevPregnancies,"Parity","value")},"Abortions/Miscarriages"(){return oe(this.prevPregnancies,"Abortions/Miscarriages","value")}},created(){this.modeOfDelieveryRef={...this.modeOfDelivery[0],...this.modeOfDelivery[1]}},mounted(){this.prevPregnanciesInstance=Zt(),this.handleOther(),this.handleDynamic(),this.handleGravida(event),this.validaterowData({})},watch:{LiveBirths:{handler(e){(e==0||!e)&&this.prevPregnanciesInstance.setModeOfDelivery(0)}},prevPregnancies:{handler(e){if(e&&e[2].data.rowData[0].colData[0].value){const t=parseInt(e[2].data.rowData[0].colData[0].value);this.prevPregnanciesInstance.setModeOfDelivery(t)}this.handleGravida(e),this.handleOther()},deep:!0},modeOfDelivery:{handler(){this.handleDynamic(),this.prevPregnanciesInstance.checkChanges()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleObstreticValidation(e){Ke(this.prevPregnancies,cs,e.name,e.value)},handleOther(){var t,a;((t=ue(this.prevPregnancies,"Other"))==null?void 0:t.value)=="other"?u(this.prevPregnancies,"Other notes","displayNone",!1):u(this.prevPregnancies,"Other notes","displayNone",!0);const e=["Asphyxia","Does not know","Pre-eclampsia","Eclampsia","Puerperal Sepsis","Baby died within 24hrs of birth","Convulsions","Forceps","Gestational diabetes mellitus","Heavy bleeding","Macrosomia","Perineal tear (3rd or 4th degree)","Other"];(a=ue(this.prevPregnancies,"None"))!=null&&a.checked?e.forEach(s=>{L(this.prevPregnancies,s,"checked",!1),L(this.prevPregnancies,s,"disabled",!0)}):e.forEach(s=>{L(this.prevPregnancies,s,"disabled",!1)})},handleDynamic(){N(this.modeOfDelivery,"Mode of delivery")=="caesarean section"?u(this.modeOfDelivery,"Specify","displayNone",!1):u(this.modeOfDelivery,"Specify","displayNone",!0)},handleAlert(e){Li(this.modeOfDelivery,"Mode of delivery",e.id)=="caesarean section"?mn(e.id,this.modeOfDelivery,"Specify","displayNone",!1):mn(e.id,this.modeOfDelivery,"Specify","displayNone",!0)},validationRules(e){return Pt(this.prevPregnancies,e.name,this[e.name])},async handleInputData(e){this.validaterowData(e),this.handleObstreticValidation(e),this.calculateParity(e),this.calculateLiveBirths(e)},validaterowData(e){},calculateLiveBirths(e){if(e.name==="Parity"||e.name==="Stillbirths"){const t=parseInt(oe(this.prevPregnancies,"Stillbirths","value")),a=parseInt(oe(this.prevPregnancies,"Parity","value"));if(!isNaN(t)&&!isNaN(a)){const s=a-t;u(this.prevPregnancies,"LiveBirths","value",s)}else u(this.prevPregnancies,"LiveBirths","value",null)}},calculateParity(e){if(e.name==="Gravida"||e.name==="Abortions/Miscarriages"){const t=parseInt(oe(this.prevPregnancies,"Gravida","value")),a=parseInt(oe(this.prevPregnancies,"Abortions/Miscarriages","value"));if(!isNaN(t)&&!isNaN(a)){const s=t-a-1;u(this.prevPregnancies,"Parity","value",s)}else u(this.prevPregnancies,"Parity","value",null)}},handleGravida(e){const t=oe(this.prevPregnancies,"Gravida","value"),a="First pregnancy, take note",s=this.prevPregnancies[0].alerts.findIndex(o=>o.value===a);t===null||t===""?(u(this.prevPregnancies,"Abortions/Miscarriages","value",""),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),u(this.prevPregnancies,"Stillbirths","value",""),u(this.prevPregnancies,"Stillbirths","disabled",!1),u(this.prevPregnancies,"LiveBirths","value",""),u(this.prevPregnancies,"LiveBirths","disabled",!1),u(this.prevPregnancies,"Parity","value",""),u(this.prevPregnancies,"Parity","disabled",!1),s!==-1&&this.prevPregnancies[0].alerts.splice(s,1)):t==1?(I(this.prevPregnancies,"Was last live birth preterm?","displayNone",!0),I(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!0),I(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!0),Le(this.prevPregnancies,"past pregnancies complications","displayNone",!0),u(this.prevPregnancies,"Abortions/Miscarriages","value",""),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!0),u(this.prevPregnancies,"Stillbirths","value",""),u(this.prevPregnancies,"Stillbirths","disabled",!0),u(this.prevPregnancies,"LiveBirths","value",""),u(this.prevPregnancies,"LiveBirths","disabled",!0),u(this.prevPregnancies,"Parity","value",""),u(this.prevPregnancies,"Parity","disabled",!0),s===-1&&this.prevPregnancies[0].alerts.push({backgroundColor:"#FFD700",status:"info",icon:"info-circle",textColor:"#000000",value:a,name:"LiveBirths"})):(I(this.prevPregnancies,"Was last live birth preterm?","displayNone",!1),I(this.prevPregnancies,"Last live birth preterm was full term","displayNone",!1),I(this.prevPregnancies,"Last live birth had congenital abnormalities","displayNone",!1),Le(this.prevPregnancies,"past pregnancies complications","displayNone",!1),u(this.prevPregnancies,"Abortions/Miscarriages","disabled",!1),u(this.prevPregnancies,"Stillbirths","disabled",!1),u(this.prevPregnancies,"LiveBirths","disabled",!1),u(this.prevPregnancies,"Parity","disabled",!1),s!==-1&&this.prevPregnancies[0].alerts.splice(s,1))}}}),aS={class:"container"},nS={class:"ion-padding",slot:"content"};function sS(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourObstetricData"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card");return p(),v("div",aS,[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Obstetric History")])),_:1,__:[0]})]),_:1}),_("div",nS,[n(h)])]),_:1})]),_:1},512),n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.prevPregnancies,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"]),n(y,{contentData:e.modeOfDelivery,"onUpdate:inputValue":e.handleAlert},null,8,["contentData","onUpdate:inputValue"]),n(y,{contentData:e.preterm},null,8,["contentData"])]),_:1})]),_:1})])}const iS=O(tS,[["render",sS],["__scopeId","data-v-84730752"]]),oS=B({name:"Menu",components:{IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,UpcomingFeature:Kt,DynamicButton:Be},data(){return{iconsContent:P,visits:[],BMI:"",nextAppointMent:"",drugs:"",visitDate:[],primaryDiagnosis:[],presentingComplaint:[],secondaryDiagnosis:[],labOrders:[],vitals:{},vitalsWeightHeight:{},savedEncounters:[],pregnancy:{},immunisation:[]}},watch:{demographics:{async handler(){await this.updateData()},deep:!0},$route:{async handler(){await this.updateData()},deep:!0}},async mounted(){await this.updateData(),this.handleValueCoded()},computed:{...w(yt,["investigations"]),...w(Ne,["patient","patient"]),inputFields(){return this.investigations[0].selectedData}},methods:{async handleValueCoded(){this.getValueCoded()},async getValueCoded(){var e;try{const t=await Ae.getAllValueCoded(((e=this.patient)==null?void 0:e.patientID)||"","past pregnancies complications");console.log("Fetched past pregnancies complications:",t),this.immunisation=t}catch(t){console.error("Error fetching past pregnancies complications:",t)}},async updateData(){const e=new Me;this.visits=await Me.getPatientVisits(e.getID(),!1),await this.loadSavedEncounters(this.visits[0])},covertDate(e){return ne.toStandardHisDisplayFormat(e)},async loadSavedEncounters(e){this.visitDate=e;const t=await Ht.getEncounters(this.patient.patientID,{date:e});await this.setANCProfileEncounters(t)},findEncounter(e,t){return e.find(a=>a.type&&a.type.name===t)},async setANCProfileEncounters(e){var a,s,o,r;const t=(a=this.findEncounter(e,"CURRENT PREGNANCY"))==null?void 0:a.observations;console.log("+++++This is pulling data++++",t),this.pregnancy.Gravida=(r=(o=(s=this.filterObs(t,"Gravida"))==null?void 0:s[0])==null?void 0:o.value_text)!=null?r:""},async setLabOrderEncounters(e){var a;const t=(a=this.findEncounter(e,"LAB ORDERS"))==null?void 0:a.observations;this.labOrders=await this.getConceptValues(this.filterObs(t,"Primary diagnosis"),"coded")},filterObs(e,t){return e==null?void 0:e.filter(a=>a.concept.concept_names.some(s=>s.name===t))},async getConceptValues(e,t){if(e)return await Promise.all(e==null?void 0:e.map(async a=>await Ge.getConceptName(a.value_coded)))},openModal(){Ct(Qt)}}}),lS={class:"visitContent"},rS={class:"visitData"},dS={key:0},cS={style:{"max-width":"1000px"}},uS={key:1,class:"noData"};function hS(e,t,a,s,o,r){const l=d("ion-col"),c=d("ion-row");return p(),v("div",lS,[n(c,null,{default:i(()=>[n(l,{offset:"0.1",size:"7"},{default:i(()=>[_("div",rS,[e.immunisation&&e.immunisation.length>0?(p(),v("div",dS,[_("div",cS,[t[1]||(t[1]=_("div",{class:"heading"},"PREGNANCY COMPLICATIONS",-1)),_("div",null,[n(c,null,{default:i(()=>[n(l,{class:"contentTitle"})]),_:1}),(p(!0),v(te,null,he(e.immunisation,(h,m)=>(p(),A(c,{key:m},{default:i(()=>[n(l,null,{default:i(()=>[S(k(h),1)]),_:2},1024)]),_:2},1024))),128)),t[0]||(t[0]=_("br",null,null,-1))])])])):(p(),v("div",uS,"COMPLICATIONS DATA IS EMPTY"))])]),_:1})]),_:1})])}const pS=O(oS,[["render",hS],["__scopeId","data-v-c36ab6c5"]]),mS=ds().shape({Gravida:ga().typeError("Gravida can only be number").min(0).max(30),"Abortions/Miscarriages":ga().typeError("Abortions/Miscarriages can only be number").min(0),Stillbirths:ga().typeError("Stillbirths can only be number").min(0)}),fS=qe("labourCoplicationsStore",{state:()=>({labourPrevPregnancies:[{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{class:"bold",title:"Did the woman have any of the complications during the past pregnancies?",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Asphyxia",value:"Asphyxia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Pre-eclampsia",value:"pre-eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{selectdData:[],classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Eclampsia",value:"eclampsia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Puerperal Sepsis",value:"puerperal sepsis",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Baby died within 24hrs of birth",value:"baby died within 24hrs of birth",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Convulsions",value:"convulsions",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Gestational diabetes mellitus",value:"gestational diabetes mellitus",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Heavy bleeding",value:"heavy bleeding",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"Macrosomia",value:"macrosomia",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Perineal tear (3rd or 4th degree)",value:"perineal tear (3rd or 4th degree)",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{classDash:"dashed_bottom_border",checkboxBtnContent:{header:{title:"",selectedValue:"",name:"past pregnancies complications",displayNone:!1},data:[{name:"None",value:"none",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"},{name:"Other",value:"other",checked:!1,labelPlacement:"start",colSize:"6",justify:"space-between"}]}},{isFinishBtn:!1,sectionHeader:"",classDash:"dashed_bottom_border",data:{rowData:[{colData:[{displayNone:!0,inputHeader:"specify",unit:"",icon:P.editPen,value:"",name:"Other notes",valueType:"text",required:!0,eventType:"input",inputWidth:"85%"}]}]}}],preterm:[],modeOfDelivery:[],Complications:[]}),actions:{setPrevPregnancies(e){this.labourPrevPregnancies=e},async validate(){const e=xi(this.labourPrevPregnancies);return await Ui(this.labourPrevPregnancies,mS,e)}}}),_S=B({name:"History",components:{BasicCard:Fe,IonContent:z,IonHeader:q,IonItem:V,IonList:x,IonMenu:Y,IonTitle:j,IonToolbar:W,IonToggle:me,IonSelect:ge,IonSelectOption:ve,IonInput:ae,BasicInputField:ee,BasicForm:G,IonRadio:Pe,IonRadioGroup:Ie,LabourMedications:po,LabourComplicationsHistory:pS},data(){return{modeOfDelieveryRef:{},iconsContent:P,vValidations:"",hasValidationErrors:[],prevPregnanciesInstance:{},modeOfDeliveryInstance:{},currentSection:0,inputField:"",alertMessage:""}},computed:{...w(fS,["labourPrevPregnancies"])},mounted(){this.prevPregnanciesInstance=Zt(),this.handleOther(),this.validaterowData({})},watch:{LiveBirths:{handler(e){(e==0||!e)&&this.prevPregnanciesInstance.setModeOfDelivery(0)}},prevPregnancies:{handler(e){if(e&&e[2].data.rowData[0].colData[0].value){const t=parseInt(e[2].data.rowData[0].colData[0].value);this.prevPregnanciesInstance.setModeOfDelivery(t)}this.handleOther()},deep:!0},modeOfDelivery:{handler(){this.prevPregnanciesInstance.checkChanges()},deep:!0}},setup(){return{checkmark:ie,pulseOutline:le}},methods:{async handleObstreticValidation(e){Ke(this.labourPrevPregnancies,cs,e.name,e.value)},handleOther(){var t,a;((t=ue(this.labourPrevPregnancies,"Other"))==null?void 0:t.value)=="other"?u(this.labourPrevPregnancies,"Other notes","displayNone",!1):u(this.labourPrevPregnancies,"Other notes","displayNone",!0);const e=["Asphyxia","Does not know","Pre-eclampsia","Eclampsia","Puerperal Sepsis","Baby died within 24hrs of birth","Convulsions","Forceps","Gestational diabetes mellitus","Heavy bleeding","Macrosomia","Perineal tear (3rd or 4th degree)","Other"];(a=ue(this.labourPrevPregnancies,"None"))!=null&&a.checked?e.forEach(s=>{L(this.labourPrevPregnancies,s,"checked",!1),L(this.labourPrevPregnancies,s,"disabled",!0)}):e.forEach(s=>{L(this.labourPrevPregnancies,s,"disabled",!1)})},async handleInputData(e){this.validaterowData(e),this.handleObstreticValidation(e)},validaterowData(e){}}}),vS={class:"ion-padding",slot:"content"},gS={class:"container"};function yS(e,t,a,s,o,r){const l=d("ion-label"),c=d("ion-item"),h=d("LabourComplicationsHistory"),m=d("ion-accordion"),f=d("ion-accordion-group"),y=d("basic-form"),D=d("ion-card-content"),C=d("ion-card"),E=d("ion-row");return p(),A(E,null,{default:i(()=>[n(f,{ref:"accordionGroup",class:"previousView ion-margin-bottom"},{default:i(()=>[n(m,{value:"first","toggle-icon-slot":"start",class:"custom_card"},{default:i(()=>[n(c,{slot:"header",color:"light"},{default:i(()=>[n(l,{class:"previousLabel"},{default:i(()=>t[0]||(t[0]=[S("Pregnancy Complications History")])),_:1,__:[0]})]),_:1}),_("div",vS,[n(h)])]),_:1})]),_:1},512),_("div",gS,[n(C,{class:"section"},{default:i(()=>[n(D,null,{default:i(()=>[n(y,{contentData:e.labourPrevPregnancies,"onUpdate:selected":e.handleInputData,"onUpdate:inputValue":e.handleInputData},null,8,["contentData","onUpdate:selected","onUpdate:inputValue"])]),_:1})]),_:1})])]),_:1})}const bS=O(_S,[["render",yS],["__scopeId","data-v-2e8fd7b2"]]),DS=B({mixins:[us],name:"Home",components:{dispensationSummary:au,dispensedMedication:Lc,IonContent:z,IonHeader:q,IonMenuButton:$i,IonPage:na,IonTitle:j,IonToolbar:W,Toolbar:Oi,ToolbarSearch:Il,IonButton:it,IonCard:jt,IonCardContent:Ca,IonCardHeader:wa,IonCardSubtitle:Oo,IonCardTitle:gn,IonAccordion:At,IonAccordionGroup:Mt,IonItem:V,IonLabel:J,VitalSigns:ip,PresentingComplaints:ps,ClinicalAssessment:ep,Diagnosis:jl,ComplicationsScreening:Zl,ConfirmDiagnosis:yp,Outcome:Op,Investigations:um,TreatmentPlan:nc,NextAppointment:Dc,IonModal:pa,Medications:cf,WomanBehaviour:mf,MedicalHistory:U_,DangerSigns:gf,ReasonForVisit:Nf,ConfirmPregnancy:Sf,SpecificHealthConcerns:Mf,FetalPresentation:zf,FetalAssessment:Rf,ANCVitals:Mv,MaternalExam:jf,PresentingSigns:Qf,CurrentPregnancies:t_,PastObstreticHistory:i_,UltrasoundScan:d_,UrineTest:p_,TB:v_,MedicalFollowUp:G_,PersistentBehaviour:K_,CurrentPhysiologicalSymptoms:ev,Ipv:sv,FatalMovement:rv,BehaviourCounselling:hv,PhysiologicalCounseling:_v,DietCounselling:bv,Referral:Pv,AncEnd:Ov,DiagnosisTreatment:D_,MedicationDispensed:I_,DiagnosisCounselling:B_,Immunization:V_,Deworming:H_,OPDDiagnosis:_p,OPDTreatmentPlan:jm,OPDOutcome:ng,DynamicButton:Be,ImmunizationServices:Jv,ChangeStatus:Rp,ImmunizationNextAppointment:of,HeadAssessment:lg,ANCTreatment:pg,ANCDiagnosis:vg,ANCDiagnosisCounselling:Dg,ANCImmunization:Ig,ANCIntimatePartner:Bg,ANCDeworming:Eg,ANCMedicationDispensed:qg,DischargeWoman:Yg,PNCEnd:Xg,BabyStatus:ny,PostnatalWardMonitoring:Sy,DeliveryDetails:Ey,HIVStatusAndTreatment:Fy,ObstetricDetails:xy,VisitForMother:Wy,VisitForBaby:Jy,Labour:Zy,QuickCheck:nb,PhysicalExamination:lb,PelvicAssessment:ub,PatientReferral:fb,FirstVaginalExamination:yb,SecondStageDelivery:Fb,ThirdStageDelivery:xb,end:Wb,OtherExams:Jb,LabourVitals:Zb,ImmidiatePostnatalChecksForChild:nD,ImmidiatePostnatalChecksForMother:lD,SubsequentVisits:uD,AbdominalExamination:_D,ClinicalCounselling:bD,LabourWomanBehaviour:AD,LabourPastSurgeries:l1,LabourChronicHealthConditions:b1,LabourVaccineHistory:E1,LabourMedications:po,LabourObstetricHistory:iS,LabourAllergies:jD,LabourComplications:bS},data(){return{isOpen:!1,iconsContent:P,currentOpenStepper:this.openStepper}},props:{wizardData:{default:[]},StepperData:{default:[]},stepperTitle:{type:String,default:""},openStepper:{type:String,default:"1"},backBtn:{type:String,default:"Back to profile"},backUrl:{type:String,default:""},getSaveFunction:{type:Function,required:!0},hasPatientsWaitingList:{type:Boolean,default:!1},specialButtonLabel:{type:String,required:!1,default:""},specialButtonFn:{type:Function,required:!1,default:null},userRole:{type:String,required:!1}},setup(){return{chevronBackOutline:Ho,checkmark:ie}},methods:{chevronBack(){return Fo},chevronForward(){return To},accordionGroupChange(e){const t=e.detail;t||(this.wizardData.forEach(a=>{t.value===a.number?(a.class="open_step common_step",a.checked=!0):(a.class="common_step",a.checked=!1)}),this.$emit("updateStatus",t),this.currentOpenStepper=t.value)},openBackController(){this.backUrl?this.$router.push(this.backUrl):Ct(kl)},async nextAccordion(e){const t=this.getSaveFunction(e);t&&typeof t=="function"&&await t();const a=e+1;a<this.StepperData.length&&(this.currentOpenStepper=this.StepperData[a].value)},previousAccordion(e){const t=e-1;t>=0&&(this.currentOpenStepper=this.StepperData[t].value)}}}),SS={class:"wizard_title"},CS={id:"wizard_verticle",class:"form_wizard wizard_verticle"},wS={class:"list-unstyled wizard_steps anchor"},IS={class:"done",isdone:"1",rel:"1"},PS={key:1},NS={class:"wizard_text"},kS={class:"back_profile"},BS={class:"accordion_group"},$S={class:"ion-padding",slot:"content"},MS={class:"button-row"},AS={key:0};function ES(e,t,a,s,o,r){const l=d("ion-icon"),c=d("ion-card-content"),h=d("ion-card"),m=d("ion-col"),f=d("DynamicButton"),y=d("ion-label"),D=d("ion-item"),C=d("ion-button"),E=d("ion-accordion"),T=d("ion-accordion-group"),U=d("ion-row");return p(),A(U,null,{default:i(()=>[n(m,{"size-md":"4","size-xl":"2.5","size-sm":"0","size-lg":"4","offset-sm":"0","offset-md":"0.4","offset-xl":"0.8",class:"displayNoneMobile"},{default:i(()=>[n(h,{class:"wizard_card"},{default:i(()=>[_("div",SS,[_("strong",null,k(e.stepperTitle),1)]),n(c,null,{default:i(()=>[_("div",CS,[_("ul",wS,[(p(!0),v(te,null,he(e.wizardData,(R,M)=>(p(),v("li",{key:M,class:ht(R.last_step)},[_("a",IS,[_("span",{class:ht(R.class)},[R.checked?(p(),A(l,{key:0,icon:e.checkmark,class:"checked_step"},null,8,["icon"])):$("",!0),R.checked?$("",!0):(p(),v("span",PS,k(R.number),1)),_("span",NS,k(R.title),1)],2)])],2))),128))])])]),_:1})]),_:1})]),_:1}),n(m,{"size-sm":"12","size-xl":"7","size-md":"7.2","size-lg":"7","offset-sm":"0","offset-md":"0.4","offset-xl":"0.8"},{default:i(()=>[_("div",kS,[n(f,{name:e.backBtn,iconSlot:"start",fill:"clear",icon:e.chevronBackOutline,onClick:t[0]||(t[0]=R=>e.openBackController())},null,8,["name","icon"])]),_("div",BS,[n(T,{onIonChange:t[2]||(t[2]=R=>e.accordionGroupChange(R)),value:e.currentOpenStepper},{default:i(()=>[(p(!0),v(te,null,he(e.StepperData,(R,M)=>Ai((p(),A(E,{key:M,value:R.value},{default:i(()=>[n(D,{slot:"header"},{default:i(()=>[n(y,null,{default:i(()=>[S(k(R.title),1)]),_:2},1024)]),_:2},1024),_("div",$S,[(p(),A(Ro(R.component))),_("div",MS,[M>0?(p(),v("div",AS,[n(C,{class:"previous-button",onClick:H=>e.previousAccordion(M)},{default:i(()=>[n(l,{icon:e.chevronBack(),slot:"start"},null,8,["icon"]),t[3]||(t[3]=S(" Previous "))]),_:2,__:[3]},1032,["onClick"])])):$("",!0),_("div",null,[n(C,{class:"next-button",onClick:H=>e.nextAccordion(M)},{default:i(()=>[n(l,{icon:M<e.StepperData.length-1?e.chevronForward():e.checkmark,slot:"start"},null,8,["icon"]),S(" "+k(M<e.StepperData.length-1?"Next":"Finish"),1)]),_:2},1032,["onClick"])]),M===e.StepperData.length-1&&e.specialButtonLabel&&e.specialButtonFn&&(e.userRole==="Clinician"||e.userRole==="Superuser")?(p(),A(C,{key:1,class:"special-button",onClick:t[1]||(t[1]=H=>e.specialButtonFn(H))},{default:i(()=>[n(l,{icon:M<e.StepperData.length-1?e.chevronForward():e.checkmark,slot:"start"},null,8,["icon"]),S(" "+k(e.specialButtonLabel),1)]),_:2},1024)):$("",!0)])])]),_:2},1032,["value"])),[[Ei,!(e.hasPatientsWaitingList&&M>=2)]])),128))]),_:1},8,["value"]),t[4]||(t[4]=_("hr",{style:{background:"rgba(0, 0, 0, 0.13)"}},null,-1))])]),_:1})]),_:1})}const o0=O(DS,[["render",ES],["__scopeId","data-v-c61aa27d"]]);export{E1 as $,fs as A,fi as B,Zl as C,Vt as D,pr as E,H_ as F,I_ as G,D_ as H,V_ as I,ni as J,uo as K,vr as L,t0 as M,Dc as N,Ep as O,rg as P,v_ as Q,Pv as R,o0 as S,n0 as T,p_ as U,Nv as V,mf as W,d_ as X,iS as Y,po as Z,tp as _,bu as a,b1 as a0,l1 as a1,jD as a2,AD as a3,ln as a4,V1 as a5,Ii as a6,Wn as a7,a1 as a8,UD as a9,nn as aa,fS as ab,Wb as ac,pi as ad,ui as ae,li as af,di as ag,Yi as b,rr as c,ji as d,us as e,hs as f,Dt as g,Yl as h,jl as i,nc as j,wd as k,s0 as l,Cd as m,i0 as n,aa as o,Gi as p,U_ as q,cf as r,a0 as s,t_ as t,Da as u,i_ as v,Pt as w,Cf as x,lg as y,cn as z};
