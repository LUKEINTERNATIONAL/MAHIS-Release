import{d as M,r as t,c as oe,e as T,f as j,l as a,z as l,x as e,aJ as ve,j as i,aI as ce,aL as P,aM as u,D as n,A as o,y as H,B as x,m as w,bj as le,p as te,aK as _e,aQ as fe,br as X,bq as O,F as ne,em as ye,E as Ve,be as he,aH as ke}from"./vendor-65256339.js";import{B as W,b as Ne,t as ue,_ as J,c as se,u as pe,i as me,d as Ie,e as ge}from"./index-e9c24b53.js";import Te from"./Staging-b8ecc28a.js";import"./lodash-7be49fbd.js";import"./apexcharts-583f3fdc.js";import"./chartjs-bbe0813a.js";import"./barcode-qrcode-reader-d9469be9.js";import"./LocationFieldOptions-7c932384.js";const Ae={B:0,F:1,G:2,H:3,J:4,P:5,V:6,W:7,X:8,Z:9},Ce=[[0,3,1,7,5,9,8,6,4,2],[7,0,9,2,1,5,4,8,6,3],[4,2,0,6,8,7,1,3,5,9],[1,7,5,0,9,8,3,4,2,6],[6,1,2,3,0,4,5,9,7,8],[3,6,7,4,2,0,9,5,8,1],[5,8,6,9,7,2,0,1,3,4],[8,9,4,5,3,6,2,0,1,7],[9,4,3,8,6,1,7,2,0,5],[2,5,8,1,4,3,6,7,9,0]];function de(S,D){const _=D-"".concat(S).length;return _<=0?"".concat(S):"".concat(Array.from({length:_}).map(()=>0).join("")).concat(S)}function Re(S){S.match(/^\d+$/)||(S=S.replace(/\D/g,""));let D=0;for(let _=0;_<S.length;_++){let I=S.charAt(_);D=Ce[D][I]}return"".concat(D)}function we(S){const[D,_,I,p]=S.split("-");if(!(D&&_&&I&&p))return!1;const c=de(parseInt(_),3),d=de(parseInt(I),2),f=Ae[p.toUpperCase()],m="".concat(D,"-").concat(c,"-").concat(d);return Re(m)==="".concat(f)}const De={class:"relative"},He={class:"relative"},xe={class:"relative"},ze=M({__name:"HTSLinkageNumber",setup(S,{expose:D}){const _=t(""),I=t(""),p=t(""),c=t(!0),d=t(!0),f=t(!0),m=t(!1),h=t(""),C=t(""),B=t(""),R=t(!1),g=t(null),b=[{name:"B",char:"B",digit:0},{name:"F",char:"F",digit:1},{name:"G",char:"G",digit:2},{name:"H",char:"H",digit:3},{name:"J",char:"J",digit:4},{name:"P",char:"P",digit:5},{name:"V",char:"V",digit:6},{name:"W",char:"W",digit:7},{name:"X",char:"X",digit:8},{name:"Z",char:"Z",digit:9}],k=v=>{g.value=v,m.value=!1,q()},L=v=>{const V=v.target.value;_.value=V,A()},Y=v=>{const V=v.target.value;I.value=V,$()},z=v=>{const V=v.target.value;p.value=V,F()},A=()=>{c.value=!1;const v=_.value;v?v==""?(h.value="Please enter numbers only",c.value=!1):parseInt(v)?c.value=!0:(c.value=!1,h.value="should be a number"):(h.value="Book number is required",c.value=!1)},$=()=>{d.value=!1;const v=I.value;v?v==""?(C.value="Please enter numbers only",d.value=!1):parseInt(v)?d.value=!0:(C.value="should be a number",d.value=!1):(C.value="Page number is required",d.value=!1)},F=()=>{f.value=!1;const v=p.value;v?v==""?(B.value="Please enter numbers only",f.value=!1):parseInt(v)?f.value=!0:(B.value="should be a number",f.value=!1):(B.value="Row number is required",f.value=!1)},q=()=>{m.value=!0,g.value===null||g.value===""?m.value=!0:m.value=!1},N=oe(()=>c.value&&d.value&&f.value&&!m.value),r=oe(()=>{var V;if(m.value==!0)return"";const v=(V=g.value)==null?void 0:V.char;if(_.value&&I.value&&p.value&&v){const E=_.value,Q=I.value,ee=p.value;return"".concat(E,"-").concat(Q,"-").concat(ee,"-").concat(v)}return""}),G=oe(()=>{if(r.value){const v=r.value;return"".concat(v.slice(0,3),"-").concat(v.slice(3,5),"-").concat(v.slice(5,7),"-").concat(v.slice(7))}return""});function Z(){A(),$(),F(),q()}return D({validateLinkageCode:async()=>{Z();const v={isValid:!1,message:"",linkageNumber:r.value,formattedNumber:G.value};return N.value?we(r.value)?(v.isValid=!0,v.message="Valid Linkage Number",R.value=!1,Ne(v.message)):(v.message="Invalid Linkage Number",R.value=!0,ue(v.message)):(v.message="Please fill all fields correctly for HTS Linkage Number",ue(v.message,2e3)),v},fullLinkageNumber:r,formattedLinkageNumber:G}),(v,V)=>(T(),j("div",null,[a(e(ce),null,{default:l(()=>[a(e(ve),{class:"ion-text-left"},{default:l(()=>V[3]||(V[3]=[i("span",{style:{color:"gray","font-size":"20px","font-weight":"600","margin-left":"10px"}}," HTS Linkage Number ",-1)])),_:1,__:[3]})]),_:1}),a(e(_e),null,{default:l(()=>[a(e(P),null,{default:l(()=>[a(e(u),{size:"12","size-sm":"3"},{default:l(()=>[i("div",De,[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>V[4]||(V[4]=[o("Book No.")])),_:1,__:[4]}),a(W,{placeholder:"Enter Book No.",inputValue:_.value,"onUpdate:inputValue":L,error:!c.value},null,8,["inputValue","error"]),i("div",null,[c.value?w("",!0):(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(h.value),1)]),_:1}))])])]),_:1}),a(e(u),{size:"12","size-sm":"3"},{default:l(()=>[i("div",He,[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>V[5]||(V[5]=[o("Page No.")])),_:1,__:[5]}),a(W,{placeholder:"Enter Page No.",inputValue:I.value,"onUpdate:inputValue":Y,error:!d.value},null,8,["inputValue","error"]),i("div",null,[d.value?w("",!0):(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(C.value),1)]),_:1}))])])]),_:1}),a(e(u),{size:"12","size-sm":"3"},{default:l(()=>[i("div",xe,[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>V[6]||(V[6]=[o("Row No.")])),_:1,__:[6]}),a(W,{placeholder:"Enter Row No.",inputValue:p.value,"onUpdate:inputValue":z,error:!f.value},null,8,["inputValue","error"]),i("div",null,[f.value?w("",!0):(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(B.value),1)]),_:1}))])])]),_:1}),a(e(u),{size:"12","size-md":"3"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>V[7]||(V[7]=[o("Check Digit")])),_:1,__:[7]}),a(e(le),{modelValue:g.value,"onUpdate:modelValue":[V[0]||(V[0]=E=>g.value=E),V[1]||(V[1]=E=>k(E))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"",selectLabel:"",label:"name",searchable:!0,onSearchChange:V[2]||(V[2]=()=>{}),"track-by":"name",options:b,disabled:!1,class:te({"error-state":m.value})},null,8,["modelValue","class"]),i("div",null,[m.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>V[8]||(V[8]=[o(x("Please select Check Digit"))])),_:1,__:[8]})):w("",!0)])]),_:1})]),_:1}),a(e(P),null,{default:l(()=>[a(e(u),null,{default:l(()=>[R.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>V[9]||(V[9]=[o(x("Invalid Linkage Number"))])),_:1,__:[9]})):w("",!0)]),_:1})]),_:1})]),_:1})]))}});const Be=J(ze,[["__scopeId","data-v-9be79bba"]]),Pe="Input required, Only letters allowed",Se="Date is required",$e=M({__name:"ARTIdentification",setup(S,{expose:D}){const _=t(""),I=t(!1),p=t({}),c=t(!1),d=t(!1),f=R=>{const g=R.target.value;_.value=g,m()},m=()=>{const R=_.value,g=R!==""&&!isNaN(R)&&isFinite(R);I.value=!g};function h(R){const g={day:R.value.day,month:R.value.month,year:R.value.year,formattedDate:R.value.formattedDate};p.value=g,c.value=!1,C()}function C(){c.value=!1,Object.keys(p.value).length===0&&(c.value=!0),Object.keys(p.value).length>0&&(c.value=!1)}return D({validateAndGetValues:()=>(m(),C(),d.value=!I.value&&!c.value,{isValid:d.value,values:{arvNumber:_.value||"",date:Object.keys(p.value).length===0?{}:p.value}})}),(R,g)=>(T(),H(e(P),null,{default:l(()=>[a(e(u),null,{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>g[0]||(g[0]=[o(" ARV Number"),i("span",{style:{color:"#b42318"}},"*",-1)])),_:1,__:[0]}),a(W,{placeholder:"e.g 192",inputValue:_.value,"onUpdate:inputValue":f,unit:"MPC-ARV",error:I.value},null,8,["inputValue","error"]),i("div",null,[I.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(Pe))]),_:1})):w("",!0)])]),_:1}),a(e(u),null,{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>g[1]||(g[1]=[o(" Registration Date "),i("span",{class:"required"},"*",-1)])),_:1,__:[1]}),a(se,{place_holder:"enter data",onDateUpDated:h,date_prop:"",error:c.value},null,8,["error"]),i("div",null,[c.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(Se))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12"},{default:l(()=>g[2]||(g[2]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[2]})]),_:1}))}});const Ue=J($e,[["__scopeId","data-v-7ac24500"]]),Le={class:"left-label-item"},Fe={key:0},Oe={class:"left-label-item"},Ye={class:"radio-item"},qe={class:"radio-item"},Ge={key:0},Ee={class:"left-label-item"},je={class:"radio-item"},We={class:"radio-item"},Me={key:0},Je={style:{"margin-top":"5px"}},Ke="Input required, must select Yes or No",Xe="Input required, must select Yes or No",Ze="Input required, must select Yes or No",Qe="Date is required",ea="Input required, must select Yes or No",aa=M({__name:"ARTHistory",setup(S,{expose:D}){const _=pe(),{patient:I}=fe(_),p=t(!1),c=t(!1),d=t(!1),f=t({}),m=t(!1),h=t(null),C=t({inputHeader:"Phone number *",icon:me.phone,value:"",name:"phoneNumber",InnerBtn:"",popOverData:{filterData:!1,data:[]}}),B=y=>{},R=y=>{},g=t(!1),b=t([{dialCode:"265",iso2:"MW",name:"Malawi"}]),k=t(!1),L=t([]),Y=t({}),z=t(""),A=t(""),$=t(""),F=t(""),q=t(!1),N=y=>{console.log("Ever registered at ART clinic selection changed to:",y.target.value),ee(),y.target.value},r=y=>{console.log("Ever received ARVs selection changed to:",y.target.value),Q(),y.target.value},G=y=>{const s=y.target.value;F.value=s,Z()},Z=()=>{const y=F.value,s=y!==""&&!isNaN(y)&&isFinite(y);q.value=!s},ie=y=>{var s;E();try{const U=y.target.value;if(U==="No"&&(g.value=!1),U==="Yes"){const ae=(s=I.value)==null?void 0:s.personInformation.cell_phone_number,K=(ae==null?void 0:ae.toLowerCase())||"";(!ae||K===""||K==="na"||K==="n/a"||K==="unknown"||K.trim()==="")&&(g.value=!0)}}catch(U){console.error("Error in handleFollowUpChange:",U)}},v=y=>{h.value=y.selected_location,V()};function V(){h.value?k.value=!1:k.value=!0}function E(){const y=z.value,s=y==="Yes"||y==="No";p.value=!s}function Q(){const y=A.value,s=y==="Yes"||y==="No";c.value=!s}function ee(){const y=$.value,s=y==="Yes"||y==="No";d.value=!s}function be(y){const s={day:y.value.day,month:y.value.month,year:y.value.year,formattedDate:y.value.formattedDate};f.value=s,m.value=!1,re()}function re(){m.value=!1,Object.keys(f.value).length===0&&(m.value=!0),Object.keys(f.value).length>0&&(m.value=!1)}return D({validateAndGetValues:()=>(E(),Q(),ee(),re(),V(),Z(),{isValid:!p.value&&!c.value&&!d.value&&!m.value&&!k.value&&!q.value,values:{agreesToFollowUp:z.value,everReceivedARVs:A.value,everRegisteredAtARTClinic:$.value,date:f.value,facilityData:h.value,previousARTNumber:F.value}})}),(y,s)=>(T(),j(ne,null,[a(e(P),{class:"white-background yn-row"},{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(P),null,{default:l(()=>[a(e(u),null,{default:l(()=>[i("div",Le,[a(e(n),{position:"fixed",class:"labl-cls"},{default:l(()=>s[6]||(s[6]=[o("Agrees to follow up? "),i("span",{class:"required"},"*",-1)])),_:1,__:[6]})])]),_:1}),a(e(u),null,{default:l(()=>[a(e(X),{modelValue:z.value,"onUpdate:modelValue":s[0]||(s[0]=U=>z.value=U),class:"radio-group",onIonChange:ie},{default:l(()=>[i("span",null,[a(e(n),{class:"radio-label"},{default:l(()=>s[7]||(s[7]=[o("Yes")])),_:1,__:[7]}),a(e(O),{class:"radio-btn",slot:"start",value:"Yes"})]),i("span",null,[a(e(n),{class:"radio-label"},{default:l(()=>s[8]||(s[8]=[o("No")])),_:1,__:[8]}),a(e(O),{class:"radio-btn",slot:"start",value:"No"})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(e(P),null,{default:l(()=>[g.value?(T(),H(Ie,{key:0,inputHeader:C.value.inputHeader,sectionHeaderFontWeight:"20",bold:"",unit:"",input:"input",disabled:!1,icon:C.value.icon,placeholder:"Enter phone",iconRight:"",leftText:"",inputWidth:"100%",inputValue:C.value.value,eventType:"input",p_country:b.value,"onUpdate:phone":s[1]||(s[1]=U=>B(U)),onCountryChanged:s[2]||(s[2]=U=>R(U)),popOverData:C.value.popOverData,onHandleInnerActionBtnPropetiesFn:s[3]||(s[3]=U=>y.$emit("click:innerBtn",C.value)),InnerActionBtnPropeties:C.value.InnerBtn},null,8,["inputHeader","icon","inputValue","p_country","popOverData","InnerActionBtnPropeties"])):w("",!0)]),_:1}),p.value?(T(),j("div",Fe,[a(e(n),{class:"error-label"},{default:l(()=>[o(x(Ke))]),_:1})])):w("",!0)]),_:1}),a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(P),null,{default:l(()=>[a(e(u),null,{default:l(()=>[i("div",Oe,[a(e(n),{position:"fixed",class:"labl-cls"},{default:l(()=>s[9]||(s[9]=[o("Ever received ARVs for treatment or prophylaxis? "),i("span",{class:"required"},"*",-1)])),_:1,__:[9]})])]),_:1}),a(e(u),null,{default:l(()=>[a(e(X),{modelValue:A.value,"onUpdate:modelValue":s[4]||(s[4]=U=>A.value=U),class:"radio-group",onIonChange:r},{default:l(()=>[i("span",Ye,[a(e(n),{class:"radio-label"},{default:l(()=>s[10]||(s[10]=[o("Yes")])),_:1,__:[10]}),a(e(O),{class:"radio-btn",slot:"start",value:"Yes"})]),i("span",qe,[a(e(n),{class:"radio-label"},{default:l(()=>s[11]||(s[11]=[o("No")])),_:1,__:[11]}),a(e(O),{class:"radio-btn",slot:"start",value:"No"})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),c.value?(T(),j("div",Ge,[a(e(n),{class:"error-label"},{default:l(()=>[o(x(Xe))]),_:1})])):w("",!0)]),_:1}),a(e(u),{size:"12"},{default:l(()=>s[12]||(s[12]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[12]})]),_:1}),a(e(P),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>s[13]||(s[13]=[o("Date last taken ARVs")])),_:1,__:[13]}),a(se,{place_holder:"enter date",onDateUpDated:be,date_prop:"",error:m.value},null,8,["error"]),i("div",null,[m.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(Qe))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12"},{default:l(()=>s[14]||(s[14]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[14]})]),_:1}),a(e(P),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(u),null,{default:l(()=>[i("div",Ee,[a(e(n),{position:"fixed",class:"labl-cls"},{default:l(()=>s[15]||(s[15]=[o("Ever registered at an ART clinic:"),i("span",{class:"required"},"*",-1)])),_:1,__:[15]})])]),_:1}),a(e(u),null,{default:l(()=>[a(e(X),{modelValue:$.value,"onUpdate:modelValue":s[5]||(s[5]=U=>$.value=U),class:"radio-group",value:$.value,onIonChange:N},{default:l(()=>[i("span",je,[a(e(n),{class:"radio-label"},{default:l(()=>s[16]||(s[16]=[o("Yes")])),_:1,__:[16]}),a(e(O),{class:"radio-btn",slot:"start",value:"Yes"})]),i("span",We,[a(e(n),{class:"radio-label"},{default:l(()=>s[17]||(s[17]=[o("No")])),_:1,__:[17]}),a(e(O),{class:"radio-btn",slot:"start",value:"No"})])]),_:1},8,["modelValue","value"])]),_:1}),d.value?(T(),j("div",Me,[a(e(n),{class:"error-label"},{default:l(()=>[o(x(Ze))]),_:1})])):w("",!0)]),_:1}),a(e(u),{size:"12"},{default:l(()=>s[18]||(s[18]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[18]})]),_:1}),$.value=="Yes"?(T(),H(e(P),{key:0},{default:l(()=>[a(Te,{style:{width:"100%"},"hide-submit":!0})]),_:1})):w("",!0),a(e(P),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{class:"labl-cls"},{default:l(()=>s[19]||(s[19]=[o("Location of ART Initiation")])),_:1,__:[19]}),a(ge,{show_error:k.value,onFacilitySelected:v,selected_district_ids:L.value,selected_location:Y.value},null,8,["show_error","selected_district_ids","selected_location"])]),_:1}),a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>s[20]||(s[20]=[o(" ART Number at Previous Location ")])),_:1,__:[20]}),i("div",Je,[a(W,{placeholder:"Enter previous ART number",inputValue:F.value,"onUpdate:inputValue":G,error:q.value},null,8,["inputValue","error"])]),i("div",null,[q.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(ea))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12"},{default:l(()=>s[21]||(s[21]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[21]})]),_:1})],64))}});const la=J(aa,[["__scopeId","data-v-321af9ef"]]),ta={class:"left-label-item"},sa={key:0},oa={class:"left-label-item"},na={class:"radio-item"},ia={class:"radio-item"},ra="Breastfeeding at initiation is required",ua="Pregnant at initiation is required",da="Date is required",va="Initial weight is required",ca="Initial height is required",_a=M({__name:"InitialHealthStatus",setup(S,{expose:D}){const _=t(""),I=t(!1),p=t(""),c=t(!1),d=t({}),f=t(!1),m=t(""),h=t(!1),C=t(""),B=t(!1),R=N=>{const r=N.target.value;m.value=r,k()},g=N=>{const r=N.target.value;C.value=r,b()},b=()=>{const N=C.value,r=N!==""&&!isNaN(N)&&isFinite(N);B.value=!r},k=()=>{const N=m.value,r=N!==""&&!isNaN(N)&&isFinite(N);h.value=!r};function L(N){const r={day:N.value.day,month:N.value.month,year:N.value.year,formattedDate:N.value.formattedDate};d.value=r,f.value=!1,Y()}function Y(){f.value=!1,Object.keys(d.value).length===0&&(f.value=!0),Object.keys(d.value).length>0&&(f.value=!1)}const z=N=>{A(),N.target.value};function A(){const N=p.value,r=N==="Yes"||N==="No";c.value=!r}const $=N=>{F(),N.target.value};function F(){const N=_.value,r=N==="Yes"||N==="No";I.value=!r}return D({validateAndGetValues:()=>(b(),k(),Y(),F(),A(),{isValid:!h.value&&!B.value&&!f.value&&!I.value&&!c.value,values:{initialWeight:m.value||"",initialHeight:C.value||"",date:Object.keys(d.value).length===0?{}:d.value,breastfeedingAtInitiation:_.value||"",pregnantAtInitiation:p.value||""}})}),(N,r)=>(T(),j(ne,null,[a(e(P),null,{default:l(()=>[a(e(u),{size:"12","size-md":"4"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>r[2]||(r[2]=[o("Date started ART")])),_:1,__:[2]}),a(se,{place_holder:"enter date",onDateUpDated:L,date_prop:"",error:f.value},null,8,["error"]),i("div",null,[f.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(da))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12","size-md":"4"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>r[3]||(r[3]=[o("Initial Weight")])),_:1,__:[3]}),a(W,{placeholder:"enter weight",inputValue:m.value,"onUpdate:inputValue":R,unit:"KG",icon:e(ye),error:h.value},null,8,["inputValue","icon","error"]),i("div",null,[h.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(va))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12","size-md":"4"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>r[4]||(r[4]=[o("Initial Height")])),_:1,__:[4]}),a(W,{placeholder:"enter height",inputValue:C.value,"onUpdate:inputValue":g,unit:"CM",icon:e(me).height,error:B.value},null,8,["inputValue","icon","error"]),i("div",null,[B.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(ca))]),_:1})):w("",!0)])]),_:1}),a(e(u),{size:"12"},{default:l(()=>r[5]||(r[5]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[5]})]),_:1}),a(e(P),{class:"white-background yn-row"},{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(P),null,{default:l(()=>[a(e(u),null,{default:l(()=>[i("div",ta,[a(e(n),{position:"fixed",class:"labl-cls"},{default:l(()=>r[6]||(r[6]=[o("Pregnant at Initiation"),i("span",{class:"required"},"*",-1)])),_:1,__:[6]})])]),_:1}),a(e(u),null,{default:l(()=>[a(e(X),{modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=G=>p.value=G),class:"radio-group",onIonChange:z},{default:l(()=>[i("span",null,[a(e(n),{class:"radio-label"},{default:l(()=>r[7]||(r[7]=[o("Yes")])),_:1,__:[7]}),a(e(O),{class:"radio-btn",slot:"start",value:"Yes"})]),i("span",null,[a(e(n),{class:"radio-label"},{default:l(()=>r[8]||(r[8]=[o("No")])),_:1,__:[8]}),a(e(O),{class:"radio-btn",slot:"start",value:"No"})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),c.value?(T(),j("div",sa,[a(e(n),{class:"error-label"},{default:l(()=>[o(x(ua))]),_:1})])):w("",!0)]),_:1}),a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(P),null,{default:l(()=>[a(e(u),null,{default:l(()=>[i("div",oa,[a(e(n),{position:"fixed",class:"labl-cls"},{default:l(()=>r[9]||(r[9]=[o("Breastfeeding at Initiation:")])),_:1,__:[9]})])]),_:1}),a(e(u),null,{default:l(()=>[a(e(X),{modelValue:_.value,"onUpdate:modelValue":r[1]||(r[1]=G=>_.value=G),class:"radio-group",onIonChange:$},{default:l(()=>[i("span",na,[a(e(O),{class:"radio-btn",value:"Yes"}),a(e(n),{class:"radio-label"},{default:l(()=>r[10]||(r[10]=[o("Yes")])),_:1,__:[10]})]),i("span",ia,[a(e(O),{class:"radio-btn",value:"No"}),a(e(n),{class:"radio-label"},{default:l(()=>r[11]||(r[11]=[o("No")])),_:1,__:[11]})])]),_:1},8,["modelValue"]),I.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(ra))]),_:1})):w("",!0)]),_:1})]),_:1})]),_:1}),a(e(u),{size:"12"},{default:l(()=>r[12]||(r[12]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[12]})]),_:1})],64))}});const fa=J(_a,[["__scopeId","data-v-fa15ac6a"]]),pa=M({__name:"TB",setup(S,{expose:D}){const _=[{name:"No TB"},{name:"TB suspected"},{name:"TB confirmed"},{name:"On TB treatment"}],I=[{name:"Never on TPT"},{name:"Currently on TPT"},{name:"Completed TPT"},{name:"Stopped TPT"}],p=t(null),c=t(null),d=t(!1);function f(g){c.value=g,d.value=!1}function m(){c.value===null||c.value===""?d.value=!0:d.value=!1}const h=t(!1);function C(g){p.value=g,h.value=!1,B()}function B(){p.value===null||p.value===""?h.value=!0:h.value=!1}return D({validateAndGetValues:()=>(B(),m(),{isValid:!h.value&&!d.value,values:{initialTBStatus:p.value,tptHistory:c.value}})}),(g,b)=>(T(),H(e(P),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>b[6]||(b[6]=[o("Initial TB Status")])),_:1,__:[6]}),a(e(le),{modelValue:p.value,"onUpdate:modelValue":[b[0]||(b[0]=k=>p.value=k),b[1]||(b[1]=k=>C(k))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"",selectLabel:"",label:"name",searchable:!0,onSearchChange:b[2]||(b[2]=()=>{}),"track-by":"assigned_id",options:_,disabled:!1,class:te({"error-state":h.value})},null,8,["modelValue","class"]),i("div",null,[h.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>b[7]||(b[7]=[o(x("Select Initial TB Status"))])),_:1,__:[7]})):w("",!0)])]),_:1}),a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>b[8]||(b[8]=[o("TPT History")])),_:1,__:[8]}),a(e(le),{modelValue:c.value,"onUpdate:modelValue":[b[3]||(b[3]=k=>c.value=k),b[4]||(b[4]=k=>f(k))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"",selectLabel:"",label:"name",searchable:!0,onSearchChange:b[5]||(b[5]=()=>{}),"track-by":"assigned_id",options:I,disabled:!1,class:te({"error-state":d.value})},null,8,["modelValue","class"]),i("div",null,[d.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>b[9]||(b[9]=[o(x("Select Initial TB Status"))])),_:1,__:[9]})):w("",!0)])]),_:1}),a(e(u),{size:"12"},{default:l(()=>b[10]||(b[10]=[i("hr",{style:{border:"none","border-top":"2px dashed gray","margin-top":"10px"}},null,-1)])),_:1,__:[10]})]),_:1}))}});const ma=J(pa,[["__scopeId","data-v-6c8cc5a3"]]),ga={style:{"margin-top":"-5px"}},ba="Date is required",ya=M({__name:"HIVConfirmation",setup(S,{expose:D}){const _=t(!1),I=t(null),p=t([]),c=t({}),d=t(null),f=t(!1),m=t({}),h=t(!1),C=[{name:"Rapid antibody test",value:"HIV rapid test"},{name:"DNA PCR",value:"HIV DNA polymerase chain reaction"},{name:"Not done",value:"Not done",disabled:"f.has_linkage_code === 'Yes'"}],B=z=>{I.value=z.selected_location,R()};function R(){I.value?_.value=!1:_.value=!0}function g(z){d.value=z,f.value=!1,b()}function b(){d.value===null||d.value===""?f.value=!0:f.value=!1}function k(z){const A={day:z.value.day,month:z.value.month,year:z.value.year,formattedDate:z.value.formattedDate};m.value=A,h.value=!1,L()}function L(){h.value=!1,Object.keys(m.value).length===0&&(h.value=!0),Object.keys(m.value).length>0&&(h.value=!1)}return D({validateAndGetValues:()=>{b(),R(),L();const z=!f.value&&!_.value;return h.value,{isValid:z,values:{confirmatoryTest:d.value,facilityData:I.value,date:m.value}}}}),(z,A)=>(T(),j(ne,null,[a(e(P),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>A[3]||(A[3]=[o(" Confirmatory Test ")])),_:1,__:[3]}),a(e(le),{modelValue:d.value,"onUpdate:modelValue":[A[0]||(A[0]=$=>d.value=$),A[1]||(A[1]=$=>g($))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"",placeholder:"",selectLabel:"",label:"name",searchable:!0,onSearchChange:A[2]||(A[2]=()=>{}),"track-by":"name",options:C,disabled:!1,class:te({"error-state":f.value})},null,8,["modelValue","class"]),i("div",null,[f.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>A[4]||(A[4]=[o(x("Select Confirmatory Test"))])),_:1,__:[4]})):w("",!0)])]),_:1}),a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{class:"labl-cls"},{default:l(()=>A[5]||(A[5]=[o("Location of ART Initiation")])),_:1,__:[5]}),i("div",ga,[a(ge,{show_error:_.value,onFacilitySelected:B,selected_district_ids:p.value,selected_location:c.value},null,8,["show_error","selected_district_ids","selected_location"])])]),_:1})]),_:1}),a(e(P),null,{default:l(()=>[a(e(u),{size:"12","size-md":"6"},{default:l(()=>[a(e(n),{position:"stacked",class:"labl-cls"},{default:l(()=>A[6]||(A[6]=[o(" Confirmatory HIV Test Date ")])),_:1,__:[6]}),a(se,{place_holder:"enter date",onDateUpDated:k,date_prop:"",error:h.value},null,8,["error"]),i("div",null,[h.value?(T(),H(e(n),{key:0,class:"error-label"},{default:l(()=>[o(x(ba))]),_:1})):w("",!0)])]),_:1})]),_:1})],64))}});const Va=J(ya,[["__scopeId","data-v-2d2a666e"]]),ha=M({__name:"HIVClinicRegistration",setup(S){t({arvNumber:"",registrationDate:"",agreesToFollowUp:"No",everReceivedARVs:"Yes",dateLastTakenARVs:"",everRegisteredAtARTClinic:"No",locationOfARTInitiation:"",artNumberAtPreviousLocation:"",dateStartedART:"",initialWeight:"",initialHeight:"",pregnantAtInitiation:"No",breastfeedingAtInitiation:"No",initialTBStatus:"",tptHistory:"",htsLinkageNumber:"",confirmatoryTest:"",locationOfConfirmatoryTest:"",confirmatoryHIVTestDate:""});const D=pe();fe(D);const _=t(),I=t(),p=t(),c=t(),d=t(),f=t();async function m(){h(),C(),B(),R(),g(),b()}const h=async()=>{const k=await _.value.validateLinkageCode();k.isValid&&(console.log("Valid number:",k.formattedNumber),console.log("Raw number:",k.linkageNumber),console.log("Message:",k.message))},C=()=>{try{const k=I.value.validateAndGetValues();k!=null&&k.isValid?(console.log("ARV Number:",k.values.arvNumber),console.log("Date:",k.values.date)):console.log("Validation failed")}catch(k){}},B=()=>{p.value.validateAndGetValues()},R=()=>{c.value.validateAndGetValues()},g=()=>{f.value.validateAndGetValues()},b=()=>{d.value.validateAndGetValues()};return(k,L)=>{const Y=Ve("ion-button");return T(),H(e(ke),null,{default:l(()=>[a(e(ce),null,{default:l(()=>[a(e(ve),{class:"ion-text-left"},{default:l(()=>L[0]||(L[0]=[i("span",{style:{color:"gray","font-size":"20px","font-weight":"600","margin-left":"10px"}}," HIV Clinic Registration ",-1)])),_:1,__:[0]})]),_:1}),a(e(_e),null,{default:l(()=>[a(e(he),null,{default:l(()=>[a(Ue,{ref_key:"artIdentificationRef",ref:I},null,512),a(la,{ref_key:"artHistoryRef",ref:p},null,512),a(fa,{ref_key:"initiialHealthStatusRef",ref:c},null,512),a(ma,{ref_key:"tbRef",ref:f},null,512),a(Be,{ref_key:"linkageNumberRef",ref:_},null,512),a(Va,{ref_key:"HIVConfirmationRef",ref:d},null,512),a(e(P),{class:"ion-margin-top"},{default:l(()=>[a(e(u),null,{default:l(()=>[a(Y,{expand:"block",color:"success",onClick:m},{default:l(()=>L[1]||(L[1]=[o("Submit Registration")])),_:1,__:[1]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});const xa=J(ha,[["__scopeId","data-v-7de4dd5a"]]);export{xa as default};
