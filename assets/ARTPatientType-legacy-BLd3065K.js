System.register(["./vendor-legacy-CFX0KWSj.js","./index-legacy-D84VBdSl.js","./lodash-legacy-pOOc9Efu.js","./patient_type_service-legacy-CgC1WCH3.js","./SelectFacility-legacy-xLTNWrs-.js","./BasicRadioSelect-legacy-b6SsoxlA.js","./app_encounter_service-legacy-Cxa6AD1t.js"],function(e,t){"use strict";var a,l,n,i,p,r,s,u,y,c,d,o,v,T,_,f,g,m,F,P,h,w,b,j,x;return{setters:[e=>{a=e.d,l=e.r,n=e.cZ,i=e.a,p=e.y,r=e.f,s=e.z,u=e.l,y=e.u,c=e.aY,d=e.bm,o=e.m,v=e.aa,T=e.ab,_=e.k,f=e.A,g=e.a$},e=>{m=e.P,F=e.t,P=e.j,h=e._},e=>{w=e.l},e=>{b=e.P},e=>{j=e.S},e=>{x=e.B},null],execute:function(){var t=document.createElement("style");t.textContent="ion-note[data-v-98d98bfd]{font-weight:700;color:red;font-style:italic;padding:10px}\n/*$vite$:1*/",document.head.appendChild(t),e("default",h(a({__name:"ARTPatientType",setup(e,{expose:t}){const a=l(!1),h=l([]);l([]);const S=new m,q=new b(S.getID(),-1),$=l({}),A=n({patientType:null,prevType:null,transerFacility:null});function I(){return $.value={},A.patientType||($.value.patientType="Patient type is required",F("Patient type is required")),/new patient/i.test(A.patientType)||A.patientType===A.prevType||A.transerFacility||($.value.transerFacility="Facility is required",F("Facility is required")),w.isEmpty($.value)}return i(()=>{a.value=!0,h.value=b.getPatientTypes(),q.loadPatientType().then(()=>{const e=q.getType();e&&!/n\/a/i.test(e)&&(A.prevType=q.getType(),A.patientType=q.getType())}).finally(()=>{a.value=!1})}),t({validateAll:I,onSubmit:async function(e=null){var t;if(A.patientType===A.prevType)return!0;if(!I())return!1;const a=new b(null!=e?e:S.getID(),-1);a.setPatientType(A.patientType),a.setLocationName((null===(t=A.transerFacility)||void 0===t?void 0:t.name)||"");try{return await a.save()?(P("Patient type saved successfully"),!0):(F("Failed to save patient type"),!1)}catch(l){return F(`Failed to save patient type: ${l}`),!1}}}),(e,t)=>(r(),p(y(g),null,{default:s(()=>[u(y(c),null,{default:s(()=>[u(y(d),null,{default:s(()=>[u(y(v),null,{default:s(()=>[u(y(T),null,{default:s(()=>[u(x,{required:"",label:"Patient Type",modelValue:A.patientType,"onUpdate:modelValue":t[0]||(t[0]=e=>A.patientType=e),options:h.value},null,8,["modelValue","options"])]),_:1})]),_:1}),A.prevType===A.patientType||/new patient/i.test(A.patientType)?o("",!0):(r(),p(y(v),{key:0},{default:s(()=>[u(y(T),null,{default:s(()=>[t[2]||(t[2]=_("h2",{style:{"font-weight":"bold",margin:"12px"}},[f("Facility "),_("span",{style:{color:"red"}},"*")],-1)),u(j,{show_error:!1,selected_district_ids:[],selected_location:null,onFacilitySelected:t[1]||(t[1]=e=>{A.transerFacility=e.selected_location})})]),_:1,__:[2]})]),_:1}))]),_:1})]),_:1})]),_:1}))}}),[["__scopeId","data-v-98d98bfd"]]))}}});
