import{d as w,r as e,b1 as i,a as k,n as I,E as R,y as T,f as p,z as r,e as E,m as O,l,k as a,u as c,a9 as x,c3 as m,p as C,af as M,c6 as V}from"./vendor--FxeD1z3.js";import{H as S,b as A,T as B,z as N,t as P,f as $,_ as z}from"./index-HMs23-uU.js";import{u as G}from"./StockStore-DSzhUyAS.js";import{u as H}from"./StartEndDate-B5l2OZHF.js";import{O as J}from"./OfflineMoreDetailsModal-BW6pm53E.js";import"./lodash-Dt8AsbQm.js";import"./FollowUpStore-CyUWdowe.js";import"./BasicForm-BTjeLnz-.js";import"./DateInputField-DBKU4Ew5.js";import"./previousVitals-pJFw2Kz2.js";import"./apexcharts-CTtppnOG.js";import"./SvgDynamicColor-DIVkzYvf.js";import"./customDatePicker.vue_vue_type_style_index_0_lang-BfPMxtBJ.js";import"./SetRelationship.vue_vue_type_script_lang-DQlbj0v8.js";import"./relations_service-Ck2DRxPJ.js";const j={key:0,class:"spinner-overlay"},F={class:"container"},L={class:"table-responsive"},W=w({__name:"OfflineRecords",setup(q){const d=e([]);e([]),e([]),e(S.sessionDate()),e(S.sessionDate()),e("all");const n=e(!1),u=e(null),b=G(),_=H(),{stock:K}=i(b),{startEndDate:Q}=i(_),g=A(),{offlineVillageStatus:U,offlineCountriesStatus:X,offlineDistrictStatus:Y,offlineTAsStatus:Z,offlineRelationshipStatus:tt,offlinePatientsStatus:at}=i(g),h={responsive:!0,select:!1,layout:{topStart:null,topEnd:"search",bottomStart:"info",bottomEnd:"paging"}},f=async()=>{n.value=!0;try{const s=await N("patientRecords");d.value=s.map(t=>["".concat(t.personInformation.given_name," ").concat(t.personInformation.family_name),t.ID,t.saveStatusPersonInformation,t.saveStatusBirthRegistration,t.saveStatusGuardianInformation,"","",'<button class="btn btn-sm btn-primary edit-btn" data-id=\''.concat(JSON.stringify(t),"'>More details</button>")]),m.use(V)}catch(s){P("An error occurred while loading data.")}finally{n.value=!1}},v=s=>{D(JSON.parse(s))},y=async s=>{console.log("Deleting item with id: ".concat(s))},D=async s=>{await $(J,{class:"fullScreenModal"},!0,{clientData:s})==="dismiss"&&await f()};return k(async()=>{await f(),I(()=>{const s=u.value.dt;s.columns.adjust().draw(),s.on("click",".edit-btn",t=>{const o=t.target.getAttribute("data-id");v(o)}),s.on("click",".delete-btn",t=>{const o=t.target.getAttribute("data-id");y(o)})})}),(s,t)=>{const o=R("ion-spinner");return p(),T(c(M),{class:C({loading:n.value})},{default:r(()=>[n.value?(p(),E("div",j,[l(o,{name:"bubbles"}),t[0]||(t[0]=a("div",{class:"loading-text"},"Please wait...",-1))])):O("",!0),l(B),l(c(x),null,{default:r(()=>[a("div",F,[t[2]||(t[2]=a("h4",{style:{width:"100%","text-align":"center","font-weight":"700"}},"Offline Records Status",-1)),a("div",L,[l(c(m),{ref_key:"dataTable",ref:u,options:h,data:d.value,class:"display nowrap",width:"100%"},{default:r(()=>t[1]||(t[1]=[a("thead",null,[a("tr",null,[a("th",null,"Full Name"),a("th",null,"ID"),a("th",null,"Personal Info Status"),a("th",null,"Birth Registration Status"),a("th",null,"Guardian Info Status"),a("th",null,"Vitals Status"),a("th",null,"Vaccine Admin Status"),a("th",null,"Action")])],-1)])),_:1,__:[1]},8,["data"])])])]),_:1})]),_:1},8,["class"])}}}),_t=z(W,[["__scopeId","data-v-25b4a8c6"]]);export{_t as default};
