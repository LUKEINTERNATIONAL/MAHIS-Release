import{l as i,a as c}from"./report_service-8cb5a53a.js";import{_ as u}from"./ReportTable.vue_vue_type_style_index_0_lang-cd0b3a84.js";import{R as d}from"./regimens-494dea9f.js";import{V as f}from"./viral_load_report_service-f166a4bb.js";import{d as v,r as t,c as V,e as L,y as h}from"./vendor-f0c1ba93.js";import"./index-d685d767.js";import"./lodash-7be49fbd.js";import"./apexcharts-0cef6c52.js";import"./chartjs-d1716a5c.js";import"./barcode-qrcode-reader-dfc91474.js";import"./age_groups-8203d13f.js";const S=v({__name:"ViralLoadReport",setup(_){const l=t([]),o=t(),r=t(),n=t("-"),s=[{path:"ageGroup",label:"Age Group"},...d.map(a=>({path:a,label:a})),{path:"N/A",label:"Uknown"}],p=V(()=>[{id:"minVL",placeholder:"Min Viral Load",type:"number",value:o.value,required:!1},{id:"maxVL",placeholder:"Max Viral Load",type:"number",value:r.value,required:!1}]);async function m(a){await i.show();try{o.value=a.minVL,r.value=a.maxVL;const e=new f;e.setStartDate(a.dateRange.startDate),e.setEndDate(a.dateRange.endDate),n.value=e.getDateIntervalPeriod(),l.value=await e.getViralLoad({from:o.value,to:r.value})}catch(e){c("Unable to load report data"),console.error(e)}await i.hide()}return(a,e)=>(L(),h(u,{title:"MoH Viral Load Report","report-type":"MoH",columns:s,rows:l.value,period:n.value,"show-indices":"","use-date-range-filter":"","custom-filters":p.value,onGenerate:m},null,8,["rows","period","custom-filters"]))}});export{S as default};
