System.register(["./index-legacy-unvDqy13.js"],function(e,t){"use strict";var n,a,o;return{setters:[e=>{n=e.aH,a=e.H,o=e.J}],execute:function(){async function t(e,t,a,o=""){const l=await n.getConceptID(e.name,!0);if("coded"===e.valueType){const e=await n.getConceptID(t,!0);return o?{concept_id:l,value_coded:e,obs_datetime:a,child:[{concept_id:l,value_text:o,obs_datetime:a}]}:{concept_id:l,value_coded:e,obs_datetime:a}}return"text"===e.valueType?{concept_id:l,value_text:t,obs_datetime:a}:"number"===e.valueType?{concept_id:l,value_numeric:t,obs_datetime:a}:null}e({a:async function(e,n=a.sessionDate(),o=""){const l=e.map(async e=>{var a;return null!=e&&null!==(a=e.data)&&void 0!==a&&a.rowData?Promise.all(e.data.rowData[0].colData.map(async e=>{let a=[];if(e.isMultiSelect&&null!=e&&e.value)a=await Promise.all(null==e?void 0:e.value.map(async a=>await t(e,a.concept_id,n,o)));else if(e.isSingleSelect){var l;a=null==e||null===(l=e.value)||void 0===l?void 0:l.name}else a=null==e?void 0:e.value;return e.buildConceptIgnore||!a?null:"object"==typeof a?a:await t(e,a,n)})).then(e=>e.filter(Boolean)):[]});return(await Promise.all(l)).flat().flat()},b:async function(e,t=n.getSessionDate(),a=[]){const o=e.map(async e=>{var a;if(e&&e.groupedRadioBtnContent&&e.groupedRadioBtnContent.groupedData&&null!==(a=e.groupedRadioBtnContent.groupedData[0])&&void 0!==a&&null!==(a=a.header)&&void 0!==a&&a.selectedValue){var o,l;const a=await n.getConceptID(null===(o=e.groupedRadioBtnContent.groupedData[0])||void 0===o||null===(o=o.header)||void 0===o?void 0:o.selectedValue,!0);return{concept_id:await n.getConceptID(null===(l=e.groupedRadioBtnContent.groupedData[0])||void 0===l||null===(l=l.header)||void 0===l?void 0:l.name,!0),value_coded:a,obs_datetime:t||n.getSessionDate()}}return null});return(await Promise.all(o)).filter(e=>null!==e)},c:async function(e,t=n.getSessionDate(),a=[]){return Array.isArray(e)?(await Promise.all(e.map(async l=>{var i;if(null==l||null===(i=l.checkboxBtnContent)||void 0===i||null===(i=i.data)||void 0===i||!i.length)return[];const r=l.checkboxBtnContent.data.map(async i=>{if(null==i||!i.checked||null!=i&&i.buildConceptIgnore)return null;try{const r=await n.getConceptID(i.value,!0),d=await n.getConceptID(l.checkboxBtnContent.header.name,!0),c=o(e,i.name+" date","value");if(t=c||t,!r||!d)return null;const u={concept_id:d,value_coded:r,obs_datetime:t};if(a.length>0){const e=a.map(e=>({concept_id:r,value_coded:e.drug_inventory_id,obs_datetime:t}));return{...u,child:e}}return u}catch(r){return console.error("Error processing checkbox data:",r),null}});return(await Promise.all(r)).filter(Boolean)}))).flat().filter(Boolean):[]},f:async function(e,t=n.getSessionDate(),a=[]){const l=e.map(async l=>{if(l&&l.radioBtnContent&&l.radioBtnContent.header&&l.radioBtnContent.header.selectedValue){const i=await n.getConceptID(l.radioBtnContent.header.selectedValue,!0),r=await n.getConceptID(l.radioBtnContent.header.name,!0),d=o(e,l.radioBtnContent.header.name+" date","value")||t,c=a.map(e=>({concept_id:i,value_coded:e.drug_inventory_id,obs_datetime:d}));return a?{concept_id:r,value_coded:i,obs_datetime:d,child:c}:{concept_id:r,value_coded:i,obs_datetime:d}}return null});return(await Promise.all(l)).filter(e=>null!==e)}})}}});
