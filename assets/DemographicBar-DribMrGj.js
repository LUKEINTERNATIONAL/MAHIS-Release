import{d as h,ar as q,a$ as R,r as f,w as J,a as K,E as Q,y as X,f as g,z as Y,k as o,e as j,u as t,A as r,B as n,l as Z,dw as ee,I as oe}from"./vendor-D2vbv48U.js";import{u as le,o as ne,aD as se,P as re,b7 as te,b8 as p,H as b,b9 as ie,_ as ae}from"./index-BKKrZstI.js";const ue={style:{width:"97%",overflow:"scroll"}},me={key:0,class:"second_bar_list"},de={key:1,class:"second_bar_list"},pe=h({__name:"DemographicBar",emits:["openPopover"],setup(ve,{emit:z}){const E=z;q();const F=le(),L=ne(),{patient:l}=R(F),{activeProgram:O,authorizedPrograms:ce}=R(L),u=f({}),I=f(""),c=f(),W=async(s,e)=>{var m,i,a,v;if((m=l==null?void 0:l.value.personInformation)!=null&&m.gender&&((i=l==null?void 0:l.value.personInformation)!=null&&i.birthdate)){const d=await ie.getBMI(parseInt(s),parseInt(e),(a=l==null?void 0:l.value.personInformation)==null?void 0:a.gender,b.calculateAge((v=l==null?void 0:l.value.personInformation)==null?void 0:v.birthdate,b.sessionDate()));I.value=d==null?void 0:d.index}},B=async()=>{let s=se("vitals");c.value=new re().getBloodGlucose(l.value);const e=te(s);u.value={weight:p(e,"Weight (kg)","value_numeric"),height:p(e,"Height (cm)","value_numeric"),temperature:p(e,"Temperature (c)","value_numeric"),pulse:p(e,"Pulse","value_numeric"),diastolic:p(e,"Diastolic blood pressure","value_numeric"),systolic:p(e,"Systolic blood pressure","value_numeric")},await W(u.value.weight,u.value.height)},y=()=>{var s,e;return b.getBirthdateAge((e=(s=l.value)==null?void 0:s.personInformation)==null?void 0:e.birthdate)},U=s=>{var m,i,a;return[(m=s==null?void 0:s.personInformation)==null?void 0:m.current_district,(i=s==null?void 0:s.personInformation)==null?void 0:i.current_traditional_authority,(a=s==null?void 0:s.personInformation)==null?void 0:a.current_village].filter(Boolean).join(",")};return J(()=>l,async()=>{await B()},{deep:!0}),K(async()=>{await B()}),(s,e)=>{const m=Q("ion-card");return g(),X(m,{class:"second_bar",style:{display:"flex"}},{default:Y(()=>{var i,a,v,d,D,w,_,N,C,P,S,k,x,M,A,G,V,T,H;return[o("div",ue,[t(O).program_id==32?(g(),j("ul",me,[o("li",null,[e[1]||(e[1]=r(" NCDNumber: ")),o("b",null,n((i=t(l))==null?void 0:i.NcdID),1)]),o("li",null,[e[2]||(e[2]=r(" Birthday: ")),o("b",null,n(y()),1)]),o("li",null,[e[3]||(e[3]=r(" Gender: ")),o("b",null,n((v=(a=t(l))==null?void 0:a.personInformation)==null?void 0:v.gender),1)]),o("li",null,[e[4]||(e[4]=r(" Blood Pressure: ")),o("b",null,n((d=u.value)==null?void 0:d.systolic)+"/"+n((D=u.value)==null?void 0:D.diastolic),1)]),o("li",null,[e[5]||(e[5]=r(" Blood Glucose: ")),o("b",null,n((w=c.value)==null?void 0:w.value)+" "+n((_=c.value)==null?void 0:_.unit),1)]),o("li",null,[e[6]||(e[6]=r(" BMI: ")),o("b",null,n(I.value),1)]),o("li",null,[e[7]||(e[7]=r(" Pulse rate: ")),o("b",null,n((N=u.value)==null?void 0:N.pulse),1)]),o("li",null,[e[8]||(e[8]=r(" Temperature: ")),o("b",null,n((C=u.value)==null?void 0:C.temperature),1)])])):(g(),j("ul",de,[o("li",null,[e[9]||(e[9]=r(" Fullname: ")),o("b",null,n((S=(P=t(l))==null?void 0:P.personInformation)==null?void 0:S.given_name)+" "+n((x=(k=t(l))==null?void 0:k.personInformation)==null?void 0:x.middle_name)+" "+n((A=(M=t(l))==null?void 0:M.personInformation)==null?void 0:A.family_name),1)]),o("li",null,[e[10]||(e[10]=r(" NCDNumber: ")),o("b",null,n((G=t(l))==null?void 0:G.NcdID),1)]),o("li",null,[e[11]||(e[11]=r(" MRN: ")),o("b",null,n((V=t(l))==null?void 0:V.ID),1)]),o("li",null,[e[12]||(e[12]=r(" Birthday: ")),o("b",null,n(y()),1)]),o("li",null,[e[13]||(e[13]=r(" Gender: ")),o("b",null,n((H=(T=t(l))==null?void 0:T.personInformation)==null?void 0:H.gender),1)]),o("li",null,[e[14]||(e[14]=r(" Address: ")),o("b",null,n(U(t(l))),1)])]))]),o("div",{style:{"margin-top":"15px",cursor:"pointer"},onClick:e[0]||(e[0]=$=>E("openPopover",$))},[Z(t(oe),{icon:t(ee)},null,8,["icon"])])]}),_:1})}}}),be=ae(pe,[["__scopeId","data-v-55d0738c"]]);export{be as D};
