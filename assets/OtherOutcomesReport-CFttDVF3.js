import{p as h,e as i,d as _,z as b,l as c,a as v}from"./index-BCcyz-uj.js";import{g,R as D}from"./ReportTable-BkMMfyR7.js";import{P as w}from"./program_report_service-BWmyc6az.js";import{d as O,r,c as l,y as R,f as y}from"./vendor-BEKTmkXc.js";import"./lodash-Dt8AsbQm.js";import"./apexcharts-BW0LSm5R.js";import"./chartjs-BUeEi5jn.js";import"./barcode-qrcode-reader-o0mSiBQi.js";import"./report_service-BAC2IhjH.js";const k=O({__name:"OtherOutcomesReport",setup(S){const s=r("-"),o=r(""),n=r([]),p=l(()=>"".concat(o.value||"Other Outcomes"," Clinic Report")),u=[g("patient_id")],m=l(()=>{const t=[{path:"identifier",label:"ARV Number",preSort:h,initialSort:!0},{path:"given_name",label:"First Name"},{path:"family_name",label:"Last Name"},{path:"birthdate",label:"Date of Birth",formatter:i},{path:"gender",label:"Gender",formatter:_},{path:"outcome_date",label:"Outcome Date",formatter:i}];return/transfer/i.test(o.value)&&t.push({path:"transferred_out_to",label:"TO Location"}),t}),d=[{id:"outcome",label:"Select Outcome",type:"select",options:b(["Transfer Out","Died","Stopped"])}];async function f(t){var a;await c.show();try{const e=new w;o.value=t.outcome,e.setStartDate(t.dateRange.startDate),e.setEndDate(t.dateRange.endDate),e.setOccupation(t.occupation),s.value=e.getDateIntervalPeriod(),n.value=(a=await e.getReport("patient_outcome_list",{outcome:o.value}))!=null?a:[]}catch(e){v("Unable to load report data"),console.error(e)}await c.hide()}return(t,a)=>(y(),R(D,{"report-type":"Clinic",title:p.value,columns:m.value,rows:n.value,period:s.value,"row-action-buttons":u,"custom-filters":d,"use-date-range-filter":"","use-secure-export":"",onGenerate:f},null,8,["title","columns","rows","period"]))}});export{k as default};
