System.register(["./index-legacy-BXpyZFmT.js"],function(e,t){"use strict";var n,a,l;return{setters:[e=>{n=e.a1,a=e.H,l=e.x}],execute:function(){async function t(e,t,a,l=""){const o=await n.getConceptID(e.name,!0);if("coded"===e.valueType){const e=await n.getConceptID(t,!0);return l?{concept_id:o,value_coded:e,obs_datetime:a,child:[{concept_id:o,value_text:l,obs_datetime:a}]}:{concept_id:o,value_coded:e,obs_datetime:a}}return"text"===e.valueType?{concept_id:o,value_text:t,obs_datetime:a}:"number"===e.valueType?{concept_id:o,value_numeric:t,obs_datetime:a}:null}e({a:async function(e,t=n.getSessionDate(),a=[]){const o=e.map(async o=>{if(o&&o.radioBtnContent&&o.radioBtnContent.header&&o.radioBtnContent.header.selectedValue){const i=await n.getConceptID(o.radioBtnContent.header.selectedValue,!0),r=await n.getConceptID(o.radioBtnContent.header.name,!0),u=l(e,o.radioBtnContent.header.name+" date","value")||t,d=a.map(e=>({concept_id:i,value_coded:e.drug_inventory_id,obs_datetime:u}));return a?{concept_id:r,value_coded:i,obs_datetime:u,child:d}:{concept_id:r,value_coded:i,obs_datetime:u}}return null});return(await Promise.all(o)).filter(e=>null!==e)},b:async function(e,t=n.getSessionDate(),a=[]){const l=e.map(async e=>{var a;if(e&&e.groupedRadioBtnContent&&e.groupedRadioBtnContent.groupedData&&null!==(a=e.groupedRadioBtnContent.groupedData[0])&&void 0!==a&&null!==(a=a.header)&&void 0!==a&&a.selectedValue){var l,o;const a=await n.getConceptID(null===(l=e.groupedRadioBtnContent.groupedData[0])||void 0===l||null===(l=l.header)||void 0===l?void 0:l.selectedValue,!0);return{concept_id:await n.getConceptID(null===(o=e.groupedRadioBtnContent.groupedData[0])||void 0===o||null===(o=o.header)||void 0===o?void 0:o.name,!0),value_coded:a,obs_datetime:t||n.getSessionDate()}}return null});return(await Promise.all(l)).filter(e=>null!==e)},c:async function(e,t=n.getSessionDate(),a=[]){return Array.isArray(e)?(await Promise.all(e.map(async o=>{var i;if(null==o||null===(i=o.checkboxBtnContent)||void 0===i||null===(i=i.data)||void 0===i||!i.length)return[];const r=o.checkboxBtnContent.data.map(async i=>{if(null==i||!i.checked||null!=i&&i.buildConceptIgnore)return null;try{const r=await n.getConceptID(i.value,!0),u=await n.getConceptID(o.checkboxBtnContent.header.name,!0),d=l(e,i.name+" date","value");if(t=d||t,!r||!u)return null;const c={concept_id:u,value_coded:r,obs_datetime:t};if(a.length>0){const e=a.map(e=>({concept_id:r,value_coded:e.drug_inventory_id,obs_datetime:t}));return{...c,child:e}}return c}catch(r){return console.error("Error processing checkbox data:",r),null}});return(await Promise.all(r)).filter(Boolean)}))).flat().filter(Boolean):[]},d:async function(e,n=a.sessionDate(),l=""){const o=e.map(async e=>{var a,o;return null!=e&&null!==(a=e.checkboxBtnContent)&&void 0!==a&&null!==(a=a.inputFields)&&void 0!==a&&a.length?Promise.all(null==e||null===(o=e.checkboxBtnContent)||void 0===o?void 0:o.inputFields.map(async e=>{let a=[];var o;if(e.isMultiSelect&&null!=e&&e.value)a=await t(e,null==e||null===(o=e.value)||void 0===o?void 0:o.name,n,l);else if(e.isSingleSelect){var i;a=null==e||null===(i=e.value)||void 0===i?void 0:i.name}else a=null==e?void 0:e.value;return e.buildConceptIgnore||!a?null:"object"==typeof a?a:await t(e,a,n)})).then(e=>e.filter(Boolean)):[]});return(await Promise.all(o)).flat().flat()},f:async function(e,n=a.sessionDate(),l=""){const o=e.map(async e=>{var a;return null!=e&&null!==(a=e.data)&&void 0!==a&&a.rowData?Promise.all(e.data.rowData[0].colData.map(async e=>{let a=[];if(e.isMultiSelect&&null!=e&&e.value)a=await Promise.all(null==e?void 0:e.value.map(async a=>await t(e,a.concept_id,n,l)));else if(e.isSingleSelect){var o;a=null==e||null===(o=e.value)||void 0===o?void 0:o.name}else a=null==e?void 0:e.value;return e.buildConceptIgnore||!a?null:"object"==typeof a?a:await t(e,a,n)})).then(e=>e.filter(Boolean)):[]});return(await Promise.all(o)).flat().flat()}})}}});
