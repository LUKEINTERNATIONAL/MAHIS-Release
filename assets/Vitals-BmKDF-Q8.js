import{d as y,ar as C,cl as I,r as d,b2 as f,y as P,f as v,z as m,e as V,m as B,l as a,k as t,u as s,bN as D,ah as w,bG as p,bg as x,an as N}from"./vendor-D_pL91wi.js";import{u as T,a4 as A,T as O,D as c,l as R,U as S,n as L,_ as $}from"./index-DK5fJS4G.js";import{D as U}from"./DemographicBar-B7l3eQdo.js";import{_ as z}from"./Vitals.vue_vue_type_script_setup_true_lang-CrPIA0kF.js";import{S as E}from"./stages-D9ljQ_O9.js";import"./lodash-Dt8AsbQm.js";import"./apexcharts-f-yxlPgg.js";const G={key:0,class:"spinner-overlay"},W={class:"container"},j={class:"vitals-header"},q={class:"back_profile"},F={class:"vitals-content"},H={class:"action-buttons"},J=y({__name:"Vitals",setup(K){const o=C();I();const i=d(!1),_=T(),g=A(),{patient:n}=f(_),{vitals:M}=f(g),l=d(null),h=()=>{o.push("home")},k=()=>{o.push("patientProfile")},b=async()=>{i.value=!0;const r=String(localStorage.getItem("locationID"));try{l.value&&await l.value.onSubmit()&&(await E.movePatientToNextStage(n.value.patientID,"VITALS","CONSULTATION",r,n.value.visitID||n.value.visit_id),await R().refresh(r),S.isClinician()||S.isAdmin()?await o.push("OPDConsultationPlan"):await o.push("patientProfile"))}catch(e){console.error("An unexpected error occurred in saveVitals (parent):",e),L("An unexpected error occurred. Please try again.")}finally{i.value=!1}};return(r,e)=>(v(),P(s(N),null,{default:m(()=>[i.value?(v(),V("div",G,[a(s(D),{name:"bubbles"}),e[3]||(e[3]=t("div",{class:"loading-text"},"Please wait...",-1))])):B("",!0),a(O),a(s(w),{fullscreen:!0},{default:m(()=>[a(U),t("div",W,[t("div",j,[t("div",q,[a(c,{name:"Back to Waiting list",iconSlot:"start",fill:"clear",icon:s(p),"font-weight":"600",onClick:e[0]||(e[0]=u=>h())},null,8,["icon"]),a(c,{name:"Back to Profile",iconSlot:"start",fill:"clear",icon:s(p),"font-weight":"600",onClick:e[1]||(e[1]=u=>k()),style:{"margin-left":"15px"}},null,8,["icon"])]),e[4]||(e[4]=t("div",{class:"vitals-title"},[t("h4",null,"Vital Signs"),t("hr",{class:"title-line"})],-1))]),t("div",F,[a(z,{ref_key:"vitalsRef",ref:l},null,512)]),t("div",H,[a(c,{name:"Save Vitals",iconSlot:"start",fill:"solid",color:"primary",icon:s(x),onClick:e[2]||(e[2]=u=>b()),disabled:i.value},null,8,["icon","disabled"])])])]),_:1})]),_:1}))}}),se=$(J,[["__scopeId","data-v-3d1f63d8"]]);export{se as default};
