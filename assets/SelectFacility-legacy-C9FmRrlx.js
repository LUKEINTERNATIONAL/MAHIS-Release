System.register(["./index-legacy-CPVrS3n3.js","./vendor-legacy-CCRc-I5f.js"],function(e,t){"use strict";var a,l,r,o,n,i,c,s,d,u,v,p,f,m,b,_,h,y,g,w;return{setters:[e=>{a=e.L,l=e._},e=>{r=e.d,o=e.r,n=e.w,i=e.a,c=e.E,s=e.e,d=e.f,u=e.l,v=e.z,p=e.k,f=e.u,m=e.av,b=e.p,_=e.y,h=e.m,y=e.A,g=e.B,w=e.F}],execute:function(){var t=document.createElement("style");t.textContent=".error-label[data-v-fb908692]{background:#fecdca;color:#b42318;text-transform:none;padding:2% 5%;border-radius:10px;margin-top:4px;display:flex;text-align:center}.error-state[data-v-fb908692]{border:none!important;outline:none!important;box-shadow:0 0 0 1px #b42318!important;border-radius:4px}.error-state .multiselect__tags[data-v-fb908692]{border:none!important;box-shadow:none!important}.error-state .multiselect__select[data-v-fb908692]{border:none!important}.error-state.multiselect--active[data-v-fb908692]{border:none!important;box-shadow:0 0 0 1px #b42318!important}\n/*$vite$:1*/",document.head.appendChild(t);const x=r({name:"xxxComponent"}),E=r({...x,props:{show_error:{type:Boolean,default:!1},selected_district_ids:{default:()=>[]},selected_location:{default:null}},emits:["facilitySelected"],setup(e,{emit:t}){const l=o(!1),r=o([]),x=o(null),E=o(null),S=o(!1),F=o([]),k=o(!1),C=o([]),D=o(),V=e;n(()=>V.selected_district_ids,async e=>{try{C.value=await $(),Array.isArray(e)&&e.length>0&&C.value.forEach(t=>{e.forEach(e=>{t.id==e&&(E.value=t)})})}catch(t){console.error("Error in selected_district_ids watch:",t)}},{immediate:!0,deep:!0}),n(()=>V.selected_location,async e=>{try{C.value=await $(),e&&(x.value=e)}catch(t){console.error("Error in selected_location watch:",t)}},{immediate:!0,deep:!0}),i(async()=>{C.value=await $()}),n(()=>V.show_error,()=>{L()});const L=()=>{l.value=V.show_error,S.value=V.show_error};function A(e,t=!1){e&&(t&&(x.value=null,E.value=e),D.value=e.id,F.value=[e.id],async function(e){r.value=[];try{const t=await a.getOfflineDistrictFacilities(e.name.toLowerCase());r.value=t}catch(t){console.error(`Error fetching facilities for district ${e.name}:`,t)}}(e),B({selected_district_ids:D.value,selected_location:null}),S.value=!1)}async function $(){try{return await a.getOfflineFacilityDistricts()}catch(e){return console.error("Error fetching facility districts:",e),[]}}const j=t;function B(e){j("facilitySelected",e)}return(e,t)=>{const a=c("ion-label"),o=c("ion-col"),n=c("ion-row");return d(),s(w,null,[u(n,null,{default:v(()=>[u(o,null,{default:v(()=>[u(f(m),{modelValue:E.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>E.value=e),t[1]||(t[1]=e=>A(e,!0))],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Find and select District",placeholder:"Find and select District",selectLabel:"",label:"name",searchable:!0,onSearchChange:t[2]||(t[2]=()=>{}),"track-by":"id",options:C.value,disabled:k.value,class:b({"error-state":S.value})},null,8,["modelValue","options","disabled","class"]),p("div",null,[S.value?(d(),_(a,{key:0,class:"error-label"},{default:v(()=>t[5]||(t[5]=[y(g("Select district"))])),_:1,__:[5]})):h("",!0)])]),_:1})]),_:1}),u(n,null,{default:v(()=>[u(o,null,{default:v(()=>[u(f(m),{modelValue:x.value,"onUpdate:modelValue":[t[3]||(t[3]=e=>x.value=e),t[4]||(t[4]=e=>{return t=e,x.value=t,void B({selected_district_ids:[D.value],selected_location:x.value});var t})],multiple:!1,taggable:!1,"hide-selected":!0,"close-on-select":!0,openDirection:"bottom","tag-placeholder":"Find and select facility",placeholder:"Find and select facility",selectLabel:"",label:"name",searchable:!0,disabled:k.value,onSearchChange:()=>{},"track-by":"code",options:r.value,class:b({"error-state":S.value})},null,8,["modelValue","disabled","options","class"]),p("div",null,[l.value?(d(),_(a,{key:0,class:"error-label"},{default:v(()=>t[6]||(t[6]=[y(g("Select location"))])),_:1,__:[6]})):h("",!0)])]),_:1})]),_:1})],64)}}});e("S",l(E,[["__scopeId","data-v-fb908692"]]))}}});
