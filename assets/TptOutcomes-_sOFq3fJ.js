import{bL as i,av as r,au as c,bM as u}from"./index-BTSeOqUL.js";import{b as d,T as m}from"./tpt_report_service-C08edLMu.js";import{d as T,r as n,y as _,f as w}from"./vendor-D2vbv48U.js";import"./lodash-Dt8AsbQm.js";import"./apexcharts-D3NY3X_Q.js";import"./age_groups-BkW1n_F5.js";const D=T({__name:"TptOutcomes",setup(b){const a=n("-"),o=n([]),p=[{path:"age_group",label:"Age Group"},{path:"tpt_type",label:"TPT Type"},...Object.entries(d).map(([e,t])=>({path:e,label:t,drillable:!0,sortable:!1}))];async function s(e){try{await r.show();const t=new m;t.setStartDate(e.dateRange.startDate),t.setEndDate(e.dateRange.endDate),t.setOccupation(e.occupation),a.value=t.getDateIntervalPeriod(),o.value=await t.getTtpOutcomes()}catch(t){c("ERROR! Unable to load report data"),console.error(t)}await r.hide()}function l(e){return"".concat(e.column.label," | ").concat(e.row.age_group," | ").concat(u(e.row.tpt_type))}return(e,t)=>(w(),_(i,{title:"TPT Outcomes Clinic Report","report-type":"Clinic",columns:p,rows:o.value,period:a.value,"drill-title":l,"use-date-range-filter":"","show-indices":"",onGenerate:s},null,8,["rows","period"]))}});export{D as default};
